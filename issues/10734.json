{
  "type": "issue",
  "issue": {
    "id": 240193289,
    "node_id": "MDU6SXNzdWUyNDAxOTMyODk=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10734",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10734/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10734/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10734/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/10734",
    "number": 10734,
    "state": "closed",
    "state_reason": "completed",
    "title": "[Question] How to get incoming transaction fee",
    "body": "Hi.\r\n\r\nI have a question I couldn't find an easy solution for it.\r\n\r\nI'm working to automate CPFP (child pays for parent) for incoming stuck transactions and want to make sure that the new transaction will have the fee so the resulting fee per byte will be set to the current network conditions, so the stuck transaction(s) will be quickly confirmed.\r\n\r\nThe problem is I can't determine the fee of the incoming transactions arriving to the wallet via `gettransaction` rpc call.\r\n\r\nHere is an example:\r\n\r\n```\r\n$ ./bitcoin-cli gettransaction yyy\r\n{\r\n  \"amount\": 0.00010000,\r\n  \"confirmations\": 0,\r\n  \"trusted\": false,\r\n  \"txid\": \"yyy\",\r\n  \"walletconflicts\": [\r\n  ],\r\n  \"time\": 1499083856,\r\n  \"timereceived\": 1499083856,\r\n  \"bip125-replaceable\": \"yes\",\r\n  \"details\": [\r\n    {\r\n      \"account\": \"user_123\",\r\n      \"address\": \"xxxxxxxx\",\r\n      \"category\": \"receive\",\r\n      \"amount\": 0.00010000,\r\n      \"label\": \"user_123\",\r\n      \"vout\": 0\r\n    }\r\n  ],\r\n  \"hex\": \"1234567\"\r\n}\r\n```\r\n\r\nBitcoin isn't returning the fee. fee is only returned if I send outgoing transactions.\r\n\r\n Is there any way to determine what fee was set for incoming transaction(s) (via JSON-RPC)?\r\n\r\nThank you.",
    "user": {
      "login": "gituser",
      "id": 104405,
      "node_id": "MDQ6VXNlcjEwNDQwNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/104405?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gituser",
      "html_url": "https://github.com/gituser",
      "followers_url": "https://api.github.com/users/gituser/followers",
      "following_url": "https://api.github.com/users/gituser/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/gituser/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/gituser/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/gituser/subscriptions",
      "organizations_url": "https://api.github.com/users/gituser/orgs",
      "repos_url": "https://api.github.com/users/gituser/repos",
      "events_url": "https://api.github.com/users/gituser/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/gituser/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "assignees": [],
    "author_association": "NONE",
    "locked": true,
    "comments": 6,
    "closed_at": "2017-10-07T14:36:29Z",
    "created_at": "2017-07-03T14:43:06Z",
    "updated_at": "2022-12-11T10:02:30Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 312881872,
      "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjg4MTg3Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/312881872",
      "actor": {
        "login": "Seccour",
        "id": 3265696,
        "node_id": "MDQ6VXNlcjMyNjU2OTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3265696?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Seccour",
        "html_url": "https://github.com/Seccour",
        "followers_url": "https://api.github.com/users/Seccour/followers",
        "following_url": "https://api.github.com/users/Seccour/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Seccour/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Seccour/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Seccour/subscriptions",
        "organizations_url": "https://api.github.com/users/Seccour/orgs",
        "repos_url": "https://api.github.com/users/Seccour/repos",
        "events_url": "https://api.github.com/users/Seccour/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Seccour/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-07-04T13:44:02Z",
      "updated_at": "2017-07-04T13:44:02Z",
      "author_association": "NONE",
      "body": "You will need to use getrawtransaction and then do the math.\r\n\r\nSo using this txid as an example : e198d4b193644116d9df0b9d65c4346a9f4d6214a46ffba8c0b2fd6999eda314\r\n\r\n```\r\n{\r\n\t\"result\": {\r\n\t\t\"hex\": \"0200000001f9516e774026d5cd88e1039d6ce5879ccfe5df3bc43cf4473aa5528bb0687c7d0000000069463043021f547eaf1f48630195efe1c6424e517381ee633d6d245f9dfbae8891e48f3a8f02206d68b6e82f623c2c4c90f06db8803de9e0f44fa5965cd020aa6024fae13ef5a40121033aa5441548b3ba49cc974a0e9e141ffbfcdb70df7015da3fde5f63263bb01c6efeffffff020084d717000000001976a91461281b74375a87a0ed0a63c4b8540fc8cffbbf1988acc79d2112000000001976a914941cae6b6c65cb2b45322c5a1b5c62c14fda124488ac503c0700\",\r\n\t\t\"txid\": \"e198d4b193644116d9df0b9d65c4346a9f4d6214a46ffba8c0b2fd6999eda314\",\r\n\t\t\"hash\": \"e198d4b193644116d9df0b9d65c4346a9f4d6214a46ffba8c0b2fd6999eda314\",\r\n\t\t\"size\": 224,\r\n\t\t\"vsize\": 224,\r\n\t\t\"version\": 2,\r\n\t\t\"locktime\": 474192,\r\n\t\t\"vin\": [\r\n\t\t\t{\r\n\t\t\t\t\"txid\": \"7d7c68b08b52a53a47f43cc43bdfe5cf9c87e56c9d03e188cdd52640776e51f9\",\r\n\t\t\t\t\"vout\": 0,\r\n\t\t\t\t\"scriptSig\": {\r\n\t\t\t\t\t\"asm\": \"3043021f547eaf1f48630195efe1c6424e517381ee633d6d245f9dfbae8891e48f3a8f02206d68b6e82f623c2c4c90f06db8803de9e0f44fa5965cd020aa6024fae13ef5a4[ALL] 033aa5441548b3ba49cc974a0e9e141ffbfcdb70df7015da3fde5f63263bb01c6e\",\r\n\t\t\t\t\t\"hex\": \"463043021f547eaf1f48630195efe1c6424e517381ee633d6d245f9dfbae8891e48f3a8f02206d68b6e82f623c2c4c90f06db8803de9e0f44fa5965cd020aa6024fae13ef5a40121033aa5441548b3ba49cc974a0e9e141ffbfcdb70df7015da3fde5f63263bb01c6e\"\r\n\t\t\t\t},\r\n\t\t\t\t\"sequence\": 4294967294\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"vout\": [\r\n\t\t\t{\r\n\t\t\t\t\"value\": 4.00000000,\r\n\t\t\t\t\"n\": 0,\r\n\t\t\t\t\"scriptPubKey\": {\r\n\t\t\t\t\t\"asm\": \"OP_DUP OP_HASH160 61281b74375a87a0ed0a63c4b8540fc8cffbbf19 OP_EQUALVERIFY OP_CHECKSIG\",\r\n\t\t\t\t\t\"hex\": \"76a91461281b74375a87a0ed0a63c4b8540fc8cffbbf1988ac\",\r\n\t\t\t\t\t\"reqSigs\": 1,\r\n\t\t\t\t\t\"type\": \"pubkeyhash\",\r\n\t\t\t\t\t\"addresses\": [\r\n\t\t\t\t\t\t\"19ribJqiHeVrFiwWb1ogmvVGE646f4acD3\"\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"value\": 3.04192967,\r\n\t\t\t\t\"n\": 1,\r\n\t\t\t\t\"scriptPubKey\": {\r\n\t\t\t\t\t\"asm\": \"OP_DUP OP_HASH160 941cae6b6c65cb2b45322c5a1b5c62c14fda1244 OP_EQUALVERIFY OP_CHECKSIG\",\r\n\t\t\t\t\t\"hex\": \"76a914941cae6b6c65cb2b45322c5a1b5c62c14fda124488ac\",\r\n\t\t\t\t\t\"reqSigs\": 1,\r\n\t\t\t\t\t\"type\": \"pubkeyhash\",\r\n\t\t\t\t\t\"addresses\": [\r\n\t\t\t\t\t\t\"1EW9NCrefefLERJMZK5wAHPYGHtfwkmEvN\"\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"blockhash\": \"00000000000000000142d9a78c0097f291a028006056d3958b987bbb2ce4c391\",\r\n\t\t\"confirmations\": 1,\r\n\t\t\"time\": 1499173533,\r\n\t\t\"blocktime\": 1499173533\r\n\t},\r\n\t\"error\": null,\r\n\t\"id\": null\r\n}\r\n```\r\n\r\nNow what you need to do is to calculate the number of fees, is to look inside vin and take the vout number. So in this example the vout number is 0. And then you go to vout and add the value of all the output together.\r\n\r\nNow you will have to do another getrawtransaction on the vin txid. Which in our example will give us this :\r\n\r\n```\r\n{\r\n\t\"result\": {\r\n\t\t\"hex\": \"...\",\r\n\t\t\"txid\": \"7d7c68b08b52a53a47f43cc43bdfe5cf9c87e56c9d03e188cdd52640776e51f9\",\r\n\t\t\"hash\": \"7d7c68b08b52a53a47f43cc43bdfe5cf9c87e56c9d03e188cdd52640776e51f9\",\r\n\t\t\"size\": 520,\r\n\t\t\"vsize\": 520,\r\n\t\t\"version\": 2,\r\n\t\t\"locktime\": 473652,\r\n\t\t\"vin\": [...],\r\n\t\t\"vout\": [\r\n\t\t\t{\r\n\t\t\t\t\"value\": 7.04418967,\r\n\t\t\t\t\"n\": 0,\r\n\t\t\t\t\"scriptPubKey\": {\r\n\t\t\t\t\t\"asm\": \"OP_DUP OP_HASH160 941cae6b6c65cb2b45322c5a1b5c62c14fda1244 OP_EQUALVERIFY OP_CHECKSIG\",\r\n\t\t\t\t\t\"hex\": \"76a914941cae6b6c65cb2b45322c5a1b5c62c14fda124488ac\",\r\n\t\t\t\t\t\"reqSigs\": 1,\r\n\t\t\t\t\t\"type\": \"pubkeyhash\",\r\n\t\t\t\t\t\"addresses\": [\r\n\t\t\t\t\t\t\"1EW9NCrefefLERJMZK5wAHPYGHtfwkmEvN\"\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"value\": 25.00000000,\r\n\t\t\t\t\"n\": 1,\r\n\t\t\t\t\"scriptPubKey\": {\r\n\t\t\t\t\t\"asm\": \"OP_HASH160 53686151ca689cc39c42c6c63c774ec76ac12856 OP_EQUAL\",\r\n\t\t\t\t\t\"hex\": \"a91453686151ca689cc39c42c6c63c774ec76ac1285687\",\r\n\t\t\t\t\t\"reqSigs\": 1,\r\n\t\t\t\t\t\"type\": \"scripthash\",\r\n\t\t\t\t\t\"addresses\": [\r\n\t\t\t\t\t\t\"39J33vf83H4YdPvnDwiWYBzhoSWqVDhQP9\"\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"blockhash\": \"0000000000000000013602fbbd4791c0f4b7e612d11ccd4d825cc0fc34318f39\",\r\n\t\t\"confirmations\": 541,\r\n\t\t\"time\": 1498901391,\r\n\t\t\"blocktime\": 1498901391\r\n\t},\r\n\t\"error\": null,\r\n\t\"id\": null\r\n}\r\n```\r\n\r\nSo here, what you have to look for is, in vout, the n value that is equal to the previous number you got, so in our case it's 0. You take the value of this output which is 7.04418967 BTC. And now to calculate the fees, you take this number minus the previous value you got which give you :\r\n\r\nfees = 7.04418967 - (4.00000000 + 3.04192967)\r\nfees = 0.00226 BTC\r\n\r\nHope this will help you out.",
      "user": {
        "login": "Seccour",
        "id": 3265696,
        "node_id": "MDQ6VXNlcjMyNjU2OTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3265696?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Seccour",
        "html_url": "https://github.com/Seccour",
        "followers_url": "https://api.github.com/users/Seccour/followers",
        "following_url": "https://api.github.com/users/Seccour/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Seccour/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Seccour/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Seccour/subscriptions",
        "organizations_url": "https://api.github.com/users/Seccour/orgs",
        "repos_url": "https://api.github.com/users/Seccour/repos",
        "events_url": "https://api.github.com/users/Seccour/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Seccour/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/10734#issuecomment-312881872",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10734"
    },
    {
      "event": "closed",
      "id": 1282875802,
      "node_id": "MDExOkNsb3NlZEV2ZW50MTI4Mjg3NTgwMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1282875802",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-10-07T14:36:29Z"
    },
    {
      "event": "commented",
      "id": 370293318,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDI5MzMxOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/370293318",
      "actor": {
        "login": "GrayedFox",
        "id": 6493307,
        "node_id": "MDQ6VXNlcjY0OTMzMDc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6493307?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/GrayedFox",
        "html_url": "https://github.com/GrayedFox",
        "followers_url": "https://api.github.com/users/GrayedFox/followers",
        "following_url": "https://api.github.com/users/GrayedFox/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/GrayedFox/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/GrayedFox/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/GrayedFox/subscriptions",
        "organizations_url": "https://api.github.com/users/GrayedFox/orgs",
        "repos_url": "https://api.github.com/users/GrayedFox/repos",
        "events_url": "https://api.github.com/users/GrayedFox/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/GrayedFox/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-03-05T02:34:32Z",
      "updated_at": "2018-03-05T02:34:32Z",
      "author_association": "NONE",
      "body": "Given that this is (technically) publicly available information - it would be great if the fee would be calculated and then added to the result object returned by `getrawtransaction` - perhaps this could be done when a user has their block indexed?\r\n\r\nThis would also significantly reduce the load on a server being used to calculate fees as consumers would no longer need to hit the bitcoin node more than once for any single transaction (assuming they want to calculate fees)",
      "user": {
        "login": "GrayedFox",
        "id": 6493307,
        "node_id": "MDQ6VXNlcjY0OTMzMDc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6493307?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/GrayedFox",
        "html_url": "https://github.com/GrayedFox",
        "followers_url": "https://api.github.com/users/GrayedFox/followers",
        "following_url": "https://api.github.com/users/GrayedFox/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/GrayedFox/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/GrayedFox/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/GrayedFox/subscriptions",
        "organizations_url": "https://api.github.com/users/GrayedFox/orgs",
        "repos_url": "https://api.github.com/users/GrayedFox/repos",
        "events_url": "https://api.github.com/users/GrayedFox/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/GrayedFox/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/10734#issuecomment-370293318",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10734"
    },
    {
      "event": "commented",
      "id": 518507319,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUxODUwNzMxOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/518507319",
      "actor": {
        "login": "krtschmr",
        "id": 13366714,
        "node_id": "MDQ6VXNlcjEzMzY2NzE0",
        "avatar_url": "https://avatars.githubusercontent.com/u/13366714?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/krtschmr",
        "html_url": "https://github.com/krtschmr",
        "followers_url": "https://api.github.com/users/krtschmr/followers",
        "following_url": "https://api.github.com/users/krtschmr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/krtschmr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/krtschmr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/krtschmr/subscriptions",
        "organizations_url": "https://api.github.com/users/krtschmr/orgs",
        "repos_url": "https://api.github.com/users/krtschmr/repos",
        "events_url": "https://api.github.com/users/krtschmr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/krtschmr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-08-06T05:28:46Z",
      "updated_at": "2019-08-06T05:28:46Z",
      "author_association": "NONE",
      "body": "yeah, i would also say the fee should be shown there",
      "user": {
        "login": "krtschmr",
        "id": 13366714,
        "node_id": "MDQ6VXNlcjEzMzY2NzE0",
        "avatar_url": "https://avatars.githubusercontent.com/u/13366714?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/krtschmr",
        "html_url": "https://github.com/krtschmr",
        "followers_url": "https://api.github.com/users/krtschmr/followers",
        "following_url": "https://api.github.com/users/krtschmr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/krtschmr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/krtschmr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/krtschmr/subscriptions",
        "organizations_url": "https://api.github.com/users/krtschmr/orgs",
        "repos_url": "https://api.github.com/users/krtschmr/repos",
        "events_url": "https://api.github.com/users/krtschmr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/krtschmr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/10734#issuecomment-518507319",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10734"
    },
    {
      "event": "commented",
      "id": 940471426,
      "node_id": "IC_kwDOABII5844DnSC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/940471426",
      "actor": {
        "login": "tim-tx",
        "id": 13240467,
        "node_id": "MDQ6VXNlcjEzMjQwNDY3",
        "avatar_url": "https://avatars.githubusercontent.com/u/13240467?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tim-tx",
        "html_url": "https://github.com/tim-tx",
        "followers_url": "https://api.github.com/users/tim-tx/followers",
        "following_url": "https://api.github.com/users/tim-tx/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tim-tx/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tim-tx/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tim-tx/subscriptions",
        "organizations_url": "https://api.github.com/users/tim-tx/orgs",
        "repos_url": "https://api.github.com/users/tim-tx/repos",
        "events_url": "https://api.github.com/users/tim-tx/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tim-tx/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-11T21:57:15Z",
      "updated_at": "2021-10-11T21:57:15Z",
      "author_association": "NONE",
      "body": "```sh\r\nfee() {\r\n    tx=$(bitcoin-cli getrawtransaction $1 1)\r\n    vin=$(jq -r '.vin[] | \"\\(.txid) \\(.vout)\"' <<< $tx | while read txid vout; do bitcoin-cli getrawtransaction $txid 1 | jq -r \".vout[$vout].value\"; done | paste -sd+ | bc)\r\n    vout=$(jq '.vout[].value' <<< $tx | paste -sd+ | bc)\r\n    printf '%0.8f' $(bc <<< \"$vin - $vout\")\r\n}\r\n```\r\n\r\n```\r\n$ fee e198d4b193644116d9df0b9d65c4346a9f4d6214a46ffba8c0b2fd6999eda314\r\n0.00226000\r\n```",
      "user": {
        "login": "tim-tx",
        "id": 13240467,
        "node_id": "MDQ6VXNlcjEzMjQwNDY3",
        "avatar_url": "https://avatars.githubusercontent.com/u/13240467?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tim-tx",
        "html_url": "https://github.com/tim-tx",
        "followers_url": "https://api.github.com/users/tim-tx/followers",
        "following_url": "https://api.github.com/users/tim-tx/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tim-tx/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tim-tx/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tim-tx/subscriptions",
        "organizations_url": "https://api.github.com/users/tim-tx/orgs",
        "repos_url": "https://api.github.com/users/tim-tx/repos",
        "events_url": "https://api.github.com/users/tim-tx/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tim-tx/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/10734#issuecomment-940471426",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10734"
    },
    {
      "event": "commented",
      "id": 940700127,
      "node_id": "IC_kwDOABII5844EfHf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/940700127",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-12T06:18:57Z",
      "updated_at": "2021-10-12T06:18:57Z",
      "author_association": "MEMBER",
      "body": "You can use `getblock` to get the fee in recent releases of Bitcoin Core. Maybe in `getrawtransaction` soon, too. See #23264",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/10734#issuecomment-940700127",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10734"
    },
    {
      "event": "commented",
      "id": 991431019,
      "node_id": "IC_kwDOABII5847GAlr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/991431019",
      "actor": {
        "login": "Lancelight",
        "id": 7891142,
        "node_id": "MDQ6VXNlcjc4OTExNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7891142?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Lancelight",
        "html_url": "https://github.com/Lancelight",
        "followers_url": "https://api.github.com/users/Lancelight/followers",
        "following_url": "https://api.github.com/users/Lancelight/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Lancelight/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Lancelight/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Lancelight/subscriptions",
        "organizations_url": "https://api.github.com/users/Lancelight/orgs",
        "repos_url": "https://api.github.com/users/Lancelight/repos",
        "events_url": "https://api.github.com/users/Lancelight/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Lancelight/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-11T03:23:49Z",
      "updated_at": "2021-12-11T03:25:01Z",
      "author_association": "NONE",
      "body": "These really are not great solutions.  gettransaction is where the CALCULATED fee data belongs.  getrawtransaction doesnt work with pruned nodes (otherwise whats the point of pruned mode),  getblock doesnt return the fee for the specific TXID we need and isnt even the right section anyway, and some sort of absurd and nearly impossible to read bash script is the very definition of \"hacky\".  Currently fees only show for OUTGOING TXs that the wallet sent.  Incoming TXs do not have this data entry in gettransaction.",
      "user": {
        "login": "Lancelight",
        "id": 7891142,
        "node_id": "MDQ6VXNlcjc4OTExNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7891142?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Lancelight",
        "html_url": "https://github.com/Lancelight",
        "followers_url": "https://api.github.com/users/Lancelight/followers",
        "following_url": "https://api.github.com/users/Lancelight/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Lancelight/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Lancelight/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Lancelight/subscriptions",
        "organizations_url": "https://api.github.com/users/Lancelight/orgs",
        "repos_url": "https://api.github.com/users/Lancelight/repos",
        "events_url": "https://api.github.com/users/Lancelight/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Lancelight/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/10734#issuecomment-991431019",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10734"
    },
    {
      "event": "locked",
      "id": 8007160755,
      "node_id": "LOE_lADOABII584OUQ8JzwAAAAHdQ5Oz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8007160755",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-11T10:02:30Z"
    }
  ]
}