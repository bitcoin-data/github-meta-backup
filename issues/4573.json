{
  "type": "issue",
  "issue": {
    "id": 38461649,
    "node_id": "MDU6SXNzdWUzODQ2MTY0OQ==",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4573",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4573/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4573/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4573/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/4573",
    "number": 4573,
    "state": "closed",
    "state_reason": "completed",
    "title": "Add missing information to listtransactions/gettransaction which is required for reliable tracking of outputs in some rare situations",
    "body": "Use case: a transaction which has several outputs to the same local wallet address. \nCurrently listtransactions lists every transaction/address-of-output combination (if there are multiple addresses in local wallet, and a transaction has outputs that go to several of them) as a separate entry in it's JSON output. \nHowever, if there are several outputs to the same address, they are also printed as multiple entries in JSON, and therefore they lack information that could be used by the JSON client to reliably identify them. (They may differ in the amount, but may not.)\nThe same problem exists in the output of gettransaction, even though it's easier to work around in the JSON client there since it will return all related outputs in the same output. The workaround is next to impossible in listtransactions, since it's output basically relies on how the rest of the transaction list looks. Being able to identify those entires apart is very needed there. \n\nProposal: The easiest way seems to be include output id (within the transaction) as a field on each output entry returned in JSON. \n\nIt would look something like: \n    {\n        \"account\" : \"\",\n        \"address\" : \"1ADDRESS8969349663986\",\n        \"category\" : \"receive\",\n........\n        \"amount\" : 11.325,\n        \"outputindex\": 5\n    },\nThis field (outputindex) could be used by the JSON client to identify these output entries, even if they have the same txid and target address.\n\nThe same change should be added in gettransaction.\n",
    "user": {
      "login": "sinacc",
      "id": 6690756,
      "node_id": "MDQ6VXNlcjY2OTA3NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6690756?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sinacc",
      "html_url": "https://github.com/sinacc",
      "followers_url": "https://api.github.com/users/sinacc/followers",
      "following_url": "https://api.github.com/users/sinacc/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/sinacc/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/sinacc/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/sinacc/subscriptions",
      "organizations_url": "https://api.github.com/users/sinacc/orgs",
      "repos_url": "https://api.github.com/users/sinacc/repos",
      "events_url": "https://api.github.com/users/sinacc/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/sinacc/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "assignees": [],
    "author_association": "NONE",
    "locked": true,
    "active_lock_reason": "resolved",
    "comments": 3,
    "closed_at": "2014-07-22T23:04:37Z",
    "created_at": "2014-07-22T23:02:28Z",
    "updated_at": "2021-09-08T12:48:11Z"
  },
  "events": [
    {
      "event": "renamed",
      "id": 144429056,
      "node_id": "MDE3OlJlbmFtZWRUaXRsZUV2ZW50MTQ0NDI5MDU2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/144429056",
      "actor": {
        "login": "sinacc",
        "id": 6690756,
        "node_id": "MDQ6VXNlcjY2OTA3NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6690756?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sinacc",
        "html_url": "https://github.com/sinacc",
        "followers_url": "https://api.github.com/users/sinacc/followers",
        "following_url": "https://api.github.com/users/sinacc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sinacc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sinacc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sinacc/subscriptions",
        "organizations_url": "https://api.github.com/users/sinacc/orgs",
        "repos_url": "https://api.github.com/users/sinacc/repos",
        "events_url": "https://api.github.com/users/sinacc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sinacc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-07-22T23:03:35Z",
      "rename": {
        "from": "Add missing information to listtransactions/gettransaction which is required for reliable tracking of inputs in rare situations",
        "to": "Add missing information to listtransactions/gettransaction which is required for reliable tracking of outputs in some rare situations"
      }
    },
    {
      "event": "commented",
      "id": 49813359,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ5ODEzMzU5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49813359",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-07-22T23:04:37Z",
      "updated_at": "2014-07-22T23:04:37Z",
      "author_association": "MEMBER",
      "body": "Fixed in #4255 \n",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/4573#issuecomment-49813359",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4573"
    },
    {
      "event": "closed",
      "id": 144429399,
      "node_id": "MDExOkNsb3NlZEV2ZW50MTQ0NDI5Mzk5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/144429399",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-07-22T23:04:37Z"
    },
    {
      "event": "commented",
      "id": 49813543,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ5ODEzNTQz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49813543",
      "actor": {
        "login": "sinacc",
        "id": 6690756,
        "node_id": "MDQ6VXNlcjY2OTA3NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6690756?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sinacc",
        "html_url": "https://github.com/sinacc",
        "followers_url": "https://api.github.com/users/sinacc/followers",
        "following_url": "https://api.github.com/users/sinacc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sinacc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sinacc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sinacc/subscriptions",
        "organizations_url": "https://api.github.com/users/sinacc/orgs",
        "repos_url": "https://api.github.com/users/sinacc/repos",
        "events_url": "https://api.github.com/users/sinacc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sinacc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-07-22T23:06:57Z",
      "updated_at": "2014-07-22T23:06:57Z",
      "author_association": "NONE",
      "body": "I see, sorry, checked only against the latest stable release, didn't think someone else would find this exact thing so recently :).\n",
      "user": {
        "login": "sinacc",
        "id": 6690756,
        "node_id": "MDQ6VXNlcjY2OTA3NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6690756?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sinacc",
        "html_url": "https://github.com/sinacc",
        "followers_url": "https://api.github.com/users/sinacc/followers",
        "following_url": "https://api.github.com/users/sinacc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sinacc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sinacc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sinacc/subscriptions",
        "organizations_url": "https://api.github.com/users/sinacc/orgs",
        "repos_url": "https://api.github.com/users/sinacc/repos",
        "events_url": "https://api.github.com/users/sinacc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sinacc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/4573#issuecomment-49813543",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4573"
    },
    {
      "event": "commented",
      "id": 49813746,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ5ODEzNzQ2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49813746",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-07-22T23:09:25Z",
      "updated_at": "2014-07-22T23:09:25Z",
      "author_association": "MEMBER",
      "body": "No worries; I'm glad something that people care about got fixed.\n",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/4573#issuecomment-49813746",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4573"
    },
    {
      "event": "locked",
      "id": 5272088550,
      "node_id": "LOE_lADOABII584CSuDRzwAAAAE6Pa_m",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5272088550",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-08T12:48:11Z",
      "lock_reason": "resolved"
    }
  ]
}