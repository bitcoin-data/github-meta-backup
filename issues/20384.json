{
  "type": "issue",
  "issue": {
    "id": 742729808,
    "node_id": "MDU6SXNzdWU3NDI3Mjk4MDg=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20384",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20384/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20384/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20384/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/20384",
    "number": 20384,
    "state": "open",
    "state_reason": null,
    "title": "Avoid pruning blocks with transactions in wallets (even after wallets sync)",
    "body": "Good idea from @Bosch-0: https://github.com/bitcoin-core/gui/pull/125#issuecomment-723806881\r\n\r\nBy not pruning blocks that contain wallet transactions, old backups can be restored despite pruning.\r\n\r\nLogical dependencies:\r\n* My current prune-locks PR only works with heights, whereas this should probably be based on block hash.\r\n* Some way to sort out if this was done, when restoring a backup, so we know it's safe to assume missing blocks are ignorable.",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 64583,
        "node_id": "MDU6TGFiZWw2NDU4Mw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Feature",
        "name": "Feature",
        "color": "7cf575",
        "default": false
      }
    ],
    "assignee": {
      "login": "pinheadmz",
      "id": 2084648,
      "node_id": "MDQ6VXNlcjIwODQ2NDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pinheadmz",
      "html_url": "https://github.com/pinheadmz",
      "followers_url": "https://api.github.com/users/pinheadmz/followers",
      "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
      "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
      "repos_url": "https://api.github.com/users/pinheadmz/repos",
      "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "author_association": "MEMBER",
    "locked": false,
    "comments": 3,
    "created_at": "2020-11-13T19:20:17Z",
    "updated_at": "2023-06-02T14:58:15Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 3995037005,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDM5OTUwMzcwMDU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3995037005",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-13T19:20:17Z",
      "label": {
        "name": "Feature",
        "color": "7cf575"
      }
    },
    {
      "event": "mentioned",
      "id": 3995037028,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50Mzk5NTAzNzAyOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3995037028",
      "actor": {
        "login": "Bosch-0",
        "id": 55287964,
        "node_id": "MDQ6VXNlcjU1Mjg3OTY0",
        "avatar_url": "https://avatars.githubusercontent.com/u/55287964?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Bosch-0",
        "html_url": "https://github.com/Bosch-0",
        "followers_url": "https://api.github.com/users/Bosch-0/followers",
        "following_url": "https://api.github.com/users/Bosch-0/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Bosch-0/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Bosch-0/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Bosch-0/subscriptions",
        "organizations_url": "https://api.github.com/users/Bosch-0/orgs",
        "repos_url": "https://api.github.com/users/Bosch-0/repos",
        "events_url": "https://api.github.com/users/Bosch-0/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Bosch-0/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-13T19:20:17Z"
    },
    {
      "event": "subscribed",
      "id": 3995037031,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM5OTUwMzcwMzE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3995037031",
      "actor": {
        "login": "Bosch-0",
        "id": 55287964,
        "node_id": "MDQ6VXNlcjU1Mjg3OTY0",
        "avatar_url": "https://avatars.githubusercontent.com/u/55287964?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Bosch-0",
        "html_url": "https://github.com/Bosch-0",
        "followers_url": "https://api.github.com/users/Bosch-0/followers",
        "following_url": "https://api.github.com/users/Bosch-0/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Bosch-0/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Bosch-0/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Bosch-0/subscriptions",
        "organizations_url": "https://api.github.com/users/Bosch-0/orgs",
        "repos_url": "https://api.github.com/users/Bosch-0/repos",
        "events_url": "https://api.github.com/users/Bosch-0/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Bosch-0/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-13T19:20:17Z"
    },
    {
      "event": "commented",
      "id": 730114596,
      "node_id": "MDEyOklzc3VlQ29tbWVudDczMDExNDU5Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/730114596",
      "actor": {
        "login": "Bosch-0",
        "id": 55287964,
        "node_id": "MDQ6VXNlcjU1Mjg3OTY0",
        "avatar_url": "https://avatars.githubusercontent.com/u/55287964?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Bosch-0",
        "html_url": "https://github.com/Bosch-0",
        "followers_url": "https://api.github.com/users/Bosch-0/followers",
        "following_url": "https://api.github.com/users/Bosch-0/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Bosch-0/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Bosch-0/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Bosch-0/subscriptions",
        "organizations_url": "https://api.github.com/users/Bosch-0/orgs",
        "repos_url": "https://api.github.com/users/Bosch-0/repos",
        "events_url": "https://api.github.com/users/Bosch-0/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Bosch-0/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-19T04:02:06Z",
      "updated_at": "2020-11-19T04:02:06Z",
      "author_association": "NONE",
      "body": "How would (could you?) you know a block contains relevant transactions if the wallet is not yet imported? ",
      "user": {
        "login": "Bosch-0",
        "id": 55287964,
        "node_id": "MDQ6VXNlcjU1Mjg3OTY0",
        "avatar_url": "https://avatars.githubusercontent.com/u/55287964?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Bosch-0",
        "html_url": "https://github.com/Bosch-0",
        "followers_url": "https://api.github.com/users/Bosch-0/followers",
        "following_url": "https://api.github.com/users/Bosch-0/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Bosch-0/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Bosch-0/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Bosch-0/subscriptions",
        "organizations_url": "https://api.github.com/users/Bosch-0/orgs",
        "repos_url": "https://api.github.com/users/Bosch-0/repos",
        "events_url": "https://api.github.com/users/Bosch-0/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Bosch-0/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/20384#issuecomment-730114596",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20384"
    },
    {
      "event": "commented",
      "id": 730127706,
      "node_id": "MDEyOklzc3VlQ29tbWVudDczMDEyNzcwNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/730127706",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-19T04:50:52Z",
      "updated_at": "2020-11-19T04:50:52Z",
      "author_association": "MEMBER",
      "body": "This would only be useful for restoring backups (ie, the wallet was loaded during pruning).",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/20384#issuecomment-730127706",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20384"
    },
    {
      "event": "commented",
      "id": 1492535735,
      "node_id": "IC_kwDOABII585Y9km3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1492535735",
      "actor": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-31T20:00:26Z",
      "updated_at": "2023-03-31T20:00:26Z",
      "author_association": "MEMBER",
      "body": "This looks like another issue that could be addressed by https://github.com/bitcoin/bitcoin/issues/21267",
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/20384#issuecomment-1492535735",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20384"
    },
    {
      "event": "assigned",
      "id": 9415299602,
      "node_id": "AE_lADOABII584sRShQzwAAAAIxMhIS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9415299602",
      "actor": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-02T14:58:14Z",
      "assignee": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      }
    }
  ]
}