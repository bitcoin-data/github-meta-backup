{
  "type": "issue",
  "issue": {
    "id": 642408350,
    "node_id": "MDU6SXNzdWU2NDI0MDgzNTA=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19338",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19338/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19338/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19338/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/19338",
    "number": 19338,
    "state": "closed",
    "state_reason": "completed",
    "title": "Inconsistency in `listsinceblock` between `lastblock` and `confirmations`",
    "body": "It seems like issuing `listsinceblock` rpc calls while bitcoind is processing blocks can result in `lastblock` and `confirmations` values that disagree with each-other -- the number of confirmations is not relative to the `lastblock`.\r\n\r\nI'm able to reliably reproduce this by issuing `listsinceblock` calls from a `blocknotify` handler. Here's a reproduction script:\r\n\r\n```bash\r\n#!/bin/bash\r\nshopt -s expand_aliases\r\ntrap 'bcli stop' SIGINT SIGTERM EXIT\r\n\r\nDIR=/tmp/test-bitcoin\r\nrm -rf $DIR && mkdir $DIR\r\n\r\nbopt=\"-regtest -datadir=$DIR -rpcport=8763\"\r\nalias bcli=\"bitcoin-cli $bopt\"\r\nalias miner=\"bcli -rpcwallet=miner\"\r\nalias wallet=\"bcli -rpcwallet=wallet\"\r\n\r\n# Mine some coins without triggering `blocknotify` \r\nbitcoind $bopt -nolisten -daemon -wallet=miner\r\nminer generatetoaddress 101 `miner -rpcwait getnewaddress` > /dev/null\r\nbcli stop && sleep 1\r\n\r\n# Now start with `blocknotify` and create a separate wallet to avoid cluttering `listsinceblock` with mining-related txs\r\nbitcoind $bopt -nolisten -daemon -wallet=miner -fallbackfee=0.00001 \\\r\n    -blocknotify=\"bitcoin-cli $bopt -rpcwallet=wallet listsinceblock | tee -a $DIR/notify.log\"\r\nbcli -rpcwait createwallet wallet\r\n\r\nminer sendtoaddress `wallet getnewaddress` 1\r\nminer generatetoaddress 20 `miner getnewaddress`\r\n\r\ncat $DIR/notify.log | jq -c '{lastblock: .lastblock, tx: (.transactions[] | [.txid,.confirmations,.blockheight])}'\r\n```\r\n\r\nThis is the output of the `jq` command on the last line of the script, with Bitcoin Core 0.20.0:\r\n\r\n```\r\n{\"lastblock\":\"3d37a7b824a9250a87e78be88c1c58dcad737d4c43ddb1a1c6dea46e9a56b5ff\",\"tx\":[\"58cf095ffcd93ab838b6382435f1c9b7b8ea4daac8128c93a8b2d67b60715d16\",4,102]}\r\n{\"lastblock\":\"7092dd077f8e6306ac649e7ebbb24d2b7840702b8a509a225912d7192bf8f3ae\",\"tx\":[\"58cf095ffcd93ab838b6382435f1c9b7b8ea4daac8128c93a8b2d67b60715d16\",8,102]}\r\n{\"lastblock\":\"7092dd077f8e6306ac649e7ebbb24d2b7840702b8a509a225912d7192bf8f3ae\",\"tx\":[\"58cf095ffcd93ab838b6382435f1c9b7b8ea4daac8128c93a8b2d67b60715d16\",8,102]}\r\n{\"lastblock\":\"2f1370f3efd68cad09131a3aa4d763c79e37c7253175db2e136089bfd24387ea\",\"tx\":[\"58cf095ffcd93ab838b6382435f1c9b7b8ea4daac8128c93a8b2d67b60715d16\",9,102]}\r\n{\"lastblock\":\"2f1370f3efd68cad09131a3aa4d763c79e37c7253175db2e136089bfd24387ea\",\"tx\":[\"58cf095ffcd93ab838b6382435f1c9b7b8ea4daac8128c93a8b2d67b60715d16\",12,102]}\r\n{\"lastblock\":\"2f1370f3efd68cad09131a3aa4d763c79e37c7253175db2e136089bfd24387ea\",\"tx\":[\"58cf095ffcd93ab838b6382435f1c9b7b8ea4daac8128c93a8b2d67b60715d16\",12,102]}\r\n{\"lastblock\":\"4c2ccc8d0efda2d73a00a661f8fd7820bf60c59d8022894e63efb1d4f170c578\",\"tx\":[\"58cf095ffcd93ab838b6382435f1c9b7b8ea4daac8128c93a8b2d67b60715d16\",13,102]}\r\n{\"lastblock\":\"4c2ccc8d0efda2d73a00a661f8fd7820bf60c59d8022894e63efb1d4f170c578\",\"tx\":[\"58cf095ffcd93ab838b6382435f1c9b7b8ea4daac8128c93a8b2d67b60715d16\",14,102]}\r\n{\"lastblock\":\"4c2ccc8d0efda2d73a00a661f8fd7820bf60c59d8022894e63efb1d4f170c578\",\"tx\":[\"58cf095ffcd93ab838b6382435f1c9b7b8ea4daac8128c93a8b2d67b60715d16\",15,102]}\r\n{\"lastblock\":\"4c2ccc8d0efda2d73a00a661f8fd7820bf60c59d8022894e63efb1d4f170c578\",\"tx\":[\"58cf095ffcd93ab838b6382435f1c9b7b8ea4daac8128c93a8b2d67b60715d16\",15,102]}\r\n{\"lastblock\":\"4c2ccc8d0efda2d73a00a661f8fd7820bf60c59d8022894e63efb1d4f170c578\",\"tx\":[\"58cf095ffcd93ab838b6382435f1c9b7b8ea4daac8128c93a8b2d67b60715d16\",15,102]}\r\n{\"lastblock\":\"4c2ccc8d0efda2d73a00a661f8fd7820bf60c59d8022894e63efb1d4f170c578\",\"tx\":[\"58cf095ffcd93ab838b6382435f1c9b7b8ea4daac8128c93a8b2d67b60715d16\",15,102]}\r\n{\"lastblock\":\"635449428c88781cc80747a77b9c59d9f46263e6f606c8306b021116d32a8320\",\"tx\":[\"58cf095ffcd93ab838b6382435f1c9b7b8ea4daac8128c93a8b2d67b60715d16\",16,102]}\r\n{\"lastblock\":\"412240b03e197502b228b95396d3d8386499ed5acf2a0ac30d08b34e798b7bf0\",\"tx\":[\"58cf095ffcd93ab838b6382435f1c9b7b8ea4daac8128c93a8b2d67b60715d16\",18,102]}\r\n{\"lastblock\":\"54ea16118338039c672229f3834db8917cfc5b25b870c7db7d800587ea117895\",\"tx\":[\"58cf095ffcd93ab838b6382435f1c9b7b8ea4daac8128c93a8b2d67b60715d16\",19,102]}\r\n{\"lastblock\":\"54ea16118338039c672229f3834db8917cfc5b25b870c7db7d800587ea117895\",\"tx\":[\"58cf095ffcd93ab838b6382435f1c9b7b8ea4daac8128c93a8b2d67b60715d16\",19,102]}\r\n{\"lastblock\":\"181e7bbcee44402a67f171404611a3885238338555ab58039b1330249662f87f\",\"tx\":[\"58cf095ffcd93ab838b6382435f1c9b7b8ea4daac8128c93a8b2d67b60715d16\",20,102]}\r\n```\r\n\r\nNotice how `lastblock` is reported as `4c2ccc8d..` with 13 confirmations for tx `58cf095f...`, then later with 14 confirmations for the same block and tx, then later with 15.\r\n\r\nYou may need to generate more than 20 blocks if you're not able to catch this. For the tests I ran, it seems like 20 (or even 10) was sufficient.",
    "user": {
      "login": "shesek",
      "id": 877904,
      "node_id": "MDQ6VXNlcjg3NzkwNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/877904?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shesek",
      "html_url": "https://github.com/shesek",
      "followers_url": "https://api.github.com/users/shesek/followers",
      "following_url": "https://api.github.com/users/shesek/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/shesek/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/shesek/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/shesek/subscriptions",
      "organizations_url": "https://api.github.com/users/shesek/orgs",
      "repos_url": "https://api.github.com/users/shesek/repos",
      "events_url": "https://api.github.com/users/shesek/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/shesek/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 64585,
        "node_id": "MDU6TGFiZWw2NDU4NQ==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug",
        "name": "Bug",
        "color": "FBBAAB",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "locked": true,
    "active_lock_reason": "resolved",
    "comments": 7,
    "closed_at": "2020-06-29T14:49:46Z",
    "created_at": "2020-06-20T16:45:14Z",
    "updated_at": "2022-02-15T11:16:28Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 3464838082,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDM0NjQ4MzgwODI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3464838082",
      "actor": {
        "login": "shesek",
        "id": 877904,
        "node_id": "MDQ6VXNlcjg3NzkwNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/877904?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/shesek",
        "html_url": "https://github.com/shesek",
        "followers_url": "https://api.github.com/users/shesek/followers",
        "following_url": "https://api.github.com/users/shesek/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/shesek/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/shesek/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/shesek/subscriptions",
        "organizations_url": "https://api.github.com/users/shesek/orgs",
        "repos_url": "https://api.github.com/users/shesek/repos",
        "events_url": "https://api.github.com/users/shesek/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/shesek/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-20T16:45:15Z",
      "label": {
        "name": "Bug",
        "color": "FBBAAB"
      }
    },
    {
      "event": "commented",
      "id": 647032095,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0NzAzMjA5NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/647032095",
      "actor": {
        "login": "pstratem",
        "id": 620611,
        "node_id": "MDQ6VXNlcjYyMDYxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/620611?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pstratem",
        "html_url": "https://github.com/pstratem",
        "followers_url": "https://api.github.com/users/pstratem/followers",
        "following_url": "https://api.github.com/users/pstratem/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pstratem/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pstratem/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pstratem/subscriptions",
        "organizations_url": "https://api.github.com/users/pstratem/orgs",
        "repos_url": "https://api.github.com/users/pstratem/repos",
        "events_url": "https://api.github.com/users/pstratem/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pstratem/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-20T18:44:44Z",
      "updated_at": "2020-06-20T18:44:44Z",
      "author_association": "CONTRIBUTOR",
      "body": "Indeed that appears to be a race condition.\r\n\r\nTo fix this either the function needs to detect the tip changing or it needs to hold cs_main.",
      "user": {
        "login": "pstratem",
        "id": 620611,
        "node_id": "MDQ6VXNlcjYyMDYxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/620611?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pstratem",
        "html_url": "https://github.com/pstratem",
        "followers_url": "https://api.github.com/users/pstratem/followers",
        "following_url": "https://api.github.com/users/pstratem/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pstratem/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pstratem/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pstratem/subscriptions",
        "organizations_url": "https://api.github.com/users/pstratem/orgs",
        "repos_url": "https://api.github.com/users/pstratem/repos",
        "events_url": "https://api.github.com/users/pstratem/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pstratem/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/19338#issuecomment-647032095",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19338"
    },
    {
      "event": "referenced",
      "id": 3465061466,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDM0NjUwNjE0NjY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3465061466",
      "actor": {
        "login": "shesek",
        "id": 877904,
        "node_id": "MDQ6VXNlcjg3NzkwNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/877904?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/shesek",
        "html_url": "https://github.com/shesek",
        "followers_url": "https://api.github.com/users/shesek/followers",
        "following_url": "https://api.github.com/users/shesek/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/shesek/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/shesek/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/shesek/subscriptions",
        "organizations_url": "https://api.github.com/users/shesek/orgs",
        "repos_url": "https://api.github.com/users/shesek/repos",
        "events_url": "https://api.github.com/users/shesek/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/shesek/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "80a228ff3376dbbaa4d9fa690507b7807105480d",
      "commit_url": "https://api.github.com/repos/bwt-dev/bwt/commits/80a228ff3376dbbaa4d9fa690507b7807105480d",
      "created_at": "2020-06-20T22:53:08Z"
    },
    {
      "event": "commented",
      "id": 647460113,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0NzQ2MDExMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/647460113",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-22T11:33:38Z",
      "updated_at": "2020-06-22T11:33:38Z",
      "author_association": "MEMBER",
      "body": "@shesek what version of bitcoin are you seeing this with? I think this issue should have been fixed by f7ba881bc669451a60fedac58a449794702a3e23 from #17954 (merged a few days after the 0.20 branch). Trying your reproduction script (nice script!) on current master 8ef15e8a86038225afef2487ca23abc10ca5dffa, I saw confirmations increase in lockstep with lastblock:\r\n\r\n```json\r\n{\"lastblock\":\"01a1db130aae8fe7c878dffa6cee4f6251b0a28bac42383a014e1fd0c845bdd9\",\"tx\":[\"a1ae1cc64e6b8f5e012af93ab227d41236d3ad671f20f50e53230936a66afe4d\",3,102]}\r\n{\"lastblock\":\"57d422331f2d7f8dd66e5e52a2625f729368360bcee66f7ab647d466c0f3282c\",\"tx\":[\"a1ae1cc64e6b8f5e012af93ab227d41236d3ad671f20f50e53230936a66afe4d\",4,102]}\r\n{\"lastblock\":\"57d422331f2d7f8dd66e5e52a2625f729368360bcee66f7ab647d466c0f3282c\",\"tx\":[\"a1ae1cc64e6b8f5e012af93ab227d41236d3ad671f20f50e53230936a66afe4d\",4,102]}\r\n{\"lastblock\":\"47d5ea88afb4672c45c4087ed6cd1f13c6640c6a346bcbb1e2ba7f9e3aa24372\",\"tx\":[\"a1ae1cc64e6b8f5e012af93ab227d41236d3ad671f20f50e53230936a66afe4d\",5,102]}\r\n{\"lastblock\":\"7bbb7c7141faced32c82f5760343a23a04ea7929e69cd3fefee41720d14fc69c\",\"tx\":[\"a1ae1cc64e6b8f5e012af93ab227d41236d3ad671f20f50e53230936a66afe4d\",6,102]}\r\n{\"lastblock\":\"0f66cb1ecc1bed21b250a9bbb67623d9e7624fde44cdc12e947c48a40548f9b8\",\"tx\":[\"a1ae1cc64e6b8f5e012af93ab227d41236d3ad671f20f50e53230936a66afe4d\",7,102]}\r\n{\"lastblock\":\"464fd253141187ca5293e633c61582c747a333bc5c56300c9c54f256462c896a\",\"tx\":[\"a1ae1cc64e6b8f5e012af93ab227d41236d3ad671f20f50e53230936a66afe4d\",9,102]}\r\n{\"lastblock\":\"5d278017fad7d146c0fddc0600d70e112743524d3599c480366bcc89c75d4bab\",\"tx\":[\"a1ae1cc64e6b8f5e012af93ab227d41236d3ad671f20f50e53230936a66afe4d\",10,102]}\r\n{\"lastblock\":\"6b69ec48239f2c4a9cec13f284501473329777825251ffaa73c7284f657a6d97\",\"tx\":[\"a1ae1cc64e6b8f5e012af93ab227d41236d3ad671f20f50e53230936a66afe4d\",11,102]}\r\n{\"lastblock\":\"3e4c3929c89d7f2309d1e98636c252c8cdbbe4d0669dc8203042d4c24b679b7e\",\"tx\":[\"a1ae1cc64e6b8f5e012af93ab227d41236d3ad671f20f50e53230936a66afe4d\",12,102]}\r\n{\"lastblock\":\"3e4c3929c89d7f2309d1e98636c252c8cdbbe4d0669dc8203042d4c24b679b7e\",\"tx\":[\"a1ae1cc64e6b8f5e012af93ab227d41236d3ad671f20f50e53230936a66afe4d\",12,102]}\r\n{\"lastblock\":\"5b34d33d545e114301746236feda3abf5e7066c84b612e19d43f700aca724510\",\"tx\":[\"a1ae1cc64e6b8f5e012af93ab227d41236d3ad671f20f50e53230936a66afe4d\",14,102]}\r\n{\"lastblock\":\"5b34d33d545e114301746236feda3abf5e7066c84b612e19d43f700aca724510\",\"tx\":[\"a1ae1cc64e6b8f5e012af93ab227d41236d3ad671f20f50e53230936a66afe4d\",14,102]}\r\n{\"lastblock\":\"4a5750028b953ec523420b02bb5f9145c78acfb98ae816efb8bed8b0e8ac5d9c\",\"tx\":[\"a1ae1cc64e6b8f5e012af93ab227d41236d3ad671f20f50e53230936a66afe4d\",17,102]}\r\n{\"lastblock\":\"4a5750028b953ec523420b02bb5f9145c78acfb98ae816efb8bed8b0e8ac5d9c\",\"tx\":[\"a1ae1cc64e6b8f5e012af93ab227d41236d3ad671f20f50e53230936a66afe4d\",17,102]}\r\n{\"lastblock\":\"62ac4ab1fc763d8b583d6818568c96b907e9133119bda394f2f019536859d661\",\"tx\":[\"a1ae1cc64e6b8f5e012af93ab227d41236d3ad671f20f50e53230936a66afe4d\",19,102]}\r\n{\"lastblock\":\"62ac4ab1fc763d8b583d6818568c96b907e9133119bda394f2f019536859d661\",\"tx\":[\"a1ae1cc64e6b8f5e012af93ab227d41236d3ad671f20f50e53230936a66afe4d\",19,102]}\r\n{\"lastblock\":\"37b190f76332537692212da0302f4f78d4d8997983a35f8a906addc0a28977dc\",\"tx\":[\"a1ae1cc64e6b8f5e012af93ab227d41236d3ad671f20f50e53230936a66afe4d\",20,102]}\r\n{\"lastblock\":\"37b190f76332537692212da0302f4f78d4d8997983a35f8a906addc0a28977dc\",\"tx\":[\"a1ae1cc64e6b8f5e012af93ab227d41236d3ad671f20f50e53230936a66afe4d\",20,102]}\r\n{\"lastblock\":\"37b190f76332537692212da0302f4f78d4d8997983a35f8a906addc0a28977dc\",\"tx\":[\"a1ae1cc64e6b8f5e012af93ab227d41236d3ad671f20f50e53230936a66afe4d\",20,102]}\r\n\r\n```\r\n\r\nre: https://github.com/bitcoin/bitcoin/issues/19338#issuecomment-647032095\r\n\r\n> Indeed that appears to be a race condition.\r\n> \r\n> To fix this either the function needs to detect the tip changing or it needs to hold cs_main.\r\n\r\nI don't think these things are true. Wallet code shouldn't need to be concerned with node tip to report internally consistent results, and it shouldn't hold cs_main",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/19338#issuecomment-647460113",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19338"
    },
    {
      "event": "mentioned",
      "id": 3467910055,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzQ2NzkxMDA1NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3467910055",
      "actor": {
        "login": "shesek",
        "id": 877904,
        "node_id": "MDQ6VXNlcjg3NzkwNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/877904?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/shesek",
        "html_url": "https://github.com/shesek",
        "followers_url": "https://api.github.com/users/shesek/followers",
        "following_url": "https://api.github.com/users/shesek/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/shesek/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/shesek/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/shesek/subscriptions",
        "organizations_url": "https://api.github.com/users/shesek/orgs",
        "repos_url": "https://api.github.com/users/shesek/repos",
        "events_url": "https://api.github.com/users/shesek/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/shesek/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-22T11:33:38Z"
    },
    {
      "event": "subscribed",
      "id": 3467910057,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM0Njc5MTAwNTc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3467910057",
      "actor": {
        "login": "shesek",
        "id": 877904,
        "node_id": "MDQ6VXNlcjg3NzkwNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/877904?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/shesek",
        "html_url": "https://github.com/shesek",
        "followers_url": "https://api.github.com/users/shesek/followers",
        "following_url": "https://api.github.com/users/shesek/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/shesek/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/shesek/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/shesek/subscriptions",
        "organizations_url": "https://api.github.com/users/shesek/orgs",
        "repos_url": "https://api.github.com/users/shesek/repos",
        "events_url": "https://api.github.com/users/shesek/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/shesek/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-22T11:33:38Z"
    },
    {
      "event": "commented",
      "id": 647473008,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0NzQ3MzAwOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/647473008",
      "actor": {
        "login": "shesek",
        "id": 877904,
        "node_id": "MDQ6VXNlcjg3NzkwNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/877904?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/shesek",
        "html_url": "https://github.com/shesek",
        "followers_url": "https://api.github.com/users/shesek/followers",
        "following_url": "https://api.github.com/users/shesek/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/shesek/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/shesek/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/shesek/subscriptions",
        "organizations_url": "https://api.github.com/users/shesek/orgs",
        "repos_url": "https://api.github.com/users/shesek/repos",
        "events_url": "https://api.github.com/users/shesek/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/shesek/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-22T12:01:56Z",
      "updated_at": "2020-06-22T12:01:56Z",
      "author_association": "CONTRIBUTOR",
      "body": "@ryan52 This was with Bitcoin Core v0.20.0 (I added this to the issue description too, forgot to mention it earlier). I will give this a try with https://github.com/bitcoin/bitcoin/commit/f7ba881bc669451a60fedac58a449794702a3e23 and report back.\r\n\r\nIt might also be worth trying this with 100 blocks or so and see if everything is still consistent.",
      "user": {
        "login": "shesek",
        "id": 877904,
        "node_id": "MDQ6VXNlcjg3NzkwNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/877904?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/shesek",
        "html_url": "https://github.com/shesek",
        "followers_url": "https://api.github.com/users/shesek/followers",
        "following_url": "https://api.github.com/users/shesek/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/shesek/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/shesek/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/shesek/subscriptions",
        "organizations_url": "https://api.github.com/users/shesek/orgs",
        "repos_url": "https://api.github.com/users/shesek/repos",
        "events_url": "https://api.github.com/users/shesek/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/shesek/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/19338#issuecomment-647473008",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19338"
    },
    {
      "event": "mentioned",
      "id": 3468010524,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzQ2ODAxMDUyNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3468010524",
      "actor": {
        "login": "ryan52",
        "id": 14541,
        "node_id": "MDQ6VXNlcjE0NTQx",
        "avatar_url": "https://avatars.githubusercontent.com/u/14541?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryan52",
        "html_url": "https://github.com/ryan52",
        "followers_url": "https://api.github.com/users/ryan52/followers",
        "following_url": "https://api.github.com/users/ryan52/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryan52/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryan52/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryan52/subscriptions",
        "organizations_url": "https://api.github.com/users/ryan52/orgs",
        "repos_url": "https://api.github.com/users/ryan52/repos",
        "events_url": "https://api.github.com/users/ryan52/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryan52/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-22T12:01:56Z"
    },
    {
      "event": "subscribed",
      "id": 3468010530,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM0NjgwMTA1MzA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3468010530",
      "actor": {
        "login": "ryan52",
        "id": 14541,
        "node_id": "MDQ6VXNlcjE0NTQx",
        "avatar_url": "https://avatars.githubusercontent.com/u/14541?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryan52",
        "html_url": "https://github.com/ryan52",
        "followers_url": "https://api.github.com/users/ryan52/followers",
        "following_url": "https://api.github.com/users/ryan52/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryan52/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryan52/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryan52/subscriptions",
        "organizations_url": "https://api.github.com/users/ryan52/orgs",
        "repos_url": "https://api.github.com/users/ryan52/repos",
        "events_url": "https://api.github.com/users/ryan52/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryan52/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-22T12:01:56Z"
    },
    {
      "event": "commented",
      "id": 647705857,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0NzcwNTg1Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/647705857",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-22T18:44:56Z",
      "updated_at": "2020-06-22T18:46:00Z",
      "author_association": "MEMBER",
      "body": "Retested master 8ef15e8a86038225afef2487ca23abc10ca5dffa with 100 blocks and still didn't see the bug (didn't check exhaustively but piped jq output to `uniq` and checked visually the same lastblock hashes or confirmation numbers weren't repeated twice).\r\n\r\nAlso tested v0.20.0 tag a62f0ed64f8bbbdfe6467ac5ce92ef5b5222d1bd and did see the bug (same lastblock hash repeated with different confirmation numbers).\r\n\r\nAlso confirmed bugfix commit f7ba881bc669451a60fedac58a449794702a3e23 from #17954 did not exhibit the bug and while parent commit bc96a9bfc61afdb696fb92cb644ed5fc3d1793f1 did have the bug.\r\n\r\n---\r\n\r\nAll this suggests f7ba881bc669451a60fedac58a449794702a3e23 from #17954 does fix this bug, which I'd expect, because this is exactly the type of inconsistency #17954 was intended to fix.\r\n\r\n@shesek, it's be great if you could verify the fix not just to provide confirmation, but also to ensure the fix doesn't have it's own problems since `listsinceblock` output is more internally consistent now but also more detached from the node and potentially stale.\r\n\r\nAnother thing that's unclear is how important the bug is and whether it'd be useful to backport a fix. I'd think the behavior described was probably longstanding and not a regression. If a backport should be done, it might be worth only backporting commit f7ba881bc669451a60fedac58a449794702a3e23 and the new interfaces/chain methods it depends and not backporting all of #17954. That way the backport is strictly limited to the `listsinceblock` method and doesn't affect all the other parts of the wallet and gui that #17954 affects\r\n\r\n",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/19338#issuecomment-647705857",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19338"
    },
    {
      "event": "mentioned",
      "id": 3469712249,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzQ2OTcxMjI0OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3469712249",
      "actor": {
        "login": "shesek",
        "id": 877904,
        "node_id": "MDQ6VXNlcjg3NzkwNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/877904?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/shesek",
        "html_url": "https://github.com/shesek",
        "followers_url": "https://api.github.com/users/shesek/followers",
        "following_url": "https://api.github.com/users/shesek/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/shesek/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/shesek/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/shesek/subscriptions",
        "organizations_url": "https://api.github.com/users/shesek/orgs",
        "repos_url": "https://api.github.com/users/shesek/repos",
        "events_url": "https://api.github.com/users/shesek/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/shesek/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-22T18:44:57Z"
    },
    {
      "event": "subscribed",
      "id": 3469712255,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM0Njk3MTIyNTU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3469712255",
      "actor": {
        "login": "shesek",
        "id": 877904,
        "node_id": "MDQ6VXNlcjg3NzkwNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/877904?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/shesek",
        "html_url": "https://github.com/shesek",
        "followers_url": "https://api.github.com/users/shesek/followers",
        "following_url": "https://api.github.com/users/shesek/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/shesek/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/shesek/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/shesek/subscriptions",
        "organizations_url": "https://api.github.com/users/shesek/orgs",
        "repos_url": "https://api.github.com/users/shesek/repos",
        "events_url": "https://api.github.com/users/shesek/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/shesek/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-22T18:44:57Z"
    },
    {
      "event": "commented",
      "id": 647972189,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0Nzk3MjE4OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/647972189",
      "actor": {
        "login": "shesek",
        "id": 877904,
        "node_id": "MDQ6VXNlcjg3NzkwNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/877904?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/shesek",
        "html_url": "https://github.com/shesek",
        "followers_url": "https://api.github.com/users/shesek/followers",
        "following_url": "https://api.github.com/users/shesek/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/shesek/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/shesek/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/shesek/subscriptions",
        "organizations_url": "https://api.github.com/users/shesek/orgs",
        "repos_url": "https://api.github.com/users/shesek/repos",
        "events_url": "https://api.github.com/users/shesek/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/shesek/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-23T07:47:48Z",
      "updated_at": "2020-06-23T07:47:48Z",
      "author_association": "CONTRIBUTOR",
      "body": "I verified that this is no longer an issue against current master (e3fa3c7d671e34038a262bb2db16b30bee82153d).\r\n\r\n> but also to ensure the fix doesn't have it's own problems since `listsinceblock` output is more internally consistent now but also more detached from the node and potentially stale.\r\n\r\nIt wouldn't be ideal if issuing `listsinceblock` following a `blocknotify` could return stale information that's not at least as recent as the notified chain tip (I'm using this for [real-time indexing](https://github.com/shesek/bwt/#real-time-indexing), this would mean that updates would get lost until the next periodic poll), but it appears that this is not the case -- the `lastblock` being returned is always at least as recent as the one received via the notification, so it all seems good.\r\n\r\nI used [this modified script](https://gist.github.com/shesek/b956e50e9784b971eb26270985048964) to check both for consistent `confirmations` number (`tx_height == tip_height-confirmations+1`) and for the recency of the data compared to the notified tip.\r\n\r\n> Another thing that's unclear is how important the bug is and whether it'd be useful to backport a fix\r\n\r\nAt least for my specific case, I [worked around](https://github.com/shesek/bwt/commit/80a228ff3376dbbaa4d9fa690507b7807105480d) the bug and don't mind it not being backported. But others using this might disagree...",
      "user": {
        "login": "shesek",
        "id": 877904,
        "node_id": "MDQ6VXNlcjg3NzkwNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/877904?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/shesek",
        "html_url": "https://github.com/shesek",
        "followers_url": "https://api.github.com/users/shesek/followers",
        "following_url": "https://api.github.com/users/shesek/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/shesek/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/shesek/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/shesek/subscriptions",
        "organizations_url": "https://api.github.com/users/shesek/orgs",
        "repos_url": "https://api.github.com/users/shesek/repos",
        "events_url": "https://api.github.com/users/shesek/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/shesek/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/19338#issuecomment-647972189",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19338"
    },
    {
      "event": "commented",
      "id": 651170975,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY1MTE3MDk3NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/651170975",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-29T14:49:42Z",
      "updated_at": "2020-06-29T14:49:42Z",
      "author_association": "MEMBER",
      "body": "Thanks for checking and verifying that slightly more stale information returned by the fix doesn't cause problems for the external index. Also thanks for the new test script.\r\n\r\nSince you have a workaround, and since this bug has probably been around a long time, and since backporting the fix requires breaking up #17954 or pulling in unrelated changes, I think I'd opt not to backport https://github.com/bitcoin/bitcoin/commit/f7ba881bc669451a60fedac58a449794702a3e23 from #17954 right now. But we could reconsider if more problems are reported.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/19338#issuecomment-651170975",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19338"
    },
    {
      "event": "closed",
      "id": 3493114362,
      "node_id": "MDExOkNsb3NlZEV2ZW50MzQ5MzExNDM2Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3493114362",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-29T14:49:46Z"
    },
    {
      "event": "commented",
      "id": 651687922,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY1MTY4NzkyMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/651687922",
      "actor": {
        "login": "shesek",
        "id": 877904,
        "node_id": "MDQ6VXNlcjg3NzkwNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/877904?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/shesek",
        "html_url": "https://github.com/shesek",
        "followers_url": "https://api.github.com/users/shesek/followers",
        "following_url": "https://api.github.com/users/shesek/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/shesek/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/shesek/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/shesek/subscriptions",
        "organizations_url": "https://api.github.com/users/shesek/orgs",
        "repos_url": "https://api.github.com/users/shesek/repos",
        "events_url": "https://api.github.com/users/shesek/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/shesek/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-30T09:48:40Z",
      "updated_at": "2020-06-30T09:48:40Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I'd opt not to backport [f7ba881](https://github.com/bitcoin/bitcoin/commit/f7ba881bc669451a60fedac58a449794702a3e23)\r\n\r\nAgreed, I think so too.\r\n\r\nThanks for helping diagnose this!",
      "user": {
        "login": "shesek",
        "id": 877904,
        "node_id": "MDQ6VXNlcjg3NzkwNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/877904?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/shesek",
        "html_url": "https://github.com/shesek",
        "followers_url": "https://api.github.com/users/shesek/followers",
        "following_url": "https://api.github.com/users/shesek/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/shesek/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/shesek/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/shesek/subscriptions",
        "organizations_url": "https://api.github.com/users/shesek/orgs",
        "repos_url": "https://api.github.com/users/shesek/repos",
        "events_url": "https://api.github.com/users/shesek/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/shesek/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/19338#issuecomment-651687922",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19338"
    },
    {
      "event": "referenced",
      "id": 4416760478,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ0MTY3NjA0Nzg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4416760478",
      "actor": {
        "login": "shesek",
        "id": 877904,
        "node_id": "MDQ6VXNlcjg3NzkwNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/877904?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/shesek",
        "html_url": "https://github.com/shesek",
        "followers_url": "https://api.github.com/users/shesek/followers",
        "following_url": "https://api.github.com/users/shesek/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/shesek/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/shesek/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/shesek/subscriptions",
        "organizations_url": "https://api.github.com/users/shesek/orgs",
        "repos_url": "https://api.github.com/users/shesek/repos",
        "events_url": "https://api.github.com/users/shesek/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/shesek/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "0d50f4f3de8901e1604ce5bd417b1ac9a2fe4c24",
      "commit_url": "https://api.github.com/repos/bwt-dev/bwt/commits/0d50f4f3de8901e1604ce5bd417b1ac9a2fe4c24",
      "created_at": "2021-03-06T11:01:53Z"
    },
    {
      "event": "referenced",
      "id": 4439571328,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ0Mzk1NzEzMjg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4439571328",
      "actor": {
        "login": "shesek",
        "id": 877904,
        "node_id": "MDQ6VXNlcjg3NzkwNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/877904?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/shesek",
        "html_url": "https://github.com/shesek",
        "followers_url": "https://api.github.com/users/shesek/followers",
        "following_url": "https://api.github.com/users/shesek/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/shesek/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/shesek/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/shesek/subscriptions",
        "organizations_url": "https://api.github.com/users/shesek/orgs",
        "repos_url": "https://api.github.com/users/shesek/repos",
        "events_url": "https://api.github.com/users/shesek/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/shesek/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "e1747102ef796ed086d56df81a95aeb3c8fa7add",
      "commit_url": "https://api.github.com/repos/bwt-dev/bwt/commits/e1747102ef796ed086d56df81a95aeb3c8fa7add",
      "created_at": "2021-03-10T22:10:31Z"
    },
    {
      "event": "referenced",
      "id": 4454998666,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ0NTQ5OTg2NjY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4454998666",
      "actor": {
        "login": "shesek",
        "id": 877904,
        "node_id": "MDQ6VXNlcjg3NzkwNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/877904?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/shesek",
        "html_url": "https://github.com/shesek",
        "followers_url": "https://api.github.com/users/shesek/followers",
        "following_url": "https://api.github.com/users/shesek/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/shesek/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/shesek/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/shesek/subscriptions",
        "organizations_url": "https://api.github.com/users/shesek/orgs",
        "repos_url": "https://api.github.com/users/shesek/repos",
        "events_url": "https://api.github.com/users/shesek/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/shesek/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "df32597e6d99f49619c139768cdc317797d8a97d",
      "commit_url": "https://api.github.com/repos/bwt-dev/bwt/commits/df32597e6d99f49619c139768cdc317797d8a97d",
      "created_at": "2021-03-14T08:08:30Z"
    },
    {
      "event": "locked",
      "id": 6074096299,
      "node_id": "LOE_lADOABII584mSl-ezwAAAAFqC1qr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6074096299",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-02-15T11:16:28Z",
      "lock_reason": "resolved"
    }
  ]
}