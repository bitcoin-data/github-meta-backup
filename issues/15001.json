{
  "type": "issue",
  "issue": {
    "id": 392502684,
    "node_id": "MDU6SXNzdWUzOTI1MDI2ODQ=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15001",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15001/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15001/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15001/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/15001",
    "number": 15001,
    "state": "closed",
    "state_reason": "completed",
    "title": "estimatesmartfee blocks bug",
    "body": "![image](https://user-images.githubusercontent.com/9156103/50209942-411d3180-0375-11e9-853b-8346e4c7ba4a.png)\r\n\r\n`estimatesmartfee` also returns `blocks`, which the user would expect to be the estimated number of blocks for the confirmation, but that's not the case, because often when you query an estimation one target under the returned `blocks` number, the feerate won't differ.  ",
    "user": {
      "login": "nopara73",
      "id": 9156103,
      "node_id": "MDQ6VXNlcjkxNTYxMDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9156103?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nopara73",
      "html_url": "https://github.com/nopara73",
      "followers_url": "https://api.github.com/users/nopara73/followers",
      "following_url": "https://api.github.com/users/nopara73/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/nopara73/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/nopara73/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/nopara73/subscriptions",
      "organizations_url": "https://api.github.com/users/nopara73/orgs",
      "repos_url": "https://api.github.com/users/nopara73/repos",
      "events_url": "https://api.github.com/users/nopara73/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/nopara73/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 98279177,
        "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
        "name": "RPC/REST/ZMQ",
        "color": "0052cc",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "NONE",
    "locked": true,
    "active_lock_reason": "resolved",
    "comments": 4,
    "closed_at": "2019-01-14T12:28:19Z",
    "created_at": "2018-12-19T09:06:33Z",
    "updated_at": "2021-12-16T14:05:03Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 2035805600,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDIwMzU4MDU2MDA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2035805600",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-12-19T14:25:18Z",
      "label": {
        "name": "RPC/REST/ZMQ",
        "color": "0052cc"
      }
    },
    {
      "event": "commented",
      "id": 453865132,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ1Mzg2NTEzMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/453865132",
      "actor": {
        "login": "rytido",
        "id": 7735281,
        "node_id": "MDQ6VXNlcjc3MzUyODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7735281?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rytido",
        "html_url": "https://github.com/rytido",
        "followers_url": "https://api.github.com/users/rytido/followers",
        "following_url": "https://api.github.com/users/rytido/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rytido/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rytido/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rytido/subscriptions",
        "organizations_url": "https://api.github.com/users/rytido/orgs",
        "repos_url": "https://api.github.com/users/rytido/repos",
        "events_url": "https://api.github.com/users/rytido/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rytido/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-01-13T21:00:06Z",
      "updated_at": "2019-01-13T21:33:51Z",
      "author_association": "NONE",
      "body": "I think the returned `blocks` depends on how long your node has been running. So in the first case above it's really returning the maximum number of blocks for which your node has evidence of the appropriate fee rate. I don't think this is a bug.",
      "user": {
        "login": "rytido",
        "id": 7735281,
        "node_id": "MDQ6VXNlcjc3MzUyODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7735281?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rytido",
        "html_url": "https://github.com/rytido",
        "followers_url": "https://api.github.com/users/rytido/followers",
        "following_url": "https://api.github.com/users/rytido/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rytido/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rytido/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rytido/subscriptions",
        "organizations_url": "https://api.github.com/users/rytido/orgs",
        "repos_url": "https://api.github.com/users/rytido/repos",
        "events_url": "https://api.github.com/users/rytido/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rytido/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/15001#issuecomment-453865132",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15001"
    },
    {
      "event": "commented",
      "id": 453877648,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ1Mzg3NzY0OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/453877648",
      "actor": {
        "login": "nopara73",
        "id": 9156103,
        "node_id": "MDQ6VXNlcjkxNTYxMDM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9156103?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nopara73",
        "html_url": "https://github.com/nopara73",
        "followers_url": "https://api.github.com/users/nopara73/followers",
        "following_url": "https://api.github.com/users/nopara73/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nopara73/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nopara73/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nopara73/subscriptions",
        "organizations_url": "https://api.github.com/users/nopara73/orgs",
        "repos_url": "https://api.github.com/users/nopara73/repos",
        "events_url": "https://api.github.com/users/nopara73/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nopara73/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-01-13T23:56:51Z",
      "updated_at": "2019-01-13T23:56:51Z",
      "author_association": "NONE",
      "body": "> the maximum number of blocks for which your node has evidence of the appropriate fee rate\r\n\r\nI'm not sure I understand. Could you explain it in another way?",
      "user": {
        "login": "nopara73",
        "id": 9156103,
        "node_id": "MDQ6VXNlcjkxNTYxMDM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9156103?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nopara73",
        "html_url": "https://github.com/nopara73",
        "followers_url": "https://api.github.com/users/nopara73/followers",
        "following_url": "https://api.github.com/users/nopara73/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nopara73/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nopara73/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nopara73/subscriptions",
        "organizations_url": "https://api.github.com/users/nopara73/orgs",
        "repos_url": "https://api.github.com/users/nopara73/repos",
        "events_url": "https://api.github.com/users/nopara73/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nopara73/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/15001#issuecomment-453877648",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15001"
    },
    {
      "event": "commented",
      "id": 453884335,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ1Mzg4NDMzNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/453884335",
      "actor": {
        "login": "rytido",
        "id": 7735281,
        "node_id": "MDQ6VXNlcjc3MzUyODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7735281?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rytido",
        "html_url": "https://github.com/rytido",
        "followers_url": "https://api.github.com/users/rytido/followers",
        "following_url": "https://api.github.com/users/rytido/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rytido/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rytido/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rytido/subscriptions",
        "organizations_url": "https://api.github.com/users/rytido/orgs",
        "repos_url": "https://api.github.com/users/rytido/repos",
        "events_url": "https://api.github.com/users/rytido/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rytido/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-01-14T01:29:17Z",
      "updated_at": "2019-01-14T01:29:17Z",
      "author_association": "NONE",
      "body": "Sorry, I just mean that, at the time you ran the command, your node didn't have more than 38 blocks worth of recent data with which to estimate fees. So when you pass a value larger than 38, it just gives you the estimate for 38 blocks because that's the best it can do at that time.\r\n\r\nFrom the command help:\r\n> The request target will be clamped between 2 and the highest target fee estimation is able to return based on how long it has been running.\r\n\r\nI believe the fact that 37 gave you the same fee rate as 38 is just because the estimates are based on fee rate buckets, and it's totally possible for 37 and 38 to happen to result in the same bucket.",
      "user": {
        "login": "rytido",
        "id": 7735281,
        "node_id": "MDQ6VXNlcjc3MzUyODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7735281?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rytido",
        "html_url": "https://github.com/rytido",
        "followers_url": "https://api.github.com/users/rytido/followers",
        "following_url": "https://api.github.com/users/rytido/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rytido/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rytido/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rytido/subscriptions",
        "organizations_url": "https://api.github.com/users/rytido/orgs",
        "repos_url": "https://api.github.com/users/rytido/repos",
        "events_url": "https://api.github.com/users/rytido/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rytido/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/15001#issuecomment-453884335",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15001"
    },
    {
      "event": "commented",
      "id": 453988646,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ1Mzk4ODY0Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/453988646",
      "actor": {
        "login": "nopara73",
        "id": 9156103,
        "node_id": "MDQ6VXNlcjkxNTYxMDM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9156103?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nopara73",
        "html_url": "https://github.com/nopara73",
        "followers_url": "https://api.github.com/users/nopara73/followers",
        "following_url": "https://api.github.com/users/nopara73/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nopara73/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nopara73/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nopara73/subscriptions",
        "organizations_url": "https://api.github.com/users/nopara73/orgs",
        "repos_url": "https://api.github.com/users/nopara73/repos",
        "events_url": "https://api.github.com/users/nopara73/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nopara73/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-01-14T12:28:19Z",
      "updated_at": "2019-01-14T12:28:19Z",
      "author_association": "NONE",
      "body": "I see. That explains a lot. I misunderstood what the `blocks` return value mean. Then it's not a bug. Thank you!",
      "user": {
        "login": "nopara73",
        "id": 9156103,
        "node_id": "MDQ6VXNlcjkxNTYxMDM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9156103?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nopara73",
        "html_url": "https://github.com/nopara73",
        "followers_url": "https://api.github.com/users/nopara73/followers",
        "following_url": "https://api.github.com/users/nopara73/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nopara73/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nopara73/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nopara73/subscriptions",
        "organizations_url": "https://api.github.com/users/nopara73/orgs",
        "repos_url": "https://api.github.com/users/nopara73/repos",
        "events_url": "https://api.github.com/users/nopara73/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nopara73/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/15001#issuecomment-453988646",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15001"
    },
    {
      "event": "closed",
      "id": 2071631081,
      "node_id": "MDExOkNsb3NlZEV2ZW50MjA3MTYzMTA4MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2071631081",
      "actor": {
        "login": "nopara73",
        "id": 9156103,
        "node_id": "MDQ6VXNlcjkxNTYxMDM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9156103?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nopara73",
        "html_url": "https://github.com/nopara73",
        "followers_url": "https://api.github.com/users/nopara73/followers",
        "following_url": "https://api.github.com/users/nopara73/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nopara73/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nopara73/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nopara73/subscriptions",
        "organizations_url": "https://api.github.com/users/nopara73/orgs",
        "repos_url": "https://api.github.com/users/nopara73/repos",
        "events_url": "https://api.github.com/users/nopara73/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nopara73/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-01-14T12:28:19Z"
    },
    {
      "event": "locked",
      "id": 5778578007,
      "node_id": "LOE_lADOABII584XZR2czwAAAAFYbhpX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5778578007",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-16T14:05:03Z",
      "lock_reason": "resolved"
    }
  ]
}