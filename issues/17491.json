{
  "type": "issue",
  "issue": {
    "id": 523669629,
    "node_id": "MDU6SXNzdWU1MjM2Njk2Mjk=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17491",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17491/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17491/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17491/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/17491",
    "number": 17491,
    "state": "open",
    "state_reason": null,
    "title": "Tor ephemeral hidden service rejuvenation",
    "body": "**Is your feature request related to a problem? Please describe.**\r\nN/A\r\n#Privacy\r\n<!-- A clear and concise description of what the problem is. Ex. I'm always frustrated when [...] -->\r\n\r\n**Describe the solution you'd like**\r\nThe security of the solution provided by integration with Tor is able to be improved by allowing rejuvenation of the ephemeral hidden service. This allows that a new ephemeral hidden service can be created, or, that the hidden service is 'once only', it pops into existence, exists for a while and then disappears. \r\n\r\nProvide a gui checkbox, configuration item and command-line switch for Regenerate Ephemeral Service. In reality, when set, each time the Bitcoin Core client starts it first removes then generates new `~/bitcoin/onion_private_key`\r\n\r\nIt is also possible to add a gui button that deletes the key next startup by flag whereas the configuration item and command-line switch operate as described and delete the file every startup.\r\n<!-- A clear and concise description of what you want to happen. -->\r\n\r\n**Describe alternatives you've considered**\r\nAs an alternative,  a launch script could be used to remove `~/bitcoin/onion_private_key` before lauching Bitcoin Core\r\n<!-- A clear and concise description of any alternative solutions or features you've considered. -->\r\n\r\n**Additional context**\r\nThere is limited opportunity, however, for the serious about maximum privacy having the re-use of the ephemeral service allows the tracing third-party node to wait to reconnect and gather direct intelligence what transactions and blocks the node gossips. With this feature, there is no reuse.\r\n<!-- Add any other context or screenshots about the feature request here. -->\r\n",
    "user": {
      "login": "Willtech",
      "id": 1173622,
      "node_id": "MDQ6VXNlcjExNzM2MjI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1173622?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Willtech",
      "html_url": "https://github.com/Willtech",
      "followers_url": "https://api.github.com/users/Willtech/followers",
      "following_url": "https://api.github.com/users/Willtech/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/Willtech/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/Willtech/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/Willtech/subscriptions",
      "organizations_url": "https://api.github.com/users/Willtech/orgs",
      "repos_url": "https://api.github.com/users/Willtech/repos",
      "events_url": "https://api.github.com/users/Willtech/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/Willtech/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 64583,
        "node_id": "MDU6TGFiZWw2NDU4Mw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Feature",
        "name": "Feature",
        "color": "7cf575",
        "default": false
      },
      {
        "id": 98298007,
        "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
        "name": "P2P",
        "color": "006b75",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "locked": false,
    "comments": 8,
    "created_at": "2019-11-15T20:20:41Z",
    "updated_at": "2020-10-08T10:49:35Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 2803875707,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDI4MDM4NzU3MDc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2803875707",
      "actor": {
        "login": "Willtech",
        "id": 1173622,
        "node_id": "MDQ6VXNlcjExNzM2MjI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1173622?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Willtech",
        "html_url": "https://github.com/Willtech",
        "followers_url": "https://api.github.com/users/Willtech/followers",
        "following_url": "https://api.github.com/users/Willtech/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Willtech/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Willtech/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Willtech/subscriptions",
        "organizations_url": "https://api.github.com/users/Willtech/orgs",
        "repos_url": "https://api.github.com/users/Willtech/repos",
        "events_url": "https://api.github.com/users/Willtech/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Willtech/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-11-15T20:20:41Z",
      "label": {
        "name": "Feature",
        "color": "7cf575"
      }
    },
    {
      "event": "renamed",
      "id": 2803877192,
      "node_id": "MDE3OlJlbmFtZWRUaXRsZUV2ZW50MjgwMzg3NzE5Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2803877192",
      "actor": {
        "login": "Willtech",
        "id": 1173622,
        "node_id": "MDQ6VXNlcjExNzM2MjI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1173622?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Willtech",
        "html_url": "https://github.com/Willtech",
        "followers_url": "https://api.github.com/users/Willtech/followers",
        "following_url": "https://api.github.com/users/Willtech/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Willtech/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Willtech/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Willtech/subscriptions",
        "organizations_url": "https://api.github.com/users/Willtech/orgs",
        "repos_url": "https://api.github.com/users/Willtech/repos",
        "events_url": "https://api.github.com/users/Willtech/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Willtech/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-11-15T20:21:18Z",
      "rename": {
        "from": "Ephemeral Hiiden Service Rejuvenation",
        "to": "Ephemeral Hiden Service Rejuvenation [Tor]"
      }
    },
    {
      "event": "labeled",
      "id": 2803877390,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDI4MDM4NzczOTA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2803877390",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-11-15T20:21:23Z",
      "label": {
        "name": "P2P",
        "color": "006b75"
      }
    },
    {
      "event": "commented",
      "id": 554552113,
      "node_id": "MDEyOklzc3VlQ29tbWVudDU1NDU1MjExMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/554552113",
      "actor": {
        "login": "JeremyCrookshank",
        "id": 46864828,
        "node_id": "MDQ6VXNlcjQ2ODY0ODI4",
        "avatar_url": "https://avatars.githubusercontent.com/u/46864828?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/JeremyCrookshank",
        "html_url": "https://github.com/JeremyCrookshank",
        "followers_url": "https://api.github.com/users/JeremyCrookshank/followers",
        "following_url": "https://api.github.com/users/JeremyCrookshank/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/JeremyCrookshank/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/JeremyCrookshank/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/JeremyCrookshank/subscriptions",
        "organizations_url": "https://api.github.com/users/JeremyCrookshank/orgs",
        "repos_url": "https://api.github.com/users/JeremyCrookshank/repos",
        "events_url": "https://api.github.com/users/JeremyCrookshank/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/JeremyCrookshank/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-11-15T22:20:30Z",
      "updated_at": "2019-11-15T22:20:30Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK. If general consensus is positive I'd like to create this.",
      "user": {
        "login": "JeremyCrookshank",
        "id": 46864828,
        "node_id": "MDQ6VXNlcjQ2ODY0ODI4",
        "avatar_url": "https://avatars.githubusercontent.com/u/46864828?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/JeremyCrookshank",
        "html_url": "https://github.com/JeremyCrookshank",
        "followers_url": "https://api.github.com/users/JeremyCrookshank/followers",
        "following_url": "https://api.github.com/users/JeremyCrookshank/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/JeremyCrookshank/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/JeremyCrookshank/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/JeremyCrookshank/subscriptions",
        "organizations_url": "https://api.github.com/users/JeremyCrookshank/orgs",
        "repos_url": "https://api.github.com/users/JeremyCrookshank/repos",
        "events_url": "https://api.github.com/users/JeremyCrookshank/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/JeremyCrookshank/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/17491#issuecomment-554552113",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17491"
    },
    {
      "event": "commented",
      "id": 554917223,
      "node_id": "MDEyOklzc3VlQ29tbWVudDU1NDkxNzIyMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/554917223",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-11-18T08:55:44Z",
      "updated_at": "2019-11-18T08:58:45Z",
      "author_association": "MEMBER",
      "body": "General concept ACK. More user control over the automatic Tor hidden service would be useful.\r\n\r\nSay, a button to generate a new hidden service.\r\n\r\nThough, specifically, I'm interested in why you'd want to create a new hidden service *every launch*.  The gossip process is slow, and it will take ages for other peers to find you and connect to you again. By that time you've already moved on. How I see it, you might as well just disable incoming connections.",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/17491#issuecomment-554917223",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17491"
    },
    {
      "event": "renamed",
      "id": 2807281116,
      "node_id": "MDE3OlJlbmFtZWRUaXRsZUV2ZW50MjgwNzI4MTExNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2807281116",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-11-18T12:13:01Z",
      "rename": {
        "from": "Ephemeral Hiden Service Rejuvenation [Tor]",
        "to": "Tor ephemeral hidden service rejuvenation"
      }
    },
    {
      "event": "commented",
      "id": 560170256,
      "node_id": "MDEyOklzc3VlQ29tbWVudDU2MDE3MDI1Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/560170256",
      "actor": {
        "login": "Willtech",
        "id": 1173622,
        "node_id": "MDQ6VXNlcjExNzM2MjI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1173622?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Willtech",
        "html_url": "https://github.com/Willtech",
        "followers_url": "https://api.github.com/users/Willtech/followers",
        "following_url": "https://api.github.com/users/Willtech/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Willtech/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Willtech/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Willtech/subscriptions",
        "organizations_url": "https://api.github.com/users/Willtech/orgs",
        "repos_url": "https://api.github.com/users/Willtech/repos",
        "events_url": "https://api.github.com/users/Willtech/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Willtech/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-12-01T22:54:16Z",
      "updated_at": "2019-12-01T22:54:16Z",
      "author_association": "CONTRIBUTOR",
      "body": "In support of the feature, once your ephemeral service is discovered once it can be added to a peer's .conf as an addnode= line which we should expect allows for the node to be connected to again fairly easily when it comes online, and so a tick box to allow creation of a new ephemeral hidden service is requested, along with an on-demand create new ephemeral hidden service button. This does not disable incoming connections but only prevents tracking of gossiping across multiple sessions.\r\n",
      "user": {
        "login": "Willtech",
        "id": 1173622,
        "node_id": "MDQ6VXNlcjExNzM2MjI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1173622?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Willtech",
        "html_url": "https://github.com/Willtech",
        "followers_url": "https://api.github.com/users/Willtech/followers",
        "following_url": "https://api.github.com/users/Willtech/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Willtech/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Willtech/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Willtech/subscriptions",
        "organizations_url": "https://api.github.com/users/Willtech/orgs",
        "repos_url": "https://api.github.com/users/Willtech/repos",
        "events_url": "https://api.github.com/users/Willtech/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Willtech/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/17491#issuecomment-560170256",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17491"
    },
    {
      "event": "commented",
      "id": 694515265,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY5NDUxNTI2NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/694515265",
      "actor": {
        "login": "ghost",
        "id": 10137,
        "node_id": "MDQ6VXNlcjEwMTM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ghost",
        "html_url": "https://github.com/ghost",
        "followers_url": "https://api.github.com/users/ghost/followers",
        "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
        "organizations_url": "https://api.github.com/users/ghost/orgs",
        "repos_url": "https://api.github.com/users/ghost/repos",
        "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ghost/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-17T21:43:44Z",
      "updated_at": "2020-09-17T21:43:44Z",
      "author_association": "NONE",
      "body": "Concept ACK\r\n\r\nhttps://github.com/bitcoin/bitcoin/pull/19635#issuecomment-693130221",
      "user": {
        "login": "ghost",
        "id": 10137,
        "node_id": "MDQ6VXNlcjEwMTM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ghost",
        "html_url": "https://github.com/ghost",
        "followers_url": "https://api.github.com/users/ghost/followers",
        "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
        "organizations_url": "https://api.github.com/users/ghost/orgs",
        "repos_url": "https://api.github.com/users/ghost/repos",
        "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ghost/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/17491#issuecomment-694515265",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17491"
    },
    {
      "event": "commented",
      "id": 702108685,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwMjEwODY4NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/702108685",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-01T12:44:13Z",
      "updated_at": "2020-10-02T19:28:22Z",
      "author_association": "CONTRIBUTOR",
      "body": "Having a button would be harmless, I suppose, except for the additional review, testing, and potential for user confusion.  But from the above it sounds to me that the motivation for this sort of thing is largely misguided.\r\n\r\nHaving a per-session HS would be pointless-- it would get no or essentially no connections, and it would waste network resources rumoring useless addresses and attempting to connect to them.  It is also unnecessary: Bitcoin works perfectly fine over tor without creating _any_ HS or accepting incoming connections-- and this is generally the most private way to use it.\r\n\r\nBitcoin also does not do a particularly complete job of preventing a given host from being tracked across different identities-- e.g. the content of your addrman database will usually uniquely identify you (particularly if an attacker does some work to tag your state), similarly the mempool can be abused in this manner too using slow to confirm transactions.  The swapping from one identity to another would also create a temporal signal (X stops, Y starts at the same time) which could be used to trace the user.\r\n\r\nHaving short lived pseudonymous identities is with some respect the worse of all worlds-- not getting additional inbound connectivity, not providing a useful service to the network,  wasting rumour/connect resources, and still leaking information that could be used by an attacker to continually stay connected to a particular target.\r\n\r\nFor different protocols where inbound connections are important the considerations might be entirely different.\r\n\r\nEdit:  After some reflection I guessed that maybe people are trying to imitate the new-identity button in torbrowser. If so: bitcoin already makes every single connection with new circuits, so nothing is needed there.\r\n",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/17491#issuecomment-702108685",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17491"
    },
    {
      "event": "commented",
      "id": 703561042,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwMzU2MTA0Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/703561042",
      "actor": {
        "login": "Willtech",
        "id": 1173622,
        "node_id": "MDQ6VXNlcjExNzM2MjI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1173622?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Willtech",
        "html_url": "https://github.com/Willtech",
        "followers_url": "https://api.github.com/users/Willtech/followers",
        "following_url": "https://api.github.com/users/Willtech/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Willtech/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Willtech/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Willtech/subscriptions",
        "organizations_url": "https://api.github.com/users/Willtech/orgs",
        "repos_url": "https://api.github.com/users/Willtech/repos",
        "events_url": "https://api.github.com/users/Willtech/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Willtech/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-05T11:04:46Z",
      "updated_at": "2020-10-05T11:07:21Z",
      "author_association": "CONTRIBUTOR",
      "body": "Let's keep it simple. A setting to create a new ephemeral session each restart of Bitcoin Core (bitcoin-gui/bitcoind) and a button to do so immediately.\r\n\r\n> Having a per-session HS would be pointless  \r\n\r\nPer Bitcoin Core run session is certainly not pointless, in fact very much the thing this calls for.\r\n\r\n> X stops, Y starts at the same time) which could be used to trace the user.  \r\n\r\nIt is certainly not necessary to close off the old ephemeral session, it can simply time out as far as Tor network is concerned.\r\n",
      "user": {
        "login": "Willtech",
        "id": 1173622,
        "node_id": "MDQ6VXNlcjExNzM2MjI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1173622?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Willtech",
        "html_url": "https://github.com/Willtech",
        "followers_url": "https://api.github.com/users/Willtech/followers",
        "following_url": "https://api.github.com/users/Willtech/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Willtech/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Willtech/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Willtech/subscriptions",
        "organizations_url": "https://api.github.com/users/Willtech/orgs",
        "repos_url": "https://api.github.com/users/Willtech/repos",
        "events_url": "https://api.github.com/users/Willtech/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Willtech/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/17491#issuecomment-703561042",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17491"
    },
    {
      "event": "commented",
      "id": 703845228,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwMzg0NTIyOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/703845228",
      "actor": {
        "login": "ghost",
        "id": 10137,
        "node_id": "MDQ6VXNlcjEwMTM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ghost",
        "html_url": "https://github.com/ghost",
        "followers_url": "https://api.github.com/users/ghost/followers",
        "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
        "organizations_url": "https://api.github.com/users/ghost/orgs",
        "repos_url": "https://api.github.com/users/ghost/repos",
        "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ghost/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-05T19:37:33Z",
      "updated_at": "2020-10-05T19:38:28Z",
      "author_association": "NONE",
      "body": "1. When was the first time I thought about having such option and where did I read about it?\r\n\r\n> Also, if you delete this file, the next time bitcoind loads it will generate a new key file and xxxxxxxx.onion address. Note that while a malicious party cannot necessarily associate the server with you as a person, as long as your server has the same xxxx.onion address they will know it is run by the same person. For absolute security **delete onion_private_key at each reboot or some frequent interval**.\r\n\r\nhttps://en.bitcoin.it/wiki/Setting_up_a_Tor_hidden_service\r\n\r\n2. Why do I think we need to automate renewal of onion address? \r\n\r\nBecause user may forget about deleting onion_private_key for a long time. This blog has so many articles about vulnerabilities or ways to attack Tor users: http://hackerfactor.com/blog and we cannot assume Tor is super anonymous which will somehow protect privacy of Bitcoin users. I am not sure but if there are ways or possible in future to associate transactions with onion service then using the same address for long is bad practice.\r\n\r\n3. As sipa, gmaxwell and few others mentioned changing it on every restart will affect the way it works. Also will depend on the time bitcoind is running before restart. So, best solution is to have one option if enabled it should either ask the user to save the time interval or randomly delete the file once in every few days.\r\n\r\n4. > Bitcoin works perfectly fine over tor without creating any HS or accepting incoming connections-- and this is generally the most private way to use it.\r\n\r\n@gmaxwell I am not sure If I agree with this statement or maybe need more details/context.\r\n\r\n5. > Why should you run a Bitcoin hidden service on your node?\r\n* It increases the privacy of other Bitcoin users who are anonymizing their actions via Tor. Specifically, it is a countermeasure to many of the “network observer” attacks listed on the Open Bitcoin Privacy Project’s threat model.\r\n* It makes your own node more robust against Sybil attacks and network partitions.\r\n* It doesn’t require much more computational resources to run, just the one-time setup cost of configuring your machine.\r\n\r\nhttps://blog.lopp.net/how-to-run-bitcoin-as-a-tor-hidden-service-on-ubuntu/\r\n\r\n6. I have also suggested two points to be added in Tor documentation: https://github.com/bitcoin/bitcoin/pull/19961#pullrequestreview-496994023\r\n\r\nExamples to run Bitcoin as onion service, use of tor bridges and safe ways to connect over tor\r\nChecking onion address",
      "user": {
        "login": "ghost",
        "id": 10137,
        "node_id": "MDQ6VXNlcjEwMTM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ghost",
        "html_url": "https://github.com/ghost",
        "followers_url": "https://api.github.com/users/ghost/followers",
        "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
        "organizations_url": "https://api.github.com/users/ghost/orgs",
        "repos_url": "https://api.github.com/users/ghost/repos",
        "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ghost/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/17491#issuecomment-703845228",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17491"
    },
    {
      "event": "mentioned",
      "id": 3842117523,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50Mzg0MjExNzUyMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3842117523",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-05T19:37:34Z"
    },
    {
      "event": "subscribed",
      "id": 3842117525,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM4NDIxMTc1MjU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3842117525",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-05T19:37:34Z"
    },
    {
      "event": "commented",
      "id": 705485718,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwNTQ4NTcxOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/705485718",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-08T10:39:52Z",
      "updated_at": "2020-10-08T10:49:35Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Per Bitcoin Core run session is certainly not pointless, in fact very much the thing this calls for.\r\n\r\nThe fact that it's what you're asking for alone does not make it non-pointless. :)   I think I gave an adequate explanation as to why changing your HS endpoint largely defeats the purpose of having a HS endpoint at all,  it's not clear to me how much of my comment you've read.\r\n\r\n> https://en.bitcoin.it/wiki/Setting_up_a_Tor_hidden_service Why do I think we need to automate renewal of onion address?\r\n> Because user may forget about deleting onion_private_key for a long time.\r\n\r\nThe bitcoin wiki is an open public wiki, most changes go without any review by anyone. It frequently contains confused or wrong information for substantial spans of time.  (it also frequently has good stuff... but \"the wiki says something\" isn't by itself much of a case).\r\n\r\n>  I am not sure but if there are ways or possible in future to associate transactions with onion service then using the same address for long is bad practice.\r\n\r\nThat would be a serious vulnerability in its own right.  If someone is concerned about that the best move is to not have a HS on that node at all.  If we're just speculating about some hypothetical vulnerability that might somehow be discovered, not running a HS is the only clear solution.  Otherwise any particular rotation schedule might be insufficient.\r\n\r\nAlso, it sounds like the text you are quoting is concerned with identifying material on your own machine... however there is absurdly identifying material all over a bitcoin install-- in the logs, in the ancillary data created by the databases, in the shell histories of cli users, etc. \r\n\r\n> It makes your own node more robust against Sybil attacks and network partitions.\r\n\r\nUnlikely: Connecting _out_ to HS likely does, but your nodes HS address is unrelated to making out-bound connections. Inbound connections are potentially entirely attacker controlled.\r\n\r\nBut I think my question there wasn't clear. I am not criticising the use of HS, but pointing out that if someone is operating in some super security paranoid mode then the correct move is to not listen at all on the node they are trying to protect, because any listening lets attackers actively connect into them.  Frequently changing HS addresses is the worst of all worlds-- attackers can still connect but because the address often changing it won't add much (if any) connectivity to the network and even wastes peers time/bandwidth with useless old addresses (this could potentially be reduced by adding a expiration time to addr records-- but that seems like a lot of work for a behaviour without much clear utility).\r\n\r\nAside, pages like  https://en.bitcoin.it/wiki/Setting_up_a_Tor_hidden_service are extremely outdated and wrong.  No configuration is needed to setup a hidden service now beyond having a tor install with a working control port, and using that is covered in tor.md.  The reason it doesn't go into more detail is because those details are all automated and not needed anymore.\r\n\r\n\r\n",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/17491#issuecomment-705485718",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17491"
    }
  ]
}