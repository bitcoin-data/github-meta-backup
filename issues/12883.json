{
  "type": "issue",
  "issue": {
    "id": 311255133,
    "node_id": "MDU6SXNzdWUzMTEyNTUxMzM=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12883",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12883/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12883/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12883/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/12883",
    "number": 12883,
    "state": "open",
    "state_reason": null,
    "title": "Wallet transactions affected by RBF double spends are not (always) clearly shown in GUI or RPC",
    "body": "# What behavior did you expect?\r\n\r\nWhen the mempool contains a transaction that conflicts with a wallet transaction, for this to (always) be visible in both bitcoin-qt GUI and bitcoin-cli output.\r\n\r\n# What was the actual behavior (provide screenshots if the issue is GUI-related)?\r\n\r\nRPC:\r\nIf the conflicting transaction touches the wallet (eg. if you are the sender, or if you are the recipient and we are considering an honest RBF feebump), the conflict is visible in the (undocumented) `walletconflicts` return value of the `listtransactions` and `gettransaction` RPC calls. In the case the conflicting transaction does NOT touch the wallet (eg. if you are the receiver of a maliciously doublespent RBF transaction), this is not indicated.\r\n\r\nGUI:\r\nIf the conflicting transaction touches the wallet (eg. if you are the sender, or if you are the recipient and we are considering an honest RBF feebump), all versions are visible in the GUI, without indication of conflict between them, but the \"pending\" part of the balance (correctly) does not show a duplicate amount of incoming money. In the case the conflicting transaction does NOT touch the wallet (eg. if you are the receiver of a maliciously doublespent RBF transaction), there is no indication of any conflict (pending balance still counts the incoming transaction that has been doublespent) aside from the transaction details stating it is not in the mempool.\r\n\r\n![rbfdoublespend1](https://user-images.githubusercontent.com/37372069/38313687-eb5b8e02-3824-11e8-8f02-cd124946f54f.png)\r\n\r\n![rbfdoublespend2](https://user-images.githubusercontent.com/37372069/38313690-ef300f1c-3824-11e8-80e8-0506924c6454.png)\r\n\r\n![rbfdoublespend3](https://user-images.githubusercontent.com/37372069/38313695-f1a1819a-3824-11e8-9c6b-eba5778353e3.png)\r\n\r\n# How reliably can you reproduce the issue, what are the steps to do so?\r\n\r\nVery reliably; screenshots provided are from 3 interconnected regtest nodes, the top node has mined some coins and has first spent them to the middle node, RBF-feebumped that transaction (only second transaction shown in screenshots), RBF-doublespent it to the bottom node, then RBF-doublespent it to itself. All nodes have only the latest transaction in the mempool.\r\n\r\n# What version of Bitcoin Core are you using, where did you get it (website, self-compiled, etc)?\r\n\r\nVersion 0.16.0, pre-compiled version from bitcoincore.org.",
    "user": {
      "login": "setpill",
      "id": 37372069,
      "node_id": "MDQ6VXNlcjM3MzcyMDY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/37372069?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/setpill",
      "html_url": "https://github.com/setpill",
      "followers_url": "https://api.github.com/users/setpill/followers",
      "following_url": "https://api.github.com/users/setpill/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/setpill/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/setpill/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/setpill/subscriptions",
      "organizations_url": "https://api.github.com/users/setpill/orgs",
      "repos_url": "https://api.github.com/users/setpill/repos",
      "events_url": "https://api.github.com/users/setpill/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/setpill/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 64583,
        "node_id": "MDU6TGFiZWw2NDU4Mw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Feature",
        "name": "Feature",
        "color": "7cf575",
        "default": false
      },
      {
        "id": 64584,
        "node_id": "MDU6TGFiZWw2NDU4NA==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Brainstorming",
        "name": "Brainstorming",
        "color": "ebd775",
        "default": false
      },
      {
        "id": 149424,
        "node_id": "MDU6TGFiZWwxNDk0MjQ=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
        "name": "Wallet",
        "color": "08a781",
        "default": false
      },
      {
        "id": 164208572,
        "node_id": "MDU6TGFiZWwxNjQyMDg1NzI=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Mempool",
        "name": "Mempool",
        "color": "fef2c0",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "locked": false,
    "comments": 9,
    "created_at": "2018-04-04T14:30:01Z",
    "updated_at": "2022-08-15T13:38:52Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 1556619205,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDE1NTY2MTkyMDU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1556619205",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-04-04T14:33:45Z",
      "label": {
        "name": "Mempool",
        "color": "fef2c0"
      }
    },
    {
      "event": "mentioned",
      "id": 1556632996,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTU1NjYzMjk5Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1556632996",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-04-04T14:39:11Z"
    },
    {
      "event": "subscribed",
      "id": 1556632997,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE1NTY2MzI5OTc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1556632997",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-04-04T14:39:11Z"
    },
    {
      "event": "labeled",
      "id": 1556635471,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDE1NTY2MzU0NzE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1556635471",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-04-04T14:40:10Z",
      "label": {
        "name": "Wallet",
        "color": "08a781"
      }
    },
    {
      "event": "commented",
      "id": 378647860,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM3ODY0Nzg2MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/378647860",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-04-04T15:45:09Z",
      "updated_at": "2018-04-04T15:45:09Z",
      "author_association": "MEMBER",
      "body": "More broadly, I'd like to see some sort of warning if an incoming transaction is replaced by one with a reduced (or zero) amount going to the wallet.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/12883#issuecomment-378647860",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12883"
    },
    {
      "event": "commented",
      "id": 379214402,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM3OTIxNDQwMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/379214402",
      "actor": {
        "login": "setpill",
        "id": 37372069,
        "node_id": "MDQ6VXNlcjM3MzcyMDY5",
        "avatar_url": "https://avatars.githubusercontent.com/u/37372069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setpill",
        "html_url": "https://github.com/setpill",
        "followers_url": "https://api.github.com/users/setpill/followers",
        "following_url": "https://api.github.com/users/setpill/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setpill/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setpill/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setpill/subscriptions",
        "organizations_url": "https://api.github.com/users/setpill/orgs",
        "repos_url": "https://api.github.com/users/setpill/repos",
        "events_url": "https://api.github.com/users/setpill/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setpill/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-04-06T10:29:49Z",
      "updated_at": "2018-04-06T11:47:51Z",
      "author_association": "CONTRIBUTOR",
      "body": "Related scenario:\r\n\r\n* 2 regtest nodes; node0 and node1\r\n* node0 sends 10 BTC to node1 (~40 BTC change) in tx0A\r\n* node0 RBF-doublespends ~50 BTC to itself in tx0B that conflicts with tx0A\r\n* node0 spends the output of tx0B to send 5 BTC to node1, ~45 BTC change in tx1B\r\n\r\nOutcome:\r\n* 5 BTC pending balance in node1 (expected)\r\n* node1 has 2 incoming transactions; tx0A and tx1B, these are not in each other's `walletconflicts` because only tx1B's parent (tx0B) spends the same outputs as tx0A and is therefore \"directly conflicting\"\r\n\r\nExpected:\r\n* node1's incoming transactions (tx0A and tx1B) should be in each other's `walletconflicts` since they are wallet-touching transactions that are mutually conflicting.",
      "user": {
        "login": "setpill",
        "id": 37372069,
        "node_id": "MDQ6VXNlcjM3MzcyMDY5",
        "avatar_url": "https://avatars.githubusercontent.com/u/37372069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setpill",
        "html_url": "https://github.com/setpill",
        "followers_url": "https://api.github.com/users/setpill/followers",
        "following_url": "https://api.github.com/users/setpill/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setpill/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setpill/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setpill/subscriptions",
        "organizations_url": "https://api.github.com/users/setpill/orgs",
        "repos_url": "https://api.github.com/users/setpill/repos",
        "events_url": "https://api.github.com/users/setpill/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setpill/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/12883#issuecomment-379214402",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12883"
    },
    {
      "event": "commented",
      "id": 379711112,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM3OTcxMTExMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/379711112",
      "actor": {
        "login": "setpill",
        "id": 37372069,
        "node_id": "MDQ6VXNlcjM3MzcyMDY5",
        "avatar_url": "https://avatars.githubusercontent.com/u/37372069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setpill",
        "html_url": "https://github.com/setpill",
        "followers_url": "https://api.github.com/users/setpill/followers",
        "following_url": "https://api.github.com/users/setpill/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setpill/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setpill/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setpill/subscriptions",
        "organizations_url": "https://api.github.com/users/setpill/orgs",
        "repos_url": "https://api.github.com/users/setpill/repos",
        "events_url": "https://api.github.com/users/setpill/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setpill/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-04-09T10:46:16Z",
      "updated_at": "2018-04-09T10:46:16Z",
      "author_association": "CONTRIBUTOR",
      "body": "Adding the sending address as watch-only using `importaddress` is an effective (but ugly) workaround; pending balance goes to zero on an RBF-doublespend, `walletconflicts` is filled.",
      "user": {
        "login": "setpill",
        "id": 37372069,
        "node_id": "MDQ6VXNlcjM3MzcyMDY5",
        "avatar_url": "https://avatars.githubusercontent.com/u/37372069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setpill",
        "html_url": "https://github.com/setpill",
        "followers_url": "https://api.github.com/users/setpill/followers",
        "following_url": "https://api.github.com/users/setpill/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setpill/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setpill/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setpill/subscriptions",
        "organizations_url": "https://api.github.com/users/setpill/orgs",
        "repos_url": "https://api.github.com/users/setpill/repos",
        "events_url": "https://api.github.com/users/setpill/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setpill/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/12883#issuecomment-379711112",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12883"
    },
    {
      "event": "commented",
      "id": 500109217,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUwMDEwOTIxNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/500109217",
      "actor": {
        "login": "salmanfarisk",
        "id": 43856875,
        "node_id": "MDQ6VXNlcjQzODU2ODc1",
        "avatar_url": "https://avatars.githubusercontent.com/u/43856875?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/salmanfarisk",
        "html_url": "https://github.com/salmanfarisk",
        "followers_url": "https://api.github.com/users/salmanfarisk/followers",
        "following_url": "https://api.github.com/users/salmanfarisk/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/salmanfarisk/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/salmanfarisk/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/salmanfarisk/subscriptions",
        "organizations_url": "https://api.github.com/users/salmanfarisk/orgs",
        "repos_url": "https://api.github.com/users/salmanfarisk/repos",
        "events_url": "https://api.github.com/users/salmanfarisk/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/salmanfarisk/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-06-08T09:12:01Z",
      "updated_at": "2019-06-08T09:12:01Z",
      "author_association": "NONE",
      "body": "Have any progress for this kind of issue...??",
      "user": {
        "login": "salmanfarisk",
        "id": 43856875,
        "node_id": "MDQ6VXNlcjQzODU2ODc1",
        "avatar_url": "https://avatars.githubusercontent.com/u/43856875?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/salmanfarisk",
        "html_url": "https://github.com/salmanfarisk",
        "followers_url": "https://api.github.com/users/salmanfarisk/followers",
        "following_url": "https://api.github.com/users/salmanfarisk/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/salmanfarisk/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/salmanfarisk/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/salmanfarisk/subscriptions",
        "organizations_url": "https://api.github.com/users/salmanfarisk/orgs",
        "repos_url": "https://api.github.com/users/salmanfarisk/repos",
        "events_url": "https://api.github.com/users/salmanfarisk/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/salmanfarisk/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/12883#issuecomment-500109217",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12883"
    },
    {
      "event": "commented",
      "id": 1214326141,
      "node_id": "IC_kwDOABII585IYSV9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1214326141",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-14T10:09:04Z",
      "updated_at": "2022-08-14T10:09:04Z",
      "author_association": "MEMBER",
      "body": "Not sure if this feature will be of any use. You shouldn't be trusting txs signed by a third party until they are confirmed sufficiently.\r\n\r\nAlso, there are other reasons why a transaction can leave the mempool. See https://github.com/bitcoin/bitcoin/blob/dc9d6626835ec2864dfa747c12071dabdc95b919/src/txmempool.h#L349\r\n\r\nAlso, if the replacement tx is replaced itself again, do you also want to keep that tx in your wallet even though it has no effect on it and will only bloat your wallet?",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/12883#issuecomment-1214326141",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12883"
    },
    {
      "event": "labeled",
      "id": 7184469757,
      "node_id": "LE_lADOABII584SjWBdzwAAAAGsOk79",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7184469757",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-14T10:09:11Z",
      "label": {
        "name": "Feature",
        "color": "7cf575"
      }
    },
    {
      "event": "renamed",
      "id": 7186991149,
      "node_id": "RTE_lADOABII584SjWBdzwAAAAGsYMgt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7186991149",
      "actor": {
        "login": "setpill",
        "id": 37372069,
        "node_id": "MDQ6VXNlcjM3MzcyMDY5",
        "avatar_url": "https://avatars.githubusercontent.com/u/37372069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setpill",
        "html_url": "https://github.com/setpill",
        "followers_url": "https://api.github.com/users/setpill/followers",
        "following_url": "https://api.github.com/users/setpill/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setpill/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setpill/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setpill/subscriptions",
        "organizations_url": "https://api.github.com/users/setpill/orgs",
        "repos_url": "https://api.github.com/users/setpill/repos",
        "events_url": "https://api.github.com/users/setpill/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setpill/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-15T08:25:38Z",
      "rename": {
        "from": "Transactions in mempool that conflict with wallet transactions are not (always) shown in GUI or RPC",
        "to": "Wallet transactions affected by RBF double spends are not (always) clearly shown in GUI or RPC"
      }
    },
    {
      "event": "commented",
      "id": 1214753803,
      "node_id": "IC_kwDOABII585IZ6wL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1214753803",
      "actor": {
        "login": "setpill",
        "id": 37372069,
        "node_id": "MDQ6VXNlcjM3MzcyMDY5",
        "avatar_url": "https://avatars.githubusercontent.com/u/37372069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setpill",
        "html_url": "https://github.com/setpill",
        "followers_url": "https://api.github.com/users/setpill/followers",
        "following_url": "https://api.github.com/users/setpill/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setpill/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setpill/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setpill/subscriptions",
        "organizations_url": "https://api.github.com/users/setpill/orgs",
        "repos_url": "https://api.github.com/users/setpill/repos",
        "events_url": "https://api.github.com/users/setpill/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setpill/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-15T08:32:06Z",
      "updated_at": "2022-08-15T08:32:06Z",
      "author_association": "CONTRIBUTOR",
      "body": "Agreed wrt. shouldn't trust unmined 3rd party txes. But as described in the original report, the wallet shows inaccurate information, and it would be nice to have a warning that a pending incoming tx was replaced.\r\n\r\n> Also, if the replacement tx is replaced itself again, do you also want to keep that tx in your wallet even though it has no effect on it and will only bloat your wallet?\r\n\r\nNo, that wouldn't be desirable, hence why the workaround is ugly.",
      "user": {
        "login": "setpill",
        "id": 37372069,
        "node_id": "MDQ6VXNlcjM3MzcyMDY5",
        "avatar_url": "https://avatars.githubusercontent.com/u/37372069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setpill",
        "html_url": "https://github.com/setpill",
        "followers_url": "https://api.github.com/users/setpill/followers",
        "following_url": "https://api.github.com/users/setpill/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setpill/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setpill/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setpill/subscriptions",
        "organizations_url": "https://api.github.com/users/setpill/orgs",
        "repos_url": "https://api.github.com/users/setpill/repos",
        "events_url": "https://api.github.com/users/setpill/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setpill/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/12883#issuecomment-1214753803",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12883"
    },
    {
      "event": "commented",
      "id": 1214779706,
      "node_id": "IC_kwDOABII585IaBE6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1214779706",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-15T09:06:44Z",
      "updated_at": "2022-08-15T09:06:44Z",
      "author_association": "MEMBER",
      "body": "I'd say that `walletconflicts`, `replaced_by_txid`, and `replaces_txid` are only meaningful and valid for txs that were signed by your own wallet, for example for a a fee bump. Not sure if this can be improved with documentation.\r\n\r\nMaybe you could explain the use case you need this for, and why let's say `\"trusted\"` isn't enough to check.",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/12883#issuecomment-1214779706",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12883"
    },
    {
      "event": "commented",
      "id": 1214853404,
      "node_id": "IC_kwDOABII585IaTEc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1214853404",
      "actor": {
        "login": "setpill",
        "id": 37372069,
        "node_id": "MDQ6VXNlcjM3MzcyMDY5",
        "avatar_url": "https://avatars.githubusercontent.com/u/37372069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setpill",
        "html_url": "https://github.com/setpill",
        "followers_url": "https://api.github.com/users/setpill/followers",
        "following_url": "https://api.github.com/users/setpill/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setpill/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setpill/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setpill/subscriptions",
        "organizations_url": "https://api.github.com/users/setpill/orgs",
        "repos_url": "https://api.github.com/users/setpill/repos",
        "events_url": "https://api.github.com/users/setpill/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setpill/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-15T10:13:37Z",
      "updated_at": "2022-08-15T10:14:37Z",
      "author_association": "CONTRIBUTOR",
      "body": "It should be noted that this issue was just randomly stumbled across when playing around with regtest, and reported as a \"bug\" in the sense of \"this doesn't work as I expected\". As such, there isn't a specific use case I practically need this for. However, for illustrative purposes, here is a hypothetical but realistic use case:\r\n\r\n* Merchant website, being able to give user rich feedback on pending payment status. E.g. to show a warning if a payment is unlikely to succeed, due to it being RBFed by a tx that does not pay out to merchant.",
      "user": {
        "login": "setpill",
        "id": 37372069,
        "node_id": "MDQ6VXNlcjM3MzcyMDY5",
        "avatar_url": "https://avatars.githubusercontent.com/u/37372069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setpill",
        "html_url": "https://github.com/setpill",
        "followers_url": "https://api.github.com/users/setpill/followers",
        "following_url": "https://api.github.com/users/setpill/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setpill/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setpill/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setpill/subscriptions",
        "organizations_url": "https://api.github.com/users/setpill/orgs",
        "repos_url": "https://api.github.com/users/setpill/repos",
        "events_url": "https://api.github.com/users/setpill/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setpill/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/12883#issuecomment-1214853404",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12883"
    },
    {
      "event": "commented",
      "id": 1214866219,
      "node_id": "IC_kwDOABII585IaWMr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1214866219",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-15T10:29:24Z",
      "updated_at": "2022-08-15T10:29:24Z",
      "author_association": "MEMBER",
      "body": "Yeah, I think that the user knows it best themselves if they asked their wallet to sign a tx to feebump/cancel (or do some other kind of rbf), so there wouldn't be a need for the merchant to tell the user what they already know. (If they really wanted to, they could do that once the original tx has either +1 or -1 confirmations. To avoid giving out a false alarm if the original tx still makes it in.)\r\n\r\n\r\n",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/12883#issuecomment-1214866219",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12883"
    },
    {
      "event": "labeled",
      "id": 7188757604,
      "node_id": "LE_lADOABII584SjWBdzwAAAAGse7xk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7188757604",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-15T13:38:52Z",
      "label": {
        "name": "Brainstorming",
        "color": "ebd775"
      }
    }
  ]
}