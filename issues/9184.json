{
  "type": "issue",
  "issue": {
    "id": 190231987,
    "node_id": "MDU6SXNzdWUxOTAyMzE5ODc=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9184",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9184/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9184/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9184/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/9184",
    "number": 9184,
    "state": "closed",
    "state_reason": "completed",
    "title": "keep a copy of genesis block [0] using pruning mode",
    "body": "Hi,\r\n\r\nexternal applications connecting to bitcoind using rpc calls usually check the details of the genesis block to be sure that bitcoind is serving requests correctly.\r\n\r\nEnabling pruning mode throws out error messages in this case, because the genesis block seems to get pruned, too:\r\nlike i.e. p2pool.util.jsonrpc.NarrowError: -32603 Block not available (pruned data)\r\n\r\nIs it possible to keep a copy of the genesis block enabling pruning mode?",
    "user": {
      "login": "fflo",
      "id": 6385715,
      "node_id": "MDQ6VXNlcjYzODU3MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6385715?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fflo",
      "html_url": "https://github.com/fflo",
      "followers_url": "https://api.github.com/users/fflo/followers",
      "following_url": "https://api.github.com/users/fflo/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/fflo/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/fflo/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/fflo/subscriptions",
      "organizations_url": "https://api.github.com/users/fflo/orgs",
      "repos_url": "https://api.github.com/users/fflo/repos",
      "events_url": "https://api.github.com/users/fflo/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/fflo/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 98279177,
        "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
        "name": "RPC/REST/ZMQ",
        "color": "0052cc",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "NONE",
    "locked": true,
    "active_lock_reason": "resolved",
    "comments": 5,
    "closed_at": "2018-07-16T18:41:31Z",
    "created_at": "2016-11-18T04:09:38Z",
    "updated_at": "2021-09-08T12:30:25Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 866077684,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDg2NjA3NzY4NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/866077684",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-11-21T08:06:23Z",
      "label": {
        "name": "RPC/REST/ZMQ",
        "color": "0052cc"
      }
    },
    {
      "event": "commented",
      "id": 261869590,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTg2OTU5MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/261869590",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-11-21T08:07:06Z",
      "updated_at": "2016-11-21T08:07:35Z",
      "author_association": "MEMBER",
      "body": "Can you be more specific as to which JSON-RPC calls fail due to a missing genesis block?\r\n\r\nI would say it is acceptable that they fail if you specifically refer to the genesis block after it gets pruned (like for any other block - pruning with discontinuous ranges just isn't supported at the moment), but not otherwise.",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/9184#issuecomment-261869590",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9184"
    },
    {
      "event": "commented",
      "id": 261898494,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTg5ODQ5NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/261898494",
      "actor": {
        "login": "fflo",
        "id": 6385715,
        "node_id": "MDQ6VXNlcjYzODU3MTU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6385715?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fflo",
        "html_url": "https://github.com/fflo",
        "followers_url": "https://api.github.com/users/fflo/followers",
        "following_url": "https://api.github.com/users/fflo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fflo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fflo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fflo/subscriptions",
        "organizations_url": "https://api.github.com/users/fflo/orgs",
        "repos_url": "https://api.github.com/users/fflo/repos",
        "events_url": "https://api.github.com/users/fflo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fflo/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-11-21T10:21:18Z",
      "updated_at": "2016-11-21T10:21:55Z",
      "author_association": "NONE",
      "body": "external applications connecting to bitcoin often check some unique details of the genesis block, i.e. p2pool is running a rpc check: getblock 000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f on startup [https://github.com/p2pool/p2pool/blob/master/p2pool/bitcoin/networks/bitcoin.py].\r\n\r\nSo I guess it's probably a good idea to keep a copy of the genesis block available, even if pruning mode is enabled. This would allow external applications to verify that the rpc connection to bitcoin is working as expected.",
      "user": {
        "login": "fflo",
        "id": 6385715,
        "node_id": "MDQ6VXNlcjYzODU3MTU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6385715?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fflo",
        "html_url": "https://github.com/fflo",
        "followers_url": "https://api.github.com/users/fflo/followers",
        "following_url": "https://api.github.com/users/fflo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fflo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fflo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fflo/subscriptions",
        "organizations_url": "https://api.github.com/users/fflo/orgs",
        "repos_url": "https://api.github.com/users/fflo/repos",
        "events_url": "https://api.github.com/users/fflo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fflo/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/9184#issuecomment-261898494",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9184"
    },
    {
      "event": "commented",
      "id": 261905141,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTkwNTE0MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/261905141",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-11-21T10:52:08Z",
      "updated_at": "2016-11-21T10:54:30Z",
      "author_association": "MEMBER",
      "body": "What details does it need? Wouldn't `getblockheader` be enough?\r\n\r\nAs said, storing non-contiguous block ranges is not supported at the moment. This also applies to the genesis block. It would be useful (so would redownloading individual blocks once they have been pruned) for some other cases too but it is a bit tricky.",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/9184#issuecomment-261905141",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9184"
    },
    {
      "event": "commented",
      "id": 262126481,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjEyNjQ4MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/262126481",
      "actor": {
        "login": "fflo",
        "id": 6385715,
        "node_id": "MDQ6VXNlcjYzODU3MTU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6385715?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fflo",
        "html_url": "https://github.com/fflo",
        "followers_url": "https://api.github.com/users/fflo/followers",
        "following_url": "https://api.github.com/users/fflo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fflo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fflo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fflo/subscriptions",
        "organizations_url": "https://api.github.com/users/fflo/orgs",
        "repos_url": "https://api.github.com/users/fflo/repos",
        "events_url": "https://api.github.com/users/fflo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fflo/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-11-22T02:03:22Z",
      "updated_at": "2016-11-22T02:03:22Z",
      "author_association": "NONE",
      "body": "Yes, it's possible to patch p2pool to reduce the genesis block check using `getblockheader` instead of `getblock` to support the pruning mode.\r\n\r\nAs a quick check I've disabled the genesis block check and p2pool seem to work stable using the pruning mode with reasonable settings, now.\r\n\r\nNevertheless I think it's a good idea not to prune the genesis block in any case. It's like the source DNA of bitcoin ;)",
      "user": {
        "login": "fflo",
        "id": 6385715,
        "node_id": "MDQ6VXNlcjYzODU3MTU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6385715?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fflo",
        "html_url": "https://github.com/fflo",
        "followers_url": "https://api.github.com/users/fflo/followers",
        "following_url": "https://api.github.com/users/fflo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fflo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fflo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fflo/subscriptions",
        "organizations_url": "https://api.github.com/users/fflo/orgs",
        "repos_url": "https://api.github.com/users/fflo/repos",
        "events_url": "https://api.github.com/users/fflo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fflo/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/9184#issuecomment-262126481",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9184"
    },
    {
      "event": "commented",
      "id": 405340561,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQwNTM0MDU2MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/405340561",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-07-16T18:41:31Z",
      "updated_at": "2018-07-16T18:41:31Z",
      "author_association": "MEMBER",
      "body": "Closing for now, since it has been fixed upstream in p2pool",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/9184#issuecomment-405340561",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9184"
    },
    {
      "event": "closed",
      "id": 1735972469,
      "node_id": "MDExOkNsb3NlZEV2ZW50MTczNTk3MjQ2OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1735972469",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-07-16T18:41:31Z"
    },
    {
      "event": "locked",
      "id": 5271991807,
      "node_id": "LOE_lADOABII584LVrWzzwAAAAE6PDX_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5271991807",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-08T12:30:25Z",
      "lock_reason": "resolved"
    }
  ]
}