{
  "type": "issue",
  "issue": {
    "id": 234688877,
    "node_id": "MDU6SXNzdWUyMzQ2ODg4Nzc=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10562",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10562/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10562/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10562/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/10562",
    "number": 10562,
    "state": "closed",
    "state_reason": "completed",
    "title": "Can't send orphan transactions with rpc",
    "body": "I'm trying to push this transaction:\r\n\r\n```\r\nbitcoin-cli sendrawtransaction 0100000001bf9d8ca2bd060340c320c82432c57d53239d3e8d64c97dd302bb77b6b1ea779e010000006a4730440220628092918b8860dd21e2c89e082a096c38a723ae257f8ed011963121f54ff4e6022065480f3f9c265a3984e02e899d6c4494bf6de971032e196eeedd594593455ce5012102962425f1a1e9d8e372a85215bacfce533c6178bfd8e6c8dc7dcb79042daf2b99ffffffff02d9cd0300000000001976a914000f8b63ccf18b719537b5d5e10062f61239fd1288acb9e41100000000001976a914266bf5dc7d008ca5e1cb650b233e33a85143bb7c88ac00000000\r\n```\r\n\r\nWhich returns\r\n```\r\nerror code: -25\r\nerror message:\r\nMissing inputs\r\n```\r\n\r\nBut I also can't send the missing input it complains about:\r\n```\r\nbitcoin-cli sendrawtransaction 010000000119cf20c58a66a05020cc0eae50283cc3c2240c236dca8628f08d0bd9122fbc3f010000006b483045022100df4237d0a7bdbe5a08d708d735c70f4e9944c30ee343878dc29b96b32203ee4c0220462ef4837c38c8b49fa3b4bc827b3d7ea4c277f2089a6f68ff126b97af8d54f20121034f51458629ade2f2291fb38c7f06958ae313a1a43755c80a24513b1c9ab34015ffffffff02e3450a00000000001976a914a18adb0d09a1e46f174b421c6b9aa2496f7aa40688ac6abb1600000000001976a914c5ea832db560cef4b400356527b483609e9b1e4e88ac00000000\r\n```\r\nwhich returns\r\n```\r\nerror code: -26\r\nerror message:\r\n66: insufficient priority\r\n```\r\n\r\nSo it's a bit of a catch-22. I would expect the first one to work (it pays a lot of fees), and add the transaction to the orphan transactions or something.  Also the error message format is a bit inconsistent. \r\n\r\n(and if anyone is feeling kind, propagating those transactions would be appreciated)",
    "user": {
      "login": "RHavar",
      "id": 9326759,
      "node_id": "MDQ6VXNlcjkzMjY3NTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9326759?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RHavar",
      "html_url": "https://github.com/RHavar",
      "followers_url": "https://api.github.com/users/RHavar/followers",
      "following_url": "https://api.github.com/users/RHavar/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/RHavar/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/RHavar/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/RHavar/subscriptions",
      "organizations_url": "https://api.github.com/users/RHavar/orgs",
      "repos_url": "https://api.github.com/users/RHavar/repos",
      "events_url": "https://api.github.com/users/RHavar/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/RHavar/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 98279177,
        "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
        "name": "RPC/REST/ZMQ",
        "color": "0052cc",
        "default": false
      },
      {
        "id": 164208572,
        "node_id": "MDU6TGFiZWwxNjQyMDg1NzI=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Mempool",
        "name": "Mempool",
        "color": "fef2c0",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "locked": true,
    "active_lock_reason": "resolved",
    "comments": 3,
    "closed_at": "2020-04-27T00:37:12Z",
    "created_at": "2017-06-09T00:07:46Z",
    "updated_at": "2022-02-15T11:16:04Z"
  },
  "events": [
    {
      "event": "renamed",
      "id": 1116460697,
      "node_id": "MDE3OlJlbmFtZWRUaXRsZUV2ZW50MTExNjQ2MDY5Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1116460697",
      "actor": {
        "login": "RHavar",
        "id": 9326759,
        "node_id": "MDQ6VXNlcjkzMjY3NTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9326759?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/RHavar",
        "html_url": "https://github.com/RHavar",
        "followers_url": "https://api.github.com/users/RHavar/followers",
        "following_url": "https://api.github.com/users/RHavar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/RHavar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/RHavar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/RHavar/subscriptions",
        "organizations_url": "https://api.github.com/users/RHavar/orgs",
        "repos_url": "https://api.github.com/users/RHavar/repos",
        "events_url": "https://api.github.com/users/RHavar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/RHavar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-06-09T00:08:36Z",
      "rename": {
        "from": "Can't sending orphan transactions with rpc",
        "to": "Can't send orphan transactions with rpc"
      }
    },
    {
      "event": "labeled",
      "id": 1116490859,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDExMTY0OTA4NTk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1116490859",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-06-09T00:50:11Z",
      "label": {
        "name": "RPC/REST/ZMQ",
        "color": "0052cc"
      }
    },
    {
      "event": "commented",
      "id": 309551472,
      "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTU1MTQ3Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/309551472",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-06-19T19:45:26Z",
      "updated_at": "2017-06-19T19:45:26Z",
      "author_association": "MEMBER",
      "body": "Just some notes:\r\n\r\n* The concept that transaction pay with solely their coin age (aka. priority) will be removed in 0.15.0\r\n* Even though the documentation for `prioritisetransaction` implies it is only meant for miners, you can use it to force your tx into the mempool.\r\n* Alternatively, (on 0.15.0 and later) you could restart the node with `-minrelaytxfee=0` and then get that transaction into your mempool.\r\n\r\nThough, none of those guarantee that your tx will be accepted by other nodes or miners.",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/10562#issuecomment-309551472",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10562"
    },
    {
      "event": "commented",
      "id": 309557693,
      "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTU1NzY5Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/309557693",
      "actor": {
        "login": "RHavar",
        "id": 9326759,
        "node_id": "MDQ6VXNlcjkzMjY3NTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9326759?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/RHavar",
        "html_url": "https://github.com/RHavar",
        "followers_url": "https://api.github.com/users/RHavar/followers",
        "following_url": "https://api.github.com/users/RHavar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/RHavar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/RHavar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/RHavar/subscriptions",
        "organizations_url": "https://api.github.com/users/RHavar/orgs",
        "repos_url": "https://api.github.com/users/RHavar/repos",
        "events_url": "https://api.github.com/users/RHavar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/RHavar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-06-19T20:03:52Z",
      "updated_at": "2017-06-19T20:03:52Z",
      "author_association": "CONTRIBUTOR",
      "body": "It's been a while since I've looked at the code, so I might be off the mark: but I believe when the client receives a transaction with unknown parents it's put into an \"orphan pool\", and it can later move into the mempool when the unknown parents are seen.\r\n\r\nSo I think the same behavior should happen with sendrawtransaction, that the transaction gets added to your orphan pool and sent out to your peers. Then you can add the other transaction, and push it out to your peers too. ",
      "user": {
        "login": "RHavar",
        "id": 9326759,
        "node_id": "MDQ6VXNlcjkzMjY3NTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9326759?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/RHavar",
        "html_url": "https://github.com/RHavar",
        "followers_url": "https://api.github.com/users/RHavar/followers",
        "following_url": "https://api.github.com/users/RHavar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/RHavar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/RHavar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/RHavar/subscriptions",
        "organizations_url": "https://api.github.com/users/RHavar/orgs",
        "repos_url": "https://api.github.com/users/RHavar/repos",
        "events_url": "https://api.github.com/users/RHavar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/RHavar/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/10562#issuecomment-309557693",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10562"
    },
    {
      "event": "labeled",
      "id": 1129808637,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDExMjk4MDg2Mzc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1129808637",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-06-19T20:05:42Z",
      "label": {
        "name": "Mempool",
        "color": "fef2c0"
      }
    },
    {
      "event": "commented",
      "id": 310224255,
      "node_id": "MDEyOklzc3VlQ29tbWVudDMxMDIyNDI1NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/310224255",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-06-21T22:33:51Z",
      "updated_at": "2017-06-21T22:33:51Z",
      "author_association": "MEMBER",
      "body": "Sending peers transactions which do not have sufficient fee to not be size-limited out of the mempool does not put those transactions in the orphan map and, thus, in order to properly relay transactions which are CPFP'd you need to broadcast them in reverse-dependency order (and hope your peer's orphan map is sufficiently large). Indeed, having a similar concept for sendrawtransaction (or, really, the ability to send multiple transactions with one call) would be nice, but we probably need to fix the relay behavior (both from-sendrawtransaction and from-peers) to support it as well to make sure we dont accept transactions and then not succeed in relaying them anywhere.",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/10562#issuecomment-310224255",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10562"
    },
    {
      "event": "closed",
      "id": 3273560994,
      "node_id": "MDExOkNsb3NlZEV2ZW50MzI3MzU2MDk5NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3273560994",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-27T00:37:12Z"
    },
    {
      "event": "locked",
      "id": 6074093845,
      "node_id": "LOE_lADOABII584N_RFtzwAAAAFqC1EV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6074093845",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-02-15T11:16:04Z",
      "lock_reason": "resolved"
    }
  ]
}