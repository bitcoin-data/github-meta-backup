{
  "type": "issue",
  "issue": {
    "id": 1138706822,
    "node_id": "I_kwDOABII585D30mG",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24351",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24351/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24351/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24351/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/24351",
    "number": 24351,
    "state": "closed",
    "state_reason": "completed",
    "title": "build: compilation error in `tinyformat.h` on Manjaro Linux",
    "body": "Here's the output from `make`:\r\n```\r\n./wallet/wallet.h:802:9:   required from ‘void wallet::CWallet::WalletLogPrintf(std::string, Params ...) const [with Params = {std::optional<int>}; std::string = std::__cxx11::basic_string<char>]’\r\nwallet/wallet.cpp:2931:44:   required from here\r\n./tinyformat.h:291:9: error: no match for ‘operator<<’ (operand types are ‘std::ostringstream’ {aka ‘std::__cxx11::basic_ostringstream<char>’} and ‘const std::optional<int>’)\r\n  291 |     tmp << value;\r\n      |     ~~~~^~~~~~~~\r\n./tinyformat.h:291:9: note: candidate: ‘operator<<(int, int)’ (built-in)\r\n```\r\n...\r\n```\r\n./wallet/wallet.h:802:9:   required from ‘void wallet::CWallet::WalletLogPrintf(std::string, Params ...) const [with Params = {std::optional<int>}; std::string = std::__cxx11::basic_string<char>]’\r\nwallet/wallet.cpp:2931:44:   required from here\r\n/usr/include/c++/11.1.0/ostream:773:5: error: no type named ‘type’ in ‘struct std::enable_if<false, std::basic_ostream<char>&>’\r\nIn file included from /usr/include/c++/11.1.0/bits/fs_path.h:39,\r\n                 from /usr/include/c++/11.1.0/filesystem:45,\r\n                 from ./fs.h:11,\r\n                 from ./wallet/wallet.h:10,\r\n                 from wallet/wallet.cpp:6:\r\n./tinyformat.h: In instantiation of ‘void tinyformat::detail::formatTruncated(std::ostream&, const T&, int) [with T = std::optional<int>; std::ostream = std::basic_ostream<char>]’:\r\n./tinyformat.h:355:32:   required from ‘void tinyformat::formatValue(std::ostream&, const char*, const char*, int, const T&) [with T = std::optional<int>; std::ostream = std::basic_ostream<char>]’\r\n./tinyformat.h:543:24:   required from ‘static void tinyformat::detail::FormatArg::formatImpl(std::ostream&, const char*, const char*, int, const void*) [with T = std::optional<int>; std::ostream = std::basic_ostream<char>]’\r\n./tinyformat.h:519:13:   required from ‘tinyformat::detail::FormatArg::FormatArg(const T&) [with T = std::optional<int>]’\r\n./tinyformat.h:975:32:   required from ‘tinyformat::detail::FormatListN<N>::FormatListN(const Args& ...) [with Args = {std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::optional<int>}; int N = 2]’\r\n./tinyformat.h:1028:20:   required from ‘tinyformat::detail::FormatListN<sizeof... (Args)> tinyformat::makeFormatList(const Args& ...) [with Args = {std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::optional<int>}]’\r\n./tinyformat.h:1064:37:   required from ‘void tinyformat::format(std::ostream&, const char*, const Args& ...) [with Args = {std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::optional<int>}; std::ostream = std::basic_ostream<char>]’\r\n./tinyformat.h:1073:11:   required from ‘std::string tinyformat::format(const char*, const Args& ...) [with Args = {std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::optional<int>}; std::string = std::__cxx11::basic_string<char>]’\r\n```\r\n\r\nSame with `clang`:\r\n\r\n```\r\n/usr/bin/../lib64/gcc/x86_64-pc-linux-gnu/11.1.0/../../../../include/c++/11.1.0/ostream:276:7: note: candidate function not viable: no known conversion from 'const std::optional<int>' to 'std::basic_ostream<char>::__streambuf_type *' (aka 'basic_streambuf<char, std::char_traits<char>> *') for 1st argument\r\n      operator<<(__streambuf_type* __sb);\r\n      ^\r\nIn file included from wallet/wallet.cpp:6:\r\nIn file included from ./wallet/wallet.h:10:\r\nIn file included from ./fs.h:8:\r\n./tinyformat.h:291:9: error: invalid operands to binary expression ('std::ostringstream' (aka 'basic_ostringstream<char>') and 'const std::optional<int>')\r\n    tmp << value;\r\n    ~~~ ^  ~~~~~\r\n```",
    "user": {
      "login": "rodentrabies",
      "id": 7646953,
      "node_id": "MDQ6VXNlcjc2NDY5NTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7646953?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rodentrabies",
      "html_url": "https://github.com/rodentrabies",
      "followers_url": "https://api.github.com/users/rodentrabies/followers",
      "following_url": "https://api.github.com/users/rodentrabies/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/rodentrabies/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/rodentrabies/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/rodentrabies/subscriptions",
      "organizations_url": "https://api.github.com/users/rodentrabies/orgs",
      "repos_url": "https://api.github.com/users/rodentrabies/repos",
      "events_url": "https://api.github.com/users/rodentrabies/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/rodentrabies/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 64585,
        "node_id": "MDU6TGFiZWw2NDU4NQ==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug",
        "name": "Bug",
        "color": "FBBAAB",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "locked": true,
    "comments": 2,
    "closed_at": "2022-02-15T14:10:01Z",
    "created_at": "2022-02-15T13:36:39Z",
    "updated_at": "2023-02-15T10:12:45Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 6075003643,
      "node_id": "LE_lADOABII585D30mGzwAAAAFqGTL7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6075003643",
      "actor": {
        "login": "rodentrabies",
        "id": 7646953,
        "node_id": "MDQ6VXNlcjc2NDY5NTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7646953?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rodentrabies",
        "html_url": "https://github.com/rodentrabies",
        "followers_url": "https://api.github.com/users/rodentrabies/followers",
        "following_url": "https://api.github.com/users/rodentrabies/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rodentrabies/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rodentrabies/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rodentrabies/subscriptions",
        "organizations_url": "https://api.github.com/users/rodentrabies/orgs",
        "repos_url": "https://api.github.com/users/rodentrabies/repos",
        "events_url": "https://api.github.com/users/rodentrabies/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rodentrabies/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-02-15T13:36:39Z",
      "label": {
        "name": "Bug",
        "color": "FBBAAB"
      }
    },
    {
      "event": "renamed",
      "id": 6075014504,
      "node_id": "RTE_lADOABII585D30mGzwAAAAFqGV1o",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6075014504",
      "actor": {
        "login": "rodentrabies",
        "id": 7646953,
        "node_id": "MDQ6VXNlcjc2NDY5NTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7646953?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rodentrabies",
        "html_url": "https://github.com/rodentrabies",
        "followers_url": "https://api.github.com/users/rodentrabies/followers",
        "following_url": "https://api.github.com/users/rodentrabies/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rodentrabies/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rodentrabies/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rodentrabies/subscriptions",
        "organizations_url": "https://api.github.com/users/rodentrabies/orgs",
        "repos_url": "https://api.github.com/users/rodentrabies/repos",
        "events_url": "https://api.github.com/users/rodentrabies/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rodentrabies/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-02-15T13:38:09Z",
      "rename": {
        "from": "build: compilation error ",
        "to": "build: compilation error in `tinyformat.h` on Manjaro Linux"
      }
    },
    {
      "event": "commented",
      "id": 1040303096,
      "node_id": "IC_kwDOABII584-AcP4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1040303096",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-02-15T13:55:15Z",
      "updated_at": "2022-02-15T13:55:15Z",
      "author_association": "MEMBER",
      "body": "Which commit? `git log -1`",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/24351#issuecomment-1040303096",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24351"
    },
    {
      "event": "commented",
      "id": 1040318487,
      "node_id": "IC_kwDOABII584-AgAX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1040318487",
      "actor": {
        "login": "rodentrabies",
        "id": 7646953,
        "node_id": "MDQ6VXNlcjc2NDY5NTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7646953?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rodentrabies",
        "html_url": "https://github.com/rodentrabies",
        "followers_url": "https://api.github.com/users/rodentrabies/followers",
        "following_url": "https://api.github.com/users/rodentrabies/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rodentrabies/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rodentrabies/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rodentrabies/subscriptions",
        "organizations_url": "https://api.github.com/users/rodentrabies/orgs",
        "repos_url": "https://api.github.com/users/rodentrabies/repos",
        "events_url": "https://api.github.com/users/rodentrabies/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rodentrabies/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-02-15T14:10:01Z",
      "updated_at": "2022-02-15T14:10:01Z",
      "author_association": "CONTRIBUTOR",
      "body": "@MarcoFalke that actually gave me an idea that I just confirmed: I was debugging my changes in https://github.com/bitcoin/bitcoin/pull/18554 on top of current `master` and apparently it's my changes that cause the build failure. Sorry for the noise. Closing.",
      "user": {
        "login": "rodentrabies",
        "id": 7646953,
        "node_id": "MDQ6VXNlcjc2NDY5NTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7646953?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rodentrabies",
        "html_url": "https://github.com/rodentrabies",
        "followers_url": "https://api.github.com/users/rodentrabies/followers",
        "following_url": "https://api.github.com/users/rodentrabies/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rodentrabies/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rodentrabies/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rodentrabies/subscriptions",
        "organizations_url": "https://api.github.com/users/rodentrabies/orgs",
        "repos_url": "https://api.github.com/users/rodentrabies/repos",
        "events_url": "https://api.github.com/users/rodentrabies/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rodentrabies/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/24351#issuecomment-1040318487",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24351"
    },
    {
      "event": "closed",
      "id": 6075246590,
      "node_id": "CE_lADOABII585D30mGzwAAAAFqHOf-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6075246590",
      "actor": {
        "login": "rodentrabies",
        "id": 7646953,
        "node_id": "MDQ6VXNlcjc2NDY5NTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7646953?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rodentrabies",
        "html_url": "https://github.com/rodentrabies",
        "followers_url": "https://api.github.com/users/rodentrabies/followers",
        "following_url": "https://api.github.com/users/rodentrabies/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rodentrabies/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rodentrabies/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rodentrabies/subscriptions",
        "organizations_url": "https://api.github.com/users/rodentrabies/orgs",
        "repos_url": "https://api.github.com/users/rodentrabies/repos",
        "events_url": "https://api.github.com/users/rodentrabies/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rodentrabies/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-02-15T14:10:01Z"
    },
    {
      "event": "mentioned",
      "id": 6075246631,
      "node_id": "MEE_lADOABII585D30mGzwAAAAFqHOgn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6075246631",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-02-15T14:10:01Z"
    },
    {
      "event": "subscribed",
      "id": 6075246643,
      "node_id": "SE_lADOABII585D30mGzwAAAAFqHOgz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6075246643",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-02-15T14:10:01Z"
    },
    {
      "event": "locked",
      "id": 8524348226,
      "node_id": "LOE_lADOABII585D30mGzwAAAAH8FztC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8524348226",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-15T10:12:45Z"
    }
  ]
}