{
  "type": "issue",
  "issue": {
    "id": 694467344,
    "node_id": "MDU6SXNzdWU2OTQ0NjczNDQ=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19899",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19899/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19899/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19899/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/19899",
    "number": 19899,
    "state": "closed",
    "state_reason": "completed",
    "title": "V0.20.1 no longer supports/recognizes symlinks",
    "body": "I have been keeping only a few files from the \"blocks\" folder on my local drive. The rest are moved to an external HDD but linked via symlinks. I upgrade from 0.19 and my symlinks aren't recognized, I keep getting \"Error loading block database.\" If I move all files to my local machine, bitcoin core runs normally.\r\n\r\n![image](https://user-images.githubusercontent.com/49789899/92331846-4d0bc400-f02e-11ea-8d52-1eac378e891c.png)\r\n\r\nI am running Linux Mint and upgraded using snap (although I don't know what snap is, it seems like a new way to install Bitcoin Core on Mint).",
    "user": {
      "login": "inpharmaticist",
      "id": 49789899,
      "node_id": "MDQ6VXNlcjQ5Nzg5ODk5",
      "avatar_url": "https://avatars.githubusercontent.com/u/49789899?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/inpharmaticist",
      "html_url": "https://github.com/inpharmaticist",
      "followers_url": "https://api.github.com/users/inpharmaticist/followers",
      "following_url": "https://api.github.com/users/inpharmaticist/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/inpharmaticist/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/inpharmaticist/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/inpharmaticist/subscriptions",
      "organizations_url": "https://api.github.com/users/inpharmaticist/orgs",
      "repos_url": "https://api.github.com/users/inpharmaticist/repos",
      "events_url": "https://api.github.com/users/inpharmaticist/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/inpharmaticist/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "assignees": [],
    "author_association": "NONE",
    "locked": true,
    "active_lock_reason": "resolved",
    "comments": 4,
    "closed_at": "2020-09-07T14:48:02Z",
    "created_at": "2020-09-06T17:50:34Z",
    "updated_at": "2022-02-15T10:47:29Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 687862365,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY4Nzg2MjM2NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/687862365",
      "actor": {
        "login": "ArnaubHie",
        "id": 70853416,
        "node_id": "MDQ6VXNlcjcwODUzNDE2",
        "avatar_url": "https://avatars.githubusercontent.com/u/70853416?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ArnaubHie",
        "html_url": "https://github.com/ArnaubHie",
        "followers_url": "https://api.github.com/users/ArnaubHie/followers",
        "following_url": "https://api.github.com/users/ArnaubHie/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ArnaubHie/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ArnaubHie/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ArnaubHie/subscriptions",
        "organizations_url": "https://api.github.com/users/ArnaubHie/orgs",
        "repos_url": "https://api.github.com/users/ArnaubHie/repos",
        "events_url": "https://api.github.com/users/ArnaubHie/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ArnaubHie/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-06T18:24:16Z",
      "updated_at": "2020-09-06T18:24:16Z",
      "author_association": "NONE",
      "body": "Hi\n\nLe dim. 6 sept. 2020 à 19:54, inpharmaticist <notifications@github.com> a\nécrit :\n\n>\n>\n> I have been keeping only a few files from the \"blocks\" folder on my local\n> drive. The rest are moved to an external HDD but linked via symlinks. I\n> upgrade from 0.19 and my symlinks aren't recognized, I keep getting \"Error\n> loading block database.\" If I move all files to my local machine, bitcoin\n> core runs normally.\n>\n>\n> [image: image]\n> <https://user-images.githubusercontent.com/49789899/92331846-4d0bc400-f02e-11ea-8d52-1eac378e891c.png>\n>\n>\n> I am running Linux Mint and upgraded using snap (although I don't know\n> what snap is, it seems like a new way to install Bitcoin Core on Mint).\n>\n>\n>\n>\n> —\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/bitcoin/bitcoin/issues/19899>, or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AQ4SGKFAXTMY47ANE3CZ2YLSEPEFJANCNFSM4Q4WK2GA>\n> .\n>\n>\n>\n",
      "user": {
        "login": "ArnaubHie",
        "id": 70853416,
        "node_id": "MDQ6VXNlcjcwODUzNDE2",
        "avatar_url": "https://avatars.githubusercontent.com/u/70853416?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ArnaubHie",
        "html_url": "https://github.com/ArnaubHie",
        "followers_url": "https://api.github.com/users/ArnaubHie/followers",
        "following_url": "https://api.github.com/users/ArnaubHie/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ArnaubHie/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ArnaubHie/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ArnaubHie/subscriptions",
        "organizations_url": "https://api.github.com/users/ArnaubHie/orgs",
        "repos_url": "https://api.github.com/users/ArnaubHie/repos",
        "events_url": "https://api.github.com/users/ArnaubHie/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ArnaubHie/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/19899#issuecomment-687862365",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19899"
    },
    {
      "event": "commented",
      "id": 688100917,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY4ODEwMDkxNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/688100917",
      "actor": {
        "login": "n-thumann",
        "id": 46975855,
        "node_id": "MDQ6VXNlcjQ2OTc1ODU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/46975855?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/n-thumann",
        "html_url": "https://github.com/n-thumann",
        "followers_url": "https://api.github.com/users/n-thumann/followers",
        "following_url": "https://api.github.com/users/n-thumann/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/n-thumann/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/n-thumann/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/n-thumann/subscriptions",
        "organizations_url": "https://api.github.com/users/n-thumann/orgs",
        "repos_url": "https://api.github.com/users/n-thumann/repos",
        "events_url": "https://api.github.com/users/n-thumann/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/n-thumann/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-07T07:28:08Z",
      "updated_at": "2020-09-07T07:28:08Z",
      "author_association": "CONTRIBUTOR",
      "body": "I tried to replicate your setup (under macOS) by deleting most of the local data in `blocks` and creating identically named symlinks to my external drive and was able to reproduce your issue: Not the blockdata (`blk` and `rev` files), but the LevelDB Index folder is quite unhappy with symlinks. As soon a I symlinked the single files in `index` folder, I wasn´t able to run bitcoind and received the same error like you.\r\nSolution: Don´t symlink the files inside `index`, but symlink the whole folder instead (`ln -s /path/to/blocks/index index` inside of your `blocks` folder) ✌️ ",
      "user": {
        "login": "n-thumann",
        "id": 46975855,
        "node_id": "MDQ6VXNlcjQ2OTc1ODU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/46975855?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/n-thumann",
        "html_url": "https://github.com/n-thumann",
        "followers_url": "https://api.github.com/users/n-thumann/followers",
        "following_url": "https://api.github.com/users/n-thumann/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/n-thumann/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/n-thumann/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/n-thumann/subscriptions",
        "organizations_url": "https://api.github.com/users/n-thumann/orgs",
        "repos_url": "https://api.github.com/users/n-thumann/repos",
        "events_url": "https://api.github.com/users/n-thumann/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/n-thumann/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/19899#issuecomment-688100917",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19899"
    },
    {
      "event": "commented",
      "id": 688362314,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY4ODM2MjMxNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/688362314",
      "actor": {
        "login": "inpharmaticist",
        "id": 49789899,
        "node_id": "MDQ6VXNlcjQ5Nzg5ODk5",
        "avatar_url": "https://avatars.githubusercontent.com/u/49789899?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/inpharmaticist",
        "html_url": "https://github.com/inpharmaticist",
        "followers_url": "https://api.github.com/users/inpharmaticist/followers",
        "following_url": "https://api.github.com/users/inpharmaticist/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/inpharmaticist/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/inpharmaticist/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/inpharmaticist/subscriptions",
        "organizations_url": "https://api.github.com/users/inpharmaticist/orgs",
        "repos_url": "https://api.github.com/users/inpharmaticist/repos",
        "events_url": "https://api.github.com/users/inpharmaticist/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/inpharmaticist/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-07T14:30:37Z",
      "updated_at": "2020-09-07T14:30:37Z",
      "author_association": "NONE",
      "body": "Thanks for your response. That is interesting. I never moved anything from the index folder. I was only migrating the blk and rev files, and kept the two most recent on the local drive. I started doing this a few versions ago because I noticed startup was faster if at least some files were on the local drive. I tried symlinking the entire blocks folder with no improvement.\r\n\r\nThen I tried using the HDD for the entire data directory and core won't open. \r\n\r\n![image](https://user-images.githubusercontent.com/49789899/92397481-ba296300-f0db-11ea-838b-e3ad1f3360e6.png)\r\n\r\nMight go back to v0.19...\r\n",
      "user": {
        "login": "inpharmaticist",
        "id": 49789899,
        "node_id": "MDQ6VXNlcjQ5Nzg5ODk5",
        "avatar_url": "https://avatars.githubusercontent.com/u/49789899?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/inpharmaticist",
        "html_url": "https://github.com/inpharmaticist",
        "followers_url": "https://api.github.com/users/inpharmaticist/followers",
        "following_url": "https://api.github.com/users/inpharmaticist/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/inpharmaticist/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/inpharmaticist/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/inpharmaticist/subscriptions",
        "organizations_url": "https://api.github.com/users/inpharmaticist/orgs",
        "repos_url": "https://api.github.com/users/inpharmaticist/repos",
        "events_url": "https://api.github.com/users/inpharmaticist/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/inpharmaticist/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/19899#issuecomment-688362314",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19899"
    },
    {
      "event": "commented",
      "id": 688372038,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY4ODM3MjAzOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/688372038",
      "actor": {
        "login": "inpharmaticist",
        "id": 49789899,
        "node_id": "MDQ6VXNlcjQ5Nzg5ODk5",
        "avatar_url": "https://avatars.githubusercontent.com/u/49789899?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/inpharmaticist",
        "html_url": "https://github.com/inpharmaticist",
        "followers_url": "https://api.github.com/users/inpharmaticist/followers",
        "following_url": "https://api.github.com/users/inpharmaticist/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/inpharmaticist/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/inpharmaticist/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/inpharmaticist/subscriptions",
        "organizations_url": "https://api.github.com/users/inpharmaticist/orgs",
        "repos_url": "https://api.github.com/users/inpharmaticist/repos",
        "events_url": "https://api.github.com/users/inpharmaticist/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/inpharmaticist/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-07T14:48:02Z",
      "updated_at": "2020-09-07T14:48:02Z",
      "author_association": "NONE",
      "body": "Okay, apparently I had v0.20.0. I removed v0.20.0 using snap and downloaded v0.20.1 directly from the core website. That seemed to fix the problem.",
      "user": {
        "login": "inpharmaticist",
        "id": 49789899,
        "node_id": "MDQ6VXNlcjQ5Nzg5ODk5",
        "avatar_url": "https://avatars.githubusercontent.com/u/49789899?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/inpharmaticist",
        "html_url": "https://github.com/inpharmaticist",
        "followers_url": "https://api.github.com/users/inpharmaticist/followers",
        "following_url": "https://api.github.com/users/inpharmaticist/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/inpharmaticist/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/inpharmaticist/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/inpharmaticist/subscriptions",
        "organizations_url": "https://api.github.com/users/inpharmaticist/orgs",
        "repos_url": "https://api.github.com/users/inpharmaticist/repos",
        "events_url": "https://api.github.com/users/inpharmaticist/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/inpharmaticist/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/19899#issuecomment-688372038",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19899"
    },
    {
      "event": "closed",
      "id": 3737523250,
      "node_id": "MDExOkNsb3NlZEV2ZW50MzczNzUyMzI1MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3737523250",
      "actor": {
        "login": "inpharmaticist",
        "id": 49789899,
        "node_id": "MDQ6VXNlcjQ5Nzg5ODk5",
        "avatar_url": "https://avatars.githubusercontent.com/u/49789899?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/inpharmaticist",
        "html_url": "https://github.com/inpharmaticist",
        "followers_url": "https://api.github.com/users/inpharmaticist/followers",
        "following_url": "https://api.github.com/users/inpharmaticist/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/inpharmaticist/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/inpharmaticist/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/inpharmaticist/subscriptions",
        "organizations_url": "https://api.github.com/users/inpharmaticist/orgs",
        "repos_url": "https://api.github.com/users/inpharmaticist/repos",
        "events_url": "https://api.github.com/users/inpharmaticist/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/inpharmaticist/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-07T14:48:02Z"
    },
    {
      "event": "locked",
      "id": 6073900932,
      "node_id": "LOE_lADOABII584pZLsQzwAAAAFqCF-E",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6073900932",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-02-15T10:47:29Z",
      "lock_reason": "resolved"
    }
  ]
}