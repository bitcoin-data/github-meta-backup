{
  "type": "issue",
  "issue": {
    "id": 1500349814,
    "node_id": "I_kwDOABII585ZbYV2",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26712",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26712/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26712/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26712/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/26712",
    "number": 26712,
    "state": "closed",
    "state_reason": "completed",
    "title": "Unnecessary call to secp256k1_sha256_initialize",
    "body": "When computing tagged-hashes for Schnorr sigs the 3 methods (challenge, aux, nonce) first call `secp256k1_sha256_initialize` that sets the hashstate (ie. s[0] to s[7] and bytes) to their default SHA256 values then they each immediately change all those values to the precomputed \"midstate\" values. The first call to `secp256k1_sha256_initialize` seems wasteful.  \r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/7386da7a0b08cd2df8ba88dae1fab9d36424b15c/src/secp256k1/src/modules/schnorrsig/main_impl.h#L16-L28\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/7386da7a0b08cd2df8ba88dae1fab9d36424b15c/src/secp256k1/src/hash_impl.h#L31-L41",
    "user": {
      "login": "Coding-Enthusiast",
      "id": 20510382,
      "node_id": "MDQ6VXNlcjIwNTEwMzgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/20510382?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Coding-Enthusiast",
      "html_url": "https://github.com/Coding-Enthusiast",
      "followers_url": "https://api.github.com/users/Coding-Enthusiast/followers",
      "following_url": "https://api.github.com/users/Coding-Enthusiast/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/Coding-Enthusiast/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/Coding-Enthusiast/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/Coding-Enthusiast/subscriptions",
      "organizations_url": "https://api.github.com/users/Coding-Enthusiast/orgs",
      "repos_url": "https://api.github.com/users/Coding-Enthusiast/repos",
      "events_url": "https://api.github.com/users/Coding-Enthusiast/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/Coding-Enthusiast/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "assignees": [],
    "author_association": "NONE",
    "locked": true,
    "comments": 1,
    "closed_at": "2022-12-17T15:13:57Z",
    "created_at": "2022-12-16T14:45:49Z",
    "updated_at": "2022-12-28T10:22:03Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 8057278657,
      "node_id": "LE_lADOABII585ZbYV2zwAAAAHgQFDB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8057278657",
      "actor": {
        "login": "Coding-Enthusiast",
        "id": 20510382,
        "node_id": "MDQ6VXNlcjIwNTEwMzgy",
        "avatar_url": "https://avatars.githubusercontent.com/u/20510382?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Coding-Enthusiast",
        "html_url": "https://github.com/Coding-Enthusiast",
        "followers_url": "https://api.github.com/users/Coding-Enthusiast/followers",
        "following_url": "https://api.github.com/users/Coding-Enthusiast/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Coding-Enthusiast/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Coding-Enthusiast/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Coding-Enthusiast/subscriptions",
        "organizations_url": "https://api.github.com/users/Coding-Enthusiast/orgs",
        "repos_url": "https://api.github.com/users/Coding-Enthusiast/repos",
        "events_url": "https://api.github.com/users/Coding-Enthusiast/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Coding-Enthusiast/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-16T14:45:49Z",
      "label": {
        "name": "Bug",
        "color": "FBBAAB"
      }
    },
    {
      "event": "commented",
      "id": 1354984806,
      "node_id": "IC_kwDOABII585Qw21m",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1354984806",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-16T14:49:55Z",
      "updated_at": "2022-12-16T14:49:55Z",
      "author_association": "MEMBER",
      "body": "This issue would be better opened / reported upstream: https://github.com/bitcoin-core/secp256k1, as the code here is a (semi-regularly updated) subtree of that repository.",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/26712#issuecomment-1354984806",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26712"
    },
    {
      "event": "unlabeled",
      "id": 8057311205,
      "node_id": "UNLE_lADOABII585ZbYV2zwAAAAHgQM_l",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8057311205",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-16T14:49:59Z",
      "label": {
        "name": "Bug",
        "color": "FBBAAB"
      }
    },
    {
      "event": "closed",
      "id": 8062074337,
      "node_id": "CE_lADOABII585ZbYV2zwAAAAHgiX3h",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8062074337",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-17T15:13:57Z"
    },
    {
      "event": "locked",
      "id": 8120256278,
      "node_id": "LOE_lADOABII585ZbYV2zwAAAAHkAUcW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8120256278",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-28T10:22:03Z"
    }
  ]
}