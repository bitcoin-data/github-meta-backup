{
  "type": "issue",
  "issue": {
    "id": 17889252,
    "node_id": "MDU6SXNzdWUxNzg4OTI1Mg==",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/2889",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/2889/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/2889/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/2889/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/2889",
    "number": 2889,
    "state": "closed",
    "state_reason": "completed",
    "title": "Rapidly getting blocks via RPC causes bitcoind to temporarily stop responding to RPC commands",
    "body": "When retrieving blocks from the blockchain using bitcoind RPC commands, bitcoind will temporarily stop sending responses to RPC commands after many thousands of commands if the commands are sent in quick succession. The issue has something to do with timing, since adding a delay to retrieving blocks will make the problem go away.\n\nThis node.js code will display the issue (obviously, replace \"password\" with your bitcoind password):\n\n``` javascript\nvar rpc=require('json-rpc2');\nvar bitcoind=rpc.Client.create(8332, \"localhost\",\n  \"bitcoinrpc\", \"password\");\nvar chain=function(blockhash){\n  bitcoind.call('getblock',[blockhash],function(err,block){\n    if (err){\n      console.log(String(err));\n      if (String(err)==\"Error: Have no response object\"){\n        console.log(\"Thought so.\");\n      }\n      return;\n    }\n    console.log(block.hash, block.height);\n    if (block.nextblockhash){\n      chain(block.nextblockhash);\n    };\n  });\n};\nchain(\"000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f\");\n```\n\nNote that my development machine has an SSD, and so blocks are retrieved quickly by bitcoind - it may be necessary to use an SSD to reproduce the problem.\n\nWhat this code does is to retrieve the genesis block, then get the next block, and the next block, and so on, until it has got all the blocks. Except at around 25,000 or so blocks in (different every time), it will quit when it encounters a \"no response object\" error. This error has nothing to do with node.js or json-rpc2 - it is a bitcoind error. This can be seen by running bitcoin commands from the command prompt, which result in a \"couldn't connect to server\" error, e.g.:\n\n```\n> bitcoind getblock 00000000722ecede1cc4edd52a7d416bdafd6528f630926b0021b41a6b57ba5d\nerror: couldn't connect to server\n```\n\nAfter a few seconds, bitcoind will begin responding to commads again. It doesn't crash. It just stops responding to commands for a short while.\n\nBy delaying repeated RPC commands, the above code can be fixed to run without freezing bitcoind (notice the 10ms setTimeout):\n\n``` javascript\nvar rpc=require('json-rpc2');\nvar bitcoind=rpc.Client.create(8332, \"localhost\",\n  \"bitcoinrpc\", \"password\");\nvar chain=function(blockhash){\n  bitcoind.call('getblock',[blockhash],function(err,block){\n    if (err){\n      console.log(String(err));\n      if (String(err)==\"Error: Have no response object\"){\n        console.log(\"Thought so.\");\n      }\n      return;\n    }\n    console.log(block.hash, block.height);\n    if (block.nextblockhash){\n      setTimeout(function(){\n        chain(block.nextblockhash);\n      },10);\n    };\n  });\n};\nchain(\"000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f\");\n```\n",
    "user": {
      "login": "ryanxcharles",
      "id": 63740,
      "node_id": "MDQ6VXNlcjYzNzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/63740?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanxcharles",
      "html_url": "https://github.com/ryanxcharles",
      "followers_url": "https://api.github.com/users/ryanxcharles/followers",
      "following_url": "https://api.github.com/users/ryanxcharles/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/ryanxcharles/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/ryanxcharles/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/ryanxcharles/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanxcharles/orgs",
      "repos_url": "https://api.github.com/users/ryanxcharles/repos",
      "events_url": "https://api.github.com/users/ryanxcharles/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/ryanxcharles/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 64585,
        "node_id": "MDU6TGFiZWw2NDU4NQ==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug",
        "name": "Bug",
        "color": "FBBAAB",
        "default": false
      },
      {
        "id": 98279177,
        "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
        "name": "RPC/REST/ZMQ",
        "color": "0052cc",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "locked": true,
    "active_lock_reason": "resolved",
    "comments": 17,
    "closed_at": "2016-04-28T11:19:41Z",
    "created_at": "2013-08-09T22:57:28Z",
    "updated_at": "2021-09-08T12:36:30Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 22428463,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIyNDI4NDYz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/22428463",
      "actor": {
        "login": "ryanxcharles",
        "id": 63740,
        "node_id": "MDQ6VXNlcjYzNzQw",
        "avatar_url": "https://avatars.githubusercontent.com/u/63740?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanxcharles",
        "html_url": "https://github.com/ryanxcharles",
        "followers_url": "https://api.github.com/users/ryanxcharles/followers",
        "following_url": "https://api.github.com/users/ryanxcharles/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanxcharles/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanxcharles/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanxcharles/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanxcharles/orgs",
        "repos_url": "https://api.github.com/users/ryanxcharles/repos",
        "events_url": "https://api.github.com/users/ryanxcharles/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanxcharles/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2013-08-09T23:12:27Z",
      "updated_at": "2013-08-09T23:12:27Z",
      "author_association": "CONTRIBUTOR",
      "body": "After further tests, it seems to have nothing to do with blocks at all, but even a simple command like \"getdifficulty\" will cause the RPC server to stop sending responses after about 28,000 requests:\n\n``` javascript\nvar rpc=require('json-rpc2');\nvar bitcoind=rpc.Client.create(8332, \"localhost\",\n  \"bitcoinrpc\", \"password\");\nvar chain=function(i){\n  bitcoind.call('getdifficulty',[],function(err,result){\n    if (err){\n      console.log(String(err));\n      if (String(err)==\"Error: Have no response object\"){\n        console.log(\"Thought so.\");\n      }\n      return;\n    }\n    console.log(result, i);\n    chain(i+1);\n  });\n};\nchain(0);\n```\n",
      "user": {
        "login": "ryanxcharles",
        "id": 63740,
        "node_id": "MDQ6VXNlcjYzNzQw",
        "avatar_url": "https://avatars.githubusercontent.com/u/63740?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanxcharles",
        "html_url": "https://github.com/ryanxcharles",
        "followers_url": "https://api.github.com/users/ryanxcharles/followers",
        "following_url": "https://api.github.com/users/ryanxcharles/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanxcharles/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanxcharles/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanxcharles/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanxcharles/orgs",
        "repos_url": "https://api.github.com/users/ryanxcharles/repos",
        "events_url": "https://api.github.com/users/ryanxcharles/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanxcharles/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/2889#issuecomment-22428463",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/2889"
    },
    {
      "event": "commented",
      "id": 22438885,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIyNDM4ODg1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/22438885",
      "actor": {
        "login": "Diapolo",
        "id": 1419649,
        "node_id": "MDQ6VXNlcjE0MTk2NDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Diapolo",
        "html_url": "https://github.com/Diapolo",
        "followers_url": "https://api.github.com/users/Diapolo/followers",
        "following_url": "https://api.github.com/users/Diapolo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Diapolo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Diapolo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
        "organizations_url": "https://api.github.com/users/Diapolo/orgs",
        "repos_url": "https://api.github.com/users/Diapolo/repos",
        "events_url": "https://api.github.com/users/Diapolo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Diapolo/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2013-08-10T12:22:47Z",
      "updated_at": "2013-08-10T12:22:47Z",
      "author_association": "NONE",
      "body": "Perhaps there is a memory leak in the RPC server we didn't yet catch? Does bitcoind consume a weird amount of memory after 28000 requests?\n",
      "user": {
        "login": "Diapolo",
        "id": 1419649,
        "node_id": "MDQ6VXNlcjE0MTk2NDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Diapolo",
        "html_url": "https://github.com/Diapolo",
        "followers_url": "https://api.github.com/users/Diapolo/followers",
        "following_url": "https://api.github.com/users/Diapolo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Diapolo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Diapolo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
        "organizations_url": "https://api.github.com/users/Diapolo/orgs",
        "repos_url": "https://api.github.com/users/Diapolo/repos",
        "events_url": "https://api.github.com/users/Diapolo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Diapolo/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/2889#issuecomment-22438885",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/2889"
    },
    {
      "event": "commented",
      "id": 22438947,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIyNDM4OTQ3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/22438947",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2013-08-10T12:27:30Z",
      "updated_at": "2013-08-10T12:29:05Z",
      "author_association": "MEMBER",
      "body": "How long is \"temporarily\"?\n\nEDIT: a few seconds, apparently. That can just be a new block that arrives and is being processed, I think. RPC commands (and pretty much everything) stops working then. A few seconds sounds long though.\n",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/2889#issuecomment-22438947",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/2889"
    },
    {
      "event": "commented",
      "id": 22449518,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIyNDQ5NTE4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/22449518",
      "actor": {
        "login": "ryanxcharles",
        "id": 63740,
        "node_id": "MDQ6VXNlcjYzNzQw",
        "avatar_url": "https://avatars.githubusercontent.com/u/63740?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanxcharles",
        "html_url": "https://github.com/ryanxcharles",
        "followers_url": "https://api.github.com/users/ryanxcharles/followers",
        "following_url": "https://api.github.com/users/ryanxcharles/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanxcharles/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanxcharles/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanxcharles/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanxcharles/orgs",
        "repos_url": "https://api.github.com/users/ryanxcharles/repos",
        "events_url": "https://api.github.com/users/ryanxcharles/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanxcharles/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2013-08-10T23:36:04Z",
      "updated_at": "2013-08-10T23:38:48Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Perhaps there is a memory leak in the RPC server we didn't yet catch? Does bitcoind consume a weird amount of memory after 28000 requests?\n\nNo, the memory usage is low. It does use a lot of CPU though - about 50% CPU usage according to top.\n\n> How long is \"temporarily\"?\n\nIt depends. Sometimes it last a few seconds, sometimes it lasts tens of seconds.\n\n> EDIT: a few seconds, apparently. That can just be a new block that arrives and is being processed, I think. RPC commands (and pretty much everything) stops working then. A few seconds sounds long though.\n\nIt's not due to a new block. I just tested it and it froze several times before a new block was found.\n",
      "user": {
        "login": "ryanxcharles",
        "id": 63740,
        "node_id": "MDQ6VXNlcjYzNzQw",
        "avatar_url": "https://avatars.githubusercontent.com/u/63740?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanxcharles",
        "html_url": "https://github.com/ryanxcharles",
        "followers_url": "https://api.github.com/users/ryanxcharles/followers",
        "following_url": "https://api.github.com/users/ryanxcharles/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanxcharles/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanxcharles/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanxcharles/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanxcharles/orgs",
        "repos_url": "https://api.github.com/users/ryanxcharles/repos",
        "events_url": "https://api.github.com/users/ryanxcharles/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanxcharles/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/2889#issuecomment-22449518",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/2889"
    },
    {
      "event": "commented",
      "id": 36019465,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM2MDE5NDY1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/36019465",
      "actor": {
        "login": "npiguet",
        "id": 1618122,
        "node_id": "MDQ6VXNlcjE2MTgxMjI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1618122?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/npiguet",
        "html_url": "https://github.com/npiguet",
        "followers_url": "https://api.github.com/users/npiguet/followers",
        "following_url": "https://api.github.com/users/npiguet/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/npiguet/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/npiguet/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/npiguet/subscriptions",
        "organizations_url": "https://api.github.com/users/npiguet/orgs",
        "repos_url": "https://api.github.com/users/npiguet/repos",
        "events_url": "https://api.github.com/users/npiguet/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/npiguet/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-02-25T15:31:41Z",
      "updated_at": "2014-02-25T15:31:41Z",
      "author_association": "NONE",
      "body": "I can actually confirm that myself. I can add this the stopping doesn't happen abruptly. For me, responses to RPC requests that are fired in quick succession become gradually slower and slower. After some time though, bitcoind seems to recover and the sequence of requests can be attempted again, but the pattern repeats (high number of requests fullfilled at first, then gradually becomes slower and slower)\n\nInterestingly, bitcoind's memory usage doesn't grow, and remains more or less constant during the whole process. Its CPU usage also doesn't grow, but instead seems to be proportional to the rate of the responses it gives. Looking at the CPU usage, you can see high usage at first (when the rate of requests is high), and then the CPU usage gradually declines.\n\nThis looks to me like bitcoind is really sleeping (or waiting for something) for some time before, during or after completing the request.\n",
      "user": {
        "login": "npiguet",
        "id": 1618122,
        "node_id": "MDQ6VXNlcjE2MTgxMjI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1618122?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/npiguet",
        "html_url": "https://github.com/npiguet",
        "followers_url": "https://api.github.com/users/npiguet/followers",
        "following_url": "https://api.github.com/users/npiguet/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/npiguet/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/npiguet/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/npiguet/subscriptions",
        "organizations_url": "https://api.github.com/users/npiguet/orgs",
        "repos_url": "https://api.github.com/users/npiguet/repos",
        "events_url": "https://api.github.com/users/npiguet/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/npiguet/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/2889#issuecomment-36019465",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/2889"
    },
    {
      "event": "commented",
      "id": 37683021,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM3NjgzMDIx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37683021",
      "actor": {
        "login": "espringe",
        "id": 201777,
        "node_id": "MDQ6VXNlcjIwMTc3Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/201777?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/espringe",
        "html_url": "https://github.com/espringe",
        "followers_url": "https://api.github.com/users/espringe/followers",
        "following_url": "https://api.github.com/users/espringe/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/espringe/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/espringe/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/espringe/subscriptions",
        "organizations_url": "https://api.github.com/users/espringe/orgs",
        "repos_url": "https://api.github.com/users/espringe/repos",
        "events_url": "https://api.github.com/users/espringe/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/espringe/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-03-14T18:55:07Z",
      "updated_at": "2014-03-14T18:55:07Z",
      "author_association": "NONE",
      "body": "I'm have the same problem -- albeit with bitcoind stop responding to RPC for minutes. During this time, running even `bitcoind help` locally will just hang.\n\nPerhaps coincidentally, but I'm also using node to make rpc calls.  I tried a very basic, local bash loop executing commands -- and did not have the same pause problem. I am wondering if it could be something related to the library used making these rpc calls. Perhaps it's not immediately ending connections?\n",
      "user": {
        "login": "espringe",
        "id": 201777,
        "node_id": "MDQ6VXNlcjIwMTc3Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/201777?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/espringe",
        "html_url": "https://github.com/espringe",
        "followers_url": "https://api.github.com/users/espringe/followers",
        "following_url": "https://api.github.com/users/espringe/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/espringe/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/espringe/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/espringe/subscriptions",
        "organizations_url": "https://api.github.com/users/espringe/orgs",
        "repos_url": "https://api.github.com/users/espringe/repos",
        "events_url": "https://api.github.com/users/espringe/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/espringe/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/2889#issuecomment-37683021",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/2889"
    },
    {
      "event": "commented",
      "id": 37683669,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM3NjgzNjY5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37683669",
      "actor": {
        "login": "espringe",
        "id": 201777,
        "node_id": "MDQ6VXNlcjIwMTc3Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/201777?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/espringe",
        "html_url": "https://github.com/espringe",
        "followers_url": "https://api.github.com/users/espringe/followers",
        "following_url": "https://api.github.com/users/espringe/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/espringe/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/espringe/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/espringe/subscriptions",
        "organizations_url": "https://api.github.com/users/espringe/orgs",
        "repos_url": "https://api.github.com/users/espringe/repos",
        "events_url": "https://api.github.com/users/espringe/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/espringe/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-03-14T19:01:50Z",
      "updated_at": "2014-03-14T19:01:50Z",
      "author_association": "NONE",
      "body": "Bash loop that appears to not cause problems:\n\n```\nCOUNTER = 1\nwhile true; do\necho $COUNTER\nbitcoind getdifficulty\nlet COUNTER+=1\ndone\n```\n",
      "user": {
        "login": "espringe",
        "id": 201777,
        "node_id": "MDQ6VXNlcjIwMTc3Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/201777?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/espringe",
        "html_url": "https://github.com/espringe",
        "followers_url": "https://api.github.com/users/espringe/followers",
        "following_url": "https://api.github.com/users/espringe/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/espringe/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/espringe/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/espringe/subscriptions",
        "organizations_url": "https://api.github.com/users/espringe/orgs",
        "repos_url": "https://api.github.com/users/espringe/repos",
        "events_url": "https://api.github.com/users/espringe/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/espringe/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/2889#issuecomment-37683669",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/2889"
    },
    {
      "event": "commented",
      "id": 37683970,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM3NjgzOTcw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37683970",
      "actor": {
        "login": "npiguet",
        "id": 1618122,
        "node_id": "MDQ6VXNlcjE2MTgxMjI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1618122?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/npiguet",
        "html_url": "https://github.com/npiguet",
        "followers_url": "https://api.github.com/users/npiguet/followers",
        "following_url": "https://api.github.com/users/npiguet/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/npiguet/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/npiguet/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/npiguet/subscriptions",
        "organizations_url": "https://api.github.com/users/npiguet/orgs",
        "repos_url": "https://api.github.com/users/npiguet/repos",
        "events_url": "https://api.github.com/users/npiguet/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/npiguet/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-03-14T19:05:01Z",
      "updated_at": "2014-03-14T19:05:01Z",
      "author_association": "NONE",
      "body": "I've been using Java's HttpUrlConnection mechanism to do those calls. I know that it makes use of the HTTP keepalive feature to avoid having to setup and teardown a new TCP connection for each request. NodeJS probably does the same.\n\nHowever, the bash loop obviously doesn't do that. Could this be what causes the difference?\n",
      "user": {
        "login": "npiguet",
        "id": 1618122,
        "node_id": "MDQ6VXNlcjE2MTgxMjI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1618122?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/npiguet",
        "html_url": "https://github.com/npiguet",
        "followers_url": "https://api.github.com/users/npiguet/followers",
        "following_url": "https://api.github.com/users/npiguet/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/npiguet/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/npiguet/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/npiguet/subscriptions",
        "organizations_url": "https://api.github.com/users/npiguet/orgs",
        "repos_url": "https://api.github.com/users/npiguet/repos",
        "events_url": "https://api.github.com/users/npiguet/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/npiguet/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/2889#issuecomment-37683970",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/2889"
    },
    {
      "event": "commented",
      "id": 37684250,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM3Njg0MjUw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37684250",
      "actor": {
        "login": "npiguet",
        "id": 1618122,
        "node_id": "MDQ6VXNlcjE2MTgxMjI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1618122?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/npiguet",
        "html_url": "https://github.com/npiguet",
        "followers_url": "https://api.github.com/users/npiguet/followers",
        "following_url": "https://api.github.com/users/npiguet/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/npiguet/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/npiguet/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/npiguet/subscriptions",
        "organizations_url": "https://api.github.com/users/npiguet/orgs",
        "repos_url": "https://api.github.com/users/npiguet/repos",
        "events_url": "https://api.github.com/users/npiguet/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/npiguet/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-03-14T19:07:38Z",
      "updated_at": "2014-03-14T19:07:38Z",
      "author_association": "NONE",
      "body": "I'll try doing some tests that add the header \"Connection: close\" to the request so that keepalive is disabled, and see if that makes a difference.\n",
      "user": {
        "login": "npiguet",
        "id": 1618122,
        "node_id": "MDQ6VXNlcjE2MTgxMjI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1618122?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/npiguet",
        "html_url": "https://github.com/npiguet",
        "followers_url": "https://api.github.com/users/npiguet/followers",
        "following_url": "https://api.github.com/users/npiguet/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/npiguet/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/npiguet/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/npiguet/subscriptions",
        "organizations_url": "https://api.github.com/users/npiguet/orgs",
        "repos_url": "https://api.github.com/users/npiguet/repos",
        "events_url": "https://api.github.com/users/npiguet/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/npiguet/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/2889#issuecomment-37684250",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/2889"
    },
    {
      "event": "commented",
      "id": 37705322,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzA1MzIy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37705322",
      "actor": {
        "login": "leofidus",
        "id": 4348296,
        "node_id": "MDQ6VXNlcjQzNDgyOTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4348296?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/leofidus",
        "html_url": "https://github.com/leofidus",
        "followers_url": "https://api.github.com/users/leofidus/followers",
        "following_url": "https://api.github.com/users/leofidus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/leofidus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/leofidus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/leofidus/subscriptions",
        "organizations_url": "https://api.github.com/users/leofidus/orgs",
        "repos_url": "https://api.github.com/users/leofidus/repos",
        "events_url": "https://api.github.com/users/leofidus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/leofidus/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-03-14T22:47:46Z",
      "updated_at": "2014-03-14T22:47:46Z",
      "author_association": "NONE",
      "body": "Since a 10ms timeout is enough to make the problem go away in the first example, I suspect the bash loop is simply too slow to reproduce the problem.\n",
      "user": {
        "login": "leofidus",
        "id": 4348296,
        "node_id": "MDQ6VXNlcjQzNDgyOTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4348296?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/leofidus",
        "html_url": "https://github.com/leofidus",
        "followers_url": "https://api.github.com/users/leofidus/followers",
        "following_url": "https://api.github.com/users/leofidus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/leofidus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/leofidus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/leofidus/subscriptions",
        "organizations_url": "https://api.github.com/users/leofidus/orgs",
        "repos_url": "https://api.github.com/users/leofidus/repos",
        "events_url": "https://api.github.com/users/leofidus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/leofidus/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/2889#issuecomment-37705322",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/2889"
    },
    {
      "event": "labeled",
      "id": 120441832,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDEyMDQ0MTgzMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/120441832",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-05-13T07:15:12Z",
      "label": {
        "name": "RPC",
        "color": "0052cc"
      }
    },
    {
      "event": "labeled",
      "id": 120441844,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDEyMDQ0MTg0NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/120441844",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-05-13T07:15:14Z",
      "label": {
        "name": "Bug",
        "color": "FBBAAB"
      }
    },
    {
      "event": "commented",
      "id": 111479560,
      "node_id": "MDEyOklzc3VlQ29tbWVudDExMTQ3OTU2MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/111479560",
      "actor": {
        "login": "shivaenigma",
        "id": 737092,
        "node_id": "MDQ6VXNlcjczNzA5Mg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/737092?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/shivaenigma",
        "html_url": "https://github.com/shivaenigma",
        "followers_url": "https://api.github.com/users/shivaenigma/followers",
        "following_url": "https://api.github.com/users/shivaenigma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/shivaenigma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/shivaenigma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/shivaenigma/subscriptions",
        "organizations_url": "https://api.github.com/users/shivaenigma/orgs",
        "repos_url": "https://api.github.com/users/shivaenigma/repos",
        "events_url": "https://api.github.com/users/shivaenigma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/shivaenigma/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-06-12T12:48:29Z",
      "updated_at": "2015-06-12T12:48:29Z",
      "author_association": "NONE",
      "body": "This is hapenning on my server after every few weeks .  We have a getblock call to bitcoind for each blocks. After few block numbers bitcoind RPC hangs ( I have tried waiting for 30 min , but doesn't help, have to kill bitcoind and restart). Running bitcoind 0.10.2 .\n\nIs this fixed ?\nI can attempt to write a script to reproduce if this is not fixed yet... in the latest source \n",
      "user": {
        "login": "shivaenigma",
        "id": 737092,
        "node_id": "MDQ6VXNlcjczNzA5Mg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/737092?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/shivaenigma",
        "html_url": "https://github.com/shivaenigma",
        "followers_url": "https://api.github.com/users/shivaenigma/followers",
        "following_url": "https://api.github.com/users/shivaenigma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/shivaenigma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/shivaenigma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/shivaenigma/subscriptions",
        "organizations_url": "https://api.github.com/users/shivaenigma/orgs",
        "repos_url": "https://api.github.com/users/shivaenigma/repos",
        "events_url": "https://api.github.com/users/shivaenigma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/shivaenigma/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/2889#issuecomment-111479560",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/2889"
    },
    {
      "event": "commented",
      "id": 111482477,
      "node_id": "MDEyOklzc3VlQ29tbWVudDExMTQ4MjQ3Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/111482477",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-06-12T12:54:43Z",
      "updated_at": "2015-06-12T12:54:43Z",
      "author_association": "MEMBER",
      "body": "No, it's not fixed, that's why this issue is still open. A script to reproduce it would be very useful.\n",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/2889#issuecomment-111482477",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/2889"
    },
    {
      "event": "commented",
      "id": 120253927,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEyMDI1MzkyNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/120253927",
      "actor": {
        "login": "shivaenigma",
        "id": 737092,
        "node_id": "MDQ6VXNlcjczNzA5Mg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/737092?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/shivaenigma",
        "html_url": "https://github.com/shivaenigma",
        "followers_url": "https://api.github.com/users/shivaenigma/followers",
        "following_url": "https://api.github.com/users/shivaenigma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/shivaenigma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/shivaenigma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/shivaenigma/subscriptions",
        "organizations_url": "https://api.github.com/users/shivaenigma/orgs",
        "repos_url": "https://api.github.com/users/shivaenigma/repos",
        "events_url": "https://api.github.com/users/shivaenigma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/shivaenigma/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-10T06:47:42Z",
      "updated_at": "2015-07-10T06:47:42Z",
      "author_association": "NONE",
      "body": "I am not sure if this is bcoz of some throtlling feature on bitcoin , but this is how to reproduce\n\n``` python\nfrom bitcoinrpc.authproxy import AuthServiceProxy\nimport sys\nimport threading\nimport traceback\nimport time\n\nnumber = 5\nconn = [None] * number\nwhile(True):\n  for i in range(0, number):\n    try:\n      conn[i] = AuthServiceProxy(sys.argv[1])\n      count = conn[i].getblockcount()\n      raw_block=conn[i].getblock(conn[i].getblockhash(count))\n      print \"Got block %d\"%(count)  \n    except:\n      traceback.print_exc()\n      #Ignore and continue\n```\n\nRun the above script and then u can see the bitcoin-cli getinfo will stop responding. \n",
      "user": {
        "login": "shivaenigma",
        "id": 737092,
        "node_id": "MDQ6VXNlcjczNzA5Mg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/737092?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/shivaenigma",
        "html_url": "https://github.com/shivaenigma",
        "followers_url": "https://api.github.com/users/shivaenigma/followers",
        "following_url": "https://api.github.com/users/shivaenigma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/shivaenigma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/shivaenigma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/shivaenigma/subscriptions",
        "organizations_url": "https://api.github.com/users/shivaenigma/orgs",
        "repos_url": "https://api.github.com/users/shivaenigma/repos",
        "events_url": "https://api.github.com/users/shivaenigma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/shivaenigma/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/2889#issuecomment-120253927",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/2889"
    },
    {
      "event": "commented",
      "id": 120254266,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEyMDI1NDI2Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/120254266",
      "actor": {
        "login": "shivaenigma",
        "id": 737092,
        "node_id": "MDQ6VXNlcjczNzA5Mg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/737092?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/shivaenigma",
        "html_url": "https://github.com/shivaenigma",
        "followers_url": "https://api.github.com/users/shivaenigma/followers",
        "following_url": "https://api.github.com/users/shivaenigma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/shivaenigma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/shivaenigma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/shivaenigma/subscriptions",
        "organizations_url": "https://api.github.com/users/shivaenigma/orgs",
        "repos_url": "https://api.github.com/users/shivaenigma/repos",
        "events_url": "https://api.github.com/users/shivaenigma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/shivaenigma/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-10T06:50:44Z",
      "updated_at": "2015-07-10T06:50:44Z",
      "author_association": "NONE",
      "body": "Basically on my server sometimes lots of these connections are going into CLOSE_WAIT state\n\n```\npython   6388 ubuntu   11u  IPv4 156823      0t0  TCP localhost:37917->localhost:8332 (ESTABLISHED)\npython   6388 ubuntu   13u  IPv4 125106      0t0  TCP localhost:36759->localhost:8332 (CLOSE_WAIT)\npython   6898 ubuntu   11u  IPv4 128729      0t0  TCP localhost:36958->localhost:8332 (ESTABLISHED)\n```\n\nWhen the number of these CLOSE_WAIT connections is becoming 5 ... rpc calls wont respond anymore and I have to restart my client\n",
      "user": {
        "login": "shivaenigma",
        "id": 737092,
        "node_id": "MDQ6VXNlcjczNzA5Mg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/737092?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/shivaenigma",
        "html_url": "https://github.com/shivaenigma",
        "followers_url": "https://api.github.com/users/shivaenigma/followers",
        "following_url": "https://api.github.com/users/shivaenigma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/shivaenigma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/shivaenigma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/shivaenigma/subscriptions",
        "organizations_url": "https://api.github.com/users/shivaenigma/orgs",
        "repos_url": "https://api.github.com/users/shivaenigma/repos",
        "events_url": "https://api.github.com/users/shivaenigma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/shivaenigma/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/2889#issuecomment-120254266",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/2889"
    },
    {
      "event": "commented",
      "id": 152208317,
      "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjIwODMxNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/152208317",
      "actor": {
        "login": "mcelrath",
        "id": 1746780,
        "node_id": "MDQ6VXNlcjE3NDY3ODA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1746780?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mcelrath",
        "html_url": "https://github.com/mcelrath",
        "followers_url": "https://api.github.com/users/mcelrath/followers",
        "following_url": "https://api.github.com/users/mcelrath/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mcelrath/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mcelrath/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mcelrath/subscriptions",
        "organizations_url": "https://api.github.com/users/mcelrath/orgs",
        "repos_url": "https://api.github.com/users/mcelrath/repos",
        "events_url": "https://api.github.com/users/mcelrath/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mcelrath/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-10-29T15:06:41Z",
      "updated_at": "2015-10-29T15:06:41Z",
      "author_association": "NONE",
      "body": "This is likely the same as #6454 and fixed by #5677 \n",
      "user": {
        "login": "mcelrath",
        "id": 1746780,
        "node_id": "MDQ6VXNlcjE3NDY3ODA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1746780?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mcelrath",
        "html_url": "https://github.com/mcelrath",
        "followers_url": "https://api.github.com/users/mcelrath/followers",
        "following_url": "https://api.github.com/users/mcelrath/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mcelrath/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mcelrath/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mcelrath/subscriptions",
        "organizations_url": "https://api.github.com/users/mcelrath/orgs",
        "repos_url": "https://api.github.com/users/mcelrath/repos",
        "events_url": "https://api.github.com/users/mcelrath/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mcelrath/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/2889#issuecomment-152208317",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/2889"
    },
    {
      "event": "closed",
      "id": 644166038,
      "node_id": "MDExOkNsb3NlZEV2ZW50NjQ0MTY2MDM4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/644166038",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-28T11:19:41Z"
    },
    {
      "event": "commented",
      "id": 359309590,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTMwOTU5MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/359309590",
      "actor": {
        "login": "winteraz",
        "id": 27389938,
        "node_id": "MDQ6VXNlcjI3Mzg5OTM4",
        "avatar_url": "https://avatars.githubusercontent.com/u/27389938?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/winteraz",
        "html_url": "https://github.com/winteraz",
        "followers_url": "https://api.github.com/users/winteraz/followers",
        "following_url": "https://api.github.com/users/winteraz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/winteraz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/winteraz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/winteraz/subscriptions",
        "organizations_url": "https://api.github.com/users/winteraz/orgs",
        "repos_url": "https://api.github.com/users/winteraz/repos",
        "events_url": "https://api.github.com/users/winteraz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/winteraz/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-22T02:37:42Z",
      "updated_at": "2018-01-22T02:37:42Z",
      "author_association": "NONE",
      "body": "This is not fixed. I'm running a bitcoin node (with large amount of ram (i.e. 64GB) and after several requests to get the unspent transactions the rpc service get stuck and stops to responds to new requests. ",
      "user": {
        "login": "winteraz",
        "id": 27389938,
        "node_id": "MDQ6VXNlcjI3Mzg5OTM4",
        "avatar_url": "https://avatars.githubusercontent.com/u/27389938?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/winteraz",
        "html_url": "https://github.com/winteraz",
        "followers_url": "https://api.github.com/users/winteraz/followers",
        "following_url": "https://api.github.com/users/winteraz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/winteraz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/winteraz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/winteraz/subscriptions",
        "organizations_url": "https://api.github.com/users/winteraz/orgs",
        "repos_url": "https://api.github.com/users/winteraz/repos",
        "events_url": "https://api.github.com/users/winteraz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/winteraz/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/2889#issuecomment-359309590",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/2889"
    },
    {
      "event": "commented",
      "id": 359428105,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTQyODEwNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/359428105",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-22T13:49:04Z",
      "updated_at": "2018-01-22T13:49:04Z",
      "author_association": "MEMBER",
      "body": "@winteraz This issue is about five years old and was closed two years ago. If you are certain that you are running into the same issue, please open a new one and reference (link to) this issue.\r\n\r\nAlso, make sure to include steps to reproduce and the version you are using.",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/2889#issuecomment-359428105",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/2889"
    },
    {
      "event": "mentioned",
      "id": 1435145376,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTQzNTE0NTM3Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1435145376",
      "actor": {
        "login": "winteraz",
        "id": 27389938,
        "node_id": "MDQ6VXNlcjI3Mzg5OTM4",
        "avatar_url": "https://avatars.githubusercontent.com/u/27389938?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/winteraz",
        "html_url": "https://github.com/winteraz",
        "followers_url": "https://api.github.com/users/winteraz/followers",
        "following_url": "https://api.github.com/users/winteraz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/winteraz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/winteraz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/winteraz/subscriptions",
        "organizations_url": "https://api.github.com/users/winteraz/orgs",
        "repos_url": "https://api.github.com/users/winteraz/repos",
        "events_url": "https://api.github.com/users/winteraz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/winteraz/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-22T13:49:04Z"
    },
    {
      "event": "subscribed",
      "id": 1435145378,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE0MzUxNDUzNzg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1435145378",
      "actor": {
        "login": "winteraz",
        "id": 27389938,
        "node_id": "MDQ6VXNlcjI3Mzg5OTM4",
        "avatar_url": "https://avatars.githubusercontent.com/u/27389938?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/winteraz",
        "html_url": "https://github.com/winteraz",
        "followers_url": "https://api.github.com/users/winteraz/followers",
        "following_url": "https://api.github.com/users/winteraz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/winteraz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/winteraz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/winteraz/subscriptions",
        "organizations_url": "https://api.github.com/users/winteraz/orgs",
        "repos_url": "https://api.github.com/users/winteraz/repos",
        "events_url": "https://api.github.com/users/winteraz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/winteraz/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-22T13:49:04Z"
    },
    {
      "event": "referenced",
      "id": 2387049291,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDIzODcwNDkyOTE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2387049291",
      "actor": {
        "login": "IntegralTeam",
        "id": 35330335,
        "node_id": "MDQ6VXNlcjM1MzMwMzM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/35330335?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/IntegralTeam",
        "html_url": "https://github.com/IntegralTeam",
        "followers_url": "https://api.github.com/users/IntegralTeam/followers",
        "following_url": "https://api.github.com/users/IntegralTeam/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/IntegralTeam/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/IntegralTeam/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/IntegralTeam/subscriptions",
        "organizations_url": "https://api.github.com/users/IntegralTeam/orgs",
        "repos_url": "https://api.github.com/users/IntegralTeam/repos",
        "events_url": "https://api.github.com/users/IntegralTeam/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/IntegralTeam/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "8ffdcbf9993856cb1083749ea2ca1d9cb35071da",
      "commit_url": "https://api.github.com/repos/IntegralTeam/bitcoin/commits/8ffdcbf9993856cb1083749ea2ca1d9cb35071da",
      "created_at": "2019-06-04T06:33:40Z"
    },
    {
      "event": "locked",
      "id": 5272024196,
      "node_id": "LOE_lADOABII584BEPfkzwAAAAE6PLSE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5272024196",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-08T12:36:30Z",
      "lock_reason": "resolved"
    }
  ]
}