{
  "type": "issue",
  "issue": {
    "id": 621881799,
    "node_id": "MDU6SXNzdWU2MjE4ODE3OTk=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19030",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19030/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19030/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19030/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/19030",
    "number": 19030,
    "state": "closed",
    "state_reason": "completed",
    "title": "Allow fee bumping for non-BIP125 transactions after mempool expiry",
    "body": "**Is your feature request related to a problem? Please describe.**\r\n\r\nCountless users have encountered the \"stuck transaction\" problem when the transactions piles up in the mempool, so that transactions with lower fees have to wait.\r\n\r\nThere's even a wiki page about this problem: https://en.bitcoin.it/wiki/Fee_bumping#I_sent_the_stuck_transaction\r\nHowever, only knowledged/experienced users are able to follow such guidance. What's more, it's obviously an annoying hassle, which also makes the user prone to human errors, like overpaying with different (non-conflicting) UTXOs.\r\n\r\nThe rule that \"only 0-conf transactions with BIP125-enabled are allowed to be replaced (double-spent)\" is not really enforcable, so that it's actually a situation that everyone (especially the wallet GUI) just pretends to respect such a rule, which only blocks legitimate fee-bumping attempts by non-tech-savvy users.\r\n\r\nSuch \"rule\" also has a expiration time actually - the mempool expiration time of full nodes in the Bitcoin P2P network, like Bitcoin Core nodes.\r\n\r\n**Edit: The mempool expiration time doesn't mean the transaction itself has a expiration time - that's probably the most tricky part of this problem.**\r\n\r\n**Describe the solution you'd like**\r\n\r\nAllow Replace-By-Fee for transactions being stuck longer than mempool expiration time.\r\n\r\nThere are also corner cases (like lack of change output), which requires adding new inputs to the transaction - otherwise the user would probably have to do riskier things like replacing (removing, essentially) existing inputs or potentially immoral things like underpaying or even retracting the payment entirely, by double-spending.\r\n\r\n (To my understanding, there could be potential problems or risks like overpaying, if the wallet is allowed to remove existing input)\r\n\r\n**Describe alternatives you've considered**\r\n\r\nChild-Pay-For-Parents (CPFP), which also requires change output.\r\n\r\n**Additional context**\r\n\r\nhttps://en.bitcoin.it/wiki/Transaction_expiration\r\n\r\nMining pools also have been providing transaction prioritising services (the so-called \"transaction accelerator\") years ago, like https://www.pushtx.com/ and https://pushtx.btc.com/",
    "user": {
      "login": "andronoob",
      "id": 4075106,
      "node_id": "MDQ6VXNlcjQwNzUxMDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4075106?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/andronoob",
      "html_url": "https://github.com/andronoob",
      "followers_url": "https://api.github.com/users/andronoob/followers",
      "following_url": "https://api.github.com/users/andronoob/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/andronoob/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/andronoob/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/andronoob/subscriptions",
      "organizations_url": "https://api.github.com/users/andronoob/orgs",
      "repos_url": "https://api.github.com/users/andronoob/repos",
      "events_url": "https://api.github.com/users/andronoob/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/andronoob/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 64583,
        "node_id": "MDU6TGFiZWw2NDU4Mw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Feature",
        "name": "Feature",
        "color": "7cf575",
        "default": false
      },
      {
        "id": 82428251,
        "node_id": "MDU6TGFiZWw4MjQyODI1MQ==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/TX%20fees%20and%20policy",
        "name": "TX fees and policy",
        "color": "5319e7",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "NONE",
    "locked": false,
    "comments": 2,
    "closed_at": "2022-08-04T09:30:26Z",
    "created_at": "2020-05-20T16:03:45Z",
    "updated_at": "2022-08-04T09:30:26Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 3357186801,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDMzNTcxODY4MDE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3357186801",
      "actor": {
        "login": "andronoob",
        "id": 4075106,
        "node_id": "MDQ6VXNlcjQwNzUxMDY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4075106?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andronoob",
        "html_url": "https://github.com/andronoob",
        "followers_url": "https://api.github.com/users/andronoob/followers",
        "following_url": "https://api.github.com/users/andronoob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andronoob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andronoob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andronoob/subscriptions",
        "organizations_url": "https://api.github.com/users/andronoob/orgs",
        "repos_url": "https://api.github.com/users/andronoob/repos",
        "events_url": "https://api.github.com/users/andronoob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andronoob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-20T16:03:45Z",
      "label": {
        "name": "Feature",
        "color": "7cf575"
      }
    },
    {
      "event": "commented",
      "id": 678570841,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY3ODU3MDg0MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/678570841",
      "actor": {
        "login": "ghost",
        "id": 10137,
        "node_id": "MDQ6VXNlcjEwMTM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ghost",
        "html_url": "https://github.com/ghost",
        "followers_url": "https://api.github.com/users/ghost/followers",
        "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
        "organizations_url": "https://api.github.com/users/ghost/orgs",
        "repos_url": "https://api.github.com/users/ghost/repos",
        "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ghost/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-08-22T01:00:26Z",
      "updated_at": "2020-08-22T01:00:26Z",
      "author_association": "NONE",
      "body": "@andronoob alternative that you mentioned here : CPFP is the only option to resolve such issues. \r\n\r\nAlso wallets can help with better options and UX. Few days back I was thinking even exchanges can start doing CPFP for unconfirmed transactions when users deposit BTC and deduct amount from account balance if available.\r\n\r\nExample: I withdraw 0.1 BTC from Bitmex to my Bitfinex deposit address. Bitmex does the withdrawal once in a day and it's not confirmed for hours. Maybe Bitifinex can do CPFP for this transaction.",
      "user": {
        "login": "ghost",
        "id": 10137,
        "node_id": "MDQ6VXNlcjEwMTM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ghost",
        "html_url": "https://github.com/ghost",
        "followers_url": "https://api.github.com/users/ghost/followers",
        "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
        "organizations_url": "https://api.github.com/users/ghost/orgs",
        "repos_url": "https://api.github.com/users/ghost/repos",
        "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ghost/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/19030#issuecomment-678570841",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19030"
    },
    {
      "event": "mentioned",
      "id": 3681540564,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzY4MTU0MDU2NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3681540564",
      "actor": {
        "login": "andronoob",
        "id": 4075106,
        "node_id": "MDQ6VXNlcjQwNzUxMDY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4075106?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andronoob",
        "html_url": "https://github.com/andronoob",
        "followers_url": "https://api.github.com/users/andronoob/followers",
        "following_url": "https://api.github.com/users/andronoob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andronoob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andronoob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andronoob/subscriptions",
        "organizations_url": "https://api.github.com/users/andronoob/orgs",
        "repos_url": "https://api.github.com/users/andronoob/repos",
        "events_url": "https://api.github.com/users/andronoob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andronoob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-08-22T01:00:26Z"
    },
    {
      "event": "subscribed",
      "id": 3681540566,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM2ODE1NDA1NjY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3681540566",
      "actor": {
        "login": "andronoob",
        "id": 4075106,
        "node_id": "MDQ6VXNlcjQwNzUxMDY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4075106?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andronoob",
        "html_url": "https://github.com/andronoob",
        "followers_url": "https://api.github.com/users/andronoob/followers",
        "following_url": "https://api.github.com/users/andronoob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andronoob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andronoob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andronoob/subscriptions",
        "organizations_url": "https://api.github.com/users/andronoob/orgs",
        "repos_url": "https://api.github.com/users/andronoob/repos",
        "events_url": "https://api.github.com/users/andronoob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andronoob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-08-22T01:00:26Z"
    },
    {
      "event": "labeled",
      "id": 7126112927,
      "node_id": "LE_lADOABII584lESnHzwAAAAGov9qf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7126112927",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-04T09:30:24Z",
      "label": {
        "name": "TX fees and policy",
        "color": "5319e7"
      }
    },
    {
      "event": "commented",
      "id": 1205003191,
      "node_id": "IC_kwDOABII585H0uO3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1205003191",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-04T09:30:26Z",
      "updated_at": "2022-08-04T09:30:26Z",
      "author_association": "MEMBER",
      "body": "See https://github.com/bitcoin/bitcoin/pull/10823 which proposed something similar.\r\n\r\nSince #25353, you should be able to replace this tx using `-mempoolfullrbf` (note that local acceptance does not necessarily translate to propagation on the network, but if the original tx has expired from other mempools, I expect the replacement should work).\r\n\r\nHopefully this helps, closing this now. Feel free to reopen if these options don't work.",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/19030#issuecomment-1205003191",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19030"
    },
    {
      "event": "closed",
      "id": 7126113163,
      "node_id": "CE_lADOABII584lESnHzwAAAAGov9uL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7126113163",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-04T09:30:26Z"
    }
  ]
}