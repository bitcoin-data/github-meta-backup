{
  "type": "issue",
  "issue": {
    "id": 338159991,
    "node_id": "MDU6SXNzdWUzMzgxNTk5OTE=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13593",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13593/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13593/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13593/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/13593",
    "number": 13593,
    "state": "closed",
    "state_reason": "completed",
    "title": "Signature Verification Problem in script_tests.json",
    "body": "Hi, I'm getting a FALSE as a result in ALL the Signature Verification test cases in \"script_tests.json\". Some tests related to the CHECKSIG or CHECKSMULTISIG pass because they are negative tests, but in all cases where some real signature is checked, the result is FALSE. Full disclosure: I'm running a different project in Java, and we are trying to implement all the test uses cases as they are described here in bitcoin-core.\r\nI don't think that the test cases are wrong themselves, but on the other hand the crypto lib from spongycastle doesn't lie...\r\nI'm sure I must be missing something, in case you ran across the same issue, any help is really appreciated.\r\n\r\nThanks\r\n",
    "user": {
      "login": "ilozanof",
      "id": 35329568,
      "node_id": "MDQ6VXNlcjM1MzI5NTY4",
      "avatar_url": "https://avatars.githubusercontent.com/u/35329568?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ilozanof",
      "html_url": "https://github.com/ilozanof",
      "followers_url": "https://api.github.com/users/ilozanof/followers",
      "following_url": "https://api.github.com/users/ilozanof/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/ilozanof/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/ilozanof/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/ilozanof/subscriptions",
      "organizations_url": "https://api.github.com/users/ilozanof/orgs",
      "repos_url": "https://api.github.com/users/ilozanof/repos",
      "events_url": "https://api.github.com/users/ilozanof/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/ilozanof/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 62963516,
        "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
        "name": "Tests",
        "color": "d4c5f9",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "NONE",
    "locked": true,
    "active_lock_reason": "resolved",
    "comments": 2,
    "closed_at": "2018-07-10T10:41:52Z",
    "created_at": "2018-07-04T07:29:07Z",
    "updated_at": "2021-09-08T12:30:17Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 403779566,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzc3OTU2Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/403779566",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-07-10T10:41:52Z",
      "updated_at": "2018-07-10T10:41:52Z",
      "author_association": "MEMBER",
      "body": "Please provide exact steps to reproduce.",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/13593#issuecomment-403779566",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13593"
    },
    {
      "event": "closed",
      "id": 1725192998,
      "node_id": "MDExOkNsb3NlZEV2ZW50MTcyNTE5Mjk5OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1725192998",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-07-10T10:41:52Z"
    },
    {
      "event": "labeled",
      "id": 1725193156,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDE3MjUxOTMxNTY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1725193156",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-07-10T10:41:59Z",
      "label": {
        "name": "Tests",
        "color": "d4c5f9"
      }
    },
    {
      "event": "commented",
      "id": 403814115,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzgxNDExNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/403814115",
      "actor": {
        "login": "ilozanof",
        "id": 35329568,
        "node_id": "MDQ6VXNlcjM1MzI5NTY4",
        "avatar_url": "https://avatars.githubusercontent.com/u/35329568?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ilozanof",
        "html_url": "https://github.com/ilozanof",
        "followers_url": "https://api.github.com/users/ilozanof/followers",
        "following_url": "https://api.github.com/users/ilozanof/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ilozanof/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ilozanof/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ilozanof/subscriptions",
        "organizations_url": "https://api.github.com/users/ilozanof/orgs",
        "repos_url": "https://api.github.com/users/ilozanof/repos",
        "events_url": "https://api.github.com/users/ilozanof/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ilozanof/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-07-10T13:03:34Z",
      "updated_at": "2018-07-10T13:03:34Z",
      "author_association": "NONE",
      "body": "All the signature verification failed.  I don't think this issue is reproducible here since I'm working with another tech stack (Java), so the crypto libraries might be different. Since the Private and Public Key are hardcoded in the test, the Transaction HASH that is generated during execution time seemed to be the only reasonable point of failure. \r\nI've created another set of test cases on my own, using different private/Pub key pairs, and the new tests are working fine, verifying the signature properly. So my guess is either the transaction serialization algorithm has been changed at some point and not reflected in my code, or this serialisation works in a different way in another tech environment (I don't think this is the case though).\r\n\r\nNow it's fixed in my env, I didn't close the issue myself before because I'm still in the process of replicating all the scenarios.\r\n\r\nThx\r\n\r\n\r\n",
      "user": {
        "login": "ilozanof",
        "id": 35329568,
        "node_id": "MDQ6VXNlcjM1MzI5NTY4",
        "avatar_url": "https://avatars.githubusercontent.com/u/35329568?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ilozanof",
        "html_url": "https://github.com/ilozanof",
        "followers_url": "https://api.github.com/users/ilozanof/followers",
        "following_url": "https://api.github.com/users/ilozanof/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ilozanof/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ilozanof/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ilozanof/subscriptions",
        "organizations_url": "https://api.github.com/users/ilozanof/orgs",
        "repos_url": "https://api.github.com/users/ilozanof/repos",
        "events_url": "https://api.github.com/users/ilozanof/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ilozanof/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/13593#issuecomment-403814115",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13593"
    },
    {
      "event": "locked",
      "id": 5271991107,
      "node_id": "LOE_lADOABII584UJ-l3zwAAAAE6PDND",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5271991107",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-08T12:30:17Z",
      "lock_reason": "resolved"
    }
  ]
}