{
  "type": "issue",
  "issue": {
    "id": 1077765590,
    "node_id": "I_kwDOABII585APWXW",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23749",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23749/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23749/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23749/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/23749",
    "number": 23749,
    "state": "closed",
    "state_reason": "completed",
    "title": "No `label` field in `listunspent` entries in ranged descriptors",
    "body": "~~Importing a descriptor with a label, i expected to be able to use it to filter UTxOs per descriptor in `listunspent`. It's possible using the `addr()` descriptor but not with a non \"opaque\" one. I'm not sure what the expected behaviour here is, but it is inconsistent between the two and doesn't seem to be implied by the `help`:~~    -    **EDIT: labels are disabled for range descriptors, see the second comment.**\r\n> \"label\": \"str\",                    (string, optional, default=\"\") Label to assign to the address, only allowed with internal=false\r\n\r\nA repro on regtest follows.\r\n\r\n### With `multi()` (not active)\r\n\r\n```\r\ncreatewallet desc true true \"\" false true     \r\n\r\n{                                                                                                                                                                                    \r\n  \"name\": \"desc\",                                                                                                                                                                    \r\n  \"warning\": \"Empty string given as passphrase, wallet will not be encrypted.\\nWallet is an experimental descriptor wallet\"\r\n}\r\n```\r\n```\r\n-rpcwallet=desc importdescriptors '[{\"desc\":\"wsh(multi(1,tpubD6NzVbkrYhZ4X1zm1SuRG3uzkbjY5iVaDSZ8HfUDwEhMA5DtP6ebV1iR42eXKjxU7SAtf4PVHTVvbPqaTTisxH5Le8ynt2QSQNvZjTZWqwV/*,tpubD6NzVbkrYhZ4Wx4iTSmZQJWE6PsHR32TbeLGPoDNpoHHmeMR8RmHiAfco2npEzHLY8nmSNrKM5c7coGkaQwriSAnrXUfW6cQVw64Haj7aRv/*))#qw8vdw82\",\"timestamp\":\"now\",\"la\r\nbel\":\"testlabel\"}]'                                                                       \r\n\r\n[                                                                                                                                                                                    \r\n  {                                                                                                                                                                                  \r\n    \"success\": true,\r\n    \"warnings\": [                                                                         \r\n      \"Range not given, using default keypool range\"\r\n    ]                                                                                                                                                                                \r\n  }                                                                                                                                                                                  \r\n] \r\n```\r\n```\r\n-rpcwallet=desc deriveaddresses \"wsh(multi(1,tpubD6NzVbkrYhZ4X1zm1SuRG3uzkbjY5iVaDSZ8HfUDwEhMA5DtP6ebV1iR42eXKjxU7SAtf4PVHTVvbPqaTTisxH5Le8ynt2QSQNvZjTZWqwV/*,tpubD6NzVbkrYhZ4Wx4iTSmZQJWE6PsHR32TbeLGPoDNpoHHmeMR8RmHiAfco2npEzHLY8nmSNrKM5c7coGkaQwriSAnrXUfW6cQVw64Haj7aRv/*))#qw8vdw82\" 1           \r\n                     \r\n[                                                                                                                                                                                                                                                                                                                                                                          \r\n  \"bcrt1qmwhug9v6j9gehpwzv0vaan7qlv2dnhak2rjetuw0cwawe8d22p5qtj0xru\",                                                                                                                                                                                                                                                                                                      \r\n  \"bcrt1qhnzlvkn2cq3pq786j5l8vr23d4wv7hafumn87ysx7wckydcxyr4sxz53y7\"                                                                                                                                                                                                                                                                                                       \r\n]\r\n```\r\n```\r\nsendtoaddress bcrt1qhnzlvkn2cq3pq786j5l8vr23d4wv7hafumn87ysx7wckydcxyr4sxz53y7 1\r\n\r\nc06e372849ecb41ca879939d558dfd071451dd7ae37f82f8971885428fa0e2ac\r\n```\r\n```\r\n-rpcwallet=desc listunspent 0\r\n\r\n[\r\n  {\r\n    \"txid\": \"c06e372849ecb41ca879939d558dfd071451dd7ae37f82f8971885428fa0e2ac\",\r\n    \"vout\": 0,\r\n    \"address\": \"bcrt1qhnzlvkn2cq3pq786j5l8vr23d4wv7hafumn87ysx7wckydcxyr4sxz53y7\",\r\n    \"witnessScript\": \"512102002ce4dcd76b141d6fc3b87333bb487be0420a7b6c262486612e973ff67d480d210347c912c52c73fd5d9e676efae6daeceafb6d2e7e506e802a4d256d135b74b6d852ae\",\r\n    \"scriptPubKey\": \"0020bcc5f65a6ac0221078fa953e760d516d5ccf5fa9e6e67f1206f3b162370620eb\",\r\n    \"amount\": 1.00000000,\r\n    \"confirmations\": 0,\r\n    \"spendable\": true,\r\n    \"solvable\": true,\r\n    \"desc\": \"wsh(multi(1,[cb5d6fba/1]02002ce4dcd76b141d6fc3b87333bb487be0420a7b6c262486612e973ff67d480d,[a5461cc7/1]0347c912c52c73fd5d9e676efae6daeceafb6d2e7e506e802a4d256d135b74b6d8))#hh5argze\",\r\n    \"safe\": false\r\n  }\r\n]\r\n```\r\nAnd once confirmed:\r\n```\r\n-rpcwallet=desc listunspent\r\n\r\n[\r\n  {\r\n    \"txid\": \"c06e372849ecb41ca879939d558dfd071451dd7ae37f82f8971885428fa0e2ac\",\r\n    \"vout\": 0,\r\n    \"address\": \"bcrt1qhnzlvkn2cq3pq786j5l8vr23d4wv7hafumn87ysx7wckydcxyr4sxz53y7\",\r\n    \"witnessScript\": \"512102002ce4dcd76b141d6fc3b87333bb487be0420a7b6c262486612e973ff67d480d210347c912c52c73fd5d9e676efae6daeceafb6d2e7e506e802a4d256d135b74b6d852ae\",\r\n    \"scriptPubKey\": \"0020bcc5f65a6ac0221078fa953e760d516d5ccf5fa9e6e67f1206f3b162370620eb\",\r\n    \"amount\": 1.00000000,\r\n    \"confirmations\": 1,\r\n    \"spendable\": true,\r\n    \"solvable\": true,\r\n    \"desc\": \"wsh(multi(1,[cb5d6fba/1]02002ce4dcd76b141d6fc3b87333bb487be0420a7b6c262486612e973ff67d480d,[a5461cc7/1]0347c912c52c73fd5d9e676efae6daeceafb6d2e7e506e802a4d256d135b74b6d8))#hh5argze\",\r\n    \"safe\": true\r\n  }\r\n]\r\n```\r\n\r\n### With `multi()`, imported as active\r\n\r\nInterestingly, the behaviour is slightly different if the descriptor was imported as active: the `label` gets set to the default.\r\n```\r\n-rpcwallet=desc listunspent 0\r\n                                                                                                                                                                                                                                                                                                 \r\n[                                                                                                                                                                                                                                                                                                                                                                          \r\n  {                                                                                                                                                                                                                                                                                                                                                                        \r\n    \"txid\": \"4d210ea111d4b195dbbb9ef9c41adbd593a15abd474186c1db1345adebfd6a29\",                                                                                                                                                                                                                                                                                            \r\n    \"vout\": 1,                                                                                                                                                                                                                                                                                                                                                             \r\n    \"address\": \"bcrt1qmwhug9v6j9gehpwzv0vaan7qlv2dnhak2rjetuw0cwawe8d22p5qtj0xru\",                                                                                                                                                                                                                                                                                         \r\n    \"label\": \"\",                                                                                                                                                                                                                                                                                                                                                           \r\n    \"witnessScript\": \"512102a52540cdedb82efaf7f2f2a95e1934fe69fd4d6b2c1e7875d29a71e751e35234210389887d9cc54cd6e1eaabd16cd003779882fa51d2c524741f38aae526211ec8ea52ae\",                                                                                                                                                                                                     \r\n    \"scriptPubKey\": \"0020dbafc4159a91519b85c263d9decfc0fb14d9dfb650e595f1cfc3baec9daa5068\",                                                                                                                                                                                                                                                                                \r\n    \"amount\": 1.00000000,                                                                                                                                                                                                                                                                                                                                                  \r\n    \"confirmations\": 0,                                                                                                                                                                                                                                                                                                                                                    \r\n    \"ancestorcount\": 1,                                                                                                                                                                                                                                                                                                                                                    \r\n    \"ancestorsize\": 165,                                                                                                                                                                                                                                                                                                                                                   \r\n    \"ancestorfees\": 165,                                                                                                                                                                                                                                                                                                                                                   \r\n    \"spendable\": true,                                                                                                                                                                                                                                                                                                                                                     \r\n    \"solvable\": true,                                                                                                                                                                                                                                                                                                                                                      \r\n    \"desc\": \"wsh(multi(1,[cb5d6fba/0]02a52540cdedb82efaf7f2f2a95e1934fe69fd4d6b2c1e7875d29a71e751e35234,[a5461cc7/0]0389887d9cc54cd6e1eaabd16cd003779882fa51d2c524741f38aae526211ec8ea))#e7u440ul\",                                                                                                                                                                        \r\n    \"safe\": false                                                                                                                                                                                                                                                                                                                                                          \r\n  }                                                                                                                                                                                                                                                                                                                                                                        \r\n]\r\n```\r\n\r\n### With `addr()` (inactive, but active status doesn't matter)\r\n\r\n```\r\ncreatewallet descaddr true true \"\" false true\r\n\r\n{\r\n  \"name\": \"descaddr\",\r\n  \"warning\": \"Empty string given as passphrase, wallet will not be encrypted.\\nWallet is an experimental descriptor wallet\"\r\n}\r\n```\r\n```\r\n-rpcwallet=descaddr importdescriptors '[{\"desc\":\"addr(bcrt1qhnzlvkn2cq3pq786j5l8vr23d4wv7hafumn87ysx7wckydcxyr4sxz53y7)#duqgr8lc\",\"timestamp\":0,\"label\":\"foraddrdescriptorsitworks\"}]'\r\n\r\n[\r\n  {\r\n    \"success\": true\r\n  }\r\n]\r\n```\r\n```\r\n-rpcwallet=descaddr listunspent\r\n\r\n[\r\n  {\r\n    \"txid\": \"c06e372849ecb41ca879939d558dfd071451dd7ae37f82f8971885428fa0e2ac\",\r\n    \"vout\": 0,\r\n    \"address\": \"bcrt1qhnzlvkn2cq3pq786j5l8vr23d4wv7hafumn87ysx7wckydcxyr4sxz53y7\",\r\n    \"label\": \"foraddrdescriptorsitworks\",\r\n    \"scriptPubKey\": \"0020bcc5f65a6ac0221078fa953e760d516d5ccf5fa9e6e67f1206f3b162370620eb\",\r\n    \"amount\": 1.00000000,\r\n    \"confirmations\": 1,\r\n    \"spendable\": true,\r\n    \"solvable\": false,\r\n    \"safe\": true\r\n  }\r\n]\r\n```",
    "user": {
      "login": "darosior",
      "id": 22457751,
      "node_id": "MDQ6VXNlcjIyNDU3NzUx",
      "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/darosior",
      "html_url": "https://github.com/darosior",
      "followers_url": "https://api.github.com/users/darosior/followers",
      "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
      "organizations_url": "https://api.github.com/users/darosior/orgs",
      "repos_url": "https://api.github.com/users/darosior/repos",
      "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/darosior/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 64585,
        "node_id": "MDU6TGFiZWw2NDU4NQ==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug",
        "name": "Bug",
        "color": "FBBAAB",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "MEMBER",
    "locked": false,
    "comments": 4,
    "closed_at": "2022-01-29T08:49:15Z",
    "created_at": "2021-12-12T10:04:49Z",
    "updated_at": "2022-06-30T09:07:21Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 5752610798,
      "node_id": "LE_lADOABII585APWXWzwAAAAFW4d_u",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5752610798",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-12T10:04:49Z",
      "label": {
        "name": "Bug",
        "color": "FBBAAB"
      }
    },
    {
      "event": "commented",
      "id": 991876380,
      "node_id": "IC_kwDOABII5847HtUc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/991876380",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-12T10:59:59Z",
      "updated_at": "2021-12-12T11:32:07Z",
      "author_association": "MEMBER",
      "body": "Labels are disabled for ranged descriptors.\r\nhttps://github.com/bitcoin/bitcoin/blob/ac92ab6da58e34993d0641b98eef5b5f55b6cbf9/src/wallet/wallet.cpp#L3355-L3362\r\n\r\nSo this is not a Bug, rather a question on the rationale behind this decision and regarding what should be done to support them. But i can't change the label.\r\n\r\nEDIT: So addresses of ranged descriptors aren't set at import time. It would be clunky to iterate through all the scriptpubkeys up to the gap limit and add them all to the address book. How about adding an optional label to `WalletDescriptor`?\r\nhttps://github.com/bitcoin/bitcoin/blob/ac92ab6da58e34993d0641b98eef5b5f55b6cbf9/src/wallet/walletutil.h#L74-L84",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/23749#issuecomment-991876380",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23749"
    },
    {
      "event": "renamed",
      "id": 5752688157,
      "node_id": "RTE_lADOABII585APWXWzwAAAAFW4w4d",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5752688157",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-12T11:24:34Z",
      "rename": {
        "from": "No `label` field in `listunspent` entries in some descriptors (repro with `multi()`)",
        "to": "No `label` field in `listunspent` entries in ranged descriptors (repro with `multi()`)"
      }
    },
    {
      "event": "renamed",
      "id": 5752808079,
      "node_id": "RTE_lADOABII585APWXWzwAAAAFW5OKP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5752808079",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-12T13:25:05Z",
      "rename": {
        "from": "No `label` field in `listunspent` entries in ranged descriptors (repro with `multi()`)",
        "to": "No `label` field in `listunspent` entries in ranged descriptors"
      }
    },
    {
      "event": "commented",
      "id": 992082928,
      "node_id": "IC_kwDOABII5847Ifvw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/992082928",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-13T03:46:30Z",
      "updated_at": "2021-12-13T03:46:30Z",
      "author_association": "MEMBER",
      "body": "cc @achow101 @hugohn ",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/23749#issuecomment-992082928",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23749"
    },
    {
      "event": "mentioned",
      "id": 5754027992,
      "node_id": "MEE_lADOABII585APWXWzwAAAAFW93_Y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5754027992",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-13T03:46:30Z"
    },
    {
      "event": "subscribed",
      "id": 5754027995,
      "node_id": "SE_lADOABII585APWXWzwAAAAFW93_b",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5754027995",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-13T03:46:30Z"
    },
    {
      "event": "mentioned",
      "id": 5754027997,
      "node_id": "MEE_lADOABII585APWXWzwAAAAFW93_d",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5754027997",
      "actor": {
        "login": "hugohn",
        "id": 4769925,
        "node_id": "MDQ6VXNlcjQ3Njk5MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4769925?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hugohn",
        "html_url": "https://github.com/hugohn",
        "followers_url": "https://api.github.com/users/hugohn/followers",
        "following_url": "https://api.github.com/users/hugohn/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hugohn/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hugohn/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hugohn/subscriptions",
        "organizations_url": "https://api.github.com/users/hugohn/orgs",
        "repos_url": "https://api.github.com/users/hugohn/repos",
        "events_url": "https://api.github.com/users/hugohn/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hugohn/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-13T03:46:30Z"
    },
    {
      "event": "subscribed",
      "id": 5754028001,
      "node_id": "SE_lADOABII585APWXWzwAAAAFW93_h",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5754028001",
      "actor": {
        "login": "hugohn",
        "id": 4769925,
        "node_id": "MDQ6VXNlcjQ3Njk5MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4769925?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hugohn",
        "html_url": "https://github.com/hugohn",
        "followers_url": "https://api.github.com/users/hugohn/followers",
        "following_url": "https://api.github.com/users/hugohn/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hugohn/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hugohn/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hugohn/subscriptions",
        "organizations_url": "https://api.github.com/users/hugohn/orgs",
        "repos_url": "https://api.github.com/users/hugohn/repos",
        "events_url": "https://api.github.com/users/hugohn/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hugohn/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-13T03:46:30Z"
    },
    {
      "event": "referenced",
      "id": 5776422864,
      "node_id": "REFE_lADOABII585APWXWzwAAAAFYTTfQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5776422864",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "ce463cf450539867f3d48fe70f64b78051c32add",
      "commit_url": "https://api.github.com/repos/MarcoFalke/b-c/commits/ce463cf450539867f3d48fe70f64b78051c32add",
      "created_at": "2021-12-16T07:48:23Z"
    },
    {
      "event": "referenced",
      "id": 5779227178,
      "node_id": "REFE_lADOABII585APWXWzwAAAAFYeAIq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5779227178",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "8f60bf651fb3c49b38eff68864c0081625073c10",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/8f60bf651fb3c49b38eff68864c0081625073c10",
      "created_at": "2021-12-16T15:37:45Z"
    },
    {
      "event": "commented",
      "id": 1024869097,
      "node_id": "IC_kwDOABII5849FkLp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1024869097",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-01-29T08:49:02Z",
      "updated_at": "2022-01-29T08:49:02Z",
      "author_association": "MEMBER",
      "body": "This was discussed during Yesterday's meeting.\r\n```\r\n11:02 < achow101> #topic labels for ranged descriptors (darosior)\r\n11:02 < core-meetingbot`> topic: labels for ranged descriptors (darosior)\r\n11:02 -!- brunoerg [~brunoerg@2804:14d:5281:8ae2:1c0a:deda:9648:d9a6] has joined #bitcoin-core-dev\r\n11:02 < laanwj> hi\r\n11:03 < darosior> So as part of the Miniscript work, i tested the branch against my application (which uses Miniscript internally and the descriptor wallet as watchonly to track 2 main descriptors) and discovered that labels are deactivated for range descriptors.\r\n11:03 < darosior> However labels are pretty useful to differentiate the coins when you have multiple descriptors on the same watchonly wallet (which i think is the intent?). Typically for triage in the `listsinceblock` or `listunspent` results: i think i'm just an instance and they are useful as well.\r\n11:03 < darosior> So i wondered what people here thought about enabling the same features to the descriptor level, to not have to add all addresses to the address book in advance (which i guessed is the reason to disable them for range descriptors in the first place?). Or if something else than labels was envisioned to enable the same features.\r\n11:03 < darosior> s/and they are useful as well/ and they are useful as well to others/\r\n11:04 -!- sipsorcery [~sipsorcer@2a02:8084:6180:500::12b] has joined #bitcoin-core-dev\r\n11:04 < achow101> the reason that labels were not implemented originally was because it seemed odd to me that someone would want to assign the same label to all addresses generated by a descriptor\r\n11:04 < sipa> What are you thinking of, something like a label template on the descriptor, with say a %i in it that gets replaced by the index?\r\n11:04 < sipa> Or just the same label for everything?\r\n11:04 < achow101> and also I think there was some complexity with applying labels to addresses that did not exist yet\r\n11:05 < darosior> The same label for any address derived for this descriptor. Something to say \"this received coin is for this descriptor\"\r\n11:05 -!- bomb-on [~bomb-on@194.144.47.113] has joined #bitcoin-core-dev\r\n11:06 < achow101> if you think it's something people will use, go for it\r\n11:06 < michaelfolkson> Sorry for the ELI5 but by label do you mean the subscripts of Miniscript?\r\n11:07 < darosior> No i mean a metadata to identify a descriptor\r\n11:07 < darosior> Could just add the descriptor itself to the result, i guess, although i'd to think how a client of the API would manage that\r\n11:07 -!- brunoerg [~brunoerg@2804:14d:5281:8ae2:1c0a:deda:9648:d9a6] has quit [Ping timeout: 252 seconds]\r\n11:07 < sipa> No, label, as in the setlabel RPC.\r\n11:07 < sipa> and getaddressesbylabel\r\n11:07 < michaelfolkson> Oh ok\r\n11:08 < darosior> Ok, thanks. It was mainly to know if there were prior discussions on this topic. Guess i'm done :)\r\n11:08 < achow101> I'm not sure I understand the use case, but I am ambivalent on this\r\n```\r\n\r\nI then suggested that i would lay out the motivation better in a new \"feature request\" issue. In the end i think the use case i presented here is covered by the `desc` field in the `listunspent` result. The descriptor being solvable is a pre-condition to having this usecase in the first place.\r\nIt is only missing from the `listsinceblock` result but i think i'll open PR adding it.\r\n\r\ncc @achow101 re Yesterday's topic ^. TL;DR: should have done my homework better before proposing a topic. :)",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/23749#issuecomment-1024869097",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23749"
    },
    {
      "event": "mentioned",
      "id": 5974775141,
      "node_id": "MEE_lADOABII585APWXWzwAAAAFkH9Vl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5974775141",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-01-29T08:49:02Z"
    },
    {
      "event": "subscribed",
      "id": 5974775142,
      "node_id": "SE_lADOABII585APWXWzwAAAAFkH9Vm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5974775142",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-01-29T08:49:02Z"
    },
    {
      "event": "closed",
      "id": 5974775444,
      "node_id": "CE_lADOABII585APWXWzwAAAAFkH9aU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5974775444",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-01-29T08:49:16Z"
    },
    {
      "event": "commented",
      "id": 1170963601,
      "node_id": "IC_kwDOABII585Fy3yR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1170963601",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-30T09:07:21Z",
      "updated_at": "2022-06-30T09:07:21Z",
      "author_association": "MEMBER",
      "body": "FWIW https://github.com/bitcoin/bitcoin/pull/25504 addresses this. Note also the `desc` field in `listunspent` isn't enough, since it is not an identifier for the imported descriptor.",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/23749#issuecomment-1170963601",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23749"
    }
  ]
}