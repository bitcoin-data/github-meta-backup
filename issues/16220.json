{
  "type": "issue",
  "issue": {
    "id": 456560264,
    "node_id": "MDU6SXNzdWU0NTY1NjAyNjQ=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16220",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16220/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16220/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16220/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/16220",
    "number": 16220,
    "state": "open",
    "state_reason": null,
    "title": "odd behaviour of GetDataDir creating wallets/ subdirectory",
    "body": "<!-- This issue tracker is only for technical issues related to Bitcoin Core.\r\n\r\nGeneral bitcoin questions and/or support requests are best directed to the Bitcoin StackExchange at https://bitcoin.stackexchange.com.\r\n\r\nFor reporting security issues, please read instructions at https://bitcoincore.org/en/contact/.\r\n\r\nIf the node is \"stuck\" during sync or giving \"block checksum mismatch\" errors, please ensure your hardware is stable by running memtest and observe CPU temperature with a load-test tool such as linpack before creating an issue! -->\r\n\r\n<!-- Describe the issue -->\r\nWhile backporting some things to Bitcoin ABC, I notice that `GetDataDir` is a bit awkward since it not only creates the directory in question, it also creates the wallets/ subdirectory ... but only if it was the first time creating the datadir (see #11466).\r\n\r\nWhy this is a bit weird:\r\n* If something else during initialization happens to create the directory in question first (like `GetBlocksDir`), the wallets/ directory won't get created. This is particularly relevant for the net-specific case. In Bitcoin Core, `GetDataDir(true)` gets called before `GetBlocksDir()` but seemingly by accident: the former is called during `InitLogging` when fetching the default debug.log location, and the latter during `AppInitParameterInteraction` shortly afterwards. If `InitLogging` were changed slightly, it could inadvertently cause testnet/regtest to stop creating wallets/ directory.\r\n* If someone creates the ~/.bitcoin directory just to host the bitcoin.conf before running first time, it won't create the mainnet wallets/ subdirectory.\r\n* If running in -nowallet mode, it still creates the wallets/ directory. If running -regtest and -nowallet, it creates *two* wallets/ directories (the mainnet one and net-specific one) since both `GetDataDir(false)` and `GetDataDir(true)` get called during init.\r\n* If a user were to run in -nowallet, then deleted the empty and apparently superfluous wallets/ directory, it will not get recreated if later run with wallet enabled. Then bitcoind will instead create wallet.dat in the bare directory.\r\n* If bitcoind is compiled without wallet support, it still creates wallets/ directory (sometimes).\r\n\r\nI think a more elegant solution would be to have wallets/ directory created in the wallet initialization, however I'm not an expert on the wallet part of the code and how this ought to behave.\r\n\r\n(pinging @meshcollider from original PR)",
    "user": {
      "login": "markblundeberg",
      "id": 36528214,
      "node_id": "MDQ6VXNlcjM2NTI4MjE0",
      "avatar_url": "https://avatars.githubusercontent.com/u/36528214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/markblundeberg",
      "html_url": "https://github.com/markblundeberg",
      "followers_url": "https://api.github.com/users/markblundeberg/followers",
      "following_url": "https://api.github.com/users/markblundeberg/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/markblundeberg/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/markblundeberg/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/markblundeberg/subscriptions",
      "organizations_url": "https://api.github.com/users/markblundeberg/orgs",
      "repos_url": "https://api.github.com/users/markblundeberg/repos",
      "events_url": "https://api.github.com/users/markblundeberg/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/markblundeberg/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 149424,
        "node_id": "MDU6TGFiZWwxNDk0MjQ=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
        "name": "Wallet",
        "color": "08a781",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "NONE",
    "locked": false,
    "comments": 4,
    "created_at": "2019-06-15T17:44:26Z",
    "updated_at": "2023-02-14T15:46:46Z"
  },
  "events": [
    {
      "event": "mentioned",
      "id": 2415518931,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MjQxNTUxODkzMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2415518931",
      "actor": {
        "login": "meshcollider",
        "id": 3211283,
        "node_id": "MDQ6VXNlcjMyMTEyODM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/meshcollider",
        "html_url": "https://github.com/meshcollider",
        "followers_url": "https://api.github.com/users/meshcollider/followers",
        "following_url": "https://api.github.com/users/meshcollider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/meshcollider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/meshcollider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
        "organizations_url": "https://api.github.com/users/meshcollider/orgs",
        "repos_url": "https://api.github.com/users/meshcollider/repos",
        "events_url": "https://api.github.com/users/meshcollider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/meshcollider/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-06-15T17:44:27Z"
    },
    {
      "event": "subscribed",
      "id": 2415518932,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDI0MTU1MTg5MzI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2415518932",
      "actor": {
        "login": "meshcollider",
        "id": 3211283,
        "node_id": "MDQ6VXNlcjMyMTEyODM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/meshcollider",
        "html_url": "https://github.com/meshcollider",
        "followers_url": "https://api.github.com/users/meshcollider/followers",
        "following_url": "https://api.github.com/users/meshcollider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/meshcollider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/meshcollider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
        "organizations_url": "https://api.github.com/users/meshcollider/orgs",
        "repos_url": "https://api.github.com/users/meshcollider/repos",
        "events_url": "https://api.github.com/users/meshcollider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/meshcollider/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-06-15T17:44:27Z"
    },
    {
      "event": "commented",
      "id": 502492677,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUwMjQ5MjY3Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/502492677",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-06-16T22:54:57Z",
      "updated_at": "2019-06-16T22:54:57Z",
      "author_association": "MEMBER",
      "body": "@markblundeberg could you look into #15864?",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/16220#issuecomment-502492677",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16220"
    },
    {
      "event": "mentioned",
      "id": 2416129038,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MjQxNjEyOTAzOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2416129038",
      "actor": {
        "login": "markblundeberg",
        "id": 36528214,
        "node_id": "MDQ6VXNlcjM2NTI4MjE0",
        "avatar_url": "https://avatars.githubusercontent.com/u/36528214?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/markblundeberg",
        "html_url": "https://github.com/markblundeberg",
        "followers_url": "https://api.github.com/users/markblundeberg/followers",
        "following_url": "https://api.github.com/users/markblundeberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/markblundeberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/markblundeberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/markblundeberg/subscriptions",
        "organizations_url": "https://api.github.com/users/markblundeberg/orgs",
        "repos_url": "https://api.github.com/users/markblundeberg/repos",
        "events_url": "https://api.github.com/users/markblundeberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/markblundeberg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-06-16T22:54:57Z"
    },
    {
      "event": "subscribed",
      "id": 2416129039,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDI0MTYxMjkwMzk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2416129039",
      "actor": {
        "login": "markblundeberg",
        "id": 36528214,
        "node_id": "MDQ6VXNlcjM2NTI4MjE0",
        "avatar_url": "https://avatars.githubusercontent.com/u/36528214?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/markblundeberg",
        "html_url": "https://github.com/markblundeberg",
        "followers_url": "https://api.github.com/users/markblundeberg/followers",
        "following_url": "https://api.github.com/users/markblundeberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/markblundeberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/markblundeberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/markblundeberg/subscriptions",
        "organizations_url": "https://api.github.com/users/markblundeberg/orgs",
        "repos_url": "https://api.github.com/users/markblundeberg/repos",
        "events_url": "https://api.github.com/users/markblundeberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/markblundeberg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-06-16T22:54:57Z"
    },
    {
      "event": "commented",
      "id": 502527419,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUwMjUyNzQxOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/502527419",
      "actor": {
        "login": "markblundeberg",
        "id": 36528214,
        "node_id": "MDQ6VXNlcjM2NTI4MjE0",
        "avatar_url": "https://avatars.githubusercontent.com/u/36528214?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/markblundeberg",
        "html_url": "https://github.com/markblundeberg",
        "followers_url": "https://api.github.com/users/markblundeberg/followers",
        "following_url": "https://api.github.com/users/markblundeberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/markblundeberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/markblundeberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/markblundeberg/subscriptions",
        "organizations_url": "https://api.github.com/users/markblundeberg/orgs",
        "repos_url": "https://api.github.com/users/markblundeberg/repos",
        "events_url": "https://api.github.com/users/markblundeberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/markblundeberg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-06-17T04:06:51Z",
      "updated_at": "2019-06-17T04:06:51Z",
      "author_association": "NONE",
      "body": "@hebasto Hmm interesting, thanks for pointing that out. I think you're onto something good there. To be honest I don't fully grok the init code so I can't provide a good review there.\r\n\r\nRelating to this wallets/ directory issue though, I wonder if in the case of #15240, it would have been desired for bitcoind to create a wallets/ directory on first run, even if `/var/local/lib/bitcoind` already exists (it would have been created by a sysadmin).\r\n\r\nThere must be some elegant solution to all this, but I don't have any great ideas to offer.",
      "user": {
        "login": "markblundeberg",
        "id": 36528214,
        "node_id": "MDQ6VXNlcjM2NTI4MjE0",
        "avatar_url": "https://avatars.githubusercontent.com/u/36528214?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/markblundeberg",
        "html_url": "https://github.com/markblundeberg",
        "followers_url": "https://api.github.com/users/markblundeberg/followers",
        "following_url": "https://api.github.com/users/markblundeberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/markblundeberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/markblundeberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/markblundeberg/subscriptions",
        "organizations_url": "https://api.github.com/users/markblundeberg/orgs",
        "repos_url": "https://api.github.com/users/markblundeberg/repos",
        "events_url": "https://api.github.com/users/markblundeberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/markblundeberg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/16220#issuecomment-502527419",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16220"
    },
    {
      "event": "mentioned",
      "id": 2416367635,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MjQxNjM2NzYzNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2416367635",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-06-17T04:06:51Z"
    },
    {
      "event": "subscribed",
      "id": 2416367636,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDI0MTYzNjc2MzY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2416367636",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-06-17T04:06:51Z"
    },
    {
      "event": "commented",
      "id": 502992650,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUwMjk5MjY1MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/502992650",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-06-18T07:58:40Z",
      "updated_at": "2019-06-18T08:02:21Z",
      "author_association": "MEMBER",
      "body": "> I think a more elegant solution would be to have wallets/ directory created in the wallet initialization, however I'm not an expert on the wallet part of the code and how this ought to behave.\r\n\r\nIt would be, however the reason that `wallets/` is not created when the `.bitcoin` directory already exists is backwards compatibility. If there is an existing datadir but no wallets directory it's assumed to be an old data directory, and creating `wallets` would effectively hide the existing wallets in the top level dir, possibly leading to people to suspect loss of funds. \r\n\r\nThere would be other possibilities such as checking for any existing wallets first, but that was deemed more dangerous: no naming convention was enforced for wallets before, so it's non-trivial and brittle to do this detection.\r\n\r\nThere was a lot of discussion around this at the time.\r\n\r\nI guess there could be another heuristic: if the datadir is *completely empty*, do create the wallets directory. Then again, it's kind of piling on hacks (do you want to exclude `bitcoin.conf` in this count?) I wish there was a better way.",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/16220#issuecomment-502992650",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16220"
    },
    {
      "event": "labeled",
      "id": 2419924534,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDI0MTk5MjQ1MzQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2419924534",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-06-18T08:02:48Z",
      "label": {
        "name": "Wallet",
        "color": "08a781"
      }
    },
    {
      "event": "referenced",
      "id": 2566428294,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDI1NjY0MjgyOTQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2566428294",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "83112db129de1ad5a606a92352a4b3240ad8e96b",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/83112db129de1ad5a606a92352a4b3240ad8e96b",
      "created_at": "2019-08-19T14:03:49Z"
    },
    {
      "event": "referenced",
      "id": 2566666495,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDI1NjY2NjY0OTU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2566666495",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "894dd2f3090d856a34b51fabf3a5c3a4a08fb7b3",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/894dd2f3090d856a34b51fabf3a5c3a4a08fb7b3",
      "created_at": "2019-08-19T15:10:17Z"
    },
    {
      "event": "commented",
      "id": 1429962692,
      "node_id": "IC_kwDOABII585VO3_E",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1429962692",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-14T15:46:46Z",
      "updated_at": "2023-02-14T15:46:46Z",
      "author_association": "MEMBER",
      "body": "I found this in my TODO notes from a previous discussion about this (https://github.com/bitcoin/bitcoin/pull/24266#discussion_r800865220), and think it could be a good solution\r\n\r\n- `util/system` datadir code should not care about wallets or look for or create any wallet paths\r\n- If `-walletdir` is specified, wallet code should use that directory to locate and list wallets.\r\n- If `-walletdir` is specified and path is not a directory, wallet init should return a fatal error and refuse to start\r\n- If `-walletdir` is not specified, wallet code should use `<datadir>/wallets` as the directory to locate and list wallets.\r\n- If `-walletdir` is not specified and `<datadir>/wallets` does not exist, wallet init code should create it\r\n  - Before creating `<datadir>/wallets` wallet should call ~`ListWalletDir`~ `ListDatabases` on `<datadir>`\r\n  - If list is empty wallet should create `<datadir>/wallets` as a directory, otherwise it should create it as a symlink pointing to `.`",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/16220#issuecomment-1429962692",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16220"
    }
  ]
}