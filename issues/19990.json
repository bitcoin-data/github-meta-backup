{
  "type": "issue",
  "issue": {
    "id": 706045924,
    "node_id": "MDU6SXNzdWU3MDYwNDU5MjQ=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19990",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19990/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19990/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19990/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/19990",
    "number": 19990,
    "state": "closed",
    "state_reason": "completed",
    "title": "Relative paths named in the -conf parameter reset when parsing datadir in named config",
    "body": "<!-- This issue tracker is only for technical issues related to Bitcoin Core.\r\n\r\nGeneral bitcoin questions and/or support requests are best directed to the Bitcoin StackExchange at https://bitcoin.stackexchange.com.\r\n\r\nFor reporting security issues, please read instructions at https://bitcoincore.org/en/contact/.\r\n\r\nIf the node is \"stuck\" during sync or giving \"block checksum mismatch\" errors, please ensure your hardware is stable by running memtest and observe CPU temperature with a load-test tool such as linpack before creating an issue! -->\r\n\r\nWhen naming a configuration file using a relative path using the `-conf` command line parameter, the configuration parser will present an error if the `datadir` option is listed in the named configuration file.  The configuration parser will expect the named config file in both the default `datadir` and the named `datadir`.\r\n\r\nFor example.  Given the config file named `usb.conf` with the contents:\r\n\r\n```\r\n# Bitcoin Config file: %APPDATA%\\Bitcoin\\usb.conf\r\ndatadir=D:\\Bitcoin\r\n```\r\n\r\nAnd calling bitcoin with the following `\"%PROGRAMFILES%\\Bitcoin\\Bitcoin-qt.exe\" -conf=usb.conf` the config parser will present an error if `D:\\Bitcoin\\usb.conf` does not exist.  Clearly it has found and parsed `%APPDATA%\\Bitcoin\\usb.conf` but yet it still needs to parse `D:\\Bitcoin\\usb.conf`\r\n\r\n**Expected behavior**\r\n\r\nCommand line arguments should trump config file arguments.  So since `-datadir` is not specified on the command line, the location for the named config file should correctly resolve to `%APPDATA%\\Bitcoin\\usb.conf` without further dependencies on `D:\\Bitcoin\\usb.conf`.  Once the initial path location is resolved, it should not be reevaluated.  This is understandably a \"special case\".  Normally relative paths are resolved from `datadir`, but the `-conf` parameter is already special in the sense that is not supported in the config file parsing, so should not be influenced by what is parsed from the config file.\r\n\r\n**Actual behavior**\r\n\r\nThe config parser throws an error if the config file does not exist both in the default `datadir` and the named `datadir`\r\n\r\n![issue](https://user-images.githubusercontent.com/5009148/93840063-bb6a9c00-fc54-11ea-94f3-2c17e3fd7eda.png)\r\n\r\nNote, as a workaround, providing the full path to the config file mutes the error.  This is only related to how relative paths are interpreted.\r\n\r\n**To reproduce**\r\n\r\nCompletely reproducible\r\n\r\n**System information**\r\n\r\n* Windows 10.0.18363 Build 18363\r\n* Precompiled 0.20.1 Windows x64 binaries landed from installer downloaded from `bitcoin.org`\r\n* Intel(R) Core(TM) i5-7400 CPU @ 3.00GHz, 3001 Mhz, 4 Core(s), 4 Logical Processor(s)\r\n* Disk0: WDC WD10EZEX\r\n* Disk1: Generic USB mounted SSD\r\n\r\n<details>\r\n<summary>Expand for debug.log</summary>\r\n<pre>\r\n2020-09-22T03:00:12Z Bitcoin Core version v0.20.1 (release build)\r\n2020-09-22T03:00:12Z Qt 5.9.8 (static), plugin=windows (static)\r\n2020-09-22T03:00:12Z System: Windows 10 (10.0), x86_64-little_endian-llp64\r\n2020-09-22T03:00:12Z Screen: \\\\.\\DISPLAY1 1920x1080, pixel ratio=1.0\r\n2020-09-22T03:00:12Z Assuming ancestors of block 000000000000056c49030c174179b52a928c870e6e8a822c75973b7970cfbd01 have valid signatures.\r\n2020-09-22T03:00:12Z Setting nMinimumChainWork=0000000000000000000000000000000000000000000001495c1d5a01e2af8a23\r\n2020-09-22T03:00:12Z Using the 'sse4(1way),sse41(4way),avx2(8way)' SHA256 implementation\r\n2020-09-22T03:00:12Z Using RdSeed as additional entropy source\r\n2020-09-22T03:00:12Z Using RdRand as an additional entropy source\r\n2020-09-22T03:00:12Z GUI: \"registerShutdownBlockReason: Successfully registered: Bitcoin Core didn't yet exit safely...\"\r\n2020-09-22T03:00:12Z Default data directory C:\\Users\\{redacted}\\AppData\\Roaming\\Bitcoin\r\n2020-09-22T03:00:12Z Using data directory d:\\Bitcoin\\testnet3\r\n2020-09-22T03:00:12Z Warning: The specified config file d:\\Bitcoin\\usb.conf does not exist\r\n2020-09-22T03:00:14Z Using 16 MiB out of 32/2 requested for signature cache, able to store 524288 elements\r\n2020-09-22T03:00:14Z Using 16 MiB out of 32/2 requested for script execution cache, able to store 524288 elements\r\n2020-09-22T03:00:14Z Script verification uses 3 additional threads\r\n2020-09-22T03:00:14Z scheduler thread start\r\n2020-09-22T03:00:14Z Using wallet directory d:\\Bitcoin\\testnet3\\wallets\r\n2020-09-22T03:00:14Z init message: Verifying wallet(s)...\r\n2020-09-22T03:00:14Z Using BerkeleyDB version Berkeley DB 4.8.30: (April  9, 2010)\r\n2020-09-22T03:00:14Z Using wallet d:\\Bitcoin\\testnet3\\wallets\r\n2020-09-22T03:00:14Z BerkeleyEnvironment::Open: LogDir=d:\\Bitcoin\\testnet3\\wallets\\database ErrorFile=d:\\Bitcoin\\testnet3\\wallets\\db.log\r\n2020-09-22T03:00:14Z init message: Loading banlist...\r\n2020-09-22T03:00:14Z Using /16 prefix for IP bucketing\r\n2020-09-22T03:00:14Z Cache configuration:\r\n2020-09-22T03:00:14Z * Using 2.0 MiB for block index database\r\n2020-09-22T03:00:14Z * Using 8.0 MiB for chain state database\r\n2020-09-22T03:00:14Z * Using 440.0 MiB for in-memory UTXO set (plus up to 286.1 MiB of unused mempool space)\r\n2020-09-22T03:00:14Z init message: Loading block index...\r\n2020-09-22T03:00:14Z Opening LevelDB in d:\\Bitcoin\\testnet3\\blocks\\index\r\n</pre>\r\n</details>\r\n\r\n",
    "user": {
      "login": "brianddk",
      "id": 5009148,
      "node_id": "MDQ6VXNlcjUwMDkxNDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5009148?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brianddk",
      "html_url": "https://github.com/brianddk",
      "followers_url": "https://api.github.com/users/brianddk/followers",
      "following_url": "https://api.github.com/users/brianddk/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/brianddk/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/brianddk/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/brianddk/subscriptions",
      "organizations_url": "https://api.github.com/users/brianddk/orgs",
      "repos_url": "https://api.github.com/users/brianddk/repos",
      "events_url": "https://api.github.com/users/brianddk/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/brianddk/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 64585,
        "node_id": "MDU6TGFiZWw2NDU4NQ==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug",
        "name": "Bug",
        "color": "FBBAAB",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "locked": false,
    "comments": 7,
    "closed_at": "2023-05-31T19:15:05Z",
    "created_at": "2020-09-22T03:11:44Z",
    "updated_at": "2023-05-31T19:15:05Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 3791307775,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDM3OTEzMDc3NzU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3791307775",
      "actor": {
        "login": "brianddk",
        "id": 5009148,
        "node_id": "MDQ6VXNlcjUwMDkxNDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5009148?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brianddk",
        "html_url": "https://github.com/brianddk",
        "followers_url": "https://api.github.com/users/brianddk/followers",
        "following_url": "https://api.github.com/users/brianddk/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brianddk/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brianddk/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brianddk/subscriptions",
        "organizations_url": "https://api.github.com/users/brianddk/orgs",
        "repos_url": "https://api.github.com/users/brianddk/repos",
        "events_url": "https://api.github.com/users/brianddk/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brianddk/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-22T03:11:44Z",
      "label": {
        "name": "Bug",
        "color": "FBBAAB"
      }
    },
    {
      "event": "commented",
      "id": 696775549,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY5Njc3NTU0OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/696775549",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-22T14:55:13Z",
      "updated_at": "2020-09-22T14:55:25Z",
      "author_association": "MEMBER",
      "body": "Thanks for the clear bug report! Agree this behavior is not good. I tend to think a simpler fix would be to just disallow relative -conf paths entirely, making specifying any relative -conf path an error, instead of interpreting relative -conf paths differently depending on the source of the -conf value (command line vs config file vs settings.json).\r\n\r\nAnother benefit of making specifying a relative -conf paths an error instead of changing the interpretation would be that that if someone is relying on current behavior and upgrades they can encounter an explicit error instead of a subtly broken configuration.\r\n\r\nMaybe this is too extreme though? @brianddk maybe you had a use-case for specifying a relative path instead of an absolute path?\r\n\r\nA compromise option instead of forbidding relative -conf paths outright, or interpretting relative -conf paths differently depending on where they are specified might be to only forbid relative -conf paths when a -datadir value is specified.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/19990#issuecomment-696775549",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19990"
    },
    {
      "event": "mentioned",
      "id": 3793716050,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50Mzc5MzcxNjA1MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3793716050",
      "actor": {
        "login": "brianddk",
        "id": 5009148,
        "node_id": "MDQ6VXNlcjUwMDkxNDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5009148?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brianddk",
        "html_url": "https://github.com/brianddk",
        "followers_url": "https://api.github.com/users/brianddk/followers",
        "following_url": "https://api.github.com/users/brianddk/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brianddk/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brianddk/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brianddk/subscriptions",
        "organizations_url": "https://api.github.com/users/brianddk/orgs",
        "repos_url": "https://api.github.com/users/brianddk/repos",
        "events_url": "https://api.github.com/users/brianddk/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brianddk/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-22T14:55:13Z"
    },
    {
      "event": "subscribed",
      "id": 3793716052,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM3OTM3MTYwNTI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3793716052",
      "actor": {
        "login": "brianddk",
        "id": 5009148,
        "node_id": "MDQ6VXNlcjUwMDkxNDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5009148?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brianddk",
        "html_url": "https://github.com/brianddk",
        "followers_url": "https://api.github.com/users/brianddk/followers",
        "following_url": "https://api.github.com/users/brianddk/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brianddk/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brianddk/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brianddk/subscriptions",
        "organizations_url": "https://api.github.com/users/brianddk/orgs",
        "repos_url": "https://api.github.com/users/brianddk/repos",
        "events_url": "https://api.github.com/users/brianddk/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brianddk/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-22T14:55:13Z"
    },
    {
      "event": "commented",
      "id": 697056704,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY5NzA1NjcwNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/697056704",
      "actor": {
        "login": "brianddk",
        "id": 5009148,
        "node_id": "MDQ6VXNlcjUwMDkxNDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5009148?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brianddk",
        "html_url": "https://github.com/brianddk",
        "followers_url": "https://api.github.com/users/brianddk/followers",
        "following_url": "https://api.github.com/users/brianddk/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brianddk/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brianddk/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brianddk/subscriptions",
        "organizations_url": "https://api.github.com/users/brianddk/orgs",
        "repos_url": "https://api.github.com/users/brianddk/repos",
        "events_url": "https://api.github.com/users/brianddk/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brianddk/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-23T00:48:09Z",
      "updated_at": "2020-09-23T00:48:58Z",
      "author_association": "CONTRIBUTOR",
      "body": "@ryanofsky I think relative paths within the config file should probably stay, but agree that relative paths in a named `-conf` parameter could be nixed.  I would think the more common answer is that relative paths in command-line parameters would be assumed relative to `$PWD`, which seems to be what most of the unix tool do.  This would be a move more to \"convention\" as opposed to fixing some weird use case.\r\n\r\nRelative paths within a config file have no real \"convention\" to hold to, so I see no need to change that behavior, assuming the two behaviors can be divorced from each other.",
      "user": {
        "login": "brianddk",
        "id": 5009148,
        "node_id": "MDQ6VXNlcjUwMDkxNDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5009148?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brianddk",
        "html_url": "https://github.com/brianddk",
        "followers_url": "https://api.github.com/users/brianddk/followers",
        "following_url": "https://api.github.com/users/brianddk/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brianddk/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brianddk/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brianddk/subscriptions",
        "organizations_url": "https://api.github.com/users/brianddk/orgs",
        "repos_url": "https://api.github.com/users/brianddk/repos",
        "events_url": "https://api.github.com/users/brianddk/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brianddk/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/19990#issuecomment-697056704",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19990"
    },
    {
      "event": "mentioned",
      "id": 3795708652,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50Mzc5NTcwODY1Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3795708652",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-23T00:48:10Z"
    },
    {
      "event": "subscribed",
      "id": 3795708653,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM3OTU3MDg2NTM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3795708653",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-23T00:48:10Z"
    },
    {
      "event": "commented",
      "id": 1485261997,
      "node_id": "IC_kwDOABII585Yh0yt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1485261997",
      "actor": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-27T14:52:18Z",
      "updated_at": "2023-03-27T14:52:18Z",
      "author_association": "MEMBER",
      "body": "I tried to reproduce on macOS on master @ `20bd591345`, there is still a warning (examples below). This issue is solved by https://github.com/bitcoin/bitcoin/pull/27303!\r\n\r\n# Absolute -conf path\r\n\r\nconf file (` /private/tmp/cdata/bitcoin.conf `):\r\n```\r\ndatadir=/tmp/tmp2\r\n```\r\n\r\ncommand:\r\n```\r\nbitcoind -conf=/private/tmp/cdata/bitcoin.conf\r\n```\r\n\r\noutput:\r\n```\r\n...\r\n2023-03-27T14:40:02Z Default data directory /Users/matthewzipkin/Library/Application Support/Bitcoin\r\n2023-03-27T14:40:02Z Using data directory /tmp/tmp2\r\n2023-03-27T14:40:02Z Config file: /private/tmp/cdata/bitcoin.conf\r\n2023-03-27T14:40:02Z Config file arg: datadir=\"/tmp/tmp2\"\r\n2023-03-27T14:40:02Z Command-line arg: conf=\"/private/tmp/cdata/bitcoin.conf\"\r\n...\r\n```\r\n\r\nbehavior:\r\nbitcoind starts with no errors, uses `/tmp/tmp2` as datadir and blocksdir.\r\n\r\n\r\n# Relative -conf path\r\n\r\nconf file (`/Users/matthewzipkin/Library/Application\\ Support/Bitcoin/relative/bitcoin.conf`):\r\n```\r\ndatadir=/tmp/tmp2\r\n```\r\n\r\ncommand:\r\n```\r\nbitcoind -conf=relative/bitcoin.conf\r\n```\r\n\r\noutput:\r\n```\r\n...\r\n2023-03-27T14:46:11Z Default data directory /Users/matthewzipkin/Library/Application Support/Bitcoin\r\n2023-03-27T14:46:11Z Using data directory /tmp/tmp2\r\n2023-03-27T14:46:11Z Warning: The specified config file /tmp/tmp2/relative/bitcoin.conf does not exist\r\nWarning: The specified config file /tmp/tmp2/relative/bitcoin.conf does not exist\r\n2023-03-27T14:46:11Z Config file arg: datadir=\"/tmp/tmp2\"\r\n2023-03-27T14:46:11Z Command-line arg: conf=\"relative/bitcoin.conf\"\r\n...\r\n```\r\n\r\nbehavior:\r\nbitcoind starts with no errors, uses `/tmp/tmp2` as datadir and blocksdir.\r\n\r\n\r\n\r\n",
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/19990#issuecomment-1485261997",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19990"
    },
    {
      "event": "commented",
      "id": 1485660303,
      "node_id": "IC_kwDOABII585YjWCP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1485660303",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-27T18:28:25Z",
      "updated_at": "2023-03-27T18:28:25Z",
      "author_association": "MEMBER",
      "body": "> This issue is solved by #27303\r\n\r\nGood find, agree it solves originally reported issue.\r\n\r\nIt might still be a little confusing that relative -conf paths would be allowed on the command line, and wouldn't be interpreted relative to the current working directory or to the _final_ datadir location, but relative to the _default_ datadir location. But arguably there are uses cases for this behavior (like putting multiple `1.conf`, `2.conf` files in the default datadir location, and having them specify different options and different final datadir= paths internally, and so you can conveniently pass `-conf=1.conf` or `-conf=2.conf` options on the command line that will work regardless of the current working directory).",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/19990#issuecomment-1485660303",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19990"
    },
    {
      "event": "commented",
      "id": 1523439189,
      "node_id": "IC_kwDOABII585azdZV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1523439189",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-26T13:37:49Z",
      "updated_at": "2023-04-26T13:37:49Z",
      "author_association": "MEMBER",
      "body": "Will this issue be closed by https://github.com/bitcoin/bitcoin/pull/27302 ?",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/19990#issuecomment-1523439189",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19990"
    },
    {
      "event": "commented",
      "id": 1523524847,
      "node_id": "IC_kwDOABII585azyTv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1523524847",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-26T14:31:27Z",
      "updated_at": "2023-04-26T14:31:27Z",
      "author_association": "MEMBER",
      "body": "> Will this issue be closed by #27302 ?\r\n\r\nYes specifically it is fixed by the third commit 0319de5cbedd1a8f8766cfec61151c58b3fb27ef from #27302. That commit changes the `ArgsManager::GetConfigFilePath` definition so the \"The specified config file %s does not exist\" warning is no longer triggered:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/91ccb62faab21b2b52b089cc04f3a5c1bf6989cc/src/init/common.cpp#L125-L130",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/19990#issuecomment-1523524847",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19990"
    },
    {
      "event": "commented",
      "id": 1570790910,
      "node_id": "IC_kwDOABII585doF3-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1570790910",
      "actor": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-31T19:15:05Z",
      "updated_at": "2023-05-31T19:15:05Z",
      "author_association": "MEMBER",
      "body": "Closed by https://github.com/bitcoin/bitcoin/pull/27302",
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/19990#issuecomment-1570790910",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19990"
    },
    {
      "event": "closed",
      "id": 9394446730,
      "node_id": "CE_lADOABII584qFWfkzwAAAAIv8-GK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9394446730",
      "actor": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-31T19:15:05Z"
    }
  ]
}