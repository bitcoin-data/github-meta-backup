{
  "type": "issue",
  "issue": {
    "id": 34291779,
    "node_id": "MDU6SXNzdWUzNDI5MTc3OQ==",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4231",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4231/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4231/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4231/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/4231",
    "number": 4231,
    "state": "closed",
    "state_reason": "completed",
    "title": " Deseriaize or I/O error - std::bad_allocbitcoind",
    "body": "```\n$ uname -a\nLinux raspberry 3.12.19+ #681 PREEMPT Fri May 9 16:36:10 BST 2014 armv6l GNU/Linux\n```\n\nBitcoind is 0.9.1 built from Github source.  I encountered this error which I didn't see elsewhere in conjuction with v0.9.1.\n\n```\n2014-05-26 08:01:22 UpdateTip: new best=000000000000013549c61b496937e13332831ee455a6207ef94f963634eee16  height=237600  log2_work=70.110769  tx=18325803  date2013-05-24 00:11:16 progress=0.253229\n2014-05-26 08:01:22 ProcessBlock: ACCEPTED\n2014-05-26 08:01:26 UpdateTip: new best=00000000000000a81216343ded733a17fe80249586f8a0dbd50cf353e28bc14  height=237601  log2_work=70.110824  tx=18326577  date2013-05-24 00:25:26 progress=0.253239\n2014-05-26 08:01:27 ProcessBlock: ACCEPTED\n2014-05-26 08:02:33 bool LoadExternalBlockFile(FILE*, CDiskBlockPos*) : Deseriaize or I/O error - std::bad_allocbitcoind: main.cpp:1638: bool ConnectBlock(CBlck&, CValidationState&, CBlockIndex*, CCoinsViewCache&, bool): Assertion `hashPevBlock == view.GetBestBlock()' failed.\n```\n\nUpon restart bitcoind reindexed some blocks and continued. \nIt appears it's working normally now although it's still catching up.\n\n```\n$ bitcoind getinfo\n{\n    \"version\" : 90100,\n    \"protocolversion\" : 70002,\n    \"blocks\" : 237715,\n    \"timeoffset\" : -2,\n    \"connections\" : 8,\n    \"proxy\" : \"\",\n    \"difficulty\" : 11187257.46136079,\n    \"testnet\" : false,\n    \"errors\" : \"\"\n}\n\n$ df\nFilesystem     1K-blocks     Used Available Use% Mounted on\nrootfs          60801692 26784392  31506624  46% /\n/dev/root       60801692 26784392  31506624  46% /\n\n```\n\nMaybe system was low on resources like RAM (512MB total, no other services are running except bitcoind).\n",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 64585,
        "node_id": "MDU6TGFiZWw2NDU4NQ==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug",
        "name": "Bug",
        "color": "FBBAAB",
        "default": false
      },
      {
        "id": 97470796,
        "node_id": "MDU6TGFiZWw5NzQ3MDc5Ng==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/UTXO%20Db%20and%20Indexes",
        "name": "UTXO Db and Indexes",
        "color": "fbca04",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "NONE",
    "locked": true,
    "active_lock_reason": "resolved",
    "comments": 1,
    "closed_at": "2016-02-16T13:15:49Z",
    "created_at": "2014-05-26T08:45:00Z",
    "updated_at": "2021-09-08T12:34:38Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 124721694,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDEyNDcyMTY5NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/124721694",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-05-26T08:49:52Z",
      "label": {
        "name": "Bug",
        "color": "FBBAAB"
      }
    },
    {
      "event": "labeled",
      "id": 124721707,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDEyNDcyMTcwNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/124721707",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-05-26T08:49:54Z",
      "label": {
        "name": "UTXO Db and Indexes",
        "color": "fbca04"
      }
    },
    {
      "event": "commented",
      "id": 184678810,
      "node_id": "MDEyOklzc3VlQ29tbWVudDE4NDY3ODgxMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/184678810",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-02-16T13:15:49Z",
      "updated_at": "2016-02-16T13:15:49Z",
      "author_association": "MEMBER",
      "body": "For some reason it continues processing after a bad allocation, crashing on an assertion failure later.\nDuplicate of #7228.\n",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/4231#issuecomment-184678810",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4231"
    },
    {
      "event": "closed",
      "id": 552001372,
      "node_id": "MDExOkNsb3NlZEV2ZW50NTUyMDAxMzcy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/552001372",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-02-16T13:15:49Z"
    },
    {
      "event": "locked",
      "id": 5272013711,
      "node_id": "LOE_lADOABII584CC0BDzwAAAAE6PIuP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5272013711",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-08T12:34:38Z",
      "lock_reason": "resolved"
    }
  ]
}