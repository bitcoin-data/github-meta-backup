{
  "type": "issue",
  "issue": {
    "id": 311288342,
    "node_id": "MDU6SXNzdWUzMTEyODgzNDI=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12884",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12884/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12884/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12884/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/12884",
    "number": 12884,
    "state": "closed",
    "state_reason": "completed",
    "title": "Flake8 For Python Tests",
    "body": "The contributing guide asks for users to use flake8 to check their Python code prior to submitting. That said, a simple:\r\n\r\n```sh\r\nflake8 * | wc -l\r\n```\r\n\r\nIn the test directory on master yield 7,731 warnings. \r\n\r\nIf there's an appetite for it I'd be happy to start cleaning some of these up. It's way too much for one PR but I could put a running checklist here and knock out module by module. \r\n\r\nThinking beyond this change, if we get all of the internal items cleaned up then flake8 could be added to CI to automatically detect and error out whenever coding guidelines have been violated. Thoughts?",
    "user": {
      "login": "WillAyd",
      "id": 609873,
      "node_id": "MDQ6VXNlcjYwOTg3Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/609873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WillAyd",
      "html_url": "https://github.com/WillAyd",
      "followers_url": "https://api.github.com/users/WillAyd/followers",
      "following_url": "https://api.github.com/users/WillAyd/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/WillAyd/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/WillAyd/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/WillAyd/subscriptions",
      "organizations_url": "https://api.github.com/users/WillAyd/orgs",
      "repos_url": "https://api.github.com/users/WillAyd/repos",
      "events_url": "https://api.github.com/users/WillAyd/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/WillAyd/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "locked": true,
    "active_lock_reason": "resolved",
    "comments": 4,
    "closed_at": "2018-04-04T16:40:05Z",
    "created_at": "2018-04-04T15:50:41Z",
    "updated_at": "2021-09-08T12:28:43Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 378665967,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM3ODY2NTk2Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/378665967",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-04-04T16:40:05Z",
      "updated_at": "2018-04-04T16:40:05Z",
      "author_association": "MEMBER",
      "body": "Many of flake8 warnings are just about whitespace, which we don't care too much about. Those can be cleaned up when the code is touched for other reasons.\r\n\r\nThough, we already enabled warnings on travis that could lead to bugs. See `./contrib/devtools/lint-python.sh`.\r\n\r\nI don't think there is anything left to do here. Closing for now.",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/12884#issuecomment-378665967",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12884"
    },
    {
      "event": "closed",
      "id": 1556926536,
      "node_id": "MDExOkNsb3NlZEV2ZW50MTU1NjkyNjUzNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1556926536",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-04-04T16:40:05Z"
    },
    {
      "event": "commented",
      "id": 378673745,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM3ODY3Mzc0NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/378673745",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-04-04T17:05:38Z",
      "updated_at": "2018-04-04T17:05:38Z",
      "author_association": "MEMBER",
      "body": "I'm generally pro-flake8 linting. I don't think it's worth opening PRs specifically to clean up flake8 warnings, since that would lead to a lot of rebasing for other PRs. I think the following approach is better:\r\n\r\n- fix flake8 warnings in modules when touching that module (as the first commit in a PR)\r\n- when all (or almost all) the instances of a flake8 warning have been resolved, consider adding that warning to https://github.com/bitcoin/bitcoin/blob/master/contrib/devtools/lint-python.sh",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/12884#issuecomment-378673745",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12884"
    },
    {
      "event": "commented",
      "id": 378677294,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM3ODY3NzI5NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/378677294",
      "actor": {
        "login": "WillAyd",
        "id": 609873,
        "node_id": "MDQ6VXNlcjYwOTg3Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/609873?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/WillAyd",
        "html_url": "https://github.com/WillAyd",
        "followers_url": "https://api.github.com/users/WillAyd/followers",
        "following_url": "https://api.github.com/users/WillAyd/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/WillAyd/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/WillAyd/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/WillAyd/subscriptions",
        "organizations_url": "https://api.github.com/users/WillAyd/orgs",
        "repos_url": "https://api.github.com/users/WillAyd/repos",
        "events_url": "https://api.github.com/users/WillAyd/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/WillAyd/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-04-04T17:17:31Z",
      "updated_at": "2018-04-04T17:17:46Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thanks for the insights and understood on the rebasing challenge. My only concern with excluding so many checks in the overall linting process is that it the exceptions can easily start to become the norm. \r\n\r\nTaking `E501` as an example there are close to 3,000 instances of lines that are too long per PEP8. Just eyeballing this a lot of them are only a few characters beyond the 79 char standard limit and I'd question for readability purposes if we really *should* allow those exceptions.\r\n\r\nBecause I haven't seen it in the code, you are aware that flake8 accepts inline comments to make exceptions right? So instead of ignoring at the overall CI level you could do something like:\r\n\r\n```python\r\n...some_really_long_url_on_one_line  # noqa: E501\r\n```\r\n\r\nand the linter will ignore that particular line, while still catching others. ",
      "user": {
        "login": "WillAyd",
        "id": 609873,
        "node_id": "MDQ6VXNlcjYwOTg3Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/609873?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/WillAyd",
        "html_url": "https://github.com/WillAyd",
        "followers_url": "https://api.github.com/users/WillAyd/followers",
        "following_url": "https://api.github.com/users/WillAyd/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/WillAyd/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/WillAyd/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/WillAyd/subscriptions",
        "organizations_url": "https://api.github.com/users/WillAyd/orgs",
        "repos_url": "https://api.github.com/users/WillAyd/repos",
        "events_url": "https://api.github.com/users/WillAyd/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/WillAyd/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/12884#issuecomment-378677294",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12884"
    },
    {
      "event": "commented",
      "id": 378680336,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM3ODY4MDMzNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/378680336",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-04-04T17:27:07Z",
      "updated_at": "2018-04-04T17:27:07Z",
      "author_association": "MEMBER",
      "body": "I personally don't think E501 is important, since I don't think a too-long-line is going to hide genuine bugs. I'd certainly be NACKish on PRs to 'fix' too-long-lines.\r\n\r\n> exceptions can easily start to become the norm.\r\n\r\nNote that we didn't used to do any linting at all, so at least we're going in the right direction!\r\n\r\n> you are aware that flake8 accepts inline comments to make exceptions right?\r\n\r\nYes, but I personally don't like littering code with linter hints. I think it distracts readers from what the code is actually trying to communicate.",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/12884#issuecomment-378680336",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12884"
    },
    {
      "event": "locked",
      "id": 5271982758,
      "node_id": "LOE_lADOABII584SjeIWzwAAAAE6PBKm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5271982758",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-08T12:28:43Z",
      "lock_reason": "resolved"
    }
  ]
}