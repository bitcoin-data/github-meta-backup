{
  "type": "issue",
  "issue": {
    "id": 424092999,
    "node_id": "MDU6SXNzdWU0MjQwOTI5OTk=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15640",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15640/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15640/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15640/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/15640",
    "number": 15640,
    "state": "closed",
    "state_reason": "completed",
    "title": "signrawtransactionwithkey for p2pkh failed with error:'redeemScript must be hexadecimal string (not '')'",
    "body": "**Version:** \r\n>bitcoin core v0.17.1\r\n\r\n**Mode:**     \r\n>regtest\r\n\r\n**Detail:**\r\n>basically I'm trying to signrawtransactionwithkey for normal p2pkh transactions, according to the doc,\r\nredeemScript is only required for P2SH or P2WSH, so I left it empty string, but then got\r\n\r\n> error code: -8\r\n> error message:\r\n> redeemScript must be hexadecimal string (not '')\r\n1. utxo to spend:\r\n```\r\n{\r\n    \"txid\": \"8e191e86fcebcc005f7d7f99d57927890e199e5e5f1f6e7ef479c63b3f1d70fa\",\r\n    \"vout\": 0,\r\n    \"address\": \"2N8VWWcWZ3AEkXApwPF3CXHSNZHik2UBN9L\",\r\n    \"redeemScript\": \"0014027ee2a1bc4018a399ba46b9c44eb97740361b2e\",\r\n    \"scriptPubKey\": \"a914a73d80bb3bd591e6ccb991972951413c1ffb548687\",\r\n    \"amount\": 4.78996640,\r\n    \"confirmations\": 4,\r\n    \"spendable\": true,\r\n    \"solvable\": true,\r\n    \"safe\": true\r\n  }\r\n```\r\n2. cli cmd:\r\n`#bitcoin-cli -regtest createrawtransaction '''[{\"txid\":\"8e191e86fcebcc005f7d7f99d57927890e199e5e5f1f6e7ef479c63b3f1d70fa\",\"vout\":'0'}]''' '''{\"2MuNg73Nv4abyJurRYR8yRhkYGYykRcJYa1\":4.78}'''`\r\n\r\n`#RAW_TX=0200000001fa701d3f3bc679f47e6e1f5f5e9e190e892779d5997f7d5f00ccebfc861e198e0000000000ffffffff0180b37d1c0000000017a9141758f6da51d146c060ac51e06b9214653bc0e2a28700000000`\r\n\r\n`# bitcoin-cli -regtest signrawtransactionwithkey $RAW_TX \"[\\\"cSWTjfxp4tPt2zHAVGaGVCcGfM2A45sR7fFL5HiYpiFp8bfZ5Lba\\\"]\" \"[{\\\"txid\\\":\\\"8e191e86fcebcc005f7d7f99d57927890e199e5e5f1f6e7ef479c63b3f1d70fa\\\",\\\"vout\\\":0,\\\"scriptPubKey\\\":\\\"a914a73d80bb3bd591e6ccb991972951413c1ffb548687\\\",\\\"redeemScript\\\":\\\"\\\",\\\"amount\\\":4.78996640}]\" \"ALL\"`\r\n\r\n>and I also tried remove redeemScript from the params, but got another error \"missing redeemScript\" instead\r\n\r\n",
    "user": {
      "login": "lyhistory",
      "id": 1522513,
      "node_id": "MDQ6VXNlcjE1MjI1MTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1522513?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lyhistory",
      "html_url": "https://github.com/lyhistory",
      "followers_url": "https://api.github.com/users/lyhistory/followers",
      "following_url": "https://api.github.com/users/lyhistory/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/lyhistory/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/lyhistory/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/lyhistory/subscriptions",
      "organizations_url": "https://api.github.com/users/lyhistory/orgs",
      "repos_url": "https://api.github.com/users/lyhistory/repos",
      "events_url": "https://api.github.com/users/lyhistory/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/lyhistory/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "assignees": [],
    "author_association": "NONE",
    "locked": true,
    "active_lock_reason": "resolved",
    "comments": 2,
    "closed_at": "2019-03-22T08:44:40Z",
    "created_at": "2019-03-22T08:19:33Z",
    "updated_at": "2021-12-16T14:51:52Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 475535876,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NTUzNTg3Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/475535876",
      "actor": {
        "login": "lyhistory",
        "id": 1522513,
        "node_id": "MDQ6VXNlcjE1MjI1MTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1522513?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lyhistory",
        "html_url": "https://github.com/lyhistory",
        "followers_url": "https://api.github.com/users/lyhistory/followers",
        "following_url": "https://api.github.com/users/lyhistory/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/lyhistory/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/lyhistory/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/lyhistory/subscriptions",
        "organizations_url": "https://api.github.com/users/lyhistory/orgs",
        "repos_url": "https://api.github.com/users/lyhistory/repos",
        "events_url": "https://api.github.com/users/lyhistory/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/lyhistory/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-22T08:38:23Z",
      "updated_at": "2019-03-22T08:38:23Z",
      "author_association": "NONE",
      "body": "and this is the transaction info I referred to:\r\n> root@peter-btc-node:~/workspace# bitcoin-cli -regtest getrawtransaction 8e191e86fcebcc005f7d7f99d57927890e199e5e5f1f6e7ef479c63b3f1d70fa 1\r\n{\r\n  \"txid\": \"8e191e86fcebcc005f7d7f99d57927890e199e5e5f1f6e7ef479c63b3f1d70fa\",\r\n  \"hash\": \"9510cf56d299b47aca0fbb42e9b1f99fa9f77348cb6c1ecf0834469c40d45b6a\",\r\n  \"version\": 2,\r\n  \"size\": 249,\r\n  \"vsize\": 168,\r\n  \"weight\": 669,\r\n  \"locktime\": 103,\r\n  \"vin\": [\r\n    {\r\n      \"txid\": \"a73cad323f42caac6eb72288c2d2ef3ec60a9d0cd7297d98f0047d755471d438\",\r\n      \"vout\": 1,\r\n      \"scriptSig\": {\r\n        \"asm\": \"001494501ebf9af00d3dda90ddabed43c43e94dda5bf\",\r\n        \"hex\": \"16001494501ebf9af00d3dda90ddabed43c43e94dda5bf\"\r\n      },\r\n      \"txinwitness\": [\r\n        \"3044022001911ada127dc84b41eba36b3007918956f1fae49b1ec42f398c3eeb950a9881022076f02e15a091b9a1cbfc5e21ae5c16f1f8dda145250088864a305a4c60745a0001\",\r\n        \"03d4f69cb78cad2c6ef9eb3e10cf67baa7992be2a4fd5fe0708e34a716ac5dbca1\"\r\n      ],\r\n      \"sequence\": 4294967294\r\n    }\r\n  ],\r\n  \"vout\": [\r\n    {\r\n      \"value\": 4.78996640,\r\n      \"n\": 0,\r\n      \"scriptPubKey\": {\r\n        \"asm\": \"OP_HASH160 a73d80bb3bd591e6ccb991972951413c1ffb5486 OP_EQUAL\",\r\n        \"hex\": \"a914a73d80bb3bd591e6ccb991972951413c1ffb548687\",\r\n        \"reqSigs\": 1,\r\n        \"type\": \"scripthash\",\r\n        \"addresses\": [\r\n          \"2N8VWWcWZ3AEkXApwPF3CXHSNZHik2UBN9L\"\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      \"value\": 0.20000000,\r\n      \"n\": 1,\r\n      \"scriptPubKey\": {\r\n        \"asm\": \"OP_DUP OP_HASH160 dd79bcd6e2f8925e6f474083a8a07017e3234cb1 OP_EQUALVERIFY OP_CHECKSIG\",\r\n        \"hex\": \"76a914dd79bcd6e2f8925e6f474083a8a07017e3234cb188ac\",\r\n        \"reqSigs\": 1,\r\n        \"type\": \"pubkeyhash\",\r\n        \"addresses\": [\r\n          \"n1i1TvqVVVPEm2nFLZ8ZvnrrpKNiuuWs4Y\"\r\n        ]\r\n      }\r\n    }\r\n  ],\r\n  \"hex\": \"0200000000010138d47154757d04f0987d29d70c9d0ac63eefd2c28822b76eacca423f32ad3ca7010000001716001494501ebf9af00d3dda90ddabed43c43e94dda5bffeffffff02a0e88c1c0000000017a914a73d80bb3bd591e6ccb991972951413c1ffb548687002d3101000000001976a914dd79bcd6e2f8925e6f474083a8a07017e3234cb188ac02473044022001911ada127dc84b41eba36b3007918956f1fae49b1ec42f398c3eeb950a9881022076f02e15a091b9a1cbfc5e21ae5c16f1f8dda145250088864a305a4c60745a00012103d4f69cb78cad2c6ef9eb3e10cf67baa7992be2a4fd5fe0708e34a716ac5dbca167000000\",\r\n  \"blockhash\": \"202052b2310246579d2ce684937236e60129849674d88fc557faf82d2b156ee0\",\r\n  \"confirmations\": 4,\r\n  \"time\": 1551836912,\r\n  \"blocktime\": 1551836912\r\n}\r\n",
      "user": {
        "login": "lyhistory",
        "id": 1522513,
        "node_id": "MDQ6VXNlcjE1MjI1MTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1522513?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lyhistory",
        "html_url": "https://github.com/lyhistory",
        "followers_url": "https://api.github.com/users/lyhistory/followers",
        "following_url": "https://api.github.com/users/lyhistory/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/lyhistory/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/lyhistory/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/lyhistory/subscriptions",
        "organizations_url": "https://api.github.com/users/lyhistory/orgs",
        "repos_url": "https://api.github.com/users/lyhistory/repos",
        "events_url": "https://api.github.com/users/lyhistory/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/lyhistory/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/15640#issuecomment-475535876",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15640"
    },
    {
      "event": "commented",
      "id": 475537661,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NTUzNzY2MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/475537661",
      "actor": {
        "login": "lyhistory",
        "id": 1522513,
        "node_id": "MDQ6VXNlcjE1MjI1MTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1522513?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lyhistory",
        "html_url": "https://github.com/lyhistory",
        "followers_url": "https://api.github.com/users/lyhistory/followers",
        "following_url": "https://api.github.com/users/lyhistory/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/lyhistory/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/lyhistory/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/lyhistory/subscriptions",
        "organizations_url": "https://api.github.com/users/lyhistory/orgs",
        "repos_url": "https://api.github.com/users/lyhistory/repos",
        "events_url": "https://api.github.com/users/lyhistory/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/lyhistory/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-22T08:44:40Z",
      "updated_at": "2019-03-22T08:44:40Z",
      "author_association": "NONE",
      "body": "sorry, I just realized this is a script hash address...",
      "user": {
        "login": "lyhistory",
        "id": 1522513,
        "node_id": "MDQ6VXNlcjE1MjI1MTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1522513?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lyhistory",
        "html_url": "https://github.com/lyhistory",
        "followers_url": "https://api.github.com/users/lyhistory/followers",
        "following_url": "https://api.github.com/users/lyhistory/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/lyhistory/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/lyhistory/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/lyhistory/subscriptions",
        "organizations_url": "https://api.github.com/users/lyhistory/orgs",
        "repos_url": "https://api.github.com/users/lyhistory/repos",
        "events_url": "https://api.github.com/users/lyhistory/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/lyhistory/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/15640#issuecomment-475537661",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15640"
    },
    {
      "event": "closed",
      "id": 2221972561,
      "node_id": "MDExOkNsb3NlZEV2ZW50MjIyMTk3MjU2MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2221972561",
      "actor": {
        "login": "lyhistory",
        "id": 1522513,
        "node_id": "MDQ6VXNlcjE1MjI1MTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1522513?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lyhistory",
        "html_url": "https://github.com/lyhistory",
        "followers_url": "https://api.github.com/users/lyhistory/followers",
        "following_url": "https://api.github.com/users/lyhistory/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/lyhistory/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/lyhistory/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/lyhistory/subscriptions",
        "organizations_url": "https://api.github.com/users/lyhistory/orgs",
        "repos_url": "https://api.github.com/users/lyhistory/repos",
        "events_url": "https://api.github.com/users/lyhistory/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/lyhistory/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-03-22T08:44:40Z"
    },
    {
      "event": "locked",
      "id": 5778899799,
      "node_id": "LOE_lADOABII584ZRyVHzwAAAAFYcwNX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5778899799",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-16T14:51:52Z",
      "lock_reason": "resolved"
    }
  ]
}