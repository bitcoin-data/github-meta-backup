{
  "type": "issue",
  "issue": {
    "id": 1566161668,
    "node_id": "I_kwDOABII585dWbsE",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27014",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27014/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27014/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27014/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/27014",
    "number": 27014,
    "state": "closed",
    "state_reason": "completed",
    "title": "test: format-truncation warning in dbwrapper_tests",
    "body": "Compiling master at e1bf5470f919cf212703466411968916db8ae61f on Ubuntu 22.10 (with depends):\r\n\r\n```cpp\r\n  CXX      test/test_bitcoin-dbwrapper_tests.o\r\ntest/dbwrapper_tests.cpp: In member function ‘void dbwrapper_tests::iterator_string_ordering::test_method()’:\r\ntest/dbwrapper_tests.cpp:365:41: error: ‘%d’ directive output may be truncated writing between 1 and 11 bytes into a region of size 10 [-Werror=format-truncation=]\r\n  365 |             snprintf(buf, sizeof(buf), \"%d\", x);\r\n      |                                         ^~\r\ntest/dbwrapper_tests.cpp:365:40: note: directive argument in the range [-2147483648, 9]\r\n  365 |             snprintf(buf, sizeof(buf), \"%d\", x);\r\n      |                                        ^~~~\r\nIn file included from /usr/include/stdio.h:906,\r\n                 from /usr/include/c++/12/cstdio:42,\r\n                 from /usr/include/c++/12/ext/string_conversions.h:43,\r\n                 from /usr/include/c++/12/bits/basic_string.h:3960,\r\n                 from /usr/include/c++/12/string:53,\r\n                 from ./clientversion.h:30,\r\n                 from ./dbwrapper.h:8,\r\n                 from test/dbwrapper_tests.cpp:5:\r\nIn function ‘int snprintf(char*, size_t, const char*, ...)’,\r\n    inlined from ‘void dbwrapper_tests::iterator_string_ordering::test_method()’ at test/dbwrapper_tests.cpp:365:21:\r\n/usr/include/x86_64-linux-gnu/bits/stdio2.h:54:35: note: ‘__builtin___snprintf_chk’ output between 2 and 12 bytes into a destination of size 10\r\n   54 |   return __builtin___snprintf_chk (__s, __n, __USE_FORTIFY_LEVEL - 1,\r\n      |          ~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n   55 |                                    __glibc_objsize (__s), __fmt,\r\n      |                                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n   56 |                                    __va_arg_pack ());\r\n      |                                    ~~~~~~~~~~~~~~~~~\r\n```\r\n\r\n(I ran with `--enable-werror`, otherwise it's merely a warning)\r\n\r\ncc @achow101 ",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 64585,
        "node_id": "MDU6TGFiZWw2NDU4NQ==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug",
        "name": "Bug",
        "color": "FBBAAB",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "MEMBER",
    "locked": false,
    "comments": 5,
    "closed_at": "2023-02-06T09:34:46Z",
    "created_at": "2023-02-01T13:57:12Z",
    "updated_at": "2023-02-06T09:34:46Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 8410675610,
      "node_id": "LE_lADOABII585dWbsEzwAAAAH1ULma",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8410675610",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-01T13:57:12Z",
      "label": {
        "name": "Bug",
        "color": "FBBAAB"
      }
    },
    {
      "event": "mentioned",
      "id": 8410675670,
      "node_id": "MEE_lADOABII585dWbsEzwAAAAH1ULnW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8410675670",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-01T13:57:13Z"
    },
    {
      "event": "subscribed",
      "id": 8410675682,
      "node_id": "SE_lADOABII585dWbsEzwAAAAH1ULni",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8410675682",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-01T13:57:13Z"
    },
    {
      "event": "commented",
      "id": 1412361368,
      "node_id": "IC_kwDOABII585ULuyY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1412361368",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-01T16:36:53Z",
      "updated_at": "2023-02-01T16:36:53Z",
      "author_association": "MEMBER",
      "body": "Not seeing this at all. What compiler version are you using?",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/27014#issuecomment-1412361368",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27014"
    },
    {
      "event": "commented",
      "id": 1412492251,
      "node_id": "IC_kwDOABII585UMOvb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1412492251",
      "actor": {
        "login": "john-moffett",
        "id": 116917595,
        "node_id": "U_kgDOBvgFWw",
        "avatar_url": "https://avatars.githubusercontent.com/u/116917595?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/john-moffett",
        "html_url": "https://github.com/john-moffett",
        "followers_url": "https://api.github.com/users/john-moffett/followers",
        "following_url": "https://api.github.com/users/john-moffett/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/john-moffett/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/john-moffett/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/john-moffett/subscriptions",
        "organizations_url": "https://api.github.com/users/john-moffett/orgs",
        "repos_url": "https://api.github.com/users/john-moffett/repos",
        "events_url": "https://api.github.com/users/john-moffett/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/john-moffett/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-01T18:01:37Z",
      "updated_at": "2023-02-01T18:01:37Z",
      "author_association": "MEMBER",
      "body": "I can't reproduce it, either.\r\n\r\n1. Started a clean image of Ubuntu 22.10\r\n2. Cloned `bitcoin` repo\r\n3. `sudo apt-get update`\r\n4. `sudo apt-get install make automake cmake curl g++-multilib libtool binutils bsdmainutils pkg-config python3 patch bison`\r\n5.   `cd depends && make NO_QT=1 -j8 && cd ..`\r\n7. `./autogen.sh && CONFIG_SITE=$PWD/depends/x86_64-pc-linux-gnu/share/config.site ./configure --enable-werror`\r\n8. `make -j8`\r\n\r\nHere's my `configure` output:\r\n\r\n```\r\nBuild Options:\r\n  with external callbacks = no\r\n  with benchmarks         = no\r\n  with tests              = yes\r\n  with coverage           = no\r\n  with examples           = no\r\n  module ecdh             = no\r\n  module recovery         = yes\r\n  module extrakeys        = yes\r\n  module schnorrsig       = yes\r\n\r\n  asm                     = x86_64\r\n  ecmult window size      = 15\r\n  ecmult gen prec. bits   = 4\r\n\r\n  valgrind                = no\r\n  CC                      = gcc -m64\r\n  CPPFLAGS                =  -I/home/ubuntu/bitcoin/depends/x86_64-pc-linux-gnu/include/ \r\n  SECP_CFLAGS             = -O2  -std=c89 -pedantic -Wno-long-long -Wnested-externs -Wshadow -Wstrict-prototypes -Wundef -Wno-overlength-strings -Wall -Wno-unused-function -Wextra -Wcast-align -Wcast-align=strict -fvisibility=hidden \r\n  CFLAGS                  = -pipe -std=c11 -O2 \r\n  LDFLAGS                 = -L/home/ubuntu/bitcoin/depends/x86_64-pc-linux-gnu/lib \r\n\r\nOptions used to compile and link:\r\n  external signer = yes\r\n  multiprocess    = no\r\n  with experimental syscall sandbox support = yes\r\n  with libs       = yes\r\n  with wallet     = yes\r\n    with sqlite   = yes\r\n    with bdb      = yes\r\n  with gui / qt   = no\r\n  with zmq        = yes\r\n  with test       = yes\r\n  with fuzz binary = yes\r\n  with bench      = yes\r\n  with upnp       = yes\r\n  with natpmp     = yes\r\n  use asm         = yes\r\n  USDT tracing    = yes\r\n  sanitizers      = \r\n  debug enabled   = no\r\n  gprof enabled   = no\r\n  werror          = yes\r\n  LTO             = no\r\n\r\n  target os       = linux-gnu\r\n  build os        = linux-gnu\r\n\r\n  CC              = gcc -m64\r\n  CFLAGS          = -pthread -pipe -std=c11 -O2 \r\n  CPPFLAGS        =   -U_FORTIFY_SOURCE -D_FORTIFY_SOURCE=2  -DHAVE_BUILD_INFO -DPROVIDE_FUZZ_MAIN_FUNCTION -I/home/ubuntu/bitcoin/depends/x86_64-pc-linux-gnu/include/ \r\n  CXX             = g++ -m64 -std=c++17\r\n  CXXFLAGS        =    -fstack-reuse=none -Wstack-protector -fstack-protector-all -fcf-protection=full -fstack-clash-protection   -Werror   -fno-extended-identifiers -pipe -std=c++17 -O2 \r\n  LDFLAGS         =  -lpthread  -Wl,-z,relro -Wl,-z,now -Wl,-z,separate-code -pie   -L/home/ubuntu/bitcoin/depends/x86_64-pc-linux-gnu/lib \r\n  AR              = ar\r\n  ARFLAGS         = cr\r\n```\r\n\r\nCould you provide your `configure` output?\r\n\r\n```\r\nldd --version\r\nldd (Ubuntu GLIBC 2.36-0ubuntu4) 2.36\r\n```\r\n\r\nAs for the actual warning, it makes some sense and likely can be fixed (among several other ways) just by making `x` an `unsigned int` on line 363.\r\n",
      "user": {
        "login": "john-moffett",
        "id": 116917595,
        "node_id": "U_kgDOBvgFWw",
        "avatar_url": "https://avatars.githubusercontent.com/u/116917595?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/john-moffett",
        "html_url": "https://github.com/john-moffett",
        "followers_url": "https://api.github.com/users/john-moffett/followers",
        "following_url": "https://api.github.com/users/john-moffett/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/john-moffett/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/john-moffett/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/john-moffett/subscriptions",
        "organizations_url": "https://api.github.com/users/john-moffett/orgs",
        "repos_url": "https://api.github.com/users/john-moffett/repos",
        "events_url": "https://api.github.com/users/john-moffett/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/john-moffett/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/27014#issuecomment-1412492251",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27014"
    },
    {
      "event": "commented",
      "id": 1412552923,
      "node_id": "IC_kwDOABII585UMdjb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1412552923",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-01T18:50:28Z",
      "updated_at": "2023-02-01T18:50:28Z",
      "author_association": "MEMBER",
      "body": "* `ldd (Ubuntu GLIBC 2.36-0ubuntu4) 2.36`\r\n* gcc (Ubuntu 12.2.0-3ubuntu1) 12.2.0\r\n\r\nI narrowed it down to compiling with sanitizers (I assumed those only impacted run time):\r\n\r\n```sh\r\n./configure --prefix=/home/sjors/dev/bitcoin-depends/depends/x86_64-pc-linux-gnu --enable-werror --enable-suppress-external-warnings --enable-debug  --with-sanitizers=address,undefined --disable-asm --without-gui\r\n```\r\n\r\n```\r\nBuild Options:\r\n  with external callbacks = no\r\n  with benchmarks         = no\r\n  with tests              = yes\r\n  with coverage           = no\r\n  with examples           = no\r\n  module ecdh             = no\r\n  module recovery         = yes\r\n  module extrakeys        = yes\r\n  module schnorrsig       = yes\r\n\r\n  asm                     = x86_64\r\n  ecmult window size      = 15\r\n  ecmult gen prec. bits   = 4\r\n\r\n  valgrind                = no\r\n  CC                      = gcc -m64\r\n  CPPFLAGS                =  -D_GLIBCXX_DEBUG -D_GLIBCXX_DEBUG_PEDANTIC -D_LIBCPP_DEBUG=1 -I/home/sjors/dev/bitcoin-depends/depends/x86_64-pc-linux-gnu/include/ \r\n  SECP_CFLAGS             = -O2  -std=c89 -pedantic -Wno-long-long -Wnested-externs -Wshadow -Wstrict-prototypes -Wundef -Wno-overlength-strings -Wall -Wno-unused-function -Wextra -Wcast-align -Wcast-align=strict -fvisibility=hidden \r\n  CFLAGS                  = -pipe -std=c11 -O1 \r\n  LDFLAGS                 = -L/home/sjors/dev/bitcoin-depends/depends/x86_64-pc-linux-gnu/lib \r\n\r\nOptions used to compile and link:\r\n  external signer = yes\r\n  multiprocess    = no\r\n  with experimental syscall sandbox support = no\r\n  with libs       = yes\r\n  with wallet     = yes\r\n    with sqlite   = yes\r\n    with bdb      = yes\r\n  with gui / qt   = no\r\n  with zmq        = yes\r\n  with test       = yes\r\n  with fuzz binary = yes\r\n  with bench      = yes\r\n  with upnp       = yes\r\n  with natpmp     = yes\r\n  use asm         = no\r\n  USDT tracing    = yes\r\n  sanitizers      = address,undefined\r\n  debug enabled   = yes\r\n  gprof enabled   = no\r\n  werror          = yes\r\n  LTO             = no\r\n\r\n  target os       = linux-gnu\r\n  build os        = linux-gnu\r\n\r\n  CC              = /usr/bin/ccache gcc -m64\r\n  CFLAGS          = -pthread -pipe -std=c11 -O1 \r\n  CPPFLAGS        =  -DDEBUG -DDEBUG_LOCKORDER -DDEBUG_LOCKCONTENTION -DRPC_DOC_CHECK -DABORT_ON_FAILED_ASSUME -fmacro-prefix-map=$(abs_top_srcdir)=.   -DHAVE_BUILD_INFO -DPROVIDE_FUZZ_MAIN_FUNCTION -D_GLIBCXX_DEBUG -D_GLIBCXX_DEBUG_PEDANTIC -D_LIBCPP_DEBUG=1 -I/home/sjors/dev/bitcoin-depends/depends/x86_64-pc-linux-gnu/include/ \r\n  CXX             = /usr/bin/ccache g++ -m64 -std=c++17\r\n  CXXFLAGS        =   -O0 -g3 -ftrapv -fdebug-prefix-map=$(abs_top_srcdir)=.  -fstack-reuse=none -Wstack-protector -fstack-protector-all -fcf-protection=full -fstack-clash-protection   -Werror   -fno-extended-identifiers -pipe -std=c++17 -O1 \r\n  LDFLAGS         =  -lpthread  -Wl,-z,relro -Wl,-z,now -Wl,-z,separate-code -pie   -L/home/sjors/dev/bitcoin-depends/depends/x86_64-pc-linux-gnu/lib \r\n  AR              = ar\r\n  ARFLAGS         = cr\r\n```",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/27014#issuecomment-1412552923",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27014"
    },
    {
      "event": "commented",
      "id": 1412775757,
      "node_id": "IC_kwDOABII585UNT9N",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1412775757",
      "actor": {
        "login": "john-moffett",
        "id": 116917595,
        "node_id": "U_kgDOBvgFWw",
        "avatar_url": "https://avatars.githubusercontent.com/u/116917595?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/john-moffett",
        "html_url": "https://github.com/john-moffett",
        "followers_url": "https://api.github.com/users/john-moffett/followers",
        "following_url": "https://api.github.com/users/john-moffett/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/john-moffett/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/john-moffett/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/john-moffett/subscriptions",
        "organizations_url": "https://api.github.com/users/john-moffett/orgs",
        "repos_url": "https://api.github.com/users/john-moffett/repos",
        "events_url": "https://api.github.com/users/john-moffett/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/john-moffett/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-01T21:42:45Z",
      "updated_at": "2023-02-01T21:52:54Z",
      "author_association": "MEMBER",
      "body": "Managed to recreate by making `depends` with `DEBUG=1`, which adds `-D_GLIBCXX_DEBUG -D_GLIBCXX_DEBUG_PEDANTIC -D_LIBCPP_DEBUG=1` to the `CPPFLAGS` when configuring `bitcoin`, then running with your `configure` options. \r\n\r\nThis is *really* bizarre. I made a simple test file with the same behavior and tried to compile it on the Ubuntu instance.\r\n\r\n```\r\nubuntu@:~/bitcoin$ g++ t.cpp -o t.bin -fsanitize=undefined \r\nubuntu@:~/bitcoin$ g++ t.cpp -o t.bin -fsanitize=undefined -O1 \r\nt.cpp: In function ‘int main()’:\r\nt.cpp:11:41: warning: ‘%d’ directive output may be truncated writing between 1 and 11 bytes into a region of size 9 [-Wformat-truncation=]\r\n   11 |             snprintf(buf, sizeof(buf), \"%d\", x);\r\n      |                                         ^~\r\nt.cpp:11:40: note: directive argument in the range [-2147483648, 9]\r\n   11 |             snprintf(buf, sizeof(buf), \"%d\", x);\r\n      |                                        ^~~~\r\nIn file included from /usr/include/stdio.h:906,\r\n                 from t.cpp:1:\r\nIn function ‘int snprintf(char*, size_t, const char*, ...)’,\r\n    inlined from ‘int main()’ at t.cpp:11:21:\r\n/usr/include/x86_64-linux-gnu/bits/stdio2.h:54:35: note: ‘__builtin___snprintf_chk’ output between 2 and 12 bytes into a destination of size 9\r\n   54 |   return __builtin___snprintf_chk (__s, __n, __USE_FORTIFY_LEVEL - 1,\r\n      |          ~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n   55 |                                    __glibc_objsize (__s), __fmt,\r\n      |                                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n   56 |                                    __va_arg_pack ());\r\n      |                                    ~~~~~~~~~~~~~~~~~\r\n\r\n```\r\n\r\nCompiles fine without `-O1`, but gives the warning with it.\r\n\r\nAnyway, I can confirm that changing it to an `unsigned int` fixes the issue.",
      "user": {
        "login": "john-moffett",
        "id": 116917595,
        "node_id": "U_kgDOBvgFWw",
        "avatar_url": "https://avatars.githubusercontent.com/u/116917595?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/john-moffett",
        "html_url": "https://github.com/john-moffett",
        "followers_url": "https://api.github.com/users/john-moffett/followers",
        "following_url": "https://api.github.com/users/john-moffett/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/john-moffett/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/john-moffett/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/john-moffett/subscriptions",
        "organizations_url": "https://api.github.com/users/john-moffett/orgs",
        "repos_url": "https://api.github.com/users/john-moffett/repos",
        "events_url": "https://api.github.com/users/john-moffett/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/john-moffett/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/27014#issuecomment-1412775757",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27014"
    },
    {
      "event": "commented",
      "id": 1416136929,
      "node_id": "IC_kwDOABII585UaIjh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1416136929",
      "actor": {
        "login": "john-moffett",
        "id": 116917595,
        "node_id": "U_kgDOBvgFWw",
        "avatar_url": "https://avatars.githubusercontent.com/u/116917595?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/john-moffett",
        "html_url": "https://github.com/john-moffett",
        "followers_url": "https://api.github.com/users/john-moffett/followers",
        "following_url": "https://api.github.com/users/john-moffett/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/john-moffett/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/john-moffett/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/john-moffett/subscriptions",
        "organizations_url": "https://api.github.com/users/john-moffett/orgs",
        "repos_url": "https://api.github.com/users/john-moffett/repos",
        "events_url": "https://api.github.com/users/john-moffett/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/john-moffett/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-03T16:54:52Z",
      "updated_at": "2023-02-03T16:54:52Z",
      "author_association": "MEMBER",
      "body": "I think the explanation at https://github.com/bitcoin/bitcoin/pull/27027 sheds light on most of this. Another interesting behavior is that the warning is only emitted for the combination of `-fsanitize=undefined` and optimization level `-O1` (not `-O2`, `-Ofast`, etc.). I suppose the offending code is changed before the check in those cases?",
      "user": {
        "login": "john-moffett",
        "id": 116917595,
        "node_id": "U_kgDOBvgFWw",
        "avatar_url": "https://avatars.githubusercontent.com/u/116917595?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/john-moffett",
        "html_url": "https://github.com/john-moffett",
        "followers_url": "https://api.github.com/users/john-moffett/followers",
        "following_url": "https://api.github.com/users/john-moffett/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/john-moffett/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/john-moffett/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/john-moffett/subscriptions",
        "organizations_url": "https://api.github.com/users/john-moffett/orgs",
        "repos_url": "https://api.github.com/users/john-moffett/repos",
        "events_url": "https://api.github.com/users/john-moffett/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/john-moffett/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/27014#issuecomment-1416136929",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27014"
    },
    {
      "event": "closed",
      "id": 8445403404,
      "node_id": "CE_lADOABII585dWbsEzwAAAAH3YqEM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8445403404",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "aff75463e2c75a7a969cdaa535c7be05fd146420",
      "commit_url": "https://api.github.com/repos/bitcoin-core/gui/commits/aff75463e2c75a7a969cdaa535c7be05fd146420",
      "created_at": "2023-02-06T09:34:46Z"
    },
    {
      "event": "referenced",
      "id": 8448615760,
      "node_id": "REFE_lADOABII585dWbsEzwAAAAH3k6VQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8448615760",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "5dc32bdc366c5fb33d98bc8b04ba0e745fc5c326",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/5dc32bdc366c5fb33d98bc8b04ba0e745fc5c326",
      "created_at": "2023-02-06T15:20:10Z"
    }
  ]
}