{
  "type": "issue",
  "issue": {
    "id": 52215859,
    "node_id": "MDU6SXNzdWU1MjIxNTg1OQ==",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5498",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5498/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5498/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5498/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/5498",
    "number": 5498,
    "state": "closed",
    "state_reason": "completed",
    "title": "verifychain & \"BIP 30\" duplicate transactions in the chain",
    "body": "Just reposting from https://bitcointalk.org/index.php?topic=895501.0 so it get's attention.\n\nDoes Bitcoin Core's \"verifychain\" in level=3 accept the duplicate transaction ID's in the chain (those that fail strict BIP30 checks, as listed in main.cpp in ConnectBlock)?  I have the feeling that the strict check done in DisconnectBlock (that the tx outputs currently being undone match between what's in the block and what's in the coin view) could fail for those.  Unfortunately, I'm not able to check this \"live\" as it would require way too much memory.  I. e., while checking, the coins cache is filled and then level=3 checks are skipped for deeper blocks.\n\nIf my suspicion is right, is this simply not \"fixed\" because it does not matter, or is there some other reason?  (One could, for instance, move the list of BIP30-failing hashes to the chain parameters and use it both for fEnforceBIP30 as well as ignoring those DisconnectBlock failures.)  If, on the other hand, this is not a \"problem\" and DisconnectBlock works for those, why?\n",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/Diapolo/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/Diapolo/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "assignees": [],
    "author_association": "NONE",
    "locked": true,
    "active_lock_reason": "resolved",
    "comments": 0,
    "closed_at": "2015-10-31T11:28:43Z",
    "created_at": "2014-12-17T09:02:52Z",
    "updated_at": "2021-09-08T12:23:00Z"
  },
  "events": [
    {
      "event": "closed",
      "id": 451080380,
      "node_id": "MDExOkNsb3NlZEV2ZW50NDUxMDgwMzgw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/451080380",
      "actor": {
        "login": "Diapolo",
        "id": 1419649,
        "node_id": "MDQ6VXNlcjE0MTk2NDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Diapolo",
        "html_url": "https://github.com/Diapolo",
        "followers_url": "https://api.github.com/users/Diapolo/followers",
        "following_url": "https://api.github.com/users/Diapolo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Diapolo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Diapolo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
        "organizations_url": "https://api.github.com/users/Diapolo/orgs",
        "repos_url": "https://api.github.com/users/Diapolo/repos",
        "events_url": "https://api.github.com/users/Diapolo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Diapolo/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-10-31T11:28:43Z"
    },
    {
      "event": "locked",
      "id": 5271952161,
      "node_id": "LOE_lADOABII584DHMAzzwAAAAE6O5sh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5271952161",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-08T12:23:00Z",
      "lock_reason": "resolved"
    }
  ]
}