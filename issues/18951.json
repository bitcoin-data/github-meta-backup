{
  "type": "issue",
  "issue": {
    "id": 616002384,
    "node_id": "MDU6SXNzdWU2MTYwMDIzODQ=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18951",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18951/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18951/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18951/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/18951",
    "number": 18951,
    "state": "closed",
    "state_reason": "completed",
    "title": "RPC gettransaction() wrong sending address on internal transaction",
    "body": "<!-- This issue tracker is only for technical issues related to Bitcoin Core.\r\n\r\nGeneral bitcoin questions and/or support requests are best directed to the Bitcoin StackExchange at https://bitcoin.stackexchange.com.\r\n\r\nFor reporting security issues, please read instructions at https://bitcoincore.org/en/contact/.\r\n\r\nIf the node is \"stuck\" during sync or giving \"block checksum mismatch\" errors, please ensure your hardware is stable by running memtest and observe CPU temperature with a load-test tool such as linpack before creating an issue! -->\r\n\r\n<!-- Describe the issue -->\r\n\r\n**Expected behavior**\r\nThe correct sending address in the transaction.\r\n\r\n<!--- What behavior did you expect? -->\r\n\r\n**Actual behavior**\r\nI made a transaction between 2 address in my wallet and then checked it with the gettransaction() function and the txid. It reported that the receiving address also sent the coins.\r\n\r\nI can see in the testnet block explorer that transaction did in fact happen correctly. https://live.blockcypher.com/btc-testnet/tx/37e37cb8add45cc234f0d8f530ddd1346404be5da14a4ce125748dd13094aaea/\r\n\r\nI sent from\r\ntb1qutv5a8vxthm6rqgfjexzvz3p49fyls74hj4zzu -> tb1q0yempvk7fwqz2k9j6utkkkuyt7fqznqjwplkhu\r\n\r\nbut the  gettransaction() function is reporting this: https://i.imgur.com/TwiYPiC.png\r\ntb1q0yempvk7fwqz2k9j6utkkkuyt7fqznqjwplkhu -> tb1q0yempvk7fwqz2k9j6utkkkuyt7fqznqjwplkhu\r\n\r\n<!--- What was the actual behavior (provide screenshots if the issue is GUI-related)? -->\r\n\r\n**To reproduce**\r\nMake an internal transaction and put the txid into this:\r\nhttps://gist.github.com/Nex4rius/47f4c2959d1d29cf51bac6bd4054d323\r\n\r\n<!--- How reliably can you reproduce the issue, what are the steps to do so? -->\r\n\r\n**System information**\r\n\r\n<!-- What version of Bitcoin Core are you using, where did you get it (website, self-compiled, etc)? -->\r\nBitcoin Core Version v0.19.0.1 (64-Bit)\r\n\r\n<!-- What type of machine are you observing the error on (OS/CPU and disk type)? -->\r\nWindow 10\r\n\r\n<!-- GUI-related issue? What is your operating system and its version? If Linux, what is your desktop environment and graphical shell? -->\r\n\r\n<!-- Any extra information that might be useful in the debugging process. -->\r\n<!--- This is normally the contents of a `debug.log` or `config.log` file. Raw text or a link to a pastebin type site are preferred. -->\r\n\r\nI've noticed that this also affects the listtransactions() function.\r\n",
    "user": {
      "login": "Nex4rius",
      "id": 8028126,
      "node_id": "MDQ6VXNlcjgwMjgxMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8028126?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Nex4rius",
      "html_url": "https://github.com/Nex4rius",
      "followers_url": "https://api.github.com/users/Nex4rius/followers",
      "following_url": "https://api.github.com/users/Nex4rius/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/Nex4rius/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/Nex4rius/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/Nex4rius/subscriptions",
      "organizations_url": "https://api.github.com/users/Nex4rius/orgs",
      "repos_url": "https://api.github.com/users/Nex4rius/repos",
      "events_url": "https://api.github.com/users/Nex4rius/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/Nex4rius/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 64585,
        "node_id": "MDU6TGFiZWw2NDU4NQ==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug",
        "name": "Bug",
        "color": "FBBAAB",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "NONE",
    "locked": true,
    "active_lock_reason": "resolved",
    "comments": 4,
    "closed_at": "2020-05-11T18:03:52Z",
    "created_at": "2020-05-11T16:07:58Z",
    "updated_at": "2022-02-15T11:19:14Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 3323686728,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDMzMjM2ODY3Mjg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3323686728",
      "actor": {
        "login": "Nex4rius",
        "id": 8028126,
        "node_id": "MDQ6VXNlcjgwMjgxMjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8028126?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Nex4rius",
        "html_url": "https://github.com/Nex4rius",
        "followers_url": "https://api.github.com/users/Nex4rius/followers",
        "following_url": "https://api.github.com/users/Nex4rius/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Nex4rius/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Nex4rius/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Nex4rius/subscriptions",
        "organizations_url": "https://api.github.com/users/Nex4rius/orgs",
        "repos_url": "https://api.github.com/users/Nex4rius/repos",
        "events_url": "https://api.github.com/users/Nex4rius/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Nex4rius/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-11T16:07:58Z",
      "label": {
        "name": "Bug",
        "color": "FBBAAB"
      }
    },
    {
      "event": "commented",
      "id": 626862452,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYyNjg2MjQ1Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/626862452",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-11T18:03:52Z",
      "updated_at": "2020-05-11T18:03:52Z",
      "author_association": "MEMBER",
      "body": "The receiving address (`tb1q0`) and the destination where the funds were sent to previously (`tb1qu`) are both controlled by your wallet, so it correctly tells you that this transaction involved a send as well as a receive.",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/18951#issuecomment-626862452",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18951"
    },
    {
      "event": "closed",
      "id": 3324134594,
      "node_id": "MDExOkNsb3NlZEV2ZW50MzMyNDEzNDU5NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3324134594",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-11T18:03:52Z"
    },
    {
      "event": "commented",
      "id": 626887627,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYyNjg4NzYyNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/626887627",
      "actor": {
        "login": "Nex4rius",
        "id": 8028126,
        "node_id": "MDQ6VXNlcjgwMjgxMjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8028126?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Nex4rius",
        "html_url": "https://github.com/Nex4rius",
        "followers_url": "https://api.github.com/users/Nex4rius/followers",
        "following_url": "https://api.github.com/users/Nex4rius/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Nex4rius/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Nex4rius/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Nex4rius/subscriptions",
        "organizations_url": "https://api.github.com/users/Nex4rius/orgs",
        "repos_url": "https://api.github.com/users/Nex4rius/repos",
        "events_url": "https://api.github.com/users/Nex4rius/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Nex4rius/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-11T18:48:47Z",
      "updated_at": "2020-05-11T18:50:35Z",
      "author_association": "NONE",
      "body": "That's not what I mean. I know that it has a send aswell as a receive.\r\n\r\nBoth the send and receive address are shown to be (tb1q0) but the sending address is in reality (tb1qu).\r\n\r\nThe (tb1qu)  address isnt mention at all in this transaction from gettransaction(). (as shown in the imgur link)",
      "user": {
        "login": "Nex4rius",
        "id": 8028126,
        "node_id": "MDQ6VXNlcjgwMjgxMjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8028126?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Nex4rius",
        "html_url": "https://github.com/Nex4rius",
        "followers_url": "https://api.github.com/users/Nex4rius/followers",
        "following_url": "https://api.github.com/users/Nex4rius/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Nex4rius/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Nex4rius/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Nex4rius/subscriptions",
        "organizations_url": "https://api.github.com/users/Nex4rius/orgs",
        "repos_url": "https://api.github.com/users/Nex4rius/repos",
        "events_url": "https://api.github.com/users/Nex4rius/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Nex4rius/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/18951#issuecomment-626887627",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18951"
    },
    {
      "event": "commented",
      "id": 626912067,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYyNjkxMjA2Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/626912067",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-11T19:33:05Z",
      "updated_at": "2020-05-11T19:33:05Z",
      "author_association": "MEMBER",
      "body": "There is no \"send address\" or \"from address\"\r\n\r\nhttps://en.bitcoin.it/wiki/From_address",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/18951#issuecomment-626912067",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18951"
    },
    {
      "event": "commented",
      "id": 626912129,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYyNjkxMjEyOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/626912129",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-11T19:33:13Z",
      "updated_at": "2020-05-11T19:33:13Z",
      "author_association": "MEMBER",
      "body": "Usually the issue tracker is used to track technical issues related to the Bitcoin Core code base. Keep in mind that general bitcoin questions and/or support requests are best directed to the [Bitcoin StackExchange](https://bitcoin.stackexchange.com) or the `#bitcoin` IRC channel on freenode.",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/18951#issuecomment-626912129",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18951"
    },
    {
      "event": "locked",
      "id": 6074114494,
      "node_id": "LOE_lADOABII584kt3NQzwAAAAFqC6G-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6074114494",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-02-15T11:19:14Z",
      "lock_reason": "resolved"
    }
  ]
}