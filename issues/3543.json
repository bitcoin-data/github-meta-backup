{
  "type": "issue",
  "issue": {
    "id": 25613088,
    "node_id": "MDU6SXNzdWUyNTYxMzA4OA==",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/3543",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/3543/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/3543/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/3543/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/3543",
    "number": 3543,
    "state": "closed",
    "state_reason": "completed",
    "title": "Error: Error initializing wallet database environment - on network drive",
    "body": "The message error:\nError: Error initializing wallet database environment\n\nTested on versions:\n 0.8.5 and 0.8.6\n\nOS:\nWindows 2003 Server\n(however on Linux had the same error if I remember well)\n\nSituation:\nI'm trying to run Bitcoin-qt or Bitcoind with data dir localized on Network Drive (Z:\\ua in my case, it's an empty folder).\n\nCommand:\nbitcoind.exe -datadir=Z:\\ua\nError: Error initializing wallet database environment Z:\\ua!\n\nDebug.log:\n2014-01-14 22:58:28 Bitcoin version v0.8.6-beta (2013-12-05 13:11:26 +0100)\n2014-01-14 22:58:28 Using OpenSSL version OpenSSL 1.0.1c 10 May 2012\n2014-01-14 22:58:28 Default data directory C:\\Documents and Settings\\Administrator\\Application Data\\Bitcoin\n2014-01-14 22:58:28 Using data directory Z:\\ua\n2014-01-14 22:58:28 Using at most 125 connections (2048 file descriptors available)\n2014-01-14 22:58:28 init message: Verifying wallet...\n2014-01-14 22:58:29 dbenv.open LogDir=Z:\\ua\\database ErrorFile=Z:\\ua\\db.log\n2014-01-14 22:58:31 ERROR: CDB() : error DB_RUNRECOVERY: Fatal error, run database recovery (-30974) opening database environment\n2014-01-14 22:58:31 Moved old Z:\\ua\\database to Z:\\ua\\database.1389740311.bak. Retrying.\n2014-01-14 22:58:31 dbenv.open LogDir=Z:\\ua\\database ErrorFile=Z:\\ua\\db.log\n2014-01-14 22:58:32 ERROR: CDB() : error DB_RUNRECOVERY: Fatal error, run database recovery (-30974) opening database environment\n2014-01-14 22:58:32 Error: Error initializing wallet database environment Z:\\ua!\n2014-01-14 22:58:32 Shutdown : In progress...\n2014-01-14 22:58:32 Flush(false) db not started\n2014-01-14 22:58:32 StopNode()\n2014-01-14 22:58:34 Flushed 0 addresses to peers.dat  1328ms\n2014-01-14 22:58:34 Flush(true) db not started\n2014-01-14 22:58:34 Shutdown : done\n",
    "user": {
      "login": "annaparker",
      "id": 6404127,
      "node_id": "MDQ6VXNlcjY0MDQxMjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6404127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/annaparker",
      "html_url": "https://github.com/annaparker",
      "followers_url": "https://api.github.com/users/annaparker/followers",
      "following_url": "https://api.github.com/users/annaparker/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/annaparker/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/annaparker/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/annaparker/subscriptions",
      "organizations_url": "https://api.github.com/users/annaparker/orgs",
      "repos_url": "https://api.github.com/users/annaparker/repos",
      "events_url": "https://api.github.com/users/annaparker/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/annaparker/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "assignees": [],
    "author_association": "NONE",
    "locked": true,
    "active_lock_reason": "resolved",
    "comments": 4,
    "closed_at": "2014-04-29T12:53:09Z",
    "created_at": "2014-01-14T23:02:14Z",
    "updated_at": "2021-09-08T12:42:12Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 32318648,
      "node_id": "MDEyOklzc3VlQ29tbWVudDMyMzE4NjQ4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32318648",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-01-14T23:16:58Z",
      "updated_at": "2014-01-14T23:16:58Z",
      "author_association": "MEMBER",
      "body": "You have the entire data directory on the network share, or did you do something with symlinks?\n\nThis error generally means that the wallet is corrupted/unopenable. This can have several causes:\n- Unclean shutdown\n- Wallet opened with a bitcoin that was built against BerkeleyDB5.1 with one that is built against BerkeleyDB4.8\n- Disk corruption\n\nAre you sure this has to do with the network location? It doesn't happen with the same wallet in a local data directory?\n",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/3543#issuecomment-32318648",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/3543"
    },
    {
      "event": "commented",
      "id": 32320773,
      "node_id": "MDEyOklzc3VlQ29tbWVudDMyMzIwNzcz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32320773",
      "actor": {
        "login": "annaparker",
        "id": 6404127,
        "node_id": "MDQ6VXNlcjY0MDQxMjc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6404127?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/annaparker",
        "html_url": "https://github.com/annaparker",
        "followers_url": "https://api.github.com/users/annaparker/followers",
        "following_url": "https://api.github.com/users/annaparker/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/annaparker/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/annaparker/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/annaparker/subscriptions",
        "organizations_url": "https://api.github.com/users/annaparker/orgs",
        "repos_url": "https://api.github.com/users/annaparker/repos",
        "events_url": "https://api.github.com/users/annaparker/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/annaparker/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-01-14T23:47:43Z",
      "updated_at": "2014-01-15T00:14:30Z",
      "author_association": "NONE",
      "body": "It's a network share created as server and client using tool builtin in Windows. Also tried the external NetDrive tool which creates the drive using FTP - same result. No symlinks.\n\nThe wallet can't be corrupted, because it simply doesn't exist. ;-) The data dir is empty, as I wrote. Tried to run with already created wallet.dat on local dir - same error. Bitcoin with datadir on local disk works flawless. So it's seems the wallet.dat isn't accessable/openable from netowrk drive. I see the solution, but don't know it's possible to run bitcoind with -datadir [network drive] -walletfile [wallet.dat on local drive], but see no that option yet.\n\nMonths ago I have tried to do the same thing on Linux using ftpfs or curlftpfs (can't remember) - similar effect.\n\nYes, I'm sure I'd like to run Bitcoind with data dir on network drive. It's because I have many fast servers around the world (few per continents) with very low disk space and I thought it would be great to support Bitcoin network to run bitcoind on these servers, which some of them have more than years of uptime. :-)\n",
      "user": {
        "login": "annaparker",
        "id": 6404127,
        "node_id": "MDQ6VXNlcjY0MDQxMjc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6404127?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/annaparker",
        "html_url": "https://github.com/annaparker",
        "followers_url": "https://api.github.com/users/annaparker/followers",
        "following_url": "https://api.github.com/users/annaparker/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/annaparker/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/annaparker/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/annaparker/subscriptions",
        "organizations_url": "https://api.github.com/users/annaparker/orgs",
        "repos_url": "https://api.github.com/users/annaparker/repos",
        "events_url": "https://api.github.com/users/annaparker/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/annaparker/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/3543#issuecomment-32320773",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/3543"
    },
    {
      "event": "commented",
      "id": 32323854,
      "node_id": "MDEyOklzc3VlQ29tbWVudDMyMzIzODU0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32323854",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-01-15T00:37:31Z",
      "updated_at": "2014-01-15T00:37:31Z",
      "author_association": "MEMBER",
      "body": "Master, which will be 0.9.x, has a -disablewallet option, if you don't need a wallet, that will do the trick too.\n\nMaking it possible to split the datadir and blocksdir is planned as well, but on the longer run (see #3214).\n",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/3543#issuecomment-32323854",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/3543"
    },
    {
      "event": "commented",
      "id": 41671618,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQxNjcxNjE4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/41671618",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-04-29T12:53:09Z",
      "updated_at": "2014-04-29T12:53:09Z",
      "author_association": "MEMBER",
      "body": "`-disablewallet` was added in 0.9.0, which was released and should resolve this issue. Let us know if there are still problems running on the network drive without wallet.\n",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/3543#issuecomment-41671618",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/3543"
    },
    {
      "event": "closed",
      "id": 116108756,
      "node_id": "MDExOkNsb3NlZEV2ZW50MTE2MTA4NzU2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/116108756",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-04-29T12:53:09Z"
    },
    {
      "event": "locked",
      "id": 5272054948,
      "node_id": "LOE_lADOABII584BhtMgzwAAAAE6PSyk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5272054948",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-08T12:42:12Z",
      "lock_reason": "resolved"
    }
  ]
}