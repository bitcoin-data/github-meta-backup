{
  "type": "issue",
  "issue": {
    "id": 214515669,
    "node_id": "MDU6SXNzdWUyMTQ1MTU2Njk=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10004",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10004/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10004/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10004/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/10004",
    "number": 10004,
    "state": "closed",
    "state_reason": "completed",
    "title": "After max chain of unconfirmed change transactions, last tx is missing from memory until rescan",
    "body": "## Summary:\r\nhttps://github.com/bitcoin/bitcoin/blob/57b34599b2deb179ff1bd97ffeab91ec9f904d85/doc/release-notes/release-notes-0.12.0.md\r\n\r\n_\"Bitcoin Core 0.12 also introduces new default policy limits on the length and size of unconfirmed transaction chains that are allowed in the mempool (generally limiting the length of unconfirmed chains to 25 transactions, with a total size of 101 KB).\"_\r\n\r\n1) Generate a chain of transactions with unconfirmed change outputs until this maximum is hit.\r\n2) The last tx in this chain does is not accessible from `gettransaction`, does not appear in `listunspent`  and will not be mined into a block until the node is restarted with `-rescan` (luckily 0.14.0 saves mempool to disk so the tx is \"found\" on rescan)\r\n\r\n## Demonstration:\r\n\r\nStart node, generate 101 blocks so only a single 50 BTC output is mature enough to spend:\r\n```\r\n$ ./bitcoind -daemon -regtest\r\nBitcoin server starting\r\n$ ./bitcoin-cli -regtest getinfo\r\n{\r\n  \"version\": 140000,\r\n  \"protocolversion\": 70015,\r\n  \"walletversion\": 130000,\r\n  \"balance\": 0.00000000,\r\n  ...\r\n}\r\n$ ./bitcoin-cli -regtest generate 101\r\n[\r\n  \"271d2c725a2279976bee7650bf20f0a16ccbbc626e07150fcb5e8e8429909b09\", \r\n  ... \r\n  \"13e07e2376aa2ce1d161497e05156632262571a17bb6e1cbd333392e23b973cc\"\r\n]\r\n$ ./bitcoin-cli -regtest getinfo\r\n{\r\n  \"version\": 140000,\r\n  \"protocolversion\": 70015,\r\n  \"walletversion\": 130000,\r\n  \"balance\": 50.00000000,\r\n  ...\r\n}\r\n```\r\nNow attempt to create 30 x 0.5 BTC transactions, forcing bitcoind to spend unconfirmed change outputs in a chain until the limit is hit:\r\n```\r\n$ for n in {1..30}; do ./bitcoin-cli -regtest sendtoaddress 2NCY1Q1Mu6V5uha7fDzGNYYPUs5F1zSdXCL 0.5; done\r\nfb15572accafe0b6d2b7b2806f31bda16280c7d97a91d99ca929d4236e5099c1\r\nc7cea6a964ab01f20bfc54e647fc2ea9b86f1a73f64ae547dcb5fb77a9071180\r\n1cca3556fa953a0826d34d5096353a6809df1479996caff9e47954b1f6f81dce\r\n2ae2141d550c8d290fdc0f0313684eac0c5813836b051ab275cc3663059ce3ef\r\nb660559b13939d4d77e2ee01907841008b09b473ed6c215388f319692312ba4b\r\ne79a92d89b027c064c0c24df438c795b3595627ee823e532ab7c18ea87f98434\r\n7383970de305e47f781de8451303ebe84469e31f75308f72672dd52dcdd3886b\r\n2355d572f3cfd28f6ecae42c6ec04a739283087091512aae1360880a4b4056fe\r\n873cb3977698284a118ef29be6ed307badab9da635049ab5a6b0c9a253bf35a3\r\nbf66983fe782efbc6ba9ce36c5e6bfba691f8721e35a16bfcb4b35505903ebf5\r\nf80c7d4863bb9f14175f8915ced763176b7f6d4f18680793a5929ed2671d8e5b\r\n21fa4a20a41be5f64156ec9df037077611269fabd7de0703fa11c660014c0aa9\r\n6aad90127ab5e3fe67fa8b9b1a13eb03892a0f0b73798ecd7cf8af53f3a59e2c\r\ne68af2ecb142efb3b5885b5fc885905c3e08a3ebd5cbeff9ace73893aeb9451f\r\n18980ff65d020f6e333d7562bb0cf77aa2a8dca7d3f3f53f5b3f5986cc5b43f5\r\n8de3f866aa42c71836927d3db6e764fadb462c61c82f398a22c035104a7d5dee\r\na9d139b2763c5ae4000cdfe78521d41c8c4647b50de3c86e2e2d0e7daa8cc97f\r\n0ee976f345a5805e1a260a2f2d570edf3354cf0c434bdcf42ce16752ae6cc96f\r\n6b5327eafcd979c3f63ecd8de1139b73651b21525157f2c681b81dfdd43acf9b\r\nacd5a269a60dc43622c30a0ecaa8b1e393f074efb61f00e225cac0c028e7809f\r\n52204cba5012dceb2f0bdc0b1dbec771d728cf1345da5545704c0ef004523d46\r\n824b8ab2bef5a742f0ca3fad8b58f7a226daf3c5565b0b364fdfe7013d98e8f5\r\nfbd88cdff1a7b648b5103699321c8d035698c867a39aa1a7b0c49c1a087ab879\r\n4fa4e846deb03bbc7a7e07364c0087d6f43cd339792a220892c53e50eb60a463\r\nc3d33580c52cd4eee88a0d76b5df2c77653f92537a10c3d04d27c063b543d2d9\r\n3a8b99ed748f3418a8bf9ef9ea3b167df2bfabb28d660c0027405769e1d67174\r\nerror code: -6\r\nerror message:\r\nInsufficient funds\r\nerror code: -6\r\nerror message:\r\nInsufficient funds\r\nerror code: -6\r\nerror message:\r\nInsufficient funds\r\nerror code: -6\r\nerror message:\r\nInsufficient funds\r\n```\r\nOk looks like 26 transactions were generated. The first one spends from a coinbase and the next 25 spend unconfirmed change outputs until bitcoind errors out with \"Insufficient funds\". That's ok, I should still have some change left in my wallet balance right?\r\n```\r\n$ ./bitcoin-cli -regtest listunspent 0\r\n[\r\n]\r\n$ ./bitcoin-cli -regtest getbalance\r\n0.00000000\r\n$ ./bitcoin-cli -regtest getbalance \"*\" 0\r\n36.99884200\r\n```\r\n**Unexpected behavior 1:** Unconfirmed change is not reflected in unspent output list, but unconfirmed balance seems correct. Let's mine a block and see what happens to my transaction chain:\r\n```\r\n$ ./bitcoin-cli -regtest generate 1\r\n[\r\n  \"5d2e7dd5bb7366fecfc36acfc6ca33346114f05d040ebb020b84465db2401e9f\"\r\n]\r\n$ ./bitcoin-cli -regtest getblock 5d2e7dd5bb7366fecfc36acfc6ca33346114f05d040ebb020b84465db2401e9f\r\n{\r\n  \"hash\": \"5d2e7dd5bb7366fecfc36acfc6ca33346114f05d040ebb020b84465db2401e9f\",\r\n  \"confirmations\": 1,\r\n  \"strippedsize\": 5783,\r\n  \"size\": 5783,\r\n  \"weight\": 23132,\r\n  \"height\": 102,\r\n  \"version\": 536870912,\r\n  \"versionHex\": \"20000000\",\r\n  \"merkleroot\": \"f7692c07ffc26637b3f1df3dcbf9077f0a6292f8e445289fc7ce817ce4c3ae82\",\r\n  \"tx\": [\r\n    \"d2d05cc73f95abad38c8fa59af38629f04da8dc40d638ef46852aeb0604a20ed\", \r\n    \"fb15572accafe0b6d2b7b2806f31bda16280c7d97a91d99ca929d4236e5099c1\", \r\n    \"c7cea6a964ab01f20bfc54e647fc2ea9b86f1a73f64ae547dcb5fb77a9071180\", \r\n    \"1cca3556fa953a0826d34d5096353a6809df1479996caff9e47954b1f6f81dce\", \r\n    \"2ae2141d550c8d290fdc0f0313684eac0c5813836b051ab275cc3663059ce3ef\", \r\n    \"b660559b13939d4d77e2ee01907841008b09b473ed6c215388f319692312ba4b\", \r\n    \"e79a92d89b027c064c0c24df438c795b3595627ee823e532ab7c18ea87f98434\", \r\n    \"7383970de305e47f781de8451303ebe84469e31f75308f72672dd52dcdd3886b\", \r\n    \"2355d572f3cfd28f6ecae42c6ec04a739283087091512aae1360880a4b4056fe\", \r\n    \"873cb3977698284a118ef29be6ed307badab9da635049ab5a6b0c9a253bf35a3\", \r\n    \"bf66983fe782efbc6ba9ce36c5e6bfba691f8721e35a16bfcb4b35505903ebf5\", \r\n    \"f80c7d4863bb9f14175f8915ced763176b7f6d4f18680793a5929ed2671d8e5b\", \r\n    \"21fa4a20a41be5f64156ec9df037077611269fabd7de0703fa11c660014c0aa9\", \r\n    \"6aad90127ab5e3fe67fa8b9b1a13eb03892a0f0b73798ecd7cf8af53f3a59e2c\", \r\n    \"e68af2ecb142efb3b5885b5fc885905c3e08a3ebd5cbeff9ace73893aeb9451f\", \r\n    \"18980ff65d020f6e333d7562bb0cf77aa2a8dca7d3f3f53f5b3f5986cc5b43f5\", \r\n    \"8de3f866aa42c71836927d3db6e764fadb462c61c82f398a22c035104a7d5dee\", \r\n    \"a9d139b2763c5ae4000cdfe78521d41c8c4647b50de3c86e2e2d0e7daa8cc97f\", \r\n    \"0ee976f345a5805e1a260a2f2d570edf3354cf0c434bdcf42ce16752ae6cc96f\", \r\n    \"6b5327eafcd979c3f63ecd8de1139b73651b21525157f2c681b81dfdd43acf9b\", \r\n    \"acd5a269a60dc43622c30a0ecaa8b1e393f074efb61f00e225cac0c028e7809f\", \r\n    \"52204cba5012dceb2f0bdc0b1dbec771d728cf1345da5545704c0ef004523d46\", \r\n    \"824b8ab2bef5a742f0ca3fad8b58f7a226daf3c5565b0b364fdfe7013d98e8f5\", \r\n    \"fbd88cdff1a7b648b5103699321c8d035698c867a39aa1a7b0c49c1a087ab879\", \r\n    \"4fa4e846deb03bbc7a7e07364c0087d6f43cd339792a220892c53e50eb60a463\", \r\n    \"c3d33580c52cd4eee88a0d76b5df2c77653f92537a10c3d04d27c063b543d2d9\"\r\n  ],\r\n  \"time\": 1489607281,\r\n  \"mediantime\": 1489607020,\r\n  \"nonce\": 0,\r\n  \"bits\": \"207fffff\",\r\n  \"difficulty\": 4.656542373906925e-10,\r\n  \"chainwork\": \"00000000000000000000000000000000000000000000000000000000000000ce\",\r\n  \"previousblockhash\": \"13e07e2376aa2ce1d161497e05156632262571a17bb6e1cbd333392e23b973cc\"\r\n}\r\n```\r\n**Unexpected behavior 2:** There is a transaction missing! The last one I generated in my unspent-change chain (3a8b99ed748f3418a8bf9ef9ea3b167df2bfabb28d660c0027405769e1d67174) did not make it into the block. Hm, ok maybe that is correct miner policy, let's see if it gets into the _next_ block:\r\n```\r\n$ ./bitcoin-cli -regtest generate 1\r\n[\r\n  \"2b842bed9f8e8d17b3026b8772416c6f015cfe434c0dc0ea24d8e4bfab6bc0fc\"\r\n]\r\n$ ./bitcoin-cli -regtest getblock 2b842bed9f8e8d17b3026b8772416c6f015cfe434c0dc0ea24d8e4bfab6bc0fc\r\n{\r\n  \"hash\": \"2b842bed9f8e8d17b3026b8772416c6f015cfe434c0dc0ea24d8e4bfab6bc0fc\",\r\n  \"confirmations\": 1,\r\n  \"strippedsize\": 227,\r\n  \"size\": 227,\r\n  \"weight\": 908,\r\n  \"height\": 103,\r\n  \"version\": 536870912,\r\n  \"versionHex\": \"20000000\",\r\n  \"merkleroot\": \"6efa911037aae4e7b809374ab0f812894e9db446b5fd02da3606fc9f80bacf31\",\r\n  \"tx\": [\r\n    \"6efa911037aae4e7b809374ab0f812894e9db446b5fd02da3606fc9f80bacf31\"\r\n  ],\r\n  \"time\": 1489607296,\r\n  \"mediantime\": 1489607021,\r\n  \"nonce\": 1,\r\n  \"bits\": \"207fffff\",\r\n  \"difficulty\": 4.656542373906925e-10,\r\n  \"chainwork\": \"00000000000000000000000000000000000000000000000000000000000000d0\",\r\n  \"previousblockhash\": \"5d2e7dd5bb7366fecfc36acfc6ca33346114f05d040ebb020b84465db2401e9f\"\r\n}\r\n```\r\nNope, that tx is still not getting mined. Any luck with my balance or unspent output list?\r\n```\r\n$ ./bitcoin-cli -regtest listunspent 0\r\n[\r\n  {\r\n    \"txid\": \"e0aafa4fa10960b32a506d42777c48be646caa88aac223a5d3f4bee353a7187e\",\r\n    \"vout\": 0,\r\n    \"address\": \"myuKG99nWAVXUdePtE5V66jA4DQRkshUdY\",\r\n    \"scriptPubKey\": \"2103bc5af0d827a5f6b9ae4911f343ef864f4040f078dad86059dce2a7a12e376b5eac\",\r\n    \"amount\": 50.00000000,\r\n    \"confirmations\": 101,\r\n    \"spendable\": true,\r\n    \"solvable\": true\r\n  }, \r\n  {\r\n    \"txid\": \"69274f8265b50907bb486a28a782562a41f2f1fc71e531e4806b9d16e3cc9ac5\",\r\n    \"vout\": 0,\r\n    \"address\": \"myuKG99nWAVXUdePtE5V66jA4DQRkshUdY\",\r\n    \"scriptPubKey\": \"2103bc5af0d827a5f6b9ae4911f343ef864f4040f078dad86059dce2a7a12e376b5eac\",\r\n    \"amount\": 50.00000000,\r\n    \"confirmations\": 102,\r\n    \"spendable\": true,\r\n    \"solvable\": true\r\n  }\r\n]\r\n$ ./bitcoin-cli -regtest getbalance\r\n100.00000000\r\n$ ./bitcoin-cli -regtest getbalance \"*\" 0\r\n136.99884200\r\n```\r\nNo! I am still missing coins! Where is the leftover change from my transaction chain? Ok, let's restart the node, rescan, and then check my balance:\r\n```\r\n$ ./bitcoin-cli -regtest stop\r\nBitcoin server stopping\r\n$ ./bitcoind -daemon -regtest -rescan\r\nBitcoin server starting\r\n$ ./bitcoin-cli -regtest listunspent 0\r\n[\r\n  {\r\n    \"txid\": \"3a8b99ed748f3418a8bf9ef9ea3b167df2bfabb28d660c0027405769e1d67174\",\r\n    \"vout\": 1,\r\n    \"address\": \"mpNrtzsAU2eEeKk9NMjwMmKvvrkTBFwL8Q\",\r\n    \"scriptPubKey\": \"76a91461314c7a9c7e4481797b9be3a2754313a45314f888ac\",\r\n    \"amount\": 36.99884200,\r\n    \"confirmations\": 0,\r\n    \"spendable\": true,\r\n    \"solvable\": true\r\n  }, \r\n  {\r\n    \"txid\": \"e0aafa4fa10960b32a506d42777c48be646caa88aac223a5d3f4bee353a7187e\",\r\n    \"vout\": 0,\r\n    \"address\": \"myuKG99nWAVXUdePtE5V66jA4DQRkshUdY\",\r\n    \"scriptPubKey\": \"2103bc5af0d827a5f6b9ae4911f343ef864f4040f078dad86059dce2a7a12e376b5eac\",\r\n    \"amount\": 50.00000000,\r\n    \"confirmations\": 101,\r\n    \"spendable\": true,\r\n    \"solvable\": true\r\n  }, \r\n  {\r\n    \"txid\": \"69274f8265b50907bb486a28a782562a41f2f1fc71e531e4806b9d16e3cc9ac5\",\r\n    \"vout\": 0,\r\n    \"address\": \"myuKG99nWAVXUdePtE5V66jA4DQRkshUdY\",\r\n    \"scriptPubKey\": \"2103bc5af0d827a5f6b9ae4911f343ef864f4040f078dad86059dce2a7a12e376b5eac\",\r\n    \"amount\": 50.00000000,\r\n    \"confirmations\": 102,\r\n    \"spendable\": true,\r\n    \"solvable\": true\r\n  }\r\n]\r\n```\r\nThere it is! The missing tx and my chain's final change output. Now can we mine it?\r\n```\r\n$ ./bitcoin-cli -regtest generate 1\r\n[\r\n  \"01b49edd77e4c1a6eb19860013c8b93ea79cc4cb7c2f8f4739dc8f2478db41ba\"\r\n]\r\n$ ./bitcoin-cli -regtest getblock 01b49edd77e4c1a6eb19860013c8b93ea79cc4cb7c2f8f4739dc8f2478db41ba\r\n{\r\n  \"hash\": \"01b49edd77e4c1a6eb19860013c8b93ea79cc4cb7c2f8f4739dc8f2478db41ba\",\r\n  \"confirmations\": 1,\r\n  \"strippedsize\": 450,\r\n  \"size\": 450,\r\n  \"weight\": 1800,\r\n  \"height\": 104,\r\n  \"version\": 536870912,\r\n  \"versionHex\": \"20000000\",\r\n  \"merkleroot\": \"810e3b7be253da6114b8d6e3b644f7dcfc467e0809bc3387d23a672234901b92\",\r\n  \"tx\": [\r\n    \"502876265ef9c5238331c1635d2c949de9d64f2bd880ede4660dd756cb2e6f71\", \r\n    \"3a8b99ed748f3418a8bf9ef9ea3b167df2bfabb28d660c0027405769e1d67174\"\r\n  ],\r\n  \"time\": 1489607415,\r\n  \"mediantime\": 1489607021,\r\n  \"nonce\": 0,\r\n  \"bits\": \"207fffff\",\r\n  \"difficulty\": 4.656542373906925e-10,\r\n  \"chainwork\": \"00000000000000000000000000000000000000000000000000000000000000d2\",\r\n  \"previousblockhash\": \"2b842bed9f8e8d17b3026b8772416c6f015cfe434c0dc0ea24d8e4bfab6bc0fc\"\r\n}\r\n```\r\nYes we can!",
    "user": {
      "login": "pinheadmz",
      "id": 2084648,
      "node_id": "MDQ6VXNlcjIwODQ2NDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pinheadmz",
      "html_url": "https://github.com/pinheadmz",
      "followers_url": "https://api.github.com/users/pinheadmz/followers",
      "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
      "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
      "repos_url": "https://api.github.com/users/pinheadmz/repos",
      "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 164208572,
        "node_id": "MDU6TGFiZWwxNjQyMDg1NzI=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Mempool",
        "name": "Mempool",
        "color": "fef2c0",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "MEMBER",
    "locked": true,
    "comments": 11,
    "closed_at": "2022-03-25T16:17:55Z",
    "created_at": "2017-03-15T20:28:31Z",
    "updated_at": "2023-03-25T10:21:04Z"
  },
  "events": [
    {
      "event": "renamed",
      "id": 1001654897,
      "node_id": "MDE3OlJlbmFtZWRUaXRsZUV2ZW50MTAwMTY1NDg5Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1001654897",
      "actor": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-15T20:43:54Z",
      "rename": {
        "from": "After max chain of unspent change transactions, last tx is missing from memory until rescan",
        "to": "After max chain of unconfirmed change transactions, last tx is missing from memory until rescan"
      }
    },
    {
      "event": "commented",
      "id": 286892237,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI4Njg5MjIzNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/286892237",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-15T21:56:29Z",
      "updated_at": "2017-03-16T14:33:40Z",
      "author_association": "MEMBER",
      "body": "A few comments here:\r\n\r\n- your node is probably running with the default limitancestorcount / limitdescendant count, which prevents chains of >25 transactions entering your mempool. You can override those with command line arguments.\r\n- when you send the 26th transaction, it gets added your wallet, but is rejected by your mempool. You should see something like this in debug.log:\r\n\r\n```\r\n2017-03-15 21:41:07 AddToWallet 4c1473ae23f8c087116beb04ccb8cf1ee01226bb5a77db4cba1c5a44c8b52de6  new\r\n2017-03-15 21:41:07 CommitTransaction(): Transaction cannot be broadcast immediately, too-long-mempool-chain\r\n```\r\n\r\n- after you generate the next block, the transaction does not get resubmitted to your mempool automatically. You can find the transaction in your wallet using `gettransaction`, but `getrawtransaction` won't show it (because it's not in the mempool):\r\n\r\n```\r\n[ubuntu] /home/ubuntu/bitcoin\r\n→ bitcoin-cli getrawtransaction 4c1473ae23f8c087116beb04ccb8cf1ee01226bb5a77db4cba1c5a44c8b52de6\r\nerror code: -5\r\nerror message:\r\nNo such mempool or blockchain transaction. Use gettransaction for wallet transactions.\r\n[ubuntu] /home/ubuntu/bitcoin\r\n→ bitcoin-cli gettransaction 4c1473ae23f8c087116beb04ccb8cf1ee01226bb5a77db4cba1c5a44c8b52de6\r\n{\r\n  \"amount\": -0.50000000,\r\n ...\r\n \"hex\": \"02000000015415b85a301a420bac34ec12d3786e1b9d8608c29c9a083306da5e0a0a065286010000006b483045022100ca16a86854d1c51c975bf3e55386bb9ca9929c252524eb1118cfb27121e4d97902206d6acedf4596b9edaea93f411474d39746cc3d5348c9de9f43d9c9c937310de5012103880da4e6b6451859b1eed794b76    7a2e5f2a8e7898aa4cc7a83f2aad8165faa13feffffff02a88e0492000000001976a9149e2f8afc219f0db384ce131d7c028753ac350a4a88ac80f0fa020000000017a914d396f368f3b4348ced0ed1f4138bb2906e12f7df8765000000\"\r\n}\r\n```\r\n- at this point, you *could* resubmit the transaction to your mempool by running `sendrawtransaction <tx hex serialization>`\r\n- persistent mempool has nothing to do with the transaction being readded after stop-start (since the transaction never made it into the mempool in the first place). The transaction is actually in your wallet file, so when you stop-start, that's where it's being found. You can prove this to yourself by deleting mempool.dat between stopping and starting.\r\n\r\nI think that the correct behaviour here is that the wallet should reject the transaction if it's in a chain that's too long to get accepted by the node's mempool.\r\n",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/10004#issuecomment-286892237",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10004"
    },
    {
      "event": "commented",
      "id": 286898585,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI4Njg5ODU4NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/286898585",
      "actor": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-15T22:23:11Z",
      "updated_at": "2017-03-15T22:23:11Z",
      "author_association": "MEMBER",
      "body": "Ahhh thank you for the explanation! This makes sense. Yeah I suppose the expected behavior for me would be if `sendtoaddress` failed with a \"chain too long\" error before creating that last tx, leaving one last unspent output available for a retry or wait for confirmation... ",
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/10004#issuecomment-286898585",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10004"
    },
    {
      "event": "commented",
      "id": 286935417,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI4NjkzNTQxNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/286935417",
      "actor": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-16T01:59:34Z",
      "updated_at": "2017-03-16T01:59:34Z",
      "author_association": "MEMBER",
      "body": "FYI there's some relevant context in #9262, #9302, and #9752.",
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/10004#issuecomment-286935417",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10004"
    },
    {
      "event": "labeled",
      "id": 1002460186,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDEwMDI0NjAxODY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1002460186",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-16T10:30:52Z",
      "label": {
        "name": "Mempool",
        "color": "fef2c0"
      }
    },
    {
      "event": "commented",
      "id": 345382764,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTM4Mjc2NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345382764",
      "actor": {
        "login": "nopara73",
        "id": 9156103,
        "node_id": "MDQ6VXNlcjkxNTYxMDM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9156103?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nopara73",
        "html_url": "https://github.com/nopara73",
        "followers_url": "https://api.github.com/users/nopara73/followers",
        "following_url": "https://api.github.com/users/nopara73/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nopara73/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nopara73/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nopara73/subscriptions",
        "organizations_url": "https://api.github.com/users/nopara73/orgs",
        "repos_url": "https://api.github.com/users/nopara73/repos",
        "events_url": "https://api.github.com/users/nopara73/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nopara73/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-17T22:26:34Z",
      "updated_at": "2017-11-17T22:26:34Z",
      "author_association": "NONE",
      "body": "> your node is probably running with the default limitancestorcount / limitdescendant count, which prevents chains of >25 transactions entering your mempool  \r\n\r\n@jnewbery Isn't it 64? I don't have that set and I just got this error: `64: too-long-mempool-chain`, when I did this. (On the testnet.)",
      "user": {
        "login": "nopara73",
        "id": 9156103,
        "node_id": "MDQ6VXNlcjkxNTYxMDM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9156103?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nopara73",
        "html_url": "https://github.com/nopara73",
        "followers_url": "https://api.github.com/users/nopara73/followers",
        "following_url": "https://api.github.com/users/nopara73/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nopara73/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nopara73/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nopara73/subscriptions",
        "organizations_url": "https://api.github.com/users/nopara73/orgs",
        "repos_url": "https://api.github.com/users/nopara73/repos",
        "events_url": "https://api.github.com/users/nopara73/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nopara73/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/10004#issuecomment-345382764",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10004"
    },
    {
      "event": "mentioned",
      "id": 1348044838,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM0ODA0NDgzOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1348044838",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-17T22:26:34Z"
    },
    {
      "event": "subscribed",
      "id": 1348044839,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzNDgwNDQ4Mzk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1348044839",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-17T22:26:34Z"
    },
    {
      "event": "commented",
      "id": 345383285,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTM4MzI4NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345383285",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-17T22:29:08Z",
      "updated_at": "2017-11-17T22:29:08Z",
      "author_association": "MEMBER",
      "body": "64 is the error code.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/10004#issuecomment-345383285",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10004"
    },
    {
      "event": "commented",
      "id": 345387402,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTM4NzQwMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345387402",
      "actor": {
        "login": "nopara73",
        "id": 9156103,
        "node_id": "MDQ6VXNlcjkxNTYxMDM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9156103?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nopara73",
        "html_url": "https://github.com/nopara73",
        "followers_url": "https://api.github.com/users/nopara73/followers",
        "following_url": "https://api.github.com/users/nopara73/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nopara73/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nopara73/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nopara73/subscriptions",
        "organizations_url": "https://api.github.com/users/nopara73/orgs",
        "repos_url": "https://api.github.com/users/nopara73/repos",
        "events_url": "https://api.github.com/users/nopara73/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nopara73/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-17T22:52:19Z",
      "updated_at": "2017-11-17T22:52:19Z",
      "author_association": "NONE",
      "body": "> 64 is the error code.  \r\n\r\nThanks. That explains why the error message on my GUI had less than 64 transaction ids in it.",
      "user": {
        "login": "nopara73",
        "id": 9156103,
        "node_id": "MDQ6VXNlcjkxNTYxMDM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9156103?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nopara73",
        "html_url": "https://github.com/nopara73",
        "followers_url": "https://api.github.com/users/nopara73/followers",
        "following_url": "https://api.github.com/users/nopara73/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nopara73/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nopara73/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nopara73/subscriptions",
        "organizations_url": "https://api.github.com/users/nopara73/orgs",
        "repos_url": "https://api.github.com/users/nopara73/repos",
        "events_url": "https://api.github.com/users/nopara73/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nopara73/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/10004#issuecomment-345387402",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10004"
    },
    {
      "event": "commented",
      "id": 347281958,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM0NzI4MTk1OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/347281958",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-27T18:40:30Z",
      "updated_at": "2017-11-27T18:40:30Z",
      "author_association": "MEMBER",
      "body": "Linking to the relevant line in the code for reference: https://github.com/bitcoin/bitcoin/blob/a89221873a3ee2451c73b41bbe2d99d36f439d31/src/wallet/wallet.cpp#L3036-L3042",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/10004#issuecomment-347281958",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10004"
    },
    {
      "event": "commented",
      "id": 379364753,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM3OTM2NDc1Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/379364753",
      "actor": {
        "login": "smartwombat",
        "id": 8438931,
        "node_id": "MDQ6VXNlcjg0Mzg5MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8438931?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/smartwombat",
        "html_url": "https://github.com/smartwombat",
        "followers_url": "https://api.github.com/users/smartwombat/followers",
        "following_url": "https://api.github.com/users/smartwombat/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/smartwombat/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/smartwombat/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/smartwombat/subscriptions",
        "organizations_url": "https://api.github.com/users/smartwombat/orgs",
        "repos_url": "https://api.github.com/users/smartwombat/repos",
        "events_url": "https://api.github.com/users/smartwombat/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/smartwombat/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-04-06T20:14:24Z",
      "updated_at": "2018-04-06T20:14:24Z",
      "author_association": "NONE",
      "body": "Is there a solution using **LockUnspent** ?\r\n\r\nGenerate _24_ transactions with **SendToAddress**\r\nUsing TXID of the 24th transaction\r\n **GetRawTransaction txid, true** (or 1 if version before 0.14.0)\r\n - examine the _vout:_ array; in our case there should only be two, the spend and the change\r\n - find the vout: for the change\r\n\tthe amount is != the amount spent\r\n\tthe address is != the address the spend was to\r\n**LockUnspent false, txid, vout**\r\n - lock that vout: so it can not be used as the UTXO for any further spend.\r\n\r\nLather, rinse, repeat.\r\n\r\nSeems to me a lot simpler than loading amounts into multiple addresses, using the deprecated Account feature to identify them, and then SetAccount every group of 24 to force the wallet to move onto a different (confirmed) UTXO so that a new chain will be built.\r\n\r\n**Will this approach work ?**",
      "user": {
        "login": "smartwombat",
        "id": 8438931,
        "node_id": "MDQ6VXNlcjg0Mzg5MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8438931?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/smartwombat",
        "html_url": "https://github.com/smartwombat",
        "followers_url": "https://api.github.com/users/smartwombat/followers",
        "following_url": "https://api.github.com/users/smartwombat/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/smartwombat/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/smartwombat/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/smartwombat/subscriptions",
        "organizations_url": "https://api.github.com/users/smartwombat/orgs",
        "repos_url": "https://api.github.com/users/smartwombat/repos",
        "events_url": "https://api.github.com/users/smartwombat/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/smartwombat/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/10004#issuecomment-379364753",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10004"
    },
    {
      "event": "commented",
      "id": 379395793,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM3OTM5NTc5Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/379395793",
      "actor": {
        "login": "YankeyTech",
        "id": 36565894,
        "node_id": "MDQ6VXNlcjM2NTY1ODk0",
        "avatar_url": "https://avatars.githubusercontent.com/u/36565894?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/YankeyTech",
        "html_url": "https://github.com/YankeyTech",
        "followers_url": "https://api.github.com/users/YankeyTech/followers",
        "following_url": "https://api.github.com/users/YankeyTech/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/YankeyTech/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/YankeyTech/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/YankeyTech/subscriptions",
        "organizations_url": "https://api.github.com/users/YankeyTech/orgs",
        "repos_url": "https://api.github.com/users/YankeyTech/repos",
        "events_url": "https://api.github.com/users/YankeyTech/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/YankeyTech/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-04-06T21:57:59Z",
      "updated_at": "2018-04-06T21:57:59Z",
      "author_association": "NONE",
      "body": "Stop\nOn Apr 6, 2018 8:15 PM, \"smartwombat\" <notifications@github.com> wrote:\n\n> Is there a solution using *LockUnspent* ?\n>\n> Generate *24* transactions with *SendToAddress*\n> Using TXID of the 24th transaction\n> *GetRawTransaction txid, true* (or 1 if version before 0.14.0)\n>\n>    - examine the *vout:* array; in our case there should only be two, the\n>    spend and the change\n>    - find the vout: for the change\n>    the amount is != the amount spent\n>    the address is != the address the spend was to\n>    *LockUnspent false, txid, vout*\n>    - lock that vout: so it can not be used as the UTXO for any further\n>    spend.\n>\n> Lather, rinse, repeat.\n>\n> Seems to me a lot simpler than loading amounts into multiple addresses,\n> using the deprecated Account feature to identify them, and then SetAccount\n> every group of 24 to force the wallet to move onto a different (confirmed)\n> UTXO so that a new chain will be built.\n>\n> *Will this approach work ?*\n>\n> —\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/bitcoin/bitcoin/issues/10004#issuecomment-379364753>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/Ai3zhr9OqGO9n6GsIrtGPaI0xTDz86xcks5tl8zngaJpZM4Mee-O>\n> .\n>\n",
      "user": {
        "login": "YankeyTech",
        "id": 36565894,
        "node_id": "MDQ6VXNlcjM2NTY1ODk0",
        "avatar_url": "https://avatars.githubusercontent.com/u/36565894?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/YankeyTech",
        "html_url": "https://github.com/YankeyTech",
        "followers_url": "https://api.github.com/users/YankeyTech/followers",
        "following_url": "https://api.github.com/users/YankeyTech/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/YankeyTech/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/YankeyTech/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/YankeyTech/subscriptions",
        "organizations_url": "https://api.github.com/users/YankeyTech/orgs",
        "repos_url": "https://api.github.com/users/YankeyTech/repos",
        "events_url": "https://api.github.com/users/YankeyTech/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/YankeyTech/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/10004#issuecomment-379395793",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10004"
    },
    {
      "event": "commented",
      "id": 410464903,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQxMDQ2NDkwMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/410464903",
      "actor": {
        "login": "xcelr",
        "id": 40376085,
        "node_id": "MDQ6VXNlcjQwMzc2MDg1",
        "avatar_url": "https://avatars.githubusercontent.com/u/40376085?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/xcelr",
        "html_url": "https://github.com/xcelr",
        "followers_url": "https://api.github.com/users/xcelr/followers",
        "following_url": "https://api.github.com/users/xcelr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/xcelr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/xcelr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/xcelr/subscriptions",
        "organizations_url": "https://api.github.com/users/xcelr/orgs",
        "repos_url": "https://api.github.com/users/xcelr/repos",
        "events_url": "https://api.github.com/users/xcelr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/xcelr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-08-04T17:26:42Z",
      "updated_at": "2018-08-04T17:26:42Z",
      "author_association": "NONE",
      "body": "CommitTransaction(): Transaction cannot be broadcast immediately, no-witness-yet  anyone else getting this error",
      "user": {
        "login": "xcelr",
        "id": 40376085,
        "node_id": "MDQ6VXNlcjQwMzc2MDg1",
        "avatar_url": "https://avatars.githubusercontent.com/u/40376085?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/xcelr",
        "html_url": "https://github.com/xcelr",
        "followers_url": "https://api.github.com/users/xcelr/followers",
        "following_url": "https://api.github.com/users/xcelr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/xcelr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/xcelr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/xcelr/subscriptions",
        "organizations_url": "https://api.github.com/users/xcelr/orgs",
        "repos_url": "https://api.github.com/users/xcelr/repos",
        "events_url": "https://api.github.com/users/xcelr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/xcelr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/10004#issuecomment-410464903",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10004"
    },
    {
      "event": "commented",
      "id": 557814109,
      "node_id": "MDEyOklzc3VlQ29tbWVudDU1NzgxNDEwOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557814109",
      "actor": {
        "login": "MrCryptoBillionaire",
        "id": 50752737,
        "node_id": "MDQ6VXNlcjUwNzUyNzM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/50752737?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MrCryptoBillionaire",
        "html_url": "https://github.com/MrCryptoBillionaire",
        "followers_url": "https://api.github.com/users/MrCryptoBillionaire/followers",
        "following_url": "https://api.github.com/users/MrCryptoBillionaire/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MrCryptoBillionaire/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MrCryptoBillionaire/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MrCryptoBillionaire/subscriptions",
        "organizations_url": "https://api.github.com/users/MrCryptoBillionaire/orgs",
        "repos_url": "https://api.github.com/users/MrCryptoBillionaire/repos",
        "events_url": "https://api.github.com/users/MrCryptoBillionaire/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MrCryptoBillionaire/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-11-23T16:54:09Z",
      "updated_at": "2019-11-23T16:54:09Z",
      "author_association": "NONE",
      "body": "My question is how to catch this relays from my api service automatically?",
      "user": {
        "login": "MrCryptoBillionaire",
        "id": 50752737,
        "node_id": "MDQ6VXNlcjUwNzUyNzM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/50752737?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MrCryptoBillionaire",
        "html_url": "https://github.com/MrCryptoBillionaire",
        "followers_url": "https://api.github.com/users/MrCryptoBillionaire/followers",
        "following_url": "https://api.github.com/users/MrCryptoBillionaire/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MrCryptoBillionaire/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MrCryptoBillionaire/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MrCryptoBillionaire/subscriptions",
        "organizations_url": "https://api.github.com/users/MrCryptoBillionaire/orgs",
        "repos_url": "https://api.github.com/users/MrCryptoBillionaire/repos",
        "events_url": "https://api.github.com/users/MrCryptoBillionaire/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MrCryptoBillionaire/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/10004#issuecomment-557814109",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10004"
    },
    {
      "event": "referenced",
      "id": 6308463131,
      "node_id": "REFE_lADOABII584MyT_VzwAAAAF4A4Ib",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6308463131",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "f66c827c2d7dcce2021a7913caf5f14dca37e35a",
      "commit_url": "https://api.github.com/repos/MarcoFalke/b-c/commits/f66c827c2d7dcce2021a7913caf5f14dca37e35a",
      "created_at": "2022-03-25T16:17:55Z"
    },
    {
      "event": "closed",
      "id": 6308463229,
      "node_id": "CE_lADOABII584MyT_VzwAAAAF4A4J9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6308463229",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "f66c827c2d7dcce2021a7913caf5f14dca37e35a",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f66c827c2d7dcce2021a7913caf5f14dca37e35a",
      "created_at": "2022-03-25T16:17:56Z"
    },
    {
      "event": "referenced",
      "id": 6357122039,
      "node_id": "REFE_lADOABII584MyT_VzwAAAAF66fv3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6357122039",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "92432625cec0ad48c3065d6c187aa14ee66c8f6b",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/92432625cec0ad48c3065d6c187aa14ee66c8f6b",
      "created_at": "2022-04-02T16:12:43Z"
    },
    {
      "event": "locked",
      "id": 8845108377,
      "node_id": "LOE_lADOABII584MyT_VzwAAAAIPNaSZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8845108377",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-25T10:21:04Z"
    }
  ]
}