{
  "type": "issue",
  "issue": {
    "id": 340071365,
    "node_id": "MDU6SXNzdWUzNDAwNzEzNjU=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13629",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13629/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13629/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13629/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/13629",
    "number": 13629,
    "state": "closed",
    "state_reason": "completed",
    "title": "CURL and bitcoin-cli  return different balances",
    "body": "I'm using bitcoin 0.16.1 on a centos7 server\r\n\r\nI'm trying to get the balance using rpc\r\n\r\nThe bitcoin.conf file is as follows:\r\n\r\n\r\n```\r\ntestnet=1\r\nmaxconnections=20\r\nserver=1\r\nrest=1\r\nrpcauth=btxxxxxxxo:xxxxxxxxxxx\r\nrpcport=8332\r\nkeypool=150\r\nprune=0\r\n```\r\nThe problem arises when I want to check the balance of an address with curl.\r\n```curl -v -u bxxxxxo:TBcxxxxxxxxs --data-binary '{\"jsonrpc\": \"2.0\", \"method\":\"getbalance\",\"params\":[\"2N1vKxxxxxxxxxasdasdasdasdgG\"],\"id\":3}' -H 'content-type: text/plain;' http://192.168.100.25:8332/```\r\n\r\nresult:\r\n```\r\n* About to connect() to 192.168.100.25 port 8332 (#0)\r\n*   Trying 192.168.100.25...\r\n* Connected to 192.168.100.25 (192.168.100.25) port 8332 (#0)\r\n* Server auth using Basic with user 'btxxxxxxdo'\r\n> POST / HTTP/1.1\r\n> Authorization: Basic YnRjbxxxxxxxxxxGRKxxxxxQ==\r\n> User-Agent: curl/7.29.0\r\n> Host: 192.168.100.25:8332\r\n> Accept: */*\r\n> content-type: text/plain;\r\n> Content-Length: 105\r\n>\r\n* upload completely sent off: 105 out of 105 bytes\r\n< HTTP/1.1 200 OK\r\n< Content-Type: application/json\r\n< Date: Wed, 11 Jul 2018 02:41:38 GMT\r\n< Content-Length: 42\r\n<\r\n{\"result\":0.00000000,\"error\":null,\"id\":3}\r\n* Connection #0 to host 192.168.100.25 left intact\r\n```\r\nbut if I consult the same bitcoin address with bitcoin-cli I get the real balance of the account.\r\n\r\nwhat am I doing wrong?\r\nwhy do I get zero balance with rpc and with cli everything works fine?",
    "user": {
      "login": "LaThortilla",
      "id": 28740270,
      "node_id": "MDQ6VXNlcjI4NzQwMjcw",
      "avatar_url": "https://avatars.githubusercontent.com/u/28740270?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LaThortilla",
      "html_url": "https://github.com/LaThortilla",
      "followers_url": "https://api.github.com/users/LaThortilla/followers",
      "following_url": "https://api.github.com/users/LaThortilla/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/LaThortilla/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/LaThortilla/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/LaThortilla/subscriptions",
      "organizations_url": "https://api.github.com/users/LaThortilla/orgs",
      "repos_url": "https://api.github.com/users/LaThortilla/repos",
      "events_url": "https://api.github.com/users/LaThortilla/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/LaThortilla/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "assignees": [],
    "author_association": "NONE",
    "locked": true,
    "active_lock_reason": "resolved",
    "comments": 1,
    "closed_at": "2018-07-11T13:36:40Z",
    "created_at": "2018-07-11T02:42:19Z",
    "updated_at": "2021-09-08T12:30:18Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 404050759,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDA1MDc1OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/404050759",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-07-11T05:37:30Z",
      "updated_at": "2018-07-11T05:37:30Z",
      "author_association": "MEMBER",
      "body": "First of all, `getbalance` does not give you the balance of an address. \r\n\r\nWhat exactly is the bitcoin-cli command that you are using?",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/13629#issuecomment-404050759",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13629"
    },
    {
      "event": "closed",
      "id": 1727949436,
      "node_id": "MDExOkNsb3NlZEV2ZW50MTcyNzk0OTQzNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1727949436",
      "actor": {
        "login": "LaThortilla",
        "id": 28740270,
        "node_id": "MDQ6VXNlcjI4NzQwMjcw",
        "avatar_url": "https://avatars.githubusercontent.com/u/28740270?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LaThortilla",
        "html_url": "https://github.com/LaThortilla",
        "followers_url": "https://api.github.com/users/LaThortilla/followers",
        "following_url": "https://api.github.com/users/LaThortilla/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LaThortilla/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LaThortilla/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LaThortilla/subscriptions",
        "organizations_url": "https://api.github.com/users/LaThortilla/orgs",
        "repos_url": "https://api.github.com/users/LaThortilla/repos",
        "events_url": "https://api.github.com/users/LaThortilla/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LaThortilla/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-07-11T13:36:40Z"
    },
    {
      "event": "locked",
      "id": 5271991179,
      "node_id": "LOE_lADOABII584URRPFzwAAAAE6PDOL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5271991179",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-08T12:30:18Z",
      "lock_reason": "resolved"
    }
  ]
}