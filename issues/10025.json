{
  "type": "issue",
  "issue": {
    "id": 215155190,
    "node_id": "MDU6SXNzdWUyMTUxNTUxOTA=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10025",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10025/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10025/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10025/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/10025",
    "number": 10025,
    "state": "closed",
    "state_reason": "completed",
    "title": "0.14.0 long shutdown delay, due to onion listening (but not running tor)",
    "body": "After having run bitcoin-qt 0.14.0 for a while on Windows 10 64-bit (it needs to have run the node for a number of hours to reproduce) I closed bitcoin-qt. The \"do not shutdown computer\" message stayed up for almost two hours before it finally closed. \r\n\r\nI have been experiencing this issue consistently, and this delay has lasted even longer in prior instances (i.e. lasting for many more hours). The delay seems to be proportional to how long bitcoin-qt has been running. See below an example debug.log after closing bitcoin-qt this particular time. \r\n\r\n2017-03-16 22:03:23 tor: Thread interrupt\r\n2017-03-16 22:03:23 addcon thread exit\r\n2017-03-16 22:03:23 opencon thread exit\r\n2017-03-16 22:03:23 scheduler thread interrupt\r\n2017-03-16 22:03:23 Shutdown: In progress...\r\n2017-03-16 22:03:23 msghand thread exit\r\n2017-03-16 22:03:23 net thread exit\r\n2017-03-16 23:56:07 torcontrol thread exit\r\n2017-03-16 23:56:14 Dumped mempool: 0.031193s to copy, 6.97686s to dump\r\n2017-03-16 23:56:23 Shutdown: done\r\n\r\nTake note of the torcontrol thread not closing until almost 2 hours later. I'm not sure if this is just a coincidence or actually caused by the torcontrol thread taking forever to close, but at least it's a start. I am not running tor, but I realize that, by default, Bitcoin Core now listens for onion routing. I suspect that turning off onion listening would work around this bug (listenonion=0), but I haven't confirmed this yet (would take a while to test). In the meantime, I will let bitcoin-qt run again for a number of hours with listenonion=1 and debug=tor to see if anything more interesting appears in the log after an extended period of time.\r\n\r\nFor reference, all default settings are being used for this node, except I have maxuploadtarget set to 144.  \r\n\r\nOther possibly unique variables to consider with this node are:\r\n\r\n1.) I happen to have purposely banned a good number of non-Bitcoin Core peers, one by one, manually for a year over the past year. Not sure if this could interfere in any way.\r\n\r\n2.) While datadir is set to the default, the actual default directory in Windows is set up as a symbolic link, pointing to a directory on a USB 3.0 external drive. I don't know how this would interfere with closing a torcontrol thread, but I just thought I'd mention it to cover all bases.",
    "user": {
      "login": "mmortal03",
      "id": 8298277,
      "node_id": "MDQ6VXNlcjgyOTgyNzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8298277?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mmortal03",
      "html_url": "https://github.com/mmortal03",
      "followers_url": "https://api.github.com/users/mmortal03/followers",
      "following_url": "https://api.github.com/users/mmortal03/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/mmortal03/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/mmortal03/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/mmortal03/subscriptions",
      "organizations_url": "https://api.github.com/users/mmortal03/orgs",
      "repos_url": "https://api.github.com/users/mmortal03/repos",
      "events_url": "https://api.github.com/users/mmortal03/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/mmortal03/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 98298007,
        "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
        "name": "P2P",
        "color": "006b75",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "NONE",
    "locked": true,
    "active_lock_reason": "resolved",
    "comments": 13,
    "closed_at": "2020-04-27T00:30:57Z",
    "created_at": "2017-03-18T01:03:50Z",
    "updated_at": "2022-02-15T10:46:48Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 287505747,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzUwNTc0Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/287505747",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-18T01:11:14Z",
      "updated_at": "2017-03-18T01:11:14Z",
      "author_association": "MEMBER",
      "body": "Can you run with -debug and try again? More things should be written to debug.log. I suspect that the tor control thread doesn't actually have anything to do with it, but it is the first thing that is reported.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/10025#issuecomment-287505747",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10025"
    },
    {
      "event": "commented",
      "id": 287524815,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzUyNDgxNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/287524815",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-18T08:16:05Z",
      "updated_at": "2017-03-18T08:16:05Z",
      "author_association": "MEMBER",
      "body": "> I suspect that turning off onion listening would work around this bug (listenonion=0), but I haven't confirmed this yet (would take a while to test)\r\n\r\nThis would be a good next thing to test, to either rule it out or narrow down the issue.\r\n\r\nI find it really strange that the torcontrol thread would hang if there is no Tor running. Do you perhaps have anything else listening on Tor's default control port 9051?\r\n\r\n(even then I'd find it unlikely because torcontrol is supposed to just slam the control connection shut when terminating, it shouldn't try to wait for anything)\r\n",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/10025#issuecomment-287524815",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10025"
    },
    {
      "event": "commented",
      "id": 287531873,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzUzMTg3Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/287531873",
      "actor": {
        "login": "mmortal03",
        "id": 8298277,
        "node_id": "MDQ6VXNlcjgyOTgyNzc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8298277?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mmortal03",
        "html_url": "https://github.com/mmortal03",
        "followers_url": "https://api.github.com/users/mmortal03/followers",
        "following_url": "https://api.github.com/users/mmortal03/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mmortal03/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mmortal03/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mmortal03/subscriptions",
        "organizations_url": "https://api.github.com/users/mmortal03/orgs",
        "repos_url": "https://api.github.com/users/mmortal03/repos",
        "events_url": "https://api.github.com/users/mmortal03/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mmortal03/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-18T10:05:10Z",
      "updated_at": "2017-03-18T10:06:24Z",
      "author_association": "NONE",
      "body": "> Can you run with -debug and try again? More things should be written to debug.log. I suspect that the tor control thread doesn't actually have anything to do with it, but it is the first thing that is reported.\r\n\r\nYep, will do. I've got to run it for a while to reproduce, so I'll post the full -debug tomorrow. \r\n\r\nFor now, here it is with debug=tor (it took almost three hours for it to close this time):\r\n\r\n2017-03-18 07:09:17 tor: Thread interrupt\r\n2017-03-18 07:09:17 GUI: QItemSelectionModel: Selecting when no model has been set will result in a no-op.\r\n2017-03-18 07:09:17 GUI: QItemSelectionModel: Selecting when no model has been set will result in a no-op.\r\n2017-03-18 07:09:17 GUI: QItemSelectionModel: Selecting when no model has been set will result in a no-op.\r\n2017-03-18 07:09:17 opencon thread exit\r\n2017-03-18 07:09:17 addcon thread exit\r\n2017-03-18 07:09:17 scheduler thread interrupt\r\n2017-03-18 07:09:17 Shutdown: In progress...\r\n2017-03-18 07:09:17 msghand thread exit\r\n2017-03-18 07:09:17 net thread exit\r\n2017-03-18 09:52:18 torcontrol thread exit\r\n2017-03-18 09:52:20 Dumped mempool: 0.015521s to copy, 1.46903s to dump\r\n2017-03-18 09:52:27 Shutdown: done ",
      "user": {
        "login": "mmortal03",
        "id": 8298277,
        "node_id": "MDQ6VXNlcjgyOTgyNzc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8298277?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mmortal03",
        "html_url": "https://github.com/mmortal03",
        "followers_url": "https://api.github.com/users/mmortal03/followers",
        "following_url": "https://api.github.com/users/mmortal03/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mmortal03/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mmortal03/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mmortal03/subscriptions",
        "organizations_url": "https://api.github.com/users/mmortal03/orgs",
        "repos_url": "https://api.github.com/users/mmortal03/repos",
        "events_url": "https://api.github.com/users/mmortal03/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mmortal03/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/10025#issuecomment-287531873",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10025"
    },
    {
      "event": "commented",
      "id": 287533341,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzUzMzM0MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/287533341",
      "actor": {
        "login": "mmortal03",
        "id": 8298277,
        "node_id": "MDQ6VXNlcjgyOTgyNzc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8298277?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mmortal03",
        "html_url": "https://github.com/mmortal03",
        "followers_url": "https://api.github.com/users/mmortal03/followers",
        "following_url": "https://api.github.com/users/mmortal03/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mmortal03/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mmortal03/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mmortal03/subscriptions",
        "organizations_url": "https://api.github.com/users/mmortal03/orgs",
        "repos_url": "https://api.github.com/users/mmortal03/repos",
        "events_url": "https://api.github.com/users/mmortal03/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mmortal03/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-18T10:25:09Z",
      "updated_at": "2017-03-18T10:25:09Z",
      "author_association": "NONE",
      "body": "> This would be a good next thing to test, to either rule it out or narrow down the issue. \r\n\r\nYeah, tomorrow I will run it with listenonion=0 for an extended period of time to see. Before I do that, let me first produce the full debug log for sipa with listenonion=1.\r\n\r\n> I find it really strange that the torcontrol thread would hang if there is no Tor running. Do you perhaps have anything else listening on Tor's default control port 9051?\r\n\r\nNope, not that I know of. I just ran an nmap scan of ports 1-10000, and that port is not open.",
      "user": {
        "login": "mmortal03",
        "id": 8298277,
        "node_id": "MDQ6VXNlcjgyOTgyNzc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8298277?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mmortal03",
        "html_url": "https://github.com/mmortal03",
        "followers_url": "https://api.github.com/users/mmortal03/followers",
        "following_url": "https://api.github.com/users/mmortal03/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mmortal03/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mmortal03/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mmortal03/subscriptions",
        "organizations_url": "https://api.github.com/users/mmortal03/orgs",
        "repos_url": "https://api.github.com/users/mmortal03/repos",
        "events_url": "https://api.github.com/users/mmortal03/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mmortal03/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/10025#issuecomment-287533341",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10025"
    },
    {
      "event": "commented",
      "id": 287534084,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzUzNDA4NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/287534084",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-18T10:35:42Z",
      "updated_at": "2017-03-18T10:35:42Z",
      "author_association": "MEMBER",
      "body": "> Nope, not that I know of. I just ran an nmap scan of ports 1-10000, and that port is not open.\r\n\r\nIs the port perhaps firewalled? If you connect to `127.0.0.1:9051` (say, with telnet), do you get connection refused or does it hang?\r\n",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/10025#issuecomment-287534084",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10025"
    },
    {
      "event": "commented",
      "id": 287535511,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzUzNTUxMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/287535511",
      "actor": {
        "login": "mmortal03",
        "id": 8298277,
        "node_id": "MDQ6VXNlcjgyOTgyNzc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8298277?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mmortal03",
        "html_url": "https://github.com/mmortal03",
        "followers_url": "https://api.github.com/users/mmortal03/followers",
        "following_url": "https://api.github.com/users/mmortal03/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mmortal03/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mmortal03/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mmortal03/subscriptions",
        "organizations_url": "https://api.github.com/users/mmortal03/orgs",
        "repos_url": "https://api.github.com/users/mmortal03/repos",
        "events_url": "https://api.github.com/users/mmortal03/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mmortal03/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-18T10:55:35Z",
      "updated_at": "2017-03-18T10:55:43Z",
      "author_association": "NONE",
      "body": "> Is the port perhaps firewalled?\r\n\r\nYeah, Windows Firewall should be blocking it by default. I just checked, and there are no rules specific to 9051 inbound or outbound. \r\n\r\n> If you connect to 127.0.0.1:9051 (say, with telnet), do you get connection refused or does it hang?\r\n\r\nOn the local machine, telnet gives me: \"Could not open connection to the host, on port 9051: Connect failed\"\r\n\r\nI also tried to telnet into that port from another machine on the network to the machine's IP address, and got the same thing: \"Could not open connection to the host, on port 9051: Connect failed\"",
      "user": {
        "login": "mmortal03",
        "id": 8298277,
        "node_id": "MDQ6VXNlcjgyOTgyNzc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8298277?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mmortal03",
        "html_url": "https://github.com/mmortal03",
        "followers_url": "https://api.github.com/users/mmortal03/followers",
        "following_url": "https://api.github.com/users/mmortal03/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mmortal03/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mmortal03/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mmortal03/subscriptions",
        "organizations_url": "https://api.github.com/users/mmortal03/orgs",
        "repos_url": "https://api.github.com/users/mmortal03/repos",
        "events_url": "https://api.github.com/users/mmortal03/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mmortal03/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/10025#issuecomment-287535511",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10025"
    },
    {
      "event": "commented",
      "id": 287536750,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzUzNjc1MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/287536750",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-18T11:14:35Z",
      "updated_at": "2017-03-18T11:14:35Z",
      "author_association": "MEMBER",
      "body": "OK it's not timing out on that at least, then.",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/10025#issuecomment-287536750",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10025"
    },
    {
      "event": "commented",
      "id": 287537153,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzUzNzE1Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/287537153",
      "actor": {
        "login": "mmortal03",
        "id": 8298277,
        "node_id": "MDQ6VXNlcjgyOTgyNzc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8298277?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mmortal03",
        "html_url": "https://github.com/mmortal03",
        "followers_url": "https://api.github.com/users/mmortal03/followers",
        "following_url": "https://api.github.com/users/mmortal03/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mmortal03/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mmortal03/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mmortal03/subscriptions",
        "organizations_url": "https://api.github.com/users/mmortal03/orgs",
        "repos_url": "https://api.github.com/users/mmortal03/repos",
        "events_url": "https://api.github.com/users/mmortal03/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mmortal03/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-18T11:19:59Z",
      "updated_at": "2017-03-18T11:19:59Z",
      "author_association": "NONE",
      "body": "Correct.",
      "user": {
        "login": "mmortal03",
        "id": 8298277,
        "node_id": "MDQ6VXNlcjgyOTgyNzc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8298277?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mmortal03",
        "html_url": "https://github.com/mmortal03",
        "followers_url": "https://api.github.com/users/mmortal03/followers",
        "following_url": "https://api.github.com/users/mmortal03/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mmortal03/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mmortal03/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mmortal03/subscriptions",
        "organizations_url": "https://api.github.com/users/mmortal03/orgs",
        "repos_url": "https://api.github.com/users/mmortal03/repos",
        "events_url": "https://api.github.com/users/mmortal03/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mmortal03/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/10025#issuecomment-287537153",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10025"
    },
    {
      "event": "commented",
      "id": 287558991,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzU1ODk5MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/287558991",
      "actor": {
        "login": "mmortal03",
        "id": 8298277,
        "node_id": "MDQ6VXNlcjgyOTgyNzc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8298277?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mmortal03",
        "html_url": "https://github.com/mmortal03",
        "followers_url": "https://api.github.com/users/mmortal03/followers",
        "following_url": "https://api.github.com/users/mmortal03/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mmortal03/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mmortal03/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mmortal03/subscriptions",
        "organizations_url": "https://api.github.com/users/mmortal03/orgs",
        "repos_url": "https://api.github.com/users/mmortal03/repos",
        "events_url": "https://api.github.com/users/mmortal03/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mmortal03/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-18T16:54:32Z",
      "updated_at": "2017-03-18T16:54:32Z",
      "author_association": "NONE",
      "body": "@sipa , here is the requested portion of the debug.log with listenonion=1 and debug=1. Not much more to go on, it seems. This time it took an hour and 20 minutes to shutdown. Next up, I will run it again for an extended period of time with listenonion=0 and debug=1, and see how long it takes to shutdown.\r\n\r\n2017-03-18 15:09:39 GUI: requestShutdown : Requesting shutdown\r\n2017-03-18 15:09:39 GUI: shutdown : Running Shutdown in thread\r\n2017-03-18 15:09:39 Interrupting HTTP server\r\n2017-03-18 15:09:39 Interrupting HTTP RPC server\r\n2017-03-18 15:09:39 Interrupting RPC\r\n2017-03-18 15:09:39 tor: Thread interrupt\r\n2017-03-18 15:09:39 opencon thread exit\r\n2017-03-18 15:09:39 addcon thread exit\r\n2017-03-18 15:09:39 scheduler thread interrupt\r\n2017-03-18 15:09:39 Shutdown: In progress...\r\n2017-03-18 15:09:39 Stopping HTTP RPC server\r\n2017-03-18 15:09:39 Stopping RPC\r\n2017-03-18 15:09:39 Stopping HTTP server\r\n2017-03-18 15:09:39 Stopped HTTP server\r\n2017-03-18 15:09:39 net thread exit\r\n2017-03-18 15:09:39 msghand thread exit\r\n2017-03-18 15:09:40 Flushed 70649 addresses to peers.dat  453ms\r\n2017-03-18 15:09:40 disconnecting peer=1\r\n2017-03-18 15:09:40 disconnecting peer=2\r\n2017-03-18 15:09:40 disconnecting peer=3\r\n2017-03-18 15:09:40 disconnecting peer=4\r\n2017-03-18 15:09:40 disconnecting peer=12\r\n2017-03-18 15:09:40 disconnecting peer=13\r\n2017-03-18 15:09:40 disconnecting peer=36\r\n2017-03-18 15:09:40 disconnecting peer=44\r\n2017-03-18 16:29:06 torcontrol thread exit\r\n2017-03-18 16:29:11 Dumped mempool: 0.046704s to copy, 5.39117s to dump\r\n2017-03-18 16:29:14 Committing 87908 changed transactions (out of 111146) to coin database...\r\n2017-03-18 16:29:18 Shutdown: done\r\n2017-03-18 16:29:18 GUI: shutdown : Shutdown finished\r\n2017-03-18 16:29:18 GUI: ~BitcoinApplication : Stopping thread\r\n2017-03-18 16:29:18 GUI: ~BitcoinApplication : Stopped thread\r\n",
      "user": {
        "login": "mmortal03",
        "id": 8298277,
        "node_id": "MDQ6VXNlcjgyOTgyNzc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8298277?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mmortal03",
        "html_url": "https://github.com/mmortal03",
        "followers_url": "https://api.github.com/users/mmortal03/followers",
        "following_url": "https://api.github.com/users/mmortal03/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mmortal03/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mmortal03/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mmortal03/subscriptions",
        "organizations_url": "https://api.github.com/users/mmortal03/orgs",
        "repos_url": "https://api.github.com/users/mmortal03/repos",
        "events_url": "https://api.github.com/users/mmortal03/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mmortal03/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/10025#issuecomment-287558991",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10025"
    },
    {
      "event": "mentioned",
      "id": 1005587835,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTAwNTU4NzgzNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1005587835",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-18T16:54:32Z"
    },
    {
      "event": "subscribed",
      "id": 1005587836,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEwMDU1ODc4MzY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1005587836",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-18T16:54:32Z"
    },
    {
      "event": "commented",
      "id": 287593754,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzU5Mzc1NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/287593754",
      "actor": {
        "login": "mmortal03",
        "id": 8298277,
        "node_id": "MDQ6VXNlcjgyOTgyNzc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8298277?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mmortal03",
        "html_url": "https://github.com/mmortal03",
        "followers_url": "https://api.github.com/users/mmortal03/followers",
        "following_url": "https://api.github.com/users/mmortal03/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mmortal03/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mmortal03/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mmortal03/subscriptions",
        "organizations_url": "https://api.github.com/users/mmortal03/orgs",
        "repos_url": "https://api.github.com/users/mmortal03/repos",
        "events_url": "https://api.github.com/users/mmortal03/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mmortal03/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-19T04:31:26Z",
      "updated_at": "2017-03-19T04:31:26Z",
      "author_association": "NONE",
      "body": "I just finished testing it with listenonion=0, ran the node for 12 hours, requested shutdown, and shutdown happened almost immediately -- so disabling listenonion *does* seem to solve the problem. Here's the log:\r\n\r\n2017-03-19 04:22:08 GUI: requestShutdown : Requesting shutdown\r\n2017-03-19 04:22:08 GUI: shutdown : Running Shutdown in thread\r\n2017-03-19 04:22:08 Interrupting HTTP server\r\n2017-03-19 04:22:08 Interrupting HTTP RPC server\r\n2017-03-19 04:22:08 Interrupting RPC\r\n2017-03-19 04:22:08 opencon thread exit\r\n2017-03-19 04:22:08 addcon thread exit\r\n2017-03-19 04:22:08 scheduler thread interrupt\r\n2017-03-19 04:22:08 Shutdown: In progress...\r\n2017-03-19 04:22:08 Stopping HTTP RPC server\r\n2017-03-19 04:22:08 Stopping RPC\r\n2017-03-19 04:22:08 Stopping HTTP server\r\n2017-03-19 04:22:08 Stopped HTTP server\r\n2017-03-19 04:22:08 net thread exit\r\n2017-03-19 04:22:08 msghand thread exit\r\n2017-03-19 04:22:09 Flushed 70698 addresses to peers.dat  437ms\r\n2017-03-19 04:22:09 disconnecting peer=4\r\n2017-03-19 04:22:09 disconnecting peer=5\r\n2017-03-19 04:22:09 disconnecting peer=6\r\n2017-03-19 04:22:09 disconnecting peer=7\r\n2017-03-19 04:22:09 disconnecting peer=9\r\n2017-03-19 04:22:09 disconnecting peer=10\r\n2017-03-19 04:22:09 disconnecting peer=11\r\n2017-03-19 04:22:09 disconnecting peer=13\r\n2017-03-19 04:22:09 Erased 1 orphan tx from peer=5\r\n2017-03-19 04:22:09 Erased 3 orphan tx from peer=6\r\n2017-03-19 04:22:09 Erased 1 orphan tx from peer=7\r\n2017-03-19 04:22:09 Erased 1 orphan tx from peer=13\r\n2017-03-19 04:22:10 Dumped mempool: 0.015595s to copy, 0.859461s to dump\r\n2017-03-19 04:22:13 Committing 176691 changed transactions (out of 183909) to coin database...\r\n2017-03-19 04:22:16 Shutdown: done\r\n2017-03-19 04:22:16 GUI: shutdown : Shutdown finished\r\n2017-03-19 04:22:16 GUI: ~BitcoinApplication : Stopping thread\r\n2017-03-19 04:22:16 GUI: ~BitcoinApplication : Stopped thread",
      "user": {
        "login": "mmortal03",
        "id": 8298277,
        "node_id": "MDQ6VXNlcjgyOTgyNzc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8298277?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mmortal03",
        "html_url": "https://github.com/mmortal03",
        "followers_url": "https://api.github.com/users/mmortal03/followers",
        "following_url": "https://api.github.com/users/mmortal03/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mmortal03/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mmortal03/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mmortal03/subscriptions",
        "organizations_url": "https://api.github.com/users/mmortal03/orgs",
        "repos_url": "https://api.github.com/users/mmortal03/repos",
        "events_url": "https://api.github.com/users/mmortal03/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mmortal03/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/10025#issuecomment-287593754",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10025"
    },
    {
      "event": "labeled",
      "id": 1014208499,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDEwMTQyMDg0OTk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1014208499",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-24T12:35:38Z",
      "label": {
        "name": "P2P",
        "color": "006b75"
      }
    },
    {
      "event": "renamed",
      "id": 1015285641,
      "node_id": "MDE3OlJlbmFtZWRUaXRsZUV2ZW50MTAxNTI4NTY0MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1015285641",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-25T08:37:33Z",
      "rename": {
        "from": "0.14.0 long shutdown delay, possibly due to onion listening (but not running tor)",
        "to": "0.14.0 long shutdown delay, due to onion listening (but not running tor)"
      }
    },
    {
      "event": "commented",
      "id": 289198236,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTE5ODIzNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/289198236",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-25T08:38:19Z",
      "updated_at": "2017-03-25T08:38:19Z",
      "author_association": "MEMBER",
      "body": "That narrows it down to the onion control. Removed the 'possibly' from the PR title.",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/10025#issuecomment-289198236",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10025"
    },
    {
      "event": "commented",
      "id": 619649999,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYxOTY0OTk5OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619649999",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-27T00:30:57Z",
      "updated_at": "2020-04-27T00:30:57Z",
      "author_association": "MEMBER",
      "body": "Is this still an issue with a recent version of Bitcoin Core? If yes, what are the steps to reproduce?",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/10025#issuecomment-619649999",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10025"
    },
    {
      "event": "closed",
      "id": 3273553482,
      "node_id": "MDExOkNsb3NlZEV2ZW50MzI3MzU1MzQ4Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3273553482",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-27T00:30:57Z"
    },
    {
      "event": "commented",
      "id": 671120100,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY3MTEyMDEwMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/671120100",
      "actor": {
        "login": "bilthon",
        "id": 1840721,
        "node_id": "MDQ6VXNlcjE4NDA3MjE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1840721?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bilthon",
        "html_url": "https://github.com/bilthon",
        "followers_url": "https://api.github.com/users/bilthon/followers",
        "following_url": "https://api.github.com/users/bilthon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bilthon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bilthon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bilthon/subscriptions",
        "organizations_url": "https://api.github.com/users/bilthon/orgs",
        "repos_url": "https://api.github.com/users/bilthon/repos",
        "events_url": "https://api.github.com/users/bilthon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bilthon/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-08-10T00:23:43Z",
      "updated_at": "2020-08-10T00:28:43Z",
      "author_association": "NONE",
      "body": "I just ran unto a similar issue with v0.20.1 on Ubuntu 19.10. I don't have the tor daemon active on this machine, but the problem persists even after adding `listenonion=0` to the configuration file.\r\n\r\nI've compiled this version from source using the commit `7ff64311bee570874c4f0dfa18f518552188df08`.\r\n\r\nAnd since I keep having to kill the `bitcoind` process, it keeps restarting from height 0. Is there any other reason why this could be happening?\r\n\r\nThese are the last lines of my debug.log file after a `bitcoin-cli stop`\r\n\r\n```bash\r\n2020-08-10T00:26:28Z BlockConnected: block hash=000000002e9333b3570f69a706f78c430f06d1c08e38ded06c78a5d670908c9f block height=47812\r\n2020-08-10T00:26:28Z WriteBatch memory usage: db=txindex, before=3.4MiB, after=3.4MiB\r\n2020-08-10T00:26:28Z Requesting block 0000000008d6bce54a007efd7adaec784713dd06de5b8d4d46fec70dbaeae243 (48309) peer=10\r\n2020-08-10T00:26:28Z sending getdata (37 bytes) peer=10\r\n2020-08-10T00:26:28Z WriteBatch memory usage: db=db, before=6.4MiB, after=6.4MiB\r\n2020-08-10T00:26:28Z UpdatedBlockTip: new block hash=000000002e9333b3570f69a706f78c430f06d1c08e38ded06c78a5d670908c9f fork block hash=000000003665e4b5eb01832cf6b2aaa359b284b08cd5e10e079d5474a9ba28ad (in IBD=true)\r\n2020-08-10T00:26:28Z Interrupting HTTP server\r\n2020-08-10T00:26:28Z Interrupting HTTP RPC server\r\n2020-08-10T00:26:28Z Interrupting RPC\r\n2020-08-10T00:26:28Z Shutdown: In progress...\r\n2020-08-10T00:26:28Z addcon thread exit\r\n2020-08-10T00:26:28Z Stopping HTTP RPC server\r\n2020-08-10T00:26:28Z Unregistering HTTP handler for / (exactmatch 1)\r\n2020-08-10T00:26:28Z Unregistering HTTP handler for /wallet/ (exactmatch 0)\r\n2020-08-10T00:26:28Z Unregistering HTTP handler for /rest/tx/ (exactmatch 0)\r\n2020-08-10T00:26:28Z Unregistering HTTP handler for /rest/block/notxdetails/ (exactmatch 0)\r\n2020-08-10T00:26:28Z Unregistering HTTP handler for /rest/block/ (exactmatch 0)\r\n2020-08-10T00:26:28Z Unregistering HTTP handler for /rest/chaininfo (exactmatch 0)\r\n2020-08-10T00:26:28Z Unregistering HTTP handler for /rest/mempool/info (exactmatch 0)\r\n2020-08-10T00:26:28Z Unregistering HTTP handler for /rest/mempool/contents (exactmatch 0)\r\n2020-08-10T00:26:28Z Unregistering HTTP handler for /rest/headers/ (exactmatch 0)\r\n2020-08-10T00:26:28Z Unregistering HTTP handler for /rest/getutxos (exactmatch 0)\r\n2020-08-10T00:26:28Z Unregistering HTTP handler for /rest/blockhashbyheight/ (exactmatch 0)\r\n2020-08-10T00:26:28Z Stopping RPC\r\n2020-08-10T00:26:28Z RPC stopped.\r\n2020-08-10T00:26:28Z Stopping HTTP server\r\n2020-08-10T00:26:28Z Waiting for HTTP worker threads to exit\r\n2020-08-10T00:26:28Z libevent: event_del: 0x557149dcbf18 (fd 9), callback 0x7f2bd359b0d0\r\n2020-08-10T00:26:28Z libevent: Epoll DEL(1) on fd 9 okay. Old events were 2; read change was 2 (del); write change was 0 (none); close change was 0 (none)\r\n2020-08-10T00:26:28Z libevent: epoll_dispatch: epoll_wait reports 1\r\n2020-08-10T00:26:28Z libevent: event_active: 0x557149dcb010 (fd 8), res 2, callback 0x7f2bd358d980\r\n2020-08-10T00:26:28Z net thread exit\r\n2020-08-10T00:26:28Z libevent: event_process_active: event: 0x557149dcb010, EV_READ   call 0x7f2bd358d980\r\n2020-08-10T00:26:28Z libevent: event_del: 0x557149dcb8f8 (fd 10), callback 0x7f2bd359b0d0\r\n2020-08-10T00:26:28Z libevent: Epoll DEL(1) on fd 10 okay. Old events were 2; read change was 2 (del); write change was 0 (none); close change was 0 (none)\r\n2020-08-10T00:26:28Z Waiting for HTTP event thread to exit\r\n2020-08-10T00:26:28Z libevent: epoll_dispatch: epoll_wait reports 1\r\n2020-08-10T00:26:28Z libevent: event_active: 0x557149dcb010 (fd 8), res 2, callback 0x7f2bd358d980\r\n2020-08-10T00:26:28Z libevent: event_process_active: event: 0x557149dcb010, EV_READ   call 0x7f2bd358d980\r\n2020-08-10T00:26:28Z libevent: event_base_loop: no events registered.\r\n2020-08-10T00:26:28Z Exited http event loop\r\n2020-08-10T00:26:28Z libevent: event_del: 0x557149dcb010 (fd 8), callback 0x7f2bd358d980\r\n2020-08-10T00:26:28Z libevent: Epoll DEL(1) on fd 8 okay. Old events were 2; read change was 2 (del); write change was 0 (none); close change was 0 (none)\r\n2020-08-10T00:26:28Z Stopped HTTP server\r\n2020-08-10T00:26:28Z BerkeleyEnvironment::Flush: [/home/bilthon/.bitcoin] Flush(false)\r\n2020-08-10T00:26:28Z BerkeleyEnvironment::Flush: Flushing wallet.dat (refcount = 0)...\r\n2020-08-10T00:26:28Z BerkeleyEnvironment::Flush: wallet.dat checkpoint\r\n2020-08-10T00:26:28Z BerkeleyEnvironment::Flush: wallet.dat detach\r\n2020-08-10T00:26:29Z msghand thread exit\r\n2020-08-10T00:26:29Z BerkeleyEnvironment::Flush: wallet.dat closed\r\n2020-08-10T00:26:29Z BerkeleyEnvironment::Flush: Flush(false) took             131ms\r\n2020-08-10T00:26:30Z connection to 71.178.203.185:8333 timeout\r\n2020-08-10T00:26:30Z opencon thread exit\r\n2020-08-10T00:26:30Z Flushed 27030 addresses to peers.dat  70ms\r\n2020-08-10T00:26:30Z disconnecting peer=0\r\n2020-08-10T00:26:30Z disconnecting peer=2\r\n2020-08-10T00:26:30Z disconnecting peer=3\r\n2020-08-10T00:26:30Z disconnecting peer=4\r\n2020-08-10T00:26:30Z disconnecting peer=5\r\n2020-08-10T00:26:30Z disconnecting peer=6\r\n2020-08-10T00:26:30Z disconnecting peer=7\r\n2020-08-10T00:26:30Z disconnecting peer=8\r\n2020-08-10T00:26:30Z disconnecting peer=9\r\n2020-08-10T00:26:30Z disconnecting peer=10\r\n2020-08-10T00:26:30Z Cleared nodestate for peer=0\r\n2020-08-10T00:26:30Z Cleared nodestate for peer=2\r\n2020-08-10T00:26:30Z Cleared nodestate for peer=3\r\n2020-08-10T00:26:30Z Cleared nodestate for peer=4\r\n2020-08-10T00:26:30Z Cleared nodestate for peer=5\r\n2020-08-10T00:26:30Z Cleared nodestate for peer=6\r\n2020-08-10T00:26:30Z Cleared nodestate for peer=7\r\n2020-08-10T00:26:30Z Cleared nodestate for peer=8\r\n2020-08-10T00:26:30Z Cleared nodestate for peer=9\r\n2020-08-10T00:26:30Z Cleared nodestate for peer=10\r\n2020-08-10T00:26:30Z scheduler thread exit\r\n```",
      "user": {
        "login": "bilthon",
        "id": 1840721,
        "node_id": "MDQ6VXNlcjE4NDA3MjE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1840721?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bilthon",
        "html_url": "https://github.com/bilthon",
        "followers_url": "https://api.github.com/users/bilthon/followers",
        "following_url": "https://api.github.com/users/bilthon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bilthon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bilthon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bilthon/subscriptions",
        "organizations_url": "https://api.github.com/users/bilthon/orgs",
        "repos_url": "https://api.github.com/users/bilthon/repos",
        "events_url": "https://api.github.com/users/bilthon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bilthon/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/10025#issuecomment-671120100",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10025"
    },
    {
      "event": "locked",
      "id": 6073896163,
      "node_id": "LOE_lADOABII584M0wH2zwAAAAFqCEzj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6073896163",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-02-15T10:46:48Z",
      "lock_reason": "resolved"
    }
  ]
}