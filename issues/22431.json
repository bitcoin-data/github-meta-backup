{
  "type": "issue",
  "issue": {
    "id": 941585683,
    "node_id": "MDU6SXNzdWU5NDE1ODU2ODM=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22431",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22431/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22431/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22431/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/22431",
    "number": 22431,
    "state": "closed",
    "state_reason": "completed",
    "title": "Additional arg: \"-groupcookie\" ",
    "body": "**Is your feature request related to a problem? Please describe.**\r\n<!-- A clear and concise description of what the problem is. Ex. I'm always frustrated when [...] -->\r\nThe RPC .cookie is generated with 0600 permissions (i.e. only the user running the daemon can use the cookie).  When running bitcoind under a dedicated user and group (e.g. user = \"bitcoin\" and group = \"bitcoin\"), distinct users who are also in the \"bitcoin\" group cannot use the cookie for auth.  This forces your hand when running additional RPC client software like electrs to have it also run under the \"bitcoin\" user if you want to use cookie based authentication.  Currently the only way to alter this is to pass \"-sysperms\" but this uses the system umask for all files/dirs, not just the cookie.  The cookie permissions should be individually tweak-able.  \r\n\r\n**Describe the solution you'd like**\r\n<!-- A clear and concise description of what you want to happen. -->\r\nA \"-groupcookie\" argument could be added which generated the cookie with 0640 permissions.  This would allow distinct users added to the \"bitcoin\" group the ability to authenticate using the RPC cookie.  In turn affording more flexible, and potentially more secure, installations.\r\n\r\n**Describe alternatives you've considered**\r\n<!-- A clear and concise description of any alternative solutions or features you've considered. -->\r\nContinue to run additional RPC client software under the same user as the daemon or settle for username/password authentication.",
    "user": {
      "login": "djschnei21",
      "id": 32646250,
      "node_id": "MDQ6VXNlcjMyNjQ2MjUw",
      "avatar_url": "https://avatars.githubusercontent.com/u/32646250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/djschnei21",
      "html_url": "https://github.com/djschnei21",
      "followers_url": "https://api.github.com/users/djschnei21/followers",
      "following_url": "https://api.github.com/users/djschnei21/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/djschnei21/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/djschnei21/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/djschnei21/subscriptions",
      "organizations_url": "https://api.github.com/users/djschnei21/orgs",
      "repos_url": "https://api.github.com/users/djschnei21/repos",
      "events_url": "https://api.github.com/users/djschnei21/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/djschnei21/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 64583,
        "node_id": "MDU6TGFiZWw2NDU4Mw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Feature",
        "name": "Feature",
        "color": "7cf575",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "NONE",
    "locked": true,
    "active_lock_reason": "resolved",
    "comments": 1,
    "closed_at": "2021-07-13T14:52:51Z",
    "created_at": "2021-07-12T01:25:09Z",
    "updated_at": "2022-08-18T18:36:39Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 5004783423,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDUwMDQ3ODM0MjM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5004783423",
      "actor": {
        "login": "djschnei21",
        "id": 32646250,
        "node_id": "MDQ6VXNlcjMyNjQ2MjUw",
        "avatar_url": "https://avatars.githubusercontent.com/u/32646250?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/djschnei21",
        "html_url": "https://github.com/djschnei21",
        "followers_url": "https://api.github.com/users/djschnei21/followers",
        "following_url": "https://api.github.com/users/djschnei21/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/djschnei21/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/djschnei21/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/djschnei21/subscriptions",
        "organizations_url": "https://api.github.com/users/djschnei21/orgs",
        "repos_url": "https://api.github.com/users/djschnei21/repos",
        "events_url": "https://api.github.com/users/djschnei21/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/djschnei21/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-07-12T01:25:09Z",
      "label": {
        "name": "Feature",
        "color": "7cf575"
      }
    },
    {
      "event": "subscribed",
      "id": 5004830317,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDUwMDQ4MzAzMTc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5004830317",
      "actor": {
        "login": "djschnei21",
        "id": 32646250,
        "node_id": "MDQ6VXNlcjMyNjQ2MjUw",
        "avatar_url": "https://avatars.githubusercontent.com/u/32646250?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/djschnei21",
        "html_url": "https://github.com/djschnei21",
        "followers_url": "https://api.github.com/users/djschnei21/followers",
        "following_url": "https://api.github.com/users/djschnei21/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/djschnei21/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/djschnei21/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/djschnei21/subscriptions",
        "organizations_url": "https://api.github.com/users/djschnei21/orgs",
        "repos_url": "https://api.github.com/users/djschnei21/repos",
        "events_url": "https://api.github.com/users/djschnei21/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/djschnei21/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-07-12T01:50:48Z"
    },
    {
      "event": "commented",
      "id": 879157203,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg3OTE1NzIwMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/879157203",
      "actor": {
        "login": "djschnei21",
        "id": 32646250,
        "node_id": "MDQ6VXNlcjMyNjQ2MjUw",
        "avatar_url": "https://avatars.githubusercontent.com/u/32646250?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/djschnei21",
        "html_url": "https://github.com/djschnei21",
        "followers_url": "https://api.github.com/users/djschnei21/followers",
        "following_url": "https://api.github.com/users/djschnei21/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/djschnei21/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/djschnei21/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/djschnei21/subscriptions",
        "organizations_url": "https://api.github.com/users/djschnei21/orgs",
        "repos_url": "https://api.github.com/users/djschnei21/repos",
        "events_url": "https://api.github.com/users/djschnei21/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/djschnei21/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-07-13T14:52:40Z",
      "updated_at": "2021-07-13T14:52:40Z",
      "author_association": "NONE",
      "body": "This is less useful than I initially thought. Something like Electrs needs access to more than just the cookie. My best bet is likely to update the services umask to \"037\" and use the \"-sysperms\" flag. \n\nGoing to close this. ",
      "user": {
        "login": "djschnei21",
        "id": 32646250,
        "node_id": "MDQ6VXNlcjMyNjQ2MjUw",
        "avatar_url": "https://avatars.githubusercontent.com/u/32646250?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/djschnei21",
        "html_url": "https://github.com/djschnei21",
        "followers_url": "https://api.github.com/users/djschnei21/followers",
        "following_url": "https://api.github.com/users/djschnei21/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/djschnei21/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/djschnei21/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/djschnei21/subscriptions",
        "organizations_url": "https://api.github.com/users/djschnei21/orgs",
        "repos_url": "https://api.github.com/users/djschnei21/repos",
        "events_url": "https://api.github.com/users/djschnei21/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/djschnei21/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/22431#issuecomment-879157203",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22431"
    },
    {
      "event": "closed",
      "id": 5014444807,
      "node_id": "MDExOkNsb3NlZEV2ZW50NTAxNDQ0NDgwNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5014444807",
      "actor": {
        "login": "djschnei21",
        "id": 32646250,
        "node_id": "MDQ6VXNlcjMyNjQ2MjUw",
        "avatar_url": "https://avatars.githubusercontent.com/u/32646250?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/djschnei21",
        "html_url": "https://github.com/djschnei21",
        "followers_url": "https://api.github.com/users/djschnei21/followers",
        "following_url": "https://api.github.com/users/djschnei21/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/djschnei21/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/djschnei21/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/djschnei21/subscriptions",
        "organizations_url": "https://api.github.com/users/djschnei21/orgs",
        "repos_url": "https://api.github.com/users/djschnei21/repos",
        "events_url": "https://api.github.com/users/djschnei21/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/djschnei21/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-07-13T14:52:51Z"
    },
    {
      "event": "locked",
      "id": 7216612238,
      "node_id": "LOE_lADOABII5844H3UTzwAAAAGuJMOO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7216612238",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-18T18:36:39Z",
      "lock_reason": "resolved"
    }
  ]
}