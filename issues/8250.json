{
  "type": "issue",
  "issue": {
    "id": 161968968,
    "node_id": "MDU6SXNzdWUxNjE5Njg5Njg=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8250",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8250/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8250/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8250/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/8250",
    "number": 8250,
    "state": "closed",
    "state_reason": "completed",
    "title": "Crash on windows due to .ldb in use by another process",
    "body": "Debug log:\n\n```\n2016-06-23 16:27:58 UpdateTip: new best=00000000000000000454d56eda93480a37486215b3bd9c3442dc6feb1fe1ffa2 height=361423 version=0x00000003 log2_work=82.951749 tx=72497208 date='2015-06-18 05:03:57' progress=0.659977 cache=63.6MiB(29260tx)\n2016-06-23 16:28:09 IO error: C:\\Users\\Acer\\AppData\\Roaming\\Bitcoin\\chainstate\\324109.ldb: Het proces heeft geen toegang tot het bestand omdat het door een ander\nproces wordt gebruikt.\n\n2016-06-23 16:28:09 *** System error while flushing: Database I/O error\n2016-06-23 16:33:32 ERROR: ProcessNewBlock: ActivateBestChain failed\n2016-06-23 16:33:32 Timeout downloading block 0000000000000000008edfccbc3b0b02b85f3f4a6cc9fab3de17160a77179fa1 from peer=1, disconnecting\n2016-06-23 16:33:32 receive version message: /Satoshi:0.11.2/: version 70002, blocks=417656, us=213.46.222.31:51459, peer=10\n2016-06-23 16:33:32 tor: Thread interrupt\n2016-06-23 16:33:32 torcontrol thread exit\n2016-06-23 16:33:32 net thread interrupt\n2016-06-23 16:33:32 opencon thread interrupt\n2016-06-23 16:33:32 addcon thread interrupt\n2016-06-23 16:33:32 scheduler thread interrupt\n2016-06-23 16:33:32 msghand thread interrupt\n2016-06-23 16:33:32 Shutdown: In progress...\n2016-06-23 16:33:32 StopNode()\n2016-06-23 16:33:33 IO error: C:\\Users\\Acer\\AppData\\Roaming\\Bitcoin\\chainstate\\324109.ldb: Het proces heeft geen toegang tot het bestand omdat het door een ander\nproces wordt gebruikt.\n\n2016-06-23 16:33:33 *** System error while flushing: Database I/O error\n2016-06-23 16:33:36 Shutdown: done\n```\n\n\"Het proces heeft geen toegang tot het bestand omdat het door een ander proces wordt gebruikt.\" is Dutch for \"The process cannot access the file because it is being used by another process.\" (code 32, `\nERROR_SHARING_VIOLATION`).\nI don't know what could be accessing the file though. Possibly a virus scanner/antimalware scanner, although only the built-in ones are installed. It doesn't happen consistently.\n\nAfter restarting, the sync simply continues, there seems to be no database corruption.\n",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 234877,
        "node_id": "MDU6TGFiZWwyMzQ4Nzc=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Windows",
        "name": "Windows",
        "color": "884400",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "MEMBER",
    "locked": true,
    "active_lock_reason": "resolved",
    "comments": 2,
    "closed_at": "2017-11-30T15:44:31Z",
    "created_at": "2016-06-23T16:41:29Z",
    "updated_at": "2021-09-08T12:26:55Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 702153254,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDcwMjE1MzI1NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/702153254",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-06-23T16:41:29Z",
      "label": {
        "name": "Windows",
        "color": "884400"
      }
    },
    {
      "event": "commented",
      "id": 228115290,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIyODExNTI5MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/228115290",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-06-23T17:02:44Z",
      "updated_at": "2016-06-23T17:03:20Z",
      "author_association": "MEMBER",
      "body": "Looks similar to this issue on the bitcointalk forum: https://bitcointalk.org/index.php?topic=1247153.0\nIn that case it was Windows Defender that was the problem, which is the windows built-in virus/malware scanner. So it could well be the same problem.\n\nI wonder if it is possible to tell Windows Defender to leave this directory alone, or alternatively whether we should get leveldb to open the files non-exclusively.\n",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/8250#issuecomment-228115290",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8250"
    },
    {
      "event": "commented",
      "id": 348227411,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODIyNzQxMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/348227411",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-30T15:44:30Z",
      "updated_at": "2017-11-30T15:44:30Z",
      "author_association": "MEMBER",
      "body": "This was fixed, leveldb no longer opens files exclusively.",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/8250#issuecomment-348227411",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8250"
    },
    {
      "event": "closed",
      "id": 1365905249,
      "node_id": "MDExOkNsb3NlZEV2ZW50MTM2NTkwNTI0OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1365905249",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-30T15:44:31Z"
    },
    {
      "event": "locked",
      "id": 5271973012,
      "node_id": "LOE_lADOABII584Jp3NIzwAAAAE6O-yU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5271973012",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-08T12:26:55Z",
      "lock_reason": "resolved"
    }
  ]
}