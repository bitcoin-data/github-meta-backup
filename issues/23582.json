{
  "type": "issue",
  "issue": {
    "id": 1062593020,
    "node_id": "I_kwDOABII584_VeH8",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23582",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23582/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23582/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23582/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/23582",
    "number": 23582,
    "state": "closed",
    "state_reason": "completed",
    "title": "The weak getauxval in CentOS 6",
    "body": "<!-- This issue tracker is only for technical issues related to Bitcoin Core.\r\n\r\nGeneral bitcoin questions and/or support requests are best directed to the Bitcoin StackExchange at https://bitcoin.stackexchange.com.\r\n\r\nFor reporting security issues, please read instructions at https://bitcoincore.org/en/contact/.\r\n\r\nIf the node is \"stuck\" during sync or giving \"block checksum mismatch\" errors, please ensure your hardware is stable by running memtest and observe CPU temperature with a load-test tool such as linpack before creating an issue! -->\r\n\r\n<!-- Describe the issue -->\r\n\r\n**Expected behavior**\r\n\r\nThe `./configure` of v22.0 defines two macros: `HAVE_STRONG_GETAUXVAL` &amp; `HAVE_WEAK_GETAUXVAL` \r\nJudging by the code, the file sys/auxv.h to be included when one from these macros are defined.\r\nThe CentOS 6.* doesn't have a file **`sys/auxv.h`**\r\n\r\n<!--- What behavior did you expect? -->\r\n\r\nThe configure at CentOS 6 should define macros as: \r\n\r\n```\r\nHAVE_STRONG_GETAUXVAL='0'\r\nHAVE_WEAK_GETAUXVAL='0'\r\n```\r\n\r\nAnd compiling without errors\r\n\r\n**Actual behavior**\r\n\r\n<!--- What was the actual behavior (provide screenshots if the issue is GUI-related)? -->\r\n\r\nThe `./configure` should define macros as:\r\n\r\n```\r\nHAVE_STRONG_GETAUXVAL='0'\r\nHAVE_WEAK_GETAUXVAL='1'\r\n```\r\n\r\nErrors of compilation:\r\n\r\n```\r\nrandomenv.cpp:57:10: fatal error: sys/auxv.h: No such file or directory\r\n   57 | #include <sys/auxv.h>\r\n      |          ^~~~~~~~~~~~\r\n```\r\n\r\n**To reproduce**\r\n\r\n<!--- How reliably can you reproduce the issue, what are the steps to do so? -->\r\n\r\n**System information**\r\n\r\n/etc/centos-release: CentOS release 6.10 (Final)\r\n\r\n<!-- What version of Bitcoin Core are you using, where did you get it (website, self-compiled, etc)? -->\r\n\r\n<!-- What type of machine are you observing the error on (OS/CPU and disk type)? -->\r\n\r\n<!-- GUI-related issue? What is your operating system and its version? If Linux, what is your desktop environment and graphical shell? -->\r\n\r\n<!-- Any extra information that might be useful in the debugging process. -->\r\n<!--- This is normally the contents of a `debug.log` or `config.log` file. Raw text or a link to a pastebin type site are preferred. -->\r\n",
    "user": {
      "login": "Perlover",
      "id": 574333,
      "node_id": "MDQ6VXNlcjU3NDMzMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/574333?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Perlover",
      "html_url": "https://github.com/Perlover",
      "followers_url": "https://api.github.com/users/Perlover/followers",
      "following_url": "https://api.github.com/users/Perlover/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/Perlover/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/Perlover/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/Perlover/subscriptions",
      "organizations_url": "https://api.github.com/users/Perlover/orgs",
      "repos_url": "https://api.github.com/users/Perlover/repos",
      "events_url": "https://api.github.com/users/Perlover/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/Perlover/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 61889416,
        "node_id": "MDU6TGFiZWw2MTg4OTQxNg==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system",
        "name": "Build system",
        "color": "5319e7",
        "default": false
      },
      {
        "id": 477890092,
        "node_id": "MDU6TGFiZWw0Nzc4OTAwOTI=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Questions%20and%20Help",
        "name": "Questions and Help",
        "color": "006688",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "locked": true,
    "comments": 5,
    "closed_at": "2021-11-24T20:47:54Z",
    "created_at": "2021-11-24T15:53:25Z",
    "updated_at": "2022-11-24T09:59:27Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 5667883367,
      "node_id": "LE_lADOABII584_VeH8zwAAAAFR1Qln",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5667883367",
      "actor": {
        "login": "Perlover",
        "id": 574333,
        "node_id": "MDQ6VXNlcjU3NDMzMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/574333?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Perlover",
        "html_url": "https://github.com/Perlover",
        "followers_url": "https://api.github.com/users/Perlover/followers",
        "following_url": "https://api.github.com/users/Perlover/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Perlover/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Perlover/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Perlover/subscriptions",
        "organizations_url": "https://api.github.com/users/Perlover/orgs",
        "repos_url": "https://api.github.com/users/Perlover/repos",
        "events_url": "https://api.github.com/users/Perlover/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Perlover/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-24T15:53:25Z",
      "label": {
        "name": "Bug",
        "color": "FBBAAB"
      }
    },
    {
      "event": "commented",
      "id": 978028222,
      "node_id": "IC_kwDOABII5846S4a-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/978028222",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-24T16:19:41Z",
      "updated_at": "2021-11-24T16:19:41Z",
      "author_association": "MEMBER",
      "body": "CentOS 6 reached EOL already a year ago. I'd recommend that you upgrade to an operating system that ships security and maintenance updates.",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/23582#issuecomment-978028222",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23582"
    },
    {
      "event": "labeled",
      "id": 5668057582,
      "node_id": "LE_lADOABII584_VeH8zwAAAAFR17Hu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5668057582",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-24T16:19:48Z",
      "label": {
        "name": "Questions and Help",
        "color": "006688"
      }
    },
    {
      "event": "unlabeled",
      "id": 5668057867,
      "node_id": "UNLE_lADOABII584_VeH8zwAAAAFR17ML",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5668057867",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-24T16:19:51Z",
      "label": {
        "name": "Bug",
        "color": "FBBAAB"
      }
    },
    {
      "event": "labeled",
      "id": 5668058180,
      "node_id": "LE_lADOABII584_VeH8zwAAAAFR17RE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5668058180",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-24T16:19:54Z",
      "label": {
        "name": "Build system",
        "color": "5319e7"
      }
    },
    {
      "event": "commented",
      "id": 978062283,
      "node_id": "IC_kwDOABII5846TAvL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/978062283",
      "actor": {
        "login": "Perlover",
        "id": 574333,
        "node_id": "MDQ6VXNlcjU3NDMzMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/574333?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Perlover",
        "html_url": "https://github.com/Perlover",
        "followers_url": "https://api.github.com/users/Perlover/followers",
        "following_url": "https://api.github.com/users/Perlover/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Perlover/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Perlover/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Perlover/subscriptions",
        "organizations_url": "https://api.github.com/users/Perlover/orgs",
        "repos_url": "https://api.github.com/users/Perlover/repos",
        "events_url": "https://api.github.com/users/Perlover/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Perlover/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-24T17:01:17Z",
      "updated_at": "2021-11-24T17:04:59Z",
      "author_association": "CONTRIBUTOR",
      "body": "I have additional info. I think this will help, since the execution of the configuration script is not exactly what was intended:\r\n\r\nconfig.log:\r\n```\r\nconfigure:27082: checking for strong getauxval support in the system headers\r\nconfigure:27101: g++ -std=c++17 -c -g -O2 -fno-extended-identifiers -I/home/bitcoin/include -DHAVE_BUILD_INFO -D__STDC_FORMAT_MACROS conftest.cpp >&5\r\nconftest.cpp:74:14: fatal error: arm_acle.h: No such file or directory\r\n   74 |     #include <arm_acle.h>\r\n      |              ^~~~~~~~~~~~\r\ncompilation terminated.\r\nconfigure:27101: $? = 1\r\nconfigure: failed program was:\r\n| /* confdefs.h */\r\n| #define PACKAGE_NAME \"Bitcoin Core\"\r\n| #define PACKAGE_TARNAME \"bitcoin\"\r\n| #define PACKAGE_VERSION \"22.0.0\"\r\n| #define PACKAGE_STRING \"Bitcoin Core 22.0.0\"\r\n| #define PACKAGE_BUGREPORT \"https://github.com/bitcoin/bitcoin/issues\"\r\n| #define PACKAGE_URL \"https://bitcoincore.org/\"\r\n| #define HAVE_CXX17 1\r\n| #define STDC_HEADERS 1\r\n| #define HAVE_SYS_TYPES_H 1\r\n| #define HAVE_SYS_STAT_H 1\r\n| #define HAVE_STDLIB_H 1\r\n| #define HAVE_STRING_H 1\r\n| #define HAVE_MEMORY_H 1\r\n| #define HAVE_STRINGS_H 1\r\n| #define HAVE_INTTYPES_H 1\r\n| #define HAVE_STDINT_H 1\r\n| #define HAVE_UNISTD_H 1\r\n| #define HAVE_DLFCN_H 1\r\n| #define LT_OBJDIR \".libs/\"\r\n| #define USE_ASM 1\r\n| #define ENABLE_SSE41 1\r\n| #define ENABLE_AVX2 1\r\n| #define ENABLE_SHANI 1\r\n| #define HAVE___INT128 1\r\n| #define HAVE_PTHREAD 1\r\n| #define HAVE_DECL_STRERROR_R 1\r\n| #define HAVE_STRERROR_R 1\r\n| #define STRERROR_R_CHAR_P 1\r\n| #define HAVE_ENDIAN_H 1\r\n| #define HAVE_BYTESWAP_H 1\r\n| #define HAVE_STDIO_H 1\r\n| #define HAVE_STDLIB_H 1\r\n| #define HAVE_UNISTD_H 1\r\n| #define HAVE_STRINGS_H 1\r\n| #define HAVE_SYS_TYPES_H 1\r\n| #define HAVE_SYS_STAT_H 1\r\n| #define HAVE_SYS_SELECT_H 1\r\n| #define HAVE_SYS_PRCTL_H 1\r\n| #define HAVE_SYS_SYSCTL_H 1\r\n| #define HAVE_DECL_GETIFADDRS 1\r\n| #define HAVE_DECL_FREEIFADDRS 1\r\n| #define HAVE_DECL_STRNLEN 1\r\n| #define HAVE_DECL_FORK 1\r\n| #define HAVE_DECL_SETSID 1\r\n| #define HAVE_DECL_PIPE2 1\r\n| #define HAVE_DECL_LE16TOH 1\r\n| #define HAVE_DECL_LE32TOH 1\r\n| #define HAVE_DECL_LE64TOH 1\r\n| #define HAVE_DECL_HTOLE16 1\r\n| #define HAVE_DECL_HTOLE32 1\r\n| #define HAVE_DECL_HTOLE64 1\r\n| #define HAVE_DECL_BE16TOH 1\r\n| #define HAVE_DECL_BE32TOH 1\r\n| #define HAVE_DECL_BE64TOH 1\r\n| #define HAVE_DECL_HTOBE16 1\r\n| #define HAVE_DECL_HTOBE32 1\r\n| #define HAVE_DECL_HTOBE64 1\r\n| #define HAVE_DECL_BSWAP_16 1\r\n| #define HAVE_DECL_BSWAP_32 1\r\n| #define HAVE_DECL_BSWAP_64 1\r\n| #define HAVE_BUILTIN_CLZL 1\r\n| #define HAVE_BUILTIN_CLZLL 1\r\n| #define HAVE_MALLOC_INFO 1\r\n| #define HAVE_MALLOPT_ARENA_MAX 1\r\n| #define HAVE_POSIX_FALLOCATE 1\r\n| #define HAVE_DEFAULT_VISIBILITY_ATTRIBUTE 1\r\n| #define HAVE_THREAD_LOCAL 1\r\n| #define HAVE_GMTIME_R 1\r\n| #define HAVE_FDATASYNC 1\r\n| #define HAVE_O_CLOEXEC 1\r\n| /* end confdefs.h.  */\r\n| \r\n|     #include <arm_acle.h>\r\n|     #include <arm_neon.h>\r\n|     #include <sys/auxv.h>\r\n| \r\n| int\r\n| main ()\r\n| {\r\n| \r\n|     getauxval(AT_HWCAP);\r\n| \r\n|   ;\r\n|   return 0;\r\n| }\r\nconfigure:27107: result: no\r\nconfigure:27113: checking for weak getauxval support in the compiler\r\nconfigure:27133: g++ -std=c++17 -c -g -O2 -fno-extended-identifiers -I/home/bitcoin/include -DHAVE_BUILD_INFO -D__STDC_FORMAT_MACROS conftest.cpp >&5\r\nconfigure:27133: $? = 0\r\nconfigure:27134: result: yes\r\n```\r\n\r\nHere your configure thinks that **weak getauxval** is OK but I made the temporarely script for testing (1.txt):\r\n\r\n```\r\n/* confdefs.h */\r\n#define PACKAGE_NAME \"Bitcoin Core\"\r\n#define PACKAGE_TARNAME \"bitcoin\"\r\n#define PACKAGE_VERSION \"22.0.0\"\r\n#define PACKAGE_STRING \"Bitcoin Core 22.0.0\"\r\n#define PACKAGE_BUGREPORT \"https://github.com/bitcoin/bitcoin/issues\"\r\n#define PACKAGE_URL \"https://bitcoincore.org/\"\r\n#define HAVE_CXX17 1\r\n#define STDC_HEADERS 1\r\n#define HAVE_SYS_TYPES_H 1\r\n#define HAVE_SYS_STAT_H 1\r\n#define HAVE_STDLIB_H 1\r\n#define HAVE_STRING_H 1\r\n#define HAVE_MEMORY_H 1\r\n#define HAVE_STRINGS_H 1\r\n#define HAVE_INTTYPES_H 1\r\n#define HAVE_STDINT_H 1\r\n#define HAVE_UNISTD_H 1\r\n#define HAVE_DLFCN_H 1\r\n#define LT_OBJDIR \".libs/\"\r\n#define USE_ASM 1\r\n#define ENABLE_SSE41 1\r\n#define ENABLE_AVX2 1\r\n#define ENABLE_SHANI 1\r\n#define HAVE___INT128 1\r\n#define HAVE_PTHREAD 1\r\n#define HAVE_DECL_STRERROR_R 1\r\n#define HAVE_STRERROR_R 1\r\n#define STRERROR_R_CHAR_P 1\r\n#define HAVE_ENDIAN_H 1\r\n#define HAVE_BYTESWAP_H 1\r\n#define HAVE_STDIO_H 1\r\n#define HAVE_STDLIB_H 1\r\n#define HAVE_UNISTD_H 1\r\n#define HAVE_STRINGS_H 1\r\n#define HAVE_SYS_TYPES_H 1\r\n#define HAVE_SYS_STAT_H 1\r\n#define HAVE_SYS_SELECT_H 1\r\n#define HAVE_SYS_PRCTL_H 1\r\n#define HAVE_SYS_SYSCTL_H 1\r\n#define HAVE_DECL_GETIFADDRS 1\r\n#define HAVE_DECL_FREEIFADDRS 1\r\n#define HAVE_DECL_STRNLEN 1\r\n#define HAVE_DECL_FORK 1\r\n#define HAVE_DECL_SETSID 1\r\n#define HAVE_DECL_PIPE2 1\r\n#define HAVE_DECL_LE16TOH 1\r\n#define HAVE_DECL_LE32TOH 1\r\n#define HAVE_DECL_LE64TOH 1\r\n#define HAVE_DECL_HTOLE16 1\r\n#define HAVE_DECL_HTOLE32 1\r\n#define HAVE_DECL_HTOLE64 1\r\n#define HAVE_DECL_BE16TOH 1\r\n#define HAVE_DECL_BE32TOH 1\r\n#define HAVE_DECL_BE64TOH 1\r\n#define HAVE_DECL_HTOBE16 1\r\n#define HAVE_DECL_HTOBE32 1\r\n#define HAVE_DECL_HTOBE64 1\r\n#define HAVE_DECL_BSWAP_16 1\r\n#define HAVE_DECL_BSWAP_32 1\r\n#define HAVE_DECL_BSWAP_64 1\r\n#define HAVE_BUILTIN_CLZL 1\r\n#define HAVE_BUILTIN_CLZLL 1\r\n#define HAVE_MALLOC_INFO 1\r\n#define HAVE_MALLOPT_ARENA_MAX 1\r\n#define HAVE_POSIX_FALLOCATE 1\r\n#define HAVE_DEFAULT_VISIBILITY_ATTRIBUTE 1\r\n#define HAVE_THREAD_LOCAL 1\r\n#define HAVE_GMTIME_R 1\r\n#define HAVE_FDATASYNC 1\r\n#define HAVE_O_CLOEXEC 1\r\n/* end confdefs.h.  */\r\n\r\n\r\n    #ifdef __linux__\r\n    unsigned long getauxval(unsigned long type) __attribute__((weak));\r\n    #define AT_HWCAP 16\r\n    #endif\r\n\r\nint\r\nmain ()\r\n{\r\n\r\n    getauxval(AT_HWCAP);\r\n\r\n  ;\r\n  return 0;\r\n}\r\n```\r\n\r\nAnd I have rerun it:\r\n\r\n```\r\n$ g++ -std=c++17 -c -g -O2 -fno-extended-identifiers -I/home/bitcoin/include -DHAVE_BUILD_INFO -D__STDC_FORMAT_MACROS 1.txt\r\n\r\ng++: warning: 1.txt: linker input file unused because linking not done\r\n$ echo $?\r\n0\r\n```\r\n\r\nSo there not worked C++ test file but the shell returns code is zero (OK). I think this test should not be passed as OK.\r\n\r\nMy gcc compiled in home directory is:\r\n\r\n```\r\n$ gcc -v\r\nUsing built-in specs.\r\nCOLLECT_GCC=gcc\r\nCOLLECT_LTO_WRAPPER=/home/bitcoin/libexec/gcc/x86_64-pc-linux-gnu/11.2.0/lto-wrapper\r\nTarget: x86_64-pc-linux-gnu\r\nConfigured with: ./configure --prefix=/home/bitcoin LDFLAGS='-L/home/bitcoin/lib -L/home/bitcoin/lib64 -L/usr/local/lib64 -L/lib64 -L/usr/lib64' CPPFLAGS=-I/home/bitcoin/include --disable-multilib\r\nThread model: posix\r\nSupported LTO compression algorithms: zlib\r\ngcc version 11.2.0 (GCC) \r\n```",
      "user": {
        "login": "Perlover",
        "id": 574333,
        "node_id": "MDQ6VXNlcjU3NDMzMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/574333?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Perlover",
        "html_url": "https://github.com/Perlover",
        "followers_url": "https://api.github.com/users/Perlover/followers",
        "following_url": "https://api.github.com/users/Perlover/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Perlover/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Perlover/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Perlover/subscriptions",
        "organizations_url": "https://api.github.com/users/Perlover/orgs",
        "repos_url": "https://api.github.com/users/Perlover/repos",
        "events_url": "https://api.github.com/users/Perlover/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Perlover/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/23582#issuecomment-978062283",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23582"
    },
    {
      "event": "commented",
      "id": 978074617,
      "node_id": "IC_kwDOABII5846TDv5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/978074617",
      "actor": {
        "login": "Perlover",
        "id": 574333,
        "node_id": "MDQ6VXNlcjU3NDMzMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/574333?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Perlover",
        "html_url": "https://github.com/Perlover",
        "followers_url": "https://api.github.com/users/Perlover/followers",
        "following_url": "https://api.github.com/users/Perlover/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Perlover/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Perlover/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Perlover/subscriptions",
        "organizations_url": "https://api.github.com/users/Perlover/orgs",
        "repos_url": "https://api.github.com/users/Perlover/repos",
        "events_url": "https://api.github.com/users/Perlover/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Perlover/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-24T17:16:03Z",
      "updated_at": "2021-11-24T17:16:03Z",
      "author_association": "CONTRIBUTOR",
      "body": "So your test file assumes testing that the system has a `getauxval` function if there is no `sys/auxv.h` file, but in fact it does not fulfill its role, since there is no linking during the test, as reported by gcc (as warning) and gcc returns the code 0 (OK). I believe that the testing is not being performed correctly and it is supposed to be fixed somehow.",
      "user": {
        "login": "Perlover",
        "id": 574333,
        "node_id": "MDQ6VXNlcjU3NDMzMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/574333?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Perlover",
        "html_url": "https://github.com/Perlover",
        "followers_url": "https://api.github.com/users/Perlover/followers",
        "following_url": "https://api.github.com/users/Perlover/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Perlover/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Perlover/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Perlover/subscriptions",
        "organizations_url": "https://api.github.com/users/Perlover/orgs",
        "repos_url": "https://api.github.com/users/Perlover/repos",
        "events_url": "https://api.github.com/users/Perlover/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Perlover/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/23582#issuecomment-978074617",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23582"
    },
    {
      "event": "commented",
      "id": 978084231,
      "node_id": "IC_kwDOABII5846TGGH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/978084231",
      "actor": {
        "login": "Perlover",
        "id": 574333,
        "node_id": "MDQ6VXNlcjU3NDMzMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/574333?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Perlover",
        "html_url": "https://github.com/Perlover",
        "followers_url": "https://api.github.com/users/Perlover/followers",
        "following_url": "https://api.github.com/users/Perlover/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Perlover/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Perlover/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Perlover/subscriptions",
        "organizations_url": "https://api.github.com/users/Perlover/orgs",
        "repos_url": "https://api.github.com/users/Perlover/repos",
        "events_url": "https://api.github.com/users/Perlover/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Perlover/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-24T17:28:32Z",
      "updated_at": "2021-11-24T17:28:32Z",
      "author_association": "CONTRIBUTOR",
      "body": "Continued: I renamed 1.txt in 1.cpp\r\nThen I ran the command:\r\n\r\n```\r\n$ g++ -std=c++17 -c -g -O2 -fno-extended-identifiers -I/home/bitcoin/include -DHAVE_BUILD_INFO -D__STDC_FORMAT_MACROS 1.cpp\r\n$ echo $?\r\n0\r\n```\r\n\r\nI tried without -c:\r\n\r\n```\r\n$ g++ -std=c++17 -g -O2 -fno-extended-identifiers -I/home/bitcoin/include -DHAVE_BUILD_INFO -D__STDC_FORMAT_MACROS 1.cpp\r\n$ echo $?\r\n0\r\n```\r\n\r\nBut when I run:\r\n\r\n```\r\n$ ./a.out \r\nSegmentation fault (core dumped)\r\n$ echo $?\r\n139\r\n```\r\n\r\nI still think that this testing (**weak getauxval**) is not being performed correctly. Your script assumes **weak getauxval** as `true`, but **in fact it is `false`**.  @MarcoFalke , your suggestion to change the operating system is just to get away from trying to fix the test problem.",
      "user": {
        "login": "Perlover",
        "id": 574333,
        "node_id": "MDQ6VXNlcjU3NDMzMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/574333?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Perlover",
        "html_url": "https://github.com/Perlover",
        "followers_url": "https://api.github.com/users/Perlover/followers",
        "following_url": "https://api.github.com/users/Perlover/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Perlover/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Perlover/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Perlover/subscriptions",
        "organizations_url": "https://api.github.com/users/Perlover/orgs",
        "repos_url": "https://api.github.com/users/Perlover/repos",
        "events_url": "https://api.github.com/users/Perlover/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Perlover/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/23582#issuecomment-978084231",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23582"
    },
    {
      "event": "mentioned",
      "id": 5668473796,
      "node_id": "MEE_lADOABII584_VeH8zwAAAAFR3gvE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5668473796",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-24T17:28:33Z"
    },
    {
      "event": "subscribed",
      "id": 5668473800,
      "node_id": "SE_lADOABII584_VeH8zwAAAAFR3gvI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5668473800",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-24T17:28:33Z"
    },
    {
      "event": "commented",
      "id": 978126395,
      "node_id": "IC_kwDOABII5846TQY7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/978126395",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-24T18:29:43Z",
      "updated_at": "2021-11-24T18:29:43Z",
      "author_association": "MEMBER",
      "body": "Weak getauxval was removed in commit 7f81f5459ffa93e9269715cf604cfaf1f8ff59f8",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/23582#issuecomment-978126395",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23582"
    },
    {
      "event": "closed",
      "id": 5669311535,
      "node_id": "CE_lADOABII584_VeH8zwAAAAFR6tQv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5669311535",
      "actor": {
        "login": "Perlover",
        "id": 574333,
        "node_id": "MDQ6VXNlcjU3NDMzMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/574333?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Perlover",
        "html_url": "https://github.com/Perlover",
        "followers_url": "https://api.github.com/users/Perlover/followers",
        "following_url": "https://api.github.com/users/Perlover/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Perlover/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Perlover/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Perlover/subscriptions",
        "organizations_url": "https://api.github.com/users/Perlover/orgs",
        "repos_url": "https://api.github.com/users/Perlover/repos",
        "events_url": "https://api.github.com/users/Perlover/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Perlover/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-24T20:47:54Z"
    },
    {
      "event": "locked",
      "id": 7884492685,
      "node_id": "LOE_lADOABII584_VeH8zwAAAAHV88-N",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7884492685",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-24T09:59:27Z"
    }
  ]
}