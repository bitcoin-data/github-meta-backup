{
  "type": "issue",
  "issue": {
    "id": 208723676,
    "node_id": "MDU6SXNzdWUyMDg3MjM2NzY=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9799",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9799/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9799/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9799/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/9799",
    "number": 9799,
    "state": "closed",
    "state_reason": "completed",
    "title": "(Idea) Feature request: assumed-valid chain",
    "body": "# Preamble\r\n\r\nBitcoin Core 0.14 introduces  **assumed-valid blocks**, this feature helps increase the speed of the initial blockchain verification process by acknowledging the software that blocks older than the '_hardcoded_' one  are valid so the sofware can skip checking scripts for its ancestors.\r\n\r\nThe actual definition can be read here: \r\nhttps://github.com/bitcoin/bitcoin/blob/0.14/doc/release-notes.md#introduction-of-assumed-valid-blocks\r\n\r\n### _With my idea, **assumed-valid chain**, I propose a method to speed up dramatically the blockchain syncing and signature verification for a newly created prunned node._\r\n\r\n# How would it work?\r\n\r\nThe process would be as it follows:\r\n- Bob has already a working and fully-synced Bitcoin Node with prunning disabled\r\n- He already knows what the valid chain is, the list of unspent outputs and so on\r\n- Bob wants to set up a prunned node for himself (or for someone else that trusts Bob)\r\n- Bob tells the software (on the new node) to assume that the chain that he already has is valid.\r\n- Bob provides the new node with X latests blocks and the list of unspent outputs.\r\n- The new node can start in prunned mode just by assuming that the chain Bob provides is valid. (Remember, Bob owns the two nodes).\r\n- The new node just has to verify the latest X blocks (the ones provided by Bob) and download the newer ones (from peers) but never its ancestors.\r\n- From this point, the new node is just another prunned node in the network, it has the same blockchain as a ordinary prunned node.\r\n\r\n# Pros\r\n\r\n- Bob can setup a brand new prunned node in few hours, without downloading the whole chain. This can be useful for low end hardware.\r\n\r\n# Cons\r\n\r\n- Bob needs to know the current state of the chain before setting up the new node.\r\n\r\n# More explanation\r\n\r\nA bitcoin node has to download the chain from the first block because it does not know the current state of the blockchain. This feature is for setting up a second node, it assumes that you already know the state of the chain. This is not initially intended for new users.\r\n\r\nWhen the current Bitcoin Core software is stoped and started it already assuming that the chain that has stored is valid and verified, it just checks latest 100 or so blocks, just to be sure, but it not starts to verify from Genesis Block (because it assumes that blocks in hard-drive were validated when they were downloaded). This also happens when you stop and start a prunned node, without having the old blocks it just assume that they are valid (because they were validated once).\r\n\r\nI hope some developer could get interested in my idea and hopefully be discussed.\r\n\r\n",
    "user": {
      "login": "i-rme",
      "id": 6007737,
      "node_id": "MDQ6VXNlcjYwMDc3Mzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6007737?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/i-rme",
      "html_url": "https://github.com/i-rme",
      "followers_url": "https://api.github.com/users/i-rme/followers",
      "following_url": "https://api.github.com/users/i-rme/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/i-rme/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/i-rme/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/i-rme/subscriptions",
      "organizations_url": "https://api.github.com/users/i-rme/orgs",
      "repos_url": "https://api.github.com/users/i-rme/repos",
      "events_url": "https://api.github.com/users/i-rme/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/i-rme/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 64584,
        "node_id": "MDU6TGFiZWw2NDU4NA==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Brainstorming",
        "name": "Brainstorming",
        "color": "ebd775",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "locked": true,
    "active_lock_reason": "resolved",
    "comments": 4,
    "closed_at": "2020-04-26T00:41:04Z",
    "created_at": "2017-02-19T15:18:52Z",
    "updated_at": "2022-02-15T11:02:43Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 280933772,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDkzMzc3Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/280933772",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-02-19T17:26:31Z",
      "updated_at": "2017-03-08T08:51:00Z",
      "author_association": "CONTRIBUTOR",
      "body": "it's already being worked on in various places, \"sync from utxo snapshot\" would be a likely query term.\r\n\r\n(E.g. https://gist.github.com/n1bor/55b25d72cd3c24eef85f7e24d549ef7a )\r\n\r\nThere are a number of engineering challenges, like the fact that the UTXO data structure will likely change soon; and how to manage the snapshots without creating sync failures or huge diskspace overhead.",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/9799#issuecomment-280933772",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9799"
    },
    {
      "event": "labeled",
      "id": 968525709,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDk2ODUyNTcwOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/968525709",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-02-20T01:07:48Z",
      "label": {
        "name": "Brainstorming",
        "color": "ebd775"
      }
    },
    {
      "event": "commented",
      "id": 281127588,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI4MTEyNzU4OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/281127588",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-02-20T16:43:58Z",
      "updated_at": "2017-02-20T16:46:28Z",
      "author_association": "MEMBER",
      "body": "You can do this, sort of:\r\n\r\n- On the host you want to sync from, make a copy of the block chain and chainstate. This will take a while and temporarily take up a lot of disk space, however if it works on your system you can avoid that by using this [fastcopy_chaindata](https://gist.github.com/laanwj/3c4614a23e072cbb3d39090da1834a68) script, which will hardlink files that can be safely hardlinked (as they don't change) and copy the rest of the files relevant to the chaindata.\r\n\r\n- In the copied data directory, enable pruning. Start bitcoind on the copied data directory to make the pruning happen. The result will be a smaller data directory.\r\n\r\n- Copy this pruned data directory to your target.\r\n\r\nI've used this in practice to bootstrap nodes running on comparatively low-end ARM hardware.\r\n",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/9799#issuecomment-281127588",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9799"
    },
    {
      "event": "commented",
      "id": 281166830,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI4MTE2NjgzMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/281166830",
      "actor": {
        "login": "i-rme",
        "id": 6007737,
        "node_id": "MDQ6VXNlcjYwMDc3Mzc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6007737?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/i-rme",
        "html_url": "https://github.com/i-rme",
        "followers_url": "https://api.github.com/users/i-rme/followers",
        "following_url": "https://api.github.com/users/i-rme/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/i-rme/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/i-rme/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/i-rme/subscriptions",
        "organizations_url": "https://api.github.com/users/i-rme/orgs",
        "repos_url": "https://api.github.com/users/i-rme/repos",
        "events_url": "https://api.github.com/users/i-rme/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/i-rme/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-02-20T19:46:38Z",
      "updated_at": "2017-02-20T19:46:38Z",
      "author_association": "CONTRIBUTOR",
      "body": "I have found this idea explained by Jonas Schnelli in the Bitcoin-Dev mailing list.\r\nhttps://lists.linuxfoundation.org/pipermail/bitcoin-dev/2016-February/012478.html\r\n\r\n###  Fast bootstrapping with a pre-generated UTXO-set database\r\n\r\n==Abstract==\r\nThis documents describes a way how bitcoin nodes can bootstrap faster\r\nby loading a pre-generated UTXO-set datafile with moderate reduction\r\nof the security model.\r\n\r\n",
      "user": {
        "login": "i-rme",
        "id": 6007737,
        "node_id": "MDQ6VXNlcjYwMDc3Mzc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6007737?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/i-rme",
        "html_url": "https://github.com/i-rme",
        "followers_url": "https://api.github.com/users/i-rme/followers",
        "following_url": "https://api.github.com/users/i-rme/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/i-rme/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/i-rme/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/i-rme/subscriptions",
        "organizations_url": "https://api.github.com/users/i-rme/orgs",
        "repos_url": "https://api.github.com/users/i-rme/repos",
        "events_url": "https://api.github.com/users/i-rme/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/i-rme/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/9799#issuecomment-281166830",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9799"
    },
    {
      "event": "commented",
      "id": 619460509,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYxOTQ2MDUwOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619460509",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-26T00:41:04Z",
      "updated_at": "2020-04-26T00:41:04Z",
      "author_association": "MEMBER",
      "body": "Let's continue discussion in #15605 ",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/9799#issuecomment-619460509",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9799"
    },
    {
      "event": "closed",
      "id": 3272413083,
      "node_id": "MDExOkNsb3NlZEV2ZW50MzI3MjQxMzA4Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3272413083",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-26T00:41:04Z"
    },
    {
      "event": "locked",
      "id": 6074003794,
      "node_id": "LOE_lADOABII584McN7czwAAAAFqCfFS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6074003794",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-02-15T11:02:43Z",
      "lock_reason": "resolved"
    }
  ]
}