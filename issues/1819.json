{
  "type": "issue",
  "issue": {
    "id": 6798404,
    "node_id": "MDU6SXNzdWU2Nzk4NDA0",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1819",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1819/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1819/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1819/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/1819",
    "number": 1819,
    "state": "closed",
    "state_reason": "completed",
    "title": "RPC broken on some IPv6 machines",
    "body": "Report from the forums:  https://bitcointalk.org/index.php?topic=106236.msg1175793#msg1175793\n\n09/09/12 23:28:43 ThreadMessageHandler started\n09/09/12 23:28:43 ThreadOpenConnections started\n09/09/12 23:28:43 trying connection xxxx lastseen=0.0hrs\n09/09/12 23:28:43 ThreadOpenAddedConnections started\n09/09/12 23:28:43 ThreadOpenAddedConnections exited\n09/09/12 23:28:43 ThreadSocketHandler started\n09/09/12 23:28:43 ThreadIRCSeed exited\n09/09/12 23:28:43 Error: An error occurred while setting up the RPC port 8332 for listening: Address family not supported by protocol\n09/09/12 23:28:43 ThreadRPCServer exited\n09/09/12 23:28:43 Flush(false)\n09/09/12 23:28:43 blkindex.dat refcount=0\n09/09/12 23:28:43 blkindex.dat checkpoint\n09/09/12 23:28:43 connected xxxx\n09/09/12 23:28:43 send version message: version 60002, blocks=183152, us=0.0.0.0:0, them=xxxx:8333, peer=xxxx:8333\n09/09/12 23:28:43 ThreadSocketHandler exited\n09/09/12 23:28:43 ThreadMessageHandler exited\n\nto make it work, one must comment out or remove the following in bitcoinrpc.cpp:\n\n```\n    acceptor->open(endpoint.protocol());\n    acceptor->set_option(boost::asio::ip::tcp::acceptor::reuse_address(true));\n\n    // Try making the socket dual IPv6/IPv4 (if listening on the \"any\" address)\n    boost::system::error_code v6_only_error;\n    acceptor->set_option(boost::asio::ip::v6_only(loopback), v6_only_error);\n\n    acceptor->bind(endpoint);\n    acceptor->listen(socket_base::max_connections);\n\n    RPCListen(acceptor, context, fUseSSL);\n    // Cancel outstanding listen-requests for this acceptor when shutting down\n    StopRequests.connect(signals2::slot<void ()>(\n                static_cast<void (ip::tcp::acceptor::*)()>(&ip::tcp::acceptor::close), acceptor.get())\n            .track(acceptor));\n\n    // If dual IPv6/IPv4 failed (or we're opening loopback interfaces only), open IPv4 separately\n    if (loopback || v6_only_error)\n```\n\nthen it does:\n\n09/10/12 00:00:22 ThreadMessageHandler started\n09/10/12 00:00:22 ThreadOpenConnections started\n09/10/12 00:00:22 trying connection xxxx lastseen=0.0hrs\n09/10/12 00:00:22 ThreadOpenAddedConnections started\n09/10/12 00:00:22 ThreadOpenAddedConnections exited\n09/10/12 00:00:22 ThreadSocketHandler started\n09/10/12 00:00:22 ThreadIRCSeed exited\n09/10/12 00:00:22 connected xxxx\n09/10/12 00:00:22 send version message: version 60002, blocks=183152, us=0.0.0.0:0, them=xxxx:8333, peer=xxxx:8333\n09/10/12 00:00:22 Added time data, samples 2, offset -1 (+0 minutes)\n09/10/12 00:00:22 Flushed 0 addresses to peers.dat  57ms\n09/10/12 00:00:22 receive version message: version 60002, blocks=198073, us=xxxx:44586, them=xxxx:8333, peer=xxxx:8333\n09/10/12 00:00:23 received block 0000000000000045a7f8 from xxxx:8333\n09/10/12 00:00:23 SetBestChain: new best=0000000000000045a7f8  height=183153  work=345239274296880467532  date=06/05/12 18:48:15\n09/10/12 00:00:23 ProcessBlock: ACCEPTED\n\nand so on\n",
    "user": {
      "login": "gavinandresen",
      "id": 331997,
      "node_id": "MDQ6VXNlcjMzMTk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/331997?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gavinandresen",
      "html_url": "https://github.com/gavinandresen",
      "followers_url": "https://api.github.com/users/gavinandresen/followers",
      "following_url": "https://api.github.com/users/gavinandresen/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/gavinandresen/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/gavinandresen/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/gavinandresen/subscriptions",
      "organizations_url": "https://api.github.com/users/gavinandresen/orgs",
      "repos_url": "https://api.github.com/users/gavinandresen/repos",
      "events_url": "https://api.github.com/users/gavinandresen/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/gavinandresen/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 64585,
        "node_id": "MDU6TGFiZWw2NDU4NQ==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug",
        "name": "Bug",
        "color": "FBBAAB",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "milestone": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/5",
      "html_url": "https://github.com/bitcoin/bitcoin/milestone/5",
      "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/5/labels",
      "id": 100064,
      "node_id": "MDk6TWlsZXN0b25lMTAwMDY0",
      "number": 5,
      "state": "closed",
      "title": "0.7.0",
      "description": "0.7 Release.\r\n",
      "creator": {
        "login": "gavinandresen",
        "id": 331997,
        "node_id": "MDQ6VXNlcjMzMTk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/331997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gavinandresen",
        "html_url": "https://github.com/gavinandresen",
        "followers_url": "https://api.github.com/users/gavinandresen/followers",
        "following_url": "https://api.github.com/users/gavinandresen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gavinandresen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gavinandresen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gavinandresen/subscriptions",
        "organizations_url": "https://api.github.com/users/gavinandresen/orgs",
        "repos_url": "https://api.github.com/users/gavinandresen/repos",
        "events_url": "https://api.github.com/users/gavinandresen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gavinandresen/received_events",
        "type": "User",
        "site_admin": false
      },
      "open_issues": 0,
      "closed_issues": 54,
      "created_at": "2012-03-26T14:55:10Z",
      "updated_at": "2013-01-23T16:05:56Z",
      "closed_at": "2012-09-14T05:44:17Z"
    },
    "locked": true,
    "active_lock_reason": "resolved",
    "comments": 1,
    "closed_at": "2012-09-14T05:44:17Z",
    "created_at": "2012-09-11T18:51:45Z",
    "updated_at": "2021-09-08T12:31:38Z"
  },
  "events": [
    {
      "event": "referenced",
      "id": 24464241,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDI0NDY0MjQx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/24464241",
      "actor": {
        "login": "gavinandresen",
        "id": 331997,
        "node_id": "MDQ6VXNlcjMzMTk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/331997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gavinandresen",
        "html_url": "https://github.com/gavinandresen",
        "followers_url": "https://api.github.com/users/gavinandresen/followers",
        "following_url": "https://api.github.com/users/gavinandresen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gavinandresen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gavinandresen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gavinandresen/subscriptions",
        "organizations_url": "https://api.github.com/users/gavinandresen/orgs",
        "repos_url": "https://api.github.com/users/gavinandresen/repos",
        "events_url": "https://api.github.com/users/gavinandresen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gavinandresen/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "7cfce5689cb5504cd3ddf17e707c8f209b4f5105",
      "commit_url": "https://api.github.com/repos/gavinandresen/bitcoin-git/commits/7cfce5689cb5504cd3ddf17e707c8f209b4f5105",
      "created_at": "2012-09-12T14:12:44Z"
    },
    {
      "event": "commented",
      "id": 8552273,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg1NTIyNzM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/8552273",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2012-09-14T05:44:17Z",
      "updated_at": "2012-09-14T05:44:17Z",
      "author_association": "MEMBER",
      "body": "This has been fixed, closing\n",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/1819#issuecomment-8552273",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1819"
    },
    {
      "event": "closed",
      "id": 24613560,
      "node_id": "MDExOkNsb3NlZEV2ZW50MjQ2MTM1NjA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/24613560",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2012-09-14T05:44:17Z"
    },
    {
      "event": "referenced",
      "id": 1895242151,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE4OTUyNDIxNTE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1895242151",
      "actor": {
        "login": "owlhooter",
        "id": 6970536,
        "node_id": "MDQ6VXNlcjY5NzA1MzY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6970536?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/owlhooter",
        "html_url": "https://github.com/owlhooter",
        "followers_url": "https://api.github.com/users/owlhooter/followers",
        "following_url": "https://api.github.com/users/owlhooter/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/owlhooter/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/owlhooter/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/owlhooter/subscriptions",
        "organizations_url": "https://api.github.com/users/owlhooter/orgs",
        "repos_url": "https://api.github.com/users/owlhooter/repos",
        "events_url": "https://api.github.com/users/owlhooter/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/owlhooter/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "d6e2aa843c595c04025e35453ab65db9315e5155",
      "commit_url": "https://api.github.com/repos/owlhooter/mazacoin-new/commits/d6e2aa843c595c04025e35453ab65db9315e5155",
      "created_at": "2018-10-10T11:29:03Z"
    },
    {
      "event": "referenced",
      "id": 4076009528,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQwNzYwMDk1Mjg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4076009528",
      "actor": {
        "login": "KolbyML",
        "id": 31669092,
        "node_id": "MDQ6VXNlcjMxNjY5MDky",
        "avatar_url": "https://avatars.githubusercontent.com/u/31669092?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/KolbyML",
        "html_url": "https://github.com/KolbyML",
        "followers_url": "https://api.github.com/users/KolbyML/followers",
        "following_url": "https://api.github.com/users/KolbyML/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/KolbyML/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/KolbyML/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/KolbyML/subscriptions",
        "organizations_url": "https://api.github.com/users/KolbyML/orgs",
        "repos_url": "https://api.github.com/users/KolbyML/repos",
        "events_url": "https://api.github.com/users/KolbyML/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/KolbyML/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "b6562473aad3dc531609d30362af0c2f030d3c5e",
      "commit_url": "https://api.github.com/repos/KolbyML/bitcoin/commits/b6562473aad3dc531609d30362af0c2f030d3c5e",
      "created_at": "2020-12-05T20:50:44Z"
    },
    {
      "event": "locked",
      "id": 5271997135,
      "node_id": "LOE_lADOABII584AZ7xEzwAAAAE6PErP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5271997135",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-08T12:31:38Z",
      "lock_reason": "resolved"
    }
  ]
}