{
  "type": "issue",
  "issue": {
    "id": 1199095089,
    "node_id": "I_kwDOABII585HeL0x",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24819",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24819/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24819/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24819/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/24819",
    "number": 24819,
    "state": "closed",
    "state_reason": "completed",
    "title": "data race in SimpleRoundTripTest logging for macOS",
    "body": "**OS:** macOS 10.15.4\r\n**Compiler:** brew installed clang-13\r\n**Build command:**\r\n- `make clean; ./autogen.sh; CC=/usr/local/Cellar/llvm/13.0.1/bin/clang CXX=/usr/local/Cellar/llvm/13.0.1/bin/clang++ LDFLAGS=\"-fuse-ld=/usr/local/Cellar/llvm/bin/13.0.1/ld.lld\" ./configure --disable-wallet --with-sanitizers=thread; make; make check`\r\n\r\n<details>\r\n<summary>TSAN log</summary>\r\n\r\n\r\n```\r\nWARNING: ThreadSanitizer: data race (pid=85054)\r\n  Read of size 4 at 0x7fff9a2cd770 by thread T1 (mutexes: write M1762):\r\n    #0 std::__1::basic_ostream<char, std::__1::char_traits<char> >& std::__1::__put_character_sequence<char, std::__1::char_traits<char> >(std::__1::basic_ostream<char, std::__1::char_traits<char> >&, char const*, unsigned long) ostream:720 (test_bitcoin:x86_64+0x100074c35)\r\n    #1 std::__1::__function::__func<$_0, std::__1::allocator<$_0>, void (std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&)>::operator()(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) function.h:345 (test_bitcoin:x86_64+0x100080508)\r\n    #2 BCLog::Logger::LogPrintStr(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, int) logging.cpp:281 (test_bitcoin:x86_64+0x100be645b)\r\n    #3 void LogPrintf_<char const*, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > >(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, int, char const*, char const* const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) logging.h:186 (test_bitcoin:x86_64+0x100aefb10)\r\n    #4 std::__1::__function::__func<CMainSignals::TransactionRemovedFromMempool(std::__1::shared_ptr<CTransaction const> const&, MemPoolRemovalReason, unsigned long long)::$_7, std::__1::allocator<CMainSignals::TransactionRemovedFromMempool(std::__1::shared_ptr<CTransaction const> const&, MemPoolRemovalReason, unsigned long long)::$_7>, void ()>::operator()() function.h:345 (test_bitcoin:x86_64+0x100af682a)\r\n    #5 SingleThreadedSchedulerClient::ProcessQueue() scheduler.cpp:177 (test_bitcoin:x86_64+0x100b8a175)\r\n    #6 std::__1::__function::__func<std::__1::__bind<void (SingleThreadedSchedulerClient::*)(), SingleThreadedSchedulerClient*>, std::__1::allocator<std::__1::__bind<void (SingleThreadedSchedulerClient::*)(), SingleThreadedSchedulerClient*> >, void ()>::operator()() function.h:345 (test_bitcoin:x86_64+0x100b8c15a)\r\n    #7 CScheduler::serviceQueue() scheduler.cpp:64 (test_bitcoin:x86_64+0x100b89454)\r\n    #8 std::__1::__function::__func<ChainTestingSetup::ChainTestingSetup(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::vector<char const*, std::__1::allocator<char const*> > const&)::$_0, std::__1::allocator<ChainTestingSetup::ChainTestingSetup(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::vector<char const*, std::__1::allocator<char const*> > const&)::$_0>, void ()>::operator()() function.h:345 (test_bitcoin:x86_64+0x1007bf5f8)\r\n    #9 util::TraceThread(char const*, std::__1::function<void ()>) thread.cpp:18 (test_bitcoin:x86_64+0x100c13ecf)\r\n    #10 void* std::__1::__thread_proxy<std::__1::tuple<std::__1::unique_ptr<std::__1::__thread_struct, std::__1::default_delete<std::__1::__thread_struct> >, void (*)(char const*, std::__1::function<void ()>), char const*, ChainTestingSetup::ChainTestingSetup(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::vector<char const*, std::__1::allocator<char const*> > const&)::$_0> >(void*) thread:291 (test_bitcoin:x86_64+0x1007bf19f)\r\n\r\n  Previous write of size 4 at 0x7fff9a2cd770 by main thread (mutexes: write M455, write M132977):\r\n    #0 boost::unit_test::unit_test_log_t::operator<<(boost::unit_test::log::begin const&) unit_test_log.ipp:412 (test_bitcoin:x86_64+0x10001d2e6)\r\n    #1 boost::test_tools::tt_detail::report_assertion(boost::test_tools::assertion_result const&, boost::unit_test::lazy_ostream const&, boost::unit_test::basic_cstring<char const>, unsigned long, boost::test_tools::tt_detail::tool_level, boost::test_tools::tt_detail::check_type, unsigned long, ...) test_tools.ipp:359 (test_bitcoin:x86_64+0x100029f5e)\r\n    #2 blockencodings_tests::SimpleRoundTripTest::test_method() blockencodings_tests.cpp:101 (test_bitcoin:x86_64+0x10016b0ff)\r\n    #3 blockencodings_tests::SimpleRoundTripTest_invoker() blockencodings_tests.cpp:55 (test_bitcoin:x86_64+0x100169311)\r\n    #4 boost::detail::function::void_function_invoker0<void (*)(), void>::invoke(boost::detail::function::function_buffer&) function_template.hpp:117 (test_bitcoin:x86_64+0x10010017d)\r\n    #5 boost::detail::function::function_obj_invoker0<boost::detail::forward, int>::invoke(boost::detail::function::function_buffer&) function_template.hpp:137 (test_bitcoin:x86_64+0x10007d8ba)\r\n    #6 boost::execution_monitor::catch_signals(boost::function<int ()> const&) execution_monitor.ipp:901 (test_bitcoin:x86_64+0x100023379)\r\n    #7 boost::execution_monitor::execute(boost::function<int ()> const&) execution_monitor.ipp:1299 (test_bitcoin:x86_64+0x10002366a)\r\n    #8 boost::unit_test::unit_test_monitor_t::execute_and_translate(boost::function<void ()> const&, unsigned long) unit_test_monitor.ipp:49 (test_bitcoin:x86_64+0x10001c5be)\r\n    #9 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) framework.ipp:815 (test_bitcoin:x86_64+0x10001e993)\r\n    #10 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) framework.ipp:740 (test_bitcoin:x86_64+0x10001fa1c)\r\n    #11 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) framework.ipp:740 (test_bitcoin:x86_64+0x10001fa1c)\r\n    #12 boost::unit_test::framework::run(unsigned long, bool) framework.ipp:1721 (test_bitcoin:x86_64+0x10001b158)\r\n    #13 boost::unit_test::unit_test_main(boost::unit_test::test_suite* (*)(int, char**), int, char**) unit_test_main.ipp:250 (test_bitcoin:x86_64+0x10003447b)\r\n    #14 main unit_test_main.ipp:306 (test_bitcoin:x86_64+0x100034b1b)\r\n\r\n  Location is global 'std::__1::cout' at 0x7fff9a2cd760 (libc++.1.dylib+0x000029394770)\r\n\r\n  Mutex M1762 (0x7b2c000000b0) created at:\r\n    #0 pthread_mutex_lock <null>:2 (libclang_rt.tsan_osx_dynamic.dylib:x86_64+0x19840)\r\n    #1 std::__1::mutex::lock() <null>:2 (libc++.1.dylib:x86_64+0x36538)\r\n    #2 BasicTestingSetup::BasicTestingSetup(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::vector<char const*, std::__1::allocator<char const*> > const&) setup_common.cpp:121 (test_bitcoin:x86_64+0x1007b92e6)\r\n    #3 ChainTestingSetup::ChainTestingSetup(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::vector<char const*, std::__1::allocator<char const*> > const&) setup_common.cpp:151 (test_bitcoin:x86_64+0x1007ba2e2)\r\n    #4 TestingSetup::TestingSetup(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::vector<char const*, std::__1::allocator<char const*> > const&) setup_common.cpp:190 (test_bitcoin:x86_64+0x1007bab35)\r\n    #5 blockencodings_tests::SimpleRoundTripTest_invoker() blockencodings_tests.cpp:55 (test_bitcoin:x86_64+0x100168e7c)\r\n    #6 boost::detail::function::void_function_invoker0<void (*)(), void>::invoke(boost::detail::function::function_buffer&) function_template.hpp:117 (test_bitcoin:x86_64+0x10010017d)\r\n    #7 boost::detail::function::function_obj_invoker0<boost::detail::forward, int>::invoke(boost::detail::function::function_buffer&) function_template.hpp:137 (test_bitcoin:x86_64+0x10007d8ba)\r\n    #8 boost::execution_monitor::catch_signals(boost::function<int ()> const&) execution_monitor.ipp:901 (test_bitcoin:x86_64+0x100023379)\r\n    #9 boost::execution_monitor::execute(boost::function<int ()> const&) execution_monitor.ipp:1299 (test_bitcoin:x86_64+0x10002366a)\r\n    #10 boost::unit_test::unit_test_monitor_t::execute_and_translate(boost::function<void ()> const&, unsigned long) unit_test_monitor.ipp:49 (test_bitcoin:x86_64+0x10001c5be)\r\n    #11 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) framework.ipp:815 (test_bitcoin:x86_64+0x10001e993)\r\n    #12 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) framework.ipp:740 (test_bitcoin:x86_64+0x10001fa1c)\r\n    #13 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) framework.ipp:740 (test_bitcoin:x86_64+0x10001fa1c)\r\n    #14 boost::unit_test::framework::run(unsigned long, bool) framework.ipp:1721 (test_bitcoin:x86_64+0x10001b158)\r\n    #15 boost::unit_test::unit_test_main(boost::unit_test::test_suite* (*)(int, char**), int, char**) unit_test_main.ipp:250 (test_bitcoin:x86_64+0x10003447b)\r\n    #16 main unit_test_main.ipp:306 (test_bitcoin:x86_64+0x100034b1b)\r\n\r\n  Mutex M455 (0x00010f089170) created at:\r\n    #0 pthread_mutex_init <null>:2 (libclang_rt.tsan_osx_dynamic.dylib:x86_64+0xb1a5)\r\n    #1 std::__1::recursive_mutex::recursive_mutex() <null>:2 (libc++.1.dylib:x86_64+0x365db)\r\n    #2 ImageLoaderMachO::doModInitFunctions(ImageLoader::LinkContext const&) <null>:2 (dyld:x86_64+0x1b1e2)\r\n\r\n  Mutex M132977 (0x7ffee1ba44b8) created at:\r\n    #0 pthread_mutex_init <null>:2 (libclang_rt.tsan_osx_dynamic.dylib:x86_64+0xb1a5)\r\n    #1 std::__1::recursive_mutex::recursive_mutex() <null>:2 (libc++.1.dylib:x86_64+0x365db)\r\n    #2 CTxMemPool::CTxMemPool(CBlockPolicyEstimator*, int) txmempool.cpp:456 (test_bitcoin:x86_64+0x100a708fb)\r\n    #3 blockencodings_tests::SimpleRoundTripTest::test_method() blockencodings_tests.cpp:57 (test_bitcoin:x86_64+0x10016991e)\r\n    #4 blockencodings_tests::SimpleRoundTripTest_invoker() blockencodings_tests.cpp:55 (test_bitcoin:x86_64+0x100169311)\r\n    #5 boost::detail::function::void_function_invoker0<void (*)(), void>::invoke(boost::detail::function::function_buffer&) function_template.hpp:117 (test_bitcoin:x86_64+0x10010017d)\r\n    #6 boost::detail::function::function_obj_invoker0<boost::detail::forward, int>::invoke(boost::detail::function::function_buffer&) function_template.hpp:137 (test_bitcoin:x86_64+0x10007d8ba)\r\n    #7 boost::execution_monitor::catch_signals(boost::function<int ()> const&) execution_monitor.ipp:901 (test_bitcoin:x86_64+0x100023379)\r\n    #8 boost::execution_monitor::execute(boost::function<int ()> const&) execution_monitor.ipp:1299 (test_bitcoin:x86_64+0x10002366a)\r\n    #9 boost::unit_test::unit_test_monitor_t::execute_and_translate(boost::function<void ()> const&, unsigned long) unit_test_monitor.ipp:49 (test_bitcoin:x86_64+0x10001c5be)\r\n    #10 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) framework.ipp:815 (test_bitcoin:x86_64+0x10001e993)\r\n    #11 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) framework.ipp:740 (test_bitcoin:x86_64+0x10001fa1c)\r\n    #12 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) framework.ipp:740 (test_bitcoin:x86_64+0x10001fa1c)\r\n    #13 boost::unit_test::framework::run(unsigned long, bool) framework.ipp:1721 (test_bitcoin:x86_64+0x10001b158)\r\n    #14 boost::unit_test::unit_test_main(boost::unit_test::test_suite* (*)(int, char**), int, char**) unit_test_main.ipp:250 (test_bitcoin:x86_64+0x10003447b)\r\n    #15 main unit_test_main.ipp:306 (test_bitcoin:x86_64+0x100034b1b)\r\n\r\n  Thread T1 (tid=18855157, running) created by main thread at:\r\n    #0 pthread_create <null>:2 (libclang_rt.tsan_osx_dynamic.dylib:x86_64+0x9fdf)\r\n    #1 ChainTestingSetup::ChainTestingSetup(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::vector<char const*, std::__1::allocator<char const*> > const&) setup_common.cpp:156 (test_bitcoin:x86_64+0x1007ba3c2)\r\n    #2 TestingSetup::TestingSetup(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::vector<char const*, std::__1::allocator<char const*> > const&) setup_common.cpp:190 (test_bitcoin:x86_64+0x1007bab35)\r\n    #3 blockencodings_tests::SimpleRoundTripTest_invoker() blockencodings_tests.cpp:55 (test_bitcoin:x86_64+0x100168e7c)\r\n    #4 boost::detail::function::void_function_invoker0<void (*)(), void>::invoke(boost::detail::function::function_buffer&) function_template.hpp:117 (test_bitcoin:x86_64+0x10010017d)\r\n    #5 boost::detail::function::function_obj_invoker0<boost::detail::forward, int>::invoke(boost::detail::function::function_buffer&) function_template.hpp:137 (test_bitcoin:x86_64+0x10007d8ba)\r\n    #6 boost::execution_monitor::catch_signals(boost::function<int ()> const&) execution_monitor.ipp:901 (test_bitcoin:x86_64+0x100023379)\r\n    #7 boost::execution_monitor::execute(boost::function<int ()> const&) execution_monitor.ipp:1299 (test_bitcoin:x86_64+0x10002366a)\r\n    #8 boost::unit_test::unit_test_monitor_t::execute_and_translate(boost::function<void ()> const&, unsigned long) unit_test_monitor.ipp:49 (test_bitcoin:x86_64+0x10001c5be)\r\n    #9 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) framework.ipp:815 (test_bitcoin:x86_64+0x10001e993)\r\n    #10 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) framework.ipp:740 (test_bitcoin:x86_64+0x10001fa1c)\r\n    #11 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) framework.ipp:740 (test_bitcoin:x86_64+0x10001fa1c)\r\n    #12 boost::unit_test::framework::run(unsigned long, bool) framework.ipp:1721 (test_bitcoin:x86_64+0x10001b158)\r\n    #13 boost::unit_test::unit_test_main(boost::unit_test::test_suite* (*)(int, char**), int, char**) unit_test_main.ipp:250 (test_bitcoin:x86_64+0x10003447b)\r\n    #14 main unit_test_main.ipp:306 (test_bitcoin:x86_64+0x100034b1b)\r\n\r\nSUMMARY: ThreadSanitizer: data race ostream:720 in std::__1::basic_ostream<char, std::__1::char_traits<char> >& std::__1::__put_character_sequence<char, std::__1::char_traits<char> >(std::__1::basic_ostream<char, std::__1::char_traits<char> >&, char const*, unsigned long)\r\n```\r\n</details>\r\n\r\nI was only able to reproduce this with `make check` instead of running the test individually via `test_bitcoin`. I also tried on ubuntu:impish with clang-13 and the issue doesn't happen. It seems to be logging-related, similar to https://github.com/bitcoin/bitcoin/issues/23366. The following diff suppresses the error, but as I could only reproduce on macOS, I'm not sure if it's worth merging:\r\n```\r\ndiff --git a/test/sanitizer_suppressions/tsan b/test/sanitizer_suppressions/tsan\r\nindex 3acf575d0..35732c611 100644\r\n--- a/test/sanitizer_suppressions/tsan\r\n+++ b/test/sanitizer_suppressions/tsan\r\n@@ -40,3 +40,5 @@ race:epoll_ctl\r\n \r\n # https://github.com/bitcoin/bitcoin/issues/23366\r\n race:std::__1::ios_base::*\r\n+\r\n+race:std::__1::basic_ostream*\r\n```",
    "user": {
      "login": "Crypt-iQ",
      "id": 15145615,
      "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
      "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Crypt-iQ",
      "html_url": "https://github.com/Crypt-iQ",
      "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
      "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
      "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
      "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
      "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "locked": false,
    "comments": 2,
    "closed_at": "2022-08-10T09:53:52Z",
    "created_at": "2022-04-10T16:42:27Z",
    "updated_at": "2022-08-10T09:53:52Z"
  },
  "events": [
    {
      "event": "comment_deleted",
      "id": 6405242541,
      "node_id": "CDE_lADOABII585HeL0xzwAAAAF9yD6t",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6405242541",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-11T01:59:09Z"
    },
    {
      "event": "commented",
      "id": 1208271497,
      "node_id": "IC_kwDOABII585IBMKJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1208271497",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-08T15:23:07Z",
      "updated_at": "2022-08-08T15:23:07Z",
      "author_association": "MEMBER",
      "body": "> I was only able to reproduce this with make check instead of running the test individually via test_bitcoin.\r\n\r\nI can recreate the same issue running the test directly, using master, and LLVM 14.0.6 (on macOS):\r\n```bash\r\n./autogen.sh\r\nCC=/opt/homebrew/opt/llvm/bin/clang CXX=/opt/homebrew/opt/llvm/bin/clang++ ./configure --with-sanitizers=thread\r\nmake -j9\r\nsrc/test/test_bitcoin -t blockencodings_tests -- DEBUG_LOG_OUT > file.log\r\n```\r\n\r\n```bash\r\nsrc/test/test_bitcoin -t blockencodings_tests -- DEBUG_LOG_OUT > file.file                                     \r\ntest_bitcoin(4184,0x104568580) malloc: nano zone abandoned due to inability to preallocate reserved vm space.\r\n==================\r\nWARNING: ThreadSanitizer: data race (pid=4184)\r\n  Read of size 4 at 0x000207121da8 by thread T1 (mutexes: write M0):\r\n    #0 std::__1::basic_ostream<char, std::__1::char_traits<char> >& std::__1::__put_character_sequence<char, std::__1::char_traits<char> >(std::__1::basic_ostream<char, std::__1::char_traits<char> >&, char const*, unsigned long) ostream:728 (test_bitcoin:arm64+0x10006d43c) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #1 std::__1::__function::__func<$_0, std::__1::allocator<$_0>, void (std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&)>::operator()(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) function.h:354 (test_bitcoin:arm64+0x100079bf0) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #2 BCLog::Logger::LogPrintStr(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, int, BCLog::LogFlags, BCLog::Level) logging.cpp:387 (test_bitcoin:arm64+0x100bf77a4) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #3 void LogPrintf_<char const*, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > >(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, int, BCLog::LogFlags, BCLog::Level, char const*, char const* const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) logging.h:198 (test_bitcoin:arm64+0x100b113f0) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #4 std::__1::__function::__func<CMainSignals::TransactionRemovedFromMempool(std::__1::shared_ptr<CTransaction const> const&, MemPoolRemovalReason, unsigned long long)::$_7, std::__1::allocator<CMainSignals::TransactionRemovedFromMempool(std::__1::shared_ptr<CTransaction const> const&, MemPoolRemovalReason, unsigned long long)::$_7>, void ()>::operator()() function.h:354 (test_bitcoin:arm64+0x100b17730) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #5 SingleThreadedSchedulerClient::ProcessQueue() scheduler.cpp:175 (test_bitcoin:arm64+0x100b92054) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #6 std::__1::__function::__func<SingleThreadedSchedulerClient::MaybeScheduleProcessQueue()::$_1, std::__1::allocator<SingleThreadedSchedulerClient::MaybeScheduleProcessQueue()::$_1>, void ()>::operator()() function.h:354 (test_bitcoin:arm64+0x100b94380) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #7 CScheduler::serviceQueue() scheduler.cpp:62 (test_bitcoin:arm64+0x100b91344) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #8 std::__1::__function::__func<ChainTestingSetup::ChainTestingSetup(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::vector<char const*, std::__1::allocator<char const*> > const&)::$_0, std::__1::allocator<ChainTestingSetup::ChainTestingSetup(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::vector<char const*, std::__1::allocator<char const*> > const&)::$_0>, void ()>::operator()() function.h:354 (test_bitcoin:arm64+0x1006c757c) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #9 util::TraceThread(char const*, std::__1::function<void ()>) thread.cpp:19 (test_bitcoin:arm64+0x100c26ef8) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #10 void* std::__1::__thread_proxy<std::__1::tuple<std::__1::unique_ptr<std::__1::__thread_struct, std::__1::default_delete<std::__1::__thread_struct> >, void (*)(char const*, std::__1::function<void ()>), char const*, ChainTestingSetup::ChainTestingSetup(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::vector<char const*, std::__1::allocator<char const*> > const&)::$_0> >(void*) thread:293 (test_bitcoin:arm64+0x1006c70e8) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n\r\n  Previous write of size 4 at 0x000207121da8 by main thread (mutexes: write M1, write M2):\r\n    #0 boost::unit_test::unit_test_log_t::operator<<(boost::unit_test::log::begin const&) unit_test_log.ipp:412 (test_bitcoin:arm64+0x10001d78c) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #1 boost::test_tools::tt_detail::report_assertion(boost::test_tools::assertion_result const&, boost::unit_test::lazy_ostream const&, boost::unit_test::basic_cstring<char const>, unsigned long, boost::test_tools::tt_detail::tool_level, boost::test_tools::tt_detail::check_type, unsigned long, ...) test_tools.ipp:380 (test_bitcoin:arm64+0x100028f7c) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #2 blockencodings_tests::SimpleRoundTripTest::test_method() blockencodings_tests.cpp:101 (test_bitcoin:arm64+0x10012f05c) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #3 blockencodings_tests::SimpleRoundTripTest_invoker() blockencodings_tests.cpp:55 (test_bitcoin:arm64+0x10012d670) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #4 boost::detail::function::void_function_invoker0<void (*)(), void>::invoke(boost::detail::function::function_buffer&) function_template.hpp:117 (test_bitcoin:arm64+0x1000d7f64) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #5 boost::detail::function::function_obj_invoker0<boost::detail::forward, int>::invoke(boost::detail::function::function_buffer&) function_template.hpp:137 (test_bitcoin:arm64+0x100076944) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #6 boost::execution_monitor::catch_signals(boost::function<int ()> const&) execution_monitor.ipp:903 (test_bitcoin:arm64+0x100022890) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #7 boost::execution_monitor::execute(boost::function<int ()> const&) execution_monitor.ipp:1301 (test_bitcoin:arm64+0x100022bf8) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #8 boost::unit_test::unit_test_monitor_t::execute_and_translate(boost::function<void ()> const&, unsigned long) unit_test_monitor.ipp:49 (test_bitcoin:arm64+0x10001ccf0) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #9 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) framework.ipp:815 (test_bitcoin:arm64+0x10001e870) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #10 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) framework.ipp:740 (test_bitcoin:arm64+0x10001f350) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #11 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) framework.ipp:740 (test_bitcoin:arm64+0x10001f350) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #12 boost::unit_test::framework::run(unsigned long, bool) framework.ipp:1722 (test_bitcoin:arm64+0x10001bc70) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #13 boost::unit_test::unit_test_main(boost::unit_test::test_suite* (*)(int, char**), int, char**) unit_test_main.ipp:250 (test_bitcoin:arm64+0x100032b58) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #14 main unit_test_main.ipp:306 (test_bitcoin:arm64+0x100033174) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n\r\n  Location is global 'std::__1::cout' at 0x000207121d98 (libc++.1.dylib+0x58fe3da8)\r\n\r\n  Mutex M0 (0x000109c02890) created at:\r\n    #0 pthread_mutex_lock <null>:127932992 (libclang_rt.tsan_osx_dynamic.dylib:arm64+0x1a324) (BuildId: 7d9d4f44bc723affb226d7dd15c6394532000000200000000100000000000b00)\r\n    #1 std::__1::mutex::lock() <null>:125830752 (libc++.1.dylib:arm64+0xf1a4) (BuildId: ca366de6c395319ab3abe22126d2839432000000200000000100000000050c00)\r\n    #2 BasicTestingSetup::BasicTestingSetup(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::vector<char const*, std::__1::allocator<char const*> > const&) setup_common.cpp:133 (test_bitcoin:arm64+0x1006c267c) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #3 ChainTestingSetup::ChainTestingSetup(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::vector<char const*, std::__1::allocator<char const*> > const&) setup_common.cpp:178 (test_bitcoin:arm64+0x1006c38ec) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #4 TestingSetup::TestingSetup(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::vector<char const*, std::__1::allocator<char const*> > const&) setup_common.cpp:223 (test_bitcoin:arm64+0x1006c3fe0) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #5 blockencodings_tests::SimpleRoundTripTest_invoker() blockencodings_tests.cpp:55 (test_bitcoin:arm64+0x10012d31c) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #6 boost::detail::function::void_function_invoker0<void (*)(), void>::invoke(boost::detail::function::function_buffer&) function_template.hpp:117 (test_bitcoin:arm64+0x1000d7f64) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #7 boost::detail::function::function_obj_invoker0<boost::detail::forward, int>::invoke(boost::detail::function::function_buffer&) function_template.hpp:137 (test_bitcoin:arm64+0x100076944) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #8 boost::execution_monitor::catch_signals(boost::function<int ()> const&) execution_monitor.ipp:903 (test_bitcoin:arm64+0x100022890) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #9 boost::execution_monitor::execute(boost::function<int ()> const&) execution_monitor.ipp:1301 (test_bitcoin:arm64+0x100022bf8) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #10 boost::unit_test::unit_test_monitor_t::execute_and_translate(boost::function<void ()> const&, unsigned long) unit_test_monitor.ipp:49 (test_bitcoin:arm64+0x10001ccf0) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #11 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) framework.ipp:815 (test_bitcoin:arm64+0x10001e870) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #12 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) framework.ipp:740 (test_bitcoin:arm64+0x10001f350) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #13 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) framework.ipp:740 (test_bitcoin:arm64+0x10001f350) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #14 boost::unit_test::framework::run(unsigned long, bool) framework.ipp:1722 (test_bitcoin:arm64+0x10001bc70) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #15 boost::unit_test::unit_test_main(boost::unit_test::test_suite* (*)(int, char**), int, char**) unit_test_main.ipp:250 (test_bitcoin:arm64+0x100032b58) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #16 main unit_test_main.ipp:306 (test_bitcoin:arm64+0x100033174) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n\r\n  Mutex M1 (0x000103cc5408) created at:\r\n    #0 pthread_mutex_init <null>:127932992 (libclang_rt.tsan_osx_dynamic.dylib:arm64+0x8bb4) (BuildId: 7d9d4f44bc723affb226d7dd15c6394532000000200000000100000000000b00)\r\n    #1 std::__1::recursive_mutex::recursive_mutex() <null>:125830752 (libc++.1.dylib:arm64+0xf24c) (BuildId: ca366de6c395319ab3abe22126d2839432000000200000000100000000050c00)\r\n    #2 invocation function for block in dyld4::Loader::findAndRunAllInitializers(dyld4::RuntimeState&) const <null>:119538592 (dyld:arm64+0x15f48) (BuildId: 75627683a78032adae34cf86dd23a26b32000000200000000100000000050c00)\r\n\r\n  Mutex M2 (0x0001092034e0) created at:\r\n    #0 pthread_mutex_init <null>:127932992 (libclang_rt.tsan_osx_dynamic.dylib:arm64+0x8bb4) (BuildId: 7d9d4f44bc723affb226d7dd15c6394532000000200000000100000000000b00)\r\n    #1 std::__1::recursive_mutex::recursive_mutex() <null>:125830752 (libc++.1.dylib:arm64+0xf24c) (BuildId: ca366de6c395319ab3abe22126d2839432000000200000000100000000050c00)\r\n    #2 CTxMemPool::CTxMemPool(kernel::MemPoolOptions const&) txmempool.cpp:469 (test_bitcoin:arm64+0x100ab1960) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #3 ChainTestingSetup::ChainTestingSetup(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::vector<char const*, std::__1::allocator<char const*> > const&) setup_common.cpp:189 (test_bitcoin:arm64+0x1006c3a98) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #4 TestingSetup::TestingSetup(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::vector<char const*, std::__1::allocator<char const*> > const&) setup_common.cpp:223 (test_bitcoin:arm64+0x1006c3fe0) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #5 blockencodings_tests::SimpleRoundTripTest_invoker() blockencodings_tests.cpp:55 (test_bitcoin:arm64+0x10012d31c) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #6 boost::detail::function::void_function_invoker0<void (*)(), void>::invoke(boost::detail::function::function_buffer&) function_template.hpp:117 (test_bitcoin:arm64+0x1000d7f64) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #7 boost::detail::function::function_obj_invoker0<boost::detail::forward, int>::invoke(boost::detail::function::function_buffer&) function_template.hpp:137 (test_bitcoin:arm64+0x100076944) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #8 boost::execution_monitor::catch_signals(boost::function<int ()> const&) execution_monitor.ipp:903 (test_bitcoin:arm64+0x100022890) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #9 boost::execution_monitor::execute(boost::function<int ()> const&) execution_monitor.ipp:1301 (test_bitcoin:arm64+0x100022bf8) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #10 boost::unit_test::unit_test_monitor_t::execute_and_translate(boost::function<void ()> const&, unsigned long) unit_test_monitor.ipp:49 (test_bitcoin:arm64+0x10001ccf0) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #11 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) framework.ipp:815 (test_bitcoin:arm64+0x10001e870) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #12 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) framework.ipp:740 (test_bitcoin:arm64+0x10001f350) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #13 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) framework.ipp:740 (test_bitcoin:arm64+0x10001f350) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #14 boost::unit_test::framework::run(unsigned long, bool) framework.ipp:1722 (test_bitcoin:arm64+0x10001bc70) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #15 boost::unit_test::unit_test_main(boost::unit_test::test_suite* (*)(int, char**), int, char**) unit_test_main.ipp:250 (test_bitcoin:arm64+0x100032b58) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #16 main unit_test_main.ipp:306 (test_bitcoin:arm64+0x100033174) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n\r\n  Thread T1 (tid=1930456, running) created by main thread at:\r\n    #0 pthread_create <null>:127932992 (libclang_rt.tsan_osx_dynamic.dylib:arm64+0x766c) (BuildId: 7d9d4f44bc723affb226d7dd15c6394532000000200000000100000000000b00)\r\n    #1 ChainTestingSetup::ChainTestingSetup(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::vector<char const*, std::__1::allocator<char const*> > const&) setup_common.cpp:185 (test_bitcoin:arm64+0x1006c39b4) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #2 TestingSetup::TestingSetup(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::vector<char const*, std::__1::allocator<char const*> > const&) setup_common.cpp:223 (test_bitcoin:arm64+0x1006c3fe0) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #3 blockencodings_tests::SimpleRoundTripTest_invoker() blockencodings_tests.cpp:55 (test_bitcoin:arm64+0x10012d31c) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #4 boost::detail::function::void_function_invoker0<void (*)(), void>::invoke(boost::detail::function::function_buffer&) function_template.hpp:117 (test_bitcoin:arm64+0x1000d7f64) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #5 boost::detail::function::function_obj_invoker0<boost::detail::forward, int>::invoke(boost::detail::function::function_buffer&) function_template.hpp:137 (test_bitcoin:arm64+0x100076944) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #6 boost::execution_monitor::catch_signals(boost::function<int ()> const&) execution_monitor.ipp:903 (test_bitcoin:arm64+0x100022890) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #7 boost::execution_monitor::execute(boost::function<int ()> const&) execution_monitor.ipp:1301 (test_bitcoin:arm64+0x100022bf8) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #8 boost::unit_test::unit_test_monitor_t::execute_and_translate(boost::function<void ()> const&, unsigned long) unit_test_monitor.ipp:49 (test_bitcoin:arm64+0x10001ccf0) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #9 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) framework.ipp:815 (test_bitcoin:arm64+0x10001e870) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #10 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) framework.ipp:740 (test_bitcoin:arm64+0x10001f350) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #11 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) framework.ipp:740 (test_bitcoin:arm64+0x10001f350) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #12 boost::unit_test::framework::run(unsigned long, bool) framework.ipp:1722 (test_bitcoin:arm64+0x10001bc70) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #13 boost::unit_test::unit_test_main(boost::unit_test::test_suite* (*)(int, char**), int, char**) unit_test_main.ipp:250 (test_bitcoin:arm64+0x100032b58) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #14 main unit_test_main.ipp:306 (test_bitcoin:arm64+0x100033174) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n\r\nSUMMARY: ThreadSanitizer: data race ostream:728 in std::__1::basic_ostream<char, std::__1::char_traits<char> >& std::__1::__put_character_sequence<char, std::__1::char_traits<char> >(std::__1::basic_ostream<char, std::__1::char_traits<char> >&, char const*, unsigned long)\r\n==================\r\n==================\r\nWARNING: ThreadSanitizer: data race (pid=4184)\r\n  Read of size 8 at 0x000207121db8 by thread T1 (mutexes: write M0):\r\n    #0 std::__1::ostreambuf_iterator<char, std::__1::char_traits<char> > std::__1::__pad_and_output<char, std::__1::char_traits<char> >(std::__1::ostreambuf_iterator<char, std::__1::char_traits<char> >, char const*, char const*, char const*, std::__1::ios_base&, char) locale:1414 (test_bitcoin:arm64+0x10006d638) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #1 std::__1::basic_ostream<char, std::__1::char_traits<char> >& std::__1::__put_character_sequence<char, std::__1::char_traits<char> >(std::__1::basic_ostream<char, std::__1::char_traits<char> >&, char const*, unsigned long) ostream:726 (test_bitcoin:arm64+0x10006d4d8) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #2 std::__1::__function::__func<$_0, std::__1::allocator<$_0>, void (std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&)>::operator()(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) function.h:354 (test_bitcoin:arm64+0x100079bf0) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #3 BCLog::Logger::LogPrintStr(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, int, BCLog::LogFlags, BCLog::Level) logging.cpp:387 (test_bitcoin:arm64+0x100bf77a4) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #4 void LogPrintf_<char const*, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > >(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, int, BCLog::LogFlags, BCLog::Level, char const*, char const* const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) logging.h:198 (test_bitcoin:arm64+0x100b113f0) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #5 std::__1::__function::__func<CMainSignals::TransactionRemovedFromMempool(std::__1::shared_ptr<CTransaction const> const&, MemPoolRemovalReason, unsigned long long)::$_7, std::__1::allocator<CMainSignals::TransactionRemovedFromMempool(std::__1::shared_ptr<CTransaction const> const&, MemPoolRemovalReason, unsigned long long)::$_7>, void ()>::operator()() function.h:354 (test_bitcoin:arm64+0x100b17730) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #6 SingleThreadedSchedulerClient::ProcessQueue() scheduler.cpp:175 (test_bitcoin:arm64+0x100b92054) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #7 std::__1::__function::__func<SingleThreadedSchedulerClient::MaybeScheduleProcessQueue()::$_1, std::__1::allocator<SingleThreadedSchedulerClient::MaybeScheduleProcessQueue()::$_1>, void ()>::operator()() function.h:354 (test_bitcoin:arm64+0x100b94380) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #8 CScheduler::serviceQueue() scheduler.cpp:62 (test_bitcoin:arm64+0x100b91344) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #9 std::__1::__function::__func<ChainTestingSetup::ChainTestingSetup(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::vector<char const*, std::__1::allocator<char const*> > const&)::$_0, std::__1::allocator<ChainTestingSetup::ChainTestingSetup(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::vector<char const*, std::__1::allocator<char const*> > const&)::$_0>, void ()>::operator()() function.h:354 (test_bitcoin:arm64+0x1006c757c) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #10 util::TraceThread(char const*, std::__1::function<void ()>) thread.cpp:19 (test_bitcoin:arm64+0x100c26ef8) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #11 void* std::__1::__thread_proxy<std::__1::tuple<std::__1::unique_ptr<std::__1::__thread_struct, std::__1::default_delete<std::__1::__thread_struct> >, void (*)(char const*, std::__1::function<void ()>), char const*, ChainTestingSetup::ChainTestingSetup(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::vector<char const*, std::__1::allocator<char const*> > const&)::$_0> >(void*) thread:293 (test_bitcoin:arm64+0x1006c70e8) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n\r\n  Previous write of size 8 at 0x000207121db8 by main thread (mutexes: write M1, write M2):\r\n    #0 boost::unit_test::unit_test_log_t::operator<<(boost::unit_test::log::begin const&) unit_test_log.ipp:412 (test_bitcoin:arm64+0x10001d770) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #1 boost::test_tools::tt_detail::report_assertion(boost::test_tools::assertion_result const&, boost::unit_test::lazy_ostream const&, boost::unit_test::basic_cstring<char const>, unsigned long, boost::test_tools::tt_detail::tool_level, boost::test_tools::tt_detail::check_type, unsigned long, ...) test_tools.ipp:380 (test_bitcoin:arm64+0x100028f7c) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #2 blockencodings_tests::SimpleRoundTripTest::test_method() blockencodings_tests.cpp:101 (test_bitcoin:arm64+0x10012f05c) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #3 blockencodings_tests::SimpleRoundTripTest_invoker() blockencodings_tests.cpp:55 (test_bitcoin:arm64+0x10012d670) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #4 boost::detail::function::void_function_invoker0<void (*)(), void>::invoke(boost::detail::function::function_buffer&) function_template.hpp:117 (test_bitcoin:arm64+0x1000d7f64) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #5 boost::detail::function::function_obj_invoker0<boost::detail::forward, int>::invoke(boost::detail::function::function_buffer&) function_template.hpp:137 (test_bitcoin:arm64+0x100076944) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #6 boost::execution_monitor::catch_signals(boost::function<int ()> const&) execution_monitor.ipp:903 (test_bitcoin:arm64+0x100022890) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #7 boost::execution_monitor::execute(boost::function<int ()> const&) execution_monitor.ipp:1301 (test_bitcoin:arm64+0x100022bf8) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #8 boost::unit_test::unit_test_monitor_t::execute_and_translate(boost::function<void ()> const&, unsigned long) unit_test_monitor.ipp:49 (test_bitcoin:arm64+0x10001ccf0) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #9 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) framework.ipp:815 (test_bitcoin:arm64+0x10001e870) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #10 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) framework.ipp:740 (test_bitcoin:arm64+0x10001f350) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #11 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) framework.ipp:740 (test_bitcoin:arm64+0x10001f350) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #12 boost::unit_test::framework::run(unsigned long, bool) framework.ipp:1722 (test_bitcoin:arm64+0x10001bc70) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #13 boost::unit_test::unit_test_main(boost::unit_test::test_suite* (*)(int, char**), int, char**) unit_test_main.ipp:250 (test_bitcoin:arm64+0x100032b58) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #14 main unit_test_main.ipp:306 (test_bitcoin:arm64+0x100033174) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n\r\n  Location is global 'std::__1::cout' at 0x000207121d98 (libc++.1.dylib+0x58fe3db8)\r\n\r\n  Mutex M0 (0x000109c02890) created at:\r\n    #0 pthread_mutex_lock <null>:127932992 (libclang_rt.tsan_osx_dynamic.dylib:arm64+0x1a324) (BuildId: 7d9d4f44bc723affb226d7dd15c6394532000000200000000100000000000b00)\r\n    #1 std::__1::mutex::lock() <null>:125830752 (libc++.1.dylib:arm64+0xf1a4) (BuildId: ca366de6c395319ab3abe22126d2839432000000200000000100000000050c00)\r\n    #2 BasicTestingSetup::BasicTestingSetup(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::vector<char const*, std::__1::allocator<char const*> > const&) setup_common.cpp:133 (test_bitcoin:arm64+0x1006c267c) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #3 ChainTestingSetup::ChainTestingSetup(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::vector<char const*, std::__1::allocator<char const*> > const&) setup_common.cpp:178 (test_bitcoin:arm64+0x1006c38ec) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #4 TestingSetup::TestingSetup(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::vector<char const*, std::__1::allocator<char const*> > const&) setup_common.cpp:223 (test_bitcoin:arm64+0x1006c3fe0) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #5 blockencodings_tests::SimpleRoundTripTest_invoker() blockencodings_tests.cpp:55 (test_bitcoin:arm64+0x10012d31c) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #6 boost::detail::function::void_function_invoker0<void (*)(), void>::invoke(boost::detail::function::function_buffer&) function_template.hpp:117 (test_bitcoin:arm64+0x1000d7f64) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #7 boost::detail::function::function_obj_invoker0<boost::detail::forward, int>::invoke(boost::detail::function::function_buffer&) function_template.hpp:137 (test_bitcoin:arm64+0x100076944) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #8 boost::execution_monitor::catch_signals(boost::function<int ()> const&) execution_monitor.ipp:903 (test_bitcoin:arm64+0x100022890) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #9 boost::execution_monitor::execute(boost::function<int ()> const&) execution_monitor.ipp:1301 (test_bitcoin:arm64+0x100022bf8) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #10 boost::unit_test::unit_test_monitor_t::execute_and_translate(boost::function<void ()> const&, unsigned long) unit_test_monitor.ipp:49 (test_bitcoin:arm64+0x10001ccf0) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #11 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) framework.ipp:815 (test_bitcoin:arm64+0x10001e870) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #12 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) framework.ipp:740 (test_bitcoin:arm64+0x10001f350) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #13 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) framework.ipp:740 (test_bitcoin:arm64+0x10001f350) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #14 boost::unit_test::framework::run(unsigned long, bool) framework.ipp:1722 (test_bitcoin:arm64+0x10001bc70) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #15 boost::unit_test::unit_test_main(boost::unit_test::test_suite* (*)(int, char**), int, char**) unit_test_main.ipp:250 (test_bitcoin:arm64+0x100032b58) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #16 main unit_test_main.ipp:306 (test_bitcoin:arm64+0x100033174) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n\r\n  Mutex M1 (0x000103cc5408) created at:\r\n    #0 pthread_mutex_init <null>:127932992 (libclang_rt.tsan_osx_dynamic.dylib:arm64+0x8bb4) (BuildId: 7d9d4f44bc723affb226d7dd15c6394532000000200000000100000000000b00)\r\n    #1 std::__1::recursive_mutex::recursive_mutex() <null>:125830752 (libc++.1.dylib:arm64+0xf24c) (BuildId: ca366de6c395319ab3abe22126d2839432000000200000000100000000050c00)\r\n    #2 invocation function for block in dyld4::Loader::findAndRunAllInitializers(dyld4::RuntimeState&) const <null>:119538592 (dyld:arm64+0x15f48) (BuildId: 75627683a78032adae34cf86dd23a26b32000000200000000100000000050c00)\r\n\r\n  Mutex M2 (0x0001092034e0) created at:\r\n    #0 pthread_mutex_init <null>:127932992 (libclang_rt.tsan_osx_dynamic.dylib:arm64+0x8bb4) (BuildId: 7d9d4f44bc723affb226d7dd15c6394532000000200000000100000000000b00)\r\n    #1 std::__1::recursive_mutex::recursive_mutex() <null>:125830752 (libc++.1.dylib:arm64+0xf24c) (BuildId: ca366de6c395319ab3abe22126d2839432000000200000000100000000050c00)\r\n    #2 CTxMemPool::CTxMemPool(kernel::MemPoolOptions const&) txmempool.cpp:469 (test_bitcoin:arm64+0x100ab1960) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #3 ChainTestingSetup::ChainTestingSetup(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::vector<char const*, std::__1::allocator<char const*> > const&) setup_common.cpp:189 (test_bitcoin:arm64+0x1006c3a98) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #4 TestingSetup::TestingSetup(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::vector<char const*, std::__1::allocator<char const*> > const&) setup_common.cpp:223 (test_bitcoin:arm64+0x1006c3fe0) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #5 blockencodings_tests::SimpleRoundTripTest_invoker() blockencodings_tests.cpp:55 (test_bitcoin:arm64+0x10012d31c) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #6 boost::detail::function::void_function_invoker0<void (*)(), void>::invoke(boost::detail::function::function_buffer&) function_template.hpp:117 (test_bitcoin:arm64+0x1000d7f64) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #7 boost::detail::function::function_obj_invoker0<boost::detail::forward, int>::invoke(boost::detail::function::function_buffer&) function_template.hpp:137 (test_bitcoin:arm64+0x100076944) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #8 boost::execution_monitor::catch_signals(boost::function<int ()> const&) execution_monitor.ipp:903 (test_bitcoin:arm64+0x100022890) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #9 boost::execution_monitor::execute(boost::function<int ()> const&) execution_monitor.ipp:1301 (test_bitcoin:arm64+0x100022bf8) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #10 boost::unit_test::unit_test_monitor_t::execute_and_translate(boost::function<void ()> const&, unsigned long) unit_test_monitor.ipp:49 (test_bitcoin:arm64+0x10001ccf0) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #11 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) framework.ipp:815 (test_bitcoin:arm64+0x10001e870) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #12 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) framework.ipp:740 (test_bitcoin:arm64+0x10001f350) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #13 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) framework.ipp:740 (test_bitcoin:arm64+0x10001f350) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #14 boost::unit_test::framework::run(unsigned long, bool) framework.ipp:1722 (test_bitcoin:arm64+0x10001bc70) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #15 boost::unit_test::unit_test_main(boost::unit_test::test_suite* (*)(int, char**), int, char**) unit_test_main.ipp:250 (test_bitcoin:arm64+0x100032b58) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #16 main unit_test_main.ipp:306 (test_bitcoin:arm64+0x100033174) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n\r\n  Thread T1 (tid=1930456, running) created by main thread at:\r\n    #0 pthread_create <null>:127932992 (libclang_rt.tsan_osx_dynamic.dylib:arm64+0x766c) (BuildId: 7d9d4f44bc723affb226d7dd15c6394532000000200000000100000000000b00)\r\n    #1 ChainTestingSetup::ChainTestingSetup(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::vector<char const*, std::__1::allocator<char const*> > const&) setup_common.cpp:185 (test_bitcoin:arm64+0x1006c39b4) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #2 TestingSetup::TestingSetup(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::vector<char const*, std::__1::allocator<char const*> > const&) setup_common.cpp:223 (test_bitcoin:arm64+0x1006c3fe0) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #3 blockencodings_tests::SimpleRoundTripTest_invoker() blockencodings_tests.cpp:55 (test_bitcoin:arm64+0x10012d31c) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #4 boost::detail::function::void_function_invoker0<void (*)(), void>::invoke(boost::detail::function::function_buffer&) function_template.hpp:117 (test_bitcoin:arm64+0x1000d7f64) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #5 boost::detail::function::function_obj_invoker0<boost::detail::forward, int>::invoke(boost::detail::function::function_buffer&) function_template.hpp:137 (test_bitcoin:arm64+0x100076944) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #6 boost::execution_monitor::catch_signals(boost::function<int ()> const&) execution_monitor.ipp:903 (test_bitcoin:arm64+0x100022890) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #7 boost::execution_monitor::execute(boost::function<int ()> const&) execution_monitor.ipp:1301 (test_bitcoin:arm64+0x100022bf8) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #8 boost::unit_test::unit_test_monitor_t::execute_and_translate(boost::function<void ()> const&, unsigned long) unit_test_monitor.ipp:49 (test_bitcoin:arm64+0x10001ccf0) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #9 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) framework.ipp:815 (test_bitcoin:arm64+0x10001e870) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #10 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) framework.ipp:740 (test_bitcoin:arm64+0x10001f350) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #11 boost::unit_test::framework::state::execute_test_tree(unsigned long, unsigned long, boost::unit_test::framework::state::random_generator_helper const*) framework.ipp:740 (test_bitcoin:arm64+0x10001f350) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #12 boost::unit_test::framework::run(unsigned long, bool) framework.ipp:1722 (test_bitcoin:arm64+0x10001bc70) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #13 boost::unit_test::unit_test_main(boost::unit_test::test_suite* (*)(int, char**), int, char**) unit_test_main.ipp:250 (test_bitcoin:arm64+0x100032b58) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n    #14 main unit_test_main.ipp:306 (test_bitcoin:arm64+0x100033174) (BuildId: 1d35713f77d338d5b1b8939599477a3a32000000200000000100000000000c00)\r\n\r\nSUMMARY: ThreadSanitizer: data race locale:1414 in std::__1::ostreambuf_iterator<char, std::__1::char_traits<char> > std::__1::__pad_and_output<char, std::__1::char_traits<char> >(std::__1::ostreambuf_iterator<char, std::__1::char_traits<char> >, char const*, char const*, char const*, std::__1::ios_base&, char)\r\n==================\r\n\r\n*** No errors detected\r\nThreadSanitizer: reported 2 warnings\r\n```\r\n\r\nHowever I think we could consolidate this issue into #23366.",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/24819#issuecomment-1208271497",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24819"
    },
    {
      "event": "commented",
      "id": 1210438677,
      "node_id": "IC_kwDOABII585IJdQV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1210438677",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-10T09:53:52Z",
      "updated_at": "2022-08-10T09:53:52Z",
      "author_association": "MEMBER",
      "body": "> However I think we could consolidate this issue into https://github.com/bitcoin/bitcoin/issues/23366.\r\n\r\nOk",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/24819#issuecomment-1210438677",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24819"
    },
    {
      "event": "closed",
      "id": 7162321628,
      "node_id": "CE_lADOABII585HeL0xzwAAAAGq6Frc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7162321628",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-10T09:53:52Z"
    }
  ]
}