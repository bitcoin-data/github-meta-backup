{
  "type": "issue",
  "issue": {
    "id": 173987432,
    "node_id": "MDU6SXNzdWUxNzM5ODc0MzI=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8627",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8627/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8627/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8627/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/8627",
    "number": 8627,
    "state": "closed",
    "state_reason": "completed",
    "title": "Blockchain download duplication",
    "body": "[Bitcoin Core 0.13.0 blockchain download.docx](https://github.com/bitcoin/bitcoin/files/444614/Bitcoin.Core.0.13.0.blockchain.download.docx)\n\n<!--- Remove sections that do not apply -->\n### Describe the issue\n\nI have a Windows 2012 R2 Server running on VMware VM that I just installed Bitcoin Core 0.13.0 on.  I wanted to store the blockchain on D:  I allocated 120Gb for this drive.  The blockchain initially downloaded through blk00559,dat  into the folder D:\\blocks.  For some reason the server restarted and upon restart of Bitcoin-QT the software appears to be downloading the blockchain again in the directory D:\\blocks\\blocks \n### Is the issue reproducible?\n\nYes, I had this problem initially and uninstalled software, deleted all data from D: and c:\\program files\\Bitcoin.  I then reinstalled software and tried again.  The setting for D:\\blocks for the data directory seemed to survive the uninstall however.\n#### List steps to reproduce below:\n1. \n2. \n3. \n### Expected behavior\n\nTell us what should happen\nI expected blockchain to download and run off D:\\blocks\n### Actual behavior\n\nTell us what happens instead\nInitial download through blk00559.dat in D:\\blocks....   Machine restart (unknown why)...  Restart of Bitcoin-QT - Download of blockchain again in D:\\blocks\\blocks...  \n### Any information in the debug.log file related to this issue?\n\nI do not find the %appdata% directory!  I have 0.12.0 running on another machine (windows 10) that contains this directory but not on the windows 2012 server.  \n### Screenshots (if available)\n\nsee attached docx file\n### What binary version was used (official or self compiled)\n\nWindows 64 bit 0.13.0\n### Machine specs: CPU, RAM, Disk space & OS (Windows, OS X, Linux)\n\nVMware V5.5 VM (ver 8), 8 GB ram, 1 CPU, 2 disk drives (C: for OS/apps 40Gb, D: for blockchain 120Gb), Windows 2012 R2 Server.\n",
    "user": {
      "login": "alkulp",
      "id": 4605562,
      "node_id": "MDQ6VXNlcjQ2MDU1NjI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4605562?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alkulp",
      "html_url": "https://github.com/alkulp",
      "followers_url": "https://api.github.com/users/alkulp/followers",
      "following_url": "https://api.github.com/users/alkulp/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/alkulp/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/alkulp/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/alkulp/subscriptions",
      "organizations_url": "https://api.github.com/users/alkulp/orgs",
      "repos_url": "https://api.github.com/users/alkulp/repos",
      "events_url": "https://api.github.com/users/alkulp/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/alkulp/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "assignees": [],
    "author_association": "NONE",
    "locked": true,
    "active_lock_reason": "resolved",
    "comments": 2,
    "closed_at": "2016-08-30T19:49:58Z",
    "created_at": "2016-08-30T10:47:19Z",
    "updated_at": "2021-09-08T12:24:33Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 243422377,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI0MzQyMjM3Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/243422377",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-08-30T12:27:33Z",
      "updated_at": "2016-08-30T12:27:33Z",
      "author_association": "MEMBER",
      "body": "Your datadir is either D:\\ or D:\\blocks. The first run it seems it was\nD:\\ so blocks were downloaded to D:\\blocks. The second run it looks like\nthe datadir is D:\\blocks so blocks were downloaded to D:\\blocks\\blocks.\nThere should be a debug.log file in both D:\\ and D:\\blocks. Please\nprovide those.\n\nDid you change any settings between runs? What is your startup command?\n\nOn 8/30/2016 6:47 AM, alkulp wrote:\n\n> Bitcoin Core 0.13.0 blockchain download.docx\n> https://github.com/bitcoin/bitcoin/files/444614/Bitcoin.Core.0.13.0.blockchain.download.docx\n> \n> ```\n>   Describe the issue\n> ```\n> \n> I have a Windows 2012 R2 Server running on VMware VM that I just\n> installed Bitcoin Core 0.13.0 on. I wanted to store the blockchain on\n> D: I allocated 120Gb for this drive. The blockchain initially\n> downloaded through blk00559,dat into the folder D:\\blocks. For some\n> reason the server restarted and upon restart of Bitcoin-QT the\n> software appears to be downloading the blockchain again in the\n> directory D:\\blocks\\blocks\n> \n> ```\n>   Is the issue reproducible?\n> ```\n> \n> Yes, I had this problem initially and uninstalled software, deleted\n> all data from D: and c:\\program files\\Bitcoin. I then reinstalled\n> software and tried again. The setting for D:\\blocks for the data\n> directory seemed to survive the uninstall however.\n> \n> ```\n>     List steps to reproduce below:\n> ```\n> \n> 1.\n> \n> 2.\n> \n> 3.\n> \n> ```\n>   Expected behavior\n> ```\n> \n> Tell us what should happen\n> I expected blockchain to download and run off D:\\blocks\n> \n> ```\n>   Actual behavior\n> ```\n> \n> Tell us what happens instead\n> Initial download through blk00559.dat in D:\\blocks.... Machine restart\n> (unknown why)... Restart of Bitcoin-QT - Download of blockchain again\n> in D:\\blocks\\blocks...\n> \n> ```\n>   Any information in the debug.log file related to this issue?\n> ```\n> \n> I do not find the %appdata% directory! I have 0.12.0 running on\n> another machine (windows 10) that contains this directory but not on\n> the windows 2012 server.\n> \n> ```\n>   Screenshots (if available)\n> ```\n> \n> see attached docx file\n> \n> ```\n>   What binary version was used (official or self compiled)\n> ```\n> \n> Windows 64 bit 0.13.0\n> \n> ```\n>   Machine specs: CPU, RAM, Disk space & OS (Windows, OS X, Linux)\n> ```\n> \n> VMware V5.5 VM (ver 8), 8 GB ram, 1 CPU, 2 disk drives (C: for OS/apps\n> 40Gb, D: for blockchain 120Gb), Windows 2012 R2 Server.\n> \n> â€”\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> https://github.com/bitcoin/bitcoin/issues/8627, or mute the thread\n> https://github.com/notifications/unsubscribe-auth/ADm2gji-h0YuXxq8HgW27P6OyoJS4rtxks5qlApLgaJpZM4JwZBs.\n",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/8627#issuecomment-243422377",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8627"
    },
    {
      "event": "commented",
      "id": 243557593,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI0MzU1NzU5Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/243557593",
      "actor": {
        "login": "alkulp",
        "id": 4605562,
        "node_id": "MDQ6VXNlcjQ2MDU1NjI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4605562?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/alkulp",
        "html_url": "https://github.com/alkulp",
        "followers_url": "https://api.github.com/users/alkulp/followers",
        "following_url": "https://api.github.com/users/alkulp/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/alkulp/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/alkulp/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/alkulp/subscriptions",
        "organizations_url": "https://api.github.com/users/alkulp/orgs",
        "repos_url": "https://api.github.com/users/alkulp/repos",
        "events_url": "https://api.github.com/users/alkulp/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/alkulp/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-08-30T19:49:58Z",
      "updated_at": "2016-08-30T19:49:58Z",
      "author_association": "NONE",
      "body": "I don't have a startup command - I'm using bitcoin-qt.exe in windows.  \n\nIt does seem like I changed the datadir from D;\\ to D:\\blocks.  So now I've changed it back and restarted the program.  It appears to be validating the blocks from disk rather than re-downloading them.  So I guess that is the problem.  Thanks so much.\n",
      "user": {
        "login": "alkulp",
        "id": 4605562,
        "node_id": "MDQ6VXNlcjQ2MDU1NjI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4605562?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/alkulp",
        "html_url": "https://github.com/alkulp",
        "followers_url": "https://api.github.com/users/alkulp/followers",
        "following_url": "https://api.github.com/users/alkulp/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/alkulp/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/alkulp/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/alkulp/subscriptions",
        "organizations_url": "https://api.github.com/users/alkulp/orgs",
        "repos_url": "https://api.github.com/users/alkulp/repos",
        "events_url": "https://api.github.com/users/alkulp/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/alkulp/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/8627#issuecomment-243557593",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8627"
    },
    {
      "event": "closed",
      "id": 772683060,
      "node_id": "MDExOkNsb3NlZEV2ZW50NzcyNjgzMDYw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/772683060",
      "actor": {
        "login": "alkulp",
        "id": 4605562,
        "node_id": "MDQ6VXNlcjQ2MDU1NjI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4605562?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/alkulp",
        "html_url": "https://github.com/alkulp",
        "followers_url": "https://api.github.com/users/alkulp/followers",
        "following_url": "https://api.github.com/users/alkulp/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/alkulp/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/alkulp/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/alkulp/subscriptions",
        "organizations_url": "https://api.github.com/users/alkulp/orgs",
        "repos_url": "https://api.github.com/users/alkulp/repos",
        "events_url": "https://api.github.com/users/alkulp/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/alkulp/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-08-30T19:49:58Z"
    },
    {
      "event": "locked",
      "id": 5271960438,
      "node_id": "LOE_lADOABII584KXtZozwAAAAE6O7t2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5271960438",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-08T12:24:32Z",
      "lock_reason": "resolved"
    }
  ]
}