{
  "type": "issue",
  "issue": {
    "id": 861399362,
    "node_id": "MDU6SXNzdWU4NjEzOTkzNjI=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21730",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21730/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21730/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21730/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/21730",
    "number": 21730,
    "state": "closed",
    "state_reason": "completed",
    "title": "net: No outgoing block-relay-only connections",
    "body": "```\r\nhebasto@odroid-hc1:~$ bitcoin-cli -netinfo 1\r\nBitcoin Core v0.21.1rc1 - 70016/Satoshi:0.21.1/\r\n\r\nPeer connections sorted by direction and min ping\r\n<-> relay   net  mping   ping send recv  txn  blk  age  id \r\n in  full  ipv4                  0    1              0 120 \r\n in  full  ipv4     37     37   12   24              5  65 \r\n in  full  ipv4     44     44    8    8              6  59 \r\n in  full  ipv4     46     48   12   72              5  70 \r\n in  full  ipv4     48     49   12    1    1         7  42 \r\n in block  ipv4     55     55    3    0              0 128 \r\n in  full  ipv4     57     57    4   35              1 109 \r\n in  full  ipv4     61     61   11    3    0         7  37 \r\n in  full  ipv4     68     68   11   35              8  16 \r\n in  full  ipv4     72     72    4   34              8  17 \r\n in block  ipv4    234    234   10   10              0 126 \r\n in  full  ipv4    247    247   12   73              5  69 \r\n in  full  ipv4    253    308    2   47              8   8 \r\n in  full  ipv4    253    253   11   81              1 116 \r\n in block  ipv4    269    269    0   15              0 124 \r\n in block  ipv4    300    300   11   10              0 125 \r\n in  full  ipv4    300    432   11   44              8  10 \r\n in  full  ipv4    381    698    5    0    0         3  94 \r\n in  full  ipv4    381    384    2    2              2 105 \r\n in  full  ipv4    493    493   12   36              4  76 \r\n in  full  ipv4    802    802    2  131              2 103 \r\n in  full  ipv4   7888   7888    8   75              1 114 \r\n in  full  ipv4  14144  79875    4    4              3  83 \r\nout  full  ipv4    432    600    3    2    0    3    8  27 \r\nout  full onion    455    648    1    2    0         8   5 \r\nout  full onion    475    495    0    2    0         3  93 \r\nout  full  ipv4    492    864    0    1    0         3  92 \r\nout  full  ipv4    541    614    2    2    0         6  50 \r\nout  full  ipv4    587    587    1    0    0         7  46 \r\nout  full onion    652    826    5    4    0         8   6 \r\nout  full  ipv4    656    720    1    3    0         6  49 \r\nout  full onion    658    658    1   15    0         1 107 \r\nout  full onion    679    679    0    0    0         8  20 \r\n                    ms     ms  sec  sec  min  min  min\r\n\r\n        ipv4    ipv6   onion   total  block-relay\r\nin        23       0       0      23       4\r\nout        5       0       5      10       0\r\ntotal     28       0       5      33       4\r\n\r\nLocal addresses\r\n95.164.65.194                                                      port   8333    score     76\r\nejxefzf5fpst4mg2rib7grksvscl7p6fvjp6agzgfc2yglxnjtxc3aid.onion     port   8333    score      4\r\n```",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "assignees": [],
    "author_association": "MEMBER",
    "locked": true,
    "comments": 1,
    "closed_at": "2021-04-19T14:59:14Z",
    "created_at": "2021-04-19T14:54:07Z",
    "updated_at": "2021-04-20T00:28:52Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 4613186490,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQ2MTMxODY0OTA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4613186490",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-19T14:54:07Z",
      "label": {
        "name": "Bug",
        "color": "FBBAAB"
      }
    },
    {
      "event": "labeled",
      "id": 4613188456,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQ2MTMxODg0NTY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4613188456",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-19T14:54:25Z",
      "label": {
        "name": "P2P",
        "color": "006b75"
      }
    },
    {
      "event": "commented",
      "id": 822535412,
      "node_id": "MDEyOklzc3VlQ29tbWVudDgyMjUzNTQxMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/822535412",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-19T14:58:22Z",
      "updated_at": "2021-04-19T14:58:22Z",
      "author_association": "MEMBER",
      "body": "The excerpt from the `debug.log` with configuration options:\r\n```\r\n2021-04-19T14:43:01Z Bitcoin Core version v0.21.1rc1 (release build)\r\n2021-04-19T14:43:01Z InitParameterInteraction: parameter interaction: -proxy set -> setting -upnp=0\r\n2021-04-19T14:43:01Z InitParameterInteraction: parameter interaction: -proxy set -> setting -discover=0\r\n2021-04-19T14:43:01Z Assuming ancestors of block 0000000000000000000b9d2ec5a352ecba0592946514a92f14319dc2b367fc72 have valid signatures.\r\n2021-04-19T14:43:01Z Setting nMinimumChainWork=00000000000000000000000000000000000000001533efd8d716a517fe2c5008\r\n2021-04-19T14:43:01Z Using the 'standard' SHA256 implementation\r\n2021-04-19T14:43:01Z Wallet disabled!\r\n2021-04-19T14:43:01Z Default data directory /home/core/.bitcoin\r\n2021-04-19T14:43:01Z Using data directory /var/lib/bitcoind\r\n2021-04-19T14:43:01Z Config file: /etc/bitcoin/bitcoin.conf\r\n2021-04-19T14:43:01Z Config file arg: addnode=\"rp7k2go3s5lyj3fnj6zn62ktarlrsft2ohlsxkyd7v3e3idqyptvread.onion\"\r\n2021-04-19T14:43:01Z Config file arg: addnode=\"mwmfluek4au6mxxpw6fy7sjhkm65bdfc7izc7lpz3trewfdghyrzsbid.onion\"\r\n2021-04-19T14:43:01Z Config file arg: dbcache=\"4\"\r\n2021-04-19T14:43:01Z Config file arg: disablewallet=\"1\"\r\n2021-04-19T14:43:01Z Config file arg: externalip=\"95.164.65.194\"\r\n2021-04-19T14:43:01Z Config file arg: externalip=\"ejxefzf5fpst4mg2rib7grksvscl7p6fvjp6agzgfc2yglxnjtxc3aid.onion\"\r\n2021-04-19T14:43:01Z Config file arg: listen=\"1\"\r\n2021-04-19T14:43:01Z Config file arg: listenonion=\"0\"\r\n2021-04-19T14:43:01Z Config file arg: logthreadnames=\"1\"\r\n2021-04-19T14:43:01Z Config file arg: par=\"4\"\r\n2021-04-19T14:43:01Z Config file arg: proxy=\"127.0.0.1:9050\"\r\n2021-04-19T14:43:01Z Config file arg: rpcauth=****\r\n2021-04-19T14:43:01Z Config file arg: rpcthreads=\"2\"\r\n2021-04-19T14:43:01Z Config file arg: server=\"1\"\r\n2021-04-19T14:43:01Z Config file arg: txindex=\"1\"\r\n2021-04-19T14:43:01Z Command-line arg: blocksdir=\"/mnt/hdd\"\r\n2021-04-19T14:43:01Z Command-line arg: conf=\"/etc/bitcoin/bitcoin.conf\"\r\n2021-04-19T14:43:01Z Command-line arg: daemon=\"\"\r\n2021-04-19T14:43:01Z Command-line arg: datadir=\"/var/lib/bitcoind\"\r\n2021-04-19T14:43:01Z Command-line arg: debuglogfile=\"/mnt/hdd/debug.log\"\r\n2021-04-19T14:43:01Z Command-line arg: pid=\"/run/bitcoind/bitcoind.pid\"\r\n...\r\n```",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/21730#issuecomment-822535412",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21730"
    },
    {
      "event": "closed",
      "id": 4613219109,
      "node_id": "MDExOkNsb3NlZEV2ZW50NDYxMzIxOTEwOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4613219109",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-19T14:59:14Z"
    },
    {
      "event": "unlabeled",
      "id": 4616039492,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50NDYxNjAzOTQ5Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4616039492",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-20T00:28:48Z",
      "label": {
        "name": "Bug",
        "color": "FBBAAB"
      }
    },
    {
      "event": "unlabeled",
      "id": 4616039493,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50NDYxNjAzOTQ5Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4616039493",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-20T00:28:48Z",
      "label": {
        "name": "P2P",
        "color": "006b75"
      }
    },
    {
      "event": "locked",
      "id": 4616039775,
      "node_id": "MDExOkxvY2tlZEV2ZW50NDYxNjAzOTc3NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4616039775",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-20T00:28:52Z"
    }
  ]
}