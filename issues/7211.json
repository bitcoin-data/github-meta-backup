{
  "type": "issue",
  "issue": {
    "id": 122070193,
    "node_id": "MDU6SXNzdWUxMjIwNzAxOTM=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7211",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7211/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7211/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7211/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/7211",
    "number": 7211,
    "state": "closed",
    "state_reason": "completed",
    "title": "CPU and network are loaded synchronously while synchronizing with network",
    "body": "When running Bitcoin Core for the first time I've found that network and CPU are loaded alternately. Couldn't we use resources more effectively?\n\nNetwork usage graph:\n![debug](https://cloud.githubusercontent.com/assets/2983969/11785511/2284abea-a27a-11e5-8308-62b0a76b75d0.png)\n\nCPU graph (not as graphic; the last drop in the graph correlates with increased network load):\n![cpu](https://cloud.githubusercontent.com/assets/2983969/11785588/6d6e8810-a27a-11e5-9679-b74ffcadf232.png)\n",
    "user": {
      "login": "reverofevil",
      "id": 2983969,
      "node_id": "MDQ6VXNlcjI5ODM5Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2983969?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/reverofevil",
      "html_url": "https://github.com/reverofevil",
      "followers_url": "https://api.github.com/users/reverofevil/followers",
      "following_url": "https://api.github.com/users/reverofevil/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/reverofevil/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/reverofevil/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/reverofevil/subscriptions",
      "organizations_url": "https://api.github.com/users/reverofevil/orgs",
      "repos_url": "https://api.github.com/users/reverofevil/repos",
      "events_url": "https://api.github.com/users/reverofevil/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/reverofevil/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "assignees": [],
    "author_association": "NONE",
    "locked": true,
    "active_lock_reason": "resolved",
    "comments": 4,
    "closed_at": "2016-02-16T12:02:37Z",
    "created_at": "2015-12-14T15:51:34Z",
    "updated_at": "2021-09-08T12:34:33Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 165456490,
      "node_id": "MDEyOklzc3VlQ29tbWVudDE2NTQ1NjQ5MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/165456490",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-12-17T13:44:57Z",
      "updated_at": "2015-12-17T13:44:57Z",
      "author_association": "MEMBER",
      "body": "Where do you get \"alternately\" from?\n\nWhat would be expected when your network is able to download the blocks faster than your CPU can validate them (the usual case) is that the CPU is continuously loaded and the network usage goes on/off.\n",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/7211#issuecomment-165456490",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7211"
    },
    {
      "event": "commented",
      "id": 165543995,
      "node_id": "MDEyOklzc3VlQ29tbWVudDE2NTU0Mzk5NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/165543995",
      "actor": {
        "login": "reverofevil",
        "id": 2983969,
        "node_id": "MDQ6VXNlcjI5ODM5Njk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2983969?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/reverofevil",
        "html_url": "https://github.com/reverofevil",
        "followers_url": "https://api.github.com/users/reverofevil/followers",
        "following_url": "https://api.github.com/users/reverofevil/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/reverofevil/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/reverofevil/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/reverofevil/subscriptions",
        "organizations_url": "https://api.github.com/users/reverofevil/orgs",
        "repos_url": "https://api.github.com/users/reverofevil/repos",
        "events_url": "https://api.github.com/users/reverofevil/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/reverofevil/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-12-17T18:42:39Z",
      "updated_at": "2015-12-17T18:49:31Z",
      "author_association": "NONE",
      "body": "@laanwj As you can see from the graphs neither CPU nor network is continuously loaded. I would rather expect it to load data as fast as it can, and validate data as they get available.\n\nAlso, when the new piece of data starts to load, there's a significant drop in CPU load. So it seems that the download starts only when there is no not validated data left, and computation starts only when some quite big piece of data got downloaded. This sounds like it's implemented as synchronous algorithm.\n",
      "user": {
        "login": "reverofevil",
        "id": 2983969,
        "node_id": "MDQ6VXNlcjI5ODM5Njk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2983969?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/reverofevil",
        "html_url": "https://github.com/reverofevil",
        "followers_url": "https://api.github.com/users/reverofevil/followers",
        "following_url": "https://api.github.com/users/reverofevil/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/reverofevil/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/reverofevil/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/reverofevil/subscriptions",
        "organizations_url": "https://api.github.com/users/reverofevil/orgs",
        "repos_url": "https://api.github.com/users/reverofevil/repos",
        "events_url": "https://api.github.com/users/reverofevil/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/reverofevil/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/7211#issuecomment-165543995",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7211"
    },
    {
      "event": "mentioned",
      "id": 495023397,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDk1MDIzMzk3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/495023397",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-12-17T18:42:39Z"
    },
    {
      "event": "subscribed",
      "id": 495023398,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ5NTAyMzM5OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/495023398",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-12-17T18:42:39Z"
    },
    {
      "event": "commented",
      "id": 165944791,
      "node_id": "MDEyOklzc3VlQ29tbWVudDE2NTk0NDc5MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/165944791",
      "actor": {
        "login": "Kimax89",
        "id": 2274258,
        "node_id": "MDQ6VXNlcjIyNzQyNTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2274258?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Kimax89",
        "html_url": "https://github.com/Kimax89",
        "followers_url": "https://api.github.com/users/Kimax89/followers",
        "following_url": "https://api.github.com/users/Kimax89/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Kimax89/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Kimax89/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Kimax89/subscriptions",
        "organizations_url": "https://api.github.com/users/Kimax89/orgs",
        "repos_url": "https://api.github.com/users/Kimax89/repos",
        "events_url": "https://api.github.com/users/Kimax89/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Kimax89/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-12-19T04:07:49Z",
      "updated_at": "2015-12-19T04:07:49Z",
      "author_association": "NONE",
      "body": "would it be possible to queue the blocks. so when you need to download the blockchain it will download and queue the second block while the first block is being verified.\n",
      "user": {
        "login": "Kimax89",
        "id": 2274258,
        "node_id": "MDQ6VXNlcjIyNzQyNTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2274258?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Kimax89",
        "html_url": "https://github.com/Kimax89",
        "followers_url": "https://api.github.com/users/Kimax89/followers",
        "following_url": "https://api.github.com/users/Kimax89/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Kimax89/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Kimax89/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Kimax89/subscriptions",
        "organizations_url": "https://api.github.com/users/Kimax89/orgs",
        "repos_url": "https://api.github.com/users/Kimax89/repos",
        "events_url": "https://api.github.com/users/Kimax89/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Kimax89/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/7211#issuecomment-165944791",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7211"
    },
    {
      "event": "commented",
      "id": 165945649,
      "node_id": "MDEyOklzc3VlQ29tbWVudDE2NTk0NTY0OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/165945649",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-12-19T04:13:04Z",
      "updated_at": "2015-12-19T04:13:04Z",
      "author_association": "MEMBER",
      "body": "We already do that.\n\nBut there is a limit to how far downloading is allowed to go further than\nsynchronization (it's a fixed number of blocks, but I forget the number).\n",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/7211#issuecomment-165945649",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7211"
    },
    {
      "event": "closed",
      "id": 551926527,
      "node_id": "MDExOkNsb3NlZEV2ZW50NTUxOTI2NTI3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/551926527",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-02-16T12:02:37Z"
    },
    {
      "event": "locked",
      "id": 5272013325,
      "node_id": "LOE_lADOABII584HRqSxzwAAAAE6PIoN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5272013325",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-08T12:34:33Z",
      "lock_reason": "resolved"
    }
  ]
}