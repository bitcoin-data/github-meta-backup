{
  "type": "issue",
  "issue": {
    "id": 615183336,
    "node_id": "MDU6SXNzdWU2MTUxODMzMzY=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18924",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18924/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18924/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18924/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/18924",
    "number": 18924,
    "state": "closed",
    "state_reason": "completed",
    "title": "QT Crash when using open wallet dialog",
    "body": "I'm on master, when I click `File->Open Wallet` I get a crash:\r\n\r\n```\r\nEXCEPTION: N5boost10filesystem16filesystem_errorE       \r\nboost::filesystem::status: Permission denied: \"/home/greg/.bitcoin/elements/database/wallet.dat\"       \r\nbitcoin in Runaway exception       \r\n\r\n[Thread 0x7fffd1adb700 (LWP 20698) exited]\r\n[Thread 0x7fffda568700 (LWP 20696) exited]\r\n\r\nThread 11 \"b-scheduler\" received signal SIGSEGV, Segmentation fault.\r\n[Switching to Thread 0x7fffc4ffb700 (LWP 20703)]\r\n0x00007ffff4d83f3a in std::__detail::_List_node_base::_M_unhook() ()\r\n   from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\r\n(gdb) bt\r\n#0  0x00007ffff4d83f3a in std::__detail::_List_node_base::_M_unhook() ()\r\n   from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\r\n#1  0x0000555555b0368e in std::__cxx11::list<std::function<void ()>, std::allocator<std::function<void ()> > >::_M_erase(std::_List_iterator<std::function<void ()> >) (__position=\r\n  {<std::_Maybe_unary_or_binary_function<void>> = {<No data fields>}, <std::_Function_base> = {static _M_max_size = 16, static _M_max_align = 8, _M_functor = {_M_unused = {_M_object = 0x7fffa2666700, _M_const_object = 0x7fffa2666700, _M_function_pointer = 0x7fffa2666700, _M_member_pointer = (void (std::_Undefined_class::*)(std::_Undefined_class * const)) 0x7fffa2666700, this adjustment 140736498478112}, _M_pod_data = \"\\000gf\\242\\377\\177\\000\\000 \\254\\377\\304\\377\\177\\000\"}, _M_manager = 0x0}, _M_invoker = 0x14aa0baea297fa00}, this=0x7fffc00015d8)\r\n    at /usr/include/c++/7/bits/stl_list.h:1812\r\n#2  std::__cxx11::list<std::function<void ()>, std::allocator<std::function<void ()> > >::pop_front() (\r\n    this=0x7fffc00015d8) at /usr/include/c++/7/bits/stl_list.h:1104\r\n#3  SingleThreadedSchedulerClient::ProcessQueue (this=0x7fffc00015a8) at scheduler.cpp:167\r\n#4  0x0000555555b025fd in std::function<void ()>::operator()() const (this=0x7fffc4ffac20)\r\n    at /usr/include/c++/7/bits/std_function.h:706\r\n#5  CScheduler::serviceQueue (this=0x555556c890d0) at scheduler.cpp:63\r\n#6  0x000055555570be61 in std::function<void ()>::operator()() const (this=0x7fffc4ffadb0)\r\n    at /usr/include/c++/7/bits/std_function.h:706\r\n#7  TraceThread<std::function<void ()> >(char const*, std::function<void ()>) (name=<optimized out>, func=...)\r\n    at ./util/system.h:392\r\n#8  0x0000555555718cc1 in std::__invoke_impl<void, void (*&)(char const*, std::function<void ()>), char const*&, std::function<void ()>&>(std::__invoke_other, void (*&)(char const*, std::function<void ()>), char const*&, std::function<void ()>&) (__f=<optimized out>) at /usr/include/c++/7/bits/invoke.h:60\r\n#9  std::__invoke<void (*&)(char const*, std::function<void ()>), char const*&, std::function<void ()>&>(void (*&)(char const*, std::function<void ()>), char const*&, std::function<void ()>&) (__fn=<optimized out>)\r\n    at /usr/include/c++/7/bits/invoke.h:95\r\n#10 std::_Bind<void (*(char const*, std::function<void ()>))(char const*, std::function<void ()>)>::__call<void, , 0ul, 1ul>(std::tuple<>&&, std::_Index_tuple<0ul, 1ul>) (__args=..., this=<optimized out>)\r\n    at /usr/include/c++/7/functional:467\r\n#11 std::_Bind<void (*(char const*, std::function<void ()>))(char const*, std::function<void ()>)>::operator()<, void>() (this=<optimized out>) at /usr/include/c++/7/functional:551\r\n#12 boost::detail::thread_data<std::_Bind<void (*(char const*, std::function<void ()>))(char const*, std::function<void ()>)> >::run() (this=0x7fffc0044270) at /usr/include/boost/thread/detail/thread.hpp:116\r\n#13 0x00007ffff77a2bcd in ?? () from /usr/lib/x86_64-linux-gnu/libboost_thread.so.1.65.1\r\n#14 0x00007ffff54c46db in start_thread (arg=0x7fffc4ffb700) at pthread_create.c:463\r\n#15 0x00007ffff445a88f in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:95\r\n\r\n```\r\n\r\nLooks like it's trying to open some ancient `elements` wallet file(?), and crashing with permission error. I suspect it's not supposed to do that. Backtrace isn't super helpful and I'm not very familiar with QT. Maybe it'll be easy to catch for those who do.\r\n\r\nI deleted the file and am unable to otherwise reproduce, sorry.",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 64585,
        "node_id": "MDU6TGFiZWw2NDU4NQ==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug",
        "name": "Bug",
        "color": "FBBAAB",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "MEMBER",
    "locked": true,
    "active_lock_reason": "resolved",
    "comments": 2,
    "closed_at": "2020-05-13T13:13:48Z",
    "created_at": "2020-05-09T14:05:08Z",
    "updated_at": "2022-02-15T11:03:25Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 3319417259,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDMzMTk0MTcyNTk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3319417259",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-09T14:05:08Z",
      "label": {
        "name": "Bug",
        "color": "FBBAAB"
      }
    },
    {
      "event": "commented",
      "id": 627843137,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYyNzg0MzEzNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/627843137",
      "actor": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-13T08:46:09Z",
      "updated_at": "2020-05-13T08:46:09Z",
      "author_association": "MEMBER",
      "body": "The trace doesn't help but I also don't understand how could it crash there. Relevant code is\r\nhttps://github.com/bitcoin/bitcoin/blob/246e878e784584dd0d323a612007dfdafddeba42/src/scheduler.cpp#L160-L168\r\nLooks like `pop_front` should alway work (?).\r\n\r\nRegarding the boost exception, I'll try to reproduce.\r\n\r\nRelated #18189.",
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/18924#issuecomment-627843137",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18924"
    },
    {
      "event": "commented",
      "id": 627976994,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYyNzk3Njk5NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/627976994",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-13T13:13:48Z",
      "updated_at": "2020-05-13T13:13:48Z",
      "author_association": "MEMBER",
      "body": "closing since I am not going to be able to reproduce further and trace wasn't useful",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/18924#issuecomment-627976994",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18924"
    },
    {
      "event": "closed",
      "id": 3332008035,
      "node_id": "MDExOkNsb3NlZEV2ZW50MzMzMjAwODAzNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3332008035",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-13T13:13:49Z"
    },
    {
      "event": "locked",
      "id": 6074009016,
      "node_id": "LOE_lADOABII584kqvPozwAAAAFqCgW4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6074009016",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-02-15T11:03:25Z",
      "lock_reason": "resolved"
    }
  ]
}