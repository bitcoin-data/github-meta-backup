{
  "type": "issue",
  "issue": {
    "id": 275407289,
    "node_id": "MDU6SXNzdWUyNzU0MDcyODk=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11736",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11736/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11736/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11736/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/11736",
    "number": 11736,
    "state": "closed",
    "state_reason": "completed",
    "title": "blk file error when reading - did something change in the format?",
    "body": "I am reading blkXXX.dat files. I am facing the problem that in my blk00970.dat I can read at some position the magicNumber of the block. but the block is empty because after that the magicNumber is again contained in the file which should be the version.\r\n\r\nworkaround: if version == MAGICNUMBER: new block starts here, this stupid workaround works until blk00976.dat where somwhere the script signature length data entry of an input is suddenly 3052914961......\r\n\r\ndoes somebody know why?",
    "user": {
      "login": "mrqc",
      "id": 1545365,
      "node_id": "MDQ6VXNlcjE1NDUzNjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1545365?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mrqc",
      "html_url": "https://github.com/mrqc",
      "followers_url": "https://api.github.com/users/mrqc/followers",
      "following_url": "https://api.github.com/users/mrqc/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/mrqc/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/mrqc/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/mrqc/subscriptions",
      "organizations_url": "https://api.github.com/users/mrqc/orgs",
      "repos_url": "https://api.github.com/users/mrqc/repos",
      "events_url": "https://api.github.com/users/mrqc/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/mrqc/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 219890555,
        "node_id": "MDU6TGFiZWwyMTk4OTA1NTU=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Block%20storage",
        "name": "Block storage",
        "color": "000000",
        "default": false
      },
      {
        "id": 477890092,
        "node_id": "MDU6TGFiZWw0Nzc4OTAwOTI=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Questions%20and%20Help",
        "name": "Questions and Help",
        "color": "006688",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "NONE",
    "locked": true,
    "active_lock_reason": "resolved",
    "comments": 3,
    "closed_at": "2018-03-27T22:05:12Z",
    "created_at": "2017-11-20T16:03:05Z",
    "updated_at": "2021-09-08T12:49:07Z"
  },
  "events": [
    {
      "event": "renamed",
      "id": 1350175830,
      "node_id": "MDE3OlJlbmFtZWRUaXRsZUV2ZW50MTM1MDE3NTgzMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1350175830",
      "actor": {
        "login": "mrqc",
        "id": 1545365,
        "node_id": "MDQ6VXNlcjE1NDUzNjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1545365?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mrqc",
        "html_url": "https://github.com/mrqc",
        "followers_url": "https://api.github.com/users/mrqc/followers",
        "following_url": "https://api.github.com/users/mrqc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mrqc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mrqc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mrqc/subscriptions",
        "organizations_url": "https://api.github.com/users/mrqc/orgs",
        "repos_url": "https://api.github.com/users/mrqc/repos",
        "events_url": "https://api.github.com/users/mrqc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mrqc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-20T16:03:23Z",
      "rename": {
        "from": "blk file error - did something change in the format?",
        "to": "blk file error when reading - did something change in the format?"
      }
    },
    {
      "event": "commented",
      "id": 345811437,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTgxMTQzNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345811437",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-20T19:55:58Z",
      "updated_at": "2017-11-20T19:55:58Z",
      "author_association": "CONTRIBUTOR",
      "body": "The blockfiles (`blkXXX.dat`) are not an API. Use the interface at your own risk... it may change.\r\n\r\nThe block-files does contain the 4byte net magic, the size of the block and the serialised block data, and those three elements per block.\r\nYou may need to have a closer look at transaction deserialisation to avoid an accidental offset.",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/11736#issuecomment-345811437",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11736"
    },
    {
      "event": "labeled",
      "id": 1350619784,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDEzNTA2MTk3ODQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1350619784",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-20T19:56:07Z",
      "label": {
        "name": "Block storage",
        "color": "000000"
      }
    },
    {
      "event": "commented",
      "id": 345937612,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTkzNzYxMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345937612",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-21T07:15:10Z",
      "updated_at": "2017-11-21T07:15:10Z",
      "author_association": "MEMBER",
      "body": "In some cases there are gaps between the blocks with arbitrary junk (which sometimes looks like partical blocks). This shouldn't be the case with newly-downloaded blockchains, but in the past there have been some bugs which resulted in this.\r\n\r\nYour code needs to be robust against invalid blocks when parsing the .dat files - this is why our own import logic scans over the file and considers every valid block, and if there is a parse error retries from the next possible offset; e.g. see the rewind logic in https://github.com/bitcoin/bitcoin/blob/master/src/validation.cpp#L4029\r\nOr for a python example: https://github.com/bitcoin/bitcoin/blob/master/contrib/linearize/linearize-data.py#L199\r\n",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/11736#issuecomment-345937612",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11736"
    },
    {
      "event": "labeled",
      "id": 1351380082,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDEzNTEzODAwODI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1351380082",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-21T07:15:55Z",
      "label": {
        "name": "Questions and Help",
        "color": "006688"
      }
    },
    {
      "event": "commented",
      "id": 376671521,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM3NjY3MTUyMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/376671521",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-03-27T20:53:02Z",
      "updated_at": "2018-03-27T20:53:02Z",
      "author_association": "MEMBER",
      "body": "Suggest we close this issue.",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/11736#issuecomment-376671521",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11736"
    },
    {
      "event": "closed",
      "id": 1544334867,
      "node_id": "MDExOkNsb3NlZEV2ZW50MTU0NDMzNDg2Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1544334867",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-03-27T22:05:12Z"
    },
    {
      "event": "locked",
      "id": 5272093908,
      "node_id": "LOE_lADOABII584QamG5zwAAAAE6PcTU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5272093908",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-08T12:49:07Z",
      "lock_reason": "resolved"
    }
  ]
}