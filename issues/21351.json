{
  "type": "issue",
  "issue": {
    "id": 821131494,
    "node_id": "MDU6SXNzdWU4MjExMzE0OTQ=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21351",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21351/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21351/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21351/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/21351",
    "number": 21351,
    "state": "closed",
    "state_reason": "completed",
    "title": "net: No more v2 onion support in upstream Tor master",
    "body": "One of my nodes using `onlynet=tor` nodes is completely broken with current master as of 97a35f3ae5bff7f4a25d37d8961191fdbc8c5b67.\r\n\r\nTor is manually configured. Relevant `bitcoin.conf`:\r\n```\r\nonlynet=onion\r\nproxy=127.0.0.1:9050\r\nonion=127.0.0.1:9050\r\n```\r\n\r\nIt does not manage to make any outgoing connections. The log has an endless stream of:\r\n```\r\n2021-03-03T13:42:13Z Socks5() connect to […].onion:8333 failed: general failure\r\n2021-03-03T13:42:13Z Socks5() connect to […].onion:8333 failed: general failure\r\n2021-03-03T13:42:14Z Socks5() connect to […].onion:8333 failed: general failure\r\n2021-03-03T13:42:14Z Socks5() connect to […].onion:8333 failed: general failure\r\n2021-03-03T13:42:15Z Socks5() connect to […].onion:8333 failed: general failure\r\n2021-03-03T13:42:15Z Socks5() connect to […].onion:8333 failed: general failure\r\n2021-03-03T13:42:16Z Socks5() connect to […].onion:8333 failed: general failure\r\n2021-03-03T13:42:16Z Socks5() connect to […].onion:8333 failed: general failure\r\n2021-03-03T13:42:17Z Socks5() connect to […].onion:8333 failed: general failure\r\n2021-03-03T13:42:17Z Socks5() connect to […].onion:8333 failed: general failure\r\n2021-03-03T13:42:18Z Socks5() connect to […].onion:8333 failed: general failure\r\n2021-03-03T13:42:18Z Socks5() connect to […].onion:8333 failed: general failure\r\n2021-03-03T13:42:19Z Socks5() connect to […].onion:8333 failed: general failure\r\n2021-03-03T13:42:19Z Socks5() connect to […].onion:8333 failed: general failure\r\n2021-03-03T13:42:20Z Socks5() connect to […].onion:8333 failed: general failure\r\n2021-03-03T13:42:20Z Socks5() connect to […].onion:8333 failed: general failure\r\n…\r\n```\r\n(multiple messages per second, all `[…]` are short v2 onion addresses)\r\n\r\n```\r\n$ systemctl status tor\r\n● tor.service - Anonymizing overlay network for TCP\r\n     Loaded: loaded (/etc/systemd/system/tor.service; enabled; vendor preset: enabled)\r\n     Active: active (running) since Wed 2021-03-03 14:45:24 CET; 3min 0s ago\r\n    Process: 158931 ExecStartPre=/opt/tor/bin/tor -f /opt/tor/etc/tor/torrc --verify-config (code=exited, status=0/SUCCESS)\r\n   Main PID: 158962 (tor)\r\n      Tasks: 1 (limit: 9367)\r\n     Memory: 38.4M\r\n     CGroup: /system.slice/tor.service\r\n             └─158962 /opt/tor/bin/tor -f /opt/tor/etc/tor/torrc\r\n\r\nMar 03 14:48:20 tor[158962]: Mar 03 14:48:20.000 [warn] Invalid hostname [scrubbed]; rejecting\r\nMar 03 14:48:20 tor[158962]: Mar 03 14:48:20.000 [warn] Invalid hostname [scrubbed]; rejecting\r\nMar 03 14:48:21 tor[158962]: Mar 03 14:48:21.000 [warn] Invalid hostname [scrubbed]; rejecting\r\nMar 03 14:48:21 tor[158962]: Mar 03 14:48:21.000 [warn] Invalid hostname [scrubbed]; rejecting\r\nMar 03 14:48:22 tor[158962]: Mar 03 14:48:22.000 [warn] Invalid hostname [scrubbed]; rejecting\r\nMar 03 14:48:22 tor[158962]: Mar 03 14:48:22.000 [warn] Invalid hostname [scrubbed]; rejecting\r\nMar 03 14:48:23 tor[158962]: Mar 03 14:48:23.000 [warn] Invalid hostname [scrubbed]; rejecting\r\nMar 03 14:48:23 tor[158962]: Mar 03 14:48:23.000 [warn] Invalid hostname [scrubbed]; rejecting\r\nMar 03 14:48:24 tor[158962]: Mar 03 14:48:24.000 [warn] Invalid hostname [scrubbed]; rejecting\r\nMar 03 14:48:24 tor[158962]: Mar 03 14:48:24.000 [warn] Invalid hostname [scrubbed]; rejecting\r\n```\r\n\r\nI'll try to see if I can figure out what it's sending. Tor (current master) is otherwise successfully able to connect to hidden services, at least v3 ones.\r\n\r\nDid Tor completely remove v2 support?\r\n\r\n```\r\n$ /opt/tor/bin/tor --version\r\nTor version 0.4.6.0-alpha-dev (git-8020ae02abb105db).\r\nTor is running on Linux with Libevent 2.1.11-stable, OpenSSL 1.1.1f, Zlib 1.2.11, Liblzma 5.2.4, Libzstd N/A and Glibc 2.31 as libc.\r\nTor compiled with GCC version 9.3.0\r\n```",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 98298007,
        "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
        "name": "P2P",
        "color": "006b75",
        "default": false
      },
      {
        "id": 159815356,
        "node_id": "MDU6TGFiZWwxNTk4MTUzNTY=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Upstream",
        "name": "Upstream",
        "color": "bfd4f2",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "MEMBER",
    "locked": true,
    "comments": 22,
    "closed_at": "2021-08-17T12:55:02Z",
    "created_at": "2021-03-03T13:54:44Z",
    "updated_at": "2023-03-07T10:17:53Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 4402143535,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQ0MDIxNDM1MzU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4402143535",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-03T13:54:45Z",
      "label": {
        "name": "P2P",
        "color": "006b75"
      }
    },
    {
      "event": "commented",
      "id": 789737457,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc4OTczNzQ1Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/789737457",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-03T14:05:11Z",
      "updated_at": "2021-03-03T14:23:19Z",
      "author_association": "MEMBER",
      "body": "Yes, it looks like Tor removed v2 support completely on the master branch:\r\n\r\nhttps://github.com/torproject/tor/commit/c0a23303140fedce06e0b7d88ce475c39703717a\r\nhttps://github.com/torproject/tor/commit/32fc8a116a3a88ad6e7269d5e9afb751e5d39e50\r\n\r\n\"It's all v3 now.\"\r\n\r\nSome information regarding [Tor version planning](https://gitlab.torproject.org/tpo/core/team/-/wikis/NetworkTeam/CoreTorReleases):\r\n```\r\n2021-03-03 15:17:22     jonatack        0.4.6 FF is March 15, stable ready Jun 15 \r\n2021-03-03 15:19:08     jonatack        0.4.5.7 release planned March 16\r\n```",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/21351#issuecomment-789737457",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21351"
    },
    {
      "event": "renamed",
      "id": 4402303094,
      "node_id": "MDE3OlJlbmFtZWRUaXRsZUV2ZW50NDQwMjMwMzA5NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4402303094",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-03T14:24:01Z",
      "rename": {
        "from": "net: onlynet=tor node is failing completely on master",
        "to": "net: No more v2 onion support in upstream Tor master"
      }
    },
    {
      "event": "labeled",
      "id": 4402303679,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQ0MDIzMDM2Nzk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4402303679",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-03T14:24:07Z",
      "label": {
        "name": "Upstream",
        "color": "bfd4f2"
      }
    },
    {
      "event": "commented",
      "id": 789762888,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc4OTc2Mjg4OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/789762888",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-03T14:42:36Z",
      "updated_at": "2021-03-03T14:42:36Z",
      "author_association": "MEMBER",
      "body": "Per https://gitlab.torproject.org/tpo/core/team/-/wikis/NetworkTeam/CoreTorReleases, tor 0.4.6 feature freeze is March 15, stable ready June 15.\r\n\r\nPer https://blog.torproject.org/v2-deprecation-timeline:\r\n\r\n\"July 15th, 2021: 0.4.6.x: Tor will no longer support v2 and support will be removed from the code base. October 15th, 2021: We will release new Tor client stable versions for all supported series that will disable v2.\"",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/21351#issuecomment-789762888",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21351"
    },
    {
      "event": "commented",
      "id": 790417180,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc5MDQxNzE4MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/790417180",
      "actor": {
        "login": "Saibato",
        "id": 34917548,
        "node_id": "MDQ6VXNlcjM0OTE3NTQ4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34917548?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Saibato",
        "html_url": "https://github.com/Saibato",
        "followers_url": "https://api.github.com/users/Saibato/followers",
        "following_url": "https://api.github.com/users/Saibato/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Saibato/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Saibato/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Saibato/subscriptions",
        "organizations_url": "https://api.github.com/users/Saibato/orgs",
        "repos_url": "https://api.github.com/users/Saibato/repos",
        "events_url": "https://api.github.com/users/Saibato/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Saibato/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-04T08:14:29Z",
      "updated_at": "2021-03-04T08:14:29Z",
      "author_association": "CONTRIBUTOR",
      "body": "RSA certificates (v2) is a broken lost case, the faster transition to v3 what ever that will hook in as final algo, since it's now perfect modular, the better. imho.",
      "user": {
        "login": "Saibato",
        "id": 34917548,
        "node_id": "MDQ6VXNlcjM0OTE3NTQ4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34917548?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Saibato",
        "html_url": "https://github.com/Saibato",
        "followers_url": "https://api.github.com/users/Saibato/followers",
        "following_url": "https://api.github.com/users/Saibato/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Saibato/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Saibato/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Saibato/subscriptions",
        "organizations_url": "https://api.github.com/users/Saibato/orgs",
        "repos_url": "https://api.github.com/users/Saibato/repos",
        "events_url": "https://api.github.com/users/Saibato/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Saibato/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/21351#issuecomment-790417180",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21351"
    },
    {
      "event": "commented",
      "id": 790483478,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc5MDQ4MzQ3OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/790483478",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-04T09:48:35Z",
      "updated_at": "2021-03-04T09:50:35Z",
      "author_association": "MEMBER",
      "body": "Some further IRC discussion w.r.t. handling this\r\n```\r\n2021-03-04 10:15:35     vasild  wumpus: wrt torv2 - if torv2 addresses are non-operational on the tor network, then I think we want to stop trying to connect to such ones and maybe even purge them from addrman.\r\n2021-03-04 10:29:48     wumpus  vasild: I'd agree--though the current situation seems more subtle: they still work on the tor network, but future Tor releases will no longer support them, I think with old tor versions they will still work for a while\r\n2021-03-04 10:30:52     vasild  hmm, right\r\n2021-03-04 10:31:11     wumpus  vasild: so we might want to make it an option first ! no strong preference though\r\n2021-03-04 10:31:15     vasild  nothing can prevent old tor nodes from exchaning torv2 between themselves\r\n2021-03-04 10:31:25     wumpus  if there is wider agreement to nuke v2 support completely for 0.22 that's ok with me\r\n2021-03-04 10:32:14     vasild  I am not sure either, when is 22.0 freeze?\r\n2021-03-04 10:32:42     vasild  \"when is the 22.0 freeze\"\r\n2021-03-04 10:32:47     fanquake        #20851\r\n2021-03-04 10:32:48     wumpus  currently planned for 2021-06-15\r\n2021-03-04 10:32:48     gribble https://github.com/bitcoin/bitcoin/issues/20851 | Release schedule for 22.0 · Issue #20851 · bitcoin/bitcoin · GitHub\r\n2021-03-04 10:35:31     vasild  lets see how connecting to torv2 nodes works in e.g. beginning of June and decide then what to do: 1. do nothing, 2. introduce an option --ignore-torv2 with default of false, 3. --ignore-torv2 with default of true, 4. unconditionally ignore torv2 without any new options\r\n2021-03-04 10:36:37     wumpus  right, good summary of the options\r\n2021-03-04 10:38:07     vasild  a test may be something like: run (old) tor node that supports torv2, pick e.g. 100 torv2 addresses from addrman and try to connect each one of them\r\n```\r\nI agree with @vasild here. Our options are:\r\n\r\n1. do nothing\r\n2. introduce an option `--ignore-torv2` with default of false\r\n3. `--ignore-torv2` with default of true\r\n4. unconditionally ignore torv2 without any new options\r\n\r\n(we might also backport [3] to 0.21.0, while doing [4] for 0.22)\r\n\r\nDoing [2] soon makes sense imo to work around this issue for people who like to run bleeding-edge Tor, and to have something to suggest when Tor 0.4.6.x comes out. As I describe in the OP, that's currently completely broken. I might have a go at implementing this.\r\n",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/21351#issuecomment-790483478",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21351"
    },
    {
      "event": "mentioned",
      "id": 4407031562,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDQwNzAzMTU2Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4407031562",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-04T09:48:35Z"
    },
    {
      "event": "subscribed",
      "id": 4407031572,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ0MDcwMzE1NzI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4407031572",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-04T09:48:35Z"
    },
    {
      "event": "commented",
      "id": 790503413,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc5MDUwMzQxMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/790503413",
      "actor": {
        "login": "Saibato",
        "id": 34917548,
        "node_id": "MDQ6VXNlcjM0OTE3NTQ4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34917548?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Saibato",
        "html_url": "https://github.com/Saibato",
        "followers_url": "https://api.github.com/users/Saibato/followers",
        "following_url": "https://api.github.com/users/Saibato/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Saibato/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Saibato/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Saibato/subscriptions",
        "organizations_url": "https://api.github.com/users/Saibato/orgs",
        "repos_url": "https://api.github.com/users/Saibato/repos",
        "events_url": "https://api.github.com/users/Saibato/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Saibato/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-04T10:19:10Z",
      "updated_at": "2021-03-04T10:19:10Z",
      "author_association": "CONTRIBUTOR",
      "body": "option 2 seams reasonable.    \r\nbcs, Some might still run and prefer kind of v2 in there ports with short addr formats in the wild and have there own directory's and infra, we can not be sure every port 9050/51 is a classic Tor socks5 proxy  (i.e could be. Tor-stealth-x)  we are not aware of, and in my view transitions should not be exclusive?",
      "user": {
        "login": "Saibato",
        "id": 34917548,
        "node_id": "MDQ6VXNlcjM0OTE3NTQ4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34917548?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Saibato",
        "html_url": "https://github.com/Saibato",
        "followers_url": "https://api.github.com/users/Saibato/followers",
        "following_url": "https://api.github.com/users/Saibato/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Saibato/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Saibato/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Saibato/subscriptions",
        "organizations_url": "https://api.github.com/users/Saibato/orgs",
        "repos_url": "https://api.github.com/users/Saibato/repos",
        "events_url": "https://api.github.com/users/Saibato/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Saibato/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/21351#issuecomment-790503413",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21351"
    },
    {
      "event": "commented",
      "id": 790504575,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc5MDUwNDU3NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/790504575",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-04T10:20:56Z",
      "updated_at": "2021-03-04T10:20:56Z",
      "author_association": "MEMBER",
      "body": "Agree with starting with 2 and then likely graduating to 3 and 4.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/21351#issuecomment-790504575",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21351"
    },
    {
      "event": "commented",
      "id": 790508717,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc5MDUwODcxNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/790508717",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-04T10:27:31Z",
      "updated_at": "2021-03-04T10:31:01Z",
      "author_association": "MEMBER",
      "body": "> we are not aware of, and in my view transitions should not be exclusive?\r\n\r\nJust keep in mind that the Tor project has been, both explicitly and reading between the lines, been very clear that v2 is broken.\r\n\r\nAs for transitions being exclusive, from a complexity point of view there's something to be said to get rid of legacy stuff as soon as possible. Carrying around old cryptographic primitives for some vague idea of backwards compatibility can lead to a mess (like OpenSSL used to be, at least).",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/21351#issuecomment-790508717",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21351"
    },
    {
      "event": "commented",
      "id": 810619991,
      "node_id": "MDEyOklzc3VlQ29tbWVudDgxMDYxOTk5MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/810619991",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-30T22:27:18Z",
      "updated_at": "2021-03-30T22:27:18Z",
      "author_association": "MEMBER",
      "body": "It looks like the underlying problem here is not the presence of old v2 peers in the peer manager, but that even though it knows 4555 onion peers, somehow the node does not  know any v3 addresses. There are also no hardcoded v3 onion addresses to add (#20239):\r\n```python\r\n>>> data=p.getnodeaddresses(0)\r\n>>> len(data)\r\n4555\r\n>>> len([x for x in data if x['address'].endswith('.onion') and len(x['address']) <= 22])\r\n4555\r\n>>> len([x for x in data if x['address'].endswith('.onion') and len(x['address']) > 22])\r\n0\r\n```\r\nCompared to another, more busy node that is not `-onlynet=onion`:\r\n```python\r\n>>> data=p.getnodeaddresses(0)\r\n>>> len(data)\r\n65357\r\n>>> len([x for x in data if x['address'].endswith('.onion') and len(x['address']) <= 22])\r\n4634\r\n>>> len([x for x in data if x['address'].endswith('.onion') and len(x['address']) > 22])\r\n17\r\n```\r\nEven 17 is surprisingly few.\r\n",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/21351#issuecomment-810619991",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21351"
    },
    {
      "event": "commented",
      "id": 810666517,
      "node_id": "MDEyOklzc3VlQ29tbWVudDgxMDY2NjUxNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/810666517",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-31T00:33:02Z",
      "updated_at": "2021-03-31T08:40:02Z",
      "author_association": "MEMBER",
      "body": "Good find. I wouldn't have thought the issue was the node not knowing v3 peers. \r\n\r\nI reproduced the issue by upgrading to tor 0.4.6.1-alpha yesterday but have been able to run a node with `onlynet=onion` and `onlynet=i2p` and have it fill up quickly with tor v3 and i2p peers. I'm seeing the warnings for the tor v2 connections, but the frequency goes down quickly after an initial flurry.\r\n\r\n```json\r\n$ ./src/bitcoin-cli getnodeaddresses 0 | jq '.[] | .address' | wc -l\r\n14573\r\n$ ./src/bitcoin-cli getnodeaddresses 0 | jq '.[] | (select(.address | contains(\".onion\")) | select(.address | length <= 22)) | .address' | wc -l\r\n5886\r\n$ ./src/bitcoin-cli getnodeaddresses 0 | jq '.[] | (select(.address | contains(\".onion\")) | select(.address | length > 22)) | .address' | wc -l\r\n941\r\n$ grep \"peers.dat\" ~/.bitcoin/debug.log\r\n2021-03-30T18:04:05Z Loaded 60672 addresses from peers.dat  3162ms\r\n```\r\nThat node doesn't have many peers; I restart it often for testing. It does have a couple dozen addnode peers in the conf file.\r\n\r\nOTOH the peer rotation seems lower than usual (likely due to the tor v2 connection failures). After 7 hours the highest peer id is only 90 with 20 peers connected (2 inbound, and 18 outbound of which 8 are addnode and 2 are block relay) and seeing around 30 tor v2 warnings in the last hour.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/21351#issuecomment-810666517",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21351"
    },
    {
      "event": "commented",
      "id": 810866428,
      "node_id": "MDEyOklzc3VlQ29tbWVudDgxMDg2NjQyOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/810866428",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-31T08:06:00Z",
      "updated_at": "2021-03-31T08:40:24Z",
      "author_association": "MEMBER",
      "body": "Update here after 14 hours:\r\n```json\r\n$ ./src/bitcoin-cli getnodeaddresses 0 | jq '.[] | .address' | wc -l\r\n13027\r\n$ ./src/bitcoin-cli getnodeaddresses 0 | jq '.[] | (select(.address | contains(\".onion\")) | select(.address | length <= 22)) | .address' | wc -l\r\n5867\r\n$ ./src/bitcoin-cli getnodeaddresses 0 | jq '.[] | (select(.address | contains(\".onion\")) | select(.address | length > 22)) | .address' | wc -l\r\n1028\r\n```\r\n\r\nHighest peer id is now 447. Same number of peers connected. ~40 tor v2 warnings in the past hour, but some hours before that only had 20-30.\r\n",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/21351#issuecomment-810866428",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21351"
    },
    {
      "event": "commented",
      "id": 810877825,
      "node_id": "MDEyOklzc3VlQ29tbWVudDgxMDg3NzgyNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/810877825",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-31T08:22:59Z",
      "updated_at": "2021-03-31T08:41:36Z",
      "author_association": "MEMBER",
      "body": "It seems we could be thinking about:\r\n- v3 onion propagation improvements and seeding (#20239)\r\n- maybe an opt-in `--ignore-torv2` config as discussed above, but indeed it won't suffice if a node doesn't know enough tor v3 addresses\r\n- an easy way (RPC) for people to see their address counts by network, with a tor v2/v3 breakdown\r\n ",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/21351#issuecomment-810877825",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21351"
    },
    {
      "event": "commented",
      "id": 811004077,
      "node_id": "MDEyOklzc3VlQ29tbWVudDgxMTAwNDA3Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/811004077",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-31T11:52:11Z",
      "updated_at": "2021-03-31T11:52:11Z",
      "author_association": "MEMBER",
      "body": "Here:\r\n52375 total addresses, of which:\r\n4443 tor v2\r\n14 tor v3\r\n",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/21351#issuecomment-811004077",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21351"
    },
    {
      "event": "commented",
      "id": 811004779,
      "node_id": "MDEyOklzc3VlQ29tbWVudDgxMTAwNDc3OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/811004779",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-31T11:53:27Z",
      "updated_at": "2021-03-31T11:57:37Z",
      "author_association": "MEMBER",
      "body": "Agreed!\r\n\r\nFWIW: #21560 solved my immediate problem (after deleting `peers.dat`).\r\n\r\n> maybe an opt-in --ignore-torv2 config as discussed above, but indeed it won't suffice if a node doesn't know enough tor v3 addresses\r\n\r\nI'm no longer convinced that this is necessary. At least in my case it would not have improved anything, and once it did know TorV3 addresses it was resolved quickly. I think we can just drop v2 support wholesale as soon as it makes sense, no need for an intermediate option.\r\n\r\n> An easy way (RPC) for people to see their address counts by network, with a tor v2/v3 breakdown\r\n\r\nCould be fully client-side, `bitcoin-cli -getaddresstats` maybe?",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/21351#issuecomment-811004779",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21351"
    },
    {
      "event": "commented",
      "id": 811053854,
      "node_id": "MDEyOklzc3VlQ29tbWVudDgxMTA1Mzg1NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/811053854",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-31T13:08:22Z",
      "updated_at": "2021-04-05T19:23:02Z",
      "author_association": "MEMBER",
      "body": "> Could be fully client-side, `bitcoin-cli -getaddresstats` maybe?\r\n\r\nSGTM and right up my alley.\r\n\r\nLatest stats on same node: 11405 total addresses, 5848 v2, 1084 v3. Total addresses and v2 are heading down, v3 heading up.\r\n\r\n(Update 5 days later: tor v3 address count now up to 2432.)",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/21351#issuecomment-811053854",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21351"
    },
    {
      "event": "referenced",
      "id": 4555440348,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ1NTU0NDAzNDg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4555440348",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "9be7fe4849310884294669b019dd8300f69bc334",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9be7fe4849310884294669b019dd8300f69bc334",
      "created_at": "2021-04-06T08:48:05Z"
    },
    {
      "event": "referenced",
      "id": 4618934908,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ2MTg5MzQ5MDg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4618934908",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "018045347110d76cfc1f89a79fb49a867e3b8449",
      "commit_url": "https://api.github.com/repos/bitcoin-core/gui/commits/018045347110d76cfc1f89a79fb49a867e3b8449",
      "created_at": "2021-04-20T12:36:48Z"
    },
    {
      "event": "commented",
      "id": 845738493,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg0NTczODQ5Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/845738493",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-21T07:49:42Z",
      "updated_at": "2021-05-21T07:49:42Z",
      "author_association": "MEMBER",
      "body": "Update:\r\n55325 total addresses, of which:\r\n3869 tor v2\r\n242 tor v3",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/21351#issuecomment-845738493",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21351"
    },
    {
      "event": "commented",
      "id": 845747286,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg0NTc0NzI4Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/845747286",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-21T08:04:42Z",
      "updated_at": "2021-05-21T08:07:12Z",
      "author_association": "MEMBER",
      "body": "I had 3600 v3 addresses after a month (edit: six weeks) of running with tor master.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/21351#issuecomment-845747286",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21351"
    },
    {
      "event": "referenced",
      "id": 4838711118,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ4Mzg3MTExMTg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4838711118",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "07ededa30c9473ac32fc3e12b399c0ba999a4c40",
      "commit_url": "https://api.github.com/repos/bitcoin-core/gui/commits/07ededa30c9473ac32fc3e12b399c0ba999a4c40",
      "created_at": "2021-06-03T16:44:12Z"
    },
    {
      "event": "commented",
      "id": 854105525,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg1NDEwNTUyNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/854105525",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-03T19:02:10Z",
      "updated_at": "2021-06-03T19:02:10Z",
      "author_association": "MEMBER",
      "body": " Tor v2 support has been dropped in #22050, and \r\n- will no longer be in 22.0.\r\n- 0.21.x will continue to support both (or we could backport this?).\r\n- 0.20.x and before do not support Tor v3 so users of that will be unable to use hidden services when v2 support is dropped upstream (but can still use Tor otherwise).",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/21351#issuecomment-854105525",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21351"
    },
    {
      "event": "commented",
      "id": 854459837,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg1NDQ1OTgzNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/854459837",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-04T07:58:00Z",
      "updated_at": "2021-06-04T07:58:00Z",
      "author_association": "MEMBER",
      "body": "> 0.20.x and before do not support Tor v3 so users of that will be unable to use hidden services when v2 support is dropped upstream (but can still use Tor otherwise).\r\n\r\nYeah, users of Bitcoin Core <=0.20.x can listen on Tor v3 service if it is configured in `torrc` with something like:\r\n```\r\nHiddenServiceDir /var/db/tor/bitcoin/\r\nHiddenServiceVersion 3\r\nHiddenServicePort 8333 127.0.0.1:8333\r\n```",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/21351#issuecomment-854459837",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21351"
    },
    {
      "event": "commented",
      "id": 880112356,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg4MDExMjM1Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/880112356",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-07-14T18:22:49Z",
      "updated_at": "2021-07-14T18:22:49Z",
      "author_association": "MEMBER",
      "body": "ISTM this issue can now be closed.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/21351#issuecomment-880112356",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21351"
    },
    {
      "event": "commented",
      "id": 900255053,
      "node_id": "IC_kwDOABII5841qM1N",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/900255053",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-17T12:29:18Z",
      "updated_at": "2021-08-17T12:29:18Z",
      "author_association": "MEMBER",
      "body": "Ping. Close?",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/21351#issuecomment-900255053",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21351"
    },
    {
      "event": "commented",
      "id": 900273001,
      "node_id": "IC_kwDOABII5841qRNp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/900273001",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-17T12:55:02Z",
      "updated_at": "2021-08-17T12:55:02Z",
      "author_association": "MEMBER",
      "body": "Closing for now, can be reopened if something was forgotten.",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/21351#issuecomment-900273001",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21351"
    },
    {
      "event": "closed",
      "id": 5168770048,
      "node_id": "MDExOkNsb3NlZEV2ZW50NTE2ODc3MDA0OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5168770048",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-17T12:55:02Z"
    },
    {
      "event": "commented",
      "id": 1061263966,
      "node_id": "IC_kwDOABII584_QZpe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1061263966",
      "actor": {
        "login": "felipelalli",
        "id": 207639,
        "node_id": "MDQ6VXNlcjIwNzYzOQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/207639?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/felipelalli",
        "html_url": "https://github.com/felipelalli",
        "followers_url": "https://api.github.com/users/felipelalli/followers",
        "following_url": "https://api.github.com/users/felipelalli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/felipelalli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/felipelalli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/felipelalli/subscriptions",
        "organizations_url": "https://api.github.com/users/felipelalli/orgs",
        "repos_url": "https://api.github.com/users/felipelalli/repos",
        "events_url": "https://api.github.com/users/felipelalli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/felipelalli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-07T23:59:16Z",
      "updated_at": "2022-03-07T23:59:16Z",
      "author_association": "NONE",
      "body": "If you are having issues on first connection, summing up:\r\n\r\nDelete `peers.dat` and restart your node.",
      "user": {
        "login": "felipelalli",
        "id": 207639,
        "node_id": "MDQ6VXNlcjIwNzYzOQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/207639?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/felipelalli",
        "html_url": "https://github.com/felipelalli",
        "followers_url": "https://api.github.com/users/felipelalli/followers",
        "following_url": "https://api.github.com/users/felipelalli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/felipelalli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/felipelalli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/felipelalli/subscriptions",
        "organizations_url": "https://api.github.com/users/felipelalli/orgs",
        "repos_url": "https://api.github.com/users/felipelalli/repos",
        "events_url": "https://api.github.com/users/felipelalli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/felipelalli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/21351#issuecomment-1061263966",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21351"
    },
    {
      "event": "locked",
      "id": 8684008620,
      "node_id": "LOE_lADOABII584w8XjmzwAAAAIFm3Ss",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8684008620",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-07T10:17:53Z"
    }
  ]
}