{
  "type": "issue",
  "issue": {
    "id": 381205964,
    "node_id": "MDU6SXNzdWUzODEyMDU5NjQ=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14730",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14730/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14730/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14730/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/14730",
    "number": 14730,
    "state": "closed",
    "state_reason": "completed",
    "title": "Feature request: Settling offline transactions.",
    "body": "# Use Case #\r\nMy use case is around a scenario where both customer and merchant possess offline wallets with a balance that has had confirmation on the blockchain.\r\n\r\n 1. To begin with, let us say that, the merchant and the buyer's wallets show balances of 20 BTC and 10 BTC respectively. These balances are the one that are confirmed on the block-chain.\r\n 2. Then, let there be multiple transactions between the merchant and buyer such that the balance is always updated locally in the wallets only.\r\n 3. All of the transactions, in 2 above, happen in an offline mode; i.e. no access to network. The period of no access can run into days.\r\n 4. Sometime, in the future, when either/both of the wallets are online, all the offline transactions are published to blockchain and are confirmed.\r\n\r\n## Blockchain Sync ##\r\nThere are two things that can happen at this point. \r\n\r\nFirst, the wallets are so secure that, all updates (credits and debits) happen locally without ever having to 'sync' up with the blockchain. The only time the wallets may sync with blockchain is to post the transactions and their sequence; and, also to update their wallet with the credits that happened since the last time the wallet went online. Or, regulatory pressure requires posting transaction data every set frequency.\r\n\r\nSecond, all credit updates are made to the wallets via the blockchain. This requirement is enough motivation to seek network connectivity; even if it is once in a week or fewer.\r\n\r\n### Question ###\r\nIn either case, we are looking at a scenario, where a value, confirmed by blockchain, is used in transactions offline to be confirmed online later. How do we implement this?\r\n\r\n## Analogy ##\r\nBus conductors may issue tickets with an offline machine to passengers who board the bus at various points throughout the journey. When the bus reaches its destination, the machine is used at the depot to arrive at a list of tickets sold and the amount collected thereof. Thus, this is an example of an offline transaction where transactions are 'settled' when 'connectivity' is eventually available.\r\n\r\nSpawned off of: https://bitcoin.stackexchange.com/a/41356/6975\r\nOriginally asked here: https://bitcoin.stackexchange.com/q/50568/6975",
    "user": {
      "login": "chainhead",
      "id": 24602959,
      "node_id": "MDQ6VXNlcjI0NjAyOTU5",
      "avatar_url": "https://avatars.githubusercontent.com/u/24602959?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chainhead",
      "html_url": "https://github.com/chainhead",
      "followers_url": "https://api.github.com/users/chainhead/followers",
      "following_url": "https://api.github.com/users/chainhead/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/chainhead/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/chainhead/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/chainhead/subscriptions",
      "organizations_url": "https://api.github.com/users/chainhead/orgs",
      "repos_url": "https://api.github.com/users/chainhead/repos",
      "events_url": "https://api.github.com/users/chainhead/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/chainhead/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "assignees": [],
    "author_association": "NONE",
    "locked": true,
    "active_lock_reason": "resolved",
    "comments": 2,
    "closed_at": "2018-11-15T19:05:11Z",
    "created_at": "2018-11-15T15:14:38Z",
    "updated_at": "2021-09-08T12:45:38Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 439105123,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTEwNTEyMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/439105123",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-15T16:38:31Z",
      "updated_at": "2018-11-15T16:38:31Z",
      "author_association": "MEMBER",
      "body": "The description is vague, but PSBT may be what you're looking for (see the doc/psbt.md file and BIP174).",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/14730#issuecomment-439105123",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14730"
    },
    {
      "event": "commented",
      "id": 439153922,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTE1MzkyMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/439153922",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-15T19:05:11Z",
      "updated_at": "2018-11-15T19:05:11Z",
      "author_association": "MEMBER",
      "body": "Usually the issue tracker is used to track technical issues related to the Bitcoin Core code base. Keep in mind that general bitcoin questions and/or support requests are best directed to the [Bitcoin StackExchange](https://bitcoin.stackexchange.com).",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/14730#issuecomment-439153922",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14730"
    },
    {
      "event": "closed",
      "id": 1969498675,
      "node_id": "MDExOkNsb3NlZEV2ZW50MTk2OTQ5ODY3NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1969498675",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-15T19:05:11Z"
    },
    {
      "event": "locked",
      "id": 5272074283,
      "node_id": "LOE_lADOABII584WuL3MzwAAAAE6PXgr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5272074283",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-08T12:45:38Z",
      "lock_reason": "resolved"
    }
  ]
}