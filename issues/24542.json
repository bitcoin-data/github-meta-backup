{
  "type": "issue",
  "issue": {
    "id": 1167332581,
    "node_id": "I_kwDOABII585FlBTl",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24542",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24542/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24542/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24542/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/24542",
    "number": 24542,
    "state": "open",
    "state_reason": null,
    "title": "Slow memory leak in v22.0?",
    "body": "I've been noticing gradually increasing memory usage bitcoin core v22.0.  I've been running this node for a couple of years with the same hardware and general setup and have only noticed this in the past few months, around the time I upgraded to v22, which makes me suspect it may be related.\r\n\r\nI'm seeing bitcoind memory usage slowly climb over weeks/months of uptime. Right now it's at 3.4 GB memory usage and as I recall I've seen it over 5 GB before in an incident where it caused the machine to run out of RAM, which is when I first noticed this. If I restart bitcoind, RAM usage goes back to a normal level and stays there for a while.\r\n\r\nI do recall seeing a lot of `BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications` messages in the logs when RAM usage was over 5GB and my node was barely responsive to RPC calls, but I'm not sure if this has anything to do with the issue.\r\n\r\nI'm using `dbcache=1024` which would explain some of the RAM usage but not all of it.\r\n\r\nOther config settings that may be relevant:\r\n\r\n```\r\ntxindex=1\r\npeerblockfilters=1\r\nblockfilterindex=1\r\n\r\nmaxconnections=100\r\n\r\nrpcthreads=64\r\nrpcworkqueue=256\r\nrpcservertimeout=120\r\n\r\nzmqpubrawblockhwm=100000\r\nzmqpubrawtxhwm=100000\r\n```\r\n\r\nOtherwise, I'm using this node to run an lnd node (with zmq block/tx notifications) and electrumx server. There's a medium-sized watch-only wallet that's loaded. There's also a small script I run with `blocknotify`.\r\n\r\nThis is all running on an RPI4 with 8GB RAM, using raspbian buster w/ the OS and block indexes on an SSD.\r\n\r\nI'd be interested if others have seen anything similar out of their nodes or if perhaps this RAM usage is normal given how I'm using it, but I am pretty sure this wasn't happening a year ago with similar usage patterns.",
    "user": {
      "login": "sangaman",
      "id": 3440835,
      "node_id": "MDQ6VXNlcjM0NDA4MzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3440835?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sangaman",
      "html_url": "https://github.com/sangaman",
      "followers_url": "https://api.github.com/users/sangaman/followers",
      "following_url": "https://api.github.com/users/sangaman/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/sangaman/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/sangaman/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/sangaman/subscriptions",
      "organizations_url": "https://api.github.com/users/sangaman/orgs",
      "repos_url": "https://api.github.com/users/sangaman/repos",
      "events_url": "https://api.github.com/users/sangaman/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/sangaman/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 326918230,
        "node_id": "MDU6TGFiZWwzMjY5MTgyMzA=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Resource%20usage",
        "name": "Resource usage",
        "color": "981023",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "locked": false,
    "comments": 15,
    "created_at": "2022-03-12T16:25:45Z",
    "updated_at": "2023-05-12T15:20:20Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 6229948018,
      "node_id": "LE_lADOABII585FlBTlzwAAAAFzVXZy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6229948018",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-12T16:31:32Z",
      "label": {
        "name": "Resource usage",
        "color": "981023"
      }
    },
    {
      "event": "commented",
      "id": 1067730799,
      "node_id": "IC_kwDOABII584_pEdv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1067730799",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-15T09:06:45Z",
      "updated_at": "2022-03-15T13:28:37Z",
      "author_association": "MEMBER",
      "body": "I think I've seen the same thing; but mostly for me it just looks like \"bitcoind has a bunch of memory in swap and it takes a while to deallocate when shutting down\" so I haven't been able to get any insight into what's actually going on. I think the same memory leak may show up in liquid/elements, but with higher severity (due to the higher block rate)\r\n\r\nEDIT: maybe worth noting that the \"takes a while to deallocate\" occurs after `Shutdown()` has finished",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/24542#issuecomment-1067730799",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24542"
    },
    {
      "event": "commented",
      "id": 1067744040,
      "node_id": "IC_kwDOABII584_pHso",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1067744040",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-15T09:20:51Z",
      "updated_at": "2022-03-15T09:20:51Z",
      "author_association": "MEMBER",
      "body": "Maybe `valgrind --tool=massif bitcoind` could help here?",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/24542#issuecomment-1067744040",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24542"
    },
    {
      "event": "commented",
      "id": 1068492667,
      "node_id": "IC_kwDOABII584_r-d7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1068492667",
      "actor": {
        "login": "sangaman",
        "id": 3440835,
        "node_id": "MDQ6VXNlcjM0NDA4MzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3440835?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sangaman",
        "html_url": "https://github.com/sangaman",
        "followers_url": "https://api.github.com/users/sangaman/followers",
        "following_url": "https://api.github.com/users/sangaman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sangaman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sangaman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sangaman/subscriptions",
        "organizations_url": "https://api.github.com/users/sangaman/orgs",
        "repos_url": "https://api.github.com/users/sangaman/repos",
        "events_url": "https://api.github.com/users/sangaman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sangaman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-15T21:31:38Z",
      "updated_at": "2022-03-15T21:31:38Z",
      "author_association": "CONTRIBUTOR",
      "body": "I went to check on my node today expecting higher RAM usage than before, but it was actually down to 1.9 GB. Puzzled, I checked and it looks like the node actually shutdown 2 days ago (and systemd restarted it automatically). Looking at the logs, there are tons of these `BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications`. Here's what my logs look like.\r\n\r\n```\r\n2022-03-13T04:48:01Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T04:48:01Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T04:53:05Z UpdateTip: new best=00000000000000000009e50a3c45c26a64cfe507b5abee9432460ed3d85c6855 height=727101 version=0x20200000 log2_work=93.398160 tx=717198865 date='2022-03-13T04:51:03Z' progress=1.000000 cache=32.2MiB(147906txo)\r\n2022-03-13T04:53:05Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T04:53:05Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T04:54:48Z UpdateTip: new best=000000000000000000058b74712cac983dd446c6b2c5e078db9975c6638e86fd height=727102 version=0x20000000 log2_work=93.398173 tx=717199047 date='2022-03-13T04:52:40Z' progress=1.000000 cache=32.3MiB(148339txo)\r\n2022-03-13T04:54:48Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T04:54:48Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:03:47Z UpdateTip: new best=0000000000000000000516fd3c3ecfb22e47ba8ed8c29163602230aee526d147 height=727103 version=0x20200000 log2_work=93.398186 tx=717199511 date='2022-03-13T04:57:22Z' progress=0.999999 cache=32.5MiB(150501txo)\r\n2022-03-13T05:03:47Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:03:47Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:03:47Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:03:47Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:03:47Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:03:47Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:10:59Z UpdateTip: new best=00000000000000000009554288443c39f85f3e531e9e60c48db2d01a22585b81 height=727104 version=0x2000e004 log2_work=93.398199 tx=717200040 date='2022-03-13T05:02:51Z' progress=0.999998 cache=32.8MiB(152399txo)\r\n2022-03-13T05:10:59Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:10:59Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:19:14Z UpdateTip: new best=0000000000000000000358f170fd5d78721254c9f3cad519155d36eaef8c1c63 height=727105 version=0x20004000 log2_work=93.398212 tx=717200804 date='2022-03-13T05:10:56Z' progress=0.999998 cache=33.4MiB(157443txo)\r\n2022-03-13T05:19:15Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:19:15Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:19:15Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:19:15Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:19:15Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:19:15Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:19:15Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:19:15Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:19:41Z UpdateTip: new best=00000000000000000002bc5d2f34d9bb7c92d2e2c6f2a578ed704f7498cf4d53 height=727106 version=0x3fffe000 log2_work=93.398226 tx=717200853 date='2022-03-13T05:12:02Z' progress=0.999998 cache=33.4MiB(157649txo)\r\n2022-03-13T05:19:42Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:22:21Z UpdateTip: new best=0000000000000000000066ff7813973ee5068a0ff061f42901360871086a5025 height=727107 version=0x3fffe000 log2_work=93.398239 tx=717201297 date='2022-03-13T05:16:01Z' progress=0.999999 cache=33.6MiB(158708txo)\r\n2022-03-13T05:22:22Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:22:22Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:31:47Z UpdateTip: new best=000000000000000000025ce8ab1c48e53f8cb2d5000807cf45ec18e543773f84 height=727108 version=0x2cbd0000 log2_work=93.398252 tx=717202203 date='2022-03-13T05:24:43Z' progress=0.999999 cache=33.9MiB(161187txo)\r\n2022-03-13T05:31:49Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:31:49Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:31:49Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:31:49Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:31:49Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:31:49Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:37:23Z UpdateTip: new best=00000000000000000003be53d87aaf7489dc53d3c36fc36ea7b42d541a19c45f height=727109 version=0x22c18000 log2_work=93.398265 tx=717202876 date='2022-03-13T05:31:32Z' progress=0.999999 cache=34.1MiB(163020txo)\r\n2022-03-13T05:37:23Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:37:23Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:37:23Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:37:23Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:37:23Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:37:23Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:37:41Z UpdateTip: new best=00000000000000000005464d4bd8530348a5b08eb2362f0f621213ca04873852 height=727110 version=0x27ffe004 log2_work=93.398278 tx=717202909 date='2022-03-13T05:31:53Z' progress=0.999999 cache=34.1MiB(163122txo)\r\n2022-03-13T05:37:42Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:41:20Z UpdateTip: new best=000000000000000000045ec5d2b3999a4336dd48724fed813ae8682868bf94b6 height=727111 version=0x20c00000 log2_work=93.398291 tx=717203383 date='2022-03-13T05:36:18Z' progress=0.999999 cache=34.3MiB(164597txo)\r\n2022-03-13T05:41:21Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:41:21Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:41:21Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:41:25Z New outbound peer connected: version: 70015, blocks=727111, peer=656929 (outbound-full-relay)\r\n2022-03-13T05:41:48Z New outbound peer connected: version: 70016, blocks=727111, peer=657055 (outbound-full-relay)\r\n2022-03-13T05:42:44Z New outbound peer connected: version: 70016, blocks=727111, peer=657066 (outbound-full-relay)\r\n2022-03-13T05:58:47Z UpdateTip: new best=00000000000000000008ec489c496cca28028dfe29fec7c1cbf3c43dc7156312 height=727112 version=0x20c00004 log2_work=93.398304 tx=717204079 date='2022-03-13T05:42:48Z' progress=0.999997 cache=34.6MiB(167004txo)\r\n2022-03-13T05:58:47Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:58:47Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:58:47Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:58:47Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:58:47Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:58:47Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:58:47Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:58:47Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:58:47Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:58:47Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:58:48Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:58:48Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:58:48Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:58:48Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T05:59:30Z New outbound peer connected: version: 70016, blocks=727112, peer=657227 (outbound-full-relay)\r\n2022-03-13T06:00:03Z New outbound peer connected: version: 70016, blocks=727112, peer=657238 (outbound-full-relay)\r\n2022-03-13T06:00:05Z New outbound peer connected: version: 70016, blocks=727112, peer=657239 (outbound-full-relay)\r\n2022-03-13T06:00:13Z New outbound peer connected: version: 70015, blocks=727112, peer=657240 (outbound-full-relay)\r\n2022-03-13T06:08:20Z New outbound peer connected: version: 70016, blocks=727112, peer=657341 (outbound-full-relay)\r\n2022-03-13T06:41:11Z UpdateTip: new best=00000000000000000005fda11e6f284235a2c2cfcf74303e9610a40b5e489664 height=727113 version=0x345ca000 log2_work=93.398317 tx=717206214 da\r\nte='2022-03-13T06:16:35Z' progress=0.999995 cache=36.0MiB(178695txo)\r\n2022-03-13T06:41:25Z Potential stale tip detected, will try using extra outbound peer (last tip update: 2549 seconds ago)\r\n2022-03-13T06:41:25Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T06:41:25Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T06:41:25Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T06:41:25Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T06:41:25Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T06:41:25Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T06:41:25Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T06:41:25Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T06:41:25Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T06:41:25Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T06:41:25Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T06:41:25Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T06:41:25Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T06:41:25Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T06:41:25Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T06:41:25Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T06:41:25Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T06:41:25Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T06:41:25Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T06:41:25Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T06:41:25Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T06:41:25Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T06:41:25Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T06:41:25Z BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications\r\n2022-03-13T06:41:26Z New outbound peer connected: version: 70015, blocks=727116, peer=657444 (outbound-full-relay)\r\n2022-03-13T06:41:47Z New outbound peer connected: version: 70016, blocks=727116, peer=657578 (outbound-full-relay)\r\n2022-03-13T06:41:47Z New outbound peer connected: version: 70016, blocks=727116, peer=657579 (outbound-full-relay)\r\n2022-03-13T06:42:04Z New outbound peer connected: version: 70015, blocks=727116, peer=657584 (outbound-full-relay)\r\n2022-03-13T06:42:25Z New outbound peer connected: version: 70015, blocks=727117, peer=657591 (outbound-full-relay)\r\n2022-03-13T06:42:41Z New outbound peer connected: version: 70016, blocks=727117, peer=657596 (outbound-full-relay)\r\n2022-03-13T06:43:00Z New outbound peer connected: version: 70015, blocks=727117, peer=657598 (outbound-full-relay)\r\n2022-03-13T06:43:04Z New outbound peer connected: version: 70016, blocks=727117, peer=657599 (outbound-full-relay)\r\n2022-03-13T06:43:40Z New outbound peer connected: version: 70016, blocks=727117, peer=657607 (outbound-full-relay)\r\n2022-03-13T06:44:36Z New outbound peer connected: version: 70016, blocks=727117, peer=657614 (outbound-full-relay)\r\n2022-03-13T06:44:37Z New outbound peer connected: version: 70016, blocks=727117, peer=657615 (outbound-full-relay)\r\n2022-03-13T06:44:38Z New outbound peer connected: version: 70015, blocks=727117, peer=657616 (outbound-full-relay)\r\n2022-03-13T06:45:07Z New outbound peer connected: version: 70016, blocks=727117, peer=657618 (block-relay-only)\r\n2022-03-13T06:45:43Z New outbound peer connected: version: 70015, blocks=727117, peer=657630 (outbound-full-relay)\r\n```\r\n\r\nThat's the last log message before it switches to startup logs. Looks like peers started dropping my node, I'm guessing because it was unresponsive, and so it was making a lot of outbound connections, and looks like block syncing crawled to a stop.\r\n\r\nI'll try to keep tabs on things and keep this issue updated if I see anything else interesting.\r\n",
      "user": {
        "login": "sangaman",
        "id": 3440835,
        "node_id": "MDQ6VXNlcjM0NDA4MzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3440835?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sangaman",
        "html_url": "https://github.com/sangaman",
        "followers_url": "https://api.github.com/users/sangaman/followers",
        "following_url": "https://api.github.com/users/sangaman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sangaman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sangaman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sangaman/subscriptions",
        "organizations_url": "https://api.github.com/users/sangaman/orgs",
        "repos_url": "https://api.github.com/users/sangaman/repos",
        "events_url": "https://api.github.com/users/sangaman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sangaman/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/24542#issuecomment-1068492667",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24542"
    },
    {
      "event": "commented",
      "id": 1068552785,
      "node_id": "IC_kwDOABII584_sNJR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1068552785",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-15T23:13:16Z",
      "updated_at": "2022-03-15T23:14:17Z",
      "author_association": "MEMBER",
      "body": "> Looking at the logs, there are tons of these `BlockUntilSyncedToCurrentChain: txindex is catching up on block notifications`.\r\n\r\nThese are likely caused by multiple parallel `getrawtransaction` RPC calls (probably from the lnd node) - if the txindex is enabled but hasn't managed to process the newest block yet (as a result of a general slowness / unresponsiveness due to memory shortage), it will log this message.\r\nSo I think that these are probably not the cause of the memory problem, but appear as a result of it.",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/24542#issuecomment-1068552785",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24542"
    },
    {
      "event": "commented",
      "id": 1068560597,
      "node_id": "IC_kwDOABII584_sPDV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1068560597",
      "actor": {
        "login": "sangaman",
        "id": 3440835,
        "node_id": "MDQ6VXNlcjM0NDA4MzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3440835?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sangaman",
        "html_url": "https://github.com/sangaman",
        "followers_url": "https://api.github.com/users/sangaman/followers",
        "following_url": "https://api.github.com/users/sangaman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sangaman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sangaman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sangaman/subscriptions",
        "organizations_url": "https://api.github.com/users/sangaman/orgs",
        "repos_url": "https://api.github.com/users/sangaman/repos",
        "events_url": "https://api.github.com/users/sangaman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sangaman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-15T23:27:24Z",
      "updated_at": "2022-03-15T23:27:24Z",
      "author_association": "CONTRIBUTOR",
      "body": "> These are likely caused by multiple parallel `getrawtransaction` RPC calls (probably from the lnd node) - if the txindex is enabled but hasn't managed to process the newest block yet (as a result of a general slowness / unresponsiveness due to memory shortage), it will log this message. So I think that these are probably not the cause of the memory problem, but appear as a result of it.\r\n\r\nThanks, iirc when I tried making rpc calls via `bitcoin-cli` one of the last times this happened the command would hang while I saw that `BlockUntilSyncedToCurrentChain`, so that makes sense.",
      "user": {
        "login": "sangaman",
        "id": 3440835,
        "node_id": "MDQ6VXNlcjM0NDA4MzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3440835?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sangaman",
        "html_url": "https://github.com/sangaman",
        "followers_url": "https://api.github.com/users/sangaman/followers",
        "following_url": "https://api.github.com/users/sangaman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sangaman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sangaman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sangaman/subscriptions",
        "organizations_url": "https://api.github.com/users/sangaman/orgs",
        "repos_url": "https://api.github.com/users/sangaman/repos",
        "events_url": "https://api.github.com/users/sangaman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sangaman/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/24542#issuecomment-1068560597",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24542"
    },
    {
      "event": "commented",
      "id": 1534133728,
      "node_id": "IC_kwDOABII585bcQXg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1534133728",
      "actor": {
        "login": "cshintov",
        "id": 11365900,
        "node_id": "MDQ6VXNlcjExMzY1OTAw",
        "avatar_url": "https://avatars.githubusercontent.com/u/11365900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cshintov",
        "html_url": "https://github.com/cshintov",
        "followers_url": "https://api.github.com/users/cshintov/followers",
        "following_url": "https://api.github.com/users/cshintov/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cshintov/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cshintov/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cshintov/subscriptions",
        "organizations_url": "https://api.github.com/users/cshintov/orgs",
        "repos_url": "https://api.github.com/users/cshintov/repos",
        "events_url": "https://api.github.com/users/cshintov/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cshintov/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-04T06:00:25Z",
      "updated_at": "2023-05-04T06:00:45Z",
      "author_association": "NONE",
      "body": "Hi facing similar issue. I'm running an rpc node. My memory usage grows beyond 36GB. I only see this problem when setting `rpcthreads` parameter. Without `rpcthreads` the usage doesn't grow beyond 4 GB.\r\n\r\nDid you figure out why the leak?",
      "user": {
        "login": "cshintov",
        "id": 11365900,
        "node_id": "MDQ6VXNlcjExMzY1OTAw",
        "avatar_url": "https://avatars.githubusercontent.com/u/11365900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cshintov",
        "html_url": "https://github.com/cshintov",
        "followers_url": "https://api.github.com/users/cshintov/followers",
        "following_url": "https://api.github.com/users/cshintov/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cshintov/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cshintov/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cshintov/subscriptions",
        "organizations_url": "https://api.github.com/users/cshintov/orgs",
        "repos_url": "https://api.github.com/users/cshintov/repos",
        "events_url": "https://api.github.com/users/cshintov/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cshintov/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/24542#issuecomment-1534133728",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24542"
    },
    {
      "event": "commented",
      "id": 1535074436,
      "node_id": "IC_kwDOABII585bf2CE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1535074436",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-04T16:51:10Z",
      "updated_at": "2023-05-04T16:51:10Z",
      "author_association": "MEMBER",
      "body": "> Hi facing similar issue. I'm running an rpc node.\r\n\r\nAlso 22.0? Which value of `rpcthreads` are you using?",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/24542#issuecomment-1535074436",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24542"
    },
    {
      "event": "commented",
      "id": 1535121219,
      "node_id": "IC_kwDOABII585bgBdD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1535121219",
      "actor": {
        "login": "sangaman",
        "id": 3440835,
        "node_id": "MDQ6VXNlcjM0NDA4MzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3440835?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sangaman",
        "html_url": "https://github.com/sangaman",
        "followers_url": "https://api.github.com/users/sangaman/followers",
        "following_url": "https://api.github.com/users/sangaman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sangaman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sangaman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sangaman/subscriptions",
        "organizations_url": "https://api.github.com/users/sangaman/orgs",
        "repos_url": "https://api.github.com/users/sangaman/repos",
        "events_url": "https://api.github.com/users/sangaman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sangaman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-04T17:12:58Z",
      "updated_at": "2023-05-04T17:12:58Z",
      "author_association": "CONTRIBUTOR",
      "body": "FYI, I am now using v24.0.1 with `rpcthreads=64` as mentioned above, and I still see this issue although it still appears to be slow and unpredictable. I just checked and bitcoind is currently using close to 4 GB RAM, which is a lot higher than it would be if I'd restarted the node within the past few hours or even days.\r\n\r\nI increased the `rpcthreads` setting to make sure bitcoind plays nice with lnd, but I don't expect that I actually need it that high. I can switch to the default `rpcthreads` value and see if this issue goes away, I'll report back later.",
      "user": {
        "login": "sangaman",
        "id": 3440835,
        "node_id": "MDQ6VXNlcjM0NDA4MzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3440835?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sangaman",
        "html_url": "https://github.com/sangaman",
        "followers_url": "https://api.github.com/users/sangaman/followers",
        "following_url": "https://api.github.com/users/sangaman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sangaman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sangaman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sangaman/subscriptions",
        "organizations_url": "https://api.github.com/users/sangaman/orgs",
        "repos_url": "https://api.github.com/users/sangaman/repos",
        "events_url": "https://api.github.com/users/sangaman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sangaman/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/24542#issuecomment-1535121219",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24542"
    },
    {
      "event": "commented",
      "id": 1535130495,
      "node_id": "IC_kwDOABII585bgDt_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1535130495",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-04T17:16:56Z",
      "updated_at": "2023-05-04T17:16:56Z",
      "author_association": "MEMBER",
      "body": "Thanks @sangaman. Additionally, do you have any estimates on how many rpcs you are making per time to the node?",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/24542#issuecomment-1535130495",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24542"
    },
    {
      "event": "mentioned",
      "id": 9169741886,
      "node_id": "MEE_lADOABII585FlBTlzwAAAAIijyg-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9169741886",
      "actor": {
        "login": "sangaman",
        "id": 3440835,
        "node_id": "MDQ6VXNlcjM0NDA4MzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3440835?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sangaman",
        "html_url": "https://github.com/sangaman",
        "followers_url": "https://api.github.com/users/sangaman/followers",
        "following_url": "https://api.github.com/users/sangaman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sangaman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sangaman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sangaman/subscriptions",
        "organizations_url": "https://api.github.com/users/sangaman/orgs",
        "repos_url": "https://api.github.com/users/sangaman/repos",
        "events_url": "https://api.github.com/users/sangaman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sangaman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-04T17:16:56Z"
    },
    {
      "event": "subscribed",
      "id": 9169741905,
      "node_id": "SE_lADOABII585FlBTlzwAAAAIijyhR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9169741905",
      "actor": {
        "login": "sangaman",
        "id": 3440835,
        "node_id": "MDQ6VXNlcjM0NDA4MzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3440835?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sangaman",
        "html_url": "https://github.com/sangaman",
        "followers_url": "https://api.github.com/users/sangaman/followers",
        "following_url": "https://api.github.com/users/sangaman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sangaman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sangaman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sangaman/subscriptions",
        "organizations_url": "https://api.github.com/users/sangaman/orgs",
        "repos_url": "https://api.github.com/users/sangaman/repos",
        "events_url": "https://api.github.com/users/sangaman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sangaman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-04T17:16:56Z"
    },
    {
      "event": "commented",
      "id": 1535138024,
      "node_id": "IC_kwDOABII585bgFjo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1535138024",
      "actor": {
        "login": "sangaman",
        "id": 3440835,
        "node_id": "MDQ6VXNlcjM0NDA4MzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3440835?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sangaman",
        "html_url": "https://github.com/sangaman",
        "followers_url": "https://api.github.com/users/sangaman/followers",
        "following_url": "https://api.github.com/users/sangaman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sangaman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sangaman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sangaman/subscriptions",
        "organizations_url": "https://api.github.com/users/sangaman/orgs",
        "repos_url": "https://api.github.com/users/sangaman/repos",
        "events_url": "https://api.github.com/users/sangaman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sangaman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-04T17:20:45Z",
      "updated_at": "2023-05-04T17:20:45Z",
      "author_association": "CONTRIBUTOR",
      "body": "Hmm I'm not exactly sure. This bitcoind node is primarily used to serve an lnd node as well as an electrum server and mempool.space block explorer, although the latter two get very light usage aside from staying in sync with the chain. If you think it'd be helpful I can try to turn on debug logs and see how many rpc calls are made over a certain period of time.",
      "user": {
        "login": "sangaman",
        "id": 3440835,
        "node_id": "MDQ6VXNlcjM0NDA4MzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3440835?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sangaman",
        "html_url": "https://github.com/sangaman",
        "followers_url": "https://api.github.com/users/sangaman/followers",
        "following_url": "https://api.github.com/users/sangaman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sangaman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sangaman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sangaman/subscriptions",
        "organizations_url": "https://api.github.com/users/sangaman/orgs",
        "repos_url": "https://api.github.com/users/sangaman/repos",
        "events_url": "https://api.github.com/users/sangaman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sangaman/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/24542#issuecomment-1535138024",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24542"
    },
    {
      "event": "commented",
      "id": 1535190060,
      "node_id": "IC_kwDOABII585bgSQs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1535190060",
      "actor": {
        "login": "cshintov",
        "id": 11365900,
        "node_id": "MDQ6VXNlcjExMzY1OTAw",
        "avatar_url": "https://avatars.githubusercontent.com/u/11365900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cshintov",
        "html_url": "https://github.com/cshintov",
        "followers_url": "https://api.github.com/users/cshintov/followers",
        "following_url": "https://api.github.com/users/cshintov/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cshintov/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cshintov/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cshintov/subscriptions",
        "organizations_url": "https://api.github.com/users/cshintov/orgs",
        "repos_url": "https://api.github.com/users/cshintov/repos",
        "events_url": "https://api.github.com/users/cshintov/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cshintov/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-04T18:00:53Z",
      "updated_at": "2023-05-04T18:00:53Z",
      "author_association": "NONE",
      "body": "  I'm running `24.0.1` and I tried with various `rpcthreads` values `50, 100, 150`. \r\n  \r\n  I could solve the issue by setting the below env var.\r\n  \r\n  By default, since glibc 2.10, the C library will create up to two heap\r\n  arenas per core. This is known to cause excessive memory usage in some\r\n  scenarios. To avoid this we have to set\r\n\r\n   ```MALLOC_ARENA_MAX=1```\r\n\r\n  without this the usage grows beyond 36GB, with this it stays under 2GB\r\n  normally.\r\n\r\n  ref: https://github.com/bitcoin/bitcoin/blob/master/doc/reduce-\r\n  memory.md#linux-specific",
      "user": {
        "login": "cshintov",
        "id": 11365900,
        "node_id": "MDQ6VXNlcjExMzY1OTAw",
        "avatar_url": "https://avatars.githubusercontent.com/u/11365900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cshintov",
        "html_url": "https://github.com/cshintov",
        "followers_url": "https://api.github.com/users/cshintov/followers",
        "following_url": "https://api.github.com/users/cshintov/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cshintov/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cshintov/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cshintov/subscriptions",
        "organizations_url": "https://api.github.com/users/cshintov/orgs",
        "repos_url": "https://api.github.com/users/cshintov/repos",
        "events_url": "https://api.github.com/users/cshintov/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cshintov/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/24542#issuecomment-1535190060",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24542"
    },
    {
      "event": "commented",
      "id": 1535282807,
      "node_id": "IC_kwDOABII585bgo53",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1535282807",
      "actor": {
        "login": "sangaman",
        "id": 3440835,
        "node_id": "MDQ6VXNlcjM0NDA4MzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3440835?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sangaman",
        "html_url": "https://github.com/sangaman",
        "followers_url": "https://api.github.com/users/sangaman/followers",
        "following_url": "https://api.github.com/users/sangaman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sangaman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sangaman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sangaman/subscriptions",
        "organizations_url": "https://api.github.com/users/sangaman/orgs",
        "repos_url": "https://api.github.com/users/sangaman/repos",
        "events_url": "https://api.github.com/users/sangaman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sangaman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-04T19:18:15Z",
      "updated_at": "2023-05-04T19:18:15Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thank you @cshintov ! I'll try this env var out and see if it solves my issue without having to change my config.",
      "user": {
        "login": "sangaman",
        "id": 3440835,
        "node_id": "MDQ6VXNlcjM0NDA4MzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3440835?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sangaman",
        "html_url": "https://github.com/sangaman",
        "followers_url": "https://api.github.com/users/sangaman/followers",
        "following_url": "https://api.github.com/users/sangaman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sangaman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sangaman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sangaman/subscriptions",
        "organizations_url": "https://api.github.com/users/sangaman/orgs",
        "repos_url": "https://api.github.com/users/sangaman/repos",
        "events_url": "https://api.github.com/users/sangaman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sangaman/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/24542#issuecomment-1535282807",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24542"
    },
    {
      "event": "mentioned",
      "id": 9170742979,
      "node_id": "MEE_lADOABII585FlBTlzwAAAAIinm7D",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9170742979",
      "actor": {
        "login": "cshintov",
        "id": 11365900,
        "node_id": "MDQ6VXNlcjExMzY1OTAw",
        "avatar_url": "https://avatars.githubusercontent.com/u/11365900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cshintov",
        "html_url": "https://github.com/cshintov",
        "followers_url": "https://api.github.com/users/cshintov/followers",
        "following_url": "https://api.github.com/users/cshintov/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cshintov/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cshintov/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cshintov/subscriptions",
        "organizations_url": "https://api.github.com/users/cshintov/orgs",
        "repos_url": "https://api.github.com/users/cshintov/repos",
        "events_url": "https://api.github.com/users/cshintov/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cshintov/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-04T19:18:16Z"
    },
    {
      "event": "subscribed",
      "id": 9170742985,
      "node_id": "SE_lADOABII585FlBTlzwAAAAIinm7J",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9170742985",
      "actor": {
        "login": "cshintov",
        "id": 11365900,
        "node_id": "MDQ6VXNlcjExMzY1OTAw",
        "avatar_url": "https://avatars.githubusercontent.com/u/11365900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cshintov",
        "html_url": "https://github.com/cshintov",
        "followers_url": "https://api.github.com/users/cshintov/followers",
        "following_url": "https://api.github.com/users/cshintov/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cshintov/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cshintov/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cshintov/subscriptions",
        "organizations_url": "https://api.github.com/users/cshintov/orgs",
        "repos_url": "https://api.github.com/users/cshintov/repos",
        "events_url": "https://api.github.com/users/cshintov/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cshintov/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-04T19:18:16Z"
    },
    {
      "event": "commented",
      "id": 1545805593,
      "node_id": "IC_kwDOABII585cIx8Z",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1545805593",
      "actor": {
        "login": "sangaman",
        "id": 3440835,
        "node_id": "MDQ6VXNlcjM0NDA4MzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3440835?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sangaman",
        "html_url": "https://github.com/sangaman",
        "followers_url": "https://api.github.com/users/sangaman/followers",
        "following_url": "https://api.github.com/users/sangaman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sangaman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sangaman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sangaman/subscriptions",
        "organizations_url": "https://api.github.com/users/sangaman/orgs",
        "repos_url": "https://api.github.com/users/sangaman/repos",
        "events_url": "https://api.github.com/users/sangaman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sangaman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-12T14:06:44Z",
      "updated_at": "2023-05-12T14:06:44Z",
      "author_association": "CONTRIBUTOR",
      "body": "So far my results with `MALLOC_ARENA_MAX=1` seem to be good, I've been comfortably under 2GB RAM every time I've checked. I added it as an env var in my systemd configuration which I copied and modified from the one in this repo, I figure it ought to have that env var as well. I'll open a PR to add it.",
      "user": {
        "login": "sangaman",
        "id": 3440835,
        "node_id": "MDQ6VXNlcjM0NDA4MzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3440835?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sangaman",
        "html_url": "https://github.com/sangaman",
        "followers_url": "https://api.github.com/users/sangaman/followers",
        "following_url": "https://api.github.com/users/sangaman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sangaman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sangaman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sangaman/subscriptions",
        "organizations_url": "https://api.github.com/users/sangaman/orgs",
        "repos_url": "https://api.github.com/users/sangaman/repos",
        "events_url": "https://api.github.com/users/sangaman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sangaman/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/24542#issuecomment-1545805593",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24542"
    },
    {
      "event": "referenced",
      "id": 9233532626,
      "node_id": "REFE_lADOABII585FlBTlzwAAAAImXIbS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9233532626",
      "actor": {
        "login": "sangaman",
        "id": 3440835,
        "node_id": "MDQ6VXNlcjM0NDA4MzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3440835?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sangaman",
        "html_url": "https://github.com/sangaman",
        "followers_url": "https://api.github.com/users/sangaman/followers",
        "following_url": "https://api.github.com/users/sangaman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sangaman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sangaman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sangaman/subscriptions",
        "organizations_url": "https://api.github.com/users/sangaman/orgs",
        "repos_url": "https://api.github.com/users/sangaman/repos",
        "events_url": "https://api.github.com/users/sangaman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sangaman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "5b1726ec0daadfff443da5e95da9108095cfe1c7",
      "commit_url": "https://api.github.com/repos/sangaman/bitcoin/commits/5b1726ec0daadfff443da5e95da9108095cfe1c7",
      "created_at": "2023-05-12T14:11:20Z"
    },
    {
      "event": "commented",
      "id": 1545830080,
      "node_id": "IC_kwDOABII585cI37A",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1545830080",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-12T14:24:31Z",
      "updated_at": "2023-05-12T14:24:31Z",
      "author_association": "MEMBER",
      "body": "I think setting this to 1 will give significantly worse performance for most users though? \n\nSeems like it would be better to add it to the documentation if anything...",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/24542#issuecomment-1545830080",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24542"
    },
    {
      "event": "referenced",
      "id": 9234047315,
      "node_id": "REFE_lADOABII585FlBTlzwAAAAImZGFT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9234047315",
      "actor": {
        "login": "sangaman",
        "id": 3440835,
        "node_id": "MDQ6VXNlcjM0NDA4MzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3440835?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sangaman",
        "html_url": "https://github.com/sangaman",
        "followers_url": "https://api.github.com/users/sangaman/followers",
        "following_url": "https://api.github.com/users/sangaman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sangaman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sangaman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sangaman/subscriptions",
        "organizations_url": "https://api.github.com/users/sangaman/orgs",
        "repos_url": "https://api.github.com/users/sangaman/repos",
        "events_url": "https://api.github.com/users/sangaman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sangaman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "7cbcb55d8233ec11c58ae8f1f0c2bd3a8f3f539c",
      "commit_url": "https://api.github.com/repos/sangaman/bitcoin/commits/7cbcb55d8233ec11c58ae8f1f0c2bd3a8f3f539c",
      "created_at": "2023-05-12T15:04:17Z"
    },
    {
      "event": "referenced",
      "id": 9234068433,
      "node_id": "REFE_lADOABII585FlBTlzwAAAAImZLPR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9234068433",
      "actor": {
        "login": "sangaman",
        "id": 3440835,
        "node_id": "MDQ6VXNlcjM0NDA4MzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3440835?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sangaman",
        "html_url": "https://github.com/sangaman",
        "followers_url": "https://api.github.com/users/sangaman/followers",
        "following_url": "https://api.github.com/users/sangaman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sangaman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sangaman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sangaman/subscriptions",
        "organizations_url": "https://api.github.com/users/sangaman/orgs",
        "repos_url": "https://api.github.com/users/sangaman/repos",
        "events_url": "https://api.github.com/users/sangaman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sangaman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "3dd8faffcaebc3d2b0b7e0b1710ce63f4aeb68a0",
      "commit_url": "https://api.github.com/repos/sangaman/bitcoin/commits/3dd8faffcaebc3d2b0b7e0b1710ce63f4aeb68a0",
      "created_at": "2023-05-12T15:06:19Z"
    },
    {
      "event": "referenced",
      "id": 9234128958,
      "node_id": "REFE_lADOABII585FlBTlzwAAAAImZaA-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9234128958",
      "actor": {
        "login": "sangaman",
        "id": 3440835,
        "node_id": "MDQ6VXNlcjM0NDA4MzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3440835?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sangaman",
        "html_url": "https://github.com/sangaman",
        "followers_url": "https://api.github.com/users/sangaman/followers",
        "following_url": "https://api.github.com/users/sangaman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sangaman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sangaman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sangaman/subscriptions",
        "organizations_url": "https://api.github.com/users/sangaman/orgs",
        "repos_url": "https://api.github.com/users/sangaman/repos",
        "events_url": "https://api.github.com/users/sangaman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sangaman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "0cd0eec4664e5d1d4ebfc0c6fa8f2baac0b895a5",
      "commit_url": "https://api.github.com/repos/sangaman/bitcoin/commits/0cd0eec4664e5d1d4ebfc0c6fa8f2baac0b895a5",
      "created_at": "2023-05-12T15:12:53Z"
    },
    {
      "event": "commented",
      "id": 1545911064,
      "node_id": "IC_kwDOABII585cJLsY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1545911064",
      "actor": {
        "login": "sangaman",
        "id": 3440835,
        "node_id": "MDQ6VXNlcjM0NDA4MzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3440835?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sangaman",
        "html_url": "https://github.com/sangaman",
        "followers_url": "https://api.github.com/users/sangaman/followers",
        "following_url": "https://api.github.com/users/sangaman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sangaman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sangaman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sangaman/subscriptions",
        "organizations_url": "https://api.github.com/users/sangaman/orgs",
        "repos_url": "https://api.github.com/users/sangaman/repos",
        "events_url": "https://api.github.com/users/sangaman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sangaman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-12T15:18:24Z",
      "updated_at": "2023-05-12T15:20:20Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Seems like it would be better to add it to the documentation if anything...\r\n\r\nIt is in the documentation already at https://github.com/bitcoin/bitcoin/blob/master/doc/reduce-memory.md.\r\n\r\n> I think setting this to 1 will give significantly worse performance for most users though?\r\n\r\nPer the documentation above that wouldn't be the case although I can't say for sure. I certainly didn't notice any decreased performance when setting this env var.\r\n\r\n> The behavior was introduced to increase CPU locality of allocated memory and performance with concurrent allocation, so this setting could in theory reduce performance. However, in Bitcoin Core very little parallel allocation happens, so the impact is expected to be small or absent.",
      "user": {
        "login": "sangaman",
        "id": 3440835,
        "node_id": "MDQ6VXNlcjM0NDA4MzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3440835?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sangaman",
        "html_url": "https://github.com/sangaman",
        "followers_url": "https://api.github.com/users/sangaman/followers",
        "following_url": "https://api.github.com/users/sangaman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sangaman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sangaman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sangaman/subscriptions",
        "organizations_url": "https://api.github.com/users/sangaman/orgs",
        "repos_url": "https://api.github.com/users/sangaman/repos",
        "events_url": "https://api.github.com/users/sangaman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sangaman/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/24542#issuecomment-1545911064",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24542"
    }
  ]
}