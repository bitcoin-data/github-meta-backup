{
  "type": "issue",
  "issue": {
    "id": 1222158587,
    "node_id": "I_kwDOABII585I2Kj7",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25048",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25048/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25048/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25048/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/25048",
    "number": 25048,
    "state": "closed",
    "state_reason": "completed",
    "title": "Node won't serve blocks when connect=0, listen=1 set due to IBD logic",
    "body": "I have a 2 machine setup on my local network that I use for testing and I've performed dozens of syncs without any issues until recently.\r\n\r\nI have a node on a laptop that is configured not to make any outbound connections via connect=0 but does listen for connections via listen=1. This node, as a result, never downloads new blocks.\r\n\r\nI then run a node on a desktop that it set to ONLY connect to the laptop node via connect=<local network IP> \r\n\r\n**Expected behavior**\r\n\r\nThis node then downloads all of the blocks it can from the laptop node and then stops. This has been the case for many months of testing I've performed.\r\n\r\n**Actual behavior**\r\n\r\nHowever, when trying to run a test recently, the desktop node wasn't syncing. After enabling net debugging I see that the laptop node is deciding not to serve any blocks because it considers itself to be in IBD. This is odd because it's unclear WHY it would know that there are more blocks available out on the network when it is explicitly told not to connect to any peers.\r\n\r\n**To reproduce**\r\n\r\nHard to reproduce this far. Easy to fix by having the main node connect to other peers and sync to chain tip.\r\n\r\n**System information**\r\n\r\nBitcoin Core 23.0 on Debian, official build\r\n\r\n<!-- Any extra information that might be useful in the debugging process. -->\r\nExample startup log from previous testing runs that went as expected. I find it interesting that it says \"progress=0.999996\"\r\n\r\n<pre>\r\n2022-02-12T17:35:39Z Bitcoin Core version v22.0.0 (release build)\r\n2022-02-12T17:35:39Z Assuming ancestors of block 00000000000000000008a89e854d57e5667df88f1cdef6fde2fbca1de5b639ad have valid signatures.\r\n2022-02-12T17:35:39Z Setting nMinimumChainWork=00000000000000000000000000000000000000001fa4663bbbe19f82de910280\r\n2022-02-12T17:35:39Z Using the 'sse4(1way),sse41(4way),avx2(8way)' SHA256 implementation\r\n2022-02-12T17:35:39Z Using RdSeed as additional entropy source\r\n2022-02-12T17:35:39Z Using RdRand as an additional entropy source\r\n2022-02-12T17:35:39Z Default data directory /home/jameson/.bitcoin\r\n2022-02-12T17:35:39Z Using data directory /media/jameson/Blockchain/bitcoin\r\n2022-02-12T17:35:39Z Config file: /media/jameson/Blockchain/bitcoin/bitcoin.conf (not found, skipping)\r\n2022-02-12T17:35:39Z Config file arg: blockfilterindex=\"1\"\r\n2022-02-12T17:35:39Z Config file arg: connect=\"0\"\r\n2022-02-12T17:35:39Z Config file arg: datadir=\"/media/jameson/Blockchain/bitcoin\"\r\n2022-02-12T17:35:39Z Config file arg: dns=\"0\"\r\n2022-02-12T17:35:39Z Config file arg: dnsseed=\"0\"\r\n2022-02-12T17:35:39Z Config file arg: listen=\"1\"\r\n2022-02-12T17:35:39Z Config file arg: rpcauth=****\r\n2022-02-12T17:35:39Z Config file arg: rpcthreads=\"12\"\r\n2022-02-12T17:35:39Z Config file arg: rpcworkqueue=\"48\"\r\n2022-02-12T17:35:39Z Config file arg: server=\"1\"\r\n2022-02-12T17:35:39Z Config file arg: txindex=\"1\"\r\n2022-02-12T17:35:39Z Config file arg: wallet=\"0\"\r\n2022-02-12T17:35:39Z Config file arg: zmqpubrawblock=\"tcp://127.0.0.1:28332\"\r\n2022-02-12T17:35:39Z Config file arg: zmqpubrawtx=\"tcp://127.0.0.1:28333\"\r\n2022-02-12T17:35:39Z Command-line arg: daemon=\"\"\r\n2022-02-12T17:35:39Z Using at most 125 automatic connections (1024 file descriptors available)\r\n2022-02-12T17:35:39Z Using 16 MiB out of 32/2 requested for signature cache, able to store 524288 elements\r\n2022-02-12T17:35:39Z Using 16 MiB out of 32/2 requested for script execution cache, able to store 524288 elements\r\n2022-02-12T17:35:39Z Script verification uses 11 additional threads\r\n2022-02-12T17:35:39Z scheduler thread start\r\n2022-02-12T17:35:39Z HTTP: creating work queue of depth 48\r\n2022-02-12T17:35:39Z Using random cookie authentication.\r\n2022-02-12T17:35:39Z Generated RPC authentication cookie /media/jameson/Blockchain/bitcoin/.cookie\r\n2022-02-12T17:35:39Z Using rpcauth authentication.\r\n2022-02-12T17:35:39Z HTTP: starting 12 worker threads\r\n2022-02-12T17:35:39Z Using wallet directory /media/jameson/Blockchain/bitcoin\r\n2022-02-12T17:35:39Z init message: Verifying wallet(s)…\r\n2022-02-12T17:35:39Z Warning: Skipping -wallet path that doesn't exist. Failed to load database path '/media/jameson/Blockchain/bitcoin/0'. Path does not exist.\r\n2022-02-12T17:35:39Z init message: Loading banlist…\r\n2022-02-12T17:35:39Z SetNetworkActive: true\r\n2022-02-12T17:35:39Z Using /16 prefix for IP bucketing\r\n2022-02-12T17:35:39Z Cache configuration:\r\n2022-02-12T17:35:39Z * Using 2.0 MiB for block index database\r\n2022-02-12T17:35:39Z * Using 56.0 MiB for transaction index database\r\n2022-02-12T17:35:39Z * Using 49.0 MiB for basic block filter index database\r\n2022-02-12T17:35:39Z * Using 8.0 MiB for chain state database\r\n2022-02-12T17:35:39Z * Using 335.0 MiB for in-memory UTXO set (plus up to 286.1 MiB of unused mempool space)\r\n2022-02-12T17:35:39Z init message: Loading block index…\r\n2022-02-12T17:35:39Z Switching active chainstate to Chainstate [ibd] @ height -1 (null)\r\n2022-02-12T17:35:39Z Opening LevelDB in /media/jameson/Blockchain/bitcoin/blocks/index\r\n2022-02-12T17:35:39Z Opened LevelDB successfully\r\n2022-02-12T17:35:39Z Using obfuscation key for /media/jameson/Blockchain/bitcoin/blocks/index: 0000000000000000\r\n2022-02-12T17:35:42Z LoadBlockIndexDB: last block file = 2921\r\n2022-02-12T17:35:42Z LoadBlockIndexDB: last block file info: CBlockFileInfo(blocks=32, size=50279941, heights=722928...722965, time=2022-02-12...2022-02-12)\r\n2022-02-12T17:35:42Z Checking all blk files are present...\r\n2022-02-12T17:35:42Z Opening LevelDB in /media/jameson/Blockchain/bitcoin/chainstate\r\n2022-02-12T17:35:42Z Opened LevelDB successfully\r\n2022-02-12T17:35:42Z Using obfuscation key for /media/jameson/Blockchain/bitcoin/chainstate: 05e83c6994e2e4d1\r\n2022-02-12T17:35:42Z Loaded best chain: hashBestChain=00000000000000000008c2190b3b7f475db5a19123e8e19da20af0629e3aeaa1 height=722965 date=2022-02-12T17:14:26Z progress=0.999996\r\n2022-02-12T17:35:42Z init message: Verifying blocks…\r\n2022-02-12T17:35:42Z Verifying last 6 blocks at level 3\r\n2022-02-12T17:35:42Z [0%]...[16%]...[33%]...[50%]...[66%]...[83%]...[99%]...[DONE].\r\n2022-02-12T17:35:42Z No coin database inconsistencies in last 6 blocks (9180 transactions)\r\n2022-02-12T17:35:42Z  block index            3455ms\r\n2022-02-12T17:35:42Z Opening LevelDB in /media/jameson/Blockchain/bitcoin/indexes/txindex\r\n2022-02-12T17:35:42Z Opened LevelDB successfully\r\n2022-02-12T17:35:42Z Using obfuscation key for /media/jameson/Blockchain/bitcoin/indexes/txindex: 0000000000000000\r\n2022-02-12T17:35:42Z txindex thread start\r\n2022-02-12T17:35:42Z txindex is enabled at height 722965\r\n2022-02-12T17:35:42Z txindex thread exit\r\n2022-02-12T17:35:42Z Opening LevelDB in /media/jameson/Blockchain/bitcoin/indexes/blockfilter/basic/db\r\n2022-02-12T17:35:42Z Opened LevelDB successfully\r\n2022-02-12T17:35:42Z Using obfuscation key for /media/jameson/Blockchain/bitcoin/indexes/blockfilter/basic/db: 0000000000000000\r\n2022-02-12T17:35:42Z basic block filter index thread start\r\n2022-02-12T17:35:42Z basic block filter index is enabled at height 722965\r\n2022-02-12T17:35:42Z basic block filter index thread exit\r\n2022-02-12T17:35:42Z block tree size = 722968\r\n2022-02-12T17:35:42Z nBestHeight = 722965\r\n2022-02-12T17:35:42Z loadblk thread start\r\n2022-02-12T17:35:42Z Bound to 127.0.0.1:8334\r\n2022-02-12T17:35:42Z Bound to [::]:8333\r\n2022-02-12T17:35:42Z Bound to 0.0.0.0:8333\r\n2022-02-12T17:35:42Z torcontrol thread start\r\n2022-02-12T17:35:42Z init message: Loading P2P addresses…\r\n2022-02-12T17:35:42Z Leaving InitialBlockDownload (latching to false)\r\n2022-02-12T17:35:42Z Loaded 62684 addresses from peers.dat  122ms\r\n2022-02-12T17:35:42Z init message: Starting network threads…\r\n2022-02-12T17:35:42Z DNS seeding disabled\r\n2022-02-12T17:35:42Z init message: Done loading\r\n2022-02-12T17:35:42Z addcon thread start\r\n2022-02-12T17:35:42Z net thread start\r\n2022-02-12T17:35:42Z msghand thread start\r\n2022-02-12T17:35:44Z Imported mempool transactions from disk: 781 succeeded, 0 failed, 0 expired, 0 already there, 0 waiting for initial broadcast\r\n2022-02-12T17:35:44Z loadblk thread exit\r\n</pre>\r\n\r\nHere's the network debug log; note it says \"progress=0.982959\"\r\nWhy did this change if the node was instructed to never connect to any other nodes outside of my LAN?\r\n<pre>\r\n2022-04-29T14:11:22Z Bitcoin Core version v23.0.0 (release build)\r\n2022-04-29T14:11:22Z Assuming ancestors of block 000000000000000000052d314a259755ca65944e68df6b12a067ea8f1f5a7091 have valid signatures.\r\n2022-04-29T14:11:22Z Setting nMinimumChainWork=00000000000000000000000000000000000000002927cdceccbd5209e81e80db\r\n2022-04-29T14:11:22Z Using the 'sse4(1way),sse41(4way),avx2(8way)' SHA256 implementation\r\n2022-04-29T14:11:22Z Using RdSeed as additional entropy source\r\n2022-04-29T14:11:22Z Using RdRand as an additional entropy source\r\n2022-04-29T14:11:22Z Default data directory /home/jameson/.bitcoin\r\n2022-04-29T14:11:22Z Using data directory /media/jameson/Blockchain/bitcoin\r\n2022-04-29T14:11:22Z Config file: /media/jameson/Blockchain/bitcoin/bitcoin.conf (not found, skipping)\r\n2022-04-29T14:11:22Z Config file arg: blockfilterindex=\"1\"\r\n2022-04-29T14:11:22Z Config file arg: connect=\"0\"\r\n2022-04-29T14:11:22Z Config file arg: datadir=\"/media/jameson/Blockchain/bitcoin\"\r\n2022-04-29T14:11:22Z Config file arg: debug=\"net\"\r\n2022-04-29T14:11:22Z Config file arg: dns=\"0\"\r\n2022-04-29T14:11:22Z Config file arg: dnsseed=\"0\"\r\n2022-04-29T14:11:22Z Config file arg: listen=\"1\"\r\n2022-04-29T14:11:22Z Config file arg: rpcauth=****\r\n2022-04-29T14:11:22Z Config file arg: rpcthreads=\"12\"\r\n2022-04-29T14:11:22Z Config file arg: rpcworkqueue=\"48\"\r\n2022-04-29T14:11:22Z Config file arg: server=\"1\"\r\n2022-04-29T14:11:22Z Config file arg: txindex=\"1\"\r\n2022-04-29T14:11:22Z Config file arg: wallet=\"0\"\r\n2022-04-29T14:11:22Z Config file arg: zmqpubrawblock=\"tcp://127.0.0.1:28332\"\r\n2022-04-29T14:11:22Z Config file arg: zmqpubrawtx=\"tcp://127.0.0.1:28333\"\r\n2022-04-29T14:11:22Z Command-line arg: daemon=\"\"\r\n2022-04-29T14:11:22Z Using at most 125 automatic connections (1024 file descriptors available)\r\n2022-04-29T14:11:22Z Using 16 MiB out of 32/2 requested for signature cache, able to store 524288 elements\r\n2022-04-29T14:11:22Z Using 16 MiB out of 32/2 requested for script execution cache, able to store 524288 elements\r\n2022-04-29T14:11:22Z Script verification uses 11 additional threads\r\n2022-04-29T14:11:22Z scheduler thread start\r\n2022-04-29T14:11:22Z HTTP: creating work queue of depth 48\r\n2022-04-29T14:11:22Z Using random cookie authentication.\r\n2022-04-29T14:11:22Z Generated RPC authentication cookie /media/jameson/Blockchain/bitcoin/.cookie\r\n2022-04-29T14:11:22Z Using rpcauth authentication.\r\n2022-04-29T14:11:22Z HTTP: starting 12 worker threads\r\n2022-04-29T14:11:22Z Using wallet directory /media/jameson/Blockchain/bitcoin\r\n2022-04-29T14:11:22Z init message: Verifying wallet(s)…\r\n2022-04-29T14:11:22Z Warning: Skipping -wallet path that doesn't exist. Failed to load database path '/media/jameson/Blockchain/bitcoin/0'. Path does not exist.\r\n2022-04-29T14:11:22Z Using /16 prefix for IP bucketing\r\n2022-04-29T14:11:22Z init message: Loading P2P addresses…\r\n2022-04-29T14:11:22Z Loaded 0 addresses from peers.dat  0ms\r\n2022-04-29T14:11:22Z init message: Loading banlist…\r\n2022-04-29T14:11:22Z banlist.dat ignored because it can only be read by Bitcoin Core version 22.x. Remove \"/media/jameson/Blockchain/bitcoin/banlist.dat\" to silence this warning.\r\n2022-04-29T14:11:22Z Loaded 0 banned node addresses/subnets  0ms\r\n2022-04-29T14:11:22Z net: setting try another outbound peer=false\r\n2022-04-29T14:11:22Z SetNetworkActive: true\r\n2022-04-29T14:11:22Z Cache configuration:\r\n2022-04-29T14:11:22Z * Using 2.0 MiB for block index database\r\n2022-04-29T14:11:22Z * Using 56.0 MiB for transaction index database\r\n2022-04-29T14:11:22Z * Using 49.0 MiB for basic block filter index database\r\n2022-04-29T14:11:22Z * Using 8.0 MiB for chain state database\r\n2022-04-29T14:11:22Z * Using 335.0 MiB for in-memory UTXO set (plus up to 286.1 MiB of unused mempool space)\r\n2022-04-29T14:11:22Z init message: Loading block index…\r\n2022-04-29T14:11:22Z Switching active chainstate to Chainstate [ibd] @ height -1 (null)\r\n2022-04-29T14:11:22Z Opening LevelDB in /media/jameson/Blockchain/bitcoin/blocks/index\r\n2022-04-29T14:11:22Z Opened LevelDB successfully\r\n2022-04-29T14:11:22Z Using obfuscation key for /media/jameson/Blockchain/bitcoin/blocks/index: 0000000000000000\r\n2022-04-29T14:11:25Z LoadBlockIndexDB: last block file = 2954\r\n2022-04-29T14:11:25Z LoadBlockIndexDB: last block file info: CBlockFileInfo(blocks=50, size=67330220, heights=726115...726749, time=2022-03-06...2022-03-10)\r\n2022-04-29T14:11:25Z Checking all blk files are present...\r\n2022-04-29T14:11:25Z Opening LevelDB in /media/jameson/Blockchain/bitcoin/chainstate\r\n2022-04-29T14:11:25Z Opened LevelDB successfully\r\n2022-04-29T14:11:25Z Using obfuscation key for /media/jameson/Blockchain/bitcoin/chainstate: 05e83c6994e2e4d1\r\n2022-04-29T14:11:25Z Loaded best chain: hashBestChain=000000000000000000014ccfdf28b7b062aec08384456eba68e2070fc61ec811 height=726750 date=2022-03-10T20:26:32Z progress=0.982959\r\n2022-04-29T14:11:25Z init message: Verifying blocks…\r\n2022-04-29T14:11:25Z Verifying last 6 blocks at level 3\r\n2022-04-29T14:11:25Z [0%]...[16%]...[33%]...[50%]...[66%]...[83%]...[99%]...[DONE].\r\n2022-04-29T14:11:26Z No coin database inconsistencies in last 6 blocks (9585 transactions)\r\n2022-04-29T14:11:26Z  block index            3744ms\r\n2022-04-29T14:11:26Z Opening LevelDB in /media/jameson/Blockchain/bitcoin/indexes/txindex\r\n2022-04-29T14:11:26Z Opened LevelDB successfully\r\n2022-04-29T14:11:26Z Using obfuscation key for /media/jameson/Blockchain/bitcoin/indexes/txindex: 0000000000000000\r\n2022-04-29T14:11:26Z txindex thread start\r\n2022-04-29T14:11:26Z txindex is enabled at height 726750\r\n2022-04-29T14:11:26Z txindex thread exit\r\n2022-04-29T14:11:26Z Opening LevelDB in /media/jameson/Blockchain/bitcoin/indexes/blockfilter/basic/db\r\n2022-04-29T14:11:26Z Opened LevelDB successfully\r\n2022-04-29T14:11:26Z Using obfuscation key for /media/jameson/Blockchain/bitcoin/indexes/blockfilter/basic/db: 0000000000000000\r\n2022-04-29T14:11:26Z block tree size = 726753\r\n2022-04-29T14:11:26Z nBestHeight = 726750\r\n2022-04-29T14:11:26Z basic block filter index thread start\r\n2022-04-29T14:11:26Z basic block filter index is enabled at height 726750\r\n2022-04-29T14:11:26Z basic block filter index thread exit\r\n2022-04-29T14:11:26Z loadblk thread start\r\n2022-04-29T14:11:26Z torcontrol thread start\r\n2022-04-29T14:11:26Z Imported mempool transactions from disk: 0 succeeded, 0 failed, 0 expired, 0 already there, 0 waiting for initial broadcast\r\n2022-04-29T14:11:26Z loadblk thread exit\r\n2022-04-29T14:11:26Z Bound to 127.0.0.1:8334\r\n2022-04-29T14:11:26Z Bound to [::]:8333\r\n2022-04-29T14:11:26Z Bound to 0.0.0.0:8333\r\n2022-04-29T14:11:26Z init message: Starting network threads…\r\n2022-04-29T14:11:26Z DNS seeding disabled\r\n2022-04-29T14:11:26Z init message: Done loading\r\n2022-04-29T14:11:26Z net thread start\r\n2022-04-29T14:11:26Z addcon thread start\r\n2022-04-29T14:11:26Z msghand thread start\r\n2022-04-29T14:11:52Z Added connection peer=0\r\n2022-04-29T14:11:52Z connection from 192.168.2.42:53516 accepted\r\n2022-04-29T14:11:52Z received: version (102 bytes) peer=0\r\n2022-04-29T14:11:52Z sending version (102 bytes) peer=0\r\n2022-04-29T14:11:52Z send version message: version 70016, blocks=726750, txrelay=1, peer=0\r\n2022-04-29T14:11:52Z sending wtxidrelay (0 bytes) peer=0\r\n2022-04-29T14:11:52Z sending sendaddrv2 (0 bytes) peer=0\r\n2022-04-29T14:11:52Z sending verack (0 bytes) peer=0\r\n2022-04-29T14:11:52Z receive version message: /Satoshi:0.21.2/: version 70016, blocks=0, us=[::]:0, txrelay=1, peer=0\r\n2022-04-29T14:11:52Z received: wtxidrelay (0 bytes) peer=0\r\n2022-04-29T14:11:52Z received: sendaddrv2 (0 bytes) peer=0\r\n2022-04-29T14:11:52Z received: verack (0 bytes) peer=0\r\n2022-04-29T14:11:52Z sending sendheaders (0 bytes) peer=0\r\n2022-04-29T14:11:52Z sending sendcmpct (9 bytes) peer=0\r\n2022-04-29T14:11:52Z sending sendcmpct (9 bytes) peer=0\r\n2022-04-29T14:11:52Z sending ping (8 bytes) peer=0\r\n2022-04-29T14:11:52Z initial getheaders (726749) to peer=0 (startheight:0)\r\n2022-04-29T14:11:52Z sending getheaders (1029 bytes) peer=0\r\n2022-04-29T14:11:52Z sending feefilter (8 bytes) peer=0\r\n2022-04-29T14:11:52Z received: getaddr (0 bytes) peer=0\r\n2022-04-29T14:11:52Z received: sendheaders (0 bytes) peer=0\r\n2022-04-29T14:11:52Z received: sendcmpct (9 bytes) peer=0\r\n2022-04-29T14:11:52Z received: sendcmpct (9 bytes) peer=0\r\n2022-04-29T14:11:52Z received: ping (8 bytes) peer=0\r\n2022-04-29T14:11:52Z sending pong (8 bytes) peer=0\r\n2022-04-29T14:11:52Z received: getheaders (69 bytes) peer=0\r\n2022-04-29T14:11:52Z Ignoring getheaders from peer=0 because node is in initial block download\r\n2022-04-29T14:11:52Z received: feefilter (8 bytes) peer=0\r\n2022-04-29T14:11:52Z received: feefilter of 0.09170997 BTC/kvB from peer=0\r\n2022-04-29T14:11:52Z received: pong (8 bytes) peer=0\r\n2022-04-29T14:12:48Z socket closed for peer=0\r\n2022-04-29T14:12:48Z disconnecting peer=0\r\n2022-04-29T14:12:48Z Cleared nodestate for peer=0\r\n</pre>",
    "user": {
      "login": "jlopp",
      "id": 288011,
      "node_id": "MDQ6VXNlcjI4ODAxMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/288011?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jlopp",
      "html_url": "https://github.com/jlopp",
      "followers_url": "https://api.github.com/users/jlopp/followers",
      "following_url": "https://api.github.com/users/jlopp/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/jlopp/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/jlopp/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/jlopp/subscriptions",
      "organizations_url": "https://api.github.com/users/jlopp/orgs",
      "repos_url": "https://api.github.com/users/jlopp/repos",
      "events_url": "https://api.github.com/users/jlopp/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/jlopp/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 64585,
        "node_id": "MDU6TGFiZWw2NDU4NQ==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug",
        "name": "Bug",
        "color": "FBBAAB",
        "default": false
      },
      {
        "id": 98298007,
        "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
        "name": "P2P",
        "color": "006b75",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "locked": true,
    "comments": 9,
    "closed_at": "2022-06-02T09:44:06Z",
    "created_at": "2022-05-01T13:30:27Z",
    "updated_at": "2023-06-02T10:04:42Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 6529528708,
      "node_id": "LE_lADOABII585I2Kj7zwAAAAGFMLOE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6529528708",
      "actor": {
        "login": "jlopp",
        "id": 288011,
        "node_id": "MDQ6VXNlcjI4ODAxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/288011?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jlopp",
        "html_url": "https://github.com/jlopp",
        "followers_url": "https://api.github.com/users/jlopp/followers",
        "following_url": "https://api.github.com/users/jlopp/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jlopp/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jlopp/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jlopp/subscriptions",
        "organizations_url": "https://api.github.com/users/jlopp/orgs",
        "repos_url": "https://api.github.com/users/jlopp/repos",
        "events_url": "https://api.github.com/users/jlopp/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jlopp/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-01T13:30:27Z",
      "label": {
        "name": "Bug",
        "color": "FBBAAB"
      }
    },
    {
      "event": "commented",
      "id": 1114244604,
      "node_id": "IC_kwDOABII585CagX8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1114244604",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-01T13:55:40Z",
      "updated_at": "2022-05-01T13:55:40Z",
      "author_association": "MEMBER",
      "body": "Looking at the code, it should be possible to restart the node that thinks it is in IBD and assign inbound connections the `download` flag:\r\n\r\n```\r\nsrc/net_processing.cpp-        if (m_chainman.ActiveChainstate().IsInitialBlockDownload() && !pfrom.HasPermission(NetPermissionFlags::Download)) {\r\nsrc/net_processing.cpp:            LogPrint(BCLog::NET, \"Ignoring getheaders from peer=%d because node is in initial block download\\n\", pfrom.GetId());\r\nsrc/net_processing.cpp-            return;\r\nsrc/net_processing.cpp-        }\r\n```\r\n\r\n",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/25048#issuecomment-1114244604",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25048"
    },
    {
      "event": "labeled",
      "id": 6529559231,
      "node_id": "LE_lADOABII585I2Kj7zwAAAAGFMSq_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6529559231",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-01T13:56:01Z",
      "label": {
        "name": "P2P",
        "color": "006b75"
      }
    },
    {
      "event": "commented",
      "id": 1114331545,
      "node_id": "IC_kwDOABII585Ca1mZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1114331545",
      "actor": {
        "login": "jlopp",
        "id": 288011,
        "node_id": "MDQ6VXNlcjI4ODAxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/288011?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jlopp",
        "html_url": "https://github.com/jlopp",
        "followers_url": "https://api.github.com/users/jlopp/followers",
        "following_url": "https://api.github.com/users/jlopp/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jlopp/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jlopp/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jlopp/subscriptions",
        "organizations_url": "https://api.github.com/users/jlopp/orgs",
        "repos_url": "https://api.github.com/users/jlopp/repos",
        "events_url": "https://api.github.com/users/jlopp/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jlopp/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-01T20:44:59Z",
      "updated_at": "2022-05-01T20:44:59Z",
      "author_association": "CONTRIBUTOR",
      "body": "I guess there are 2 questions / issues posed by my report:\r\n\r\n1. How would a node that (is not supposed to) ever connect to nodes on the public network get into a state where it considers itself in IBD?\r\n2. If a node thinks it is in IBD but has \"connect=0\" then shouldn't the node consider itself NOT in IBD and thus serve blocks if a connected node requests it? This one is a bit trickier.",
      "user": {
        "login": "jlopp",
        "id": 288011,
        "node_id": "MDQ6VXNlcjI4ODAxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/288011?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jlopp",
        "html_url": "https://github.com/jlopp",
        "followers_url": "https://api.github.com/users/jlopp/followers",
        "following_url": "https://api.github.com/users/jlopp/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jlopp/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jlopp/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jlopp/subscriptions",
        "organizations_url": "https://api.github.com/users/jlopp/orgs",
        "repos_url": "https://api.github.com/users/jlopp/repos",
        "events_url": "https://api.github.com/users/jlopp/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jlopp/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/25048#issuecomment-1114331545",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25048"
    },
    {
      "event": "commented",
      "id": 1114366533,
      "node_id": "IC_kwDOABII585Ca-JF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1114366533",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-01T23:26:58Z",
      "updated_at": "2022-05-01T23:26:58Z",
      "author_association": "MEMBER",
      "body": "As for your first question, see [here](https://github.com/bitcoin/bitcoin/blob/e389c4d30881db4d115aeb700d0a22c2859ba9fe/src/validation.cpp#L1560-L1561): the node compares the timestamp of its best block with the system time and considers itself in IBD when the time difference is >24h (`DEFAULT_MAX_TIP_AGE`).  ",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/25048#issuecomment-1114366533",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25048"
    },
    {
      "event": "commented",
      "id": 1114511862,
      "node_id": "IC_kwDOABII585Cbhn2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1114511862",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-02T05:31:39Z",
      "updated_at": "2022-05-02T05:31:39Z",
      "author_association": "MEMBER",
      "body": "> DEFAULT_MAX_TIP_AGE\r\n\r\nRight. So yet another workaround would be to pass the `-maxtipage` option",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/25048#issuecomment-1114511862",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25048"
    },
    {
      "event": "commented",
      "id": 1115503296,
      "node_id": "IC_kwDOABII585CfTrA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1115503296",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-03T00:40:06Z",
      "updated_at": "2022-05-03T00:40:06Z",
      "author_association": "MEMBER",
      "body": "> If a node thinks it is in IBD but has \"connect=0\" then shouldn't the node consider itself NOT in IBD and thus serve blocks if a connected node requests it?\r\n\r\nIBD + \"connect=0\" = \"I don't know what the most-work chain is, and also know that I have no way of catching up.\" Doesn't seem like it should be serving blocks?",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/25048#issuecomment-1115503296",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25048"
    },
    {
      "event": "commented",
      "id": 1118476407,
      "node_id": "IC_kwDOABII585Cqph3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1118476407",
      "actor": {
        "login": "jlopp",
        "id": 288011,
        "node_id": "MDQ6VXNlcjI4ODAxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/288011?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jlopp",
        "html_url": "https://github.com/jlopp",
        "followers_url": "https://api.github.com/users/jlopp/followers",
        "following_url": "https://api.github.com/users/jlopp/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jlopp/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jlopp/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jlopp/subscriptions",
        "organizations_url": "https://api.github.com/users/jlopp/orgs",
        "repos_url": "https://api.github.com/users/jlopp/repos",
        "events_url": "https://api.github.com/users/jlopp/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jlopp/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-05T12:13:03Z",
      "updated_at": "2022-05-05T12:13:03Z",
      "author_association": "CONTRIBUTOR",
      "body": "> As for your first question, see [here](https://github.com/bitcoin/bitcoin/blob/e389c4d30881db4d115aeb700d0a22c2859ba9fe/src/validation.cpp#L1560-L1561): the node compares the timestamp of its best block with the system time and considers itself in IBD when the time difference is >24h (`DEFAULT_MAX_TIP_AGE`).\r\n\r\nInteresting, but now this is even more confusing. Because I've been running these tests on my local network for the past ~9 months and never ran into this issue until last week. My computers all have up to date system times.\r\n\r\nThe maxtipage option sounds like a sufficient workaround; I'll try that.",
      "user": {
        "login": "jlopp",
        "id": 288011,
        "node_id": "MDQ6VXNlcjI4ODAxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/288011?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jlopp",
        "html_url": "https://github.com/jlopp",
        "followers_url": "https://api.github.com/users/jlopp/followers",
        "following_url": "https://api.github.com/users/jlopp/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jlopp/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jlopp/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jlopp/subscriptions",
        "organizations_url": "https://api.github.com/users/jlopp/orgs",
        "repos_url": "https://api.github.com/users/jlopp/repos",
        "events_url": "https://api.github.com/users/jlopp/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jlopp/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/25048#issuecomment-1118476407",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25048"
    },
    {
      "event": "commented",
      "id": 1141847648,
      "node_id": "IC_kwDOABII585EDzZg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1141847648",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-31T08:42:06Z",
      "updated_at": "2022-05-31T08:42:06Z",
      "author_association": "MEMBER",
      "body": "Looks like the ibd check may be relaxed to a chainwork check in #24178",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/25048#issuecomment-1141847648",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25048"
    },
    {
      "event": "commented",
      "id": 1141957300,
      "node_id": "IC_kwDOABII585EEOK0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1141957300",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-31T10:29:11Z",
      "updated_at": "2022-05-31T10:29:11Z",
      "author_association": "MEMBER",
      "body": "After 24178 the `-maxtipage` workaround mentioned above no longer works. Though, a `-minimumchainwork` workaround should be possible to use as an alternative, if needed at all.",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/25048#issuecomment-1141957300",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25048"
    },
    {
      "event": "commented",
      "id": 1141959232,
      "node_id": "IC_kwDOABII585EEOpA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1141959232",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-31T10:31:06Z",
      "updated_at": "2022-05-31T10:31:06Z",
      "author_association": "MEMBER",
      "body": "Anything left to be done here?",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/25048#issuecomment-1141959232",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25048"
    },
    {
      "event": "closed",
      "id": 6726971104,
      "node_id": "CE_lADOABII585I2Kj7zwAAAAGQ9W7g",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6726971104",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-02T09:44:06Z"
    },
    {
      "event": "locked",
      "id": 9412536239,
      "node_id": "LOE_lADOABII585I2Kj7zwAAAAIxB-ev",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9412536239",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-02T10:04:42Z"
    }
  ]
}