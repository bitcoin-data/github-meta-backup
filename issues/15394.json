{
  "type": "issue",
  "issue": {
    "id": 409492653,
    "node_id": "MDU6SXNzdWU0MDk0OTI2NTM=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15394",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15394/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15394/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15394/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/15394",
    "number": 15394,
    "state": "closed",
    "state_reason": "completed",
    "title": "Batch transaction with other people. Multi-key batching.",
    "body": "Would be nice if we could send translations for cheaper in a batch transaction with other people. Works well with one set of keys. Could be very nice to be able to do that with other people who co-sign a batch transaction in a contract to send a batch transaction together.\r\n\r\nLet's say 1000 people agree to send a delayed batch transaction next Sunday. We all share the cost of the final fee, which would be lower, if we send together in an aggregate transaction. Like a taxi, which is cheaper, when more people share. Easy said, hard with math :-)\r\n\r\n**A person co-signs our transaction** with their keys. We co-sign their transaction in response with our keys. Which is like an agreement to send the transactions together in a group. A batch transaction with shared fees. \r\n\r\n**One possible use-case** is when the origin is many unrelated wallets, and the recipient is one address for a shop or service, etc.. The users **OR the recipient** should be able to combine inputs into a batch transaction, if the recipient is the same address. Should be possible to collaborate with other senders at least in this case.\r\n\r\nOr the recipient combines incoming transactions into one batch + reduces the fees for all senders in advance (backwards probably harder), if the incoming transactions are time-locked on the next Sunday or so, which gives no room for changes on the sender side, but still helps the recipient to aggregate the incoming transactions into one batch.\r\n\r\nLet's say. We do not form any multi-sig. We just confirm that we want to participate together, by **co-signing their public transaction** broadcasts. AND they co-sign our broadcast-ed transactions in agreement to form a batch together. **No multi-sig** wallet is shared together. Just an intent to make a batch transaction, which could be also time-locked to the next Sunday, to give other people time to participate in the group transaction.\r\n\r\nWould be very nice, if we could batch transactions with other people, if we want to make a group transaction for cheaper, without having a multi-sig wallet together.\r\n\r\nOR as an **anti-dust transaction reduction into one batch**, if the origin was sending dust to many from the same address, and the recipients decide to make a batch transaction together by co-signing transactions to donate to UNICEF or so, which would have the same receipt, but many senders that have dust below current minimal fee.\r\n\r\nThere is a nice wiki page for single-key transaction batching:\r\nhttps://en.bitcoin.it/wiki/Techniques_to_reduce_transaction_fees#Payment_batching\r\n\r\nPractical multi-party / multi-key batching is not known to me at this point, which is why I am suggesting it. Could not find related request in here, so I make one to start the  conversation for other people who find this interesting.\r\n\r\nI understand that security issues are connected to that. Anyone is welcome to comment a possible exploit for a **co-signed batch transaction without shared keys.**\r\n\r\nSomeone talked on signature aggregation transactions, which is in similar direction:\r\nhttps://diyhpl.us/wiki/transcripts/bitcoin-core-dev-tech/2017-09-06-signature-aggregation/\r\n\r\nThe official proposal with Schnorr is also talking about that:\r\nhttps://bitcoincore.org/en/2017/03/23/schnorr-signature-aggregation/\r\n\r\nwhere the discussion proposes OP_CHECKSIG and OP_CHECKMULTISIG.\r\n\r\nI propose a **mutual co-sign of separate transactions with a time-lock** to make it fixed without an option to reverse with replace original intent with replace_by_fee.\r\n\r\nCould Bitcoin handle mutually co-signed transactions, if the senders share no secret keys together ? Would that break the security model on level one ?\r\n\r\nGood Day !",
    "user": {
      "login": "Dorson",
      "id": 4200435,
      "node_id": "MDQ6VXNlcjQyMDA0MzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4200435?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Dorson",
      "html_url": "https://github.com/Dorson",
      "followers_url": "https://api.github.com/users/Dorson/followers",
      "following_url": "https://api.github.com/users/Dorson/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/Dorson/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/Dorson/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/Dorson/subscriptions",
      "organizations_url": "https://api.github.com/users/Dorson/orgs",
      "repos_url": "https://api.github.com/users/Dorson/repos",
      "events_url": "https://api.github.com/users/Dorson/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/Dorson/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "assignees": [],
    "author_association": "NONE",
    "locked": true,
    "active_lock_reason": "resolved",
    "comments": 2,
    "closed_at": "2019-02-12T21:00:44Z",
    "created_at": "2019-02-12T20:46:31Z",
    "updated_at": "2021-12-16T14:05:55Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 462932734,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MjkzMjczNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/462932734",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-02-12T21:00:41Z",
      "updated_at": "2019-02-12T21:00:41Z",
      "author_association": "MEMBER",
      "body": "You can already do this, it's called CoinJoin. There are various pieces of software that implement it, though in Bitcoin Core it's relatively hard to do (needs several RPCs).\n\nThe proposals you link to are just about making this more efficient; not changing any functionality.\n\nIn general, these sort of open-ended questions belong on sites like https://bitcoin.stackexchange.com, not the issue tracker of one implementation.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/15394#issuecomment-462932734",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15394"
    },
    {
      "event": "closed",
      "id": 2134938085,
      "node_id": "MDExOkNsb3NlZEV2ZW50MjEzNDkzODA4NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2134938085",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-02-12T21:00:44Z"
    },
    {
      "event": "commented",
      "id": 462933084,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MjkzMzA4NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/462933084",
      "actor": {
        "login": "Dorson",
        "id": 4200435,
        "node_id": "MDQ6VXNlcjQyMDA0MzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4200435?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Dorson",
        "html_url": "https://github.com/Dorson",
        "followers_url": "https://api.github.com/users/Dorson/followers",
        "following_url": "https://api.github.com/users/Dorson/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Dorson/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Dorson/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Dorson/subscriptions",
        "organizations_url": "https://api.github.com/users/Dorson/orgs",
        "repos_url": "https://api.github.com/users/Dorson/repos",
        "events_url": "https://api.github.com/users/Dorson/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Dorson/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-02-12T21:01:44Z",
      "updated_at": "2019-02-12T21:01:44Z",
      "author_association": "NONE",
      "body": "Ok, got that. Thx !",
      "user": {
        "login": "Dorson",
        "id": 4200435,
        "node_id": "MDQ6VXNlcjQyMDA0MzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4200435?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Dorson",
        "html_url": "https://github.com/Dorson",
        "followers_url": "https://api.github.com/users/Dorson/followers",
        "following_url": "https://api.github.com/users/Dorson/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Dorson/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Dorson/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Dorson/subscriptions",
        "organizations_url": "https://api.github.com/users/Dorson/orgs",
        "repos_url": "https://api.github.com/users/Dorson/repos",
        "events_url": "https://api.github.com/users/Dorson/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Dorson/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/15394#issuecomment-462933084",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15394"
    },
    {
      "event": "locked",
      "id": 5778583759,
      "node_id": "LOE_lADOABII584YaFytzwAAAAFYbjDP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5778583759",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-16T14:05:55Z",
      "lock_reason": "resolved"
    }
  ]
}