{
  "type": "issue",
  "issue": {
    "id": 892843688,
    "node_id": "MDU6SXNzdWU4OTI4NDM2ODg=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21967",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21967/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21967/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21967/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/21967",
    "number": 21967,
    "state": "closed",
    "state_reason": "completed",
    "title": "cnetaddr_tostring_canonical_ipv6 test fails during `make check` on fresh clone of repo on macOS 10.14",
    "body": "**Expected behavior**\r\n`make check` completes successfully when run on a freshly cloned [Bitcoin Core repo](https://github.com/bitcoin/bitcoin).\r\n\r\n**Actual behavior**\r\n`make check` fails with the following errors --\r\n\r\n```\r\ntest/net_tests.cpp:446: error: in \"net_tests/cnetaddr_tostring_canonical_ipv6\": check net_addr.ToString() == expected_canonical_representation_output has failed [2001:db8::1:1:1:1:1 != 2001:db8:0:1:1:1:1:1]\r\ntest/net_tests.cpp:446: error: in \"net_tests/cnetaddr_tostring_canonical_ipv6\": check net_addr.ToString() == expected_canonical_representation_output has failed [2001:db8::1:1:1:1:1 != 2001:db8:0:1:1:1:1:1]\r\ntest/net_tests.cpp:446: error: in \"net_tests/cnetaddr_tostring_canonical_ipv6\": check net_addr.ToString() == expected_canonical_representation_output has failed [2001:db8::1:1:1:1:1 != 2001:db8:0:1:1:1:1:1]\r\ntest/net_tests.cpp:446: error: in \"net_tests/cnetaddr_tostring_canonical_ipv6\": check net_addr.ToString() == expected_canonical_representation_output has failed [2001:db8:aaaa:bbbb:cccc:dddd::1 != 2001:db8:aaaa:bbbb:cccc:dddd:0:1]\r\ntest/net_tests.cpp:446: error: in \"net_tests/cnetaddr_tostring_canonical_ipv6\": check net_addr.ToString() == expected_canonical_representation_output has failed [2001:db8:aaaa:bbbb:cccc:dddd::1 != 2001:db8:aaaa:bbbb:cccc:dddd:0:1]\r\n...\r\n...\r\n\r\nLeaving test module \"Bitcoin Core Test Suite\"; testing time: 75790us\r\n\r\n*** 5 failures are detected in the test module \"Bitcoin Core Test Suite\"\r\nmake[3]: *** [test/net_tests.cpp.test] Error 1\r\nmake[2]: *** [check-am] Error 2\r\nmake[1]: *** [check-recursive] Error 1\r\nmake: *** [check-recursive] Error 1\r\n```\r\n\r\n**To reproduce**\r\n1. Follow the build steps available here -- [build-osx.md](https://github.com/bitcoin/bitcoin/blob/master/doc/build-osx.md) -- on a macOS 10.14.  Install all required dependencies and the first set of optional dependencies.  Use `Wallet (only SQlite) and GUI Support` configuration.\r\n2. Proceed until the \"2. Compile\" step under the \"Building Bitcoin Core\" section, at which point running `make check` will result in the error above.\r\n\r\n**System information**\r\n\r\nNot running Core yet; this is a build time issue when running `make check` on the bitcoin repo cloned from https://github.com/bitcoin/bitcoin/ master branch at commit c8571486364d6e9ca8c86bd1c81e230ca64f8904.\r\n\r\n```\r\n$ ./src/bitcoind -version\r\nBitcoin Core version v21.99.0-1ef34ee25ed3\r\n```\r\n\r\nSystem Version:\tmacOS 10.14.6 (18G8022)\r\nProcessor Name:\tIntel Core i5\r\n  Processor Speed:\t1.6 GHz\r\n  Number of Processors:\t1\r\n  Total Number of Cores:\t2\r\n  L2 Cache (per Core):\t256 KB\r\n  L3 Cache:\t4 MB\r\n  Memory:\t8 GB\r\nFile System:\tAPFS\r\nPhysical Drive:\r\n  Device Name:\tAPPLE SSD AP0128N\r\n  Media Name:\tAppleAPFSMedia\r\n  Medium Type:\tSSD\r\n  Protocol:\tPCI-Express",
    "user": {
      "login": "shobitb",
      "id": 1744097,
      "node_id": "MDQ6VXNlcjE3NDQwOTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1744097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shobitb",
      "html_url": "https://github.com/shobitb",
      "followers_url": "https://api.github.com/users/shobitb/followers",
      "following_url": "https://api.github.com/users/shobitb/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/shobitb/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/shobitb/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/shobitb/subscriptions",
      "organizations_url": "https://api.github.com/users/shobitb/orgs",
      "repos_url": "https://api.github.com/users/shobitb/repos",
      "events_url": "https://api.github.com/users/shobitb/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/shobitb/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 64585,
        "node_id": "MDU6TGFiZWw2NDU4NQ==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug",
        "name": "Bug",
        "color": "FBBAAB",
        "default": false
      },
      {
        "id": 234879,
        "node_id": "MDU6TGFiZWwyMzQ4Nzk=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/macOS",
        "name": "macOS",
        "description": "",
        "color": "660000",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "NONE",
    "locked": true,
    "active_lock_reason": "resolved",
    "comments": 1,
    "closed_at": "2021-05-17T11:08:28Z",
    "created_at": "2021-05-17T03:02:56Z",
    "updated_at": "2022-08-18T19:57:26Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 4751852563,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQ3NTE4NTI1NjM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4751852563",
      "actor": {
        "login": "shobitb",
        "id": 1744097,
        "node_id": "MDQ6VXNlcjE3NDQwOTc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1744097?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/shobitb",
        "html_url": "https://github.com/shobitb",
        "followers_url": "https://api.github.com/users/shobitb/followers",
        "following_url": "https://api.github.com/users/shobitb/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/shobitb/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/shobitb/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/shobitb/subscriptions",
        "organizations_url": "https://api.github.com/users/shobitb/orgs",
        "repos_url": "https://api.github.com/users/shobitb/repos",
        "events_url": "https://api.github.com/users/shobitb/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/shobitb/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-17T03:02:56Z",
      "label": {
        "name": "Bug",
        "color": "FBBAAB"
      }
    },
    {
      "event": "commented",
      "id": 841948207,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg0MTk0ODIwNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/841948207",
      "actor": {
        "login": "shobitb",
        "id": 1744097,
        "node_id": "MDQ6VXNlcjE3NDQwOTc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1744097?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/shobitb",
        "html_url": "https://github.com/shobitb",
        "followers_url": "https://api.github.com/users/shobitb/followers",
        "following_url": "https://api.github.com/users/shobitb/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/shobitb/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/shobitb/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/shobitb/subscriptions",
        "organizations_url": "https://api.github.com/users/shobitb/orgs",
        "repos_url": "https://api.github.com/users/shobitb/repos",
        "events_url": "https://api.github.com/users/shobitb/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/shobitb/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-17T03:05:08Z",
      "updated_at": "2021-05-17T03:05:08Z",
      "author_association": "NONE",
      "body": "#21756 contains a fix for this.",
      "user": {
        "login": "shobitb",
        "id": 1744097,
        "node_id": "MDQ6VXNlcjE3NDQwOTc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1744097?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/shobitb",
        "html_url": "https://github.com/shobitb",
        "followers_url": "https://api.github.com/users/shobitb/followers",
        "following_url": "https://api.github.com/users/shobitb/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/shobitb/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/shobitb/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/shobitb/subscriptions",
        "organizations_url": "https://api.github.com/users/shobitb/orgs",
        "repos_url": "https://api.github.com/users/shobitb/repos",
        "events_url": "https://api.github.com/users/shobitb/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/shobitb/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/21967#issuecomment-841948207",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21967"
    },
    {
      "event": "labeled",
      "id": 4752009129,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQ3NTIwMDkxMjk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4752009129",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-17T04:22:23Z",
      "label": {
        "name": "macOS",
        "color": "660000"
      }
    },
    {
      "event": "closed",
      "id": 4753915784,
      "node_id": "MDExOkNsb3NlZEV2ZW50NDc1MzkxNTc4NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4753915784",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "7b87fca930ff7129f267906e71be217851146ade",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7b87fca930ff7129f267906e71be217851146ade",
      "created_at": "2021-05-17T11:08:28Z"
    },
    {
      "event": "locked",
      "id": 7217196709,
      "node_id": "LOE_lADOABII5841N7aozwAAAAGuLa6l",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7217196709",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-18T19:57:26Z",
      "lock_reason": "resolved"
    }
  ]
}