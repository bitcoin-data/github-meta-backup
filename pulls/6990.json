{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6990",
    "id": 50409251,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NTA0MDkyNTE=",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/6990",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/6990.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/6990.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6990",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6990/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6990/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6990/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/a264c32e3321ae909ca59cb8ce8bf5d812dbc4e1",
    "number": 6990,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "http: speed up shutdown",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Pardon a bit of iteration. This continues/fixes #6719.\n\n`event_base_loopexit` was not doing what I expected it to. What I expected was that it sets a timeout, given that no other pending events it would exit in N seconds. However, what it does was delay the event loop exit with N seconds, even if nothing is pending.\n\nSolve it in a different way: give the event loop thread time to exit out of itself, and if it doesn't, send loopbreak (and then join it).\n\nThis speeds up the RPC tests a lot, each exit incurred a 10 second overhead, with this change there should be no shutdown overhead in the common case and up to two seconds if the event loop is blocking.\n\nAs a bonus this breaks dependency on the global boost::thread_group, as the HTTP server minds its own offspring.\n\nTime for rpctests with this patch:\n\n```\nreal    7m50.215s\nuser    0m30.152s\nsys     0m11.752s\n```\n\nWithout:\n\n```\nreal    13m12.069s\nuser    0m30.412s\nsys     0m11.168s\n```\n",
    "labels": [
      {
        "id": 98279177,
        "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
        "name": "RPC/REST/ZMQ",
        "color": "0052cc",
        "default": false
      }
    ],
    "active_lock_reason": "resolved",
    "created_at": "2015-11-11T17:12:13Z",
    "updated_at": "2021-09-08T10:57:36Z",
    "closed_at": "2015-11-13T19:32:27Z",
    "mergeable_state": "unknown",
    "merged_at": "2015-11-13T19:32:27Z",
    "merge_commit_sha": "af36233c4e0f4e7cb395e4992058f8bb2493702a",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "bitcoin:2015_11_threadexit",
      "ref": "2015_11_threadexit",
      "sha": "a264c32e3321ae909ca59cb8ce8bf5d812dbc4e1",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34323,
        "stargazers_count": 69817,
        "watchers_count": 69817,
        "size": 233879,
        "default_branch": "master",
        "open_issues_count": 627,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-06T19:05:23Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-06-06T18:57:56Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "24c4841d16862c201bf62218280c2194a85a81ca",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34323,
        "stargazers_count": 69817,
        "watchers_count": 69817,
        "size": 233879,
        "default_branch": "master",
        "open_issues_count": 627,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-06T19:05:23Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-06-06T18:57:56Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6990"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 22,
    "deletions": 12,
    "changed_files": 3,
    "commits": 1,
    "review_comments": 6,
    "comments": 11
  },
  "events": [
    {
      "event": "labeled",
      "id": 461521906,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQ2MTUyMTkwNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/461521906",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-11-11T17:12:26Z",
      "label": {
        "name": "RPC",
        "color": "0052cc"
      }
    },
    {
      "event": "commented",
      "id": 155908505,
      "node_id": "MDEyOklzc3VlQ29tbWVudDE1NTkwODUwNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/155908505",
      "actor": {
        "login": "dcousens",
        "id": 413395,
        "node_id": "MDQ6VXNlcjQxMzM5NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/413395?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dcousens",
        "html_url": "https://github.com/dcousens",
        "followers_url": "https://api.github.com/users/dcousens/followers",
        "following_url": "https://api.github.com/users/dcousens/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dcousens/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dcousens/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dcousens/subscriptions",
        "organizations_url": "https://api.github.com/users/dcousens/orgs",
        "repos_url": "https://api.github.com/users/dcousens/repos",
        "events_url": "https://api.github.com/users/dcousens/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dcousens/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-11-11T21:01:40Z",
      "updated_at": "2015-11-13T00:57:33Z",
      "author_association": "CONTRIBUTOR",
      "body": "> event_base_loopbreak was not doing what I expected it to. What I expected was that it sets a timeout, given that no other pending events it would exit in N seconds. However, what it does was delay the event loop exit with N seconds, even if nothing is pending.\n\n~~Sounds like you wanted `event_base_loopexit`? Ref:~~\n\n> The next event_base_loop() iteration after the given timer expires will complete normally (handling all queued events) then exit without blocking for events again.\n\n~~In any case, `event_base_loopbreak` should still exit immediately, stopping any `loop`s after the next event:~~\n\n> event_base_loop() will abort the loop after the next event is completed; event_base_loopbreak() is typically invoked from this event's callback. This behavior is analogous to the \"break;\" statement.\n\nAre you sure this isn't symptomatic of something else?\n\nReference: http://www.wangafu.net/~nickm/libevent-2.0/doxygen/html/event_8h.html#a07a7599e478e4031fa8cf52e26d8aa1e\n\n**edit**: Right, never mind, you were using `event_base_loopexit`, hence the confusion.  You're OP (before it was edited) makes it sound like you switched from `event_base_loopbreak`.\n",
      "user": {
        "login": "dcousens",
        "id": 413395,
        "node_id": "MDQ6VXNlcjQxMzM5NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/413395?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dcousens",
        "html_url": "https://github.com/dcousens",
        "followers_url": "https://api.github.com/users/dcousens/followers",
        "following_url": "https://api.github.com/users/dcousens/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dcousens/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dcousens/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dcousens/subscriptions",
        "organizations_url": "https://api.github.com/users/dcousens/orgs",
        "repos_url": "https://api.github.com/users/dcousens/repos",
        "events_url": "https://api.github.com/users/dcousens/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dcousens/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6990#issuecomment-155908505",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6990"
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA5MzcwMzQ6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "commented",
      "id": 155910770,
      "node_id": "MDEyOklzc3VlQ29tbWVudDE1NTkxMDc3MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/155910770",
      "actor": {
        "login": "dcousens",
        "id": 413395,
        "node_id": "MDQ6VXNlcjQxMzM5NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/413395?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dcousens",
        "html_url": "https://github.com/dcousens",
        "followers_url": "https://api.github.com/users/dcousens/followers",
        "following_url": "https://api.github.com/users/dcousens/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dcousens/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dcousens/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dcousens/subscriptions",
        "organizations_url": "https://api.github.com/users/dcousens/orgs",
        "repos_url": "https://api.github.com/users/dcousens/repos",
        "events_url": "https://api.github.com/users/dcousens/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dcousens/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-11-11T21:06:46Z",
      "updated_at": "2015-11-11T21:06:46Z",
      "author_association": "CONTRIBUTOR",
      "body": "utACK\n",
      "user": {
        "login": "dcousens",
        "id": 413395,
        "node_id": "MDQ6VXNlcjQxMzM5NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/413395?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dcousens",
        "html_url": "https://github.com/dcousens",
        "followers_url": "https://api.github.com/users/dcousens/followers",
        "following_url": "https://api.github.com/users/dcousens/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dcousens/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dcousens/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dcousens/subscriptions",
        "organizations_url": "https://api.github.com/users/dcousens/orgs",
        "repos_url": "https://api.github.com/users/dcousens/repos",
        "events_url": "https://api.github.com/users/dcousens/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dcousens/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6990#issuecomment-155910770",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6990"
    },
    {
      "event": "mentioned",
      "id": 461781933,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDYxNzgxOTMz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/461781933",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-11-11T21:27:45Z"
    },
    {
      "event": "subscribed",
      "id": 461781934,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ2MTc4MTkzNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/461781934",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-11-11T21:27:45Z"
    },
    {
      "event": "mentioned",
      "id": 462049329,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDYyMDQ5MzI5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/462049329",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-11-12T04:14:29Z"
    },
    {
      "event": "subscribed",
      "id": 462049330,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ2MjA0OTMzMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/462049330",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-11-12T04:14:29Z"
    },
    {
      "event": "mentioned",
      "id": 462116992,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDYyMTE2OTky",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/462116992",
      "actor": {
        "login": "cfields",
        "id": 4141605,
        "node_id": "MDQ6VXNlcjQxNDE2MDU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4141605?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cfields",
        "html_url": "https://github.com/cfields",
        "followers_url": "https://api.github.com/users/cfields/followers",
        "following_url": "https://api.github.com/users/cfields/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cfields/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cfields/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cfields/subscriptions",
        "organizations_url": "https://api.github.com/users/cfields/orgs",
        "repos_url": "https://api.github.com/users/cfields/repos",
        "events_url": "https://api.github.com/users/cfields/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cfields/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-11-12T06:40:16Z"
    },
    {
      "event": "subscribed",
      "id": 462116993,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ2MjExNjk5Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/462116993",
      "actor": {
        "login": "cfields",
        "id": 4141605,
        "node_id": "MDQ6VXNlcjQxNDE2MDU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4141605?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cfields",
        "html_url": "https://github.com/cfields",
        "followers_url": "https://api.github.com/users/cfields/followers",
        "following_url": "https://api.github.com/users/cfields/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cfields/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cfields/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cfields/subscriptions",
        "organizations_url": "https://api.github.com/users/cfields/orgs",
        "repos_url": "https://api.github.com/users/cfields/repos",
        "events_url": "https://api.github.com/users/cfields/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cfields/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-11-12T06:40:16Z"
    },
    {
      "event": "mentioned",
      "id": 462118753,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDYyMTE4NzUz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/462118753",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-11-12T06:42:49Z"
    },
    {
      "event": "subscribed",
      "id": 462118754,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ2MjExODc1NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/462118754",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-11-12T06:42:49Z"
    },
    {
      "event": "commented",
      "id": 156026958,
      "node_id": "MDEyOklzc3VlQ29tbWVudDE1NjAyNjk1OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/156026958",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-11-12T07:46:07Z",
      "updated_at": "2015-11-12T07:46:07Z",
      "author_association": "CONTRIBUTOR",
      "body": "utACK.\n",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6990#issuecomment-156026958",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6990"
    },
    {
      "event": "commented",
      "id": 156035713,
      "node_id": "MDEyOklzc3VlQ29tbWVudDE1NjAzNTcxMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/156035713",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-11-12T08:48:18Z",
      "updated_at": "2015-11-12T08:48:44Z",
      "author_association": "MEMBER",
      "body": "Some more information: it _appears_ that with `libevent` master, this issue doesn't exist.\n`event_base_loopexit` does actually do what I expect it to in the OP. As that is the version I'm normally using, that is why I didn't notice before.\n\nEdit: so I think we should still do this for backward compat, but at least I'm not crazy :)\n",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6990#issuecomment-156035713",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6990"
    },
    {
      "event": "commented",
      "id": 156285416,
      "node_id": "MDEyOklzc3VlQ29tbWVudDE1NjI4NTQxNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/156285416",
      "actor": {
        "login": "dcousens",
        "id": 413395,
        "node_id": "MDQ6VXNlcjQxMzM5NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/413395?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dcousens",
        "html_url": "https://github.com/dcousens",
        "followers_url": "https://api.github.com/users/dcousens/followers",
        "following_url": "https://api.github.com/users/dcousens/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dcousens/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dcousens/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dcousens/subscriptions",
        "organizations_url": "https://api.github.com/users/dcousens/orgs",
        "repos_url": "https://api.github.com/users/dcousens/repos",
        "events_url": "https://api.github.com/users/dcousens/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dcousens/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-11-13T01:00:41Z",
      "updated_at": "2015-11-13T01:01:25Z",
      "author_association": "CONTRIBUTOR",
      "body": "@laanwj maybe just inline a comment to mention this _might_ be fixed in latest version of libevent?  Could be useful for some future refactoring,  save someone trying to establish whether there was a reason we moved away from it that they aren't aware of.\n",
      "user": {
        "login": "dcousens",
        "id": 413395,
        "node_id": "MDQ6VXNlcjQxMzM5NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/413395?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dcousens",
        "html_url": "https://github.com/dcousens",
        "followers_url": "https://api.github.com/users/dcousens/followers",
        "following_url": "https://api.github.com/users/dcousens/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dcousens/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dcousens/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dcousens/subscriptions",
        "organizations_url": "https://api.github.com/users/dcousens/orgs",
        "repos_url": "https://api.github.com/users/dcousens/repos",
        "events_url": "https://api.github.com/users/dcousens/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dcousens/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6990#issuecomment-156285416",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6990"
    },
    {
      "event": "mentioned",
      "id": 463121443,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDYzMTIxNDQz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/463121443",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-11-13T01:00:41Z"
    },
    {
      "event": "subscribed",
      "id": 463121444,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ2MzEyMTQ0NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/463121444",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-11-13T01:00:41Z"
    },
    {
      "event": "commented",
      "id": 156371163,
      "node_id": "MDEyOklzc3VlQ29tbWVudDE1NjM3MTE2Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/156371163",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-11-13T09:14:04Z",
      "updated_at": "2015-11-13T09:26:41Z",
      "author_association": "MEMBER",
      "body": "Will do\n\nEdit: OK, added comment and updated commit message.\n",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6990#issuecomment-156371163",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6990"
    },
    {
      "event": "commented",
      "id": 156371536,
      "node_id": "MDEyOklzc3VlQ29tbWVudDE1NjM3MTUzNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/156371536",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-11-13T09:14:58Z",
      "updated_at": "2015-11-13T09:14:58Z",
      "author_association": "MEMBER",
      "body": "Huh! I pushed this branch to bitcoin/bitcoin instead of my own repository. Oh well, no harm done, I'll just remove it again when it's merged.\n",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6990#issuecomment-156371536",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6990"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 463398791,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDYzMzk4Nzkx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/463398791",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-11-13T09:26:04Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 463402847,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDYzNDAyODQ3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/463402847",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-11-13T09:31:02Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzphMjY0YzMyZTMzMjFhZTkwOWNhNTljYjhjZThiZjVkODEyZGJjNGUx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a264c32e3321ae909ca59cb8ce8bf5d812dbc4e1",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a264c32e3321ae909ca59cb8ce8bf5d812dbc4e1",
      "tree": {
        "sha": "2f934da3736223e127356a496b0bfb6fa4563fca",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2f934da3736223e127356a496b0bfb6fa4563fca"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 2f934da3736223e127356a496b0bfb6fa4563fca\nparent 3ac70609345a249a74fad61b70f93e8a19245011\nauthor Wladimir J. van der Laan <laanwj@gmail.com> 1447259650 +0100\ncommitter Wladimir J. van der Laan <laanwj@gmail.com> 1447409448 +0100\n\nhttp: speed up shutdown\n\nThis continues/fixes #6719.\n\n`event_base_loopbreak` was not doing what I expected it to, at least in\nlibevent 2.0.21.\nWhat I expected was that it sets a timeout, given that no other pending\nevents it would exit in N seconds. However, what it does was delay the\nevent loop exit with 10 seconds, even if nothing is pending.\n\nSolve it in a different way: give the event loop thread time to exit\nout of itself, and if it doesn't, send loopbreak.\n\nThis speeds up the RPC tests a lot, each exit incurred a 10 second\noverhead, with this change there should be no shutdown overhead in the\ncommon case and up to two seconds if the event loop is blocking.\n\nAs a bonus this breaks dependency on boost::thread_group, as the HTTP\nserver minds its own offspring.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQEcBAABCgAGBQJWRbcqAAoJEHSBCwEjRsmmVLIH/0HmbGSiRmBbUxrfEOiFI4zc\n2AEaEo1E1B2Xf2EDTZDpqHwvDB7WvRn2UqpvJvXDFlZgPHPQibYWyi8L+YsPPFKo\nbi3D1CWOuafmbAIjUD0JB1hrAFxH+cL8HtxUCeKrqVEKibVYzCeppaveBsX+FKnF\ntz0DqBAmDP9d1j2viT7PGOkIZDbJeLMog+tvzse+oLxwzVE4q3ZSpCwAa9/yeNbg\ns/n4pKMfY+9oRZx7dycB4D5IiaMU39FC+q/yShaI+E4ieGSFWt2yJ0E/auHzK5/B\nHdZTvMOWniuq4CvUw0zLPFxwRIEb/DZxOg1h9hfhWlFqfOlXhZCSY2bxwmnaWnU=\n=BKrI\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3ac70609345a249a74fad61b70f93e8a19245011",
          "sha": "3ac70609345a249a74fad61b70f93e8a19245011",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/3ac70609345a249a74fad61b70f93e8a19245011"
        }
      ],
      "message": "http: speed up shutdown\n\nThis continues/fixes #6719.\n\n`event_base_loopbreak` was not doing what I expected it to, at least in\nlibevent 2.0.21.\nWhat I expected was that it sets a timeout, given that no other pending\nevents it would exit in N seconds. However, what it does was delay the\nevent loop exit with 10 seconds, even if nothing is pending.\n\nSolve it in a different way: give the event loop thread time to exit\nout of itself, and if it doesn't, send loopbreak.\n\nThis speeds up the RPC tests a lot, each exit incurred a 10 second\noverhead, with this change there should be no shutdown overhead in the\ncommon case and up to two seconds if the event loop is blocking.\n\nAs a bonus this breaks dependency on boost::thread_group, as the HTTP\nserver minds its own offspring.",
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2015-11-13T10:10:48Z"
      },
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2015-11-11T16:34:10Z"
      },
      "sha": "a264c32e3321ae909ca59cb8ce8bf5d812dbc4e1"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 463435006,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDYzNDM1MDA2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/463435006",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-11-13T10:10:56Z"
    },
    {
      "event": "commented",
      "id": 156402295,
      "node_id": "MDEyOklzc3VlQ29tbWVudDE1NjQwMjI5NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/156402295",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-11-13T11:24:38Z",
      "updated_at": "2015-11-13T11:25:58Z",
      "author_association": "MEMBER",
      "body": "~~@theuni can you take a look here as well?~~\nEdit: nm, you already did, but didn't ack\n",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6990#issuecomment-156402295",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6990"
    },
    {
      "event": "mentioned",
      "id": 463495405,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDYzNDk1NDA1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/463495405",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-11-13T11:24:38Z"
    },
    {
      "event": "subscribed",
      "id": 463495406,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ2MzQ5NTQwNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/463495406",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-11-13T11:24:38Z"
    },
    {
      "event": "commented",
      "id": 156535903,
      "node_id": "MDEyOklzc3VlQ29tbWVudDE1NjUzNTkwMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/156535903",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-11-13T19:32:03Z",
      "updated_at": "2015-11-13T19:32:03Z",
      "author_association": "CONTRIBUTOR",
      "body": "ACK.\n",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6990#issuecomment-156535903",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6990"
    },
    {
      "event": "merged",
      "id": 463962534,
      "node_id": "MDExOk1lcmdlZEV2ZW50NDYzOTYyNTM0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/463962534",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "a264c32e3321ae909ca59cb8ce8bf5d812dbc4e1",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a264c32e3321ae909ca59cb8ce8bf5d812dbc4e1",
      "created_at": "2015-11-13T19:32:27Z"
    },
    {
      "event": "closed",
      "id": 463962535,
      "node_id": "MDExOkNsb3NlZEV2ZW50NDYzOTYyNTM1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/463962535",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-11-13T19:32:27Z"
    },
    {
      "event": "referenced",
      "id": 463962563,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ2Mzk2MjU2Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/463962563",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "dbd2c135ddb96bdc3a4e870c2371cb1fac227135",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/dbd2c135ddb96bdc3a4e870c2371cb1fac227135",
      "created_at": "2015-11-13T19:32:27Z"
    },
    {
      "event": "commented",
      "id": 156671746,
      "node_id": "MDEyOklzc3VlQ29tbWVudDE1NjY3MTc0Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/156671746",
      "actor": {
        "login": "dcousens",
        "id": 413395,
        "node_id": "MDQ6VXNlcjQxMzM5NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/413395?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dcousens",
        "html_url": "https://github.com/dcousens",
        "followers_url": "https://api.github.com/users/dcousens/followers",
        "following_url": "https://api.github.com/users/dcousens/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dcousens/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dcousens/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dcousens/subscriptions",
        "organizations_url": "https://api.github.com/users/dcousens/orgs",
        "repos_url": "https://api.github.com/users/dcousens/repos",
        "events_url": "https://api.github.com/users/dcousens/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dcousens/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-11-14T08:51:27Z",
      "updated_at": "2015-11-14T08:51:27Z",
      "author_association": "CONTRIBUTOR",
      "body": "Awesome, thanks @laanwj :)\n",
      "user": {
        "login": "dcousens",
        "id": 413395,
        "node_id": "MDQ6VXNlcjQxMzM5NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/413395?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dcousens",
        "html_url": "https://github.com/dcousens",
        "followers_url": "https://api.github.com/users/dcousens/followers",
        "following_url": "https://api.github.com/users/dcousens/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dcousens/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dcousens/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dcousens/subscriptions",
        "organizations_url": "https://api.github.com/users/dcousens/orgs",
        "repos_url": "https://api.github.com/users/dcousens/repos",
        "events_url": "https://api.github.com/users/dcousens/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dcousens/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6990#issuecomment-156671746",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6990"
    },
    {
      "event": "mentioned",
      "id": 464432346,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDY0NDMyMzQ2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/464432346",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-11-14T08:51:27Z"
    },
    {
      "event": "subscribed",
      "id": 464432347,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ2NDQzMjM0Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/464432347",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-11-14T08:51:27Z"
    },
    {
      "event": "commented",
      "id": 156810422,
      "node_id": "MDEyOklzc3VlQ29tbWVudDE1NjgxMDQyMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/156810422",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-11-15T13:05:52Z",
      "updated_at": "2015-11-15T13:05:52Z",
      "author_association": "MEMBER",
      "body": "Post merge tested ACK!\n\n@laanwj this makes travis a lot faster. (runtime reduced for some rpc tests by 90%)\n\nBefore:\n\n```\n$ time for i in {1..10};do qa/pull-tester/rpc-tests.py disablewallet;done\nreal    1m53.003s\nuser    0m1.135s\nsys 0m0.437s\n\n$ time for i in {1..10};do qa/pull-tester/rpc-tests.py wallet;done\nreal    10m4.888s\nuser    0m21.829s\nsys 0m8.239s\n```\n\nAfter:\n\n```\ndisablewallet:\nreal    0m13.809s\nuser    0m1.166s\nsys 0m0.510s\n\nwallet:\nreal    5m7.703s\nuser    0m22.128s\nsys 0m8.222s\n```\n",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6990#issuecomment-156810422",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6990"
    },
    {
      "event": "mentioned",
      "id": 464773655,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDY0NzczNjU1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/464773655",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-11-15T13:05:52Z"
    },
    {
      "event": "subscribed",
      "id": 464773656,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ2NDc3MzY1Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/464773656",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-11-15T13:05:52Z"
    },
    {
      "event": "head_ref_deleted",
      "id": 477800307,
      "node_id": "MDE5OkhlYWRSZWZEZWxldGVkRXZlbnQ0Nzc4MDAzMDc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/477800307",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-11-30T15:02:23Z"
    },
    {
      "event": "referenced",
      "id": 1306617568,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDEzMDY2MTc1Njg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1306617568",
      "actor": {
        "login": "zkbot",
        "id": 17032253,
        "node_id": "MDQ6VXNlcjE3MDMyMjUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/17032253?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/zkbot",
        "html_url": "https://github.com/zkbot",
        "followers_url": "https://api.github.com/users/zkbot/followers",
        "following_url": "https://api.github.com/users/zkbot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/zkbot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/zkbot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/zkbot/subscriptions",
        "organizations_url": "https://api.github.com/users/zkbot/orgs",
        "repos_url": "https://api.github.com/users/zkbot/repos",
        "events_url": "https://api.github.com/users/zkbot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/zkbot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "fb2f98e00b530b01e565979b53c2969e9cbf3e6e",
      "commit_url": "https://api.github.com/repos/zcash/zcash/commits/fb2f98e00b530b01e565979b53c2969e9cbf3e6e",
      "created_at": "2017-10-23T22:10:29Z"
    },
    {
      "event": "referenced",
      "id": 1513278824,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE1MTMyNzg4MjQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1513278824",
      "actor": {
        "login": "sickpig",
        "id": 1469203,
        "node_id": "MDQ6VXNlcjE0NjkyMDM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1469203?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sickpig",
        "html_url": "https://github.com/sickpig",
        "followers_url": "https://api.github.com/users/sickpig/followers",
        "following_url": "https://api.github.com/users/sickpig/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sickpig/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sickpig/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sickpig/subscriptions",
        "organizations_url": "https://api.github.com/users/sickpig/orgs",
        "repos_url": "https://api.github.com/users/sickpig/repos",
        "events_url": "https://api.github.com/users/sickpig/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sickpig/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "46b5b86be5da3d95ac69f70c34c4345e91f84e3e",
      "commit_url": "https://api.github.com/repos/sickpig/BitcoinUnlimited/commits/46b5b86be5da3d95ac69f70c34c4345e91f84e3e",
      "created_at": "2018-03-09T13:30:37Z"
    },
    {
      "event": "referenced",
      "id": 1513337345,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE1MTMzMzczNDU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1513337345",
      "actor": {
        "login": "sickpig",
        "id": 1469203,
        "node_id": "MDQ6VXNlcjE0NjkyMDM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1469203?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sickpig",
        "html_url": "https://github.com/sickpig",
        "followers_url": "https://api.github.com/users/sickpig/followers",
        "following_url": "https://api.github.com/users/sickpig/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sickpig/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sickpig/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sickpig/subscriptions",
        "organizations_url": "https://api.github.com/users/sickpig/orgs",
        "repos_url": "https://api.github.com/users/sickpig/repos",
        "events_url": "https://api.github.com/users/sickpig/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sickpig/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "dadc2880a10e59734d4c8b662ebd760f81c9820a",
      "commit_url": "https://api.github.com/repos/sickpig/BitcoinUnlimited/commits/dadc2880a10e59734d4c8b662ebd760f81c9820a",
      "created_at": "2018-03-09T14:04:27Z"
    },
    {
      "event": "referenced",
      "id": 1515994695,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE1MTU5OTQ2OTU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1515994695",
      "actor": {
        "login": "sickpig",
        "id": 1469203,
        "node_id": "MDQ6VXNlcjE0NjkyMDM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1469203?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sickpig",
        "html_url": "https://github.com/sickpig",
        "followers_url": "https://api.github.com/users/sickpig/followers",
        "following_url": "https://api.github.com/users/sickpig/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sickpig/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sickpig/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sickpig/subscriptions",
        "organizations_url": "https://api.github.com/users/sickpig/orgs",
        "repos_url": "https://api.github.com/users/sickpig/repos",
        "events_url": "https://api.github.com/users/sickpig/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sickpig/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "6d4a55878acee2b78b847fcb92537cd8c9b870b5",
      "commit_url": "https://api.github.com/repos/sickpig/BitcoinUnlimited/commits/6d4a55878acee2b78b847fcb92537cd8c9b870b5",
      "created_at": "2018-03-12T11:28:18Z"
    },
    {
      "event": "referenced",
      "id": 1516112013,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE1MTYxMTIwMTM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1516112013",
      "actor": {
        "login": "sickpig",
        "id": 1469203,
        "node_id": "MDQ6VXNlcjE0NjkyMDM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1469203?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sickpig",
        "html_url": "https://github.com/sickpig",
        "followers_url": "https://api.github.com/users/sickpig/followers",
        "following_url": "https://api.github.com/users/sickpig/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sickpig/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sickpig/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sickpig/subscriptions",
        "organizations_url": "https://api.github.com/users/sickpig/orgs",
        "repos_url": "https://api.github.com/users/sickpig/repos",
        "events_url": "https://api.github.com/users/sickpig/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sickpig/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "6db640a39343ec3d5c1283e48425430c44b9ef35",
      "commit_url": "https://api.github.com/repos/sickpig/BitcoinUnlimited/commits/6db640a39343ec3d5c1283e48425430c44b9ef35",
      "created_at": "2018-03-12T12:36:21Z"
    },
    {
      "event": "referenced",
      "id": 1516156151,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE1MTYxNTYxNTE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1516156151",
      "actor": {
        "login": "sickpig",
        "id": 1469203,
        "node_id": "MDQ6VXNlcjE0NjkyMDM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1469203?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sickpig",
        "html_url": "https://github.com/sickpig",
        "followers_url": "https://api.github.com/users/sickpig/followers",
        "following_url": "https://api.github.com/users/sickpig/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sickpig/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sickpig/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sickpig/subscriptions",
        "organizations_url": "https://api.github.com/users/sickpig/orgs",
        "repos_url": "https://api.github.com/users/sickpig/repos",
        "events_url": "https://api.github.com/users/sickpig/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sickpig/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "76cf243311f6316f410e934bdc5dea3d09d5b51b",
      "commit_url": "https://api.github.com/repos/sickpig/BitcoinUnlimited/commits/76cf243311f6316f410e934bdc5dea3d09d5b51b",
      "created_at": "2018-03-12T13:00:38Z"
    },
    {
      "event": "referenced",
      "id": 1516211618,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE1MTYyMTE2MTg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1516211618",
      "actor": {
        "login": "sickpig",
        "id": 1469203,
        "node_id": "MDQ6VXNlcjE0NjkyMDM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1469203?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sickpig",
        "html_url": "https://github.com/sickpig",
        "followers_url": "https://api.github.com/users/sickpig/followers",
        "following_url": "https://api.github.com/users/sickpig/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sickpig/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sickpig/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sickpig/subscriptions",
        "organizations_url": "https://api.github.com/users/sickpig/orgs",
        "repos_url": "https://api.github.com/users/sickpig/repos",
        "events_url": "https://api.github.com/users/sickpig/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sickpig/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "44280562525ebb440fe7f05788aa2a2fc5b2cc72",
      "commit_url": "https://api.github.com/repos/sickpig/BitcoinUnlimited/commits/44280562525ebb440fe7f05788aa2a2fc5b2cc72",
      "created_at": "2018-03-12T13:27:11Z"
    },
    {
      "event": "referenced",
      "id": 1864694438,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE4NjQ2OTQ0Mzg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1864694438",
      "actor": {
        "login": "marlengit",
        "id": 7789061,
        "node_id": "MDQ6VXNlcjc3ODkwNjE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7789061?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/marlengit",
        "html_url": "https://github.com/marlengit",
        "followers_url": "https://api.github.com/users/marlengit/followers",
        "following_url": "https://api.github.com/users/marlengit/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/marlengit/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/marlengit/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/marlengit/subscriptions",
        "organizations_url": "https://api.github.com/users/marlengit/orgs",
        "repos_url": "https://api.github.com/users/marlengit/repos",
        "events_url": "https://api.github.com/users/marlengit/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/marlengit/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "297ac08c3ab1387331cbf5b50bfeb799720fcddd",
      "commit_url": "https://api.github.com/repos/marlengit/BitcoinUnlimited/commits/297ac08c3ab1387331cbf5b50bfeb799720fcddd",
      "created_at": "2018-09-25T04:23:23Z"
    },
    {
      "event": "locked",
      "id": 5271523869,
      "node_id": "LOE_lADOABII584G78-2zwAAAAE6NRId",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5271523869",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-08T10:57:36Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/44586134",
      "pull_request_review_id": null,
      "id": 44586134,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTg2MTM0",
      "diff_hunk": "@@ -480,6 +475,14 @@ void StopHTTPServer()\n         workQueue->WaitExit();\n         delete workQueue;\n     }\n+    if (eventBase) {\n+        LogPrint(\"http\", \"Waiting for HTTP event thread to exit\\n\");\n+        // Give event loop a few seconds to exit (to send back last RPC responses), then break it\n+        if (!threadHTTP.try_join_for(boost::chrono::milliseconds(2000))) {",
      "path": "src/httpserver.cpp",
      "position": null,
      "original_position": 42,
      "commit_id": "a264c32e3321ae909ca59cb8ce8bf5d812dbc4e1",
      "original_commit_id": "856be4fe46bfc4194afc10f424a03a5fb09af76a",
      "in_reply_to_id": null,
      "user": {
        "login": "dcousens",
        "id": 413395,
        "node_id": "MDQ6VXNlcjQxMzM5NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/413395?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dcousens",
        "html_url": "https://github.com/dcousens",
        "followers_url": "https://api.github.com/users/dcousens/followers",
        "following_url": "https://api.github.com/users/dcousens/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dcousens/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dcousens/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dcousens/subscriptions",
        "organizations_url": "https://api.github.com/users/dcousens/orgs",
        "repos_url": "https://api.github.com/users/dcousens/repos",
        "events_url": "https://api.github.com/users/dcousens/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dcousens/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Out of interest, why do we have to wait [a hard coded timeout]?  Why can't we wait for all events to finish (and maybe just ignore all new incoming connections?)\n",
      "created_at": "2015-11-11T21:06:00Z",
      "updated_at": "2015-11-13T10:10:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6990#discussion_r44586134",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/44586134"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6990"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 486,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/44586809",
      "pull_request_review_id": null,
      "id": 44586809,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTg2ODA5",
      "diff_hunk": "@@ -480,6 +475,14 @@ void StopHTTPServer()\n         workQueue->WaitExit();\n         delete workQueue;\n     }\n+    if (eventBase) {\n+        LogPrint(\"http\", \"Waiting for HTTP event thread to exit\\n\");\n+        // Give event loop a few seconds to exit (to send back last RPC responses), then break it\n+        if (!threadHTTP.try_join_for(boost::chrono::milliseconds(2000))) {",
      "path": "src/httpserver.cpp",
      "position": null,
      "original_position": 42,
      "commit_id": "a264c32e3321ae909ca59cb8ce8bf5d812dbc4e1",
      "original_commit_id": "856be4fe46bfc4194afc10f424a03a5fb09af76a",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> all events to finish\n\nmay take a long time (minutes) depending what was going in in the past?\n",
      "created_at": "2015-11-11T21:11:48Z",
      "updated_at": "2015-11-13T10:10:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6990#discussion_r44586809",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/44586809"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6990"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 486,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/44588682",
      "pull_request_review_id": null,
      "id": 44588682,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTg4Njgy",
      "diff_hunk": "@@ -480,6 +475,14 @@ void StopHTTPServer()\n         workQueue->WaitExit();\n         delete workQueue;\n     }\n+    if (eventBase) {\n+        LogPrint(\"http\", \"Waiting for HTTP event thread to exit\\n\");\n+        // Give event loop a few seconds to exit (to send back last RPC responses), then break it\n+        if (!threadHTTP.try_join_for(boost::chrono::milliseconds(2000))) {",
      "path": "src/httpserver.cpp",
      "position": null,
      "original_position": 42,
      "commit_id": "a264c32e3321ae909ca59cb8ce8bf5d812dbc4e1",
      "original_commit_id": "856be4fe46bfc4194afc10f424a03a5fb09af76a",
      "in_reply_to_id": null,
      "user": {
        "login": "dcousens",
        "id": 413395,
        "node_id": "MDQ6VXNlcjQxMzM5NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/413395?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dcousens",
        "html_url": "https://github.com/dcousens",
        "followers_url": "https://api.github.com/users/dcousens/followers",
        "following_url": "https://api.github.com/users/dcousens/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dcousens/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dcousens/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dcousens/subscriptions",
        "organizations_url": "https://api.github.com/users/dcousens/orgs",
        "repos_url": "https://api.github.com/users/dcousens/repos",
        "events_url": "https://api.github.com/users/dcousens/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dcousens/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "@MarcoFalke but this doesn't stop new connections (or is that done elsewhere?) in that waiting time.  So conceptually, the status quo could be the same?\nThat is, new connections coming in, old ones still finishing. \n",
      "created_at": "2015-11-11T21:27:44Z",
      "updated_at": "2015-11-13T10:10:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6990#discussion_r44588682",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/44588682"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6990"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 486,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/44620210",
      "pull_request_review_id": null,
      "id": 44620210,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjIwMjEw",
      "diff_hunk": "@@ -480,6 +475,14 @@ void StopHTTPServer()\n         workQueue->WaitExit();\n         delete workQueue;\n     }\n+    if (eventBase) {\n+        LogPrint(\"http\", \"Waiting for HTTP event thread to exit\\n\");\n+        // Give event loop a few seconds to exit (to send back last RPC responses), then break it\n+        if (!threadHTTP.try_join_for(boost::chrono::milliseconds(2000))) {",
      "path": "src/httpserver.cpp",
      "position": null,
      "original_position": 42,
      "commit_id": "a264c32e3321ae909ca59cb8ce8bf5d812dbc4e1",
      "original_commit_id": "856be4fe46bfc4194afc10f424a03a5fb09af76a",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "New connections are stopped just above, see where the accept sockets are torn down.\n\nThough it does look like we should close connected sockets in http_reject_request_cb as well for good measure. @laanwj Is there a reason to keep them open once they've had a req rejected?\n",
      "created_at": "2015-11-12T04:14:29Z",
      "updated_at": "2015-11-13T10:10:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6990#discussion_r44620210",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/44620210"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6990"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 486,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/44625420",
      "pull_request_review_id": null,
      "id": 44625420,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjI1NDIw",
      "diff_hunk": "@@ -480,6 +475,14 @@ void StopHTTPServer()\n         workQueue->WaitExit();\n         delete workQueue;\n     }\n+    if (eventBase) {\n+        LogPrint(\"http\", \"Waiting for HTTP event thread to exit\\n\");\n+        // Give event loop a few seconds to exit (to send back last RPC responses), then break it\n+        if (!threadHTTP.try_join_for(boost::chrono::milliseconds(2000))) {",
      "path": "src/httpserver.cpp",
      "position": null,
      "original_position": 42,
      "commit_id": "a264c32e3321ae909ca59cb8ce8bf5d812dbc4e1",
      "original_commit_id": "856be4fe46bfc4194afc10f424a03a5fb09af76a",
      "in_reply_to_id": null,
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "- Waiting for all events to finish could take forever. There's tons of ways that someone could keep a connection option by slowly sending data. Also, timing events (such as the `walletpassphrase` timeout) may hold up the event queue.\n- Just breaking off everything in progress immediately prevents the answer to `stop` from getting back. We could just declare this a feature of course and be done with it... But it was a race condition, sometimes you would get a reply, sometimes not. We could define `stop` to cease all RPC activity immediately. But I think I like this better.\n- There AFAIK is no way to ask libevent, nor libevent_http if the events in the queue are important enough to wait for or not. And specially tagging the connection that sends 'stop' is quite ugly, not sure if even possible without diving into internal data structures.\n\nFor context read #6719.\n\nI'm not 100% happy with this solution either, but I wasn't able to find another way to do it, and it's better than the previous one.\n\n@cfields sure, you can close the connection afterwards there, but that doesn't solve this issue. \n",
      "created_at": "2015-11-12T06:34:22Z",
      "updated_at": "2015-11-13T10:10:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6990#discussion_r44625420",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/44625420"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6990"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 486,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/44625742",
      "pull_request_review_id": null,
      "id": 44625742,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjI1NzQy",
      "diff_hunk": "@@ -480,6 +475,14 @@ void StopHTTPServer()\n         workQueue->WaitExit();\n         delete workQueue;\n     }\n+    if (eventBase) {\n+        LogPrint(\"http\", \"Waiting for HTTP event thread to exit\\n\");\n+        // Give event loop a few seconds to exit (to send back last RPC responses), then break it\n+        if (!threadHTTP.try_join_for(boost::chrono::milliseconds(2000))) {",
      "path": "src/httpserver.cpp",
      "position": null,
      "original_position": 42,
      "commit_id": "a264c32e3321ae909ca59cb8ce8bf5d812dbc4e1",
      "original_commit_id": "856be4fe46bfc4194afc10f424a03a5fb09af76a",
      "in_reply_to_id": null,
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> @MarcoFalke but this doesn't stop new connections (or is that done elsewhere?) in that waiting time.  So conceptually, the status quo could be the same?\n\nIt does:\n\n```\n        // Unlisten sockets\n        BOOST_FOREACH (evhttp_bound_socket *socket, boundSockets) {\n            evhttp_del_accept_socket(eventHTTP, socket);\n        }\n        // Reject requests on current connections\n        evhttp_set_gencb(eventHTTP, http_reject_request_cb, NULL);\n```\n\nThis closes the port and makes new requests error (so that no new work items are created). But that's best-effort. Current connections could still do e.g. a slowloris attack. The two seconds are a belt and suspenders, nothing more.\n",
      "created_at": "2015-11-12T06:42:49Z",
      "updated_at": "2015-11-13T10:10:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6990#discussion_r44625742",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/44625742"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6990"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 486,
      "original_line": null,
      "side": "RIGHT"
    }
  ]
}