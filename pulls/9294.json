{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294",
    "id": 96694316,
    "node_id": "MDExOlB1bGxSZXF1ZXN0OTY2OTQzMTY=",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9294",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/9294.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/9294.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/4115af7ac78971617c4fb80b7db336ff6bf254db",
    "number": 9294,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "Use internal HD chain for change outputs (hd split)",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "#### Main changes\r\nThis pull request will result in using `m/0'/1'/k'` for internal keys (change outputs) while keeping `m/0'/0'/k'` for external keys (`getnewaddress`).\r\n\r\n* There is still a single keypool. All keypool elements (`CKeyPool`) have now a flag (`fInternal`).\r\n* ~~The keypool will be filled with 80% external keys (round ceil).~~\r\n* The keypool will be filled with 100% external keys + 20% (round ceil) internal keys.\r\n* `getwalletinfo` additionally reports `keypoolsize_hd_internal` (amount of internal key in the \r\n\r\n#### Compatibility:\r\n* This hd split change will only affect new wallets. Current 0.13 HD wallets will continue to only use the external chain.\r\n* Using a 0.14 wallet in <0.14 is not possible (hd chain split requires 0.14)\r\n* Using a 0.13 wallet in 0.14 will result in continue using only the external chain (only `m/0'/0'/k'`).\r\n\r\nThis change also fixes the keypool +1 offset.",
    "labels": [
      {
        "id": 149424,
        "node_id": "MDU6TGFiZWwxNDk0MjQ=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
        "name": "Wallet",
        "color": "08a781",
        "default": false
      }
    ],
    "milestone": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/25",
      "html_url": "https://github.com/bitcoin/bitcoin/milestone/25",
      "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/25/labels",
      "id": 2174061,
      "node_id": "MDk6TWlsZXN0b25lMjE3NDA2MQ==",
      "number": 25,
      "state": "closed",
      "title": "0.15.0",
      "description": "",
      "creator": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "open_issues": 0,
      "closed_issues": 119,
      "created_at": "2016-12-04T13:31:14Z",
      "updated_at": "2020-04-28T13:15:17Z",
      "closed_at": "2017-10-12T19:32:58Z"
    },
    "active_lock_reason": "resolved",
    "created_at": "2016-12-06T10:08:19Z",
    "updated_at": "2021-09-08T11:10:07Z",
    "closed_at": "2017-03-29T10:51:37Z",
    "mergeable_state": "unknown",
    "merged_at": "2017-03-29T10:51:37Z",
    "merge_commit_sha": "4115af7ac78971617c4fb80b7db336ff6bf254db",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "jonasschnelli:2016/12/hd_split",
      "ref": "2016/12/hd_split",
      "sha": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 9264454,
        "node_id": "MDEwOlJlcG9zaXRvcnk5MjY0NDU0",
        "name": "bitcoin",
        "full_name": "jonasschnelli/bitcoin",
        "owner": {
          "login": "jonasschnelli",
          "id": 178464,
          "node_id": "MDQ6VXNlcjE3ODQ2NA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/jonasschnelli",
          "html_url": "https://github.com/jonasschnelli",
          "followers_url": "https://api.github.com/users/jonasschnelli/followers",
          "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
          "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
          "repos_url": "https://api.github.com/users/jonasschnelli/repos",
          "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/jonasschnelli/bitcoin",
        "fork": true,
        "url": "https://api.github.com/repos/jonasschnelli/bitcoin",
        "archive_url": "https://api.github.com/repos/jonasschnelli/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/jonasschnelli/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/jonasschnelli/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/jonasschnelli/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/jonasschnelli/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/jonasschnelli/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/jonasschnelli/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/jonasschnelli/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/jonasschnelli/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/jonasschnelli/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/jonasschnelli/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/jonasschnelli/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/jonasschnelli/bitcoin/events",
        "forks_url": "https://api.github.com/repos/jonasschnelli/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/jonasschnelli/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/jonasschnelli/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/jonasschnelli/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/jonasschnelli/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/jonasschnelli/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/jonasschnelli/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/jonasschnelli/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/jonasschnelli/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/jonasschnelli/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/jonasschnelli/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/jonasschnelli/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/jonasschnelli/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/jonasschnelli/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/jonasschnelli/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/jonasschnelli/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:jonasschnelli/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/jonasschnelli/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/jonasschnelli/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/jonasschnelli/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/jonasschnelli/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/jonasschnelli/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/jonasschnelli/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/jonasschnelli/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/jonasschnelli/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/jonasschnelli/bitcoin/hooks",
        "svn_url": "https://github.com/jonasschnelli/bitcoin",
        "homepage": "http://www.bitcoin.org",
        "language": "C++",
        "forks_count": 5,
        "stargazers_count": 10,
        "watchers_count": 10,
        "size": 194164,
        "default_branch": "master",
        "open_issues_count": 5,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2022-08-07T18:33:53Z",
        "created_at": "2013-04-06T18:21:51Z",
        "updated_at": "2023-05-19T06:34:35Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "a230b0588788dbe1ac84622aea169c577b381241",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34324,
        "stargazers_count": 69818,
        "watchers_count": 69818,
        "size": 233879,
        "default_branch": "master",
        "open_issues_count": 627,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-06T22:42:00Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-06-06T22:16:48Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 241,
    "deletions": 89,
    "changed_files": 8,
    "commits": 23,
    "review_comments": 119,
    "comments": 41
  },
  "events": [
    {
      "event": "labeled",
      "id": 883400755,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDg4MzQwMDc1NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/883400755",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-12-06T10:08:19Z",
      "label": {
        "name": "Wallet",
        "color": "02d7e1"
      }
    },
    {
      "event": "milestoned",
      "id": 883400756,
      "node_id": "MDE1Ok1pbGVzdG9uZWRFdmVudDg4MzQwMDc1Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/883400756",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-12-06T10:08:19Z",
      "milestone": {
        "title": "0.14.0"
      }
    },
    {
      "event": "commented",
      "id": 265118191,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI2NTExODE5MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/265118191",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-12-06T10:44:28Z",
      "updated_at": "2016-12-06T10:44:28Z",
      "author_association": "MEMBER",
      "body": "Interesting assertion error in CWallet::CreateRawTransaction\r\n```\r\nstderr:\r\nbitcoind: ../../src/wallet/wallet.cpp:2395: bool CWallet::CreateTransaction(const std::vector<CRecipient>&, CWalletTx&, CReserveKey&, CAmount&, int&, std::string&, const CCoinControl*, bool): Assertion `ret' failed.\r\n  File \"/home/travis/build/bitcoin/bitcoin/qa/rpc-tests/test_framework/test_framework.py\", line 145, in main\r\n    self.run_test()\r\n  File \"/home/travis/build/bitcoin/bitcoin/build/../qa/rpc-tests/fundrawtransaction.py\", line 498, in run_test\r\n    fundedTx = self.nodes[1].fundrawtransaction(rawTx)\r\n  File \"/home/travis/build/bitcoin/bitcoin/qa/rpc-tests/test_framework/coverage.py\", line 49, in __call__\r\n    return_val = self.auth_service_proxy_instance.__call__(*args, **kwargs)\r\n  File \"/home/travis/build/bitcoin/bitcoin/qa/rpc-tests/test_framework/authproxy.py\", line 150, in __call__\r\n    response = self._request('POST', self.__url.path, postdata.encode('utf-8'))\r\n  File \"/home/travis/build/bitcoin/bitcoin/qa/rpc-tests/test_framework/authproxy.py\", line 130, in _request\r\n    self.__conn.request(method, path, postdata, headers)\r\n  File \"/usr/lib/python3.4/http/client.py\", line 1125, in request\r\n    self._send_request(method, url, body, headers)\r\n  File \"/usr/lib/python3.4/http/client.py\", line 1163, in _send_request\r\n    self.endheaders(body)\r\n  File \"/usr/lib/python3.4/http/client.py\", line 1121, in endheaders\r\n    self._send_output(message_body)\r\n  File \"/usr/lib/python3.4/http/client.py\", line 951, in _send_output\r\n    self.send(msg)\r\n  File \"/usr/lib/python3.4/http/client.py\", line 886, in send\r\n    self.connect()\r\n  File \"/usr/lib/python3.4/http/client.py\", line 863, in connect\r\n    self.timeout, self.source_address)\r\n  File \"/usr/lib/python3.4/socket.py\", line 512, in create_connection\r\n    raise err\r\n  File \"/usr/lib/python3.4/socket.py\", line 503, in create_connection\r\n    sock.connect(sa)\r\n```",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-265118191",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "commented",
      "id": 265142636,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI2NTE0MjYzNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/265142636",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-12-06T12:53:04Z",
      "updated_at": "2016-12-06T12:53:04Z",
      "author_association": "CONTRIBUTOR",
      "body": "Travis is failing because it did what it is supposed to: finding bugs.\r\nOnce #9295 is merged, travis should succeed.",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-265142636",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "reviewed",
      "id": 12022893,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTIwMjI4OTM=",
      "url": null,
      "actor": null,
      "commit_id": "324c7f58189cdf0eb98496aac90dc5faafbce071",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "paveljanik",
        "id": 6848764,
        "node_id": "MDQ6VXNlcjY4NDg3NjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6848764?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/paveljanik",
        "html_url": "https://github.com/paveljanik",
        "followers_url": "https://api.github.com/users/paveljanik/followers",
        "following_url": "https://api.github.com/users/paveljanik/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/paveljanik/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/paveljanik/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/paveljanik/subscriptions",
        "organizations_url": "https://api.github.com/users/paveljanik/orgs",
        "repos_url": "https://api.github.com/users/paveljanik/repos",
        "events_url": "https://api.github.com/users/paveljanik/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/paveljanik/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#pullrequestreview-12022893",
      "submitted_at": "2016-12-08T13:39:10Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
    },
    {
      "event": "reviewed",
      "id": 12023095,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTIwMjMwOTU=",
      "url": null,
      "actor": null,
      "commit_id": "324c7f58189cdf0eb98496aac90dc5faafbce071",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "paveljanik",
        "id": 6848764,
        "node_id": "MDQ6VXNlcjY4NDg3NjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6848764?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/paveljanik",
        "html_url": "https://github.com/paveljanik",
        "followers_url": "https://api.github.com/users/paveljanik/followers",
        "following_url": "https://api.github.com/users/paveljanik/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/paveljanik/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/paveljanik/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/paveljanik/subscriptions",
        "organizations_url": "https://api.github.com/users/paveljanik/orgs",
        "repos_url": "https://api.github.com/users/paveljanik/repos",
        "events_url": "https://api.github.com/users/paveljanik/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/paveljanik/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#pullrequestreview-12023095",
      "submitted_at": "2016-12-08T13:40:19Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
    },
    {
      "event": "commented",
      "id": 266231176,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI2NjIzMTE3Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/266231176",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-12-10T19:20:42Z",
      "updated_at": "2016-12-10T19:20:42Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Once #9295 is merged, travis should succeed.\r\n\r\nShall we find out?",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-266231176",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 889536008,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50ODg5NTM2MDA4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/889536008",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-12-11T10:15:51Z"
    },
    {
      "event": "commented",
      "id": 266273821,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI2NjI3MzgyMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/266273821",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-12-11T10:16:11Z",
      "updated_at": "2016-12-11T10:16:11Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased.",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-266273821",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 889982608,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50ODg5OTgyNjA4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/889982608",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-12-12T08:12:36Z"
    },
    {
      "event": "commented",
      "id": 266371184,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI2NjM3MTE4NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/266371184",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-12-12T08:37:55Z",
      "updated_at": "2016-12-12T08:37:55Z",
      "author_association": "CONTRIBUTOR",
      "body": "Travis succeeds now.",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-266371184",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "reviewed",
      "id": 14214639,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTQyMTQ2Mzk=",
      "url": null,
      "actor": null,
      "commit_id": "0971c35319bfb5fe3dd7313b26b90541e46db9c0",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "I don't see code for upgrading existing HD wallets.\r\n\r\nDoes this implement a BIP that should be mentioned?",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#pullrequestreview-14214639",
      "submitted_at": "2016-12-22T20:16:54Z",
      "state": "CHANGES_REQUESTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
    },
    {
      "event": "mentioned",
      "id": 903474225,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50OTAzNDc0MjI1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/903474225",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-12-22T20:34:41Z"
    },
    {
      "event": "subscribed",
      "id": 903474226,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDkwMzQ3NDIyNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/903474226",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-12-22T20:34:41Z"
    },
    {
      "event": "mentioned",
      "id": 903474227,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50OTAzNDc0MjI3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/903474227",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-12-22T20:34:41Z"
    },
    {
      "event": "subscribed",
      "id": 903474228,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDkwMzQ3NDIyOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/903474228",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-12-22T20:34:41Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 914041851,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50OTE0MDQxODUx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/914041851",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-06T13:41:42Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 914045427,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50OTE0MDQ1NDI3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/914045427",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-06T13:45:47Z"
    },
    {
      "event": "commented",
      "id": 270906367,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDkwNjM2Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/270906367",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-06T13:49:02Z",
      "updated_at": "2017-01-06T13:49:02Z",
      "author_association": "CONTRIBUTOR",
      "body": "Overhauled after recommendation from @sipa and @luke-jr.\r\n* The amount of external pre-generated keys now back at 100% from `-keypool=(default 100)`.\r\n* The amount of internal pre-generated keys is +20% from `-keypool=(default 100)`.\r\n* Pre-generate two internal keys at minimum\r\n\r\n... this now results in always have 120% keys pre-generated (20% internal key)",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-270906367",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "mentioned",
      "id": 914048519,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50OTE0MDQ4NTE5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/914048519",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-06T13:49:02Z"
    },
    {
      "event": "subscribed",
      "id": 914048520,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDkxNDA0ODUyMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/914048520",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-06T13:49:02Z"
    },
    {
      "event": "mentioned",
      "id": 914048521,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50OTE0MDQ4NTIx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/914048521",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-06T13:49:02Z"
    },
    {
      "event": "subscribed",
      "id": 914048522,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDkxNDA0ODUyMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/914048522",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-06T13:49:02Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 915569022,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50OTE1NTY5MDIy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/915569022",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-09T07:42:24Z"
    },
    {
      "event": "commented",
      "id": 271225631,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTIyNTYzMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/271225631",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-09T07:46:47Z",
      "updated_at": "2017-01-09T07:46:47Z",
      "author_association": "CONTRIBUTOR",
      "body": "Updated with a small nit-fix (https://github.com/bitcoin/bitcoin/pull/9294#discussion_r93689981) and a fix for wallet-dump.py RPC test. Travis should succeed now.",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-271225631",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 915623284,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50OTE1NjIzMjg0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/915623284",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-09T08:53:21Z"
    },
    {
      "event": "reviewed",
      "id": 15713403,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTU3MTM0MDM=",
      "url": null,
      "actor": null,
      "commit_id": "76c883cd393d7dc7ae547c592134420b93b35897",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "You might also want to have a test that ensures the `ceil` behavior is correct for the 100vs20 split as I think the tests only check evenly divisible or the min value of 2.",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#pullrequestreview-15713403",
      "submitted_at": "2017-01-09T15:19:02Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 917708133,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50OTE3NzA4MTMz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/917708133",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-10T15:49:53Z"
    },
    {
      "event": "commented",
      "id": 271612354,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTYxMjM1NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/271612354",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-10T15:51:47Z",
      "updated_at": "2017-01-10T15:51:47Z",
      "author_association": "CONTRIBUTOR",
      "body": "Fixed @instagibbs points. Squashed into a single commit.",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-271612354",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "mentioned",
      "id": 917711502,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50OTE3NzExNTAy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/917711502",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-10T15:51:47Z"
    },
    {
      "event": "subscribed",
      "id": 917711503,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDkxNzcxMTUwMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/917711503",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-10T15:51:47Z"
    },
    {
      "event": "mentioned",
      "id": 917728155,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50OTE3NzI4MTU1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/917728155",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-10T16:01:15Z"
    },
    {
      "event": "subscribed",
      "id": 917728156,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDkxNzcyODE1Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/917728156",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-10T16:01:15Z"
    },
    {
      "event": "commented",
      "id": 271616131,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTYxNjEzMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/271616131",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-10T16:04:18Z",
      "updated_at": "2017-01-10T16:04:18Z",
      "author_association": "MEMBER",
      "body": "utACK 4065d5fd44b9ce68a688c82353822a1cf49efe53",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-271616131",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "commented",
      "id": 271653613,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTY1MzYxMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/271653613",
      "actor": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-10T18:16:31Z",
      "updated_at": "2017-01-10T18:16:31Z",
      "author_association": "CONTRIBUTOR",
      "body": "I'm not sure how this would work together with #8723 but at a first glance at the code, it seems to simplify things: concept ACK. Can you explain more about its interaction with #8723 and maybe suggest one of them to focus review on first?",
      "user": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-271653613",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 921271772,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50OTIxMjcxNzcy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/921271772",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-12T19:45:24Z"
    },
    {
      "event": "commented",
      "id": 272262994,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MjI2Mjk5NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/272262994",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-12T19:46:46Z",
      "updated_at": "2017-01-12T19:46:46Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased.",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-272262994",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "reviewed",
      "id": 16446426,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTY0NDY0MjY=",
      "url": null,
      "actor": null,
      "commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#pullrequestreview-16446426",
      "submitted_at": "2017-01-12T21:04:50Z",
      "state": "CHANGES_REQUESTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
    },
    {
      "event": "commented",
      "id": 272380206,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MjM4MDIwNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/272380206",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-13T07:38:52Z",
      "updated_at": "2017-01-13T07:38:52Z",
      "author_association": "CONTRIBUTOR",
      "body": "Added a commit that addresses some of @luke-jr points.\r\nMaybe we can try to not bike-shed this with to many design and code-style nits (braces, etc.) otherwise we will very likely delay this for 0.15.",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-272380206",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "mentioned",
      "id": 921876757,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50OTIxODc2NzU3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/921876757",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-13T07:38:52Z"
    },
    {
      "event": "subscribed",
      "id": 921876759,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDkyMTg3Njc1OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/921876759",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-13T07:38:52Z"
    },
    {
      "event": "reviewed",
      "id": 16686184,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTY2ODYxODQ=",
      "url": null,
      "actor": null,
      "commit_id": "12fcde55b79d90edffda62a6568c52a9adef8498",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#pullrequestreview-16686184",
      "submitted_at": "2017-01-14T03:18:43Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
    },
    {
      "event": "reviewed",
      "id": 16686213,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTY2ODYyMTM=",
      "url": null,
      "actor": null,
      "commit_id": "12fcde55b79d90edffda62a6568c52a9adef8498",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#pullrequestreview-16686213",
      "submitted_at": "2017-01-14T03:20:58Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
    },
    {
      "event": "mentioned",
      "id": 923090096,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50OTIzMDkwMDk2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/923090096",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-14T03:23:15Z"
    },
    {
      "event": "subscribed",
      "id": 923090097,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDkyMzA5MDA5Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/923090097",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-14T03:23:15Z"
    },
    {
      "event": "reviewed",
      "id": 16686282,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTY2ODYyODI=",
      "url": null,
      "actor": null,
      "commit_id": "12fcde55b79d90edffda62a6568c52a9adef8498",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#pullrequestreview-16686282",
      "submitted_at": "2017-01-14T03:25:15Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
    },
    {
      "event": "reviewed",
      "id": 16686723,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTY2ODY3MjM=",
      "url": null,
      "actor": null,
      "commit_id": "12fcde55b79d90edffda62a6568c52a9adef8498",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#pullrequestreview-16686723",
      "submitted_at": "2017-01-14T03:53:05Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
    },
    {
      "event": "reviewed",
      "id": 16686868,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTY2ODY4Njg=",
      "url": null,
      "actor": null,
      "commit_id": "12fcde55b79d90edffda62a6568c52a9adef8498",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#pullrequestreview-16686868",
      "submitted_at": "2017-01-14T04:02:23Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 924076220,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50OTI0MDc2MjIw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/924076220",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-16T10:11:50Z"
    },
    {
      "event": "commented",
      "id": 272826123,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MjgyNjEyMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/272826123",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-16T10:33:54Z",
      "updated_at": "2017-01-16T10:33:54Z",
      "author_association": "CONTRIBUTOR",
      "body": "Added a couple of fixes:\r\n* Most important, as @TheBlueMatt has discovered, the `nVersion` handling of `CKeyPool` was wrong. I have fixed it with a `try{}` to serialise the `fInternal` boolean.\r\n* Return `setKeyPool.size()` if hd or hd-chain-split is disabled\r\n* Removed redundant `IsLocked()` check\r\n* Fixed wrong keypool internal size in RPC help\r\n* Make sure we hand out keypool keys if HD_SPLIT is not enabled\r\n\r\n\r\nI did not cover design-changes and non-important nits in order to get this merged today before the feature freeze. We can fix things and make it more elegant after a possible merge.\r\nI also not changed the keypool distribution (still 100%/20%). Can be done after the freeze and once we all agree whether we'd like to have 100/20 or 100/100.",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-272826123",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "mentioned",
      "id": 924105251,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50OTI0MTA1MjUx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/924105251",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-16T10:33:54Z"
    },
    {
      "event": "subscribed",
      "id": 924105252,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDkyNDEwNTI1Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/924105252",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-16T10:33:54Z"
    },
    {
      "event": "commented",
      "id": 272957165,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3Mjk1NzE2NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/272957165",
      "actor": {
        "login": "btcdrak",
        "id": 7275704,
        "node_id": "MDQ6VXNlcjcyNzU3MDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7275704?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/btcdrak",
        "html_url": "https://github.com/btcdrak",
        "followers_url": "https://api.github.com/users/btcdrak/followers",
        "following_url": "https://api.github.com/users/btcdrak/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/btcdrak/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/btcdrak/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/btcdrak/subscriptions",
        "organizations_url": "https://api.github.com/users/btcdrak/orgs",
        "repos_url": "https://api.github.com/users/btcdrak/repos",
        "events_url": "https://api.github.com/users/btcdrak/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/btcdrak/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-16T20:39:18Z",
      "updated_at": "2017-01-16T20:39:18Z",
      "author_association": "CONTRIBUTOR",
      "body": "ACK e34676e\r\n",
      "user": {
        "login": "btcdrak",
        "id": 7275704,
        "node_id": "MDQ6VXNlcjcyNzU3MDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7275704?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/btcdrak",
        "html_url": "https://github.com/btcdrak",
        "followers_url": "https://api.github.com/users/btcdrak/followers",
        "following_url": "https://api.github.com/users/btcdrak/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/btcdrak/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/btcdrak/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/btcdrak/subscriptions",
        "organizations_url": "https://api.github.com/users/btcdrak/orgs",
        "repos_url": "https://api.github.com/users/btcdrak/repos",
        "events_url": "https://api.github.com/users/btcdrak/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/btcdrak/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-272957165",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "reviewed",
      "id": 16882110,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTY4ODIxMTA=",
      "url": null,
      "actor": null,
      "commit_id": "e34676ef42e265ff883c39cc10d6c1b16f2c8331",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#pullrequestreview-16882110",
      "submitted_at": "2017-01-16T21:00:49Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
    },
    {
      "event": "commented",
      "id": 273054746,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MzA1NDc0Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/273054746",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-17T08:47:02Z",
      "updated_at": "2017-01-17T08:47:02Z",
      "author_association": "CONTRIBUTOR",
      "body": "Added three fixes for issues found by @TheBlueMatt and @luke-jr :\r\n\r\n* Switched to 100%/100% for the keypool distribution, also, make sure we always generate at least 1 key for each chain\r\n* Added a fix that ensures that we don't accidentally upgrade a NON hd-chain-split wallet to hd-chain-split wallet during encryption (=HD reseed).\r\n* Fix `GetOldestKeyPoolTime` to response `max(oldest_internal_key, oldest_external_key)`.",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-273054746",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "mentioned",
      "id": 925369628,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50OTI1MzY5NjI4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/925369628",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-17T08:47:02Z"
    },
    {
      "event": "subscribed",
      "id": 925369629,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDkyNTM2OTYyOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/925369629",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-17T08:47:02Z"
    },
    {
      "event": "mentioned",
      "id": 925369630,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50OTI1MzY5NjMw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/925369630",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-17T08:47:02Z"
    },
    {
      "event": "subscribed",
      "id": 925369631,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDkyNTM2OTYzMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/925369631",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-17T08:47:02Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 925384551,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50OTI1Mzg0NTUx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/925384551",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-17T08:59:42Z"
    },
    {
      "event": "commented",
      "id": 273197120,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MzE5NzEyMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/273197120",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-17T15:15:41Z",
      "updated_at": "2017-01-17T15:15:41Z",
      "author_association": "MEMBER",
      "body": "utACK a874b75a180a9e967a3d936cf46df11f8531b70a modulo performance concerns, but I'm more than happy to fix those up post-merge if needed, as they should be pretty easy to address",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-273197120",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "commented",
      "id": 273205708,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MzIwNTcwOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/273205708",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-17T15:43:24Z",
      "updated_at": "2017-01-17T15:43:24Z",
      "author_association": "CONTRIBUTOR",
      "body": "Performance on my Core i7 2.9 GHZ with a 5'000 keypool wallet.\r\n\r\nThis PR (results actually in 5k internal and 5k external keys = 10k keys)\r\n`getnewaddress: real    0m0.219s`\r\n\r\n0.13 (5k keys, no chain split)\r\n`getnewaddress: real    0m0.104s`",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-273205708",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "mentioned",
      "id": 927899004,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50OTI3ODk5MDA0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/927899004",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-18T18:12:20Z"
    },
    {
      "event": "subscribed",
      "id": 927899005,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDkyNzg5OTAwNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/927899005",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-18T18:12:20Z"
    },
    {
      "event": "reviewed",
      "id": 17316358,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTczMTYzNTg=",
      "url": null,
      "actor": null,
      "commit_id": "a874b75a180a9e967a3d936cf46df11f8531b70a",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "utACK. It's not perfect, but seems to be good enough.",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#pullrequestreview-17316358",
      "submitted_at": "2017-01-18T20:21:43Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
    },
    {
      "event": "commented",
      "id": 273866847,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3Mzg2Njg0Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/273866847",
      "actor": {
        "login": "btcdrak",
        "id": 7275704,
        "node_id": "MDQ6VXNlcjcyNzU3MDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7275704?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/btcdrak",
        "html_url": "https://github.com/btcdrak",
        "followers_url": "https://api.github.com/users/btcdrak/followers",
        "following_url": "https://api.github.com/users/btcdrak/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/btcdrak/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/btcdrak/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/btcdrak/subscriptions",
        "organizations_url": "https://api.github.com/users/btcdrak/orgs",
        "repos_url": "https://api.github.com/users/btcdrak/repos",
        "events_url": "https://api.github.com/users/btcdrak/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/btcdrak/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-19T19:03:11Z",
      "updated_at": "2017-01-19T19:03:11Z",
      "author_association": "CONTRIBUTOR",
      "body": "utACK a874b75\r\n",
      "user": {
        "login": "btcdrak",
        "id": 7275704,
        "node_id": "MDQ6VXNlcjcyNzU3MDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7275704?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/btcdrak",
        "html_url": "https://github.com/btcdrak",
        "followers_url": "https://api.github.com/users/btcdrak/followers",
        "following_url": "https://api.github.com/users/btcdrak/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/btcdrak/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/btcdrak/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/btcdrak/subscriptions",
        "organizations_url": "https://api.github.com/users/btcdrak/orgs",
        "repos_url": "https://api.github.com/users/btcdrak/repos",
        "events_url": "https://api.github.com/users/btcdrak/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/btcdrak/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-273866847",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "reviewed",
      "id": 17535025,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTc1MzUwMjU=",
      "url": null,
      "actor": null,
      "commit_id": "a874b75a180a9e967a3d936cf46df11f8531b70a",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#pullrequestreview-17535025",
      "submitted_at": "2017-01-19T19:19:55Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
    },
    {
      "event": "reviewed",
      "id": 17519677,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTc1MTk2Nzc=",
      "url": null,
      "actor": null,
      "commit_id": "a874b75a180a9e967a3d936cf46df11f8531b70a",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "utACK a874b75a180a9e967a3d936cf46df11f8531b70a. Suggested some minor changes, probably for a future PR since this needs to be merged soon.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#pullrequestreview-17519677",
      "submitted_at": "2017-01-19T19:37:18Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
    },
    {
      "event": "demilestoned",
      "id": 931153032,
      "node_id": "MDE3OkRlbWlsZXN0b25lZEV2ZW50OTMxMTUzMDMy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/931153032",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-20T19:07:06Z",
      "milestone": {
        "title": "0.14.0"
      }
    },
    {
      "event": "milestoned",
      "id": 931154060,
      "node_id": "MDE1Ok1pbGVzdG9uZWRFdmVudDkzMTE1NDA2MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/931154060",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-20T19:07:45Z",
      "milestone": {
        "title": "0.15.0"
      }
    },
    {
      "event": "commented",
      "id": 274154469,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3NDE1NDQ2OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/274154469",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-20T19:12:11Z",
      "updated_at": "2017-01-20T19:12:11Z",
      "author_association": "CONTRIBUTOR",
      "body": "Removed 0.14 tag (added to 0.15 milestone). Let's hope we can get this in after the 0.14 branch-off",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-274154469",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "reviewed",
      "id": 18241649,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTgyNDE2NDk=",
      "url": null,
      "actor": null,
      "commit_id": "a874b75a180a9e967a3d936cf46df11f8531b70a",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "a874b75a180a9e967a3d936cf46df11f8531b70a still looks good, though it would be nice if some of the outstanding comments here could be addressed in this PR or a followup.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#pullrequestreview-18241649",
      "submitted_at": "2017-01-24T19:49:48Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
    },
    {
      "event": "mentioned",
      "id": 938339403,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50OTM4MzM5NDAz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/938339403",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-26T19:50:11Z"
    },
    {
      "event": "subscribed",
      "id": 938339404,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDkzODMzOTQwNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/938339404",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-26T19:50:11Z"
    },
    {
      "event": "commented",
      "id": 275498023,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTQ5ODAyMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/275498023",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-26T20:05:19Z",
      "updated_at": "2017-01-26T20:05:19Z",
      "author_association": "CONTRIBUTOR",
      "body": "1. Fixed most (all?) of @ryanofsky nits\r\n2. Fixed @theuni's internal/external design nit.\r\n3. Removed the bump to 140000 TODO",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-275498023",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "mentioned",
      "id": 938361461,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50OTM4MzYxNDYx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/938361461",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-26T20:05:19Z"
    },
    {
      "event": "subscribed",
      "id": 938361462,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDkzODM2MTQ2Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/938361462",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-26T20:05:19Z"
    },
    {
      "event": "mentioned",
      "id": 938361463,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50OTM4MzYxNDYz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/938361463",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-26T20:05:19Z"
    },
    {
      "event": "subscribed",
      "id": 938361464,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDkzODM2MTQ2NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/938361464",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-26T20:05:19Z"
    },
    {
      "event": "commented",
      "id": 275596185,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTU5NjE4NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/275596185",
      "actor": {
        "login": "ghost",
        "id": 10137,
        "node_id": "MDQ6VXNlcjEwMTM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ghost",
        "html_url": "https://github.com/ghost",
        "followers_url": "https://api.github.com/users/ghost/followers",
        "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
        "organizations_url": "https://api.github.com/users/ghost/orgs",
        "repos_url": "https://api.github.com/users/ghost/repos",
        "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ghost/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-27T06:10:56Z",
      "updated_at": "2017-01-27T06:10:56Z",
      "author_association": "NONE",
      "body": "This split sounds interesting, I wanted to know about the motivation for this, but did not find any information neither in this PR nor by searching in the internet. Could You provide some information/link about motivation for this PR ?",
      "user": {
        "login": "ghost",
        "id": 10137,
        "node_id": "MDQ6VXNlcjEwMTM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ghost",
        "html_url": "https://github.com/ghost",
        "followers_url": "https://api.github.com/users/ghost/followers",
        "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
        "organizations_url": "https://api.github.com/users/ghost/orgs",
        "repos_url": "https://api.github.com/users/ghost/repos",
        "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ghost/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-275596185",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "commented",
      "id": 275598856,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTU5ODg1Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/275598856",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-27T06:34:41Z",
      "updated_at": "2017-01-27T06:34:41Z",
      "author_association": "MEMBER",
      "body": "@wodry BIP32 specifies the use of separate chains for external addresses (those you give out to receive payments on) and internal addresses (used for sending change back to yourself). The initial BIP32 implementation in Bitcoin Core 0.13 did not implement this, and only had a single chain for both. That means you're unable to distinguish what are payments and change in a potential future version that can autonomously recover from a wallet backup.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-275598856",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "mentioned",
      "id": 938888873,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50OTM4ODg4ODcz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/938888873",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-27T06:34:41Z"
    },
    {
      "event": "subscribed",
      "id": 938888874,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDkzODg4ODg3NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/938888874",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-27T06:34:41Z"
    },
    {
      "event": "commented",
      "id": 276597025,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3NjU5NzAyNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/276597025",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-02-01T08:11:54Z",
      "updated_at": "2017-02-01T08:12:01Z",
      "author_association": "CONTRIBUTOR",
      "body": "Had to rebase after #9377 and slightly modify the `fundrawtransaction.py` test (change `getnewaddress()` into `getrawchangeaddress()`).",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-276597025",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 944367406,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50OTQ0MzY3NDA2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/944367406",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-02-01T08:13:05Z"
    },
    {
      "event": "commented",
      "id": 283614081,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI4MzYxNDA4MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/283614081",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-02T10:19:36Z",
      "updated_at": "2017-03-02T10:19:36Z",
      "author_association": "CONTRIBUTOR",
      "body": "Is anything holding back this PR, is there anything left to do?",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-283614081",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 985503026,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50OTg1NTAzMDI2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/985503026",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-03T14:56:54Z"
    },
    {
      "event": "commented",
      "id": 283975045,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI4Mzk3NTA0NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/283975045",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-03T14:57:13Z",
      "updated_at": "2017-03-03T14:57:13Z",
      "author_association": "CONTRIBUTOR",
      "body": "Needed rebase (caused by #8775).",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-283975045",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 987341838,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50OTg3MzQxODM4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/987341838",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-06T09:04:34Z"
    },
    {
      "event": "commented",
      "id": 285384959,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI4NTM4NDk1OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/285384959",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-09T15:34:10Z",
      "updated_at": "2017-03-09T15:34:10Z",
      "author_association": "MEMBER",
      "body": "> Is anything holding back this PR, is there anything left to do?\r\n\r\nEh yes we should merge this soon.\r\nSorry, (again) needs rebase though, probably trivial for the std:: changes in #9643",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-285384959",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 994487630,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50OTk0NDg3NjMw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/994487630",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-10T08:07:23Z"
    },
    {
      "event": "commented",
      "id": 285604332,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI4NTYwNDMzMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/285604332",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-10T08:07:42Z",
      "updated_at": "2017-03-10T08:07:42Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased.",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-285604332",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "commented",
      "id": 285612826,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI4NTYxMjgyNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/285612826",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-10T08:52:15Z",
      "updated_at": "2017-03-10T08:57:41Z",
      "author_association": "MEMBER",
      "body": "Locally here (Ubuntu 16.04, x86_64) it fails the wallet-dump.py test:\r\n```\r\nwallet-dump.py:\r\n2017-03-10 09:49:52.887000 TestFramework (INFO): Initializing test directory /tmp/testb91k5t1l/479\r\n2017-03-10 09:49:55.124000 TestFramework (ERROR): Assertion failed\r\nTraceback (most recent call last):\r\n  File \"/store/orion/projects/bitcoin/bitcoin/qa/rpc-tests/test_framework/test_framework.py\", line 147, in main\r\n    self.run_test()\r\n  File \"/home/orion/projects/bitcoin/bitcoin/qa/rpc-tests/wallet-dump.py\", line 91, in run_test\r\n    assert_equal(found_addr_rsv, 90*2) # 90 keys plus 100% internal keys\r\n  File \"/store/orion/projects/bitcoin/bitcoin/qa/rpc-tests/test_framework/util.py\", line 476, in assert_equal\r\n    raise AssertionError(\"not(%s)\" % \" == \".join(str(arg) for arg in (thing1, thing2) + args))\r\nAssertionError: not(90 == 180)\r\n2017-03-10 09:49:55.125000 TestFramework (INFO): Stopping nodes\r\n2017-03-10 09:49:57.249000 TestFramework (WARNING): Not cleaning up dir /tmp/testb91k5t1l/479\r\n2017-03-10 09:49:57.250000 TestFramework (ERROR): Test failed. Test logging available at /tmp/testb91k5t1l/479/test_framework.log\r\n\r\nPass: False, Duration: 4 s\r\n```\r\n\r\nEdit: Solved after deleting `qa/cache`.",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-285612826",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "commented",
      "id": 285661096,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI4NTY2MTA5Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/285661096",
      "actor": {
        "login": "NicolasDorier",
        "id": 3020646,
        "node_id": "MDQ6VXNlcjMwMjA2NDY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/NicolasDorier",
        "html_url": "https://github.com/NicolasDorier",
        "followers_url": "https://api.github.com/users/NicolasDorier/followers",
        "following_url": "https://api.github.com/users/NicolasDorier/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/NicolasDorier/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/NicolasDorier/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
        "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
        "repos_url": "https://api.github.com/users/NicolasDorier/repos",
        "events_url": "https://api.github.com/users/NicolasDorier/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-10T12:48:51Z",
      "updated_at": "2017-03-14T06:23:39Z",
      "author_association": "CONTRIBUTOR",
      "body": "~utACK 52874f378d3ba3050fddd3a3af0c5347077e2893~\r\n\r\nI do not really like the O(N) disk hit on the number of key in the pool. As I am dealing with lots of keys, and machines with crappy latency. But I might fix that in a separate PR.",
      "user": {
        "login": "NicolasDorier",
        "id": 3020646,
        "node_id": "MDQ6VXNlcjMwMjA2NDY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/NicolasDorier",
        "html_url": "https://github.com/NicolasDorier",
        "followers_url": "https://api.github.com/users/NicolasDorier/followers",
        "following_url": "https://api.github.com/users/NicolasDorier/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/NicolasDorier/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/NicolasDorier/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
        "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
        "repos_url": "https://api.github.com/users/NicolasDorier/repos",
        "events_url": "https://api.github.com/users/NicolasDorier/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-285661096",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "commented",
      "id": 286333188,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI4NjMzMzE4OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/286333188",
      "actor": {
        "login": "NicolasDorier",
        "id": 3020646,
        "node_id": "MDQ6VXNlcjMwMjA2NDY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/NicolasDorier",
        "html_url": "https://github.com/NicolasDorier",
        "followers_url": "https://api.github.com/users/NicolasDorier/followers",
        "following_url": "https://api.github.com/users/NicolasDorier/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/NicolasDorier/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/NicolasDorier/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
        "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
        "repos_url": "https://api.github.com/users/NicolasDorier/repos",
        "events_url": "https://api.github.com/users/NicolasDorier/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-14T06:23:55Z",
      "updated_at": "2017-03-14T06:33:08Z",
      "author_association": "CONTRIBUTOR",
      "body": "Removing my ACK for now, this would make ReserveKey really too slow. I will propose a commit to fix that this week. \r\nI think there should be 2 keypools or at least a way to get the external count without iterating over the whole keypool, whichever is the most easy. I will play around.",
      "user": {
        "login": "NicolasDorier",
        "id": 3020646,
        "node_id": "MDQ6VXNlcjMwMjA2NDY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/NicolasDorier",
        "html_url": "https://github.com/NicolasDorier",
        "followers_url": "https://api.github.com/users/NicolasDorier/followers",
        "following_url": "https://api.github.com/users/NicolasDorier/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/NicolasDorier/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/NicolasDorier/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
        "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
        "repos_url": "https://api.github.com/users/NicolasDorier/repos",
        "events_url": "https://api.github.com/users/NicolasDorier/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-286333188",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "reviewed",
      "id": 26731466,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjY3MzE0NjY=",
      "url": null,
      "actor": null,
      "commit_id": "52874f378d3ba3050fddd3a3af0c5347077e2893",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "NicolasDorier",
        "id": 3020646,
        "node_id": "MDQ6VXNlcjMwMjA2NDY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/NicolasDorier",
        "html_url": "https://github.com/NicolasDorier",
        "followers_url": "https://api.github.com/users/NicolasDorier/followers",
        "following_url": "https://api.github.com/users/NicolasDorier/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/NicolasDorier/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/NicolasDorier/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
        "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
        "repos_url": "https://api.github.com/users/NicolasDorier/repos",
        "events_url": "https://api.github.com/users/NicolasDorier/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#pullrequestreview-26731466",
      "submitted_at": "2017-03-14T06:28:33Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1002809069,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTAwMjgwOTA2OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1002809069",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-16T14:24:38Z"
    },
    {
      "event": "commented",
      "id": 287080205,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzA4MDIwNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/287080205",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-16T14:46:57Z",
      "updated_at": "2017-03-16T14:46:57Z",
      "author_association": "CONTRIBUTOR",
      "body": "Needed rebase.\r\n\r\nI think the performance is acceptable (see comparison further down).\r\nImproving the performance could be done after this PR. It's already packed.\r\n\r\nA `keypool=5000` comparison between this PR and Master (2.9 GHz Intel Core i7, OSX, SSD).\r\n\r\n## This PR\r\n(Keep in mind that they keypool is now **x2, 5000 ext. and 5000 int. key**)\r\n```\r\n$ time ./src/bitcoin-cli --regtest --datadir=../dummy_intkp/ getnewaddress\r\nn3yNEDDgo1k512LXBF8k9h2cSCfvsqKPac\r\n\r\nreal\t0m0.204s\r\nuser\t0m0.003s\r\nsys\t0m0.003s\r\n\r\n$ time ./src/bitcoin-cli --regtest --datadir=../dummy_intkp/ getrawchangeaddress\r\nmnVRynjpdTtLovncFDWPn2dkqrLnij5Kf9\r\n\r\nreal\t0m0.271s\r\nuser\t0m0.004s\r\nsys\t0m0.003s\r\n\r\n```\r\n\r\n## Master\r\n```\r\n$ time ./src/bitcoin-cli --regtest --datadir=../dummy_master/ getnewaddress\r\nmmzkFkya299T4ebushyoHye48c5xJmd7GC\r\n\r\nreal\t0m0.089s\r\nuser\t0m0.004s\r\nsys\t0m0.004s\r\n\r\n$ time ./src/bitcoin-cli --regtest --datadir=../dummy_master/ getrawchangeaddress\r\nmwZbWTps1EgZoJoF59XR8meWQUA3rNdb2i\r\n\r\nreal\t0m0.071s\r\nuser\t0m0.003s\r\nsys\t0m0.003s\r\n```",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-287080205",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "commented",
      "id": 287285828,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzI4NTgyOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/287285828",
      "actor": {
        "login": "NicolasDorier",
        "id": 3020646,
        "node_id": "MDQ6VXNlcjMwMjA2NDY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/NicolasDorier",
        "html_url": "https://github.com/NicolasDorier",
        "followers_url": "https://api.github.com/users/NicolasDorier/followers",
        "following_url": "https://api.github.com/users/NicolasDorier/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/NicolasDorier/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/NicolasDorier/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
        "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
        "repos_url": "https://api.github.com/users/NicolasDorier/repos",
        "events_url": "https://api.github.com/users/NicolasDorier/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-17T07:28:24Z",
      "updated_at": "2017-03-17T07:28:24Z",
      "author_association": "CONTRIBUTOR",
      "body": "@jonasschnelli well this is on SSD. My hosted VM does not have that. Can you at least do something where I commented on the `if (i < missingInternal)` ?\r\nYou clutter internal and external together which make a very bad worst case scenario when there is a scan of the pool based on the filter.",
      "user": {
        "login": "NicolasDorier",
        "id": 3020646,
        "node_id": "MDQ6VXNlcjMwMjA2NDY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/NicolasDorier",
        "html_url": "https://github.com/NicolasDorier",
        "followers_url": "https://api.github.com/users/NicolasDorier/followers",
        "following_url": "https://api.github.com/users/NicolasDorier/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/NicolasDorier/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/NicolasDorier/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
        "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
        "repos_url": "https://api.github.com/users/NicolasDorier/repos",
        "events_url": "https://api.github.com/users/NicolasDorier/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-287285828",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "mentioned",
      "id": 1004016210,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTAwNDAxNjIxMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1004016210",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-17T07:28:24Z"
    },
    {
      "event": "subscribed",
      "id": 1004016211,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEwMDQwMTYyMTE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1004016211",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-17T07:28:24Z"
    },
    {
      "event": "commented",
      "id": 287389076,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzM4OTA3Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/287389076",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-17T15:39:05Z",
      "updated_at": "2017-03-17T15:39:05Z",
      "author_association": "CONTRIBUTOR",
      "body": "@NicolasDorier: this PR is open since a couple of month (dec 2016) and I don't want to add any form of optimisations (only fix real problems and it seems to me that the performance is still acceptable/while not good). We really should do this after this has been merged.\r\nAdding more optimisation will cause another round of reviewing (and we already did a couple of them).",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-287389076",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "mentioned",
      "id": 1004665758,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTAwNDY2NTc1OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1004665758",
      "actor": {
        "login": "NicolasDorier",
        "id": 3020646,
        "node_id": "MDQ6VXNlcjMwMjA2NDY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/NicolasDorier",
        "html_url": "https://github.com/NicolasDorier",
        "followers_url": "https://api.github.com/users/NicolasDorier/followers",
        "following_url": "https://api.github.com/users/NicolasDorier/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/NicolasDorier/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/NicolasDorier/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
        "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
        "repos_url": "https://api.github.com/users/NicolasDorier/repos",
        "events_url": "https://api.github.com/users/NicolasDorier/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-17T15:39:05Z"
    },
    {
      "event": "subscribed",
      "id": 1004665759,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEwMDQ2NjU3NTk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1004665759",
      "actor": {
        "login": "NicolasDorier",
        "id": 3020646,
        "node_id": "MDQ6VXNlcjMwMjA2NDY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/NicolasDorier",
        "html_url": "https://github.com/NicolasDorier",
        "followers_url": "https://api.github.com/users/NicolasDorier/followers",
        "following_url": "https://api.github.com/users/NicolasDorier/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/NicolasDorier/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/NicolasDorier/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
        "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
        "repos_url": "https://api.github.com/users/NicolasDorier/repos",
        "events_url": "https://api.github.com/users/NicolasDorier/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-17T15:39:05Z"
    },
    {
      "event": "commented",
      "id": 287422916,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzQyMjkxNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/287422916",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-17T17:40:34Z",
      "updated_at": "2017-03-17T17:40:34Z",
      "author_association": "MEMBER",
      "body": "utACK 78f2cb926495114354d835a2ba344558384c89f9\r\n\r\nConfirmed there were no significant changes in the first 13 commits which were rebased since my previous ACK. The rebased commits just added std:: namespace prefixes and updated various python rpc error checks.\r\n\r\nAll of the changes in the 4 new commits also looked good. The only one of these that was a change in behavior rather than simple cleanup was the change to fundrawtransaction.py, which seemed fine (though it would be good if the commit message mentioned the reason for the change).",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-287422916",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "commented",
      "id": 287549038,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzU0OTAzOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/287549038",
      "actor": {
        "login": "NicolasDorier",
        "id": 3020646,
        "node_id": "MDQ6VXNlcjMwMjA2NDY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/NicolasDorier",
        "html_url": "https://github.com/NicolasDorier",
        "followers_url": "https://api.github.com/users/NicolasDorier/followers",
        "following_url": "https://api.github.com/users/NicolasDorier/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/NicolasDorier/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/NicolasDorier/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
        "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
        "repos_url": "https://api.github.com/users/NicolasDorier/repos",
        "events_url": "https://api.github.com/users/NicolasDorier/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-18T14:16:45Z",
      "updated_at": "2017-03-18T14:30:38Z",
      "author_association": "CONTRIBUTOR",
      "body": "utACK 78f2cb9\r\n@jonasschnelli understood, knowing that this PR blocks mine I would also like to see it merged as soon as possible. Will fix the performance issues myself after.",
      "user": {
        "login": "NicolasDorier",
        "id": 3020646,
        "node_id": "MDQ6VXNlcjMwMjA2NDY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/NicolasDorier",
        "html_url": "https://github.com/NicolasDorier",
        "followers_url": "https://api.github.com/users/NicolasDorier/followers",
        "following_url": "https://api.github.com/users/NicolasDorier/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/NicolasDorier/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/NicolasDorier/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
        "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
        "repos_url": "https://api.github.com/users/NicolasDorier/repos",
        "events_url": "https://api.github.com/users/NicolasDorier/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-287549038",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "mentioned",
      "id": 1005544761,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTAwNTU0NDc2MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1005544761",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-18T14:17:43Z"
    },
    {
      "event": "subscribed",
      "id": 1005544762,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEwMDU1NDQ3NjI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1005544762",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-18T14:17:43Z"
    },
    {
      "event": "reviewed",
      "id": 27946865,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mjc5NDY4NjU=",
      "url": null,
      "actor": null,
      "commit_id": "78f2cb926495114354d835a2ba344558384c89f9",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Didn't look too closely at tests",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#pullrequestreview-27946865",
      "submitted_at": "2017-03-20T23:58:18Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
    },
    {
      "event": "commented",
      "id": 287935243,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzkzNTI0Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/287935243",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-20T23:58:39Z",
      "updated_at": "2017-03-20T23:58:39Z",
      "author_association": "MEMBER",
      "body": "Needs rebase.",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-287935243",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "added_to_project",
      "id": 1013783696,
      "node_id": "MDE5OkFkZGVkVG9Qcm9qZWN0RXZlbnQxMDEzNzgzNjk2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1013783696",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-24T07:23:26Z",
      "project_card": {
        "id": 2207295,
        "url": "https://api.github.com/projects/columns/cards/2207295",
        "project_id": 481835,
        "project_url": "https://api.github.com/projects/481835",
        "column_name": "Blockers"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzowMjU5MmY0YzVlNmQ5NDE2MTY1ZGVlZjk2Mzk4YWM3NzYwZjQ1N2Qx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/02592f4c5e6d9416165deef96398ac7760f457d1",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/02592f4c5e6d9416165deef96398ac7760f457d1",
      "tree": {
        "sha": "e253d748e905d589885c1816acb798bd123434d9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e253d748e905d589885c1816acb798bd123434d9"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree e253d748e905d589885c1816acb798bd123434d9\nparent a230b0588788dbe1ac84622aea169c577b381241\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1484063130 +0100\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1490347717 +0100\n\n[Wallet] split the keypool in an internal and external part\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAljU5sUACgkQHrd2uwPH\nki2dkQ//c9TZjGxzeMubuDUn1+953EBOccyZM0zgT37IF3YsEAGnP97M/Es6uFA+\nUa86pSx4g5pArt4a2V4nUG2HCkjkAIBI1FbBTH5cJC62reA0iqT8h0QE8m1UIBmm\nHMS5tXLc5UzWsInblD9l/NvYBw+0i9R7vNteYPuhiIdmph0BQR8pQRhiSG2dOoaK\nqYIObMFefX63nFRzMIjLTlFYJLUiGXN/HLgMT44ntPop0VfFjM9YXJ3fLGB1CkGQ\nXvCOkQQ/iWxxrM+AAOB0dhQPHPbUBfjlDN83/j70AHgr6Qsk9rZNKdXZsDmVTEUs\nqWkAh1hdavkyxyj/RKYF2kUWSfuMbRArjzrY+b/WBIuc917Jn83pyMaqQ5Y+8CAT\nbushfLaDETU8PIU93Axh3AdIDgGzjNts3TIAsVFOd9VgLY98dfjNTur9Xy2sx4Eo\ns/Fz1ktE8YSBb4FGlcSu6GSCy0Z5mPSS+cFftWW+NGBJ6EmUIpNI8lnf0L3CY9tD\nEpV62JdKmomNwWCNuyAV57IFUqS25+G2NjZQ/1QuZKpaaZoPihAdpq0sGSRx49oF\ngrO0hvSUrjmxA/OD3emke/AEPwXqHrGd6dac350SKcWq68Yvo4trb4lLDOfbMghb\nTtp/wkiH2ZvCUa7w4iR8pmAxSYEsIbOHVWGgPmu7DoymE8bMIvU=\n=MBLv\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a230b0588788dbe1ac84622aea169c577b381241",
          "sha": "a230b0588788dbe1ac84622aea169c577b381241",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a230b0588788dbe1ac84622aea169c577b381241"
        }
      ],
      "message": "[Wallet] split the keypool in an internal and external part",
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-03-24T09:28:37Z"
      },
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-01-10T15:45:30Z"
      },
      "sha": "02592f4c5e6d9416165deef96398ac7760f457d1"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkNTk1MzFkZGZjMDlmNzA1YzJlZjNhMzNjNDFkNmQ5MTA3NTZkYTE4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d59531ddfc09f705c2ef3a33c41d6d910756da18",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d59531ddfc09f705c2ef3a33c41d6d910756da18",
      "tree": {
        "sha": "7b7f98783301e1b895b7d678997022575a3b9c8f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7b7f98783301e1b895b7d678997022575a3b9c8f"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 7b7f98783301e1b895b7d678997022575a3b9c8f\nparent 02592f4c5e6d9416165deef96398ac7760f457d1\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1484553397 +0100\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1490347717 +0100\n\nImmediately return setKeyPool's size if HD or HD_SPLIT is disabled or not supported\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAljU5sYACgkQHrd2uwPH\nki2gYBAArihqn6bTYuobUw5kPQzhTO+gC5Dsqf4QX5nSz48XPjzcoLPhLR6/WfF2\nYvNafs0vpUCbpg4To9dE+0Abk0DCmWeatg1X0MqSNXqTfs9wl8iSE/hDyHKc7HBK\nFo+BI/Loedb5VE70f8Z9hMOuzjdt0wecxs1u009rhRiht0kRNwytaGADgG8/KSnP\nvvVcaIuUavC6TH1oplUNoX0Kr28PROW4Qp6BacfXkwWDEMjajmIDZjyj4YMeKN6W\nOToJmrTZvHgHSkYDIb2hOX8uEVxMbMVR/BZ23Qcid0t71y9e7T/0GIvcNvf4mnF9\nG3yExTj9kr6O68+XY0LvWi+EU6OsB0QgnbpXxdg1TaN55BF3w6+qd0gi3ms4BAS9\nDgEtlJ6VsGR+TcL4Dwb+uPY2sddiDlo+RaOY+cP0uRw3o1jENCmimhOQnb/P2Jt5\nsRijbKiXntQHVdFoOYsEHX6e20sXKmc9r1YBomuSbVronN1iZTl/fG6ecjazy8ZQ\nQBjjCRxZX3i86RJY1wx0Z5KkPhg92FSjamIiqFV0G/nhsV9R3H/0+eBPwd+7nbFQ\nbKicaPB4pCfzZJqaVFWZ6kVinKdANojRRttdPDpq5hK8gbw1rFxmcv9B/ZHIPcwz\nXNEUSKJSfqq8sn/Ha55hvMeSRreXTrcY+k0t0IDx1KnAVyYaT6s=\n=B/sP\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/02592f4c5e6d9416165deef96398ac7760f457d1",
          "sha": "02592f4c5e6d9416165deef96398ac7760f457d1",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/02592f4c5e6d9416165deef96398ac7760f457d1"
        }
      ],
      "message": "Immediately return setKeyPool's size if HD or HD_SPLIT is disabled or not supported",
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-03-24T09:28:37Z"
      },
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-01-16T07:56:37Z"
      },
      "sha": "d59531ddfc09f705c2ef3a33c41d6d910756da18"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzowMWRlODIyYzhkYmM5MmQ4MDM5ZGQxN2RlOTE5M2Q3MmViN2ZhZGQy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/01de822c8dbc92d8039dd17de9193d72eb7fadd2",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/01de822c8dbc92d8039dd17de9193d72eb7fadd2",
      "tree": {
        "sha": "588fd7bb4dd14cfc30f10ce5aea2f56fb1ad0a65",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/588fd7bb4dd14cfc30f10ce5aea2f56fb1ad0a65"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 588fd7bb4dd14cfc30f10ce5aea2f56fb1ad0a65\nparent d59531ddfc09f705c2ef3a33c41d6d910756da18\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1484553451 +0100\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1490347718 +0100\n\nRemoved redundant IsLocked() check in NewKeyPool()\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAljU5sYACgkQHrd2uwPH\nki30DA//d0j/YBTmNkeJUczwApaMXcgUtdq8zTRm75lGgvgSa2xBG32CJPtfHcAS\nIdknGksBrOl5CBO/1Ia7MuetrFvP/wy6lmqQPeTxnDOvkt1CcCYHBLKF7ALVl/Jm\n4guepmjxKB2h5BGGiasGnpDHGhziJxZHDsreiTolyKeUD5zqy5qKTcD1EgcIwZZ2\nngZV3Zf5o5MRo/GuTKhEP8NdySAeVBGXn7Pm5ENj11RkK04r+sDqif6BMUjwm5E1\nVjKaw9HQhhPSz0ZNCvH/AN3Ron5lM+g3HSyvQHGMSNq27gdO1SssPvcAGQB9i7YI\nJi9UbvAaDov7EtjmXhSfsB3Q7G3C3rH7ZxtttzgYJl6tEq7k075Tmz0+zqutz72S\nvh2mRDQkoApbXFUs4XRyBjOprcihCJutfNvGkUUi003zP8Kekq5tSZN9xbG94oMY\n17Y0h7P3+F7tHKZt0Lcb7sSm61uv14DoZPs+mN21fXTzutNCGpwC73PuHiionJao\n7XczWpnTyEVKafUQgEK6VfdAZRAAMxSfMpyCjukC3GEFYjYfr8jn/K/rljxxYnZm\no8t0WpcBNfp7Ok25KvGI8DUvH9Gg/v7625wXXv1k5TUI3H/t+FGIBMUpiADgDpJ9\nYwOcnbC2R54v6PdzHkOcs9UP02J0IdyFaRDBC+wd+OEmSjd5yts=\n=0c3K\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d59531ddfc09f705c2ef3a33c41d6d910756da18",
          "sha": "d59531ddfc09f705c2ef3a33c41d6d910756da18",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d59531ddfc09f705c2ef3a33c41d6d910756da18"
        }
      ],
      "message": "Removed redundant IsLocked() check in NewKeyPool()",
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-03-24T09:28:38Z"
      },
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-01-16T07:57:31Z"
      },
      "sha": "01de822c8dbc92d8039dd17de9193d72eb7fadd2"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzowNWE5YjQ5M2ViOTM2MDVjOGQxNDc2MzRhZWNmZDhiYzkyMDA2ODQ3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/05a9b493eb93605c8d147634aecfd8bc92006847",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/05a9b493eb93605c8d147634aecfd8bc92006847",
      "tree": {
        "sha": "fe00d2643ecbec172a87d38d37047d77486bea39",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fe00d2643ecbec172a87d38d37047d77486bea39"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree fe00d2643ecbec172a87d38d37047d77486bea39\nparent 01de822c8dbc92d8039dd17de9193d72eb7fadd2\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1484553623 +0100\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1490347718 +0100\n\nFix wrong keypool internal size in RPC getwalletinfo help\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAljU5sYACgkQHrd2uwPH\nki35Kg//WckMBYuHjqhVHnFZ9N/QL7DVWeeW6+0fOTtuCDaEwL9TFP84h4qNvq38\nm/3R3GbjfTERx1ctxCq7DHQmj8vWVPvBeB+ViZ9q8RCqvyEOOWQji0HBmV/RTZRj\n8oj0seBBQbNIDLo7FFcrNu84hEU6xqwSokq3cCnElpywcvKaBZR4U1QyYk+p1hXG\nI+yf1/3IeBzfiBShxCcYmdqYf0EB1dOFaD5L/Sr44yLtInQVDTjHQ0+qQ/X6kbWR\nR/WZVJR49h+F1QOq3i4AekEwWGgLix6p3xrBNi63XS4wWAAiDEkE8Eskx3vMJ5Is\nlKh3wsfmB8LuIKwekvAZm6gQID1jdKnDDkLTn11ab75/GHYGIxEwhbYasGATNmqY\nBjSApq/vdZkz2HDm+mCOvG3H2zgf03g7iZaHOgQzt0s9ekUiFX0y4MGdi8ysw5jE\n7Dl4bQjscJ57lKGV3MnrPrwdSmHTkEWE0VI9Ferm0o+fHAS6ofbQZUwQ3vOwVpH2\nO6mf5RKBhxbfsZ6tyxEDr+SQ+Z1Bkw/N9/Bumsd6Hpu360xpVU3yT9h98tUT9o+r\nO3cqkmwKK7TAHeNahH5MTs162TG8jCo96MTu9zpkoQRPvH0yhN+SgPzetw9IE13x\nAh1pydmh8TYO2mYYgqetq2ZYIbAQNkXSu2j7Gl1rqdrbeH/WP3Q=\n=KL7Z\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/01de822c8dbc92d8039dd17de9193d72eb7fadd2",
          "sha": "01de822c8dbc92d8039dd17de9193d72eb7fadd2",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/01de822c8dbc92d8039dd17de9193d72eb7fadd2"
        }
      ],
      "message": "Fix wrong keypool internal size in RPC getwalletinfo help",
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-03-24T09:28:38Z"
      },
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-01-16T08:00:23Z"
      },
      "sha": "05a9b493eb93605c8d147634aecfd8bc92006847"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0NjlhNDdiNzYwMWJkZGViYTA1MjQxNWVmZTk1ZDBlOGIwYTdiMDVl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/469a47b7601bddeba052415efe95d0e8b0a7b05e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/469a47b7601bddeba052415efe95d0e8b0a7b05e",
      "tree": {
        "sha": "cbf80270367f8f8909d06166e224746b3c7e7bbc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/cbf80270367f8f8909d06166e224746b3c7e7bbc"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree cbf80270367f8f8909d06166e224746b3c7e7bbc\nparent 05a9b493eb93605c8d147634aecfd8bc92006847\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1484553927 +0100\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1490347718 +0100\n\nMake sure ReserveKeyFromKeyPool only hands out internal keys if HD_SPLIT is supported\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAljU5sYACgkQHrd2uwPH\nki0WMxAAghAc5OdXo9FmN+uoK28tW9UkOwes5PlDCOXSxBbEbp/9c5SyG3clcDkx\nsYxguXG/N8xN2/I1BSgSf0McSsxBSjEtYaIJ3YcZ7L/lWplGRYI/161zvbJhm/KU\ntbyVIeXNb9//3UNnVoukTZkhhXGnixqpQpQtrGj+3HCsZg+4T/klmC1BXZhy5n7p\n4hPBs8deFCkQbg7eYOT+cNdEnTOB+rDelaYkdfZK70BfXVZuG01mC5K5ayGBtGsZ\nqnMRK3gvfc8Q1jkGVuCll1ilYT4QS7SVB8FQnltGT8pwxYV8RRI2Rx5cleByr4Vf\nLfxmPY4rfbyOmEpapvww3wEYm1AytvMJ2axti/8rqqrNrnylrGW243O9OMnebpUT\nvu32PqWxOiYatOYf+WaQch+CL/IKMXdUNsnZwqAHHN0bGbPcz+uQjk2Eq/xDrNzA\nvfLBpOVsTD3/DhumQYWvoAPSHgrNG/YP58RI0YoRy6qwDHKc+MO6RaNy9WVi/F8o\nShuRHX6UQx1PPaV783y7ollfjZLy3GLmjcKU0m6OiH5it4rIpW1C/3gPJVqzDlh1\nYCxTg/jYodrNd2qCxmJnLlWh3h0zNgyDBCG9AnNw2nzfbuMGs9wny0eDRdUSQe5k\nwJ5wJLCtOeUKV/mDyF7XR23gVeAZvN5TUkf0QsNxqEmyyvB0Vr8=\n=o1Ow\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/05a9b493eb93605c8d147634aecfd8bc92006847",
          "sha": "05a9b493eb93605c8d147634aecfd8bc92006847",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/05a9b493eb93605c8d147634aecfd8bc92006847"
        }
      ],
      "message": "Make sure ReserveKeyFromKeyPool only hands out internal keys if HD_SPLIT is supported",
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-03-24T09:28:38Z"
      },
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-01-16T08:05:27Z"
      },
      "sha": "469a47b7601bddeba052415efe95d0e8b0a7b05e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5YWY4ZjAwYTc1MzA5MzRkNGM5YzY0ZWI2YzI2NzZhYzgwYjI0YWNl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9af8f00a7530934d4c9c64eb6c2676ac80b24ace",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/9af8f00a7530934d4c9c64eb6c2676ac80b24ace",
      "tree": {
        "sha": "92a0c26f8aec2ec708ac2135afd1d430814a0c6f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/92a0c26f8aec2ec708ac2135afd1d430814a0c6f"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 92a0c26f8aec2ec708ac2135afd1d430814a0c6f\nparent 469a47b7601bddeba052415efe95d0e8b0a7b05e\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1484561280 +0100\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1490347718 +0100\n\nMake sure we hand out keypool keys if HD_SPLIT is not enabled\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAljU5sYACgkQHrd2uwPH\nki09Ww//WuLjQGUVxljbx15zlRzansBRZX9EnhdCoefdzYM3L7i5g9SRD0J+fX0D\ngq4rjCY8wWotXOy01fZkzHx28GspsXu7WK2IzyNetoZQojpisj2Q3HezcwLBNti9\n1nwHmvaSTB19WJDn55bHKE+Gb8G616xO3VhhPCKwv9jbLsOjj3JBZemTNOsT1ChV\nK7XX+k1R/HSfmdrdKqN3hQ/QihAxo63bHsz3I0JDppD5a8/WEjmz4HPu0u6eY1HS\n7jG553+auXZYz+rnU5GG5dNbhy4j4qbDCNMRkrX4QGuOoDJcCCoHmdy6Haz4hQZV\nEgY/jZ6JoEkozGfvXLakpU/x+LEroAoyzKk4FTruasYSIy4XdHcPdiYvnkukJHT3\nbxnz7SZj0RZTcR2zaa5Q89j4QpEFSvY2mLneXdG5Ok7dZsMmPXr2QcFhC5oMTDhv\n/3PtcdenjCBtFgMNZyuud+5x2OT2gIOM7tatYQGrS1mW+FrpYUGlCkHmgLmYUj7I\nBWc+SjNeu0+nluYFNeIBiUlbG/Y8EDvGmGJaR/aLT/wNTXfOidDeagM6vEVdqiRW\nChJ2lNoY/AgvcOa6lDzi9MV8lIIOWSmU3RKJKkeKA2UTj1fdNK5SHj/DBmdt7Y8P\nQVcOinxyXMBrQ/IcZQuFRPVTJelGlsVqc6Qw0uPXKSczQea/9xI=\n=TdA6\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/469a47b7601bddeba052415efe95d0e8b0a7b05e",
          "sha": "469a47b7601bddeba052415efe95d0e8b0a7b05e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/469a47b7601bddeba052415efe95d0e8b0a7b05e"
        }
      ],
      "message": "Make sure we hand out keypool keys if HD_SPLIT is not enabled",
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-03-24T09:28:38Z"
      },
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-01-16T10:08:00Z"
      },
      "sha": "9af8f00a7530934d4c9c64eb6c2676ac80b24ace"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkMGE2MjdhNTNhYThjYzVjZDE5MGY1NGM5NWI4ODhkZmY4OGE0ZDM3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d0a627a53aa8cc5cd190f54c95b888dff88a4d37",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d0a627a53aa8cc5cd190f54c95b888dff88a4d37",
      "tree": {
        "sha": "7cf29b3bec17ea60859875eb6b76c9a5fb8612ce",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7cf29b3bec17ea60859875eb6b76c9a5fb8612ce"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 7cf29b3bec17ea60859875eb6b76c9a5fb8612ce\nparent 9af8f00a7530934d4c9c64eb6c2676ac80b24ace\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1484561412 +0100\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1490347719 +0100\n\nFix issue where CDataStream->nVersion was taken a CKeyPool record version\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAljU5scACgkQHrd2uwPH\nki1B9w//dqjD8R3rYL266Alydv7ZtMhNt9ZdQgArR+S8hHNaSEoqO9xGLipIprAA\ngyr+fV+42AXKrrP8xMX7J6SOKK75tQgEE0h0AufWk6IcK7nBSFJBPm5+Xb1gMjtF\nkVUCypbZsQluCdm5KNqfaRj9XeRhuJ9hOmiXxzU3XSm997fDPF7gXpsoE/wEfgwI\nL3DjcoBEOykkF/46XrBpIPDaM+9qHKBNd4h3i2D6SlT+9ASZozrGwfHOKpAwmnuL\n2yv1522ueG/GTNHYHySyP7UeeaGR+6IYdI+ynDlEkfvt9DA7FxZryqFyEJCSF10A\n3ve9MGqmW+R++VdszwaccIvzuzgvLRvTE8VmDMsL/vU6mozx1kXu3nrfger32PWP\nhlyumkHNXemSBtwE1Qz6OWfQBsnKLBLtfdqlbVdR5lbCYZpXHupfuNIEy88/JQvg\nSkaXOt/UXVlxw+KhaFo8IUUOY9gS6o0lMqVwtR0R/I087J8UtPh/u/rEzA3RgK0Z\nTtlUaW/GDt4TYKZGFQU1ezH99L/CB0nzP5WzAisqICI/Q3TGA5w9Fg5XAeW6NjQ8\nKsmfKOn398C8I/s+MTmM9Y6mFCYLvF4qgUP3sPeJHWwGMSJ4l6CcV4wNhPyKx47C\nzKsszwEXxTSfZ1Vz4mxcOl3yolU9fTQkKeWMY88NFvVfBHXVy5s=\n=liPY\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9af8f00a7530934d4c9c64eb6c2676ac80b24ace",
          "sha": "9af8f00a7530934d4c9c64eb6c2676ac80b24ace",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/9af8f00a7530934d4c9c64eb6c2676ac80b24ace"
        }
      ],
      "message": "Fix issue where CDataStream->nVersion was taken a CKeyPool record version",
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-03-24T09:28:39Z"
      },
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-01-16T10:10:12Z"
      },
      "sha": "d0a627a53aa8cc5cd190f54c95b888dff88a4d37"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiY2FmY2ExMDc3Y2Y3ODliYTc5ZDE2NTAxYThjYmI1ZDY5MmJmOGU2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bcafca1077cf789ba79d16501a8cbb5d692bf8e6",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/bcafca1077cf789ba79d16501a8cbb5d692bf8e6",
      "tree": {
        "sha": "e138e694f49d7a8f57fe3b78ae6f95c29b86f1e1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e138e694f49d7a8f57fe3b78ae6f95c29b86f1e1"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree e138e694f49d7a8f57fe3b78ae6f95c29b86f1e1\nparent d0a627a53aa8cc5cd190f54c95b888dff88a4d37\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1484562150 +0100\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1490347719 +0100\n\nMake sure we always generate one keypool key at minimum\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAljU5scACgkQHrd2uwPH\nki2KtRAAwBdb+yktSv9Ncm8GbGoJfGfgee56aUBz/26bBqbAKBREXHxHOj9D656Z\nPnGyXb0JUCnSjChZ7yzQb9q+06Gu18bw35i0+IU6A0RDtGrAsoa7solcm6kYy90L\niZAfHLylAAlKy1T7+y41IY+869kUyp1kakUbrOKcDhuRtJZu6TSI2yVoAnF6nszr\nP+tJFKW/xMYKlgKCBg2jFnf9IHNVK6iOEAOCkkzw7hOiswqYaZtKHH3r0jkAWtPd\nsqUZ2NRl7QIGDSkPX5ZnQ4jo0mk3MmvHD6oICbmztvL89iZrfDqgupH/4AqkIu4R\nqWodMxHaPWp74IpQqafu6ADngB4dRaCkhaUSg67EeSC8dqRJcjVZanrIGcH67EXQ\nu67OcRLXZfaOgCF+WnPi52rU2O+TrgMOThRbxHA6Up8INMlT5asSgIDpeqMmAlRm\ndxLGDOmqU44uWEZphgQN3pOK99v0VWnBRkSM37cZW6jFS1k1hQwBWFAbF35OR8Kj\nlARlT+TYmBoPOgK8TwcKU+PdCGDRJTjb7XbTO3tKGKKywP0Yb/WjmNsPbEcjqZaH\niVBgw8VZqNADnEpDD2WiBKrubZsHnKEb2SB93nwGQZ/T/wdHq2YzNPodKQwOWNgd\n3JAj/c2zXPlCxGz6XUIytU5UJcn7MKZwjFIaI0yyZAL7mQUGPPE=\n=hW1P\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d0a627a53aa8cc5cd190f54c95b888dff88a4d37",
          "sha": "d0a627a53aa8cc5cd190f54c95b888dff88a4d37",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d0a627a53aa8cc5cd190f54c95b888dff88a4d37"
        }
      ],
      "message": "Make sure we always generate one keypool key at minimum",
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-03-24T09:28:39Z"
      },
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-01-16T10:22:30Z"
      },
      "sha": "bcafca1077cf789ba79d16501a8cbb5d692bf8e6"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3OWRmOWRmMzQ4MmQ3MTM5MWRlZTFkZDU5MDU0YWVkOGY3YmJmYTZi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/79df9df3482d71391dee1dd59054aed8f7bbfa6b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/79df9df3482d71391dee1dd59054aed8f7bbfa6b",
      "tree": {
        "sha": "6fcfc3d7002941d921faf4ee5c4c0440e1fcce46",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6fcfc3d7002941d921faf4ee5c4c0440e1fcce46"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 6fcfc3d7002941d921faf4ee5c4c0440e1fcce46\nparent bcafca1077cf789ba79d16501a8cbb5d692bf8e6\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1484639730 +0100\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1490347719 +0100\n\nSwitch to 100% for the HD internal keypool size\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAljU5scACgkQHrd2uwPH\nki2MIA/+KV0+Fv/YVN/lvEO0Onh/ZwmotX5xob+Ouye67X4A9MmyeyanyMeKa8JI\nVbY/K668JS0jGoRrlFoCZuCSvOfr2OyyoR3fPWVzH/92Sjsk3BXRnNROaYJYWRbi\nR63I3rCtkDAVDHPVqaO3Yl9kk2EBwDF5tDT+40pqVdfAKl5yhkrEc66aleKMK5WJ\nVfvdOF3+RtfyuVMljMo/l9Mc40MTOgNQ1cQzojGgbfH4HkTrUzA6U9cy1ALVk7db\nuvP8xmSFSZtbtdcZD0CSoQeX3/bRTuaG+hJw+uMJWoKYEHQ6b6bd2uxqqM+B9bbm\n7d7jq0C/JMe5rzNG90Js3IoN7xFKrdAUV85BAMOahBNJsCzplcD5G8CM+sjg7vop\nZpeV/YzqR2ezPHST1Hah3qcFmAE342x2IbVDdtHSWNZzONbb+o7tovE/+0nLhiDw\nN4kTY5AoS/zxuJv2yVCwU1jfpeiXs0Qut7CoDQEhF4OWRDKRqU7FDAwY7Tp0XgDQ\ntMrDMEZeIdIvLb2LimIvV4A7nbYTXQOkm5SbN+KbNN7C5LWdfh0pK3aCHtJw1f8L\nphFwsFoBPkKO5oZieCyM+y7J11jAz70tIpk6bLK0Ncli4tqABeBVAu+lXfFOTjjG\nEAKcbhAlsegTl4wu7uFAPwPuHyYsQoVKonO3F9sVcIW9bK7E8cs=\n=21jI\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bcafca1077cf789ba79d16501a8cbb5d692bf8e6",
          "sha": "bcafca1077cf789ba79d16501a8cbb5d692bf8e6",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/bcafca1077cf789ba79d16501a8cbb5d692bf8e6"
        }
      ],
      "message": "Switch to 100% for the HD internal keypool size",
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-03-24T09:28:39Z"
      },
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-01-17T07:55:30Z"
      },
      "sha": "79df9df3482d71391dee1dd59054aed8f7bbfa6b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkZDUyNmMyYTJkMmYwZjc0MjcwNDc4OTFhNWU5NGI0ZTZjMThiMTkw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dd526c2a2d2f0f7427047891a5e94b4e6c18b190",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/dd526c2a2d2f0f7427047891a5e94b4e6c18b190",
      "tree": {
        "sha": "5571a574d24bbd2e2313b90e139ce4072065bf02",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5571a574d24bbd2e2313b90e139ce4072065bf02"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 5571a574d24bbd2e2313b90e139ce4072065bf02\nparent 79df9df3482d71391dee1dd59054aed8f7bbfa6b\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1484640468 +0100\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1490347719 +0100\n\nDon't switch to HD-chain-split during wallet encryption of non HD-chain-split wallets\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAljU5scACgkQHrd2uwPH\nki2MXg/8C1oG8TDwvEVBM4cb3/151WOILppYeZ4W+eAp0Xt1a57qkVndWxPPpYbC\nYtojKvu1rHQ5sHKLi1vRXpw+XzvJ70uS85PwcjV8aw3RjiyXx7vvQdkBcWI4i1Tw\nXmkIGFrGR/FM9BExn2T/pG9ETUENm9y5wWWEnzQmT+tyfY2kMBUhdKH8uECKYGre\n4/qplOJU0yZhh9fIwnEJOHjGlDDNTslyjsiF3iTFwkaLP0UEr5EtvN/jAvzGt5KZ\nysRBHqiWzHpUyWhf4wXKFuypNrKLWWkFktsu69imD4uTCe6pQ40in/7RJkV4U7Vf\nZHKxolesdJI6kB7oyyAI3MaG0LRc6kXWZLsx5j1AWWr9lvSNvaJhZXm/RCXxnsjy\nlbT2sE0vRDnbVbtCZ8KoVKffzwuN2Ug0wMOaMAJaIo1RoLhDAiW6Gwib5ixuw5aa\nWCoo7q7U2sY6l6x9amDMJWFyAYeUlKZ0rMq1vzXusPeTKpJQBmIINX1TTlpFiF6w\ncieHkcuF02b4UW3xB28RGHNgDyDIWx7hG5SeqoffiByZXkNXP+c0sUyx9Z2c/yb0\ng6uck2cZHaI8+ia7avIehww5Hd8ppdJv+NdWoc6QLk89g/lOgBgDndE4Ims+7mKb\nouq8bYVcCOC5ORAq85LUs/CIhdxxRRDpoETLVoI6ZjacwCZoHyE=\n=iwqQ\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/79df9df3482d71391dee1dd59054aed8f7bbfa6b",
          "sha": "79df9df3482d71391dee1dd59054aed8f7bbfa6b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/79df9df3482d71391dee1dd59054aed8f7bbfa6b"
        }
      ],
      "message": "Don't switch to HD-chain-split during wallet encryption of non HD-chain-split wallets",
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-03-24T09:28:39Z"
      },
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-01-17T08:07:48Z"
      },
      "sha": "dd526c2a2d2f0f7427047891a5e94b4e6c18b190"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzphZGQzOGQ5YjgzZmU1NzBhMTZjY2RhOGUzYzI2NDJjYjNiMGIxZjJm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/add38d9b83fe570a16ccda8e3c2642cb3b0b1f2f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/add38d9b83fe570a16ccda8e3c2642cb3b0b1f2f",
      "tree": {
        "sha": "59949eeb48f6e7361bf74ecf17aeb4c7fb1196d8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/59949eeb48f6e7361bf74ecf17aeb4c7fb1196d8"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 59949eeb48f6e7361bf74ecf17aeb4c7fb1196d8\nparent dd526c2a2d2f0f7427047891a5e94b4e6c18b190\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1484642592 +0100\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1490347719 +0100\n\nGetOldestKeyPoolTime: if HD & HD Chain Split is enabled, response max(oldest-internal-key, oldest-external-key)\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAljU5scACgkQHrd2uwPH\nki3FUA/7BmKoIUnxfUbjBIlckQ3TBivtgRVhn283hjVwdEhJPKFXjLMQNPsL1B0x\nJEYj8WonZOuOWPEuKcjZRcqoD/ErcTvlOenKSeMXV7TWeJxqs8t0nGlF7Hwx2var\naHXK1NmxsJlSvkPIIdlgOFTX0FIrcA6Ticxp6HkK/31CNGG6VSm8hvATa5FoBQG7\ny8ZobwbsPA3b4qKzRO3tSyrpx69R6KTt61qA3fVrkIwR4X4jpIjEUnr/F5KA8IDX\ncuvphENY+TuhGq/ojmz4ilUiiWlHaBoh07IsimuZh7ZEQA4xcBDqNvUkq3NIS4Tn\nNVNtDSejwMBoRpepx7u84ak0pTKHGzrCH+mr8s7A/vqap550lVkG37HRsZrnVCR5\nUXe3QY6hxTuRBPWHYWXiL6ZgyOnp94Wjxe3/NnpZrQ7FZNeRtPKckPynj1bWxJzS\njxfhOsFZRhcu7aDb1EIPZIQeju+t7FxoNJ1seRRl8Y08IhOIIFImF0TUEAIe1HQE\nmoCJvHImE0OqX0b4bVRVSPwBbWr3RMIphrC+sHMfQwkebu2j4QKrtyXVi+jabX8m\nHyDDKbBzSIY4M1jXIeDuBww1fnFHOiofu0+VA5HNAUYfuBWoZChkyne0RLVIw34O\nugu/cfLqx902mNAgOYV9w54XANTiIsXdpydap2gedspwWhP0RU4=\n=M4ES\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dd526c2a2d2f0f7427047891a5e94b4e6c18b190",
          "sha": "dd526c2a2d2f0f7427047891a5e94b4e6c18b190",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/dd526c2a2d2f0f7427047891a5e94b4e6c18b190"
        }
      ],
      "message": "GetOldestKeyPoolTime: if HD & HD Chain Split is enabled, response max(oldest-internal-key, oldest-external-key)",
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-03-24T09:28:39Z"
      },
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-01-17T08:43:12Z"
      },
      "sha": "add38d9b83fe570a16ccda8e3c2642cb3b0b1f2f"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzplMTM4ODc2ZjBhYmM2ZTEzYTgyNDBmOTllNDE0MzcxMmZjMDJlYzky",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e138876f0abc6e13a8240f99e4143712fc02ec92",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e138876f0abc6e13a8240f99e4143712fc02ec92",
      "tree": {
        "sha": "8c4bb17afe78512b7fd399a33f50e5324d6c6f0e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8c4bb17afe78512b7fd399a33f50e5324d6c6f0e"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 8c4bb17afe78512b7fd399a33f50e5324d6c6f0e\nparent add38d9b83fe570a16ccda8e3c2642cb3b0b1f2f\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1484664611 +0100\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1490347720 +0100\n\nOnly show keypoolsize_hd_internal if HD split is enabled\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAljU5sgACgkQHrd2uwPH\nki18Fg//WI1CxI93T5rD9SOKkX9fljNxCuoIVX5m4I16eK8nQgSniUGSEVbGCbzi\ndbeUkAVbnffWsoYsuHGsdd9uAmhBFGDNcLv5JPQI7+WRNjLqvfkCz4LdDWywZMpt\nShoVW/ulNrpxvQc/bejlaoZpWkgp5+preg50lyjFrUmrGHmAiVHJWjYF+QMJ0d1o\nqXcbpewTXURQa90m2OQdx4Yb2h8cPD+9ymAzKLubF0Glie94dMQH4P87UCAIPmeL\n7mEq5W7Xgkx/FDXqnWINqc7By75lwMFJJZlpxrqP2aWcoPf0dmuQ4YaqYlnt3hMj\nKj5d5UqMzdYWPVxitkWpyxnjJ+Pobz51+SJHewryhutut2HkAZERKFRyPiN57dmk\n3FpC64xK5r7wYWGchBHU4jxPg6VjydJCdPc7OXTlFgGOmkuKaUwyW9vOez/Ybg3i\nfxEIoEP629+QbP/AOQfAK9ZgYLQfMSb0FSpJmtdyh5iPf/OS1XD15eTaV8AUY4ID\nXOnSEn65gFCSe5UdzOt2//wWhkI/dkRyRPclQj+gZpTvn9OEpxcfl9Fvg+tzS/CU\nsuSeA+51bNXyyShNatj/Iz9B0rsjk++zzRHAV8ng7cn6417shX+QbfeI/xha0Hva\n+TSdRpPsZ4r36Nds3fpeEZ2nfQTCP+3iJ6zVjJLH5q+TgjQV1SQ=\n=Sxq/\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/add38d9b83fe570a16ccda8e3c2642cb3b0b1f2f",
          "sha": "add38d9b83fe570a16ccda8e3c2642cb3b0b1f2f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/add38d9b83fe570a16ccda8e3c2642cb3b0b1f2f"
        }
      ],
      "message": "Only show keypoolsize_hd_internal if HD split is enabled",
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-03-24T09:28:40Z"
      },
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-01-17T14:50:11Z"
      },
      "sha": "e138876f0abc6e13a8240f99e4143712fc02ec92"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1OGUxNDgzMzNlYjRiN2FkODcxNTRhOGI0ZDQ1ZmYwZWJjM2M5NTkx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/58e148333eb4b7ad87154a8b4d45ff0ebc3c9591",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/58e148333eb4b7ad87154a8b4d45ff0ebc3c9591",
      "tree": {
        "sha": "63d3bea9098140514981d5ddc1bae459de942575",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/63d3bea9098140514981d5ddc1bae459de942575"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 63d3bea9098140514981d5ddc1bae459de942575\nparent e138876f0abc6e13a8240f99e4143712fc02ec92\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1484665456 +0100\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1490347720 +0100\n\nCKeyPool avoid \"catch (...)\" in SerializationOp\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAljU5sgACgkQHrd2uwPH\nki0vuw/9EQcAmYpl2w8X/MMN5tiHR3vobgeBr+MG6+HCVcE7DVmXOb9OfQfdYqbS\nqgWtzfeXVjOHrn4pP6ZRXVtgJj3ee71mDzZp0Vxbj/R79weLXG4Pxlw9E0FyGPR/\nbQidDDYB2+Bw7/+AOW06dzR2yRrE2QJpu0rYO6pvFGWrHgSDOM64wbR40RjugqSL\nd8GVEBKYgLOHNzo9yobXToofLT6SBfUYuhotqG0V6lytYT/PLIcwKds/Iqu5STdy\n2o1m5dbe02qbYRoJCrxEshMoudLqtXd30JUmhBUm6Cntvxl1A98It32u54+zY9UI\naVDZQipwuiLWeIo5bCL38fFSeHyRnHkIz9goLXAlNB0xoX0KC5xyDFk4EKCZ1NwL\nsjCdxlyD4szax6Mlt/82EnGwHmsX4/MaeAyURA93v2Ip+oUS+5p8/0PIWFzxNkeN\naGDFpqXZwK7lyMdHFsTmTGCK0FUoYEigkHrwvhz/xG89vqmXfEE+IM5+kGGnjdoN\nHo3RtiK5REq7NhWnupuafl+gotLRxmPwJFtPsOh+H0sXWrVnROrm3rXaZobFuAtx\nD9kaqgnm/oGHA22tWVsAu1xA5HR1lNwjlMAf13dGyeOeVoPlVZ/3qSzsaU19K6Ll\nASznGStXTOzHR1UccpCXGaoTHUkH3rlp5A+/eVSduoKSdqkKL9E=\n=lXUO\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e138876f0abc6e13a8240f99e4143712fc02ec92",
          "sha": "e138876f0abc6e13a8240f99e4143712fc02ec92",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/e138876f0abc6e13a8240f99e4143712fc02ec92"
        }
      ],
      "message": "CKeyPool avoid \"catch (...)\" in SerializationOp",
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-03-24T09:28:40Z"
      },
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-01-17T15:04:16Z"
      },
      "sha": "58e148333eb4b7ad87154a8b4d45ff0ebc3c9591"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzoxMDkwNTAyYzNlOTBmM2YyNGZkYzZjMWU3NGY2MmQ3NjY5Njk3YjMx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1090502c3e90f3f24fdc6c1e74f62d7669697b31",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/1090502c3e90f3f24fdc6c1e74f62d7669697b31",
      "tree": {
        "sha": "a07502ec24d9c5451056ffb2c628850e7ee0d3c9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a07502ec24d9c5451056ffb2c628850e7ee0d3c9"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree a07502ec24d9c5451056ffb2c628850e7ee0d3c9\nparent 58e148333eb4b7ad87154a8b4d45ff0ebc3c9591\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1485460377 +0100\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1490347720 +0100\n\nFix superfluous cast and code style nits in RPC wallet-hd.py test\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAljU5sgACgkQHrd2uwPH\nki0sihAAjm7mm7+I3MuUk0CPOc/Xo7dn3XXTgopGAQQFgdjLdOq2EJuBh3RyLyNK\ngJJ+ES/4ASggcVr5xkVkgP0KmxFgoiRLiOn9onrDpASR6OpDwV1zRqVVdm2+Q+js\nIdtnGwtKzmnCatcPcA2yBpHikQPy0NHAgu41ErmCW3G6EGT9g+VQfNzQ3Pj6YGYW\nJPEps6w6hBQaDUY3zd89bihSaKH6b3hui180WEM0EJHMJ0SiD9rbNukD/ceiMCQi\ny3tcQsXpvJE1v3EkeIokm9BZ5PiecoN6xSphx+/Ezp+cpyHPg4uWWxEJH6e2GJ8V\nWpL68tsCdT5KiBr6laa9g0pLI16C1xixqAhgKyZ0ScsYl+XoTcbl4EM0mSduNHZx\ntBN3fwKHK50+hmptXqQzjYVp19te3KwcEDiV8OonWMc27ovyPE6QnBV9/hwT56Vw\np0xUcS8sgf/JFModgQ7VAbuX50CIQIw3QWHFXMj7inWtRNAgv7CkLZSK4gMwL2Nz\nbCx4yWJldMiwEe0gI7x9C3n/ebZdmCOEOvmDT8XarCCv3FpzOEjXXu28qxricnGn\niiQV8hPzaXGg6nPS/mlgNm10XKiGkHiHCdgRwqLKV+NaVh/mhH050w6PV2wihvtU\n13A3nihj55oN/0gBIJ7ouTdrwKD8yqZliovv4SlQywdUEBwsz0w=\n=8b3w\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/58e148333eb4b7ad87154a8b4d45ff0ebc3c9591",
          "sha": "58e148333eb4b7ad87154a8b4d45ff0ebc3c9591",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/58e148333eb4b7ad87154a8b4d45ff0ebc3c9591"
        }
      ],
      "message": "Fix superfluous cast and code style nits in RPC wallet-hd.py test",
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-03-24T09:28:40Z"
      },
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-01-26T19:52:57Z"
      },
      "sha": "1090502c3e90f3f24fdc6c1e74f62d7669697b31"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkOTYzOGU1YWE0NmNkN2U1ZmNlNDM5MmY1MzMzYmJjNTU2MDE0MTYw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d9638e5aa46cd7e5fce4392f5333bbc556014160",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d9638e5aa46cd7e5fce4392f5333bbc556014160",
      "tree": {
        "sha": "2952a1e62e6e7a5fed5ab2b7454565c652c9e192",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2952a1e62e6e7a5fed5ab2b7454565c652c9e192"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 2952a1e62e6e7a5fed5ab2b7454565c652c9e192\nparent 1090502c3e90f3f24fdc6c1e74f62d7669697b31\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1485460975 +0100\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1490347720 +0100\n\nOverhaul the internal/external key derive switch\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAljU5sgACgkQHrd2uwPH\nki2Rzg/9FjIsIkolQgn8wygTMGZqRUqQ8h1+yBX/2Cb9prlFOTJg3FT8V+ujZC5A\n5OCi9cSj7j2+niyztsk6MQadsl9gyaWRrvVHvT7LwXC9TzwhVJONEYC8WjCcvY4z\nYoXwDpsD8tdewwrsy+48xYhKawk0jnr+QgFe+sVN4joTmMvdyIheELtY8mrtgl7t\nC7fLOmS3tN8QC+KRYwkFIMI64JGCBPU1tM5BJg3XAGrTFgZvVeJkaeS+6fXXjXDG\nhyWpaaIr4eSWgCF+hRfGDGxKOjp2eLv7AKaYwqlVJ8keXRhkDEC0F6OxCenqt1Hx\nKxoVn8p0O15bQTu8gYXaK+XGRJ2Wo+GQf0+TaIA5aXfiAvnCQrJcwAw7XVlEL2Z7\n5vom1MDQhd5lSeN9J2QkMiVFN33dqkrsvPivExmMRRDrBxL5HPe73eTxaKHn6uAd\nUJO/TiJtaeMEyWJRChhMZEKfekBwi06DZglM2foOgbjA54iov/XMIAjq5j/I2X+R\nlnaALmgpCeopVMvHv299gzg06AMloBzpTQkijaITsYRyavzEXO8GCr6gvy6f3VSJ\nfdPVXnsX9PNOyaTuoPEz83GjbFqyonykydF3+NQSKHo/1cyv+HQef11Hl+NXNvwa\n0Jl6HhcXWJCbnxYq1ZuphcG3SCJw0lVP1njnSu1mbRnqMfM94Ic=\n=B/kY\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1090502c3e90f3f24fdc6c1e74f62d7669697b31",
          "sha": "1090502c3e90f3f24fdc6c1e74f62d7669697b31",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/1090502c3e90f3f24fdc6c1e74f62d7669697b31"
        }
      ],
      "message": "Overhaul the internal/external key derive switch",
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-03-24T09:28:40Z"
      },
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-01-26T20:02:55Z"
      },
      "sha": "d9638e5aa46cd7e5fce4392f5333bbc556014160"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzowMDNlMTk3NDk4NmQ2MmZhN2M4MTEyMDA5ZDZmYTFlZTU4NzE1NTBl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/003e1974986d62fa7c8112009d6fa1ee5871550e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/003e1974986d62fa7c8112009d6fa1ee5871550e",
      "tree": {
        "sha": "24cb1f2f4bb1bd13b54bcca4536058c09917edfa",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/24cb1f2f4bb1bd13b54bcca4536058c09917edfa"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 24cb1f2f4bb1bd13b54bcca4536058c09917edfa\nparent d9638e5aa46cd7e5fce4392f5333bbc556014160\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1485461045 +0100\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1490347720 +0100\n\nRemove FEATURE_HD_SPLIT bump TODO\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAljU5sgACgkQHrd2uwPH\nki2eTQ/+MvaB1bBSb57KqC4jOZ8IKjEhAqmb10JqtvIMGnss0yQTFKkc1oFmhSIC\nnQ0ERjXr8qaw2NyXh9l7UFMGK4WXAGLxwdwNiaUtUM6pIb8E1NMCJo/xkRCEL+nz\nBkOjdayPRIHJ2nWQY1BIMgWcJ1RdaCBFWadK2ccYf2pWUdMp+F5q8EEfN4vJO5vz\na4T1mrDYGI/5zALHXl0NPQr0o3eWcr43ZD5AwzPmzTb7bUzuLJuPTP/TQ1P8qmbD\n58829QhvVlmeOcdWGkj6gVcdxiBNCdlgUmZhgJc9ippbLrVfcV0m4Lp6UBmkrhv8\nhA39qN946A+0L11tf8s2DaUo4a6aXhblN4HpAC253sYJGiEoiN0oOamVgsiOUC3B\nmtiCDZNQLsZSRFqBjCi4EV5ipxfWOC9pVfTDrW52havOgHwx4R+Fi1Iywvw4rGMs\nWWiU8Q/uTnvTeyBTYxObGPLBDBQ6QUiHqKt8RCa/zun6POdn9BzrpcMdjrAnPyJ7\na8f2+J5haccaYOE6DSq7MbF/usXdOPagsAeOjYyO1u+CHWkvEtgHVggx1sBochhH\neSOWJfX+hDSM3AhF9px0djY/8zAZy8vSL//fm3T4fZ9yHzOyrfX601uEJazHtB6f\nM9rphQ8EQJvwpmcBpsWRABqxJzcc4EESftmeRcEia8EtT1JulGM=\n=YOAy\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d9638e5aa46cd7e5fce4392f5333bbc556014160",
          "sha": "d9638e5aa46cd7e5fce4392f5333bbc556014160",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d9638e5aa46cd7e5fce4392f5333bbc556014160"
        }
      ],
      "message": "Remove FEATURE_HD_SPLIT bump TODO",
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-03-24T09:28:40Z"
      },
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-01-26T20:04:05Z"
      },
      "sha": "003e1974986d62fa7c8112009d6fa1ee5871550e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzoxYjNiNWM2ZjhmYTZhZmY5MzkzNTMxOTg4OGJmMGNmZDI0MjM1OWRk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1b3b5c6f8fa6aff93935319888bf0cfd242359dd",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/1b3b5c6f8fa6aff93935319888bf0cfd242359dd",
      "tree": {
        "sha": "a1ee725f13afa10baaad7ddd99873786235e67e7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a1ee725f13afa10baaad7ddd99873786235e67e7"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree a1ee725f13afa10baaad7ddd99873786235e67e7\nparent 003e1974986d62fa7c8112009d6fa1ee5871550e\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1485936733 +0100\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1490347721 +0100\n\nSlightly modify fundrawtransaction.py test (change getnewaddress() into getrawchangeaddress())\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAljU5skACgkQHrd2uwPH\nki08Nw/+POwFZVCyQ82L1BrGTWEvC63iJ8qWAv40DYTSM4pfM6lTASFFKUIF23R9\nfUG+/QFoDRY4I6APWtjhxKaE0Ckfu02myhdiW2DT67ULx05YH8AjtPdb6gNSuFZv\nufYfNskr4zCQmEealxvdfnJNHOoU3o34aNTRTBQLCkpDqp/iKNXAPtuQqFiGTFzW\nb5SLznTWwpEEVwPSnMppBCmjXTpjqeA8M87zb3aZpXw3sBJilZ7qe3agoSmPOQz+\njXSx78E3ne+0xQIynz19N6tyH5DAGYmp3OIzT8EiO7tPGpuLEOduOnS2kKeYhXlm\nK9DuZEy5FZjrZ7B/4PHK34YZhugwg2fGzeSW6fWUT3iFRw09TKnGMKAMrU+T/SRw\nD7DI5t3QZzXLYwBxiYiFENQe7V0nnhzlXciSHddi5/zGDYRUZZXcxqzw4I9CgIAp\nT5mttonDO8M/PLzVUAEMrvINhRp1HjDDcq7DQQYra77PbW3nbrSvHUv1dfJNoO0Y\n+Y+5CFLWLufxZJmUB183FNxMrhkPG3fn4W1VQUyhiRgS3h5zk0lNDuI4BcZGwTzt\n6L80slhMmZCs6rVwLx8tG5hj5rIknJmdB3Ud2vSR8wZAm8Aa/C8587gWrjiiPAkR\neYg6NfVGjCBVnSQ6TtAHyxiEtXcyvChGVkZxgRge/OUjmzJpVIE=\n=z6UD\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/003e1974986d62fa7c8112009d6fa1ee5871550e",
          "sha": "003e1974986d62fa7c8112009d6fa1ee5871550e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/003e1974986d62fa7c8112009d6fa1ee5871550e"
        }
      ],
      "message": "Slightly modify fundrawtransaction.py test (change getnewaddress() into getrawchangeaddress())",
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-03-24T09:28:41Z"
      },
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-02-01T08:12:13Z"
      },
      "sha": "1b3b5c6f8fa6aff93935319888bf0cfd242359dd"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1013941466,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTAxMzk0MTQ2Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1013941466",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-24T09:29:22Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3NzFhMzA0ZmZlM2MwNzRhOGNhMWNkZmI4M2QwODM3OWE1NTE2ZTg4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/771a304ffe3c074a8ca1cdfb83d08379a5516e88",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/771a304ffe3c074a8ca1cdfb83d08379a5516e88",
      "tree": {
        "sha": "daf37632d79eb10336987f4a110c2a0cfea3f99d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/daf37632d79eb10336987f4a110c2a0cfea3f99d"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree daf37632d79eb10336987f4a110c2a0cfea3f99d\nparent 1b3b5c6f8fa6aff93935319888bf0cfd242359dd\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1490349215 +0100\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1490349215 +0100\n\nMake sure we set the wallets min version to FEATURE_HD_SPLIT at the very first point\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAljU7NcACgkQHrd2uwPH\nki0k4w//Rc5B4m5wDIFTwdDSwFSrsiEyX2qYVGmJybBl/05K+VZHKxm0cdgAy06j\nkdsFs1MUsBy2IJlMk74wgWK/s/4hw4xN2YCzzb5QSQyqXM6dz09wLh2crowETYk7\nnzkhsP3zyHVI6Fw8PPZssPU5Cv6kdSFxUufc380CcJDcYVctyBu8x9G0eeohc3VW\nBgsGYUVqe+YHHmuJ9hz2xipYDPw5wQfTiRSsbYRNM7pv2MfaJKQ4t/BmWTZQdIrR\ncHms3vspOcj0Ih/83ogAFvzbiiZzc67ES+Zsh7loLhAa+Eu74M+T33bv5yDQj6rG\nTSKvvQJ4h/oz9JAMw+TZIS9G9YJEJ/Sb+oKBfmdJQM4aWwRpO9ijc4qoFMMh0sQw\n41xmQReki9aHnMsjfT/Qm4xAJjwe1uTzZAUFFppYPyGSgyPjVBo8iEfmvjDqdSKj\nGf/Go8XaY/0mOo8TE5rle7hSPe5EXvh3cX845NwK9C7uTjK/WdDk75eRrY5cwGMQ\nPEAJ2aIGZ4wxEvWiqhc21zeexcwSPY4ah9AcUUKIU/kx8I5WEwTGkhb5rqRbtiB4\nCFo3HyBnphhnvGdHDvX/lU8Xr8Z/PgzOwfTtQIEQWFn/fohqd8oIv42E/Ad7QR9B\nKR/r6wrxiqdd70i9Q/Z7VfK7hq4SQ1yOWkDIoxHiaV39MljOFcI=\n=V6sf\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1b3b5c6f8fa6aff93935319888bf0cfd242359dd",
          "sha": "1b3b5c6f8fa6aff93935319888bf0cfd242359dd",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/1b3b5c6f8fa6aff93935319888bf0cfd242359dd"
        }
      ],
      "message": "Make sure we set the wallets min version to FEATURE_HD_SPLIT at the very first point",
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-03-24T09:53:35Z"
      },
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-03-24T09:53:35Z"
      },
      "sha": "771a304ffe3c074a8ca1cdfb83d08379a5516e88"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzplZDc5ZTRmNDk3YTlhNzc0N2IwMDZhNWNiMDRkNDE3M2E2YmJjMWM1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ed79e4f497a9a7747b006a5cb04d4173a6bbc1c5",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ed79e4f497a9a7747b006a5cb04d4173a6bbc1c5",
      "tree": {
        "sha": "179b5e801c450299e6c71dfed01f80973da74c99",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/179b5e801c450299e6c71dfed01f80973da74c99"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 179b5e801c450299e6c71dfed01f80973da74c99\nparent 771a304ffe3c074a8ca1cdfb83d08379a5516e88\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1490349288 +0100\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1490349288 +0100\n\nOptimize GetOldestKeyPoolTime(), return as soon as we have both oldest keys\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAljU7X4ACgkQHrd2uwPH\nki3aIg//WNnM5XK5V0QnP0lXvAkccbFywGsOVLz6TCEJXUdJK6Xtie/bNkS7WmSE\npFpG1artt1P1qRNyarxIwRntn0TCjlYpac4oS7hYIY9vt+H/Kih9m30THYQuxyCU\nNg0ApiL6/Yc1274uLkz7L8CVcljker2gA5Y+WHJRl7P1TLAiaiP0Xjg+ySaKIJF/\ndMmrJ6I8QSTEpNcbnGQax8YwogYJr20UlHlm3QIY3sN94AbgrKEWYsp5R+owvohC\nen2DN1XwjV3UVmsQNGl3VovoQ+/znMBdiWDb/Jy6C4/9OKN6b/mhvNI/bW2Vvmq6\naFvjdpSiq2glPcveKH7A/0+SNjnPolawYlYV26iLRv8e6xD3SnfzZT64gruoExt/\nBD0OGo6UzxkmfAwP/5GVSBQ2xEo3eLHLObM9shRL4eLifpeAGKJ38o2v+KETDzmd\n/vzfmAA3b2HcqarxJKgOke5USum7PFwut5Z7BFFcW/+bUKjG9MABOQnWGaNJ1rSJ\n2IF2wG/f/TOr5KXkrxKjAnXPlcjRly/qFl9SPf0Gx+xVP+qOYRLm68pEtLAW1zz2\nDN17oBVViBO4VMF7erjJlv+ybxgVTkkYdtt60VJFk3hgydcYrO/6crJ7w4iiHiPr\nm2uvJB1H6FJ6fODkblbImWR7A24hjkF2LLuNJToVRQ1a6PaqEQk=\n=kZ8W\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/771a304ffe3c074a8ca1cdfb83d08379a5516e88",
          "sha": "771a304ffe3c074a8ca1cdfb83d08379a5516e88",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/771a304ffe3c074a8ca1cdfb83d08379a5516e88"
        }
      ],
      "message": "Optimize GetOldestKeyPoolTime(), return as soon as we have both oldest keys",
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-03-24T09:54:48Z"
      },
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-03-24T09:54:48Z"
      },
      "sha": "ed79e4f497a9a7747b006a5cb04d4173a6bbc1c5"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjZDQ2OGQwN2Q1ZGMzYmM5NTNmM2ZhMDc3ODRhYTg0MmVjZmQ2Yjlm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cd468d07d5dc3bc953f3fa07784aa842ecfd6b9f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/cd468d07d5dc3bc953f3fa07784aa842ecfd6b9f",
      "tree": {
        "sha": "f6ccb868f98771d60ff67faa9105176d86924c8e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f6ccb868f98771d60ff67faa9105176d86924c8e"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree f6ccb868f98771d60ff67faa9105176d86924c8e\nparent ed79e4f497a9a7747b006a5cb04d4173a6bbc1c5\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1490349451 +0100\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1490349451 +0100\n\nDefine CWallet::DeriveNewChildKey() as private\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAljU7ZYACgkQHrd2uwPH\nki3xLxAAuPQ6uY2/li4Of3j2+KlpRcieFiUHOMT6CKJQ3Y+UL6gibl9NiZq7Sug/\nZSol7WSY5BMCyG/0Lcqneg8ARn7J4c1V80MoRejsYINiu8BCzVslPIeuUYnj+ZcZ\nIVODR//ic3ddHOnknf3Z12RXnsEH+tbrsq95sayuk1zJJvz0Drbdd21gVKFc61Gk\nf2oIstWDIgcSXhY0lB2ug7fsfhn73HfhFyfJoUf8+G9owdhtVXq89K3vM+NJ9y7h\nf8AqcHBLIAufB151H+8R5ZBE5FO10RJO31fztkZoCVpstNslWbV3wvpVNqpV9GCG\n+6rFJuHUCgxPMdv8ui5A1zOSCWKVvzXu5FNUyqAymfyVWpVDZcu+VLwfaFr2OpuT\nFPrjonaTXa1oMMjWxUZ7q9OyqtSrfMpfjtMII0YNcDo9Ly5t2JyE3bbFRp40mgOz\nZ8+0Q1P9h8hxjMZ5pTj7n5peHyZFgWzaD7FILCQ8fCn74a8zzREDJA9G6OB6yBRj\n0A4y6H32YASKzNF97OEd3YFUHqd50i9yREeLaTqJVv+9Bhg6usA0+vJUHEes6mhi\nIbPy3DcftmfPWGI1GmO01GzzHiXXtFV80/vUCA3lMCCd8MrrNLQb21pD137QIH2V\n7Ie3NNGONjTOtt6dFhbdG/YTZmUhzRDvEPgmp4DIdoBsenUVU24=\n=nckM\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ed79e4f497a9a7747b006a5cb04d4173a6bbc1c5",
          "sha": "ed79e4f497a9a7747b006a5cb04d4173a6bbc1c5",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ed79e4f497a9a7747b006a5cb04d4173a6bbc1c5"
        }
      ],
      "message": "Define CWallet::DeriveNewChildKey() as private",
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-03-24T09:57:31Z"
      },
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-03-24T09:57:31Z"
      },
      "sha": "cd468d07d5dc3bc953f3fa07784aa842ecfd6b9f"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzoxZGYwOGQxNTgwZmJhYjllNTgwMTdjZjZjMWVjYjczNTUwYmY2ZWQ3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1df08d1580fbab9e58017cf6c1ecb73550bf6ed7",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/1df08d1580fbab9e58017cf6c1ecb73550bf6ed7",
      "tree": {
        "sha": "e80c3368437840a546859f7bbd783682bd0e59c6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e80c3368437840a546859f7bbd783682bd0e59c6"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree e80c3368437840a546859f7bbd783682bd0e59c6\nparent cd468d07d5dc3bc953f3fa07784aa842ecfd6b9f\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1490349475 +0100\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1490349475 +0100\n\nAdd assertion for CanSupportFeature(FEATURE_HD_SPLIT)\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAljU7bMACgkQHrd2uwPH\nki3+tRAA1hNwO5/MSJoSmDkuXUHNv/fnd8I1yGXLRwlA/hdAAIPTqAI7NWb2n+Zk\n77b1KHAl6GVArZ/TepJb93YgNH4FHw56MYOwYyA4aPSpsp/47uxquFnWDJARdkUu\nFPyT7Xn6vigjc2eMbulqV8I4H9+jOlXWKcQUm8+m1ZvwfkgwjsV7QYjd+B6RUqhJ\ny7KMWWH0jI1UQFmQNdKENLPTsnJbxubqsY9mhWwHsKyBhOpn9+tVoPmJsmCwHPue\nbNFHf4XR3S9xLkjtOMQihhA6cn2dDqhqAeVVpk/czCxo0fAX+9ERfiOKZc7SPi3O\nJrkj7avYRdVW4dNJKioWBKjMRA1FPtZwT/gDkQpVLpEAvgTDOajp0yIO4HYaPlL8\nwQ67xWaBMdoIF4rYdeRLyq92kXWC8S57XZFH/gaCaJHPfT4CqRuJxDIIBKOOOOKx\nP0JelE2l9D9/79vvw8YXp5gtomFAzWzpBoPpXl5m1EQFbXwFnf8B9P1eYPSbjRid\nvYPe1EEfbnLsXrUz82r4IF2h+5fTmAH0LaGYXIYN3RNEuk0BYWMIq0iBRXyCRzzq\nV04YAAmVvEXOtTnZsPYcpmd3OcucKlGUeRCqucJQROQWvWyYdFgA7Of5rJSztSP3\n8Nph2cOCoseE1ggrcT1uhprHfu0ELRHH8Bp9SALvXdHXuMm9KFE=\n=SbD+\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cd468d07d5dc3bc953f3fa07784aa842ecfd6b9f",
          "sha": "cd468d07d5dc3bc953f3fa07784aa842ecfd6b9f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/cd468d07d5dc3bc953f3fa07784aa842ecfd6b9f"
        }
      ],
      "message": "Add assertion for CanSupportFeature(FEATURE_HD_SPLIT)",
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-03-24T09:57:55Z"
      },
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-03-24T09:57:55Z"
      },
      "sha": "1df08d1580fbab9e58017cf6c1ecb73550bf6ed7"
    },
    {
      "event": "commented",
      "id": 288981619,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI4ODk4MTYxOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/288981619",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-24T10:05:23Z",
      "updated_at": "2017-03-24T10:05:23Z",
      "author_association": "CONTRIBUTOR",
      "body": "Addressed @TheBlueMatt's nits (except https://github.com/bitcoin/bitcoin/pull/9294#discussion_r107040500 which I'm not sure if this is a concern or not)",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-288981619",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "mentioned",
      "id": 1013998414,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTAxMzk5ODQxNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1013998414",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-24T10:05:23Z"
    },
    {
      "event": "subscribed",
      "id": 1013998417,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEwMTM5OTg0MTc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1013998417",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-24T10:05:23Z"
    },
    {
      "event": "commented",
      "id": 289361025,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTM2MTAyNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/289361025",
      "actor": {
        "login": "NicolasDorier",
        "id": 3020646,
        "node_id": "MDQ6VXNlcjMwMjA2NDY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/NicolasDorier",
        "html_url": "https://github.com/NicolasDorier",
        "followers_url": "https://api.github.com/users/NicolasDorier/followers",
        "following_url": "https://api.github.com/users/NicolasDorier/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/NicolasDorier/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/NicolasDorier/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
        "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
        "repos_url": "https://api.github.com/users/NicolasDorier/repos",
        "events_url": "https://api.github.com/users/NicolasDorier/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-27T06:00:57Z",
      "updated_at": "2017-03-27T06:01:15Z",
      "author_association": "CONTRIBUTOR",
      "body": "re utACK 1df08d1\r\n",
      "user": {
        "login": "NicolasDorier",
        "id": 3020646,
        "node_id": "MDQ6VXNlcjMwMjA2NDY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/NicolasDorier",
        "html_url": "https://github.com/NicolasDorier",
        "followers_url": "https://api.github.com/users/NicolasDorier/followers",
        "following_url": "https://api.github.com/users/NicolasDorier/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/NicolasDorier/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/NicolasDorier/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
        "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
        "repos_url": "https://api.github.com/users/NicolasDorier/repos",
        "events_url": "https://api.github.com/users/NicolasDorier/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-289361025",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5MzgyZjA0MjVlODdiMzBlNDYyMWUwZTIzYTk5ZDZlODgwZWMyMjAw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9382f0425e87b30e4621e0e23a99d6e880ec2200",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/9382f0425e87b30e4621e0e23a99d6e880ec2200",
      "tree": {
        "sha": "6be2142f3b28b2918962928f09c2572e3abcd150",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6be2142f3b28b2918962928f09c2572e3abcd150"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 6be2142f3b28b2918962928f09c2572e3abcd150\nparent 1df08d1580fbab9e58017cf6c1ecb73550bf6ed7\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1490601115 +0200\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1490601115 +0200\n\nDo not break backward compatibility during wallet encryption\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAljYxLwACgkQHrd2uwPH\nki0pgRAAg95G2b4NQvS+QOVu6H2aeRl+9R1yhgfrj++0faiEzG35Lk1nWRDlF4Jg\nV1cbB4M/W+/wXQhRxevDH5xSKj9pGiiIQnmhp9NS/o9srKmyo5fMkMQy18YNAUpv\n5f9mgf1cd2fpTRJpVeGzkxmh0mB/qun95mY6UuNLq6F+bv+6uSQ2NhYsIQK8/7CE\neeo+cEenpCWYujbbAqEqkdOUbRcwCsKT8CRsrf5WqwckmBJlcn3MaDScQY0xN10i\n+8iTiPobp8LX7BC23TSlifmlrIkx18+xpG5Mky20h1qFw3mpakj6KRZhvAi/tJDA\nGtMfMfBT2N5rUm1bUl90YDS+Q47YGDtPJXhKmcdYXGJPd3CWH0vsR49GVOr3tnWK\nungoyN3Sgvfo8H99IZovvRA3Q/01J8X4dXS3JH9nI3GfwRWWB82hoO7I5y50ZLYg\nVn8gsKGMDvv2DLRzKKNsHUbTxnqluQGnbUxmaB5EUzL504XcKrC5bFuCmJmBrtfT\nB2yEtlnYMc7RAUWCwFG3AHDB7buhgLR1Dfk/nociru54PTM2ymjfQPkjpokCPo3X\ny65KHr5P6oeN7a5N6RH0c0gO/D42ALB4MRSOCyhJwoi94NiHi1hEjNsa3Z0LhX81\ngcKFjzht7fKA6T2WNZyScsrygMCd+MO9QZu+aXzvupc5TYq+5/c=\n=Zvy3\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1df08d1580fbab9e58017cf6c1ecb73550bf6ed7",
          "sha": "1df08d1580fbab9e58017cf6c1ecb73550bf6ed7",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/1df08d1580fbab9e58017cf6c1ecb73550bf6ed7"
        }
      ],
      "message": "Do not break backward compatibility during wallet encryption",
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-03-27T07:51:55Z"
      },
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-03-27T07:51:55Z"
      },
      "sha": "9382f0425e87b30e4621e0e23a99d6e880ec2200"
    },
    {
      "event": "commented",
      "id": 289379637,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTM3OTYzNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/289379637",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-27T07:53:29Z",
      "updated_at": "2017-03-27T07:53:29Z",
      "author_association": "CONTRIBUTOR",
      "body": "Added a commit to address the backward compatibility issue during wallet encryption mentioned by @TheBlueMatt (https://github.com/bitcoin/bitcoin/pull/9294#discussion_r107040500).\r\n@TheBlueMatt: can you give it a re-test?",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-289379637",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "mentioned",
      "id": 1016185590,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTAxNjE4NTU5MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1016185590",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-27T07:53:29Z"
    },
    {
      "event": "subscribed",
      "id": 1016185591,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEwMTYxODU1OTE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1016185591",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-27T07:53:29Z"
    },
    {
      "event": "reviewed",
      "id": 29302926,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjkzMDI5MjY=",
      "url": null,
      "actor": null,
      "commit_id": "9382f0425e87b30e4621e0e23a99d6e880ec2200",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#pullrequestreview-29302926",
      "submitted_at": "2017-03-27T21:49:29Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0MTE1YWY3YWM3ODk3MTYxN2M0ZmI4MGI3ZGIzMzZmZjZiZjI1NGRi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4115af7ac78971617c4fb80b7db336ff6bf254db",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/4115af7ac78971617c4fb80b7db336ff6bf254db",
      "tree": {
        "sha": "dd48e792fae1466201f15bea038bb720437a6a1e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/dd48e792fae1466201f15bea038bb720437a6a1e"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree dd48e792fae1466201f15bea038bb720437a6a1e\nparent 9382f0425e87b30e4621e0e23a99d6e880ec2200\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1490685500 +0200\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1490685500 +0200\n\nFix rebase issue where pwalletMain was used instead of pwallet\nSer./Deser. nInternalChainCounter as last element\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAljaDnYACgkQHrd2uwPH\nki1yzg//dKx29G4vUxrf7kOo/cw1/RA5tjqFDCMf0kT9FP8jfKbIcJJp6vQt9o+R\naYqhUvPrQiX6SoORXeMGWkVcBEfoYAx3lN7V+RePN+m4wd190PQcgZrjBsWuQ7Ju\nYrckHmspsdymtnrNS/GD7xuCBhqilwfDW0ZjHelT8+TsjOX9MyTEMeHVfTHGEyD/\nDj8zVkfZ3eDEWbLLvsejyeTB0d+FLsoxcJEqukMzCZ2d3P2yaxvHy8BGpUfbvcjG\n/b8OsGeX3OkQjv10IENBS5EdsdK8R39+dZx/9/G/IqKfEC2Brag7UPbsrFPuL7vR\nzBlGCcXo/gW1qIAGXOWDOpRplL3Zs1D01dGWWdIc8iRc6bdOODuKhFOSlPqCHBac\n83sk14oQOWTGgUSj9Ip4uH6CXfl+cqinXxd6fFLJJOUCpqR/fNPdhiPjmwKEcqEP\nU2JQ56QoDWbUkIwvFQVRiP/JCtoS/Yp4dTB+mo/M9glGpnRCc3XaekwYzs9y0vbP\nLzmEE5/xOFrw2rEXVrRKCGcXI965cG9TdG9y1FK3a1GaE3vQlwxKp86L+6lphaq6\nH2LC41mSu+JqNXilEvukaKmMOt/LErffS5tRHWsSUikTbLIYGhZdiChiKLk6Fuzi\nqDoQnXrSRDlfNvyBeTgCmwMRCraKuhOxPLgAuMTO0jbY/hvG2nM=\n=RQLJ\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9382f0425e87b30e4621e0e23a99d6e880ec2200",
          "sha": "9382f0425e87b30e4621e0e23a99d6e880ec2200",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/9382f0425e87b30e4621e0e23a99d6e880ec2200"
        }
      ],
      "message": "Fix rebase issue where pwalletMain was used instead of pwallet\nSer./Deser. nInternalChainCounter as last element",
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-03-28T07:18:20Z"
      },
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-03-28T07:18:20Z"
      },
      "sha": "4115af7ac78971617c4fb80b7db336ff6bf254db"
    },
    {
      "event": "commented",
      "id": 289685126,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTY4NTEyNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/289685126",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-28T07:20:43Z",
      "updated_at": "2017-03-28T07:20:43Z",
      "author_association": "CONTRIBUTOR",
      "body": "Fixed two points reported by @TheBlueMatt:\r\n1. Move Ser./Deser. of `nInternalChainCounter` to be the last element\r\n2. Fix a rebase issue where `pwalletMain` was used instead of `pWallet`.",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-289685126",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "mentioned",
      "id": 1018011636,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTAxODAxMTYzNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1018011636",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-28T07:20:43Z"
    },
    {
      "event": "subscribed",
      "id": 1018011637,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEwMTgwMTE2Mzc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1018011637",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-28T07:20:43Z"
    },
    {
      "event": "mentioned",
      "id": 1019045106,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTAxOTA0NTEwNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1019045106",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-28T17:58:05Z"
    },
    {
      "event": "subscribed",
      "id": 1019045107,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEwMTkwNDUxMDc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1019045107",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-28T17:58:05Z"
    },
    {
      "event": "commented",
      "id": 290053345,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDA1MzM0NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/290053345",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-29T10:46:58Z",
      "updated_at": "2017-03-29T10:46:58Z",
      "author_association": "MEMBER",
      "body": "utACK 4115af7\r\nI think this has enough ACKs. Let's merge this and fix the rest, which seems to be less critical, later.",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#issuecomment-290053345",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9294"
    },
    {
      "event": "merged",
      "id": 1020202553,
      "node_id": "MDExOk1lcmdlZEV2ZW50MTAyMDIwMjU1Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1020202553",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4115af7ac78971617c4fb80b7db336ff6bf254db",
      "created_at": "2017-03-29T10:51:37Z"
    },
    {
      "event": "closed",
      "id": 1020202556,
      "node_id": "MDExOkNsb3NlZEV2ZW50MTAyMDIwMjU1Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1020202556",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-29T10:51:37Z"
    },
    {
      "event": "referenced",
      "id": 1020202867,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDEwMjAyMDI4Njc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1020202867",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "f34cdcbd806d3e7c9d5dbac2a201755a4cc9828b",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f34cdcbd806d3e7c9d5dbac2a201755a4cc9828b",
      "created_at": "2017-03-29T10:51:51Z"
    },
    {
      "event": "removed_from_project",
      "id": 1022908210,
      "node_id": "MDIzOlJlbW92ZWRGcm9tUHJvamVjdEV2ZW50MTAyMjkwODIxMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1022908210",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-30T19:05:19Z",
      "project_card": {
        "id": 2207295,
        "url": "https://api.github.com/projects/columns/cards/2207295",
        "project_id": 481835,
        "project_url": "https://api.github.com/projects/481835",
        "column_name": "Blockers"
      }
    },
    {
      "event": "locked",
      "id": 5271588735,
      "node_id": "LOE_lADOABII584LjBnGzwAAAAE6Ng9_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5271588735",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-08T11:10:07Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/91514545",
      "pull_request_review_id": 12022893,
      "id": 91514545,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkxNTE0NTQ1",
      "diff_hunk": "@@ -28,30 +28,39 @@ def run_test(self):\n         wallet_info = nodes[0].getwalletinfo()\n         assert(addr_before_encrypting_data['hdmasterkeyid'] != wallet_info['hdmasterkeyid'])\n         assert(addr_data['hdmasterkeyid'] == wallet_info['hdmasterkeyid'])\n-        \n+\n         try:\n             addr = nodes[0].getnewaddress()\n             raise AssertionError('Keypool should be exhausted after one address')\n         except JSONRPCException as e:\n             assert(e.error['code']==-12)\n \n-        # put three new keys in the keypool\n+        # put six new keys in the keypool (80% should be external-, 20% internal-keys)\n         nodes[0].walletpassphrase('test', 12000)\n-        nodes[0].keypoolrefill(3)\n+        nodes[0].keypoolrefill(6)\n         nodes[0].walletlock()\n \n-        # drain the keys\n+        # drain the internal keys\n         addr = set()\n         addr.add(nodes[0].getrawchangeaddress())\n-        addr.add(nodes[0].getrawchangeaddress())\n-        addr.add(nodes[0].getrawchangeaddress())\n-        addr.add(nodes[0].getrawchangeaddress())\n-        # assert that four unique addresses were returned\n-        assert(len(addr) == 4)\n         # the next one should fail\n         try:\n             addr = nodes[0].getrawchangeaddress()\n-            raise AssertionError('Keypool should be exhausted after three addresses')\n+            raise AssertionError('Keypool should be exhausted after three internal addresses (20%)')",
      "path": "qa/rpc-tests/keypool.py",
      "position": null,
      "original_position": 32,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "324c7f58189cdf0eb98496aac90dc5faafbce071",
      "in_reply_to_id": null,
      "user": {
        "login": "paveljanik",
        "id": 6848764,
        "node_id": "MDQ6VXNlcjY4NDg3NjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6848764?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/paveljanik",
        "html_url": "https://github.com/paveljanik",
        "followers_url": "https://api.github.com/users/paveljanik/followers",
        "following_url": "https://api.github.com/users/paveljanik/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/paveljanik/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/paveljanik/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/paveljanik/subscriptions",
        "organizations_url": "https://api.github.com/users/paveljanik/orgs",
        "repos_url": "https://api.github.com/users/paveljanik/repos",
        "events_url": "https://api.github.com/users/paveljanik/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/paveljanik/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Still three?",
      "created_at": "2016-12-08T13:39:10Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r91514545",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/91514545"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/91514738",
      "pull_request_review_id": 12023095,
      "id": 91514738,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkxNTE0NzM4",
      "diff_hunk": "@@ -28,30 +28,39 @@ def run_test(self):\n         wallet_info = nodes[0].getwalletinfo()\n         assert(addr_before_encrypting_data['hdmasterkeyid'] != wallet_info['hdmasterkeyid'])\n         assert(addr_data['hdmasterkeyid'] == wallet_info['hdmasterkeyid'])\n-        \n+\n         try:\n             addr = nodes[0].getnewaddress()\n             raise AssertionError('Keypool should be exhausted after one address')\n         except JSONRPCException as e:\n             assert(e.error['code']==-12)\n \n-        # put three new keys in the keypool\n+        # put six new keys in the keypool (80% should be external-, 20% internal-keys)\n         nodes[0].walletpassphrase('test', 12000)\n-        nodes[0].keypoolrefill(3)\n+        nodes[0].keypoolrefill(6)\n         nodes[0].walletlock()\n \n-        # drain the keys\n+        # drain the internal keys\n         addr = set()\n         addr.add(nodes[0].getrawchangeaddress())\n-        addr.add(nodes[0].getrawchangeaddress())\n-        addr.add(nodes[0].getrawchangeaddress())\n-        addr.add(nodes[0].getrawchangeaddress())\n-        # assert that four unique addresses were returned\n-        assert(len(addr) == 4)\n         # the next one should fail\n         try:\n             addr = nodes[0].getrawchangeaddress()\n-            raise AssertionError('Keypool should be exhausted after three addresses')\n+            raise AssertionError('Keypool should be exhausted after three internal addresses (20%)')\n+        except JSONRPCException as e:\n+            assert(e.error['code']==-12)\n+\n+        # drain the external keys\n+        addr.add(nodes[0].getnewaddress())\n+        addr.add(nodes[0].getnewaddress())\n+        addr.add(nodes[0].getnewaddress())\n+        addr.add(nodes[0].getnewaddress())\n+        addr.add(nodes[0].getnewaddress())\n+        assert(len(addr) == 6)\n+        # the next one should fail\n+        try:\n+            addr = nodes[0].getnewaddress()\n+            raise AssertionError('Keypool should be exhausted after three external addresses (ceil rounded 80% of six)')",
      "path": "qa/rpc-tests/keypool.py",
      "position": null,
      "original_position": 46,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "324c7f58189cdf0eb98496aac90dc5faafbce071",
      "in_reply_to_id": null,
      "user": {
        "login": "paveljanik",
        "id": 6848764,
        "node_id": "MDQ6VXNlcjY4NDg3NjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6848764?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/paveljanik",
        "html_url": "https://github.com/paveljanik",
        "followers_url": "https://api.github.com/users/paveljanik/followers",
        "following_url": "https://api.github.com/users/paveljanik/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/paveljanik/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/paveljanik/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/paveljanik/subscriptions",
        "organizations_url": "https://api.github.com/users/paveljanik/orgs",
        "repos_url": "https://api.github.com/users/paveljanik/repos",
        "events_url": "https://api.github.com/users/paveljanik/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/paveljanik/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "three?",
      "created_at": "2016-12-08T13:40:19Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r91514738",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/91514738"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/93681318",
      "pull_request_review_id": 14214639,
      "id": 93681318,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkzNjgxMzE4",
      "diff_hunk": "@@ -140,19 +140,22 @@ void CWallet::DeriveNewChildKey(CKeyMetadata& metadata, CKey& secret)\n     // use hardened derivation (child keys >= 0x80000000 are hardened after bip32)\n     masterKey.Derive(accountKey, BIP32_HARDENED_KEY_LIMIT);\n \n-    // derive m/0'/0'\n-    accountKey.Derive(externalChainChildKey, BIP32_HARDENED_KEY_LIMIT);\n+    // derive m/0'/0' (external chain) OR m/0'/1' (internal chain)\n+    accountKey.Derive(externalChainChildKey, BIP32_HARDENED_KEY_LIMIT+(int)internal);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 34,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0971c35319bfb5fe3dd7313b26b90541e46db9c0",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Prefer to explicitly add (internal ? 1 : 0)",
      "created_at": "2016-12-22T19:19:44Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r93681318",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/93681318"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/93688939",
      "pull_request_review_id": 14214639,
      "id": 93688939,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkzNjg4OTM5",
      "diff_hunk": "@@ -140,19 +140,22 @@ void CWallet::DeriveNewChildKey(CKeyMetadata& metadata, CKey& secret)\n     // use hardened derivation (child keys >= 0x80000000 are hardened after bip32)\n     masterKey.Derive(accountKey, BIP32_HARDENED_KEY_LIMIT);\n \n-    // derive m/0'/0'\n-    accountKey.Derive(externalChainChildKey, BIP32_HARDENED_KEY_LIMIT);\n+    // derive m/0'/0' (external chain) OR m/0'/1' (internal chain)\n+    accountKey.Derive(externalChainChildKey, BIP32_HARDENED_KEY_LIMIT+(int)internal);\n \n     // derive child key at next index, skip keys already known to the wallet\n     do {\n         // always derive hardened keys\n         // childIndex | BIP32_HARDENED_KEY_LIMIT = derive childIndex in hardened child-index-range\n         // example: 1 | BIP32_HARDENED_KEY_LIMIT == 0x80000001 == 2147483649\n-        externalChainChildKey.Derive(childKey, hdChain.nExternalChainCounter | BIP32_HARDENED_KEY_LIMIT);\n-        metadata.hdKeypath = \"m/0'/0'/\" + std::to_string(hdChain.nExternalChainCounter) + \"'\";\n+        externalChainChildKey.Derive(childKey, (internal ? hdChain.nInternalChainCounter : hdChain.nExternalChainCounter) | BIP32_HARDENED_KEY_LIMIT);\n+        metadata.hdKeypath = \"m/0'/\" + std::string(internal ? \"1'/\"+ std::to_string(hdChain.nInternalChainCounter) : \"0'/\" + std::to_string(hdChain.nExternalChainCounter)) + \"'\";",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 44,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0971c35319bfb5fe3dd7313b26b90541e46db9c0",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Seems like it would be better to just access the specific counter once with a post-increment, and use variables here.",
      "created_at": "2016-12-22T20:09:31Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r93688939",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/93688939"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/93689481",
      "pull_request_review_id": 14214639,
      "id": 93689481,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkzNjg5NDgx",
      "diff_hunk": "@@ -2815,30 +2831,42 @@ bool CWallet::TopUpKeyPool(unsigned int kpSize)\n         if (IsLocked())\n             return false;\n \n-        CWalletDB walletdb(strWalletFile);\n-\n         // Top up key pool\n         unsigned int nTargetSize;\n         if (kpSize > 0)\n             nTargetSize = kpSize;\n         else\n             nTargetSize = max(GetArg(\"-keypool\", DEFAULT_KEYPOOL_SIZE), (int64_t) 0);\n \n-        while (setKeyPool.size() < (nTargetSize + 1))\n+        // count amount of available keys (internal, external)\n+        // try to generate 80% external keys",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 137,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0971c35319bfb5fe3dd7313b26b90541e46db9c0",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "IMO this is unintuitive ~~and can lead to loss~~. If users set a keypool size of 100, they expect to be able to safely generate 100 addresses between backups. I usually round down to 90 in advice to give some breathing room, but 80% here will break even that.\r\n\r\nTherefore, the full keypool size should be ensured on both chains.\r\n\r\nEdit: Forgot this was HD. Less critical in that case.",
      "created_at": "2016-12-22T20:13:15Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r93689481",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/93689481"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/93689981",
      "pull_request_review_id": 14214639,
      "id": 93689981,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkzNjg5OTgx",
      "diff_hunk": "@@ -87,7 +87,7 @@ const CWalletTx* CWallet::GetWalletTx(const uint256& hash) const\n     return &(it->second);\n }\n \n-CPubKey CWallet::GenerateNewKey()\n+CPubKey CWallet::GenerateNewKey(bool internal)",
      "path": "src/wallet/wallet.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0971c35319bfb5fe3dd7313b26b90541e46db9c0",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "IMO it would be better to use an enum for internal vs external rather than a bool.",
      "created_at": "2016-12-22T20:16:23Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r93689981",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/93689981"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 88,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/93692459",
      "pull_request_review_id": 14225939,
      "id": 93692459,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkzNjkyNDU5",
      "diff_hunk": "@@ -2815,30 +2831,42 @@ bool CWallet::TopUpKeyPool(unsigned int kpSize)\n         if (IsLocked())\n             return false;\n \n-        CWalletDB walletdb(strWalletFile);\n-\n         // Top up key pool\n         unsigned int nTargetSize;\n         if (kpSize > 0)\n             nTargetSize = kpSize;\n         else\n             nTargetSize = max(GetArg(\"-keypool\", DEFAULT_KEYPOOL_SIZE), (int64_t) 0);\n \n-        while (setKeyPool.size() < (nTargetSize + 1))\n+        // count amount of available keys (internal, external)\n+        // try to generate 80% external keys",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 137,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0971c35319bfb5fe3dd7313b26b90541e46db9c0",
      "in_reply_to_id": 93689481,
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes. This is a discussion point and I'd like to get others feedback (maybe @gmaxwell and @sipa).\r\nThe question is, if you want a keypool of 100 external + 50 (TBD)  internals = total 150 keys, if you set the keypool to 100.\r\n\r\nIMO user given values should be respected. If the user chooses keypool=100, the keypool should contain 100 keys. But as said, no strong opinion on that.",
      "created_at": "2016-12-22T20:34:41Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r93692459",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/93692459"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95167594",
      "pull_request_review_id": 15713403,
      "id": 95167594,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1MTY3NTk0",
      "diff_hunk": "@@ -140,19 +140,22 @@ void CWallet::DeriveNewChildKey(CKeyMetadata& metadata, CKey& secret)\n     // use hardened derivation (child keys >= 0x80000000 are hardened after bip32)\n     masterKey.Derive(accountKey, BIP32_HARDENED_KEY_LIMIT);\n \n-    // derive m/0'/0'\n-    accountKey.Derive(externalChainChildKey, BIP32_HARDENED_KEY_LIMIT);\n+    // derive m/0'/0' (external chain) OR m/0'/1' (internal chain)\n+    accountKey.Derive(externalChainChildKey, BIP32_HARDENED_KEY_LIMIT+(internal ? 1 : 0));\n \n     // derive child key at next index, skip keys already known to the wallet\n     do {\n         // always derive hardened keys\n         // childIndex | BIP32_HARDENED_KEY_LIMIT = derive childIndex in hardened child-index-range\n         // example: 1 | BIP32_HARDENED_KEY_LIMIT == 0x80000001 == 2147483649\n-        externalChainChildKey.Derive(childKey, hdChain.nExternalChainCounter | BIP32_HARDENED_KEY_LIMIT);\n-        metadata.hdKeypath = \"m/0'/0'/\" + std::to_string(hdChain.nExternalChainCounter) + \"'\";\n+        externalChainChildKey.Derive(childKey, (internal ? hdChain.nInternalChainCounter : hdChain.nExternalChainCounter) | BIP32_HARDENED_KEY_LIMIT);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 34,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "76c883cd393d7dc7ae547c592134420b93b35897",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It's called `externalChainChildKey` but it could be either.",
      "created_at": "2017-01-09T14:45:18Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95167594",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95167594"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95167924",
      "pull_request_review_id": 15713403,
      "id": 95167924,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1MTY3OTI0",
      "diff_hunk": "@@ -1296,7 +1299,7 @@ bool CWallet::SetHDMasterKey(const CPubKey& pubkey)\n     LOCK(cs_wallet);\n \n     // ensure this wallet.dat can only be opened by clients supporting HD",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 49,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "76c883cd393d7dc7ae547c592134420b93b35897",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "update comment",
      "created_at": "2017-01-09T14:46:51Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95167924",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95167924"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95168762",
      "pull_request_review_id": 15713403,
      "id": 95168762,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1MTY4NzYy",
      "diff_hunk": "@@ -2809,33 +2831,33 @@ bool CWallet::TopUpKeyPool(unsigned int kpSize)\n         if (IsLocked())\n             return false;\n \n-        CWalletDB walletdb(strWalletFile);\n-\n         // Top up key pool\n         unsigned int nTargetSize;\n         if (kpSize > 0)\n             nTargetSize = kpSize;\n         else\n             nTargetSize = max(GetArg(\"-keypool\", DEFAULT_KEYPOOL_SIZE), (int64_t) 0);\n \n-        // count amount of available keys\n-        // don't rely on a 50%/50% keypool mix\n-        int64_t amountI = 0, amountE = 0;\n-        for(const int64_t& id : setKeyPool)\n+        // count amount of available keys (internal, external)\n+        // make sure the keypool of external keys fits the user selected target (-keypool)\n+        // generate +20% internal keys (minimum 2 keys)\n+        int64_t amountExternal = KeypoolCountExternalKeys();\n+        int64_t amountInternal = setKeyPool.size() - amountExternal;\n+        int64_t targetInternal = max((int64_t)ceil(nTargetSize * 0.2), (int64_t) 2);\n+        int64_t missingExternal = max( (int64_t)(nTargetSize - amountExternal), (int64_t) 0);\n+        int64_t missingInternal = max(targetInternal - amountInternal, (int64_t) 0);\n+\n+        if (!IsHDEnabled() || !CanSupportFeature(FEATURE_HD_SPLIT))\n         {\n-            CKeyPool tmpKeypool;\n-            if (!walletdb.ReadPool(id, tmpKeypool))\n-                throw runtime_error(std::string(__func__) + \": read failed\");\n-            amountI += tmpKeypool.fInternal;\n-            amountE += !tmpKeypool.fInternal;\n+            // don't flag keypool keys internal if we don't use HD",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 123,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "76c883cd393d7dc7ae547c592134420b93b35897",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "/HD/HD split/?",
      "created_at": "2017-01-09T14:50:51Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95168762",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95168762"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95169601",
      "pull_request_review_id": 15713403,
      "id": 95169601,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1MTY5NjAx",
      "diff_hunk": "@@ -2809,33 +2831,33 @@ bool CWallet::TopUpKeyPool(unsigned int kpSize)\n         if (IsLocked())\n             return false;\n \n-        CWalletDB walletdb(strWalletFile);\n-\n         // Top up key pool\n         unsigned int nTargetSize;\n         if (kpSize > 0)\n             nTargetSize = kpSize;\n         else\n             nTargetSize = max(GetArg(\"-keypool\", DEFAULT_KEYPOOL_SIZE), (int64_t) 0);\n \n-        // count amount of available keys\n-        // don't rely on a 50%/50% keypool mix\n-        int64_t amountI = 0, amountE = 0;\n-        for(const int64_t& id : setKeyPool)\n+        // count amount of available keys (internal, external)\n+        // make sure the keypool of external keys fits the user selected target (-keypool)\n+        // generate +20% internal keys (minimum 2 keys)\n+        int64_t amountExternal = KeypoolCountExternalKeys();\n+        int64_t amountInternal = setKeyPool.size() - amountExternal;\n+        int64_t targetInternal = max((int64_t)ceil(nTargetSize * 0.2), (int64_t) 2);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 112,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "76c883cd393d7dc7ae547c592134420b93b35897",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I find it a bit confusing that this value goes from `0`(non-existant) to `-keypool` then to `-keypool*.2`. Perhaps have it start at 0 on previous commit, then set it to non-0 here (unless there is reasoning).",
      "created_at": "2017-01-09T14:54:57Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95169601",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95169601"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95169944",
      "pull_request_review_id": 15713403,
      "id": 95169944,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1MTY5OTQ0",
      "diff_hunk": "@@ -3129,7 +3151,11 @@ bool CReserveKey::GetReservedKey(CPubKey& pubkey, bool internal)\n         if (nIndex != -1)\n             vchPubKey = keypool.vchPubKey;\n         else {\n-            return false;\n+            if (pwallet->IsLocked())",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 153,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "76c883cd393d7dc7ae547c592134420b93b35897",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Seems like a separate optimization?",
      "created_at": "2017-01-09T14:56:43Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95169944",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95169944"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95171761",
      "pull_request_review_id": 15713403,
      "id": 95171761,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1MTcxNzYx",
      "diff_hunk": "@@ -2300,17 +2301,20 @@ UniValue getwalletinfo(const JSONRPCRequest& request)\n     LOCK2(cs_main, pwalletMain->cs_wallet);\n \n     UniValue obj(UniValue::VOBJ);\n+    size_t kpExternalSize = (int)pwalletMain->KeypoolCountExternalKeys();\n     obj.push_back(Pair(\"walletversion\", pwalletMain->GetVersion()));\n     obj.push_back(Pair(\"balance\",       ValueFromAmount(pwalletMain->GetBalance())));\n     obj.push_back(Pair(\"unconfirmed_balance\", ValueFromAmount(pwalletMain->GetUnconfirmedBalance())));\n     obj.push_back(Pair(\"immature_balance\",    ValueFromAmount(pwalletMain->GetImmatureBalance())));\n     obj.push_back(Pair(\"txcount\",       (int)pwalletMain->mapWallet.size()));\n     obj.push_back(Pair(\"keypoololdest\", pwalletMain->GetOldestKeyPoolTime()));\n-    obj.push_back(Pair(\"keypoolsize\",   (int)pwalletMain->GetKeyPoolSize()));\n+    obj.push_back(Pair(\"keypoolsize\", (int64_t)kpExternalSize));\n+    CKeyID masterKeyID = pwalletMain->GetHDChain().masterKeyID;\n+    if (!masterKeyID.IsNull())\n+        obj.push_back(Pair(\"keypoolsize_hd_internal\",   (int64_t)(pwalletMain->GetKeyPoolSize() - kpExternalSize)));",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 43,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "76c883cd393d7dc7ae547c592134420b93b35897",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Might make sense to explicitly count both types and use those counts if we foresee a future with more possible types rather than implicitly count `total - external`. You'd know better than me how likely that is.",
      "created_at": "2017-01-09T15:05:38Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95171761",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95171761"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95173485",
      "pull_request_review_id": 15713403,
      "id": 95173485,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1MTczNDg1",
      "diff_hunk": "@@ -28,30 +28,39 @@ def run_test(self):\n         wallet_info = nodes[0].getwalletinfo()\n         assert(addr_before_encrypting_data['hdmasterkeyid'] != wallet_info['hdmasterkeyid'])\n         assert(addr_data['hdmasterkeyid'] == wallet_info['hdmasterkeyid'])\n-        \n+\n         try:\n             addr = nodes[0].getnewaddress()\n             raise AssertionError('Keypool should be exhausted after one address')\n         except JSONRPCException as e:\n             assert(e.error['code']==-12)\n \n-        # put three new keys in the keypool\n+        # put six new keys in the keypool (80% should be external-, 20% internal-keys)\n         nodes[0].walletpassphrase('test', 12000)\n-        nodes[0].keypoolrefill(3)\n+        nodes[0].keypoolrefill(6)\n         nodes[0].walletlock()\n \n-        # drain the keys\n+        # drain the internal keys\n         addr = set()\n         addr.add(nodes[0].getrawchangeaddress())\n-        addr.add(nodes[0].getrawchangeaddress())\n-        addr.add(nodes[0].getrawchangeaddress())\n-        addr.add(nodes[0].getrawchangeaddress())\n-        # assert that four unique addresses were returned\n-        assert(len(addr) == 4)\n         # the next one should fail\n         try:\n             addr = nodes[0].getrawchangeaddress()\n-            raise AssertionError('Keypool should be exhausted after three addresses')\n+            raise AssertionError('Keypool should be exhausted after three internal addresses (20%)')\n+        except JSONRPCException as e:\n+            assert(e.error['code']==-12)\n+\n+        # drain the external keys\n+        addr.add(nodes[0].getnewaddress())\n+        addr.add(nodes[0].getnewaddress())\n+        addr.add(nodes[0].getnewaddress())\n+        addr.add(nodes[0].getnewaddress())\n+        addr.add(nodes[0].getnewaddress())\n+        assert(len(addr) == 6)\n+        # the next one should fail\n+        try:\n+            addr = nodes[0].getnewaddress()\n+            raise AssertionError('Keypool should be exhausted after three external addresses (ceil rounded 80% of six)')",
      "path": "qa/rpc-tests/keypool.py",
      "position": null,
      "original_position": 46,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "324c7f58189cdf0eb98496aac90dc5faafbce071",
      "in_reply_to_id": 91514738,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "also, this is 100%, not 80% of 6. 100% vs 20%, not 80% vs 20%.",
      "created_at": "2017-01-09T15:13:48Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95173485",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95173485"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95386634",
      "pull_request_review_id": 15939297,
      "id": 95386634,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1Mzg2NjM0",
      "diff_hunk": "@@ -2300,17 +2301,20 @@ UniValue getwalletinfo(const JSONRPCRequest& request)\n     LOCK2(cs_main, pwalletMain->cs_wallet);\n \n     UniValue obj(UniValue::VOBJ);\n+    size_t kpExternalSize = (int)pwalletMain->KeypoolCountExternalKeys();\n     obj.push_back(Pair(\"walletversion\", pwalletMain->GetVersion()));\n     obj.push_back(Pair(\"balance\",       ValueFromAmount(pwalletMain->GetBalance())));\n     obj.push_back(Pair(\"unconfirmed_balance\", ValueFromAmount(pwalletMain->GetUnconfirmedBalance())));\n     obj.push_back(Pair(\"immature_balance\",    ValueFromAmount(pwalletMain->GetImmatureBalance())));\n     obj.push_back(Pair(\"txcount\",       (int)pwalletMain->mapWallet.size()));\n     obj.push_back(Pair(\"keypoololdest\", pwalletMain->GetOldestKeyPoolTime()));\n-    obj.push_back(Pair(\"keypoolsize\",   (int)pwalletMain->GetKeyPoolSize()));\n+    obj.push_back(Pair(\"keypoolsize\", (int64_t)kpExternalSize));\n+    CKeyID masterKeyID = pwalletMain->GetHDChain().masterKeyID;\n+    if (!masterKeyID.IsNull())\n+        obj.push_back(Pair(\"keypoolsize_hd_internal\",   (int64_t)(pwalletMain->GetKeyPoolSize() - kpExternalSize)));",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 43,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "76c883cd393d7dc7ae547c592134420b93b35897",
      "in_reply_to_id": 95171761,
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think it make sense to keep this as it is: `keypoolsize` should be alined with the `-keypool` conf. That's why `keypoolsize` in `getwalletinfo` responses only the external key-count in the keypool (`-keypool` conf arg also defines the external key count).",
      "created_at": "2017-01-10T15:28:26Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95386634",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95386634"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95386917",
      "pull_request_review_id": 15939594,
      "id": 95386917,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1Mzg2OTE3",
      "diff_hunk": "@@ -87,7 +87,7 @@ const CWalletTx* CWallet::GetWalletTx(const uint256& hash) const\n     return &(it->second);\n }\n \n-CPubKey CWallet::GenerateNewKey()\n+CPubKey CWallet::GenerateNewKey(bool internal)",
      "path": "src/wallet/wallet.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0971c35319bfb5fe3dd7313b26b90541e46db9c0",
      "in_reply_to_id": 93689981,
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> IMO it would be better to use an enum for internal vs external rather than a bool.\r\n\r\nWhy? Either its internal or external. Once we have more configurable HD key derivation (ext-pubkey-derivation, hd-multisig) we could switch to a enum or a more flexible design.",
      "created_at": "2017-01-10T15:29:39Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95386917",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95386917"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 88,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95389732",
      "pull_request_review_id": 15942513,
      "id": 95389732,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1Mzg5NzMy",
      "diff_hunk": "@@ -3129,7 +3151,11 @@ bool CReserveKey::GetReservedKey(CPubKey& pubkey, bool internal)\n         if (nIndex != -1)\n             vchPubKey = keypool.vchPubKey;\n         else {\n-            return false;\n+            if (pwallet->IsLocked())",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 153,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "76c883cd393d7dc7ae547c592134420b93b35897",
      "in_reply_to_id": 95169944,
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Right. This is no longer required because we always derive at minimum 2 internal keys. And `ReserveKeyFromKeyPool` will topup the keypool.\r\nWill remove that part.",
      "created_at": "2017-01-10T15:41:36Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95389732",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95389732"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95392157",
      "pull_request_review_id": 15945010,
      "id": 95392157,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1MzkyMTU3",
      "diff_hunk": "@@ -2809,33 +2831,33 @@ bool CWallet::TopUpKeyPool(unsigned int kpSize)\n         if (IsLocked())\n             return false;\n \n-        CWalletDB walletdb(strWalletFile);\n-\n         // Top up key pool\n         unsigned int nTargetSize;\n         if (kpSize > 0)\n             nTargetSize = kpSize;\n         else\n             nTargetSize = max(GetArg(\"-keypool\", DEFAULT_KEYPOOL_SIZE), (int64_t) 0);\n \n-        // count amount of available keys\n-        // don't rely on a 50%/50% keypool mix\n-        int64_t amountI = 0, amountE = 0;\n-        for(const int64_t& id : setKeyPool)\n+        // count amount of available keys (internal, external)\n+        // make sure the keypool of external keys fits the user selected target (-keypool)\n+        // generate +20% internal keys (minimum 2 keys)\n+        int64_t amountExternal = KeypoolCountExternalKeys();\n+        int64_t amountInternal = setKeyPool.size() - amountExternal;\n+        int64_t targetInternal = max((int64_t)ceil(nTargetSize * 0.2), (int64_t) 2);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 112,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "76c883cd393d7dc7ae547c592134420b93b35897",
      "in_reply_to_id": 95169601,
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> I find it a bit confusing that this value goes from 0(non-existant) to -keypool then to -keypool*.2. Perhaps have it start at 0 on previous commit, then set it to non-0 here (unless there is reasoning).\r\n\r\nFixed. I decided to squash the two commit into a single one because the current PR is a non-splittable change.",
      "created_at": "2017-01-10T15:51:11Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95392157",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95392157"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95394754",
      "pull_request_review_id": 15947689,
      "id": 95394754,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1Mzk0NzU0",
      "diff_hunk": "@@ -2300,17 +2301,20 @@ UniValue getwalletinfo(const JSONRPCRequest& request)\n     LOCK2(cs_main, pwalletMain->cs_wallet);\n \n     UniValue obj(UniValue::VOBJ);\n+    size_t kpExternalSize = (int)pwalletMain->KeypoolCountExternalKeys();\n     obj.push_back(Pair(\"walletversion\", pwalletMain->GetVersion()));\n     obj.push_back(Pair(\"balance\",       ValueFromAmount(pwalletMain->GetBalance())));\n     obj.push_back(Pair(\"unconfirmed_balance\", ValueFromAmount(pwalletMain->GetUnconfirmedBalance())));\n     obj.push_back(Pair(\"immature_balance\",    ValueFromAmount(pwalletMain->GetImmatureBalance())));\n     obj.push_back(Pair(\"txcount\",       (int)pwalletMain->mapWallet.size()));\n     obj.push_back(Pair(\"keypoololdest\", pwalletMain->GetOldestKeyPoolTime()));\n-    obj.push_back(Pair(\"keypoolsize\",   (int)pwalletMain->GetKeyPoolSize()));\n+    obj.push_back(Pair(\"keypoolsize\", (int64_t)kpExternalSize));\n+    CKeyID masterKeyID = pwalletMain->GetHDChain().masterKeyID;\n+    if (!masterKeyID.IsNull())\n+        obj.push_back(Pair(\"keypoolsize_hd_internal\",   (int64_t)(pwalletMain->GetKeyPoolSize() - kpExternalSize)));",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 43,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "76c883cd393d7dc7ae547c592134420b93b35897",
      "in_reply_to_id": 95171761,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Sorry, I agree with what you're saying I just wasn't clear enough. I suppose it's along the lines of @luke-jr 's comment about enum, keeping flexible for the future. Not a blocker, just a suggestion. That can be deferred. ",
      "created_at": "2017-01-10T16:01:15Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95394754",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95394754"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95395818",
      "pull_request_review_id": 15948789,
      "id": 95395818,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1Mzk1ODE4",
      "diff_hunk": "@@ -2300,17 +2301,20 @@ UniValue getwalletinfo(const JSONRPCRequest& request)\n     LOCK2(cs_main, pwalletMain->cs_wallet);\n \n     UniValue obj(UniValue::VOBJ);\n+    size_t kpExternalSize = (int)pwalletMain->KeypoolCountExternalKeys();\n     obj.push_back(Pair(\"walletversion\", pwalletMain->GetVersion()));\n     obj.push_back(Pair(\"balance\",       ValueFromAmount(pwalletMain->GetBalance())));\n     obj.push_back(Pair(\"unconfirmed_balance\", ValueFromAmount(pwalletMain->GetUnconfirmedBalance())));\n     obj.push_back(Pair(\"immature_balance\",    ValueFromAmount(pwalletMain->GetImmatureBalance())));\n     obj.push_back(Pair(\"txcount\",       (int)pwalletMain->mapWallet.size()));\n     obj.push_back(Pair(\"keypoololdest\", pwalletMain->GetOldestKeyPoolTime()));\n-    obj.push_back(Pair(\"keypoolsize\",   (int)pwalletMain->GetKeyPoolSize()));\n+    obj.push_back(Pair(\"keypoolsize\", (int64_t)kpExternalSize));\n+    CKeyID masterKeyID = pwalletMain->GetHDChain().masterKeyID;\n+    if (!masterKeyID.IsNull())\n+        obj.push_back(Pair(\"keypoolsize_hd_internal\",   (int64_t)(pwalletMain->GetKeyPoolSize() - kpExternalSize)));",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 43,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "76c883cd393d7dc7ae547c592134420b93b35897",
      "in_reply_to_id": 95171761,
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Right. This is generally a good idea. IMO the next possible HD extensions (far away) are maybe xpub watch-only-wallets, flexible keypath, hd-multisig.\r\nI can't imagine any change the would require a third (or more then two) type(s) during key derivation as well as in the keypool.",
      "created_at": "2017-01-10T16:05:09Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95395818",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95395818"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95876001",
      "pull_request_review_id": 16446426,
      "id": 95876001,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1ODc2MDAx",
      "diff_hunk": "@@ -58,13 +61,16 @@ class CHDChain\n     {\n         READWRITE(this->nVersion);\n         READWRITE(nExternalChainCounter);\n+        if (this->nVersion >= VERSION_HD_CHAIN_SPLIT)",
      "path": "src/wallet/walletdb.h",
      "position": null,
      "original_position": 18,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This should set nInternalChainCounter for old versions - maybe use `std::numeric_limits<uint32_t>::max()` (and make it private, with all accessors throwing if it's not a sufficient version)?\r\n\r\nAlso, braces, please.",
      "created_at": "2017-01-12T20:19:41Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95876001",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95876001"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95876240",
      "pull_request_review_id": 16446426,
      "id": 95876240,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1ODc2MjQw",
      "diff_hunk": "@@ -87,7 +87,7 @@ const CWalletTx* CWallet::GetWalletTx(const uint256& hash) const\n     return &(it->second);\n }\n \n-CPubKey CWallet::GenerateNewKey()\n+CPubKey CWallet::GenerateNewKey(bool internal)",
      "path": "src/wallet/wallet.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0971c35319bfb5fe3dd7313b26b90541e46db9c0",
      "in_reply_to_id": 93689981,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "To avoid implicit casting when/if the type changes for this parameter. Also makes it clearer at the call-locations what the parameter is specifying.",
      "created_at": "2017-01-12T20:21:02Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95876240",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95876240"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 88,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95876524",
      "pull_request_review_id": 16446426,
      "id": 95876524,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1ODc2NTI0",
      "diff_hunk": "@@ -100,7 +100,7 @@ CPubKey CWallet::GenerateNewKey()\n \n     // use HD key derivation if HD was enabled during wallet creation\n     if (IsHDEnabled()) {\n-        DeriveNewChildKey(metadata, secret);\n+        DeriveNewChildKey(metadata, secret, (CanSupportFeature(FEATURE_HD_SPLIT) ? internal : false));",
      "path": "src/wallet/wallet.cpp",
      "position": 14,
      "original_position": 14,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Is there a reason to do this check here, rather than inside `DeriveNewChildKey`?",
      "created_at": "2017-01-12T20:22:25Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95876524",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95876524"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 101,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95876955",
      "pull_request_review_id": 16446426,
      "id": 95876955,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1ODc2OTU1",
      "diff_hunk": "@@ -140,19 +140,22 @@ void CWallet::DeriveNewChildKey(CKeyMetadata& metadata, CKey& secret)\n     // use hardened derivation (child keys >= 0x80000000 are hardened after bip32)\n     masterKey.Derive(accountKey, BIP32_HARDENED_KEY_LIMIT);\n \n-    // derive m/0'/0'\n-    accountKey.Derive(externalChainChildKey, BIP32_HARDENED_KEY_LIMIT);\n+    // derive m/0'/0' (external chain) OR m/0'/1' (internal chain)\n+    accountKey.Derive(chainChildKey, BIP32_HARDENED_KEY_LIMIT+(internal ? 1 : 0));\n \n     // derive child key at next index, skip keys already known to the wallet\n     do {\n         // always derive hardened keys\n         // childIndex | BIP32_HARDENED_KEY_LIMIT = derive childIndex in hardened child-index-range\n         // example: 1 | BIP32_HARDENED_KEY_LIMIT == 0x80000001 == 2147483649\n-        externalChainChildKey.Derive(childKey, hdChain.nExternalChainCounter | BIP32_HARDENED_KEY_LIMIT);\n-        metadata.hdKeypath = \"m/0'/0'/\" + std::to_string(hdChain.nExternalChainCounter) + \"'\";\n+        chainChildKey.Derive(childKey, (internal ? hdChain.nInternalChainCounter : hdChain.nExternalChainCounter) | BIP32_HARDENED_KEY_LIMIT);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 50,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Seems like this could be significantly simplified with:\r\n\r\n```C++\r\nuint32_t &nChainCounter = (internal ? hdChain.nInternalChainCounter : hdChain.nExternalChainCounter);\r\n```",
      "created_at": "2017-01-12T20:24:34Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95876955",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95876955"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95877306",
      "pull_request_review_id": 16446426,
      "id": 95877306,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1ODc3MzA2",
      "diff_hunk": "@@ -1294,8 +1297,8 @@ bool CWallet::SetHDMasterKey(const CPubKey& pubkey)\n {\n     LOCK(cs_wallet);\n \n-    // ensure this wallet.dat can only be opened by clients supporting HD\n-    SetMinVersion(FEATURE_HD);\n+    // ensure this wallet.dat can only be opened by clients supporting HD with chain split\n+    SetMinVersion(FEATURE_HD_SPLIT);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 78,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think this won't work if the user specifies a HD-but-not-split wallet version for `-walletupgrade`?",
      "created_at": "2017-01-12T20:26:25Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95877306",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95877306"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95877821",
      "pull_request_review_id": 16446426,
      "id": 95877821,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1ODc3ODIx",
      "diff_hunk": "@@ -2870,18 +2873,31 @@ bool CWallet::NewKeyPool()\n         if (IsLocked())\n             return false;\n \n-        int64_t nKeys = max(GetArg(\"-keypool\", DEFAULT_KEYPOOL_SIZE), (int64_t)0);\n-        for (int i = 0; i < nKeys; i++)\n-        {\n-            int64_t nIndex = i+1;\n-            walletdb.WritePool(nIndex, CKeyPool(GenerateNewKey()));\n-            setKeyPool.insert(nIndex);\n-        }\n-        LogPrintf(\"CWallet::NewKeyPool wrote %d new keys\\n\", nKeys);\n+        TopUpKeyPool();",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 103,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Probably should check the return value here. Since `TopUpKeyPool` also checks `IsLocked`, perhaps replace it above?",
      "created_at": "2017-01-12T20:29:27Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95877821",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95877821"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95878452",
      "pull_request_review_id": 16446426,
      "id": 95878452,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1ODc4NDUy",
      "diff_hunk": "@@ -2870,18 +2873,31 @@ bool CWallet::NewKeyPool()\n         if (IsLocked())\n             return false;\n \n-        int64_t nKeys = max(GetArg(\"-keypool\", DEFAULT_KEYPOOL_SIZE), (int64_t)0);\n-        for (int i = 0; i < nKeys; i++)\n-        {\n-            int64_t nIndex = i+1;\n-            walletdb.WritePool(nIndex, CKeyPool(GenerateNewKey()));\n-            setKeyPool.insert(nIndex);\n-        }\n-        LogPrintf(\"CWallet::NewKeyPool wrote %d new keys\\n\", nKeys);\n+        TopUpKeyPool();\n+        LogPrintf(\"CWallet::NewKeyPool rewrote keypool\\n\");\n     }\n     return true;\n }\n \n+size_t CWallet::KeypoolCountExternalKeys()",
      "path": "src/wallet/wallet.cpp",
      "position": 144,
      "original_position": 109,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Maybe `KeypoolCountKeys(bool internal)`?",
      "created_at": "2017-01-12T20:32:56Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95878452",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95878452"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2915,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95878639",
      "pull_request_review_id": 16446426,
      "id": 95878639,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1ODc4NjM5",
      "diff_hunk": "@@ -2870,18 +2873,31 @@ bool CWallet::NewKeyPool()\n         if (IsLocked())\n             return false;\n \n-        int64_t nKeys = max(GetArg(\"-keypool\", DEFAULT_KEYPOOL_SIZE), (int64_t)0);\n-        for (int i = 0; i < nKeys; i++)\n-        {\n-            int64_t nIndex = i+1;\n-            walletdb.WritePool(nIndex, CKeyPool(GenerateNewKey()));\n-            setKeyPool.insert(nIndex);\n-        }\n-        LogPrintf(\"CWallet::NewKeyPool wrote %d new keys\\n\", nKeys);\n+        TopUpKeyPool();\n+        LogPrintf(\"CWallet::NewKeyPool rewrote keypool\\n\");\n     }\n     return true;\n }\n \n+size_t CWallet::KeypoolCountExternalKeys()\n+{\n+    AssertLockHeld(cs_wallet); // setKeyPool\n+\n+    CWalletDB walletdb(strWalletFile);\n+\n+    // count amount of external keys\n+    size_t amountE = 0;\n+    for(const int64_t& id : setKeyPool)",
      "path": "src/wallet/wallet.cpp",
      "position": 156,
      "original_position": 117,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Iterating over the entire keypool, even if small (which is not guaranteed), seems excessive to do for every keypool top-up... *especially* if we're reading the wallet db (ie, I/O) for each key.",
      "created_at": "2017-01-12T20:34:02Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95878639",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95878639"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2927,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95879714",
      "pull_request_review_id": 16446426,
      "id": 95879714,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1ODc5NzE0",
      "diff_hunk": "@@ -2890,30 +2906,45 @@ bool CWallet::TopUpKeyPool(unsigned int kpSize)\n         if (IsLocked())\n             return false;\n \n-        CWalletDB walletdb(strWalletFile);\n-\n         // Top up key pool\n         unsigned int nTargetSize;\n         if (kpSize > 0)\n             nTargetSize = kpSize;\n         else\n             nTargetSize = max(GetArg(\"-keypool\", DEFAULT_KEYPOOL_SIZE), (int64_t) 0);\n \n-        while (setKeyPool.size() < (nTargetSize + 1))\n+        // count amount of available keys (internal, external)\n+        // make sure the keypool of external keys fits the user selected target (-keypool)\n+        // generate +20% internal keys (minimum 2 keys)\n+        int64_t amountExternal = KeypoolCountExternalKeys();\n+        int64_t amountInternal = setKeyPool.size() - amountExternal;\n+        int64_t targetInternal = max((int64_t)ceil(nTargetSize * 0.2), (int64_t) 2);\n+        int64_t missingExternal = max( (int64_t)(nTargetSize - amountExternal), (int64_t) 0);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 151,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Shouldn't the cast be directly on `nTargetSize`, rather than the result of the subtraction?",
      "created_at": "2017-01-12T20:39:45Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95879714",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95879714"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95879952",
      "pull_request_review_id": 16446426,
      "id": 95879952,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1ODc5OTUy",
      "diff_hunk": "@@ -2890,30 +2906,45 @@ bool CWallet::TopUpKeyPool(unsigned int kpSize)\n         if (IsLocked())\n             return false;\n \n-        CWalletDB walletdb(strWalletFile);\n-\n         // Top up key pool\n         unsigned int nTargetSize;\n         if (kpSize > 0)\n             nTargetSize = kpSize;\n         else\n             nTargetSize = max(GetArg(\"-keypool\", DEFAULT_KEYPOOL_SIZE), (int64_t) 0);\n \n-        while (setKeyPool.size() < (nTargetSize + 1))\n+        // count amount of available keys (internal, external)\n+        // make sure the keypool of external keys fits the user selected target (-keypool)\n+        // generate +20% internal keys (minimum 2 keys)\n+        int64_t amountExternal = KeypoolCountExternalKeys();\n+        int64_t amountInternal = setKeyPool.size() - amountExternal;\n+        int64_t targetInternal = max((int64_t)ceil(nTargetSize * 0.2), (int64_t) 2);\n+        int64_t missingExternal = max( (int64_t)(nTargetSize - amountExternal), (int64_t) 0);\n+        int64_t missingInternal = max(targetInternal - amountInternal, (int64_t) 0);\n+\n+        if (!IsHDEnabled() || !CanSupportFeature(FEATURE_HD_SPLIT))\n+        {\n+            // don't flag keypool keys internal if we don't use HD",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 156,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Also don't create extra internal keys (already current code behaviour, but comment could be clearer).",
      "created_at": "2017-01-12T20:40:55Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95879952",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95879952"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95880566",
      "pull_request_review_id": 16446426,
      "id": 95880566,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1ODgwNTY2",
      "diff_hunk": "@@ -2890,30 +2906,45 @@ bool CWallet::TopUpKeyPool(unsigned int kpSize)\n         if (IsLocked())\n             return false;\n \n-        CWalletDB walletdb(strWalletFile);\n-\n         // Top up key pool\n         unsigned int nTargetSize;\n         if (kpSize > 0)\n             nTargetSize = kpSize;\n         else\n             nTargetSize = max(GetArg(\"-keypool\", DEFAULT_KEYPOOL_SIZE), (int64_t) 0);\n \n-        while (setKeyPool.size() < (nTargetSize + 1))\n+        // count amount of available keys (internal, external)\n+        // make sure the keypool of external keys fits the user selected target (-keypool)\n+        // generate +20% internal keys (minimum 2 keys)\n+        int64_t amountExternal = KeypoolCountExternalKeys();\n+        int64_t amountInternal = setKeyPool.size() - amountExternal;\n+        int64_t targetInternal = max((int64_t)ceil(nTargetSize * 0.2), (int64_t) 2);\n+        int64_t missingExternal = max( (int64_t)(nTargetSize - amountExternal), (int64_t) 0);\n+        int64_t missingInternal = max(targetInternal - amountInternal, (int64_t) 0);\n+\n+        if (!IsHDEnabled() || !CanSupportFeature(FEATURE_HD_SPLIT))\n+        {\n+            // don't flag keypool keys internal if we don't use HD\n+            missingInternal = 0;\n+        }\n+        bool internal = true;\n+        CWalletDB walletdb(strWalletFile);\n+        for(unsigned int i = 0; i < missingInternal + missingExternal; i++)",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 161,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Better to count down and avoid adding every iteration:\r\n\r\n```C++\r\nfor (int64_t i = missingInternal + missingExternal; i--; )\r\n```",
      "created_at": "2017-01-12T20:43:51Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95880566",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95880566"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95880783",
      "pull_request_review_id": 16446426,
      "id": 95880783,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1ODgwNzgz",
      "diff_hunk": "@@ -2890,30 +2906,45 @@ bool CWallet::TopUpKeyPool(unsigned int kpSize)\n         if (IsLocked())\n             return false;\n \n-        CWalletDB walletdb(strWalletFile);\n-\n         // Top up key pool\n         unsigned int nTargetSize;\n         if (kpSize > 0)\n             nTargetSize = kpSize;\n         else\n             nTargetSize = max(GetArg(\"-keypool\", DEFAULT_KEYPOOL_SIZE), (int64_t) 0);\n \n-        while (setKeyPool.size() < (nTargetSize + 1))\n+        // count amount of available keys (internal, external)\n+        // make sure the keypool of external keys fits the user selected target (-keypool)\n+        // generate +20% internal keys (minimum 2 keys)\n+        int64_t amountExternal = KeypoolCountExternalKeys();\n+        int64_t amountInternal = setKeyPool.size() - amountExternal;\n+        int64_t targetInternal = max((int64_t)ceil(nTargetSize * 0.2), (int64_t) 2);\n+        int64_t missingExternal = max( (int64_t)(nTargetSize - amountExternal), (int64_t) 0);\n+        int64_t missingInternal = max(targetInternal - amountInternal, (int64_t) 0);\n+\n+        if (!IsHDEnabled() || !CanSupportFeature(FEATURE_HD_SPLIT))\n+        {\n+            // don't flag keypool keys internal if we don't use HD\n+            missingInternal = 0;\n+        }\n+        bool internal = true;\n+        CWalletDB walletdb(strWalletFile);\n+        for(unsigned int i = 0; i < missingInternal + missingExternal; i++)\n         {\n             int64_t nEnd = 1;\n+            internal = (i < missingInternal);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 164,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "(Assuming counting down, and `internal` initialised to `false` above:)\r\n\r\n```C++\r\nif (i < missingInternal) {\r\n    internal = true;\r\n}\r\n```",
      "created_at": "2017-01-12T20:45:03Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95880783",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95880783"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95881341",
      "pull_request_review_id": 16446426,
      "id": 95881341,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1ODgxMzQx",
      "diff_hunk": "@@ -2929,14 +2960,24 @@ void CWallet::ReserveKeyFromKeyPool(int64_t& nIndex, CKeyPool& keypool)\n \n         CWalletDB walletdb(strWalletFile);\n \n-        nIndex = *(setKeyPool.begin());\n-        setKeyPool.erase(setKeyPool.begin());\n-        if (!walletdb.ReadPool(nIndex, keypool))\n-            throw runtime_error(std::string(__func__) + \": read failed\");\n-        if (!HaveKey(keypool.vchPubKey.GetID()))\n-            throw runtime_error(std::string(__func__) + \": unknown key in key pool\");\n-        assert(keypool.vchPubKey.IsValid());\n-        LogPrintf(\"keypool reserve %d\\n\", nIndex);\n+        // try to find a key that matches the internal/external filter\n+        for(const int64_t& id : setKeyPool)\n+        {\n+            CKeyPool tmpKeypool;\n+            if (!walletdb.ReadPool(id, tmpKeypool))\n+                throw runtime_error(std::string(__func__) + \": read failed\");\n+            if (!HaveKey(tmpKeypool.vchPubKey.GetID()))\n+                throw runtime_error(std::string(__func__) + \": unknown key in key pool\");",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 202,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "These exceptions used to be thrown after the key was removed from the set, allowing a retry to succeed. That is no longer the case here, potentially leading to irrecoverable situations. I'm unsure if this is good or bad.",
      "created_at": "2017-01-12T20:48:04Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95881341",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95881341"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95882702",
      "pull_request_review_id": 16446426,
      "id": 95882702,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1ODgyNzAy",
      "diff_hunk": "@@ -111,6 +116,13 @@ class CKeyPool\n             READWRITE(nVersion);\n         READWRITE(nTime);\n         READWRITE(vchPubKey);\n+        if (nVersion >= FEATURE_HD_SPLIT)\n+            READWRITE(fInternal);\n+        else\n+        {\n+            if (ser_action.ForRead())\n+                fInternal = false;",
      "path": "src/wallet/wallet.h",
      "position": null,
      "original_position": 32,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Maybe throw an exception if `!ser_action.ForRead() && fInternal`?\r\n\r\nEither way, please add braces.",
      "created_at": "2017-01-12T20:55:39Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95882702",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95882702"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95882966",
      "pull_request_review_id": 16446426,
      "id": 95882966,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1ODgyOTY2",
      "diff_hunk": "@@ -712,8 +724,8 @@ class CWallet : public CCryptoKeyStore, public CValidationInterface\n      * keystore implementation\n      * Generate a new key\n      */\n-    CPubKey GenerateNewKey();\n-    void DeriveNewChildKey(CKeyMetadata& metadata, CKey& secret);\n+    CPubKey GenerateNewKey(bool internal = false);\n+    void DeriveNewChildKey(CKeyMetadata& metadata, CKey& secret, bool internal = false);",
      "path": "src/wallet/wallet.h",
      "position": null,
      "original_position": 44,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Do we want `internal` to have a default? Should it be `false`? IIRC currently new keys default to change unless added to the address book, so this default seems to contradict the status quo.",
      "created_at": "2017-01-12T20:56:54Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95882966",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95882966"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95883264",
      "pull_request_review_id": 16446426,
      "id": 95883264,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1ODgzMjY0",
      "diff_hunk": "@@ -46,9 +46,12 @@ class CHDChain\n {\n public:\n     uint32_t nExternalChainCounter;\n+    uint32_t nInternalChainCounter;\n     CKeyID masterKeyID; //!< master key hash160\n \n-    static const int CURRENT_VERSION = 1;\n+    static const int VERSION_HD_BASE        = 1;",
      "path": "src/wallet/walletdb.h",
      "position": 8,
      "original_position": 8,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Missing logic to initialise this version.",
      "created_at": "2017-01-12T20:58:26Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95883264",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95883264"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 52,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95883977",
      "pull_request_review_id": 16446426,
      "id": 95883977,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1ODgzOTc3",
      "diff_hunk": "@@ -2315,17 +2316,20 @@ UniValue getwalletinfo(const JSONRPCRequest& request)\n     LOCK2(cs_main, pwalletMain->cs_wallet);\n \n     UniValue obj(UniValue::VOBJ);\n+    size_t kpExternalSize = (int)pwalletMain->KeypoolCountExternalKeys();\n     obj.push_back(Pair(\"walletversion\", pwalletMain->GetVersion()));\n     obj.push_back(Pair(\"balance\",       ValueFromAmount(pwalletMain->GetBalance())));\n     obj.push_back(Pair(\"unconfirmed_balance\", ValueFromAmount(pwalletMain->GetUnconfirmedBalance())));\n     obj.push_back(Pair(\"immature_balance\",    ValueFromAmount(pwalletMain->GetImmatureBalance())));\n     obj.push_back(Pair(\"txcount\",       (int)pwalletMain->mapWallet.size()));\n     obj.push_back(Pair(\"keypoololdest\", pwalletMain->GetOldestKeyPoolTime()));\n-    obj.push_back(Pair(\"keypoolsize\",   (int)pwalletMain->GetKeyPoolSize()));\n+    obj.push_back(Pair(\"keypoolsize\", (int64_t)kpExternalSize));",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 49,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`keypoolsize` should probably be the lower of the two and deprecated. There is no reason to assume prior use didn't look at it for info on change keys.",
      "created_at": "2017-01-12T21:02:36Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95883977",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95883977"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95884181",
      "pull_request_review_id": 16446426,
      "id": 95884181,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1ODg0MTgx",
      "diff_hunk": "@@ -2300,17 +2301,20 @@ UniValue getwalletinfo(const JSONRPCRequest& request)\n     LOCK2(cs_main, pwalletMain->cs_wallet);\n \n     UniValue obj(UniValue::VOBJ);\n+    size_t kpExternalSize = (int)pwalletMain->KeypoolCountExternalKeys();\n     obj.push_back(Pair(\"walletversion\", pwalletMain->GetVersion()));\n     obj.push_back(Pair(\"balance\",       ValueFromAmount(pwalletMain->GetBalance())));\n     obj.push_back(Pair(\"unconfirmed_balance\", ValueFromAmount(pwalletMain->GetUnconfirmedBalance())));\n     obj.push_back(Pair(\"immature_balance\",    ValueFromAmount(pwalletMain->GetImmatureBalance())));\n     obj.push_back(Pair(\"txcount\",       (int)pwalletMain->mapWallet.size()));\n     obj.push_back(Pair(\"keypoololdest\", pwalletMain->GetOldestKeyPoolTime()));\n-    obj.push_back(Pair(\"keypoolsize\",   (int)pwalletMain->GetKeyPoolSize()));\n+    obj.push_back(Pair(\"keypoolsize\", (int64_t)kpExternalSize));\n+    CKeyID masterKeyID = pwalletMain->GetHDChain().masterKeyID;\n+    if (!masterKeyID.IsNull())\n+        obj.push_back(Pair(\"keypoolsize_hd_internal\",   (int64_t)(pwalletMain->GetKeyPoolSize() - kpExternalSize)));",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 43,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "76c883cd393d7dc7ae547c592134420b93b35897",
      "in_reply_to_id": 95171761,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`\"keypoolsizes\": {\"internal\": N, \"external\": N}` sounds like a good idea here.",
      "created_at": "2017-01-12T21:03:47Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95884181",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95884181"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95884308",
      "pull_request_review_id": 16446426,
      "id": 95884308,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1ODg0MzA4",
      "diff_hunk": "@@ -2315,17 +2316,20 @@ UniValue getwalletinfo(const JSONRPCRequest& request)\n     LOCK2(cs_main, pwalletMain->cs_wallet);\n \n     UniValue obj(UniValue::VOBJ);\n+    size_t kpExternalSize = (int)pwalletMain->KeypoolCountExternalKeys();\n     obj.push_back(Pair(\"walletversion\", pwalletMain->GetVersion()));\n     obj.push_back(Pair(\"balance\",       ValueFromAmount(pwalletMain->GetBalance())));\n     obj.push_back(Pair(\"unconfirmed_balance\", ValueFromAmount(pwalletMain->GetUnconfirmedBalance())));\n     obj.push_back(Pair(\"immature_balance\",    ValueFromAmount(pwalletMain->GetImmatureBalance())));\n     obj.push_back(Pair(\"txcount\",       (int)pwalletMain->mapWallet.size()));\n     obj.push_back(Pair(\"keypoololdest\", pwalletMain->GetOldestKeyPoolTime()));\n-    obj.push_back(Pair(\"keypoolsize\",   (int)pwalletMain->GetKeyPoolSize()));\n+    obj.push_back(Pair(\"keypoolsize\", (int64_t)kpExternalSize));\n+    CKeyID masterKeyID = pwalletMain->GetHDChain().masterKeyID;\n+    if (!masterKeyID.IsNull())",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 51,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Shouldn't this use `CanSupportFeature(FEATURE_HD_SPLIT)`?",
      "created_at": "2017-01-12T21:04:32Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95884308",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95884308"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95947333",
      "pull_request_review_id": 16518323,
      "id": 95947333,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1OTQ3MzMz",
      "diff_hunk": "@@ -2315,17 +2316,20 @@ UniValue getwalletinfo(const JSONRPCRequest& request)\n     LOCK2(cs_main, pwalletMain->cs_wallet);\n \n     UniValue obj(UniValue::VOBJ);\n+    size_t kpExternalSize = (int)pwalletMain->KeypoolCountExternalKeys();\n     obj.push_back(Pair(\"walletversion\", pwalletMain->GetVersion()));\n     obj.push_back(Pair(\"balance\",       ValueFromAmount(pwalletMain->GetBalance())));\n     obj.push_back(Pair(\"unconfirmed_balance\", ValueFromAmount(pwalletMain->GetUnconfirmedBalance())));\n     obj.push_back(Pair(\"immature_balance\",    ValueFromAmount(pwalletMain->GetImmatureBalance())));\n     obj.push_back(Pair(\"txcount\",       (int)pwalletMain->mapWallet.size()));\n     obj.push_back(Pair(\"keypoololdest\", pwalletMain->GetOldestKeyPoolTime()));\n-    obj.push_back(Pair(\"keypoolsize\",   (int)pwalletMain->GetKeyPoolSize()));\n+    obj.push_back(Pair(\"keypoolsize\", (int64_t)kpExternalSize));\n+    CKeyID masterKeyID = pwalletMain->GetHDChain().masterKeyID;\n+    if (!masterKeyID.IsNull())",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 51,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": 95884308,
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think always reporting `keypoolsize_hd_internal` (with 0 in non HD-SPLIT case) can make parsing simpler.",
      "created_at": "2017-01-13T07:18:00Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95947333",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95947333"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95947412",
      "pull_request_review_id": 16518396,
      "id": 95947412,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1OTQ3NDEy",
      "diff_hunk": "@@ -2300,17 +2301,20 @@ UniValue getwalletinfo(const JSONRPCRequest& request)\n     LOCK2(cs_main, pwalletMain->cs_wallet);\n \n     UniValue obj(UniValue::VOBJ);\n+    size_t kpExternalSize = (int)pwalletMain->KeypoolCountExternalKeys();\n     obj.push_back(Pair(\"walletversion\", pwalletMain->GetVersion()));\n     obj.push_back(Pair(\"balance\",       ValueFromAmount(pwalletMain->GetBalance())));\n     obj.push_back(Pair(\"unconfirmed_balance\", ValueFromAmount(pwalletMain->GetUnconfirmedBalance())));\n     obj.push_back(Pair(\"immature_balance\",    ValueFromAmount(pwalletMain->GetImmatureBalance())));\n     obj.push_back(Pair(\"txcount\",       (int)pwalletMain->mapWallet.size()));\n     obj.push_back(Pair(\"keypoololdest\", pwalletMain->GetOldestKeyPoolTime()));\n-    obj.push_back(Pair(\"keypoolsize\",   (int)pwalletMain->GetKeyPoolSize()));\n+    obj.push_back(Pair(\"keypoolsize\", (int64_t)kpExternalSize));\n+    CKeyID masterKeyID = pwalletMain->GetHDChain().masterKeyID;\n+    if (!masterKeyID.IsNull())\n+        obj.push_back(Pair(\"keypoolsize_hd_internal\",   (int64_t)(pwalletMain->GetKeyPoolSize() - kpExternalSize)));",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 43,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "76c883cd393d7dc7ae547c592134420b93b35897",
      "in_reply_to_id": 95171761,
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I though about that, but this would break the API while the current PRs change does not.",
      "created_at": "2017-01-13T07:18:52Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95947412",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95947412"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95947588",
      "pull_request_review_id": 16518563,
      "id": 95947588,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1OTQ3NTg4",
      "diff_hunk": "@@ -100,7 +100,7 @@ CPubKey CWallet::GenerateNewKey()\n \n     // use HD key derivation if HD was enabled during wallet creation\n     if (IsHDEnabled()) {\n-        DeriveNewChildKey(metadata, secret);\n+        DeriveNewChildKey(metadata, secret, (CanSupportFeature(FEATURE_HD_SPLIT) ? internal : false));",
      "path": "src/wallet/wallet.cpp",
      "position": 14,
      "original_position": 14,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": 95876524,
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "A design question, but IMO `DeriveNewChildKey` should execute the derivation and not care about wallet versions and supported features.",
      "created_at": "2017-01-13T07:20:56Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95947588",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95947588"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 101,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95947698",
      "pull_request_review_id": 16518664,
      "id": 95947698,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1OTQ3Njk4",
      "diff_hunk": "@@ -1294,8 +1297,8 @@ bool CWallet::SetHDMasterKey(const CPubKey& pubkey)\n {\n     LOCK(cs_wallet);\n \n-    // ensure this wallet.dat can only be opened by clients supporting HD\n-    SetMinVersion(FEATURE_HD);\n+    // ensure this wallet.dat can only be opened by clients supporting HD with chain split\n+    SetMinVersion(FEATURE_HD_SPLIT);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 78,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": 95877306,
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think we should no longer allow non split HD versions.",
      "created_at": "2017-01-13T07:22:18Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95947698",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95947698"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95947772",
      "pull_request_review_id": 16518728,
      "id": 95947772,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1OTQ3Nzcy",
      "diff_hunk": "@@ -2870,18 +2873,31 @@ bool CWallet::NewKeyPool()\n         if (IsLocked())\n             return false;\n \n-        int64_t nKeys = max(GetArg(\"-keypool\", DEFAULT_KEYPOOL_SIZE), (int64_t)0);\n-        for (int i = 0; i < nKeys; i++)\n-        {\n-            int64_t nIndex = i+1;\n-            walletdb.WritePool(nIndex, CKeyPool(GenerateNewKey()));\n-            setKeyPool.insert(nIndex);\n-        }\n-        LogPrintf(\"CWallet::NewKeyPool wrote %d new keys\\n\", nKeys);\n+        TopUpKeyPool();",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 103,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": 95877821,
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The program can never reach this point in `IsLocked()` state because we return at L2871.",
      "created_at": "2017-01-13T07:23:10Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95947772",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95947772"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95947886",
      "pull_request_review_id": 16518846,
      "id": 95947886,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1OTQ3ODg2",
      "diff_hunk": "@@ -2870,18 +2873,31 @@ bool CWallet::NewKeyPool()\n         if (IsLocked())\n             return false;\n \n-        int64_t nKeys = max(GetArg(\"-keypool\", DEFAULT_KEYPOOL_SIZE), (int64_t)0);\n-        for (int i = 0; i < nKeys; i++)\n-        {\n-            int64_t nIndex = i+1;\n-            walletdb.WritePool(nIndex, CKeyPool(GenerateNewKey()));\n-            setKeyPool.insert(nIndex);\n-        }\n-        LogPrintf(\"CWallet::NewKeyPool wrote %d new keys\\n\", nKeys);\n+        TopUpKeyPool();\n+        LogPrintf(\"CWallet::NewKeyPool rewrote keypool\\n\");\n     }\n     return true;\n }\n \n+size_t CWallet::KeypoolCountExternalKeys()",
      "path": "src/wallet/wallet.cpp",
      "position": 144,
      "original_position": 109,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": 95878452,
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Again a design question. setKeyPool.size() - KeypoolCountExternalKeys() = internal key count.",
      "created_at": "2017-01-13T07:24:29Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95947886",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95947886"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2915,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95948005",
      "pull_request_review_id": 16518966,
      "id": 95948005,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1OTQ4MDA1",
      "diff_hunk": "@@ -2870,18 +2873,31 @@ bool CWallet::NewKeyPool()\n         if (IsLocked())\n             return false;\n \n-        int64_t nKeys = max(GetArg(\"-keypool\", DEFAULT_KEYPOOL_SIZE), (int64_t)0);\n-        for (int i = 0; i < nKeys; i++)\n-        {\n-            int64_t nIndex = i+1;\n-            walletdb.WritePool(nIndex, CKeyPool(GenerateNewKey()));\n-            setKeyPool.insert(nIndex);\n-        }\n-        LogPrintf(\"CWallet::NewKeyPool wrote %d new keys\\n\", nKeys);\n+        TopUpKeyPool();\n+        LogPrintf(\"CWallet::NewKeyPool rewrote keypool\\n\");\n     }\n     return true;\n }\n \n+size_t CWallet::KeypoolCountExternalKeys()\n+{\n+    AssertLockHeld(cs_wallet); // setKeyPool\n+\n+    CWalletDB walletdb(strWalletFile);\n+\n+    // count amount of external keys\n+    size_t amountE = 0;\n+    for(const int64_t& id : setKeyPool)",
      "path": "src/wallet/wallet.cpp",
      "position": 156,
      "original_position": 117,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": 95878639,
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think we have no other reliable way here and the performance impact should be little. BDB should be pretty fast for that operation and we are only opening the DB once.",
      "created_at": "2017-01-13T07:26:06Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95948005",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95948005"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2927,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95948431",
      "pull_request_review_id": 16519404,
      "id": 95948431,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1OTQ4NDMx",
      "diff_hunk": "@@ -712,8 +724,8 @@ class CWallet : public CCryptoKeyStore, public CValidationInterface\n      * keystore implementation\n      * Generate a new key\n      */\n-    CPubKey GenerateNewKey();\n-    void DeriveNewChildKey(CKeyMetadata& metadata, CKey& secret);\n+    CPubKey GenerateNewKey(bool internal = false);\n+    void DeriveNewChildKey(CKeyMetadata& metadata, CKey& secret, bool internal = false);",
      "path": "src/wallet/wallet.h",
      "position": null,
      "original_position": 44,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": 95882966,
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I have set the default to false to keep the exiting behaviour.",
      "created_at": "2017-01-13T07:31:27Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95948431",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95948431"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95948510",
      "pull_request_review_id": 16519491,
      "id": 95948510,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1OTQ4NTEw",
      "diff_hunk": "@@ -46,9 +46,12 @@ class CHDChain\n {\n public:\n     uint32_t nExternalChainCounter;\n+    uint32_t nInternalChainCounter;\n     CKeyID masterKeyID; //!< master key hash160\n \n-    static const int CURRENT_VERSION = 1;\n+    static const int VERSION_HD_BASE        = 1;",
      "path": "src/wallet/walletdb.h",
      "position": 8,
      "original_position": 8,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": 95883264,
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`VERSION_HD_BASE` is only there to identify versions that do not support HD SPLIT (first HD version introduced in 0.13).",
      "created_at": "2017-01-13T07:32:24Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r95948510",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95948510"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 52,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96032020",
      "pull_request_review_id": 16607871,
      "id": 96032020,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2MDMyMDIw",
      "diff_hunk": "@@ -2315,17 +2316,20 @@ UniValue getwalletinfo(const JSONRPCRequest& request)\n     LOCK2(cs_main, pwalletMain->cs_wallet);\n \n     UniValue obj(UniValue::VOBJ);\n+    size_t kpExternalSize = (int)pwalletMain->KeypoolCountExternalKeys();\n     obj.push_back(Pair(\"walletversion\", pwalletMain->GetVersion()));\n     obj.push_back(Pair(\"balance\",       ValueFromAmount(pwalletMain->GetBalance())));\n     obj.push_back(Pair(\"unconfirmed_balance\", ValueFromAmount(pwalletMain->GetUnconfirmedBalance())));\n     obj.push_back(Pair(\"immature_balance\",    ValueFromAmount(pwalletMain->GetImmatureBalance())));\n     obj.push_back(Pair(\"txcount\",       (int)pwalletMain->mapWallet.size()));\n     obj.push_back(Pair(\"keypoololdest\", pwalletMain->GetOldestKeyPoolTime()));\n-    obj.push_back(Pair(\"keypoolsize\",   (int)pwalletMain->GetKeyPoolSize()));\n+    obj.push_back(Pair(\"keypoolsize\", (int64_t)kpExternalSize));\n+    CKeyID masterKeyID = pwalletMain->GetHDChain().masterKeyID;\n+    if (!masterKeyID.IsNull())",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 51,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": 95884308,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Then always report it? Right now it's conditional on something more or less irrelevant.\r\n\r\nBut I'm not sure it makes sense to ever report 0 when there are indeed keys that will be used for internal outputs...",
      "created_at": "2017-01-13T17:09:43Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96032020",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96032020"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96032283",
      "pull_request_review_id": 16608143,
      "id": 96032283,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2MDMyMjgz",
      "diff_hunk": "@@ -712,8 +724,8 @@ class CWallet : public CCryptoKeyStore, public CValidationInterface\n      * keystore implementation\n      * Generate a new key\n      */\n-    CPubKey GenerateNewKey();\n-    void DeriveNewChildKey(CKeyMetadata& metadata, CKey& secret);\n+    CPubKey GenerateNewKey(bool internal = false);\n+    void DeriveNewChildKey(CKeyMetadata& metadata, CKey& secret, bool internal = false);",
      "path": "src/wallet/wallet.h",
      "position": null,
      "original_position": 44,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": 95882966,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "My point is that the existing behaviour is closer to `true` than `false`.",
      "created_at": "2017-01-13T17:10:59Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96032283",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96032283"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96032544",
      "pull_request_review_id": 16608420,
      "id": 96032544,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2MDMyNTQ0",
      "diff_hunk": "@@ -2870,18 +2873,31 @@ bool CWallet::NewKeyPool()\n         if (IsLocked())\n             return false;\n \n-        int64_t nKeys = max(GetArg(\"-keypool\", DEFAULT_KEYPOOL_SIZE), (int64_t)0);\n-        for (int i = 0; i < nKeys; i++)\n-        {\n-            int64_t nIndex = i+1;\n-            walletdb.WritePool(nIndex, CKeyPool(GenerateNewKey()));\n-            setKeyPool.insert(nIndex);\n-        }\n-        LogPrintf(\"CWallet::NewKeyPool wrote %d new keys\\n\", nKeys);\n+        TopUpKeyPool();\n+        LogPrintf(\"CWallet::NewKeyPool rewrote keypool\\n\");\n     }\n     return true;\n }\n \n+size_t CWallet::KeypoolCountExternalKeys()\n+{\n+    AssertLockHeld(cs_wallet); // setKeyPool\n+\n+    CWalletDB walletdb(strWalletFile);\n+\n+    // count amount of external keys\n+    size_t amountE = 0;\n+    for(const int64_t& id : setKeyPool)",
      "path": "src/wallet/wallet.cpp",
      "position": 156,
      "original_position": 117,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": 95878639,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Is there some reason not to have a vector or map of separate setKeyPools? (With the current setKeyPool a special case for external keys)",
      "created_at": "2017-01-13T17:12:08Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96032544",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96032544"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2927,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96032629",
      "pull_request_review_id": 16608503,
      "id": 96032629,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2MDMyNjI5",
      "diff_hunk": "@@ -2870,18 +2873,31 @@ bool CWallet::NewKeyPool()\n         if (IsLocked())\n             return false;\n \n-        int64_t nKeys = max(GetArg(\"-keypool\", DEFAULT_KEYPOOL_SIZE), (int64_t)0);\n-        for (int i = 0; i < nKeys; i++)\n-        {\n-            int64_t nIndex = i+1;\n-            walletdb.WritePool(nIndex, CKeyPool(GenerateNewKey()));\n-            setKeyPool.insert(nIndex);\n-        }\n-        LogPrintf(\"CWallet::NewKeyPool wrote %d new keys\\n\", nKeys);\n+        TopUpKeyPool();\n+        LogPrintf(\"CWallet::NewKeyPool rewrote keypool\\n\");\n     }\n     return true;\n }\n \n+size_t CWallet::KeypoolCountExternalKeys()",
      "path": "src/wallet/wallet.cpp",
      "position": 144,
      "original_position": 109,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": 95878452,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "That's going to break as soon as we have more than internal/external key pools...",
      "created_at": "2017-01-13T17:12:33Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96032629",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96032629"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2915,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96032856",
      "pull_request_review_id": 16608759,
      "id": 96032856,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2MDMyODU2",
      "diff_hunk": "@@ -2870,18 +2873,31 @@ bool CWallet::NewKeyPool()\n         if (IsLocked())\n             return false;\n \n-        int64_t nKeys = max(GetArg(\"-keypool\", DEFAULT_KEYPOOL_SIZE), (int64_t)0);\n-        for (int i = 0; i < nKeys; i++)\n-        {\n-            int64_t nIndex = i+1;\n-            walletdb.WritePool(nIndex, CKeyPool(GenerateNewKey()));\n-            setKeyPool.insert(nIndex);\n-        }\n-        LogPrintf(\"CWallet::NewKeyPool wrote %d new keys\\n\", nKeys);\n+        TopUpKeyPool();",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 103,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": 95877821,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`TopUpKeyPool` could return `false` for other reasons as well. There's no need to check `IsLocked` at L2871; it's redundant. So just remove that check and do:\r\n\r\n```C++\r\nif (!TopUpKeyPool()) {\r\n    return false;\r\n}\r\n```",
      "created_at": "2017-01-13T17:13:56Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96032856",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96032856"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96033021",
      "pull_request_review_id": 16608945,
      "id": 96033021,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2MDMzMDIx",
      "diff_hunk": "@@ -100,7 +100,7 @@ CPubKey CWallet::GenerateNewKey()\n \n     // use HD key derivation if HD was enabled during wallet creation\n     if (IsHDEnabled()) {\n-        DeriveNewChildKey(metadata, secret);\n+        DeriveNewChildKey(metadata, secret, (CanSupportFeature(FEATURE_HD_SPLIT) ? internal : false));",
      "path": "src/wallet/wallet.cpp",
      "position": 14,
      "original_position": 14,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": 95876524,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Maybe move it to `private:` then?",
      "created_at": "2017-01-13T17:14:52Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96033021",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96033021"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 101,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96049236",
      "pull_request_review_id": 16626108,
      "id": 96049236,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2MDQ5MjM2",
      "diff_hunk": "@@ -140,19 +140,22 @@ void CWallet::DeriveNewChildKey(CKeyMetadata& metadata, CKey& secret)\n     // use hardened derivation (child keys >= 0x80000000 are hardened after bip32)\n     masterKey.Derive(accountKey, BIP32_HARDENED_KEY_LIMIT);\n \n-    // derive m/0'/0'\n-    accountKey.Derive(externalChainChildKey, BIP32_HARDENED_KEY_LIMIT);\n+    // derive m/0'/0' (external chain) OR m/0'/1' (internal chain)\n+    accountKey.Derive(chainChildKey, BIP32_HARDENED_KEY_LIMIT+(internal ? 1 : 0));\n \n     // derive child key at next index, skip keys already known to the wallet\n     do {\n         // always derive hardened keys\n         // childIndex | BIP32_HARDENED_KEY_LIMIT = derive childIndex in hardened child-index-range\n         // example: 1 | BIP32_HARDENED_KEY_LIMIT == 0x80000001 == 2147483649\n-        externalChainChildKey.Derive(childKey, hdChain.nExternalChainCounter | BIP32_HARDENED_KEY_LIMIT);\n-        metadata.hdKeypath = \"m/0'/0'/\" + std::to_string(hdChain.nExternalChainCounter) + \"'\";\n+        chainChildKey.Derive(childKey, (internal ? hdChain.nInternalChainCounter : hdChain.nExternalChainCounter) | BIP32_HARDENED_KEY_LIMIT);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 50,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": 95876955,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Since almost everything here is different depending on internal/external, I think it'd be clearer to just make it ```if (internal)``` and separate the behaviors",
      "created_at": "2017-01-13T18:46:25Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96049236",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96049236"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96106550",
      "pull_request_review_id": 16685243,
      "id": 96106550,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2MTA2NTUw",
      "diff_hunk": "@@ -1294,8 +1297,8 @@ bool CWallet::SetHDMasterKey(const CPubKey& pubkey)\n {\n     LOCK(cs_wallet);\n \n-    // ensure this wallet.dat can only be opened by clients supporting HD\n-    SetMinVersion(FEATURE_HD);\n+    // ensure this wallet.dat can only be opened by clients supporting HD with chain split\n+    SetMinVersion(FEATURE_HD_SPLIT);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 78,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": 95877306,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This also forcibly upgrades the user's wallet (if from pre-split HD version) if they encrypt their wallet, which I think is unaccptable.",
      "created_at": "2017-01-14T02:34:17Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96106550",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96106550"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96106666",
      "pull_request_review_id": 16685343,
      "id": 96106666,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2MTA2NjY2",
      "diff_hunk": "@@ -2809,33 +2831,33 @@ bool CWallet::TopUpKeyPool(unsigned int kpSize)\n         if (IsLocked())\n             return false;\n \n-        CWalletDB walletdb(strWalletFile);\n-\n         // Top up key pool\n         unsigned int nTargetSize;\n         if (kpSize > 0)\n             nTargetSize = kpSize;\n         else\n             nTargetSize = max(GetArg(\"-keypool\", DEFAULT_KEYPOOL_SIZE), (int64_t) 0);\n \n-        // count amount of available keys\n-        // don't rely on a 50%/50% keypool mix\n-        int64_t amountI = 0, amountE = 0;\n-        for(const int64_t& id : setKeyPool)\n+        // count amount of available keys (internal, external)\n+        // make sure the keypool of external keys fits the user selected target (-keypool)\n+        // generate +20% internal keys (minimum 2 keys)\n+        int64_t amountExternal = KeypoolCountExternalKeys();\n+        int64_t amountInternal = setKeyPool.size() - amountExternal;\n+        int64_t targetInternal = max((int64_t)ceil(nTargetSize * 0.2), (int64_t) 2);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 112,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "76c883cd393d7dc7ae547c592134420b93b35897",
      "in_reply_to_id": 95169601,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Can we just set the target for both internal and external to nTargetSize? It seems super non-user-friendly that the setting which used to mean \"can create this many keys/transactions\" now means \"can create this many keys, or 1/5th as many transactions\". I dont think we care all that much about the performance hit, do we?",
      "created_at": "2017-01-14T02:38:14Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96106666",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96106666"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96107402",
      "pull_request_review_id": 16686065,
      "id": 96107402,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2MTA3NDAy",
      "diff_hunk": "@@ -1294,8 +1297,8 @@ bool CWallet::SetHDMasterKey(const CPubKey& pubkey)\n {\n     LOCK(cs_wallet);\n \n-    // ensure this wallet.dat can only be opened by clients supporting HD\n-    SetMinVersion(FEATURE_HD);\n+    // ensure this wallet.dat can only be opened by clients supporting HD with chain split\n+    SetMinVersion(FEATURE_HD_SPLIT);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 78,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": 95877306,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Note that if you change this need to set the newHdChain's version to the appropriate value prior to SetHDChain.",
      "created_at": "2017-01-14T03:11:15Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96107402",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96107402"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96107529",
      "pull_request_review_id": 16686184,
      "id": 96107529,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2MTA3NTI5",
      "diff_hunk": "@@ -2296,16 +2296,17 @@ UniValue getwalletinfo(const JSONRPCRequest& request)\n             \"Returns an object containing various wallet state info.\\n\"\n             \"\\nResult:\\n\"\n             \"{\\n\"\n-            \"  \\\"walletversion\\\": xxxxx,       (numeric) the wallet version\\n\"\n-            \"  \\\"balance\\\": xxxxxxx,           (numeric) the total confirmed balance of the wallet in \" + CURRENCY_UNIT + \"\\n\"\n-            \"  \\\"unconfirmed_balance\\\": xxx,   (numeric) the total unconfirmed balance of the wallet in \" + CURRENCY_UNIT + \"\\n\"\n-            \"  \\\"immature_balance\\\": xxxxxx,   (numeric) the total immature balance of the wallet in \" + CURRENCY_UNIT + \"\\n\"\n-            \"  \\\"txcount\\\": xxxxxxx,           (numeric) the total number of transactions in the wallet\\n\"\n-            \"  \\\"keypoololdest\\\": xxxxxx,      (numeric) the timestamp (seconds since Unix epoch) of the oldest pre-generated key in the key pool\\n\"\n-            \"  \\\"keypoolsize\\\": xxxx,          (numeric) how many new keys are pre-generated\\n\"\n-            \"  \\\"unlocked_until\\\": ttt,        (numeric) the timestamp in seconds since epoch (midnight Jan 1 1970 GMT) that the wallet is unlocked for transfers, or 0 if the wallet is locked\\n\"\n-            \"  \\\"paytxfee\\\": x.xxxx,           (numeric) the transaction fee configuration, set in \" + CURRENCY_UNIT + \"/kB\\n\"\n-            \"  \\\"hdmasterkeyid\\\": \\\"<hash160>\\\" (string) the Hash160 of the HD master pubkey\\n\"\n+            \"  \\\"walletversion\\\": xxxxx,          (numeric) the wallet version\\n\"\n+            \"  \\\"balance\\\": xxxxxxx,              (numeric) the total confirmed balance of the wallet in \" + CURRENCY_UNIT + \"\\n\"\n+            \"  \\\"unconfirmed_balance\\\": xxx,      (numeric) the total unconfirmed balance of the wallet in \" + CURRENCY_UNIT + \"\\n\"\n+            \"  \\\"immature_balance\\\": xxxxxx,      (numeric) the total immature balance of the wallet in \" + CURRENCY_UNIT + \"\\n\"\n+            \"  \\\"txcount\\\": xxxxxxx,              (numeric) the total number of transactions in the wallet\\n\"\n+            \"  \\\"keypoololdest\\\": xxxxxx,         (numeric) the timestamp (seconds since Unix epoch) of the oldest pre-generated key in the key pool\\n\"\n+            \"  \\\"keypoolsize\\\": xxxx,             (numeric) how many new keys are pre-generated\\n\"\n+            \"  \\\"keypoolsize_hd_internal\\\": xxxx, (numeric) how many new keys are pre-generated for internal use (change outputs, 10% of the -keypoolsize target, only appears if HD is enabled)\\n\"",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 30,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "12fcde55b79d90edffda62a6568c52a9adef8498",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think the 10% number is wrong? current code is 20, I believe? (and I think it should be changed to 100).",
      "created_at": "2017-01-14T03:18:43Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96107529",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96107529"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96107555",
      "pull_request_review_id": 16686213,
      "id": 96107555,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2MTA3NTU1",
      "diff_hunk": "@@ -2315,17 +2316,20 @@ UniValue getwalletinfo(const JSONRPCRequest& request)\n     LOCK2(cs_main, pwalletMain->cs_wallet);\n \n     UniValue obj(UniValue::VOBJ);\n+    size_t kpExternalSize = (int)pwalletMain->KeypoolCountExternalKeys();\n     obj.push_back(Pair(\"walletversion\", pwalletMain->GetVersion()));\n     obj.push_back(Pair(\"balance\",       ValueFromAmount(pwalletMain->GetBalance())));\n     obj.push_back(Pair(\"unconfirmed_balance\", ValueFromAmount(pwalletMain->GetUnconfirmedBalance())));\n     obj.push_back(Pair(\"immature_balance\",    ValueFromAmount(pwalletMain->GetImmatureBalance())));\n     obj.push_back(Pair(\"txcount\",       (int)pwalletMain->mapWallet.size()));\n     obj.push_back(Pair(\"keypoololdest\", pwalletMain->GetOldestKeyPoolTime()));",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 47,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "12fcde55b79d90edffda62a6568c52a9adef8498",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think we really need to update this - keypoololdest is used to know when your backup has been invalidated. I know technically now that we have HD wallets arent invalidated, but until we have rebuilding-from-chain implemented I think we really need to make sure keypoololdest is still useable as \"if your backup is older than this date, backup again\".\r\n\r\nThis means keypoololdest needs to be max(oldest internal keypool, oldest external keypool) isntead.",
      "created_at": "2017-01-14T03:20:58Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96107555",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96107555"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96107590",
      "pull_request_review_id": 16686247,
      "id": 96107590,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2MTA3NTkw",
      "diff_hunk": "@@ -2870,18 +2873,31 @@ bool CWallet::NewKeyPool()\n         if (IsLocked())\n             return false;\n \n-        int64_t nKeys = max(GetArg(\"-keypool\", DEFAULT_KEYPOOL_SIZE), (int64_t)0);\n-        for (int i = 0; i < nKeys; i++)\n-        {\n-            int64_t nIndex = i+1;\n-            walletdb.WritePool(nIndex, CKeyPool(GenerateNewKey()));\n-            setKeyPool.insert(nIndex);\n-        }\n-        LogPrintf(\"CWallet::NewKeyPool wrote %d new keys\\n\", nKeys);\n+        TopUpKeyPool();\n+        LogPrintf(\"CWallet::NewKeyPool rewrote keypool\\n\");\n     }\n     return true;\n }\n \n+size_t CWallet::KeypoolCountExternalKeys()\n+{\n+    AssertLockHeld(cs_wallet); // setKeyPool\n+\n+    CWalletDB walletdb(strWalletFile);\n+\n+    // count amount of external keys\n+    size_t amountE = 0;\n+    for(const int64_t& id : setKeyPool)",
      "path": "src/wallet/wallet.cpp",
      "position": 156,
      "original_position": 117,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": 95878639,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Additionally, this is called at the entry to getwalletinfo, even with HD disabled. While I agree with @luke-jr that there should probably be two separate setKeyPools, at a minimum this function needs an if (!IsHDEnabled()) return setKeyPool.size(); to avoid causing massive slowdown for folks who are using non-hd wallets with massive keypools (to avoid constant backups).",
      "created_at": "2017-01-14T03:23:15Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96107590",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96107590"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2927,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96107623",
      "pull_request_review_id": 16686282,
      "id": 96107623,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2MTA3NjIz",
      "diff_hunk": "@@ -2296,16 +2296,17 @@ UniValue getwalletinfo(const JSONRPCRequest& request)\n             \"Returns an object containing various wallet state info.\\n\"\n             \"\\nResult:\\n\"\n             \"{\\n\"\n-            \"  \\\"walletversion\\\": xxxxx,       (numeric) the wallet version\\n\"\n-            \"  \\\"balance\\\": xxxxxxx,           (numeric) the total confirmed balance of the wallet in \" + CURRENCY_UNIT + \"\\n\"\n-            \"  \\\"unconfirmed_balance\\\": xxx,   (numeric) the total unconfirmed balance of the wallet in \" + CURRENCY_UNIT + \"\\n\"\n-            \"  \\\"immature_balance\\\": xxxxxx,   (numeric) the total immature balance of the wallet in \" + CURRENCY_UNIT + \"\\n\"\n-            \"  \\\"txcount\\\": xxxxxxx,           (numeric) the total number of transactions in the wallet\\n\"\n-            \"  \\\"keypoololdest\\\": xxxxxx,      (numeric) the timestamp (seconds since Unix epoch) of the oldest pre-generated key in the key pool\\n\"\n-            \"  \\\"keypoolsize\\\": xxxx,          (numeric) how many new keys are pre-generated\\n\"\n-            \"  \\\"unlocked_until\\\": ttt,        (numeric) the timestamp in seconds since epoch (midnight Jan 1 1970 GMT) that the wallet is unlocked for transfers, or 0 if the wallet is locked\\n\"\n-            \"  \\\"paytxfee\\\": x.xxxx,           (numeric) the transaction fee configuration, set in \" + CURRENCY_UNIT + \"/kB\\n\"\n-            \"  \\\"hdmasterkeyid\\\": \\\"<hash160>\\\" (string) the Hash160 of the HD master pubkey\\n\"\n+            \"  \\\"walletversion\\\": xxxxx,          (numeric) the wallet version\\n\"\n+            \"  \\\"balance\\\": xxxxxxx,              (numeric) the total confirmed balance of the wallet in \" + CURRENCY_UNIT + \"\\n\"\n+            \"  \\\"unconfirmed_balance\\\": xxx,      (numeric) the total unconfirmed balance of the wallet in \" + CURRENCY_UNIT + \"\\n\"\n+            \"  \\\"immature_balance\\\": xxxxxx,      (numeric) the total immature balance of the wallet in \" + CURRENCY_UNIT + \"\\n\"\n+            \"  \\\"txcount\\\": xxxxxxx,              (numeric) the total number of transactions in the wallet\\n\"\n+            \"  \\\"keypoololdest\\\": xxxxxx,         (numeric) the timestamp (seconds since Unix epoch) of the oldest pre-generated key in the key pool\\n\"\n+            \"  \\\"keypoolsize\\\": xxxx,             (numeric) how many new keys are pre-generated\\n\"",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 29,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "12fcde55b79d90edffda62a6568c52a9adef8498",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Maybe also mention that keypoolsize_hd_internal is NOT included in this count, as one might assume that external_keypool = keypoolsize - keypoolsize_hd_internal from these docs.",
      "created_at": "2017-01-14T03:25:15Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96107623",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96107623"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96107802",
      "pull_request_review_id": 16686460,
      "id": 96107802,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2MTA3ODAy",
      "diff_hunk": "@@ -2890,30 +2906,45 @@ bool CWallet::TopUpKeyPool(unsigned int kpSize)\n         if (IsLocked())\n             return false;\n \n-        CWalletDB walletdb(strWalletFile);\n-\n         // Top up key pool\n         unsigned int nTargetSize;\n         if (kpSize > 0)\n             nTargetSize = kpSize;\n         else\n             nTargetSize = max(GetArg(\"-keypool\", DEFAULT_KEYPOOL_SIZE), (int64_t) 0);\n \n-        while (setKeyPool.size() < (nTargetSize + 1))\n+        // count amount of available keys (internal, external)\n+        // make sure the keypool of external keys fits the user selected target (-keypool)\n+        // generate +20% internal keys (minimum 2 keys)\n+        int64_t amountExternal = KeypoolCountExternalKeys();\n+        int64_t amountInternal = setKeyPool.size() - amountExternal;\n+        int64_t targetInternal = max((int64_t)ceil(nTargetSize * 0.2), (int64_t) 2);\n+        int64_t missingExternal = max( (int64_t)(nTargetSize - amountExternal), (int64_t) 0);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 151,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": 95879714,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This should be max(max(nTargetSize, 1) - amountExternal, 0) to avoid violating some of the assumptions about at least one keypool entry being available after TopUpKeyPool returns.",
      "created_at": "2017-01-14T03:36:28Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96107802",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96107802"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96108060",
      "pull_request_review_id": 16686723,
      "id": 96108060,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2MTA4MDYw",
      "diff_hunk": "@@ -2929,14 +2961,24 @@ void CWallet::ReserveKeyFromKeyPool(int64_t& nIndex, CKeyPool& keypool)\n \n         CWalletDB walletdb(strWalletFile);\n \n-        nIndex = *(setKeyPool.begin());\n-        setKeyPool.erase(setKeyPool.begin());\n-        if (!walletdb.ReadPool(nIndex, keypool))\n-            throw runtime_error(std::string(__func__) + \": read failed\");\n-        if (!HaveKey(keypool.vchPubKey.GetID()))\n-            throw runtime_error(std::string(__func__) + \": unknown key in key pool\");\n-        assert(keypool.vchPubKey.IsValid());\n-        LogPrintf(\"keypool reserve %d\\n\", nIndex);\n+        // try to find a key that matches the internal/external filter\n+        for(const int64_t& id : setKeyPool)\n+        {\n+            CKeyPool tmpKeypool;\n+            if (!walletdb.ReadPool(id, tmpKeypool))\n+                throw runtime_error(std::string(__func__) + \": read failed\");\n+            if (!HaveKey(tmpKeypool.vchPubKey.GetID()))\n+                throw runtime_error(std::string(__func__) + \": unknown key in key pool\");\n+            if (!IsHDEnabled() || tmpKeypool.fInternal == internal)",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 204,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "12fcde55b79d90edffda62a6568c52a9adef8498",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "You need to check if internal is enabled here, not just hd enabled, I think. GetReservedKey is used in a few places with internal set to true without checking if internal is enabled, and if its not, you could end up never succeeding in getting a key, since HD might be enabled, but they never find an internal key.",
      "created_at": "2017-01-14T03:53:05Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96108060",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96108060"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96108183",
      "pull_request_review_id": 16686868,
      "id": 96108183,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2MTA4MTgz",
      "diff_hunk": "@@ -111,6 +116,13 @@ class CKeyPool\n             READWRITE(nVersion);\n         READWRITE(nTime);\n         READWRITE(vchPubKey);\n+        if (nVersion >= FEATURE_HD_SPLIT)",
      "path": "src/wallet/wallet.h",
      "position": null,
      "original_position": 27,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "12fcde55b79d90edffda62a6568c52a9adef8498",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I do not believe the serializer version is set to the wallet's version. I believe it is the one set in src/wallet/db.h - CLIENT_VERSION.",
      "created_at": "2017-01-14T04:02:23Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96108183",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96108183"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96177396",
      "pull_request_review_id": 16753179,
      "id": 96177396,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2MTc3Mzk2",
      "diff_hunk": "@@ -2315,17 +2316,20 @@ UniValue getwalletinfo(const JSONRPCRequest& request)\n     LOCK2(cs_main, pwalletMain->cs_wallet);\n \n     UniValue obj(UniValue::VOBJ);\n+    size_t kpExternalSize = (int)pwalletMain->KeypoolCountExternalKeys();\n     obj.push_back(Pair(\"walletversion\", pwalletMain->GetVersion()));\n     obj.push_back(Pair(\"balance\",       ValueFromAmount(pwalletMain->GetBalance())));\n     obj.push_back(Pair(\"unconfirmed_balance\", ValueFromAmount(pwalletMain->GetUnconfirmedBalance())));\n     obj.push_back(Pair(\"immature_balance\",    ValueFromAmount(pwalletMain->GetImmatureBalance())));\n     obj.push_back(Pair(\"txcount\",       (int)pwalletMain->mapWallet.size()));\n     obj.push_back(Pair(\"keypoololdest\", pwalletMain->GetOldestKeyPoolTime()));",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 47,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "12fcde55b79d90edffda62a6568c52a9adef8498",
      "in_reply_to_id": 96107555,
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Agree. But probably in a separate PR.",
      "created_at": "2017-01-16T08:01:35Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96177396",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96177396"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96197113",
      "pull_request_review_id": 16772475,
      "id": 96197113,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2MTk3MTEz",
      "diff_hunk": "@@ -58,13 +61,16 @@ class CHDChain\n     {\n         READWRITE(this->nVersion);\n         READWRITE(nExternalChainCounter);\n+        if (this->nVersion >= VERSION_HD_CHAIN_SPLIT)",
      "path": "src/wallet/walletdb.h",
      "position": null,
      "original_position": 18,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": 95876001,
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Where do you see the need to set the `nInternalChainCounter` for old versions here? Old Versions will always have the `nInternalChainCounter` set the `0` over `SetNull()` during the constructor call.\r\n\r\nA new chain (which then will enable `VERSION_HD_CHAIN_SPLIT`) can only be created when a new HD master key will be set which again will enable `FEATURE_HD_SPLIT`.",
      "created_at": "2017-01-16T10:16:06Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96197113",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96197113"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96198575",
      "pull_request_review_id": 16774032,
      "id": 96198575,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2MTk4NTc1",
      "diff_hunk": "@@ -2809,33 +2831,33 @@ bool CWallet::TopUpKeyPool(unsigned int kpSize)\n         if (IsLocked())\n             return false;\n \n-        CWalletDB walletdb(strWalletFile);\n-\n         // Top up key pool\n         unsigned int nTargetSize;\n         if (kpSize > 0)\n             nTargetSize = kpSize;\n         else\n             nTargetSize = max(GetArg(\"-keypool\", DEFAULT_KEYPOOL_SIZE), (int64_t) 0);\n \n-        // count amount of available keys\n-        // don't rely on a 50%/50% keypool mix\n-        int64_t amountI = 0, amountE = 0;\n-        for(const int64_t& id : setKeyPool)\n+        // count amount of available keys (internal, external)\n+        // make sure the keypool of external keys fits the user selected target (-keypool)\n+        // generate +20% internal keys (minimum 2 keys)\n+        int64_t amountExternal = KeypoolCountExternalKeys();\n+        int64_t amountInternal = setKeyPool.size() - amountExternal;\n+        int64_t targetInternal = max((int64_t)ceil(nTargetSize * 0.2), (int64_t) 2);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 112,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "76c883cd393d7dc7ae547c592134420b93b35897",
      "in_reply_to_id": 95169601,
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Some weeks back we discusses that and we came up with something that we should create less internal keys. But I'm fine with 100%/100%. Any objections?",
      "created_at": "2017-01-16T10:24:12Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96198575",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96198575"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96198987",
      "pull_request_review_id": 16774452,
      "id": 96198987,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2MTk4OTg3",
      "diff_hunk": "@@ -1294,8 +1297,8 @@ bool CWallet::SetHDMasterKey(const CPubKey& pubkey)\n {\n     LOCK(cs_wallet);\n \n-    // ensure this wallet.dat can only be opened by clients supporting HD\n-    SetMinVersion(FEATURE_HD);\n+    // ensure this wallet.dat can only be opened by clients supporting HD with chain split\n+    SetMinVersion(FEATURE_HD_SPLIT);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 78,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": 95877306,
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "We could... one question is: if the users encrypt his 0.13 wallet (HD enabled but no chain split) in 0.14. Do we want to keep the non-hd split or do we want to enforce an upgrade to HD_Split. The later seems preferable from the users perspective (Is there a reason to not split the HD chains if we can?).",
      "created_at": "2017-01-16T10:26:45Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96198987",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96198987"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96299096",
      "pull_request_review_id": 16876809,
      "id": 96299096,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2Mjk5MDk2",
      "diff_hunk": "@@ -1294,8 +1297,8 @@ bool CWallet::SetHDMasterKey(const CPubKey& pubkey)\n {\n     LOCK(cs_wallet);\n \n-    // ensure this wallet.dat can only be opened by clients supporting HD\n-    SetMinVersion(FEATURE_HD);\n+    // ensure this wallet.dat can only be opened by clients supporting HD with chain split\n+    SetMinVersion(FEATURE_HD_SPLIT);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 78,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": 95877306,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I believe it is policy to not upgrade a user's wallet unless they have specifically requested we do so, so, no, I dont think we should use HD_Split at that point.",
      "created_at": "2017-01-16T20:18:08Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96299096",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96299096"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96304197",
      "pull_request_review_id": 16882110,
      "id": 96304197,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2MzA0MTk3",
      "diff_hunk": "@@ -2296,16 +2296,17 @@ UniValue getwalletinfo(const JSONRPCRequest& request)\n             \"Returns an object containing various wallet state info.\\n\"\n             \"\\nResult:\\n\"\n             \"{\\n\"\n-            \"  \\\"walletversion\\\": xxxxx,       (numeric) the wallet version\\n\"\n-            \"  \\\"balance\\\": xxxxxxx,           (numeric) the total confirmed balance of the wallet in \" + CURRENCY_UNIT + \"\\n\"\n-            \"  \\\"unconfirmed_balance\\\": xxx,   (numeric) the total unconfirmed balance of the wallet in \" + CURRENCY_UNIT + \"\\n\"\n-            \"  \\\"immature_balance\\\": xxxxxx,   (numeric) the total immature balance of the wallet in \" + CURRENCY_UNIT + \"\\n\"\n-            \"  \\\"txcount\\\": xxxxxxx,           (numeric) the total number of transactions in the wallet\\n\"\n-            \"  \\\"keypoololdest\\\": xxxxxx,      (numeric) the timestamp (seconds since Unix epoch) of the oldest pre-generated key in the key pool\\n\"\n-            \"  \\\"keypoolsize\\\": xxxx,          (numeric) how many new keys are pre-generated\\n\"\n-            \"  \\\"unlocked_until\\\": ttt,        (numeric) the timestamp in seconds since epoch (midnight Jan 1 1970 GMT) that the wallet is unlocked for transfers, or 0 if the wallet is locked\\n\"\n-            \"  \\\"paytxfee\\\": x.xxxx,           (numeric) the transaction fee configuration, set in \" + CURRENCY_UNIT + \"/kB\\n\"\n-            \"  \\\"hdmasterkeyid\\\": \\\"<hash160>\\\" (string) the Hash160 of the HD master pubkey\\n\"\n+            \"  \\\"walletversion\\\": xxxxx,          (numeric) the wallet version\\n\"\n+            \"  \\\"balance\\\": xxxxxxx,              (numeric) the total confirmed balance of the wallet in \" + CURRENCY_UNIT + \"\\n\"\n+            \"  \\\"unconfirmed_balance\\\": xxx,      (numeric) the total unconfirmed balance of the wallet in \" + CURRENCY_UNIT + \"\\n\"\n+            \"  \\\"immature_balance\\\": xxxxxx,      (numeric) the total immature balance of the wallet in \" + CURRENCY_UNIT + \"\\n\"\n+            \"  \\\"txcount\\\": xxxxxxx,              (numeric) the total number of transactions in the wallet\\n\"\n+            \"  \\\"keypoololdest\\\": xxxxxx,         (numeric) the timestamp (seconds since Unix epoch) of the oldest pre-generated key in the key pool\\n\"\n+            \"  \\\"keypoolsize\\\": xxxx,             (numeric) how many new keys are pre-generated (excluding internal-/chnage-output keys)\\n\"",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 38,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "e34676ef42e265ff883c39cc10d6c1b16f2c8331",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "s/chnage/change/",
      "created_at": "2017-01-16T21:00:49Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96304197",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96304197"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96304347",
      "pull_request_review_id": 16882280,
      "id": 96304347,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2MzA0MzQ3",
      "diff_hunk": "@@ -2809,33 +2831,33 @@ bool CWallet::TopUpKeyPool(unsigned int kpSize)\n         if (IsLocked())\n             return false;\n \n-        CWalletDB walletdb(strWalletFile);\n-\n         // Top up key pool\n         unsigned int nTargetSize;\n         if (kpSize > 0)\n             nTargetSize = kpSize;\n         else\n             nTargetSize = max(GetArg(\"-keypool\", DEFAULT_KEYPOOL_SIZE), (int64_t) 0);\n \n-        // count amount of available keys\n-        // don't rely on a 50%/50% keypool mix\n-        int64_t amountI = 0, amountE = 0;\n-        for(const int64_t& id : setKeyPool)\n+        // count amount of available keys (internal, external)\n+        // make sure the keypool of external keys fits the user selected target (-keypool)\n+        // generate +20% internal keys (minimum 2 keys)\n+        int64_t amountExternal = KeypoolCountExternalKeys();\n+        int64_t amountInternal = setKeyPool.size() - amountExternal;\n+        int64_t targetInternal = max((int64_t)ceil(nTargetSize * 0.2), (int64_t) 2);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 112,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "76c883cd393d7dc7ae547c592134420b93b35897",
      "in_reply_to_id": 95169601,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'd be fine with reducing the internal keypool significantly once we have rescan logic that can regenerate keys, but until then I think we absolutely need to have it be 100%.",
      "created_at": "2017-01-16T21:02:10Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96304347",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96304347"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96304722",
      "pull_request_review_id": 16882670,
      "id": 96304722,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2MzA0NzIy",
      "diff_hunk": "@@ -2315,17 +2316,20 @@ UniValue getwalletinfo(const JSONRPCRequest& request)\n     LOCK2(cs_main, pwalletMain->cs_wallet);\n \n     UniValue obj(UniValue::VOBJ);\n+    size_t kpExternalSize = (int)pwalletMain->KeypoolCountExternalKeys();\n     obj.push_back(Pair(\"walletversion\", pwalletMain->GetVersion()));\n     obj.push_back(Pair(\"balance\",       ValueFromAmount(pwalletMain->GetBalance())));\n     obj.push_back(Pair(\"unconfirmed_balance\", ValueFromAmount(pwalletMain->GetUnconfirmedBalance())));\n     obj.push_back(Pair(\"immature_balance\",    ValueFromAmount(pwalletMain->GetImmatureBalance())));\n     obj.push_back(Pair(\"txcount\",       (int)pwalletMain->mapWallet.size()));\n     obj.push_back(Pair(\"keypoololdest\", pwalletMain->GetOldestKeyPoolTime()));",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 47,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "12fcde55b79d90edffda62a6568c52a9adef8498",
      "in_reply_to_id": 96107555,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Not doing this would break some uses of walletbackup, I think, so I wouldnt be too happy with this slipping into a different release.",
      "created_at": "2017-01-16T21:05:20Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96304722",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96304722"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96305141",
      "pull_request_review_id": 16883103,
      "id": 96305141,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2MzA1MTQx",
      "diff_hunk": "@@ -2296,16 +2296,17 @@ UniValue getwalletinfo(const JSONRPCRequest& request)\n             \"Returns an object containing various wallet state info.\\n\"\n             \"\\nResult:\\n\"\n             \"{\\n\"\n-            \"  \\\"walletversion\\\": xxxxx,       (numeric) the wallet version\\n\"\n-            \"  \\\"balance\\\": xxxxxxx,           (numeric) the total confirmed balance of the wallet in \" + CURRENCY_UNIT + \"\\n\"\n-            \"  \\\"unconfirmed_balance\\\": xxx,   (numeric) the total unconfirmed balance of the wallet in \" + CURRENCY_UNIT + \"\\n\"\n-            \"  \\\"immature_balance\\\": xxxxxx,   (numeric) the total immature balance of the wallet in \" + CURRENCY_UNIT + \"\\n\"\n-            \"  \\\"txcount\\\": xxxxxxx,           (numeric) the total number of transactions in the wallet\\n\"\n-            \"  \\\"keypoololdest\\\": xxxxxx,      (numeric) the timestamp (seconds since Unix epoch) of the oldest pre-generated key in the key pool\\n\"\n-            \"  \\\"keypoolsize\\\": xxxx,          (numeric) how many new keys are pre-generated\\n\"\n-            \"  \\\"unlocked_until\\\": ttt,        (numeric) the timestamp in seconds since epoch (midnight Jan 1 1970 GMT) that the wallet is unlocked for transfers, or 0 if the wallet is locked\\n\"\n-            \"  \\\"paytxfee\\\": x.xxxx,           (numeric) the transaction fee configuration, set in \" + CURRENCY_UNIT + \"/kB\\n\"\n-            \"  \\\"hdmasterkeyid\\\": \\\"<hash160>\\\" (string) the Hash160 of the HD master pubkey\\n\"\n+            \"  \\\"walletversion\\\": xxxxx,          (numeric) the wallet version\\n\"\n+            \"  \\\"balance\\\": xxxxxxx,              (numeric) the total confirmed balance of the wallet in \" + CURRENCY_UNIT + \"\\n\"\n+            \"  \\\"unconfirmed_balance\\\": xxx,      (numeric) the total unconfirmed balance of the wallet in \" + CURRENCY_UNIT + \"\\n\"\n+            \"  \\\"immature_balance\\\": xxxxxx,      (numeric) the total immature balance of the wallet in \" + CURRENCY_UNIT + \"\\n\"\n+            \"  \\\"txcount\\\": xxxxxxx,              (numeric) the total number of transactions in the wallet\\n\"\n+            \"  \\\"keypoololdest\\\": xxxxxx,         (numeric) the timestamp (seconds since Unix epoch) of the oldest pre-generated key in the key pool\\n\"\n+            \"  \\\"keypoolsize\\\": xxxx,             (numeric) how many new keys are pre-generated (excluding internal-/chnage-output keys)\\n\"",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 38,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "e34676ef42e265ff883c39cc10d6c1b16f2c8331",
      "in_reply_to_id": 96304197,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Also, these docs are super confusing - the way I read it, if I have HD enabled I'll never have a keypool for change-output keys, which isnt true - they're just included here.",
      "created_at": "2017-01-16T21:08:48Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96305141",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96305141"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96317711",
      "pull_request_review_id": 16895963,
      "id": 96317711,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2MzE3NzEx",
      "diff_hunk": "@@ -2890,30 +2906,45 @@ bool CWallet::TopUpKeyPool(unsigned int kpSize)\n         if (IsLocked())\n             return false;\n \n-        CWalletDB walletdb(strWalletFile);\n-\n         // Top up key pool\n         unsigned int nTargetSize;\n         if (kpSize > 0)\n             nTargetSize = kpSize;\n         else\n             nTargetSize = max(GetArg(\"-keypool\", DEFAULT_KEYPOOL_SIZE), (int64_t) 0);\n \n-        while (setKeyPool.size() < (nTargetSize + 1))\n+        // count amount of available keys (internal, external)\n+        // make sure the keypool of external keys fits the user selected target (-keypool)\n+        // generate +20% internal keys (minimum 2 keys)\n+        int64_t amountExternal = KeypoolCountExternalKeys();\n+        int64_t amountInternal = setKeyPool.size() - amountExternal;\n+        int64_t targetInternal = max((int64_t)ceil(nTargetSize * 0.2), (int64_t) 2);\n+        int64_t missingExternal = max( (int64_t)(nTargetSize - amountExternal), (int64_t) 0);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 151,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": 95879714,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I believe this is a bug, which would need fixing prior to merge.",
      "created_at": "2017-01-16T22:57:09Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96317711",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96317711"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96356711",
      "pull_request_review_id": 16934333,
      "id": 96356711,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2MzU2NzEx",
      "diff_hunk": "@@ -2870,18 +2873,31 @@ bool CWallet::NewKeyPool()\n         if (IsLocked())\n             return false;\n \n-        int64_t nKeys = max(GetArg(\"-keypool\", DEFAULT_KEYPOOL_SIZE), (int64_t)0);\n-        for (int i = 0; i < nKeys; i++)\n-        {\n-            int64_t nIndex = i+1;\n-            walletdb.WritePool(nIndex, CKeyPool(GenerateNewKey()));\n-            setKeyPool.insert(nIndex);\n-        }\n-        LogPrintf(\"CWallet::NewKeyPool wrote %d new keys\\n\", nKeys);\n+        TopUpKeyPool();\n+        LogPrintf(\"CWallet::NewKeyPool rewrote keypool\\n\");\n     }\n     return true;\n }\n \n+size_t CWallet::KeypoolCountExternalKeys()\n+{\n+    AssertLockHeld(cs_wallet); // setKeyPool\n+\n+    CWalletDB walletdb(strWalletFile);\n+\n+    // count amount of external keys\n+    size_t amountE = 0;\n+    for(const int64_t& id : setKeyPool)",
      "path": "src/wallet/wallet.cpp",
      "position": 156,
      "original_position": 117,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": 95878639,
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Okay. This is fixed now (https://github.com/bitcoin/bitcoin/pull/9294/files#diff-b2bb174788c7409b671c46ccc86034bdR2886).",
      "created_at": "2017-01-17T07:39:56Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96356711",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96356711"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2927,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96693727",
      "pull_request_review_id": 17283280,
      "id": 96693727,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2NjkzNzI3",
      "diff_hunk": "@@ -58,13 +61,16 @@ class CHDChain\n     {\n         READWRITE(this->nVersion);\n         READWRITE(nExternalChainCounter);\n+        if (this->nVersion >= VERSION_HD_CHAIN_SPLIT)",
      "path": "src/wallet/walletdb.h",
      "position": null,
      "original_position": 18,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": 95876001,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It should be setup to prevent accidental usage. If any code were to attempt to use it without a wallet that supports it, we want to throw an error/exception, not silently generate keys we may not be able to recover.",
      "created_at": "2017-01-18T17:49:05Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96693727",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96693727"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96694615",
      "pull_request_review_id": 17284152,
      "id": 96694615,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2Njk0NjE1",
      "diff_hunk": "@@ -2870,18 +2873,31 @@ bool CWallet::NewKeyPool()\n         if (IsLocked())\n             return false;\n \n-        int64_t nKeys = max(GetArg(\"-keypool\", DEFAULT_KEYPOOL_SIZE), (int64_t)0);\n-        for (int i = 0; i < nKeys; i++)\n-        {\n-            int64_t nIndex = i+1;\n-            walletdb.WritePool(nIndex, CKeyPool(GenerateNewKey()));\n-            setKeyPool.insert(nIndex);\n-        }\n-        LogPrintf(\"CWallet::NewKeyPool wrote %d new keys\\n\", nKeys);\n+        TopUpKeyPool();\n+        LogPrintf(\"CWallet::NewKeyPool rewrote keypool\\n\");\n     }\n     return true;\n }\n \n+size_t CWallet::KeypoolCountExternalKeys()\n+{\n+    AssertLockHeld(cs_wallet); // setKeyPool\n+\n+    CWalletDB walletdb(strWalletFile);\n+\n+    // count amount of external keys\n+    size_t amountE = 0;\n+    for(const int64_t& id : setKeyPool)",
      "path": "src/wallet/wallet.cpp",
      "position": 156,
      "original_position": 117,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": 95878639,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "That commit merely implements a fix for non-split-HD wallets, not for new wallets...",
      "created_at": "2017-01-18T17:53:42Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96694615",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96694615"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2927,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96698346",
      "pull_request_review_id": 17288065,
      "id": 96698346,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2Njk4MzQ2",
      "diff_hunk": "@@ -2870,18 +2873,31 @@ bool CWallet::NewKeyPool()\n         if (IsLocked())\n             return false;\n \n-        int64_t nKeys = max(GetArg(\"-keypool\", DEFAULT_KEYPOOL_SIZE), (int64_t)0);\n-        for (int i = 0; i < nKeys; i++)\n-        {\n-            int64_t nIndex = i+1;\n-            walletdb.WritePool(nIndex, CKeyPool(GenerateNewKey()));\n-            setKeyPool.insert(nIndex);\n-        }\n-        LogPrintf(\"CWallet::NewKeyPool wrote %d new keys\\n\", nKeys);\n+        TopUpKeyPool();\n+        LogPrintf(\"CWallet::NewKeyPool rewrote keypool\\n\");\n     }\n     return true;\n }\n \n+size_t CWallet::KeypoolCountExternalKeys()\n+{\n+    AssertLockHeld(cs_wallet); // setKeyPool\n+\n+    CWalletDB walletdb(strWalletFile);\n+\n+    // count amount of external keys\n+    size_t amountE = 0;\n+    for(const int64_t& id : setKeyPool)",
      "path": "src/wallet/wallet.cpp",
      "position": 156,
      "original_position": 117,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": 95878639,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "See comments later in the PR, the performance measurements that @jonasschnelli did indicate there is little to no issue for most uses...if we found out this is not true later, we can fix it as a regression-fix.",
      "created_at": "2017-01-18T18:12:20Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96698346",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96698346"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2927,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96725032",
      "pull_request_review_id": 17316009,
      "id": 96725032,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2NzI1MDMy",
      "diff_hunk": "@@ -2870,18 +2873,31 @@ bool CWallet::NewKeyPool()\n         if (IsLocked())\n             return false;\n \n-        int64_t nKeys = max(GetArg(\"-keypool\", DEFAULT_KEYPOOL_SIZE), (int64_t)0);\n-        for (int i = 0; i < nKeys; i++)\n-        {\n-            int64_t nIndex = i+1;\n-            walletdb.WritePool(nIndex, CKeyPool(GenerateNewKey()));\n-            setKeyPool.insert(nIndex);\n-        }\n-        LogPrintf(\"CWallet::NewKeyPool wrote %d new keys\\n\", nKeys);\n+        TopUpKeyPool();\n+        LogPrintf(\"CWallet::NewKeyPool rewrote keypool\\n\");\n     }\n     return true;\n }\n \n+size_t CWallet::KeypoolCountExternalKeys()\n+{\n+    AssertLockHeld(cs_wallet); // setKeyPool\n+\n+    CWalletDB walletdb(strWalletFile);\n+\n+    // count amount of external keys\n+    size_t amountE = 0;\n+    for(const int64_t& id : setKeyPool)",
      "path": "src/wallet/wallet.cpp",
      "position": 156,
      "original_position": 117,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": 95878639,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Okay, I expected changing this would be a wallet file format change, but upon further investigation I see it is not.",
      "created_at": "2017-01-18T20:19:47Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96725032",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96725032"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2927,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96921055",
      "pull_request_review_id": 17519677,
      "id": 96921055,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2OTIxMDU1",
      "diff_hunk": "@@ -2315,17 +2316,20 @@ UniValue getwalletinfo(const JSONRPCRequest& request)\n     LOCK2(cs_main, pwalletMain->cs_wallet);\n \n     UniValue obj(UniValue::VOBJ);\n+    size_t kpExternalSize = (int)pwalletMain->KeypoolCountExternalKeys();",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 50,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "a874b75a180a9e967a3d936cf46df11f8531b70a",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "(int) cast superfluous ",
      "created_at": "2017-01-19T18:11:12Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96921055",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96921055"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96921481",
      "pull_request_review_id": 17519677,
      "id": 96921481,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2OTIxNDgx",
      "diff_hunk": "@@ -34,6 +34,11 @@ def run_test (self):\n         masterkeyid = self.nodes[1].getwalletinfo()['hdmasterkeyid']\n         assert_equal(len(masterkeyid), 40)\n \n+        #create an internal key",
      "path": "qa/rpc-tests/wallet-hd.py",
      "position": null,
      "original_position": 4,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "a874b75a180a9e967a3d936cf46df11f8531b70a",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Nit: new comments don't follow existing style in test (space after #, capitalized)",
      "created_at": "2017-01-19T18:13:29Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96921481",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96921481"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96921545",
      "pull_request_review_id": 17519677,
      "id": 96921545,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2OTIxNTQ1",
      "diff_hunk": "@@ -82,6 +92,15 @@ def run_test (self):\n         #connect_nodes_bi(self.nodes, 0, 1)\n         assert_equal(self.nodes[1].getbalance(), num_hd_adds + 1)\n \n+        #send a tx and make sure its using the internal chain for the changeoutput\n+        txid = self.nodes[1].sendtoaddress(self.nodes[0].getnewaddress(), 1)\n+        outs = self.nodes[1].decoderawtransaction(self.nodes[1].gettransaction(txid)['hex'])['vout'];\n+        keypath = \"\"\n+        for out in outs:\n+            if out['value'] != 1:\n+                keypath = self.nodes[1].validateaddress(out['scriptPubKey']['addresses'][0])['hdkeypath']\n+        ",
      "path": "qa/rpc-tests/wallet-hd.py",
      "position": null,
      "original_position": 35,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "a874b75a180a9e967a3d936cf46df11f8531b70a",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "trailing whitespace here",
      "created_at": "2017-01-19T18:13:45Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96921545",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96921545"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96921865",
      "pull_request_review_id": 17519677,
      "id": 96921865,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2OTIxODY1",
      "diff_hunk": "@@ -82,6 +92,15 @@ def run_test (self):\n         #connect_nodes_bi(self.nodes, 0, 1)\n         assert_equal(self.nodes[1].getbalance(), num_hd_adds + 1)\n \n+        #send a tx and make sure its using the internal chain for the changeoutput\n+        txid = self.nodes[1].sendtoaddress(self.nodes[0].getnewaddress(), 1)\n+        outs = self.nodes[1].decoderawtransaction(self.nodes[1].gettransaction(txid)['hex'])['vout'];\n+        keypath = \"\"\n+        for out in outs:\n+            if out['value'] != 1:\n+                keypath = self.nodes[1].validateaddress(out['scriptPubKey']['addresses'][0])['hdkeypath']\n+        \n+        assert(keypath[0:7] == \"m/0'/1'\")",
      "path": "qa/rpc-tests/wallet-hd.py",
      "position": null,
      "original_position": 36,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "a874b75a180a9e967a3d936cf46df11f8531b70a",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "maybe use assert_equal",
      "created_at": "2017-01-19T18:15:24Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96921865",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96921865"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96928350",
      "pull_request_review_id": 17519677,
      "id": 96928350,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2OTI4MzUw",
      "diff_hunk": "@@ -66,13 +81,18 @@ def run_test(self):\n         nodes[0].generate(1)\n         nodes[0].generate(1)\n         nodes[0].generate(1)\n-        nodes[0].generate(1)",
      "path": "qa/rpc-tests/keypool.py",
      "position": null,
      "original_position": 67,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "9df9d2c2e145bd44e7b52658be9292614af9c9de",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Note: I was confused about why 4 generates were needed here previously to use up only 3 keys. But I think it was because TopupKeyPool used to create (nTargetSize + 1) keys instead of nTargetSize keys, which is fixed now.",
      "created_at": "2017-01-19T18:46:16Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96928350",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96928350"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96935865",
      "pull_request_review_id": 17535025,
      "id": 96935865,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2OTM1ODY1",
      "diff_hunk": "@@ -88,6 +88,10 @@ enum WalletFeature\n     FEATURE_COMPRPUBKEY = 60000, // compressed public keys\n \n     FEATURE_HD = 130000, // Hierarchical key derivation after BIP32 (HD Wallet)\n+\n+    //TODO: FEATURE_HD_SPLIT needs to be bumped to 140000 once we branch of 0.14 //",
      "path": "src/wallet/wallet.h",
      "position": null,
      "original_position": 5,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "a874b75a180a9e967a3d936cf46df11f8531b70a",
      "in_reply_to_id": null,
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'm completely confused by this? why would the version of the wallet change due to a branch here? won't that break compatibility with wallets generated by git master and cause funds loss for them?",
      "created_at": "2017-01-19T19:19:55Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96935865",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96935865"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96937164",
      "pull_request_review_id": 17519677,
      "id": 96937164,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2OTM3MTY0",
      "diff_hunk": "@@ -3027,9 +3027,27 @@ int64_t CWallet::GetOldestKeyPoolTime()\n     if (setKeyPool.empty())\n         return GetTime();\n \n-    // load oldest key from keypool, get time and return\n     CKeyPool keypool;\n     CWalletDB walletdb(strWalletFile);\n+\n+    if (IsHDEnabled() && CanSupportFeature(FEATURE_HD_SPLIT))\n+    {\n+        // if HD & HD Chain Split is enabled, response max(oldest-internal-key, oldest-external-key)\n+        int64_t now = GetTime();\n+        int64_t oldest_external = now, oldest_internal = now;\n+\n+        for(const int64_t& id : setKeyPool)\n+        {\n+            if (!walletdb.ReadPool(id, keypool))\n+                throw runtime_error(std::string(__func__) + \": read failed\");\n+            if (keypool.fInternal && keypool.nTime < oldest_internal)\n+                oldest_internal = keypool.nTime;\n+            else if (!keypool.fInternal && keypool.nTime < oldest_external)\n+                oldest_external = keypool.nTime;\n+        }\n+        return std::max(oldest_internal, oldest_external);\n+    }\n+    // load oldest key from keypool, get time and return",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 25,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "d15e02b11a3101375165f7149eb8b6f8003c69f7",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Could you add a comment mentioning why in this case it is safe to assume key with the lowest index is the oldest key, while in the above case, you need to loop through the keys to find the oldest one. It's not clear (at least to me) why FEATURE_HD_SPLIT would affect key order.",
      "created_at": "2017-01-19T19:25:34Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96937164",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96937164"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96941460",
      "pull_request_review_id": 17540563,
      "id": 96941460,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2OTQxNDYw",
      "diff_hunk": "@@ -88,6 +88,10 @@ enum WalletFeature\n     FEATURE_COMPRPUBKEY = 60000, // compressed public keys\n \n     FEATURE_HD = 130000, // Hierarchical key derivation after BIP32 (HD Wallet)\n+\n+    //TODO: FEATURE_HD_SPLIT needs to be bumped to 140000 once we branch of 0.14 //",
      "path": "src/wallet/wallet.h",
      "position": null,
      "original_position": 5,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "a874b75a180a9e967a3d936cf46df11f8531b70a",
      "in_reply_to_id": 96935865,
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "We can keep `139999` for 0.14 to make it compatible with wallets created before branching of 0.14 made with this PR. Unsure what's best practice here...",
      "created_at": "2017-01-19T19:44:45Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96941460",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96941460"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96949926",
      "pull_request_review_id": 17549258,
      "id": 96949926,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk2OTQ5OTI2",
      "diff_hunk": "@@ -88,6 +88,10 @@ enum WalletFeature\n     FEATURE_COMPRPUBKEY = 60000, // compressed public keys\n \n     FEATURE_HD = 130000, // Hierarchical key derivation after BIP32 (HD Wallet)\n+\n+    //TODO: FEATURE_HD_SPLIT needs to be bumped to 140000 once we branch of 0.14 //",
      "path": "src/wallet/wallet.h",
      "position": null,
      "original_position": 5,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "a874b75a180a9e967a3d936cf46df11f8531b70a",
      "in_reply_to_id": 96935865,
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "from IRC\r\n```\r\n[21:24:20]  <sipa>\t[20:47:45] yeah, there is a race there\r\n[21:24:20]  <sipa>\t[20:48:00] that's always the case when a feature needs to be tied to a version number\r\n[21:24:20]  <morcos>\t[20:48:18] i don't see any problem leaving FEATURE_HD_SPLIT = 139900\r\n[21:24:20]  <jonasschnelli>\t[20:48:21] sipa: keeping in 139999 looks bad but is efficient?\r\n[21:24:20]  <morcos>\t[20:48:24] that seems the correct way to do it\r\n[21:24:20]  <jonasschnelli>\t[20:48:41] Agree with morcos \r\n[21:24:20]  <sipa>\t[20:48:54] a better way would be to disentangle the wallet version number for the software version number\r\n[21:24:20]  <sipa>\t[20:49:09] so the wallet version can just be bumped in the same PR as the feature is introduced\r\n```",
      "created_at": "2017-01-19T20:25:38Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r96949926",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96949926"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/97028646",
      "pull_request_review_id": 17629553,
      "id": 97028646,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk3MDI4NjQ2",
      "diff_hunk": "@@ -3027,9 +3027,27 @@ int64_t CWallet::GetOldestKeyPoolTime()\n     if (setKeyPool.empty())\n         return GetTime();\n \n-    // load oldest key from keypool, get time and return\n     CKeyPool keypool;\n     CWalletDB walletdb(strWalletFile);\n+\n+    if (IsHDEnabled() && CanSupportFeature(FEATURE_HD_SPLIT))\n+    {\n+        // if HD & HD Chain Split is enabled, response max(oldest-internal-key, oldest-external-key)\n+        int64_t now = GetTime();\n+        int64_t oldest_external = now, oldest_internal = now;\n+\n+        for(const int64_t& id : setKeyPool)\n+        {\n+            if (!walletdb.ReadPool(id, keypool))\n+                throw runtime_error(std::string(__func__) + \": read failed\");\n+            if (keypool.fInternal && keypool.nTime < oldest_internal)\n+                oldest_internal = keypool.nTime;\n+            else if (!keypool.fInternal && keypool.nTime < oldest_external)\n+                oldest_external = keypool.nTime;\n+        }\n+        return std::max(oldest_internal, oldest_external);\n+    }\n+    // load oldest key from keypool, get time and return",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 25,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "d15e02b11a3101375165f7149eb8b6f8003c69f7",
      "in_reply_to_id": 96937164,
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I haven't change this part,... but I feel with you that this is very likely a bug we carry around a long time. Haven't verified it, but returning a `CKeyPool` done in (`void CWallet::ReturnKey(int64_t nIndex)`) will mess up the order assumption.\r\nIf is a bug, we should fix it,... but maybe in a different PR.",
      "created_at": "2017-01-20T08:20:25Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r97028646",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/97028646"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/97039301",
      "pull_request_review_id": 17640960,
      "id": 97039301,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk3MDM5MzAx",
      "diff_hunk": "@@ -3027,9 +3027,27 @@ int64_t CWallet::GetOldestKeyPoolTime()\n     if (setKeyPool.empty())\n         return GetTime();\n \n-    // load oldest key from keypool, get time and return\n     CKeyPool keypool;\n     CWalletDB walletdb(strWalletFile);\n+\n+    if (IsHDEnabled() && CanSupportFeature(FEATURE_HD_SPLIT))\n+    {\n+        // if HD & HD Chain Split is enabled, response max(oldest-internal-key, oldest-external-key)\n+        int64_t now = GetTime();\n+        int64_t oldest_external = now, oldest_internal = now;\n+\n+        for(const int64_t& id : setKeyPool)\n+        {\n+            if (!walletdb.ReadPool(id, keypool))\n+                throw runtime_error(std::string(__func__) + \": read failed\");\n+            if (keypool.fInternal && keypool.nTime < oldest_internal)\n+                oldest_internal = keypool.nTime;\n+            else if (!keypool.fInternal && keypool.nTime < oldest_external)\n+                oldest_external = keypool.nTime;\n+        }\n+        return std::max(oldest_internal, oldest_external);\n+    }\n+    // load oldest key from keypool, get time and return",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 25,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "d15e02b11a3101375165f7149eb8b6f8003c69f7",
      "in_reply_to_id": 96937164,
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I debugged that a little bit and it seems that this assumption (first item in setKeyPool is always oldest key) holds.\r\n\r\n* The `std::set setKeyPool` (always ordered) contains `int64_t`. CKeyPool instances remember that nIndex (index of the setKeyPool int64.\r\n* New CKeyPools will always insert `int64_t nEnd = *(--setKeyPool.end()) + 1;`.\r\n* Returning keys will keep the date order because the returned will be inserted at the position where it has been taken out.\r\n\r\nThe only problem I can see is when someone overflows int64 by creating 2^63+1 keys. But, well,... yes.",
      "created_at": "2017-01-20T09:40:47Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r97039301",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/97039301"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/97625815",
      "pull_request_review_id": 18241649,
      "id": 97625815,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk3NjI1ODE1",
      "diff_hunk": "@@ -3027,9 +3027,27 @@ int64_t CWallet::GetOldestKeyPoolTime()\n     if (setKeyPool.empty())\n         return GetTime();\n \n-    // load oldest key from keypool, get time and return\n     CKeyPool keypool;\n     CWalletDB walletdb(strWalletFile);\n+\n+    if (IsHDEnabled() && CanSupportFeature(FEATURE_HD_SPLIT))\n+    {\n+        // if HD & HD Chain Split is enabled, response max(oldest-internal-key, oldest-external-key)\n+        int64_t now = GetTime();\n+        int64_t oldest_external = now, oldest_internal = now;\n+\n+        for(const int64_t& id : setKeyPool)\n+        {\n+            if (!walletdb.ReadPool(id, keypool))\n+                throw runtime_error(std::string(__func__) + \": read failed\");\n+            if (keypool.fInternal && keypool.nTime < oldest_internal)\n+                oldest_internal = keypool.nTime;\n+            else if (!keypool.fInternal && keypool.nTime < oldest_external)\n+                oldest_external = keypool.nTime;\n+        }\n+        return std::max(oldest_internal, oldest_external);\n+    }\n+    // load oldest key from keypool, get time and return",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 25,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "d15e02b11a3101375165f7149eb8b6f8003c69f7",
      "in_reply_to_id": 96937164,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "So it seems like there is no reason for having a FEATURE_HD_SPLIT special case here. Could your remove either the new block of code or the old block of code, and just keep one implementation?",
      "created_at": "2017-01-24T19:09:09Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r97625815",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/97625815"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/97627414",
      "pull_request_review_id": 18241649,
      "id": 97627414,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk3NjI3NDE0",
      "diff_hunk": "@@ -2315,17 +2316,20 @@ UniValue getwalletinfo(const JSONRPCRequest& request)\n     LOCK2(cs_main, pwalletMain->cs_wallet);\n \n     UniValue obj(UniValue::VOBJ);\n+    size_t kpExternalSize = (int)pwalletMain->KeypoolCountExternalKeys();\n     obj.push_back(Pair(\"walletversion\", pwalletMain->GetVersion()));\n     obj.push_back(Pair(\"balance\",       ValueFromAmount(pwalletMain->GetBalance())));\n     obj.push_back(Pair(\"unconfirmed_balance\", ValueFromAmount(pwalletMain->GetUnconfirmedBalance())));\n     obj.push_back(Pair(\"immature_balance\",    ValueFromAmount(pwalletMain->GetImmatureBalance())));\n     obj.push_back(Pair(\"txcount\",       (int)pwalletMain->mapWallet.size()));\n     obj.push_back(Pair(\"keypoololdest\", pwalletMain->GetOldestKeyPoolTime()));",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 47,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "12fcde55b79d90edffda62a6568c52a9adef8498",
      "in_reply_to_id": 96107555,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Maybe add a TODO comment (though this does seem to me like a desirable change to include in this PR).",
      "created_at": "2017-01-24T19:16:05Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r97627414",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/97627414"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/97632469",
      "pull_request_review_id": 18241649,
      "id": 97632469,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk3NjMyNDY5",
      "diff_hunk": "@@ -88,6 +88,10 @@ enum WalletFeature\n     FEATURE_COMPRPUBKEY = 60000, // compressed public keys\n \n     FEATURE_HD = 130000, // Hierarchical key derivation after BIP32 (HD Wallet)\n+\n+    //TODO: FEATURE_HD_SPLIT needs to be bumped to 140000 once we branch of 0.14 //",
      "path": "src/wallet/wallet.h",
      "position": null,
      "original_position": 5,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "a874b75a180a9e967a3d936cf46df11f8531b70a",
      "in_reply_to_id": 96935865,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Sounds like you just need to remove the TODO.",
      "created_at": "2017-01-24T19:36:56Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r97632469",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/97632469"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/98072905",
      "pull_request_review_id": 18704080,
      "id": 98072905,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk4MDcyOTA1",
      "diff_hunk": "@@ -2315,17 +2316,20 @@ UniValue getwalletinfo(const JSONRPCRequest& request)\n     LOCK2(cs_main, pwalletMain->cs_wallet);\n \n     UniValue obj(UniValue::VOBJ);\n+    size_t kpExternalSize = (int)pwalletMain->KeypoolCountExternalKeys();\n     obj.push_back(Pair(\"walletversion\", pwalletMain->GetVersion()));\n     obj.push_back(Pair(\"balance\",       ValueFromAmount(pwalletMain->GetBalance())));\n     obj.push_back(Pair(\"unconfirmed_balance\", ValueFromAmount(pwalletMain->GetUnconfirmedBalance())));\n     obj.push_back(Pair(\"immature_balance\",    ValueFromAmount(pwalletMain->GetImmatureBalance())));\n     obj.push_back(Pair(\"txcount\",       (int)pwalletMain->mapWallet.size()));\n     obj.push_back(Pair(\"keypoololdest\", pwalletMain->GetOldestKeyPoolTime()));",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 47,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "12fcde55b79d90edffda62a6568c52a9adef8498",
      "in_reply_to_id": 96107555,
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> Maybe add a TODO comment (though this does seem to me like a desirable change to include in this PR).\r\n\r\nThis is fixed in the current version.",
      "created_at": "2017-01-26T19:32:18Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r98072905",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/98072905"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/98073336",
      "pull_request_review_id": 18704505,
      "id": 98073336,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk4MDczMzM2",
      "diff_hunk": "@@ -2929,14 +2960,24 @@ void CWallet::ReserveKeyFromKeyPool(int64_t& nIndex, CKeyPool& keypool)\n \n         CWalletDB walletdb(strWalletFile);\n \n-        nIndex = *(setKeyPool.begin());\n-        setKeyPool.erase(setKeyPool.begin());\n-        if (!walletdb.ReadPool(nIndex, keypool))\n-            throw runtime_error(std::string(__func__) + \": read failed\");\n-        if (!HaveKey(keypool.vchPubKey.GetID()))\n-            throw runtime_error(std::string(__func__) + \": unknown key in key pool\");\n-        assert(keypool.vchPubKey.IsValid());\n-        LogPrintf(\"keypool reserve %d\\n\", nIndex);\n+        // try to find a key that matches the internal/external filter\n+        for(const int64_t& id : setKeyPool)\n+        {\n+            CKeyPool tmpKeypool;\n+            if (!walletdb.ReadPool(id, tmpKeypool))\n+                throw runtime_error(std::string(__func__) + \": read failed\");\n+            if (!HaveKey(tmpKeypool.vchPubKey.GetID()))\n+                throw runtime_error(std::string(__func__) + \": unknown key in key pool\");",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 202,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": 95881341,
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes. There are arguments for and against throwing before or after removing. If we throw here, you already ran into (more) significant issues.",
      "created_at": "2017-01-26T19:34:09Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r98073336",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/98073336"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/98076862",
      "pull_request_review_id": 18708134,
      "id": 98076862,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk4MDc2ODYy",
      "diff_hunk": "@@ -3027,9 +3027,27 @@ int64_t CWallet::GetOldestKeyPoolTime()\n     if (setKeyPool.empty())\n         return GetTime();\n \n-    // load oldest key from keypool, get time and return\n     CKeyPool keypool;\n     CWalletDB walletdb(strWalletFile);\n+\n+    if (IsHDEnabled() && CanSupportFeature(FEATURE_HD_SPLIT))\n+    {\n+        // if HD & HD Chain Split is enabled, response max(oldest-internal-key, oldest-external-key)\n+        int64_t now = GetTime();\n+        int64_t oldest_external = now, oldest_internal = now;\n+\n+        for(const int64_t& id : setKeyPool)\n+        {\n+            if (!walletdb.ReadPool(id, keypool))\n+                throw runtime_error(std::string(__func__) + \": read failed\");\n+            if (keypool.fInternal && keypool.nTime < oldest_internal)\n+                oldest_internal = keypool.nTime;\n+            else if (!keypool.fInternal && keypool.nTime < oldest_external)\n+                oldest_external = keypool.nTime;\n+        }\n+        return std::max(oldest_internal, oldest_external);\n+    }\n+    // load oldest key from keypool, get time and return",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 25,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "d15e02b11a3101375165f7149eb8b6f8003c69f7",
      "in_reply_to_id": 96937164,
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "We still need the `FEATURE_HD_SPLIT` special case here. If don't want to return just the oldest key in that case. \r\nReason:\r\n* Assume people use GetOldestKeyPoolTime() to determine if it's time for a new backup (difficult question when it's HD anyways, but that actually what @TheBlueMatt came up in https://github.com/bitcoin/bitcoin/pull/9294/files#r96107555)\r\n* Assume your key in the keypool at index 0 (=oldest key) is an external key.\r\n* Now assume you call `getrawchangeaddress` multiple times and you only and completely refill your internal keypool.\r\n* In that case, you want to return the oldest internal key because its very likely newer then your oldest external key.\r\n\r\nBut maybe I'm wrong.",
      "created_at": "2017-01-26T19:50:11Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r98076862",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/98076862"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/98077143",
      "pull_request_review_id": 18708424,
      "id": 98077143,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk4MDc3MTQz",
      "diff_hunk": "@@ -88,6 +88,10 @@ enum WalletFeature\n     FEATURE_COMPRPUBKEY = 60000, // compressed public keys\n \n     FEATURE_HD = 130000, // Hierarchical key derivation after BIP32 (HD Wallet)\n+\n+    //TODO: FEATURE_HD_SPLIT needs to be bumped to 140000 once we branch of 0.14 //",
      "path": "src/wallet/wallet.h",
      "position": null,
      "original_position": 5,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "a874b75a180a9e967a3d936cf46df11f8531b70a",
      "in_reply_to_id": 96935865,
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think if we branch of 0.14 we would need to bump it to `1499000`. If someone was using this patch in production... he's.. in serious troubles anyways. :)",
      "created_at": "2017-01-26T19:51:34Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r98077143",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/98077143"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/98077940",
      "pull_request_review_id": 18709179,
      "id": 98077940,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk4MDc3OTQw",
      "diff_hunk": "@@ -88,6 +88,10 @@ enum WalletFeature\n     FEATURE_COMPRPUBKEY = 60000, // compressed public keys\n \n     FEATURE_HD = 130000, // Hierarchical key derivation after BIP32 (HD Wallet)\n+\n+    //TODO: FEATURE_HD_SPLIT needs to be bumped to 140000 once we branch of 0.14 //",
      "path": "src/wallet/wallet.h",
      "position": null,
      "original_position": 5,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "a874b75a180a9e967a3d936cf46df11f8531b70a",
      "in_reply_to_id": 96935865,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It should not be required to bump it when it is in master, because some people are using master \"in production\" (i.e. on the main net).",
      "created_at": "2017-01-26T19:54:56Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r98077940",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/98077940"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/98085837",
      "pull_request_review_id": 18717499,
      "id": 98085837,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk4MDg1ODM3",
      "diff_hunk": "@@ -3027,9 +3027,27 @@ int64_t CWallet::GetOldestKeyPoolTime()\n     if (setKeyPool.empty())\n         return GetTime();\n \n-    // load oldest key from keypool, get time and return\n     CKeyPool keypool;\n     CWalletDB walletdb(strWalletFile);\n+\n+    if (IsHDEnabled() && CanSupportFeature(FEATURE_HD_SPLIT))\n+    {\n+        // if HD & HD Chain Split is enabled, response max(oldest-internal-key, oldest-external-key)\n+        int64_t now = GetTime();\n+        int64_t oldest_external = now, oldest_internal = now;\n+\n+        for(const int64_t& id : setKeyPool)\n+        {\n+            if (!walletdb.ReadPool(id, keypool))\n+                throw runtime_error(std::string(__func__) + \": read failed\");\n+            if (keypool.fInternal && keypool.nTime < oldest_internal)\n+                oldest_internal = keypool.nTime;\n+            else if (!keypool.fInternal && keypool.nTime < oldest_external)\n+                oldest_external = keypool.nTime;\n+        }\n+        return std::max(oldest_internal, oldest_external);\n+    }\n+    // load oldest key from keypool, get time and return",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 25,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "d15e02b11a3101375165f7149eb8b6f8003c69f7",
      "in_reply_to_id": 96937164,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think you're right. Actually I was just confused because I misread std::max as std::min and couldn't figure out what the new code was doing differently!",
      "created_at": "2017-01-26T20:36:22Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r98085837",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/98085837"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/105834862",
      "pull_request_review_id": 26731466,
      "id": 105834862,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwNTgzNDg2Mg==",
      "diff_hunk": "@@ -2915,30 +2932,44 @@ bool CWallet::TopUpKeyPool(unsigned int kpSize)\n         if (IsLocked())\n             return false;\n \n-        CWalletDB walletdb(strWalletFile);\n-\n         // Top up key pool\n         unsigned int nTargetSize;\n         if (kpSize > 0)\n             nTargetSize = kpSize;\n         else\n             nTargetSize = std::max(GetArg(\"-keypool\", DEFAULT_KEYPOOL_SIZE), (int64_t) 0);\n \n-        while (setKeyPool.size() < (nTargetSize + 1))\n+        // count amount of available keys (internal, external)\n+        // make sure the keypool of external and internal keys fits the user selected target (-keypool)\n+        int64_t amountExternal = KeypoolCountExternalKeys();\n+        int64_t amountInternal = setKeyPool.size() - amountExternal;\n+        int64_t missingExternal = std::max(std::max((int64_t) nTargetSize, (int64_t) 1) - amountExternal, (int64_t) 0);\n+        int64_t missingInternal = std::max(std::max((int64_t) nTargetSize, (int64_t) 1) - amountInternal, (int64_t) 0);\n+\n+        if (!IsHDEnabled() || !CanSupportFeature(FEATURE_HD_SPLIT))\n+        {\n+            // don't create extra internal keys\n+            missingInternal = 0;\n+        }\n+        bool internal = false;\n+        CWalletDB walletdb(strWalletFile);\n+        for (int64_t i = missingInternal + missingExternal; i--;)\n         {\n             int64_t nEnd = 1;\n+            if (i < missingInternal)",
      "path": "src/wallet/wallet.cpp",
      "position": 201,
      "original_position": 177,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "52874f378d3ba3050fddd3a3af0c5347077e2893",
      "in_reply_to_id": null,
      "user": {
        "login": "NicolasDorier",
        "id": 3020646,
        "node_id": "MDQ6VXNlcjMwMjA2NDY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/NicolasDorier",
        "html_url": "https://github.com/NicolasDorier",
        "followers_url": "https://api.github.com/users/NicolasDorier/followers",
        "following_url": "https://api.github.com/users/NicolasDorier/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/NicolasDorier/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/NicolasDorier/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
        "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
        "repos_url": "https://api.github.com/users/NicolasDorier/repos",
        "events_url": "https://api.github.com/users/NicolasDorier/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "if you use `internal = i % 2 == 0;` instead, then at least `ReserveKeyFromPool` would not have to iterates over all the external keys to find one which match the filter when the filter search for internal key.",
      "created_at": "2017-03-14T06:28:33Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r105834862",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/105834862"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2970,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/106595854",
      "pull_request_review_id": 27524915,
      "id": 106595854,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwNjU5NTg1NA==",
      "diff_hunk": "@@ -2915,30 +2932,44 @@ bool CWallet::TopUpKeyPool(unsigned int kpSize)\n         if (IsLocked())\n             return false;\n \n-        CWalletDB walletdb(strWalletFile);\n-\n         // Top up key pool\n         unsigned int nTargetSize;\n         if (kpSize > 0)\n             nTargetSize = kpSize;\n         else\n             nTargetSize = std::max(GetArg(\"-keypool\", DEFAULT_KEYPOOL_SIZE), (int64_t) 0);\n \n-        while (setKeyPool.size() < (nTargetSize + 1))\n+        // count amount of available keys (internal, external)\n+        // make sure the keypool of external and internal keys fits the user selected target (-keypool)\n+        int64_t amountExternal = KeypoolCountExternalKeys();\n+        int64_t amountInternal = setKeyPool.size() - amountExternal;\n+        int64_t missingExternal = std::max(std::max((int64_t) nTargetSize, (int64_t) 1) - amountExternal, (int64_t) 0);\n+        int64_t missingInternal = std::max(std::max((int64_t) nTargetSize, (int64_t) 1) - amountInternal, (int64_t) 0);\n+\n+        if (!IsHDEnabled() || !CanSupportFeature(FEATURE_HD_SPLIT))\n+        {\n+            // don't create extra internal keys\n+            missingInternal = 0;\n+        }\n+        bool internal = false;\n+        CWalletDB walletdb(strWalletFile);\n+        for (int64_t i = missingInternal + missingExternal; i--;)\n         {\n             int64_t nEnd = 1;\n+            if (i < missingInternal)",
      "path": "src/wallet/wallet.cpp",
      "position": 201,
      "original_position": 177,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "52874f378d3ba3050fddd3a3af0c5347077e2893",
      "in_reply_to_id": 105834862,
      "user": {
        "login": "NicolasDorier",
        "id": 3020646,
        "node_id": "MDQ6VXNlcjMwMjA2NDY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/NicolasDorier",
        "html_url": "https://github.com/NicolasDorier",
        "followers_url": "https://api.github.com/users/NicolasDorier/followers",
        "following_url": "https://api.github.com/users/NicolasDorier/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/NicolasDorier/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/NicolasDorier/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
        "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
        "repos_url": "https://api.github.com/users/NicolasDorier/repos",
        "events_url": "https://api.github.com/users/NicolasDorier/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Actually no, my answer would not do. But you can still not clutter internal and external together.",
      "created_at": "2017-03-17T07:26:59Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r106595854",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/106595854"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2970,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/106998328",
      "pull_request_review_id": 27946865,
      "id": 106998328,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwNjk5ODMyOA==",
      "diff_hunk": "@@ -109,6 +113,18 @@ class CKeyPool\n             READWRITE(nVersion);\n         READWRITE(nTime);\n         READWRITE(vchPubKey);\n+        if (ser_action.ForRead()) {\n+            try {\n+                READWRITE(fInternal);\n+            }\n+            catch (std::ios_base::failure&) {\n+                /* flag as external address if we can't read the internal boolean */",
      "path": "src/wallet/wallet.h",
      "position": null,
      "original_position": 31,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "78f2cb926495114354d835a2ba344558384c89f9",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: I believe comment should point out that this is expected of any old wallets.",
      "created_at": "2017-03-20T19:47:01Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r106998328",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/106998328"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 121,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/107037955",
      "pull_request_review_id": 27946865,
      "id": 107037955,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwNzAzNzk1NQ==",
      "diff_hunk": "@@ -3016,9 +3057,27 @@ int64_t CWallet::GetOldestKeyPoolTime()\n     if (setKeyPool.empty())\n         return GetTime();\n \n-    // load oldest key from keypool, get time and return\n     CKeyPool keypool;\n     CWalletDB walletdb(strWalletFile);\n+\n+    if (IsHDEnabled() && CanSupportFeature(FEATURE_HD_SPLIT))\n+    {\n+        // if HD & HD Chain Split is enabled, response max(oldest-internal-key, oldest-external-key)\n+        int64_t now = GetTime();\n+        int64_t oldest_external = now, oldest_internal = now;\n+\n+        for(const int64_t& id : setKeyPool)\n+        {\n+            if (!walletdb.ReadPool(id, keypool))\n+                throw std::runtime_error(std::string(__func__) + \": read failed\");\n+            if (keypool.fInternal && keypool.nTime < oldest_internal)\n+                oldest_internal = keypool.nTime;\n+            else if (!keypool.fInternal && keypool.nTime < oldest_external)\n+                oldest_external = keypool.nTime;",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 272,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "78f2cb926495114354d835a2ba344558384c89f9",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Maybe add an additional if (oldest_internal != now && oldest_external != now) break; ?",
      "created_at": "2017-03-20T23:01:35Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r107037955",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/107037955"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3077,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/107039826",
      "pull_request_review_id": 27946865,
      "id": 107039826,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwNzAzOTgyNg==",
      "diff_hunk": "@@ -3626,9 +3685,12 @@ CWallet* CWallet::CreateWalletFromFile(const std::string walletFile)\n             CPubKey masterPubKey = walletInstance->GenerateNewHDMasterKey();\n             if (!walletInstance->SetHDMasterKey(masterPubKey))\n                 throw std::runtime_error(std::string(__func__) + \": Storing master key failed\");\n+\n+            // ensure this wallet.dat can only be opened by clients supporting HD with chain split",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 300,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "78f2cb926495114354d835a2ba344558384c89f9",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Technically this should happen before SetHDMasterKey, I believe (otherwise it maybe a race?)",
      "created_at": "2017-03-20T23:13:48Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r107039826",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/107039826"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3690,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/107040500",
      "pull_request_review_id": 27946865,
      "id": 107040500,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwNzA0MDUwMA==",
      "diff_hunk": "@@ -46,9 +46,12 @@ class CHDChain\n {\n public:\n     uint32_t nExternalChainCounter;\n+    uint32_t nInternalChainCounter;\n     CKeyID masterKeyID; //!< master key hash160\n \n-    static const int CURRENT_VERSION = 1;\n+    static const int VERSION_HD_BASE        = 1;\n+    static const int VERSION_HD_CHAIN_SPLIT = 2;\n+    static const int CURRENT_VERSION        = VERSION_HD_CHAIN_SPLIT;",
      "path": "src/wallet/walletdb.h",
      "position": 10,
      "original_position": 10,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "78f2cb926495114354d835a2ba344558384c89f9",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "By defaulting to VERSION_HD_CHAIN_SPLIT, encrypting a wallet will auto-upgrade the wallet without asking the user, I believe this is technically a bug.",
      "created_at": "2017-03-20T23:18:31Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r107040500",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/107040500"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 54,
      "original_line": 54,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/107042915",
      "pull_request_review_id": 27946865,
      "id": 107042915,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwNzA0MjkxNQ==",
      "diff_hunk": "@@ -476,6 +477,7 @@ def run_test(self):\n \n         #refill the keypool\n         self.nodes[1].walletpassphrase(\"test\", 100)\n+        self.nodes[1].keypoolrefill(8) #need to refill the keypool to get an internal change address",
      "path": "qa/rpc-tests/fundrawtransaction.py",
      "position": null,
      "original_position": 12,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "78f2cb926495114354d835a2ba344558384c89f9",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why is this required? Doesnt walletpassphrase TopUpKeyPool?",
      "created_at": "2017-03-20T23:36:15Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r107042915",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/107042915"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 480,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/107045646",
      "pull_request_review_id": 27946865,
      "id": 107045646,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwNzA0NTY0Ng==",
      "diff_hunk": "@@ -100,7 +100,7 @@ CPubKey CWallet::GenerateNewKey()\n \n     // use HD key derivation if HD was enabled during wallet creation\n     if (IsHDEnabled()) {\n-        DeriveNewChildKey(metadata, secret);\n+        DeriveNewChildKey(metadata, secret, (CanSupportFeature(FEATURE_HD_SPLIT) ? internal : false));",
      "path": "src/wallet/wallet.cpp",
      "position": 14,
      "original_position": 14,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "0a7b70aa7b8613ab1bcc50fed6d44f6e5c3deb4e",
      "in_reply_to_id": 95876524,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yea, really should be private, I think.",
      "created_at": "2017-03-20T23:57:39Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r107045646",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/107045646"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 101,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/107045701",
      "pull_request_review_id": 27946865,
      "id": 107045701,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwNzA0NTcwMQ==",
      "diff_hunk": "@@ -137,22 +137,27 @@ void CWallet::DeriveNewChildKey(CKeyMetadata& metadata, CKey& secret)\n     // use hardened derivation (child keys >= 0x80000000 are hardened after bip32)\n     masterKey.Derive(accountKey, BIP32_HARDENED_KEY_LIMIT);\n \n-    // derive m/0'/0'\n-    accountKey.Derive(externalChainChildKey, BIP32_HARDENED_KEY_LIMIT);\n+    // derive m/0'/0' (external chain) OR m/0'/1' (internal chain)\n+    accountKey.Derive(chainChildKey, BIP32_HARDENED_KEY_LIMIT+(internal ? 1 : 0));",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 41,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "78f2cb926495114354d835a2ba344558384c89f9",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Maybe assert(CanSupportFeature()) here?",
      "created_at": "2017-03-20T23:58:04Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r107045701",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/107045701"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 141,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/107864722",
      "pull_request_review_id": 28861805,
      "id": 107864722,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwNzg2NDcyMg==",
      "diff_hunk": "@@ -3016,9 +3057,27 @@ int64_t CWallet::GetOldestKeyPoolTime()\n     if (setKeyPool.empty())\n         return GetTime();\n \n-    // load oldest key from keypool, get time and return\n     CKeyPool keypool;\n     CWalletDB walletdb(strWalletFile);\n+\n+    if (IsHDEnabled() && CanSupportFeature(FEATURE_HD_SPLIT))\n+    {\n+        // if HD & HD Chain Split is enabled, response max(oldest-internal-key, oldest-external-key)\n+        int64_t now = GetTime();\n+        int64_t oldest_external = now, oldest_internal = now;\n+\n+        for(const int64_t& id : setKeyPool)\n+        {\n+            if (!walletdb.ReadPool(id, keypool))\n+                throw std::runtime_error(std::string(__func__) + \": read failed\");\n+            if (keypool.fInternal && keypool.nTime < oldest_internal)\n+                oldest_internal = keypool.nTime;\n+            else if (!keypool.fInternal && keypool.nTime < oldest_external)\n+                oldest_external = keypool.nTime;",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 272,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "78f2cb926495114354d835a2ba344558384c89f9",
      "in_reply_to_id": 107037955,
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ah. Right. It's guaranteed that the `setKeyPool` iterates always from the oldest to the newest.\r\nWill add.",
      "created_at": "2017-03-24T09:40:06Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r107864722",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/107864722"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3077,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/107866883",
      "pull_request_review_id": 28864153,
      "id": 107866883,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwNzg2Njg4Mw==",
      "diff_hunk": "@@ -46,9 +46,12 @@ class CHDChain\n {\n public:\n     uint32_t nExternalChainCounter;\n+    uint32_t nInternalChainCounter;\n     CKeyID masterKeyID; //!< master key hash160\n \n-    static const int CURRENT_VERSION = 1;\n+    static const int VERSION_HD_BASE        = 1;\n+    static const int VERSION_HD_CHAIN_SPLIT = 2;\n+    static const int CURRENT_VERSION        = VERSION_HD_CHAIN_SPLIT;",
      "path": "src/wallet/walletdb.h",
      "position": 10,
      "original_position": 10,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "78f2cb926495114354d835a2ba344558384c89f9",
      "in_reply_to_id": 107040500,
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It would upgrade to the new `CHDChain` serialisation format (including the `nInternalChainCounter`), but it would not upgrade to use internal keys, right?\r\nIs that problematic? If so, I can add a fix that keeps the serialisation version of `CHDChain` during encryption.",
      "created_at": "2017-03-24T09:53:02Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r107866883",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/107866883"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 54,
      "original_line": 54,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/108002156",
      "pull_request_review_id": 29013090,
      "id": 108002156,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwODAwMjE1Ng==",
      "diff_hunk": "@@ -46,9 +46,12 @@ class CHDChain\n {\n public:\n     uint32_t nExternalChainCounter;\n+    uint32_t nInternalChainCounter;\n     CKeyID masterKeyID; //!< master key hash160\n \n-    static const int CURRENT_VERSION = 1;\n+    static const int VERSION_HD_BASE        = 1;\n+    static const int VERSION_HD_CHAIN_SPLIT = 2;\n+    static const int CURRENT_VERSION        = VERSION_HD_CHAIN_SPLIT;",
      "path": "src/wallet/walletdb.h",
      "position": 10,
      "original_position": 10,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "78f2cb926495114354d835a2ba344558384c89f9",
      "in_reply_to_id": 107040500,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It would break opening in old wallets either way - because the nInternalChainCounter is added in the middle instead of the end the deserialization would come back with garbage.",
      "created_at": "2017-03-24T21:22:50Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r108002156",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/108002156"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 54,
      "original_line": 54,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/108280934",
      "pull_request_review_id": 29302926,
      "id": 108280934,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwODI4MDkzNA==",
      "diff_hunk": "@@ -2437,18 +2438,23 @@ UniValue getwalletinfo(const JSONRPCRequest& request)\n     LOCK2(cs_main, pwallet->cs_wallet);\n \n     UniValue obj(UniValue::VOBJ);\n+\n+    size_t kpExternalSize = pwalletMain->KeypoolCountExternalKeys();",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 51,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "9382f0425e87b30e4621e0e23a99d6e880ec2200",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Oops, should be pwallet, not pwalletMain now :).",
      "created_at": "2017-03-27T21:10:49Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r108280934",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/108280934"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2442,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/108282612",
      "pull_request_review_id": 29302926,
      "id": 108282612,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwODI4MjYxMg==",
      "diff_hunk": "@@ -58,13 +61,16 @@ class CHDChain\n     {\n         READWRITE(this->nVersion);\n         READWRITE(nExternalChainCounter);\n+        if (this->nVersion >= VERSION_HD_CHAIN_SPLIT)\n+            READWRITE(nInternalChainCounter);",
      "path": "src/wallet/walletdb.h",
      "position": null,
      "original_position": 19,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "9382f0425e87b30e4621e0e23a99d6e880ec2200",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In addition to the fix for backward compat where you set the version, can we make this more robust and flip the order? Generally adding new fields for (de-)serialization we should be adding them to the end.",
      "created_at": "2017-03-27T21:19:29Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r108282612",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/108282612"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 65,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/108284410",
      "pull_request_review_id": 29302926,
      "id": 108284410,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwODI4NDQxMA==",
      "diff_hunk": "@@ -633,7 +639,9 @@ bool CWallet::EncryptWallet(const SecureString& strWalletPassphrase)\n         if (IsHDEnabled()) {\n             CKey key;\n             CPubKey masterPubKey = GenerateNewHDMasterKey();\n-            if (!SetHDMasterKey(masterPubKey))\n+            // preserve the old chains version to not break backward compatibility\n+            CHDChain oldChain = GetHDChain();\n+            if (!SetHDMasterKey(masterPubKey, &oldChain))",
      "path": "src/wallet/wallet.cpp",
      "position": 78,
      "original_position": 78,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "9382f0425e87b30e4621e0e23a99d6e880ec2200",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why not SetHDMasterKey(int nHDChainVersion)? Then you can just do CanSupportFeature(FEATURE_HD_SPLIT) ? CHDChain::VERSION_HD_CHAIN_SPLIT : CHDChain::VERSION_HD_BASE.",
      "created_at": "2017-03-27T21:28:08Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r108284410",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/108284410"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 644,
      "original_line": 644,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/108287567",
      "pull_request_review_id": 29302926,
      "id": 108287567,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwODI4NzU2Nw==",
      "diff_hunk": "@@ -3017,9 +3065,33 @@ int64_t CWallet::GetOldestKeyPoolTime()\n     if (setKeyPool.empty())\n         return GetTime();\n \n-    // load oldest key from keypool, get time and return\n     CKeyPool keypool;\n     CWalletDB walletdb(strWalletFile);\n+\n+    if (IsHDEnabled() && CanSupportFeature(FEATURE_HD_SPLIT))\n+    {\n+        // if HD & HD Chain Split is enabled, response max(oldest-internal-key, oldest-external-key)\n+        int64_t now = GetTime();\n+        int64_t oldest_external = now, oldest_internal = now;\n+\n+        for(const int64_t& id : setKeyPool)\n+        {\n+            if (!walletdb.ReadPool(id, keypool)) {\n+                throw std::runtime_error(std::string(__func__) + \": read failed\");",
      "path": "src/wallet/wallet.cpp",
      "position": 292,
      "original_position": 292,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "9382f0425e87b30e4621e0e23a99d6e880ec2200",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: the old version does an assert(keypool.vchPubKey.IsValid()); which is nice to have...not necessary to add, but would be cool.",
      "created_at": "2017-03-27T21:43:53Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r108287567",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/108287567"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 3080,
      "original_line": 3080,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/108348270",
      "pull_request_review_id": 29372164,
      "id": 108348270,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwODM0ODI3MA==",
      "diff_hunk": "@@ -633,7 +639,9 @@ bool CWallet::EncryptWallet(const SecureString& strWalletPassphrase)\n         if (IsHDEnabled()) {\n             CKey key;\n             CPubKey masterPubKey = GenerateNewHDMasterKey();\n-            if (!SetHDMasterKey(masterPubKey))\n+            // preserve the old chains version to not break backward compatibility\n+            CHDChain oldChain = GetHDChain();\n+            if (!SetHDMasterKey(masterPubKey, &oldChain))",
      "path": "src/wallet/wallet.cpp",
      "position": 78,
      "original_position": 78,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "9382f0425e87b30e4621e0e23a99d6e880ec2200",
      "in_reply_to_id": 108284410,
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I though hiding the internals at this point would be preferable. IMO `CWallet::encryptWallet` should not have direct knowhow of the CHDChain version handling. I'd prefer passing in the old chain and let it be handled through `SetHDMasterKey`. Also, in future maybe other attributes need to be preserved.\r\nNot sure although.",
      "created_at": "2017-03-28T07:13:38Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r108348270",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/108348270"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 644,
      "original_line": 644,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/108348650",
      "pull_request_review_id": 29372539,
      "id": 108348650,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwODM0ODY1MA==",
      "diff_hunk": "@@ -3017,9 +3065,33 @@ int64_t CWallet::GetOldestKeyPoolTime()\n     if (setKeyPool.empty())\n         return GetTime();\n \n-    // load oldest key from keypool, get time and return\n     CKeyPool keypool;\n     CWalletDB walletdb(strWalletFile);\n+\n+    if (IsHDEnabled() && CanSupportFeature(FEATURE_HD_SPLIT))\n+    {\n+        // if HD & HD Chain Split is enabled, response max(oldest-internal-key, oldest-external-key)\n+        int64_t now = GetTime();\n+        int64_t oldest_external = now, oldest_internal = now;\n+\n+        for(const int64_t& id : setKeyPool)\n+        {\n+            if (!walletdb.ReadPool(id, keypool)) {\n+                throw std::runtime_error(std::string(__func__) + \": read failed\");",
      "path": "src/wallet/wallet.cpp",
      "position": 292,
      "original_position": 292,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "9382f0425e87b30e4621e0e23a99d6e880ec2200",
      "in_reply_to_id": 108287567,
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "For the keypool oldest it's further down L3026 (at https://github.com/bitcoin/bitcoin/pull/9294/files#diff-b2bb174788c7409b671c46ccc86034bdL3026)",
      "created_at": "2017-03-28T07:16:18Z",
      "updated_at": "2017-03-28T07:19:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r108348650",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/108348650"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 3080,
      "original_line": 3080,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/108491789",
      "pull_request_review_id": 29526290,
      "id": 108491789,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwODQ5MTc4OQ==",
      "diff_hunk": "@@ -633,7 +639,9 @@ bool CWallet::EncryptWallet(const SecureString& strWalletPassphrase)\n         if (IsHDEnabled()) {\n             CKey key;\n             CPubKey masterPubKey = GenerateNewHDMasterKey();\n-            if (!SetHDMasterKey(masterPubKey))\n+            // preserve the old chains version to not break backward compatibility\n+            CHDChain oldChain = GetHDChain();\n+            if (!SetHDMasterKey(masterPubKey, &oldChain))",
      "path": "src/wallet/wallet.cpp",
      "position": 78,
      "original_position": 78,
      "commit_id": "4115af7ac78971617c4fb80b7db336ff6bf254db",
      "original_commit_id": "9382f0425e87b30e4621e0e23a99d6e880ec2200",
      "in_reply_to_id": 108284410,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It kinda feels like mixing models, then. Wallet checks for FEATURE_HD_SPLIT everywhere before it updates the nInternalCounts, ie it seems to think its responsible for doing the checks, only to have CHDChain hide some stuff like version, but then you have to copy the version? Either we move logic into CHDChain (as @luke-jr suggested previously, have CHDChain know what version means and assert if you try to use the internal counter with a version that doesnt support it, which I assume some folks would object to), or all the logic should be in CWallet.",
      "created_at": "2017-03-28T17:58:04Z",
      "updated_at": "2017-03-28T17:58:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9294#discussion_r108491789",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/108491789"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9294"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 644,
      "original_line": 644,
      "side": "RIGHT"
    }
  ]
}