{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572",
    "id": 991858103,
    "node_id": "PR_kwDOABII5847Ho23",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/25572",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/25572.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/25572.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25572",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25572/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/ac60275f033088658d134b22c1c53e33346228aa",
    "number": 25572,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "refactor: Introduce EvictionManager and use it for the inbound eviction logic",
    "user": {
      "login": "dergoegge",
      "id": 8077169,
      "node_id": "MDQ6VXNlcjgwNzcxNjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dergoegge",
      "html_url": "https://github.com/dergoegge",
      "followers_url": "https://api.github.com/users/dergoegge/followers",
      "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
      "organizations_url": "https://api.github.com/users/dergoegge/orgs",
      "repos_url": "https://api.github.com/users/dergoegge/repos",
      "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/dergoegge/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This PR splits off the next couple commits from #25268 that introduce the `EvictionManager` and use it for  the inbound eviction logic.\r\n\r\nOne instance of the `EvictionManager` is created at start up and passed as a reference to the connection and peer managers. The connection and peer managers report all eviction relevant information (for inbound connections) to the eviction manager who ultimately suggests nodes to evict as the result of `EvictionManager::SelectNodeToEvict`.",
    "labels": [
      {
        "id": 135961,
        "node_id": "MDU6TGFiZWwxMzU5NjE=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
        "name": "Refactoring",
        "color": "E6F6D6",
        "default": false
      },
      {
        "id": 98298007,
        "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
        "name": "P2P",
        "color": "006b75",
        "default": false
      }
    ],
    "created_at": "2022-07-08T16:39:49Z",
    "updated_at": "2023-06-07T01:11:53Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "014ace9b9feb58a005f81918e4a36ae05502022b",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "dergoegge:2022-07-evictionman-2ofN",
      "ref": "2022-07-evictionman-2ofN",
      "sha": "ac60275f033088658d134b22c1c53e33346228aa",
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 315023492,
        "node_id": "MDEwOlJlcG9zaXRvcnkzMTUwMjM0OTI=",
        "name": "bitcoin",
        "full_name": "dergoegge/bitcoin",
        "owner": {
          "login": "dergoegge",
          "id": 8077169,
          "node_id": "MDQ6VXNlcjgwNzcxNjk=",
          "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/dergoegge",
          "html_url": "https://github.com/dergoegge",
          "followers_url": "https://api.github.com/users/dergoegge/followers",
          "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
          "organizations_url": "https://api.github.com/users/dergoegge/orgs",
          "repos_url": "https://api.github.com/users/dergoegge/repos",
          "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/dergoegge/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/dergoegge/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/dergoegge/bitcoin",
        "archive_url": "https://api.github.com/repos/dergoegge/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/dergoegge/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/dergoegge/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/dergoegge/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/dergoegge/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/dergoegge/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/dergoegge/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/dergoegge/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/dergoegge/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/dergoegge/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/dergoegge/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/dergoegge/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/dergoegge/bitcoin/events",
        "forks_url": "https://api.github.com/repos/dergoegge/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/dergoegge/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/dergoegge/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/dergoegge/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/dergoegge/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/dergoegge/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/dergoegge/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/dergoegge/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/dergoegge/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/dergoegge/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/dergoegge/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/dergoegge/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/dergoegge/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/dergoegge/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/dergoegge/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/dergoegge/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:dergoegge/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/dergoegge/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/dergoegge/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/dergoegge/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/dergoegge/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/dergoegge/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/dergoegge/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/dergoegge/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/dergoegge/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/dergoegge/bitcoin/hooks",
        "svn_url": "https://github.com/dergoegge/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 1,
        "watchers_count": 1,
        "size": 222378,
        "default_branch": "master",
        "open_issues_count": 1,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-06T10:23:38Z",
        "created_at": "2020-11-22T11:41:30Z",
        "updated_at": "2023-05-05T12:10:28Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "05ec664632adb6d5aca6ab3e6d944368e1164b49",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34324,
        "stargazers_count": 69818,
        "watchers_count": 69818,
        "size": 233879,
        "default_branch": "master",
        "open_issues_count": 627,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-07T05:35:10Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-06-07T06:49:43Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 758,
    "deletions": 177,
    "changed_files": 22,
    "commits": 11,
    "review_comments": 47,
    "comments": 8
  },
  "events": [
    {
      "event": "labeled",
      "id": 6961479239,
      "node_id": "LE_lADOABII585NcM14zwAAAAGe775H",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6961479239",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-08T16:40:57Z",
      "label": {
        "name": "P2P",
        "color": "006b75"
      }
    },
    {
      "event": "labeled",
      "id": 6961479754,
      "node_id": "LE_lADOABII585NcM14zwAAAAGe78BK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6961479754",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-08T16:41:02Z",
      "label": {
        "name": "Refactoring",
        "color": "E6F6D6"
      }
    },
    {
      "event": "reviewed",
      "id": 1033310967,
      "node_id": "PRR_kwDOABII5849lxL3",
      "url": null,
      "actor": null,
      "commit_id": "2f93a9fc878a8a41643a8776fa72c260aa85ebd5",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK.\r\n\r\nAdded a high-level question about `NodeEvictionCandidate` to kick things off, will continue with review.",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#pullrequestreview-1033310967",
      "submitted_at": "2022-07-08T19:34:23Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
    },
    {
      "event": "commented",
      "id": 1179407395,
      "node_id": "IC_kwDOABII585GTFQj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1179407395",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-08T22:31:14Z",
      "updated_at": "2023-06-07T01:11:53Z",
      "author_association": "MEMBER",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [theuni](https://github.com/bitcoin/bitcoin/pull/25572#pullrequestreview-1033310967), [jnewbery](https://github.com/bitcoin/bitcoin/pull/25572#pullrequestreview-1037153485), [naumenkogs](https://github.com/bitcoin/bitcoin/pull/25572#issuecomment-1243376621) |\n\nIf your review is incorrectly listed, please react with 👎 to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#27742](https://github.com/bitcoin/bitcoin/pull/27742) ([NO MERGE] BIP331 Ancestor Package Relay by glozow)\n* [#27600](https://github.com/bitcoin/bitcoin/pull/27600) (net: Allow inbound whitebind connections to more aggressively evict peers when slots are full by pinheadmz)\n* [#27509](https://github.com/bitcoin/bitcoin/pull/27509) (Relay own transactions only via short-lived Tor or I2P connections by vasild)\n* [#27499](https://github.com/bitcoin/bitcoin/pull/27499) (net processing, refactor: Decouple PeerManager from gArgs by dergoegge)\n* [#27385](https://github.com/bitcoin/bitcoin/pull/27385) (net, refactor: extract Network and BIP155Network logic to node/network by jonatack)\n* [#27213](https://github.com/bitcoin/bitcoin/pull/27213) (p2p: Diversify automatic outbound connections with respect to networks by amitiuttarwar)\n* [#26812](https://github.com/bitcoin/bitcoin/pull/26812) (test: add end-to-end tests for CConnman and PeerManager by vasild)\n* [#26621](https://github.com/bitcoin/bitcoin/pull/26621) (refactor: Continue moving application data from CNode to Peer by dergoegge)\n* [#10443](https://github.com/bitcoin/bitcoin/pull/10443) (Add fee_est tool for debugging fee estimation code by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#issuecomment-1179407395",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25572"
    },
    {
      "event": "reviewed",
      "id": 1037066665,
      "node_id": "PRR_kwDOABII58490GGp",
      "url": null,
      "actor": null,
      "commit_id": "2f93a9fc878a8a41643a8776fa72c260aa85ebd5",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#pullrequestreview-1037066665",
      "submitted_at": "2022-07-13T10:42:01Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
    },
    {
      "event": "reviewed",
      "id": 1037153485,
      "node_id": "PRR_kwDOABII58490bTN",
      "url": null,
      "actor": null,
      "commit_id": "2f93a9fc878a8a41643a8776fa72c260aa85ebd5",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Big concept ACK!\r\n\r\nMinor cosmetic comments inline.",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#pullrequestreview-1037153485",
      "submitted_at": "2022-07-13T10:43:16Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
    },
    {
      "event": "labeled",
      "id": 6987491526,
      "node_id": "LE_lADOABII585NcM14zwAAAAGgfKjG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6987491526",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-13T16:27:17Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6995839350,
      "node_id": "HRFPE_lADOABII585NcM14zwAAAAGg_Al2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6995839350",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-14T16:47:02Z"
    },
    {
      "event": "unlabeled",
      "id": 6996209403,
      "node_id": "UNLE_lADOABII585NcM14zwAAAAGhAa77",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6996209403",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-14T17:35:58Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 7018633461,
      "node_id": "LE_lADOABII585NcM14zwAAAAGiV9j1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7018633461",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-19T08:37:19Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7073383241,
      "node_id": "HRFPE_lADOABII585NcM14zwAAAAGlm0NJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7073383241",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-27T14:11:56Z"
    },
    {
      "event": "commented",
      "id": 1196830895,
      "node_id": "IC_kwDOABII585HVjCv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1196830895",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-27T14:25:07Z",
      "updated_at": "2022-07-27T14:25:07Z",
      "author_association": "MEMBER",
      "body": "Rebased.",
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#issuecomment-1196830895",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25572"
    },
    {
      "event": "unlabeled",
      "id": 7074091852,
      "node_id": "UNLE_lADOABII585NcM14zwAAAAGlphNM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7074091852",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-27T15:34:27Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 7116896063,
      "node_id": "LE_lADOABII585NcM14zwAAAAGoMzc_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7116896063",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-03T09:23:44Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7117231555,
      "node_id": "HRFPE_lADOABII585NcM14zwAAAAGoOFXD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7117231555",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-03T10:10:01Z"
    },
    {
      "event": "unlabeled",
      "id": 7117755180,
      "node_id": "UNLE_lADOABII585NcM14zwAAAAGoQFMs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7117755180",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-03T11:30:06Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1228695604,
      "node_id": "IC_kwDOABII585JPGg0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1228695604",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-26T16:26:27Z",
      "updated_at": "2022-08-26T16:26:27Z",
      "author_association": "MEMBER",
      "body": "Needs a quick linter fix.",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#issuecomment-1228695604",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25572"
    },
    {
      "event": "labeled",
      "id": 7270842808,
      "node_id": "LE_lADOABII585NcM14zwAAAAGxYEG4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7270842808",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-26T22:25:44Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7348358097,
      "node_id": "HRFPE_lADOABII585NcM14zwAAAAG1_wvR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7348358097",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-08T14:24:21Z"
    },
    {
      "event": "unlabeled",
      "id": 7349251287,
      "node_id": "UNLE_lADOABII585NcM14zwAAAAG2DKzX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7349251287",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-08T16:00:53Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1242241204,
      "node_id": "IC_kwDOABII585KCxi0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1242241204",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-09T17:14:04Z",
      "updated_at": "2022-09-09T17:14:04Z",
      "author_association": "MEMBER",
      "body": "This has been rebased (including a small linter fix) and is ready for review again!",
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#issuecomment-1242241204",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25572"
    },
    {
      "event": "reviewed",
      "id": 1103640256,
      "node_id": "PRR_kwDOABII585ByDbA",
      "url": null,
      "actor": null,
      "commit_id": "82eb8d34d5910ac97c151f55dbad7fdb1966f9b1",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#pullrequestreview-1103640256",
      "submitted_at": "2022-09-12T08:00:25Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
    },
    {
      "event": "commented",
      "id": 1243376621,
      "node_id": "IC_kwDOABII585KHGvt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1243376621",
      "actor": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-12T08:17:32Z",
      "updated_at": "2022-09-12T08:17:32Z",
      "author_association": "MEMBER",
      "body": "Concept ACK, light code review ACK 29c853614ac7ffbd6ab6c009f297f92149843e32.\r\nThis is a great refactor.",
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#issuecomment-1243376621",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25572"
    },
    {
      "event": "review_requested",
      "id": 7365142846,
      "node_id": "RRE_lADOABII585NcM14zwAAAAG2_yk-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7365142846",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-12T08:20:04Z",
      "requested_reviewer": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "reviewed",
      "id": 1109246967,
      "node_id": "PRR_kwDOABII585CHcP3",
      "url": null,
      "actor": null,
      "commit_id": "535c5040a198253c2b87f1b51a66c876da7f2ad4",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#pullrequestreview-1109246967",
      "submitted_at": "2022-09-15T13:57:17Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
    },
    {
      "event": "labeled",
      "id": 7422468033,
      "node_id": "LE_lADOABII585NcM14zwAAAAG6ad_B",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7422468033",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-20T13:45:57Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7423033575,
      "node_id": "HRFPE_lADOABII585NcM14zwAAAAG6coDn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7423033575",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-20T14:44:16Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7423328607,
      "node_id": "HRFPE_lADOABII585NcM14zwAAAAG6dwFf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7423328607",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-20T15:16:12Z"
    },
    {
      "event": "unlabeled",
      "id": 7423653768,
      "node_id": "UNLE_lADOABII585NcM14zwAAAAG6e_eI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7423653768",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-20T15:54:04Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 7604522204,
      "node_id": "LE_lADOABII585NcM14zwAAAAHFQ8zc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7604522204",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-17T17:46:34Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7613803558,
      "node_id": "HRFPE_lADOABII585NcM14zwAAAAHF0Wwm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7613803558",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-18T17:07:59Z"
    },
    {
      "event": "commented",
      "id": 1282738598,
      "node_id": "IC_kwDOABII585MdQmm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1282738598",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-18T17:08:49Z",
      "updated_at": "2022-10-18T17:08:49Z",
      "author_association": "MEMBER",
      "body": "Rebased and added some docs for the initial `NodeEvictionCandidate` values.",
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#issuecomment-1282738598",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25572"
    },
    {
      "event": "unlabeled",
      "id": 7614505719,
      "node_id": "UNLE_lADOABII585NcM14zwAAAAHF3CL3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7614505719",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-18T18:46:18Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7690094314,
      "node_id": "HRFPE_lADOABII585NcM14zwAAAAHKXYbq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7690094314",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-28T09:56:57Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7690890215,
      "node_id": "HRFPE_lADOABII585NcM14zwAAAAHKaavn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7690890215",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-28T11:41:34Z"
    },
    {
      "event": "labeled",
      "id": 7720670511,
      "node_id": "LE_lADOABII585NcM14zwAAAAHMMBUv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7720670511",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-02T08:16:28Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7896361690,
      "node_id": "HRFPE_lADOABII585NcM14zwAAAAHWqOra",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7896361690",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-26T14:43:11Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7904118854,
      "node_id": "HRFPE_lADOABII585NcM14zwAAAAHXH0hG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7904118854",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-28T15:31:18Z"
    },
    {
      "event": "unlabeled",
      "id": 7904166485,
      "node_id": "UNLE_lADOABII585NcM14zwAAAAHXIAJV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7904166485",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-28T15:36:37Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7906998409,
      "node_id": "HRFPE_lADOABII585NcM14zwAAAAHXSziJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7906998409",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-28T21:31:48Z"
    },
    {
      "event": "commented",
      "id": 1329788382,
      "node_id": "IC_kwDOABII585PQvXe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1329788382",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-28T21:33:44Z",
      "updated_at": "2022-11-28T21:33:44Z",
      "author_association": "MEMBER",
      "body": "Finally got around to adding a fuzz target for the Eviction Manager. The testing oracle is pretty dumb right now, gonna think about how that can be improved... The oracle could also be improved on later.",
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#issuecomment-1329788382",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25572"
    },
    {
      "event": "labeled",
      "id": 7921424379,
      "node_id": "LE_lADOABII585NcM14zwAAAAHYJ1f7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7921424379",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-30T12:07:06Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7934578327,
      "node_id": "HRFPE_lADOABII585NcM14zwAAAAHY8A6X",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7934578327",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-01T18:26:35Z"
    },
    {
      "event": "unlabeled",
      "id": 7935046770,
      "node_id": "UNLE_lADOABII585NcM14zwAAAAHY9zRy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7935046770",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-01T19:36:45Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7939923963,
      "node_id": "HRFPE_lADOABII585NcM14zwAAAAHZQZ_7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7939923963",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-02T11:29:20Z"
    },
    {
      "event": "labeled",
      "id": 8723832144,
      "node_id": "LE_lADOABII585NcM14zwAAAAIH-x1Q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8723832144",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-11T10:51:14Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8755212906,
      "node_id": "HRFPE_lADOABII585NcM14zwAAAAIJ2fJq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8755212906",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-15T13:04:35Z"
    },
    {
      "event": "unlabeled",
      "id": 8755387015,
      "node_id": "UNLE_lADOABII585NcM14zwAAAAIJ3JqH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8755387015",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-15T13:21:07Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 8831464572,
      "node_id": "LE_lADOABII585NcM14zwAAAAIOZXR8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8831464572",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-23T19:18:52Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8854360912,
      "node_id": "HRFPE_lADOABII585NcM14zwAAAAIPwtNQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8854360912",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-27T14:07:12Z"
    },
    {
      "event": "unlabeled",
      "id": 8855746419,
      "node_id": "UNLE_lADOABII585NcM14zwAAAAIP1_dz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8855746419",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-27T15:59:25Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 8864027536,
      "node_id": "LE_lADOABII585NcM14zwAAAAIQVlOQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8864027536",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-28T11:17:55Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8864816361,
      "node_id": "HRFPE_lADOABII585NcM14zwAAAAIQYlzp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8864816361",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-28T12:35:20Z"
    },
    {
      "event": "unlabeled",
      "id": 8865577941,
      "node_id": "UNLE_lADOABII585NcM14zwAAAAIQbfvV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8865577941",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-28T13:42:14Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "referenced",
      "id": 8972130515,
      "node_id": "REFE_lADOABII585NcM14zwAAAAIWx9jT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8972130515",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "53eb4b7a212db7563291509ff4e53327440a9df2",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/53eb4b7a212db7563291509ff4e53327440a9df2",
      "created_at": "2023-04-11T10:43:31Z"
    },
    {
      "event": "labeled",
      "id": 8973035763,
      "node_id": "LE_lADOABII585NcM14zwAAAAIW1ajz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8973035763",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-11T12:22:46Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "referenced",
      "id": 8975183610,
      "node_id": "REFE_lADOABII585NcM14zwAAAAIW9m76",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8975183610",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "4fe31e65c8c1af249ea592d0402eee3caa0cdd38",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/4fe31e65c8c1af249ea592d0402eee3caa0cdd38",
      "created_at": "2023-04-11T15:12:04Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8983587753,
      "node_id": "HRFPE_lADOABII585NcM14zwAAAAIXdqup",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8983587753",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-12T09:46:09Z"
    },
    {
      "event": "unlabeled",
      "id": 8984528860,
      "node_id": "UNLE_lADOABII585NcM14zwAAAAIXhQfc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8984528860",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-12T11:28:45Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1382476579,
      "node_id": "PRR_kwDOABII585SZusj",
      "url": null,
      "actor": null,
      "commit_id": "14f06a2ea571337627ec491a95c6cfb4689bd8cf",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#pullrequestreview-1382476579",
      "submitted_at": "2023-04-13T03:49:30Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
    },
    {
      "event": "reviewed",
      "id": 1383046924,
      "node_id": "PRR_kwDOABII585Sb58M",
      "url": null,
      "actor": null,
      "commit_id": "14f06a2ea571337627ec491a95c6cfb4689bd8cf",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "@ajtowns Thank you for the comments!",
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#pullrequestreview-1383046924",
      "submitted_at": "2023-04-13T10:50:44Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
    },
    {
      "event": "reviewed",
      "id": 1383832899,
      "node_id": "PRR_kwDOABII585Se51D",
      "url": null,
      "actor": null,
      "commit_id": "14f06a2ea571337627ec491a95c6cfb4689bd8cf",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#pullrequestreview-1383832899",
      "submitted_at": "2023-04-13T17:08:33Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
    },
    {
      "event": "labeled",
      "id": 9061861460,
      "node_id": "LE_lADOABII585NcM14zwAAAAIcIQhU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9061861460",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-20T21:53:13Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9065692683,
      "node_id": "HRFPE_lADOABII585NcM14zwAAAAIcW34L",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9065692683",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-21T09:19:48Z"
    },
    {
      "event": "commented",
      "id": 1517535588,
      "node_id": "IC_kwDOABII585ac8Fk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1517535588",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-21T09:20:19Z",
      "updated_at": "2023-04-21T09:20:19Z",
      "author_association": "MEMBER",
      "body": "Rebased, have not addressed Martin's comments yet",
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#issuecomment-1517535588",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25572"
    },
    {
      "event": "unlabeled",
      "id": 9066312945,
      "node_id": "UNLE_lADOABII585NcM14zwAAAAIcZPTx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9066312945",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-21T10:36:49Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 9210529898,
      "node_id": "LE_lADOABII585NcM14zwAAAAIk_Yhq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9210529898",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-10T11:23:51Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDg3NDU3MjA2MDZhN2EzN2E5ZGUwMmMyNjQ1NmEwMmM4NTA4YmFkNzY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8745720606a7a37a9de02c26456a02c8508bad76",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/8745720606a7a37a9de02c26456a02c8508bad76",
      "tree": {
        "sha": "e645b0ea2f1808c5104f88cf8f2c4b66093faffc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e645b0ea2f1808c5104f88cf8f2c4b66093faffc"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9564f98fee9809530e10070ab18738aefe95445e",
          "sha": "9564f98fee9809530e10070ab18738aefe95445e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/9564f98fee9809530e10070ab18738aefe95445e"
        }
      ],
      "message": "[test] Make all denial of service tests use their own connman/peerman",
      "committer": {
        "name": "dergoegge",
        "email": "n.goeggi@gmail.com",
        "date": "2023-05-30T14:15:10Z"
      },
      "author": {
        "name": "dergoegge",
        "email": "n.goeggi@gmail.com",
        "date": "2022-09-20T15:05:21Z"
      },
      "sha": "8745720606a7a37a9de02c26456a02c8508bad76"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDA0NmQ3NzAzY2VlZmMyOWY2ZDI1NzJlMTExYTE1YmNlZTM3Y2EwYmE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/046d7703ceefc29f6d2572e111a15bcee37ca0ba",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/046d7703ceefc29f6d2572e111a15bcee37ca0ba",
      "tree": {
        "sha": "84281435ab60427bf50ed4f963c780d720d4fb95",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/84281435ab60427bf50ed4f963c780d720d4fb95"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8745720606a7a37a9de02c26456a02c8508bad76",
          "sha": "8745720606a7a37a9de02c26456a02c8508bad76",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/8745720606a7a37a9de02c26456a02c8508bad76"
        }
      ],
      "message": "[eviction] Create EvictionManager stub",
      "committer": {
        "name": "dergoegge",
        "email": "n.goeggi@gmail.com",
        "date": "2023-05-30T14:15:10Z"
      },
      "author": {
        "name": "dergoegge",
        "email": "n.goeggi@gmail.com",
        "date": "2022-05-26T14:14:57Z"
      },
      "sha": "046d7703ceefc29f6d2572e111a15bcee37ca0ba"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDJkMmY5NjNjMTRiMjY2NTIyZWZmYzNiODQ0Yjc3ODk0OGU3YjFjNDY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2d2f963c14b266522effc3b844b778948e7b1c46",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/2d2f963c14b266522effc3b844b778948e7b1c46",
      "tree": {
        "sha": "73f3b48452b24ae55b0db9c3f8fedda4bbedd9a2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/73f3b48452b24ae55b0db9c3f8fedda4bbedd9a2"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/046d7703ceefc29f6d2572e111a15bcee37ca0ba",
          "sha": "046d7703ceefc29f6d2572e111a15bcee37ca0ba",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/046d7703ceefc29f6d2572e111a15bcee37ca0ba"
        }
      ],
      "message": "[eviction] Make EvictionManager keep track of candidates",
      "committer": {
        "name": "dergoegge",
        "email": "n.goeggi@gmail.com",
        "date": "2023-05-30T14:15:10Z"
      },
      "author": {
        "name": "dergoegge",
        "email": "n.goeggi@gmail.com",
        "date": "2022-05-26T14:26:00Z"
      },
      "sha": "2d2f963c14b266522effc3b844b778948e7b1c46"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGRlZTg5OWU4OTAyNTkwYjc3YTljYzE0ZWFjZTgzZTI0NzdkNjcxNzI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dee899e8902590b77a9cc14eace83e2477d67172",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/dee899e8902590b77a9cc14eace83e2477d67172",
      "tree": {
        "sha": "f4a269fc2ff971de04a396f5a0e2c35c6dd73e80",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f4a269fc2ff971de04a396f5a0e2c35c6dd73e80"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2d2f963c14b266522effc3b844b778948e7b1c46",
          "sha": "2d2f963c14b266522effc3b844b778948e7b1c46",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/2d2f963c14b266522effc3b844b778948e7b1c46"
        }
      ],
      "message": "[net] Get candidates from eviction manager\n\nWe temporarily introduce a method to get a specific\nNodeEvictionCandidate from the eviction manager for use in\n`CConnman::AttemptToEvictConnection()`. `EvictionManager::GetCandidate`\nis removed once we are done moving the remaining eviction state from\n`CNode` to the eviction manager.",
      "committer": {
        "name": "dergoegge",
        "email": "n.goeggi@gmail.com",
        "date": "2023-05-30T14:15:10Z"
      },
      "author": {
        "name": "dergoegge",
        "email": "n.goeggi@gmail.com",
        "date": "2022-06-23T12:33:02Z"
      },
      "sha": "dee899e8902590b77a9cc14eace83e2477d67172"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDIyNjI1OGI3MzVhMmJjOTI5MTdkNjRjMDJhNzhiMjQ4NGJmODJkNzE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/226258b735a2bc92917d64c02a78b2484bf82d71",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/226258b735a2bc92917d64c02a78b2484bf82d71",
      "tree": {
        "sha": "11daf51e35f529be831dd76b1e686b2b2dfc46b2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/11daf51e35f529be831dd76b1e686b2b2dfc46b2"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dee899e8902590b77a9cc14eace83e2477d67172",
          "sha": "dee899e8902590b77a9cc14eace83e2477d67172",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/dee899e8902590b77a9cc14eace83e2477d67172"
        }
      ],
      "message": "[net] Remove unused CNode state\n\nNow that the eviction manager is aware of the keyed net group and\nwhether or not a peer is prefered for eviction, we can get rid of the\ncorresponding CNode members, since they are not used elsewhere.",
      "committer": {
        "name": "dergoegge",
        "email": "n.goeggi@gmail.com",
        "date": "2023-05-30T14:15:11Z"
      },
      "author": {
        "name": "dergoegge",
        "email": "n.goeggi@gmail.com",
        "date": "2022-05-26T12:11:54Z"
      },
      "sha": "226258b735a2bc92917d64c02a78b2484bf82d71"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDMxYjVlOTQwNDgxMzliZjFmOTQ2NjIzNzA1ZDlmZWRkMTE0YzFhNTI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/31b5e94048139bf1f946623705d9fedd114c1a52",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/31b5e94048139bf1f946623705d9fedd114c1a52",
      "tree": {
        "sha": "59a5705fe3db26647d33dc479042500e4be0de92",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/59a5705fe3db26647d33dc479042500e4be0de92"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/226258b735a2bc92917d64c02a78b2484bf82d71",
          "sha": "226258b735a2bc92917d64c02a78b2484bf82d71",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/226258b735a2bc92917d64c02a78b2484bf82d71"
        }
      ],
      "message": "[eviction] Move ping/block/tx times from CNode to EvictionManager",
      "committer": {
        "name": "dergoegge",
        "email": "n.goeggi@gmail.com",
        "date": "2023-05-30T14:15:52Z"
      },
      "author": {
        "name": "dergoegge",
        "email": "n.goeggi@gmail.com",
        "date": "2022-05-27T15:09:10Z"
      },
      "sha": "31b5e94048139bf1f946623705d9fedd114c1a52"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDA1YWNmODZiYTIwZjA5OTUxOWJiZDkyNWIyNjA0NWQ3OThhM2I5NDg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/05acf86ba20f099519bbd925b26045d798a3b948",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/05acf86ba20f099519bbd925b26045d798a3b948",
      "tree": {
        "sha": "cfcbfba818273787e4fd9603632957293878153c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/cfcbfba818273787e4fd9603632957293878153c"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/31b5e94048139bf1f946623705d9fedd114c1a52",
          "sha": "31b5e94048139bf1f946623705d9fedd114c1a52",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/31b5e94048139bf1f946623705d9fedd114c1a52"
        }
      ],
      "message": "[eviction] Report services to EvictionManager",
      "committer": {
        "name": "dergoegge",
        "email": "n.goeggi@gmail.com",
        "date": "2023-05-30T14:15:52Z"
      },
      "author": {
        "name": "dergoegge",
        "email": "n.goeggi@gmail.com",
        "date": "2022-05-27T15:28:47Z"
      },
      "sha": "05acf86ba20f099519bbd925b26045d798a3b948"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGY2MGZhYzU4YzdiZDNjNjM0OTVmMzg5YWY5M2FkYzY5M2YwNjJkMzM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f60fac58c7bd3c63495f389af93adc693f062d33",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f60fac58c7bd3c63495f389af93adc693f062d33",
      "tree": {
        "sha": "8e63029dc715da2c851865b885d2deeafaae60ab",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8e63029dc715da2c851865b885d2deeafaae60ab"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/05acf86ba20f099519bbd925b26045d798a3b948",
          "sha": "05acf86ba20f099519bbd925b26045d798a3b948",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/05acf86ba20f099519bbd925b26045d798a3b948"
        }
      ],
      "message": "[eviction] Move BIP37 tx relay and bloom filter status to EvictionManager",
      "committer": {
        "name": "dergoegge",
        "email": "n.goeggi@gmail.com",
        "date": "2023-05-30T14:15:52Z"
      },
      "author": {
        "name": "dergoegge",
        "email": "n.goeggi@gmail.com",
        "date": "2022-05-27T15:38:35Z"
      },
      "sha": "f60fac58c7bd3c63495f389af93adc693f062d33"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDExYTA2YTEyNjllMTQyNGI5NGIzNmZmNzljNzVmMzljYjNmMmRjMDI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/11a06a1269e1424b94b36ff79c75f39cb3f2dc02",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/11a06a1269e1424b94b36ff79c75f39cb3f2dc02",
      "tree": {
        "sha": "8c1896e507e9b8f079404f0edc1e96182a0c9ad0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8c1896e507e9b8f079404f0edc1e96182a0c9ad0"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f60fac58c7bd3c63495f389af93adc693f062d33",
          "sha": "f60fac58c7bd3c63495f389af93adc693f062d33",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f60fac58c7bd3c63495f389af93adc693f062d33"
        }
      ],
      "message": "[eviction] Move SelectNodeToEvict into EvictionManager",
      "committer": {
        "name": "dergoegge",
        "email": "n.goeggi@gmail.com",
        "date": "2023-05-30T14:15:52Z"
      },
      "author": {
        "name": "dergoegge",
        "email": "n.goeggi@gmail.com",
        "date": "2022-05-27T16:41:08Z"
      },
      "sha": "11a06a1269e1424b94b36ff79c75f39cb3f2dc02"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDFlMjcxYzJlZmViNDM4Nzk0NjQzMzQ4MmFlMDM5Yzc2NzM2MTUzMTc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1e271c2efeb4387946433482ae039c7673615317",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/1e271c2efeb4387946433482ae039c7673615317",
      "tree": {
        "sha": "d9f49a2096959c55105a2d6b28841e5199b55710",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d9f49a2096959c55105a2d6b28841e5199b55710"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/11a06a1269e1424b94b36ff79c75f39cb3f2dc02",
          "sha": "11a06a1269e1424b94b36ff79c75f39cb3f2dc02",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/11a06a1269e1424b94b36ff79c75f39cb3f2dc02"
        }
      ],
      "message": "[doc] Document relevant initial NodeEvictionCandidate values",
      "committer": {
        "name": "dergoegge",
        "email": "n.goeggi@gmail.com",
        "date": "2023-05-30T14:15:52Z"
      },
      "author": {
        "name": "dergoegge",
        "email": "n.goeggi@gmail.com",
        "date": "2022-09-20T15:32:06Z"
      },
      "sha": "1e271c2efeb4387946433482ae039c7673615317"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGFjNjAyNzVmMDMzMDg4NjU4ZDEzNGIyMmMxYzUzZTMzMzQ2MjI4YWE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ac60275f033088658d134b22c1c53e33346228aa",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ac60275f033088658d134b22c1c53e33346228aa",
      "tree": {
        "sha": "5350d1cb86740beec33c63d888a4f4e6b96954bc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5350d1cb86740beec33c63d888a4f4e6b96954bc"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1e271c2efeb4387946433482ae039c7673615317",
          "sha": "1e271c2efeb4387946433482ae039c7673615317",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/1e271c2efeb4387946433482ae039c7673615317"
        }
      ],
      "message": "[fuzz] Add EvictionManager target",
      "committer": {
        "name": "dergoegge",
        "email": "n.goeggi@gmail.com",
        "date": "2023-05-30T14:15:52Z"
      },
      "author": {
        "name": "dergoegge",
        "email": "n.goeggi@gmail.com",
        "date": "2022-11-28T21:27:27Z"
      },
      "sha": "ac60275f033088658d134b22c1c53e33346228aa"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9380073316,
      "node_id": "HRFPE_lADOABII585NcM14zwAAAAIvGI9k",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9380073316",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-30T15:38:19Z"
    },
    {
      "event": "unlabeled",
      "id": 9380318336,
      "node_id": "UNLE_lADOABII585NcM14zwAAAAIvHEyA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9380318336",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-30T16:01:04Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 9381091805,
      "node_id": "LE_lADOABII585NcM14zwAAAAIvKBnd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9381091805",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-30T17:26:11Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 9391819382,
      "node_id": "UNLE_lADOABII585NcM14zwAAAAIvy8p2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9391819382",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-31T15:03:50Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/917088652",
      "pull_request_review_id": 1033310967,
      "id": 917088652,
      "node_id": "PRRC_kwDOABII5842qamM",
      "diff_hunk": "@@ -243,6 +244,53 @@ void ProtectEvictionCandidatesByRatio(std::vector<NodeEvictionCandidate>& evicti\n EvictionManagerImpl::EvictionManagerImpl() {}\n EvictionManagerImpl::~EvictionManagerImpl() = default;\n \n+void EvictionManagerImpl::AddCandidate(NodeId id, std::chrono::seconds connected,\n+                                       uint64_t keyed_net_group, bool prefer_evict,\n+                                       bool is_local, Network network,\n+                                       bool noban, ConnectionType conn_type)\n+{\n+    LOCK(m_candidates_mutex);\n+    // The default values used to initialise the eviction candidates result in\n+    // newer candidates being more likely to be evicted.\n+    NodeEvictionCandidate candidate{",
      "path": "src/node/eviction.cpp",
      "position": 32,
      "original_position": 20,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "964c048e037231bd8aa5ed224e1883293d258d2a",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I wonder if it might make sense to split NodeEvictionCandidate into 2 parts: the const properties that don't change (like conn_type/noban) and the non-const state that's intended to be/might be updated?\r\n\r\nMaybe something like:\r\n\r\n```c++\r\nclass NodeEvictionCandidate {\r\n  class Properties {\r\n    NodeId m_id;\r\n    ConnectionType m_conn_type;\r\n    bool m_noban;\r\n    ...\r\n  };\r\n  NodeEvictionCandidate(NodeProperties properties) : m_properties(properties){}\r\nprivate:\r\n  const NodeProperties m_properties;\r\n  bool m_relay_txs;\r\n  bool fBloomFilter;\r\n  ...\r\n};\r\n...\r\nvoid EvictionManagerImpl::AddCandidate(NodeEvictionCandidate::Properties props) {...}\r\n```\r\n\r\nI think that might be more straightforward to use as it's self-documenting, while also allowing for safe lock-free access to the stuff that can't change.\r\n\r\n\r\n\r\nMaybe that's easier said than done though. Thoughts?",
      "created_at": "2022-07-08T19:31:12Z",
      "updated_at": "2022-07-08T19:34:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r917088652",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/917088652"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 255,
      "original_line": 255,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919867767",
      "pull_request_review_id": 1037066665,
      "id": 919867767,
      "node_id": "PRRC_kwDOABII58421BF3",
      "diff_hunk": "@@ -3,6 +3,7 @@\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n #include <bench/bench.h>\n+#include <node/eviction_impl.h>",
      "path": "src/bench/peer_eviction.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "2f93a9fc878a8a41643a8776fa72c260aa85ebd5",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "please sort alphabetically :)",
      "created_at": "2022-07-13T09:38:47Z",
      "updated_at": "2022-07-13T10:42:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r919867767",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919867767"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 6,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919867965",
      "pull_request_review_id": 1037066665,
      "id": 919867965,
      "node_id": "PRRC_kwDOABII58421BI9",
      "diff_hunk": "@@ -12,6 +12,7 @@\n #include <node/connection_types.h>\n #include <consensus/amount.h>\n #include <crypto/siphash.h>\n+#include <node/eviction.h>",
      "path": "src/net.h",
      "position": null,
      "original_position": 4,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "2f93a9fc878a8a41643a8776fa72c260aa85ebd5",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "please sort alphabetically :)",
      "created_at": "2022-07-13T09:39:00Z",
      "updated_at": "2022-07-13T10:42:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r919867965",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919867965"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 15,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919875639",
      "pull_request_review_id": 1037066665,
      "id": 919875639,
      "node_id": "PRRC_kwDOABII58421DA3",
      "diff_hunk": "@@ -39,7 +39,7 @@ struct CNodeStateStats {\n class PeerManager : public CValidationInterface, public NetEventsInterface\n {\n public:\n-    static std::unique_ptr<PeerManager> make(CConnman& connman, AddrMan& addrman,\n+    static std::unique_ptr<PeerManager> make(CConnman& connman, AddrMan& addrman, EvictionManager& evictionman,",
      "path": "src/net_processing.h",
      "position": 5,
      "original_position": 5,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "2f93a9fc878a8a41643a8776fa72c260aa85ebd5",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Add `#include <node/eviction.h>`",
      "created_at": "2022-07-13T09:47:00Z",
      "updated_at": "2022-07-13T10:42:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r919875639",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919875639"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 46,
      "original_line": 46,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919880779",
      "pull_request_review_id": 1037066665,
      "id": 919880779,
      "node_id": "PRRC_kwDOABII58421ERL",
      "diff_hunk": "@@ -15,55 +15,53 @@\n \n typedef int64_t NodeId;\n \n-struct NodeEvictionCandidate {\n-    NodeId id;\n-    std::chrono::seconds m_connected;\n-    std::chrono::microseconds m_min_ping_time;\n-    std::chrono::seconds m_last_block_time;\n-    std::chrono::seconds m_last_tx_time;\n-    bool fRelevantServices;\n-    bool m_relay_txs;\n-    bool fBloomFilter;\n-    uint64_t nKeyedNetGroup;\n-    bool prefer_evict;\n-    bool m_is_local;\n-    Network m_network;\n-    bool m_noban;\n-    ConnectionType m_conn_type;\n+class EvictionManagerImpl;",
      "path": "src/node/eviction.h",
      "position": 4,
      "original_position": 19,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "2f93a9fc878a8a41643a8776fa72c260aa85ebd5",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It's usual to put forward declarations at the top of the file (see eg addrman.h)",
      "created_at": "2022-07-13T09:52:26Z",
      "updated_at": "2022-07-13T10:42:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r919880779",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919880779"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 16,
      "original_line": 16,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919881823",
      "pull_request_review_id": 1037066665,
      "id": 919881823,
      "node_id": "PRRC_kwDOABII58421Ehf",
      "diff_hunk": "@@ -15,55 +15,53 @@\n \n typedef int64_t NodeId;\n \n-struct NodeEvictionCandidate {\n-    NodeId id;\n-    std::chrono::seconds m_connected;\n-    std::chrono::microseconds m_min_ping_time;\n-    std::chrono::seconds m_last_block_time;\n-    std::chrono::seconds m_last_tx_time;\n-    bool fRelevantServices;\n-    bool m_relay_txs;\n-    bool fBloomFilter;\n-    uint64_t nKeyedNetGroup;\n-    bool prefer_evict;\n-    bool m_is_local;\n-    Network m_network;\n-    bool m_noban;\n-    ConnectionType m_conn_type;\n+class EvictionManagerImpl;\n+\n+class EvictionManager\n+{\n+private:\n+    const std::unique_ptr<EvictionManagerImpl> m_impl;\n+\n+public:\n+    explicit EvictionManager();\n+    ~EvictionManager();\n+\n+    void AddCandidate(NodeId id, std::chrono::seconds connected,\n+                      uint64_t keyed_net_group, bool prefer_evict,\n+                      bool is_local, Network network,\n+                      bool noban, ConnectionType conn_type);\n+    bool RemoveCandidate(NodeId id);\n+\n+    /**\n+     * Select an inbound peer to evict after filtering out (protecting) peers having\n+     * distinct, difficult-to-forge characteristics. The protection logic picks out\n+     * fixed numbers of desirable peers per various criteria, followed by (mostly)\n+     * ratios of desirable or disadvantaged peers. If any eviction candidates\n+     * remain, the selection logic chooses a peer to evict.\n+     */\n+    [[nodiscard]] std::optional<NodeId> SelectNodeToEvict() const;\n+\n+    /** A ping-pong round trip has completed successfully. Update minimum ping time. */\n+    void UpdateMinPingTime(NodeId id, std::chrono::microseconds ping_time);\n+    std::optional<std::chrono::microseconds> GetMinPingTime(NodeId id) const;\n+\n+    /** A new valid block was received. Update the candidates last block time. */\n+    void UpdateLastBlockTime(NodeId id, std::chrono::seconds block_time);\n+    std::optional<std::chrono::seconds> GetLastBlockTime(NodeId id) const;\n+\n+    /** A new valid transaction was received. Update the candidates last tx time. */\n+    void UpdateLastTxTime(NodeId id, std::chrono::seconds tx_time);\n+    std::optional<std::chrono::seconds> GetLastTxTime(NodeId id) const;\n+\n+    /** Update the candidates relevant services flag. */\n+    void UpdateRelevantServices(NodeId id, bool has_relevant_flags);\n+\n+    /** Update the candidates bloom filter loaded flag. */\n+    void UpdateLoadedBloomFilter(NodeId id, bool bloom_filter_loaded);\n+\n+    /** Set the candidates tx relay status to true. */\n+    void UpdateRelayTxs(NodeId id);\n };\n ",
      "path": "src/node/eviction.h",
      "position": 104,
      "original_position": 66,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "2f93a9fc878a8a41643a8776fa72c260aa85ebd5",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "No need for the additional newline at the end.",
      "created_at": "2022-07-13T09:53:28Z",
      "updated_at": "2022-07-13T10:42:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r919881823",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919881823"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 67,
      "original_line": 67,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919882461",
      "pull_request_review_id": 1037066665,
      "id": 919882461,
      "node_id": "PRRC_kwDOABII58421Erd",
      "diff_hunk": "@@ -15,55 +15,53 @@\n \n typedef int64_t NodeId;\n \n-struct NodeEvictionCandidate {\n-    NodeId id;\n-    std::chrono::seconds m_connected;\n-    std::chrono::microseconds m_min_ping_time;\n-    std::chrono::seconds m_last_block_time;\n-    std::chrono::seconds m_last_tx_time;\n-    bool fRelevantServices;\n-    bool m_relay_txs;\n-    bool fBloomFilter;\n-    uint64_t nKeyedNetGroup;\n-    bool prefer_evict;\n-    bool m_is_local;\n-    Network m_network;\n-    bool m_noban;\n-    ConnectionType m_conn_type;\n+class EvictionManagerImpl;\n+\n+class EvictionManager\n+{\n+private:\n+    const std::unique_ptr<EvictionManagerImpl> m_impl;\n+\n+public:\n+    explicit EvictionManager();",
      "path": "src/node/eviction.h",
      "position": null,
      "original_position": 27,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "2f93a9fc878a8a41643a8776fa72c260aa85ebd5",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "No need for the `explicit` keyword, since this ctor doesn't take any arguments.",
      "created_at": "2022-07-13T09:54:08Z",
      "updated_at": "2022-07-13T10:42:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r919882461",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919882461"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 26,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919884016",
      "pull_request_review_id": 1037066665,
      "id": 919884016,
      "node_id": "PRRC_kwDOABII58421FDw",
      "diff_hunk": "@@ -22,6 +22,7 @@ class CTxMemPool;\n class ChainstateManager;\n class NetGroupManager;\n class PeerManager;\n+class EvictionManager;",
      "path": "src/node/context.h",
      "position": null,
      "original_position": 4,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "2f93a9fc878a8a41643a8776fa72c260aa85ebd5",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Please sort alphabetically.",
      "created_at": "2022-07-13T09:55:47Z",
      "updated_at": "2022-07-13T10:42:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r919884016",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919884016"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 25,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919888455",
      "pull_request_review_id": 1037066665,
      "id": 919888455,
      "node_id": "PRRC_kwDOABII58421GJH",
      "diff_hunk": "@@ -1112,6 +1095,11 @@ void CConnman::DisconnectNodes()\n             }\n         }\n     }\n+\n+    for (NodeId id : disconnected_eviction_candidates) {\n+        m_evictionman.RemoveCandidate(id);\n+    }",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 122,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "2f93a9fc878a8a41643a8776fa72c260aa85ebd5",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Is there a reason not to do this in the `Delete disconnected nodes` loop below?",
      "created_at": "2022-07-13T10:00:20Z",
      "updated_at": "2022-07-13T10:42:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r919888455",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919888455"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": 1099,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 1100,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919903257",
      "pull_request_review_id": 1037066665,
      "id": 919903257,
      "node_id": "PRRC_kwDOABII58421JwZ",
      "diff_hunk": "@@ -582,7 +554,6 @@ class CNode\n     /** A ping-pong round trip has completed successfully. Update latest and minimum ping times. */",
      "path": "src/net.h",
      "position": null,
      "original_position": 64,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "2f93a9fc878a8a41643a8776fa72c260aa85ebd5",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n    /** A ping-pong round trip has completed successfully. Update latest ping time. */\r\n```\r\n\r\nIn fact, `m_last_ping_time` may as well be moved into `Peer` since it's not used in any net level logic and is only for RPC/GUI stats. Could be done as a follow-up.",
      "created_at": "2022-07-13T10:15:47Z",
      "updated_at": "2022-07-13T10:42:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r919903257",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919903257"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 554,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919912796",
      "pull_request_review_id": 1037066665,
      "id": 919912796,
      "node_id": "PRRC_kwDOABII58421MFc",
      "diff_hunk": "@@ -2555,6 +2554,22 @@ void CConnman::GetNodeStats(std::vector<CNodeStats>& vstats) const\n     for (CNode* pnode : m_nodes) {\n         vstats.emplace_back();\n         pnode->CopyStats(vstats.back());\n+\n+        auto min_ping_time{m_evictionman.GetMinPingTime(pnode->GetId())};\n+        if (min_ping_time) {",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 162,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "2f93a9fc878a8a41643a8776fa72c260aa85ebd5",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Can be shortened to\r\n\r\n```suggestion\r\n        if (auto min_ping_time = m_evictionman.GetMinPingTime(pnode->GetId())) {\r\n```\r\n\r\nif you think that's better. Same below.",
      "created_at": "2022-07-13T10:22:07Z",
      "updated_at": "2022-07-13T10:42:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r919912796",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919912796"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": 2558,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 2559,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919914379",
      "pull_request_review_id": 1037066665,
      "id": 919914379,
      "node_id": "PRRC_kwDOABII58421MeL",
      "diff_hunk": "@@ -15,55 +15,53 @@\n \n typedef int64_t NodeId;\n \n-struct NodeEvictionCandidate {\n-    NodeId id;\n-    std::chrono::seconds m_connected;\n-    std::chrono::microseconds m_min_ping_time;\n-    std::chrono::seconds m_last_block_time;\n-    std::chrono::seconds m_last_tx_time;\n-    bool fRelevantServices;\n-    bool m_relay_txs;\n-    bool fBloomFilter;\n-    uint64_t nKeyedNetGroup;\n-    bool prefer_evict;\n-    bool m_is_local;\n-    Network m_network;\n-    bool m_noban;\n-    ConnectionType m_conn_type;\n+class EvictionManagerImpl;\n+\n+class EvictionManager\n+{\n+private:\n+    const std::unique_ptr<EvictionManagerImpl> m_impl;\n+\n+public:\n+    explicit EvictionManager();\n+    ~EvictionManager();\n+\n+    void AddCandidate(NodeId id, std::chrono::seconds connected,\n+                      uint64_t keyed_net_group, bool prefer_evict,\n+                      bool is_local, Network network,\n+                      bool noban, ConnectionType conn_type);\n+    bool RemoveCandidate(NodeId id);\n+\n+    /**\n+     * Select an inbound peer to evict after filtering out (protecting) peers having\n+     * distinct, difficult-to-forge characteristics. The protection logic picks out\n+     * fixed numbers of desirable peers per various criteria, followed by (mostly)\n+     * ratios of desirable or disadvantaged peers. If any eviction candidates\n+     * remain, the selection logic chooses a peer to evict.\n+     */\n+    [[nodiscard]] std::optional<NodeId> SelectNodeToEvict() const;\n+\n+    /** A ping-pong round trip has completed successfully. Update minimum ping time. */\n+    void UpdateMinPingTime(NodeId id, std::chrono::microseconds ping_time);\n+    std::optional<std::chrono::microseconds> GetMinPingTime(NodeId id) const;\n+\n+    /** A new valid block was received. Update the candidates last block time. */",
      "path": "src/node/eviction.h",
      "position": null,
      "original_position": 49,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "2f93a9fc878a8a41643a8776fa72c260aa85ebd5",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Grammar nit:\r\n\r\n```suggestion\r\n    /** A new valid block was received. Update the candidate's last block time. */\r\n```\r\n\r\nSame below.",
      "created_at": "2022-07-13T10:23:12Z",
      "updated_at": "2022-07-13T10:42:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r919914379",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919914379"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 48,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919919355",
      "pull_request_review_id": 1037066665,
      "id": 919919355,
      "node_id": "PRRC_kwDOABII58421Nr7",
      "diff_hunk": "@@ -15,55 +15,53 @@\n \n typedef int64_t NodeId;\n \n-struct NodeEvictionCandidate {\n-    NodeId id;\n-    std::chrono::seconds m_connected;\n-    std::chrono::microseconds m_min_ping_time;\n-    std::chrono::seconds m_last_block_time;\n-    std::chrono::seconds m_last_tx_time;\n-    bool fRelevantServices;\n-    bool m_relay_txs;\n-    bool fBloomFilter;\n-    uint64_t nKeyedNetGroup;\n-    bool prefer_evict;\n-    bool m_is_local;\n-    Network m_network;\n-    bool m_noban;\n-    ConnectionType m_conn_type;\n+class EvictionManagerImpl;\n+\n+class EvictionManager\n+{\n+private:\n+    const std::unique_ptr<EvictionManagerImpl> m_impl;\n+\n+public:\n+    explicit EvictionManager();\n+    ~EvictionManager();\n+\n+    void AddCandidate(NodeId id, std::chrono::seconds connected,\n+                      uint64_t keyed_net_group, bool prefer_evict,\n+                      bool is_local, Network network,\n+                      bool noban, ConnectionType conn_type);\n+    bool RemoveCandidate(NodeId id);\n+\n+    /**\n+     * Select an inbound peer to evict after filtering out (protecting) peers having\n+     * distinct, difficult-to-forge characteristics. The protection logic picks out\n+     * fixed numbers of desirable peers per various criteria, followed by (mostly)\n+     * ratios of desirable or disadvantaged peers. If any eviction candidates\n+     * remain, the selection logic chooses a peer to evict.\n+     */\n+    [[nodiscard]] std::optional<NodeId> SelectNodeToEvict() const;\n+\n+    /** A ping-pong round trip has completed successfully. Update minimum ping time. */\n+    void UpdateMinPingTime(NodeId id, std::chrono::microseconds ping_time);\n+    std::optional<std::chrono::microseconds> GetMinPingTime(NodeId id) const;",
      "path": "src/node/eviction.h",
      "position": 50,
      "original_position": 47,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "2f93a9fc878a8a41643a8776fa72c260aa85ebd5",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Once the outbound eviction logic has also been moved into EvictionManager, can these three getters be combined into a single `GetEvictionCandidateStats()` or similar, since they'll only be used for reporting stats to the user. If you think that's a good idea, perhaps add that to the function comment for now.",
      "created_at": "2022-07-13T10:28:11Z",
      "updated_at": "2022-07-13T10:42:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r919919355",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919919355"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 46,
      "original_line": 46,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919920733",
      "pull_request_review_id": 1037066665,
      "id": 919920733,
      "node_id": "PRRC_kwDOABII58421OBd",
      "diff_hunk": "@@ -238,3 +241,194 @@ void ProtectEvictionCandidatesByRatio(std::vector<NodeEvictionCandidate>& evicti\n     // Disconnect from the network group with the most connections\n     return vEvictionCandidates.front().id;\n }\n+\n+EvictionManagerImpl::EvictionManagerImpl() {}\n+EvictionManagerImpl::~EvictionManagerImpl() = default;\n+\n+void EvictionManagerImpl::AddCandidate(NodeId id, std::chrono::seconds connected,\n+                                       uint64_t keyed_net_group, bool prefer_evict,\n+                                       bool is_local, Network network,\n+                                       bool noban, ConnectionType conn_type)\n+{\n+    LOCK(m_candidates_mutex);\n+    // The default values used to initialise the eviction candidates result in\n+    // newer candidates being more likely to be evicted.\n+    NodeEvictionCandidate candidate{\n+        Desig(id) id,\n+        Desig(m_connected) connected,\n+        Desig(m_min_ping_time) std::chrono::microseconds::max(),\n+        Desig(m_last_block_time) 0s,\n+        Desig(m_last_tx_time) 0s,\n+        Desig(fRelevantServices) false,\n+        Desig(m_relay_txs) false,\n+        Desig(fBloomFilter) false,\n+        Desig(nKeyedNetGroup) keyed_net_group,\n+        Desig(prefer_evict) prefer_evict,\n+        Desig(m_is_local) is_local,\n+        Desig(m_network) network,\n+        Desig(m_noban) noban,\n+        Desig(m_conn_type) conn_type,\n+    };\n+    m_candidates.emplace_hint(m_candidates.end(), id, std::move(candidate));\n+}\n+\n+bool EvictionManagerImpl::RemoveCandidate(NodeId id)\n+{\n+    LOCK(m_candidates_mutex);\n+    return m_candidates.erase(id) != 0;\n+}\n+\n+std::optional<NodeId> EvictionManagerImpl::SelectNodeToEvict() const\n+{\n+    std::vector<NodeEvictionCandidate> candidates;\n+    {\n+        LOCK(m_candidates_mutex);\n+        for (const auto& [id, candidate] : m_candidates) {\n+            candidates.push_back(candidate);\n+        }\n+    }\n+    return ::SelectNodeToEvict(std::move(candidates));\n+}\n+\n+void EvictionManagerImpl::UpdateMinPingTime(NodeId id, std::chrono::microseconds ping_time)",
      "path": "src/node/eviction.cpp",
      "position": 78,
      "original_position": 70,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "2f93a9fc878a8a41643a8776fa72c260aa85ebd5",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "/me idly wonders whether these setters can be templated to avoid repetitive boilerplate code",
      "created_at": "2022-07-13T10:29:48Z",
      "updated_at": "2022-07-13T10:42:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r919920733",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919920733"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 301,
      "original_line": 301,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919923454",
      "pull_request_review_id": 1037066665,
      "id": 919923454,
      "node_id": "PRRC_kwDOABII58421Or-",
      "diff_hunk": "@@ -2,6 +2,7 @@\n // Distributed under the MIT software license, see the accompanying\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n+#include <node/eviction_impl.h>",
      "path": "src/test/net_peer_eviction_tests.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "2f93a9fc878a8a41643a8776fa72c260aa85ebd5",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "sort",
      "created_at": "2022-07-13T10:32:58Z",
      "updated_at": "2022-07-13T10:42:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r919923454",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919923454"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 5,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919928075",
      "pull_request_review_id": 1037066665,
      "id": 919928075,
      "node_id": "PRRC_kwDOABII58421P0L",
      "diff_hunk": "@@ -0,0 +1,107 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_NODE_EVICTION_IMPL_H\n+#define BITCOIN_NODE_EVICTION_IMPL_H\n+\n+#include <node/connection_types.h>\n+#include <net_permissions.h>\n+#include <sync.h>\n+\n+#include <cstdint>\n+#include <map>\n+#include <optional>\n+#include <vector>\n+\n+typedef int64_t NodeId;\n+\n+struct NodeEvictionCandidate {\n+    NodeId id;\n+    std::chrono::seconds m_connected;\n+    std::chrono::microseconds m_min_ping_time;\n+    std::chrono::seconds m_last_block_time;\n+    std::chrono::seconds m_last_tx_time;\n+    bool fRelevantServices;\n+    bool m_relay_txs;\n+    bool fBloomFilter;\n+    uint64_t nKeyedNetGroup;\n+    bool prefer_evict;\n+    bool m_is_local;\n+    Network m_network;\n+    bool m_noban;\n+    ConnectionType m_conn_type;\n+};\n+\n+[[nodiscard]] std::optional<NodeId> SelectNodeToEvict(std::vector<NodeEvictionCandidate>&& vEvictionCandidates);",
      "path": "src/node/eviction_impl.h",
      "position": 36,
      "original_position": 36,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "2f93a9fc878a8a41643a8776fa72c260aa85ebd5",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Is there any reason why this and `ProtectEvictionCandidatesByRatio()` aren't members of `EvictionManagerImpl`? I'm not saying they have to be, but I'm interested in the design choice.",
      "created_at": "2022-07-13T10:38:52Z",
      "updated_at": "2022-07-13T10:42:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r919928075",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919928075"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 36,
      "original_line": 36,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919928413",
      "pull_request_review_id": 1037066665,
      "id": 919928413,
      "node_id": "PRRC_kwDOABII58421P5d",
      "diff_hunk": "@@ -2,6 +2,7 @@\n // Distributed under the MIT software license, see the accompanying\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n+#include <node/eviction_impl.h>",
      "path": "src/test/fuzz/node_eviction.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "2f93a9fc878a8a41643a8776fa72c260aa85ebd5",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "sort",
      "created_at": "2022-07-13T10:39:17Z",
      "updated_at": "2022-07-13T10:42:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r919928413",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919928413"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 5,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919930592",
      "pull_request_review_id": 1037066665,
      "id": 919930592,
      "node_id": "PRRC_kwDOABII58421Qbg",
      "diff_hunk": "@@ -243,6 +244,53 @@ void ProtectEvictionCandidatesByRatio(std::vector<NodeEvictionCandidate>& evicti\n EvictionManagerImpl::EvictionManagerImpl() {}\n EvictionManagerImpl::~EvictionManagerImpl() = default;\n \n+void EvictionManagerImpl::AddCandidate(NodeId id, std::chrono::seconds connected,\n+                                       uint64_t keyed_net_group, bool prefer_evict,\n+                                       bool is_local, Network network,\n+                                       bool noban, ConnectionType conn_type)\n+{\n+    LOCK(m_candidates_mutex);\n+    // The default values used to initialise the eviction candidates result in\n+    // newer candidates being more likely to be evicted.\n+    NodeEvictionCandidate candidate{",
      "path": "src/node/eviction.cpp",
      "position": 32,
      "original_position": 20,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "964c048e037231bd8aa5ed224e1883293d258d2a",
      "in_reply_to_id": 917088652,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Even if you don't do this, I'd suggest marking the const members const, and group them before the mutable members.",
      "created_at": "2022-07-13T10:42:01Z",
      "updated_at": "2022-07-13T10:42:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r919930592",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919930592"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 255,
      "original_line": 255,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920342327",
      "pull_request_review_id": 1037738516,
      "id": 920342327,
      "node_id": "PRRC_kwDOABII58422083",
      "diff_hunk": "@@ -1112,6 +1095,11 @@ void CConnman::DisconnectNodes()\n             }\n         }\n     }\n+\n+    for (NodeId id : disconnected_eviction_candidates) {\n+        m_evictionman.RemoveCandidate(id);\n+    }",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 122,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "2f93a9fc878a8a41643a8776fa72c260aa85ebd5",
      "in_reply_to_id": 919888455,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It's a different set of nodes, so different loop. Do you mean to do it in the same scope?",
      "created_at": "2022-07-13T17:37:03Z",
      "updated_at": "2022-07-13T17:37:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r920342327",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920342327"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": 1099,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 1100,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/921073763",
      "pull_request_review_id": 1038748276,
      "id": 921073763,
      "node_id": "PRRC_kwDOABII58425nhj",
      "diff_hunk": "@@ -1112,6 +1095,11 @@ void CConnman::DisconnectNodes()\n             }\n         }\n     }\n+\n+    for (NodeId id : disconnected_eviction_candidates) {\n+        m_evictionman.RemoveCandidate(id);\n+    }",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 122,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "2f93a9fc878a8a41643a8776fa72c260aa85ebd5",
      "in_reply_to_id": 919888455,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I guess I don't understand why the node can't be removed from the EvictionManager either:\r\n\r\n- in the loop above, at the point where the node is removed from `m_nodes` and added to `m_nodes_disconnected`; or\r\n- in the loop below, at the point where the node is removed from `m_nodes_disconnected`.\r\n\r\nPerhaps a code comment could be added to explain why.",
      "created_at": "2022-07-14T11:57:56Z",
      "updated_at": "2022-07-14T11:57:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r921073763",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/921073763"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": 1099,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 1100,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/921364786",
      "pull_request_review_id": 1039178882,
      "id": 921364786,
      "node_id": "PRRC_kwDOABII58426uky",
      "diff_hunk": "@@ -582,7 +554,6 @@ class CNode\n     /** A ping-pong round trip has completed successfully. Update latest and minimum ping times. */",
      "path": "src/net.h",
      "position": null,
      "original_position": 64,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "2f93a9fc878a8a41643a8776fa72c260aa85ebd5",
      "in_reply_to_id": 919903257,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Gonna leave this for a follow-up.",
      "created_at": "2022-07-14T16:48:52Z",
      "updated_at": "2022-07-14T16:48:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r921364786",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/921364786"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 554,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/921364985",
      "pull_request_review_id": 1039179086,
      "id": 921364985,
      "node_id": "PRRC_kwDOABII58426un5",
      "diff_hunk": "@@ -2555,6 +2554,22 @@ void CConnman::GetNodeStats(std::vector<CNodeStats>& vstats) const\n     for (CNode* pnode : m_nodes) {\n         vstats.emplace_back();\n         pnode->CopyStats(vstats.back());\n+\n+        auto min_ping_time{m_evictionman.GetMinPingTime(pnode->GetId())};\n+        if (min_ping_time) {",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 162,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "2f93a9fc878a8a41643a8776fa72c260aa85ebd5",
      "in_reply_to_id": 919912796,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2022-07-14T16:49:02Z",
      "updated_at": "2022-07-14T16:49:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r921364985",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/921364985"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": 2558,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 2559,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/921369316",
      "pull_request_review_id": 1039185247,
      "id": 921369316,
      "node_id": "PRRC_kwDOABII58426vrk",
      "diff_hunk": "@@ -243,6 +244,53 @@ void ProtectEvictionCandidatesByRatio(std::vector<NodeEvictionCandidate>& evicti\n EvictionManagerImpl::EvictionManagerImpl() {}\n EvictionManagerImpl::~EvictionManagerImpl() = default;\n \n+void EvictionManagerImpl::AddCandidate(NodeId id, std::chrono::seconds connected,\n+                                       uint64_t keyed_net_group, bool prefer_evict,\n+                                       bool is_local, Network network,\n+                                       bool noban, ConnectionType conn_type)\n+{\n+    LOCK(m_candidates_mutex);\n+    // The default values used to initialise the eviction candidates result in\n+    // newer candidates being more likely to be evicted.\n+    NodeEvictionCandidate candidate{",
      "path": "src/node/eviction.cpp",
      "position": 32,
      "original_position": 20,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "964c048e037231bd8aa5ed224e1883293d258d2a",
      "in_reply_to_id": 917088652,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I tried to do this but the `src/test/net_peer_eviction_tests.cpp` tests sadly rely on no members of `NodeEvictionCandidate` being const. Would like to leave this for a follow up, since it requires changing those tests quite a bit. ",
      "created_at": "2022-07-14T16:54:11Z",
      "updated_at": "2022-07-14T16:54:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r921369316",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/921369316"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 255,
      "original_line": 255,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/921381184",
      "pull_request_review_id": 1039202087,
      "id": 921381184,
      "node_id": "PRRC_kwDOABII58426ylA",
      "diff_hunk": "@@ -1112,6 +1095,11 @@ void CConnman::DisconnectNodes()\n             }\n         }\n     }\n+\n+    for (NodeId id : disconnected_eviction_candidates) {\n+        m_evictionman.RemoveCandidate(id);\n+    }",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 122,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "2f93a9fc878a8a41643a8776fa72c260aa85ebd5",
      "in_reply_to_id": 919888455,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Cory originally suggested to it this way to untangle the removal from `m_nodes_mutex`. (See https://github.com/bitcoin/bitcoin/pull/25268#discussion_r903003875)\r\n\r\nI think it could make sense to do it in the `Delete disconnected nodes` loop below which is also independent of `m_node_mutex`. Another option would be to do it in `PeerManagerImpl::FinalizeNode()` but that might be weird since we add candidates in `net`.",
      "created_at": "2022-07-14T17:08:43Z",
      "updated_at": "2022-07-14T17:08:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r921381184",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/921381184"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": 1099,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 1100,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/921404905",
      "pull_request_review_id": 1039240589,
      "id": 921404905,
      "node_id": "PRRC_kwDOABII584264Xp",
      "diff_hunk": "@@ -0,0 +1,107 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_NODE_EVICTION_IMPL_H\n+#define BITCOIN_NODE_EVICTION_IMPL_H\n+\n+#include <node/connection_types.h>\n+#include <net_permissions.h>\n+#include <sync.h>\n+\n+#include <cstdint>\n+#include <map>\n+#include <optional>\n+#include <vector>\n+\n+typedef int64_t NodeId;\n+\n+struct NodeEvictionCandidate {\n+    NodeId id;\n+    std::chrono::seconds m_connected;\n+    std::chrono::microseconds m_min_ping_time;\n+    std::chrono::seconds m_last_block_time;\n+    std::chrono::seconds m_last_tx_time;\n+    bool fRelevantServices;\n+    bool m_relay_txs;\n+    bool fBloomFilter;\n+    uint64_t nKeyedNetGroup;\n+    bool prefer_evict;\n+    bool m_is_local;\n+    Network m_network;\n+    bool m_noban;\n+    ConnectionType m_conn_type;\n+};\n+\n+[[nodiscard]] std::optional<NodeId> SelectNodeToEvict(std::vector<NodeEvictionCandidate>&& vEvictionCandidates);",
      "path": "src/node/eviction_impl.h",
      "position": 36,
      "original_position": 36,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "2f93a9fc878a8a41643a8776fa72c260aa85ebd5",
      "in_reply_to_id": 919928075,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This is something that @theuni  originally also had on his branch and i just went with the same design. To me this seems good because some of the tests purely test these functions without needing the eviction manager and adding them as members would require more test refactoring.",
      "created_at": "2022-07-14T17:24:40Z",
      "updated_at": "2022-07-14T17:24:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r921404905",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/921404905"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 36,
      "original_line": 36,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/921416938",
      "pull_request_review_id": 1039257797,
      "id": 921416938,
      "node_id": "PRRC_kwDOABII584267Tq",
      "diff_hunk": "@@ -0,0 +1,107 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_NODE_EVICTION_IMPL_H\n+#define BITCOIN_NODE_EVICTION_IMPL_H\n+\n+#include <node/connection_types.h>\n+#include <net_permissions.h>\n+#include <sync.h>\n+\n+#include <cstdint>\n+#include <map>\n+#include <optional>\n+#include <vector>\n+\n+typedef int64_t NodeId;\n+\n+struct NodeEvictionCandidate {\n+    NodeId id;\n+    std::chrono::seconds m_connected;\n+    std::chrono::microseconds m_min_ping_time;\n+    std::chrono::seconds m_last_block_time;\n+    std::chrono::seconds m_last_tx_time;\n+    bool fRelevantServices;\n+    bool m_relay_txs;\n+    bool fBloomFilter;\n+    uint64_t nKeyedNetGroup;\n+    bool prefer_evict;\n+    bool m_is_local;\n+    Network m_network;\n+    bool m_noban;\n+    ConnectionType m_conn_type;\n+};\n+\n+[[nodiscard]] std::optional<NodeId> SelectNodeToEvict(std::vector<NodeEvictionCandidate>&& vEvictionCandidates);",
      "path": "src/node/eviction_impl.h",
      "position": 36,
      "original_position": 36,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "2f93a9fc878a8a41643a8776fa72c260aa85ebd5",
      "in_reply_to_id": 919928075,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think that test refactoring would probably be a good thing, since it would ensure that the unit test is not testing a state that EvictionManager can't get into in the product code. In general, that seems like a good model - unit tests use the public methods to update the state of the object being tested, but optionally also have access to const test-only methods to peek inside the state of the object if it's difficult to expose that state in other ways.\r\n\r\nCertainly not required in this PR. Could be done in a follow-up (or not at all).",
      "created_at": "2022-07-14T17:39:32Z",
      "updated_at": "2022-07-14T17:39:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r921416938",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/921416938"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 36,
      "original_line": 36,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/921429991",
      "pull_request_review_id": 1039276262,
      "id": 921429991,
      "node_id": "PRRC_kwDOABII58426-fn",
      "diff_hunk": "@@ -1112,6 +1095,11 @@ void CConnman::DisconnectNodes()\n             }\n         }\n     }\n+\n+    for (NodeId id : disconnected_eviction_candidates) {\n+        m_evictionman.RemoveCandidate(id);\n+    }",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 122,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "2f93a9fc878a8a41643a8776fa72c260aa85ebd5",
      "in_reply_to_id": 919888455,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ah, thanks for the explanation.\r\n\r\nI can't see any reason why this call would have to be done outside the `m_nodes_mutex`. EvictionManager should never call into net, so there isn't any chance of a lock inversion. Besides, there are other EvictionManager methods (eg the `Get...()` methods) which are called while holding `m_nodes_mutex`.",
      "created_at": "2022-07-14T17:55:42Z",
      "updated_at": "2022-07-14T17:55:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r921429991",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/921429991"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": 1099,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 1100,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/931118832",
      "pull_request_review_id": 1052588154,
      "id": 931118832,
      "node_id": "PRRC_kwDOABII5843f77w",
      "diff_hunk": "@@ -1112,6 +1095,11 @@ void CConnman::DisconnectNodes()\n             }\n         }\n     }\n+\n+    for (NodeId id : disconnected_eviction_candidates) {\n+        m_evictionman.RemoveCandidate(id);\n+    }",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 122,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "2f93a9fc878a8a41643a8776fa72c260aa85ebd5",
      "in_reply_to_id": 919888455,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Moved this back into the loop above.",
      "created_at": "2022-07-27T14:15:04Z",
      "updated_at": "2022-07-27T14:15:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r931118832",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/931118832"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": 1099,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 1100,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/931120933",
      "pull_request_review_id": 1052591151,
      "id": 931120933,
      "node_id": "PRRC_kwDOABII5843f8cl",
      "diff_hunk": "@@ -238,3 +241,194 @@ void ProtectEvictionCandidatesByRatio(std::vector<NodeEvictionCandidate>& evicti\n     // Disconnect from the network group with the most connections\n     return vEvictionCandidates.front().id;\n }\n+\n+EvictionManagerImpl::EvictionManagerImpl() {}\n+EvictionManagerImpl::~EvictionManagerImpl() = default;\n+\n+void EvictionManagerImpl::AddCandidate(NodeId id, std::chrono::seconds connected,\n+                                       uint64_t keyed_net_group, bool prefer_evict,\n+                                       bool is_local, Network network,\n+                                       bool noban, ConnectionType conn_type)\n+{\n+    LOCK(m_candidates_mutex);\n+    // The default values used to initialise the eviction candidates result in\n+    // newer candidates being more likely to be evicted.\n+    NodeEvictionCandidate candidate{\n+        Desig(id) id,\n+        Desig(m_connected) connected,\n+        Desig(m_min_ping_time) std::chrono::microseconds::max(),\n+        Desig(m_last_block_time) 0s,\n+        Desig(m_last_tx_time) 0s,\n+        Desig(fRelevantServices) false,\n+        Desig(m_relay_txs) false,\n+        Desig(fBloomFilter) false,\n+        Desig(nKeyedNetGroup) keyed_net_group,\n+        Desig(prefer_evict) prefer_evict,\n+        Desig(m_is_local) is_local,\n+        Desig(m_network) network,\n+        Desig(m_noban) noban,\n+        Desig(m_conn_type) conn_type,\n+    };\n+    m_candidates.emplace_hint(m_candidates.end(), id, std::move(candidate));\n+}\n+\n+bool EvictionManagerImpl::RemoveCandidate(NodeId id)\n+{\n+    LOCK(m_candidates_mutex);\n+    return m_candidates.erase(id) != 0;\n+}\n+\n+std::optional<NodeId> EvictionManagerImpl::SelectNodeToEvict() const\n+{\n+    std::vector<NodeEvictionCandidate> candidates;\n+    {\n+        LOCK(m_candidates_mutex);\n+        for (const auto& [id, candidate] : m_candidates) {\n+            candidates.push_back(candidate);\n+        }\n+    }\n+    return ::SelectNodeToEvict(std::move(candidates));\n+}\n+\n+void EvictionManagerImpl::UpdateMinPingTime(NodeId id, std::chrono::microseconds ping_time)",
      "path": "src/node/eviction.cpp",
      "position": 78,
      "original_position": 70,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "2f93a9fc878a8a41643a8776fa72c260aa85ebd5",
      "in_reply_to_id": 919920733,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Tried to come up with a cool way of doing this with templates but didn't end with anything useful.",
      "created_at": "2022-07-27T14:16:48Z",
      "updated_at": "2022-07-27T14:16:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r931120933",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/931120933"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 301,
      "original_line": 301,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/956208202",
      "pull_request_review_id": 1087203008,
      "id": 956208202,
      "node_id": "PRRC_kwDOABII5844_pRK",
      "diff_hunk": "@@ -243,6 +244,53 @@ void ProtectEvictionCandidatesByRatio(std::vector<NodeEvictionCandidate>& evicti\n EvictionManagerImpl::EvictionManagerImpl() {}\n EvictionManagerImpl::~EvictionManagerImpl() = default;\n \n+void EvictionManagerImpl::AddCandidate(NodeId id, std::chrono::seconds connected,\n+                                       uint64_t keyed_net_group, bool prefer_evict,\n+                                       bool is_local, Network network,\n+                                       bool noban, ConnectionType conn_type)\n+{\n+    LOCK(m_candidates_mutex);\n+    // The default values used to initialise the eviction candidates result in\n+    // newer candidates being more likely to be evicted.\n+    NodeEvictionCandidate candidate{",
      "path": "src/node/eviction.cpp",
      "position": 32,
      "original_position": 20,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "964c048e037231bd8aa5ed224e1883293d258d2a",
      "in_reply_to_id": 917088652,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Hmm, I'd say if the tests rely on non-const values, then the tests need to be reworked somewhat (I assume they're just re-using existing candidates as opposed to creating new ones for the sake of simplicity). Either that or they're testing state-changes that aren't possible.\r\n\r\nAgree that it's not worth refactoring the tests in this PR, but could you maybe organize the members and add a note to the definition of `NodeEvictionCandidate` to make the possible state changes clear? I *think* there are basically 3 types, though I may be oversimplifying:\r\n- These never change after creation\r\n- These may change once\r\n- These may change at any time",
      "created_at": "2022-08-26T16:23:44Z",
      "updated_at": "2022-08-26T16:23:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r956208202",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/956208202"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 255,
      "original_line": 255,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/968097030",
      "pull_request_review_id": 1103640256,
      "id": 968097030,
      "node_id": "PRRC_kwDOABII5845s_0G",
      "diff_hunk": "@@ -243,6 +244,53 @@ void ProtectEvictionCandidatesByRatio(std::vector<NodeEvictionCandidate>& evicti\n EvictionManagerImpl::EvictionManagerImpl() {}\n EvictionManagerImpl::~EvictionManagerImpl() = default;\n \n+void EvictionManagerImpl::AddCandidate(NodeId id, std::chrono::seconds connected,\n+                                       uint64_t keyed_net_group, bool prefer_evict,\n+                                       bool is_local, Network network,\n+                                       bool noban, ConnectionType conn_type)\n+{\n+    LOCK(m_candidates_mutex);\n+    // The default values used to initialise the eviction candidates result in",
      "path": "src/node/eviction.cpp",
      "position": 30,
      "original_position": 18,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "82eb8d34d5910ac97c151f55dbad7fdb1966f9b1",
      "in_reply_to_id": null,
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why don't go further and summarize which parameters actually matter? Or just mention `why` it is so",
      "created_at": "2022-09-12T08:00:25Z",
      "updated_at": "2022-09-12T08:00:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r968097030",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/968097030"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 253,
      "original_line": 253,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/972022476",
      "pull_request_review_id": 1109246967,
      "id": 972022476,
      "node_id": "PRRC_kwDOABII58457-LM",
      "diff_hunk": "@@ -45,10 +45,19 @@ BOOST_FIXTURE_TEST_SUITE(denialofservice_tests, TestingSetup)\n // work.\n BOOST_AUTO_TEST_CASE(outbound_slow_chain_eviction)\n {\n-    ConnmanTestMsg& connman = static_cast<ConnmanTestMsg&>(*m_node.connman);\n-    // Disable inactivity checks for this test to avoid interference\n-    connman.SetPeerConnectTimeout(99999s);\n-    PeerManager& peerman = *m_node.peerman;\n+    auto evictionman = std::make_unique<EvictionManager>();",
      "path": "src/test/denialofservice_tests.cpp",
      "position": 8,
      "original_position": 8,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "535c5040a198253c2b87f1b51a66c876da7f2ad4",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why is this switched away from using `m_node`? Not that I object, it seems reasonable to me.\r\n\r\nIf it's just because \"it's the only use of `m_node.connman` in these tests\", maybe break that change out as a separate commit?",
      "created_at": "2022-09-15T13:57:17Z",
      "updated_at": "2022-09-15T13:57:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r972022476",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/972022476"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 50,
      "original_line": 50,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/975507477",
      "pull_request_review_id": 1114031517,
      "id": 975507477,
      "node_id": "PRRC_kwDOABII5846JRAV",
      "diff_hunk": "@@ -45,10 +45,19 @@ BOOST_FIXTURE_TEST_SUITE(denialofservice_tests, TestingSetup)\n // work.\n BOOST_AUTO_TEST_CASE(outbound_slow_chain_eviction)\n {\n-    ConnmanTestMsg& connman = static_cast<ConnmanTestMsg&>(*m_node.connman);\n-    // Disable inactivity checks for this test to avoid interference\n-    connman.SetPeerConnectTimeout(99999s);\n-    PeerManager& peerman = *m_node.peerman;\n+    auto evictionman = std::make_unique<EvictionManager>();",
      "path": "src/test/denialofservice_tests.cpp",
      "position": 8,
      "original_position": 8,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "535c5040a198253c2b87f1b51a66c876da7f2ad4",
      "in_reply_to_id": 972022476,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "You actually had this in your original branch and I just kept it this way but it made sense to me since all the other (dos) tests do it this way as well (i.e. \"it's the only use of m_node.connman in these tests\").\r\n\r\nAdded a commit that splits out this change.",
      "created_at": "2022-09-20T15:18:30Z",
      "updated_at": "2022-09-20T15:18:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r975507477",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/975507477"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 50,
      "original_line": 50,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/980047490",
      "pull_request_review_id": 1120247539,
      "id": 980047490,
      "node_id": "PRRC_kwDOABII5846alaC",
      "diff_hunk": "@@ -243,6 +244,53 @@ void ProtectEvictionCandidatesByRatio(std::vector<NodeEvictionCandidate>& evicti\n EvictionManagerImpl::EvictionManagerImpl() {}\n EvictionManagerImpl::~EvictionManagerImpl() = default;\n \n+void EvictionManagerImpl::AddCandidate(NodeId id, std::chrono::seconds connected,\n+                                       uint64_t keyed_net_group, bool prefer_evict,\n+                                       bool is_local, Network network,\n+                                       bool noban, ConnectionType conn_type)\n+{\n+    LOCK(m_candidates_mutex);\n+    // The default values used to initialise the eviction candidates result in\n+    // newer candidates being more likely to be evicted.\n+    NodeEvictionCandidate candidate{",
      "path": "src/node/eviction.cpp",
      "position": 32,
      "original_position": 20,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "964c048e037231bd8aa5ed224e1883293d258d2a",
      "in_reply_to_id": 917088652,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I have been looking a bit more at making the const `NodeEvictionCandidate` members const and it turns out that it is not just a test problem at the moment.\r\n\r\nThe eviction logic it self relies on non-constness due to multiple `std::sort`, `vector::erase` and `std::remove_if` calls. Will look at making a separate PR for this.\r\n\r\nIn the mean time i will add some comments in this PR like you suggested.",
      "created_at": "2022-09-26T13:37:08Z",
      "updated_at": "2022-09-26T13:37:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r980047490",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/980047490"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 255,
      "original_line": 255,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/998502849",
      "pull_request_review_id": 1146220524,
      "id": 998502849,
      "node_id": "PRRC_kwDOABII5847g_HB",
      "diff_hunk": "@@ -243,6 +244,53 @@ void ProtectEvictionCandidatesByRatio(std::vector<NodeEvictionCandidate>& evicti\n EvictionManagerImpl::EvictionManagerImpl() {}\n EvictionManagerImpl::~EvictionManagerImpl() = default;\n \n+void EvictionManagerImpl::AddCandidate(NodeId id, std::chrono::seconds connected,\n+                                       uint64_t keyed_net_group, bool prefer_evict,\n+                                       bool is_local, Network network,\n+                                       bool noban, ConnectionType conn_type)\n+{\n+    LOCK(m_candidates_mutex);\n+    // The default values used to initialise the eviction candidates result in",
      "path": "src/node/eviction.cpp",
      "position": 30,
      "original_position": 18,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "82eb8d34d5910ac97c151f55dbad7fdb1966f9b1",
      "in_reply_to_id": 968097030,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Added some comments for these values.",
      "created_at": "2022-10-18T17:09:09Z",
      "updated_at": "2022-10-18T17:09:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r998502849",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/998502849"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 253,
      "original_line": 253,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1164902731",
      "pull_request_review_id": 1382476579,
      "id": 1164902731,
      "node_id": "PRRC_kwDOABII585FbwFL",
      "diff_hunk": "@@ -490,7 +491,7 @@ struct CNodeState {\n class PeerManagerImpl final : public PeerManager\n {\n public:\n-    PeerManagerImpl(CConnman& connman, AddrMan& addrman,\n+    PeerManagerImpl(CConnman& connman, AddrMan& addrman, EvictionManager& evictionman,",
      "path": "src/net_processing.cpp",
      "position": 13,
      "original_position": 13,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "dccf02224228689d86890527f81ea4add2ebbaa5",
      "in_reply_to_id": null,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why not just use the `evictionman` from `connman` directly (or have `connman` use its `peerman`'s eviction manager)? Is there any reason to ever want them to have different eviction managers?\r\n\r\nHaving done that, why not have `CConnman` (or `PeerManager`) create (and own) its own eviction manager, rather than needing one to be passed in?",
      "created_at": "2023-04-13T02:20:40Z",
      "updated_at": "2023-04-13T03:49:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r1164902731",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1164902731"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 491,
      "original_line": 491,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1164910266",
      "pull_request_review_id": 1382476579,
      "id": 1164910266,
      "node_id": "PRRC_kwDOABII585Fbx66",
      "diff_hunk": "@@ -238,3 +240,218 @@ void ProtectEvictionCandidatesByRatio(std::vector<NodeEvictionCandidate>& evicti\n     // Disconnect from the network group with the most connections\n     return vEvictionCandidates.front().id;\n }\n+\n+EvictionManagerImpl::EvictionManagerImpl() {}\n+EvictionManagerImpl::~EvictionManagerImpl() = default;\n+\n+void EvictionManagerImpl::AddCandidate(NodeId id, std::chrono::seconds connected,\n+                                       uint64_t keyed_net_group, bool prefer_evict,\n+                                       bool is_local, Network network,\n+                                       bool noban, ConnectionType conn_type)\n+{\n+    LOCK(m_candidates_mutex);\n+    // The default values used to initialise the eviction candidates result in\n+    // newer candidates being more likely to be evicted.\n+    NodeEvictionCandidate candidate{\n+        .id = id,\n+        .m_connected = connected,\n+        // Initial value corresponds to \"the peer has never sent a pong\n+        // response\".\n+        .m_min_ping_time = std::chrono::microseconds::max(),\n+        // Initial values correspond to \"the peer has never sent us a block or\n+        // transaction\".\n+        .m_last_block_time = 0s,\n+        .m_last_tx_time = 0s,\n+        // We only learn if the peer advertises relevant services during the\n+        // version handshake.\n+        .fRelevantServices = false,\n+        // Whether we relay transactions to this peer is determined later\n+        // (during or after the version handshake).\n+        .m_relay_txs = false,\n+        // At this point the peer has not sent us a bloom filter.\n+        .fBloomFilter = false,\n+        .nKeyedNetGroup = keyed_net_group,\n+        .prefer_evict = prefer_evict,\n+        .m_is_local = is_local,\n+        .m_network = network,\n+        .m_noban = noban,\n+        .m_conn_type = conn_type,\n+    };\n+    m_candidates.emplace_hint(m_candidates.end(), id, std::move(candidate));\n+}\n+\n+bool EvictionManagerImpl::RemoveCandidate(NodeId id)\n+{\n+    LOCK(m_candidates_mutex);\n+    return m_candidates.erase(id) != 0;\n+}\n+\n+std::optional<NodeId> EvictionManagerImpl::SelectNodeToEvict() const\n+{\n+    std::vector<NodeEvictionCandidate> candidates;\n+    {\n+        LOCK(m_candidates_mutex);\n+        for (const auto& [id, candidate] : m_candidates) {",
      "path": "src/node/eviction.cpp",
      "position": 71,
      "original_position": 71,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "14f06a2ea571337627ec491a95c6cfb4689bd8cf",
      "in_reply_to_id": null,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`candidates.reserve(m_candidates.size())` ?",
      "created_at": "2023-04-13T02:29:05Z",
      "updated_at": "2023-04-13T03:49:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r1164910266",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1164910266"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 294,
      "original_line": 294,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1164935668",
      "pull_request_review_id": 1382476579,
      "id": 1164935668,
      "node_id": "PRRC_kwDOABII585Fb4H0",
      "diff_hunk": "@@ -238,3 +241,194 @@ void ProtectEvictionCandidatesByRatio(std::vector<NodeEvictionCandidate>& evicti\n     // Disconnect from the network group with the most connections\n     return vEvictionCandidates.front().id;\n }\n+\n+EvictionManagerImpl::EvictionManagerImpl() {}\n+EvictionManagerImpl::~EvictionManagerImpl() = default;\n+\n+void EvictionManagerImpl::AddCandidate(NodeId id, std::chrono::seconds connected,\n+                                       uint64_t keyed_net_group, bool prefer_evict,\n+                                       bool is_local, Network network,\n+                                       bool noban, ConnectionType conn_type)\n+{\n+    LOCK(m_candidates_mutex);\n+    // The default values used to initialise the eviction candidates result in\n+    // newer candidates being more likely to be evicted.\n+    NodeEvictionCandidate candidate{\n+        Desig(id) id,\n+        Desig(m_connected) connected,\n+        Desig(m_min_ping_time) std::chrono::microseconds::max(),\n+        Desig(m_last_block_time) 0s,\n+        Desig(m_last_tx_time) 0s,\n+        Desig(fRelevantServices) false,\n+        Desig(m_relay_txs) false,\n+        Desig(fBloomFilter) false,\n+        Desig(nKeyedNetGroup) keyed_net_group,\n+        Desig(prefer_evict) prefer_evict,\n+        Desig(m_is_local) is_local,\n+        Desig(m_network) network,\n+        Desig(m_noban) noban,\n+        Desig(m_conn_type) conn_type,\n+    };\n+    m_candidates.emplace_hint(m_candidates.end(), id, std::move(candidate));\n+}\n+\n+bool EvictionManagerImpl::RemoveCandidate(NodeId id)\n+{\n+    LOCK(m_candidates_mutex);\n+    return m_candidates.erase(id) != 0;\n+}\n+\n+std::optional<NodeId> EvictionManagerImpl::SelectNodeToEvict() const\n+{\n+    std::vector<NodeEvictionCandidate> candidates;\n+    {\n+        LOCK(m_candidates_mutex);\n+        for (const auto& [id, candidate] : m_candidates) {\n+            candidates.push_back(candidate);\n+        }\n+    }\n+    return ::SelectNodeToEvict(std::move(candidates));\n+}\n+\n+void EvictionManagerImpl::UpdateMinPingTime(NodeId id, std::chrono::microseconds ping_time)",
      "path": "src/node/eviction.cpp",
      "position": 78,
      "original_position": 70,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "2f93a9fc878a8a41643a8776fa72c260aa85ebd5",
      "in_reply_to_id": 919920733,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think something like this would work:\r\n\r\n```c++\r\nclass EvictionManagerImpl\r\n{\r\n    ...\r\n    template <typename Fn>\r\n    auto CandidateOp(NodeId id, Fn&& fn)\r\n    {\r\n        LOCK(m_candidates_mutex);\r\n        auto it = m_candidates.find(offset);\r\n        if (it != m_candidates.end()) {\r\n            return fn(it->second);\r\n        } else {\r\n            // return a dummy value of the right type, including void\r\n            return ([]() -> decltype(fn(it->second)) { return {}; })();\r\n            // EDIT: maybe nicer to write:\r\n            using T = decltype(fn(it->second));\r\n            return T();\r\n        }\r\n    }\r\n    ...\r\n};\r\n\r\nvoid EvictionManager::UpdateLastBlockTime(NodeId id, std::chrono::seconds block_time)\r\n{\r\n    m_impl->CandidateOp(id, [](NodeEvictionCandidate& nec) {\r\n        nec.m_last_block_time = block_time;\r\n    });\r\n}\r\n\r\nvoid EvictionManager::GetLastBlockTime(NodeId id) const\r\n{\r\n    return m_impl->CandidateOp(id, [](const NodeEvictionCandidate& nec) {\r\n        return nec.m_last_block_time;\r\n    });\r\n}\r\n```",
      "created_at": "2023-04-13T03:11:40Z",
      "updated_at": "2023-04-13T15:21:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r1164935668",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1164935668"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 301,
      "original_line": 301,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1164943097",
      "pull_request_review_id": 1382476579,
      "id": 1164943097,
      "node_id": "PRRC_kwDOABII585Fb575",
      "diff_hunk": "@@ -2606,6 +2601,19 @@ void CConnman::GetNodeStats(std::vector<CNodeStats>& vstats) const\n     for (CNode* pnode : m_nodes) {\n         vstats.emplace_back();\n         pnode->CopyStats(vstats.back());\n+\n+        if (auto min_ping_time = m_evictionman.GetMinPingTime(pnode->GetId())) {\n+            vstats.back().m_min_ping_time = *min_ping_time;\n+        }\n+\n+        if (auto last_block_time = m_evictionman.GetLastBlockTime(pnode->GetId())) {\n+            vstats.back().m_last_block_time = *last_block_time;\n+        }\n+\n+        if (auto last_tx_time = m_evictionman.GetLastTxTime(pnode->GetId())) {\n+            vstats.back().m_last_tx_time = *last_tx_time;",
      "path": "src/net.cpp",
      "position": 150,
      "original_position": 150,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "14f06a2ea571337627ec491a95c6cfb4689bd8cf",
      "in_reply_to_id": null,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`m_evictionman.CopyEvictionStats(pnode->GetId(), vstats.back());` ?",
      "created_at": "2023-04-13T03:24:12Z",
      "updated_at": "2023-04-13T03:49:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r1164943097",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1164943097"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2635,
      "original_line": 2635,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1164945576",
      "pull_request_review_id": 1382476579,
      "id": 1164945576,
      "node_id": "PRRC_kwDOABII585Fb6io",
      "diff_hunk": "@@ -5008,7 +5015,7 @@ void PeerManagerImpl::EvictExtraOutboundPeers(std::chrono::seconds now)\n             if (pnode->GetId() > youngest_peer.first) {\n                 next_youngest_peer = youngest_peer;\n                 youngest_peer.first = pnode->GetId();\n-                youngest_peer.second = pnode->m_last_block_time;\n+                youngest_peer.second = *Assert(m_evictionman.GetLastBlockTime(pnode->GetId()));",
      "path": "src/net_processing.cpp",
      "position": 123,
      "original_position": 123,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "14f06a2ea571337627ec491a95c6cfb4689bd8cf",
      "in_reply_to_id": null,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Repeatedly looking up the eviction manager map and locking and unlocking access to it, and introducing the potential for maps to be out of sync and having to add asserts to check for that doesn't seem ideal...",
      "created_at": "2023-04-13T03:27:54Z",
      "updated_at": "2023-04-13T03:49:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r1164945576",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1164945576"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 5115,
      "original_line": 5115,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1165282299",
      "pull_request_review_id": 1383046924,
      "id": 1165282299,
      "node_id": "PRRC_kwDOABII585FdMv7",
      "diff_hunk": "@@ -5008,7 +5015,7 @@ void PeerManagerImpl::EvictExtraOutboundPeers(std::chrono::seconds now)\n             if (pnode->GetId() > youngest_peer.first) {\n                 next_youngest_peer = youngest_peer;\n                 youngest_peer.first = pnode->GetId();\n-                youngest_peer.second = pnode->m_last_block_time;\n+                youngest_peer.second = *Assert(m_evictionman.GetLastBlockTime(pnode->GetId()));",
      "path": "src/net_processing.cpp",
      "position": 123,
      "original_position": 123,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "14f06a2ea571337627ec491a95c6cfb4689bd8cf",
      "in_reply_to_id": 1164945576,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> Repeatedly looking up the eviction manager map and locking and unlocking access to it\r\n\r\nTwo things:\r\n* There are very few full outbound or block relay only connections, so this happens at most maybe 3 or 4 times for the block relay only loop and 11 or 12 times for the full outbound one.\r\n* The outbound eviction logic is also moved to the eviction manager in a follow up (see #25268), which removes this repeated locking.\r\n\r\n> and introducing the potential for maps to be out of sync and having to add asserts to check for that doesn't seem ideal...\r\n\r\nI don't remember what I was thinking at the time but now this `Assert` doesn't seem great to me either. I think this is safe because `ForEachNode` locks `m_nodes_mutex` and only iterates over nodes that completed the version handshake but that is quite the spaghetti assumption.\r\n\r\nSimply using the default value for the last block time if the eviction manager doesn't know about this peer would probably be the right thing to do. And then without the assertions, I wouldn't be concerned about the maps (assuming your are talking about the peer map and the eviction manager map) being out of sync.\r\n\r\n(This also resolves itself if we end up moving the outbound eviction logic to the eviction manager as well, because then there is only one internal eviction map to think about)",
      "created_at": "2023-04-13T09:41:58Z",
      "updated_at": "2023-04-13T10:50:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r1165282299",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1165282299"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 5115,
      "original_line": 5115,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1165335739",
      "pull_request_review_id": 1383046924,
      "id": 1165335739,
      "node_id": "PRRC_kwDOABII585FdZy7",
      "diff_hunk": "@@ -490,7 +491,7 @@ struct CNodeState {\n class PeerManagerImpl final : public PeerManager\n {\n public:\n-    PeerManagerImpl(CConnman& connman, AddrMan& addrman,\n+    PeerManagerImpl(CConnman& connman, AddrMan& addrman, EvictionManager& evictionman,",
      "path": "src/net_processing.cpp",
      "position": 13,
      "original_position": 13,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "dccf02224228689d86890527f81ea4add2ebbaa5",
      "in_reply_to_id": 1164902731,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think it makes sense to not have the eviction manager be owned by another component, in the context of also moving the outbound eviction logic to the eviction manager. I see it as more of a standalone component like the addrman or banman.\r\n\r\nThis might also give us flexibility in mocking it if we wanted to for testing purposes (e.g. to test that net processing and net are updating the stats correctly, or have a `FuzzedEvictionManager` to let the fuzzer choose which peers to evict).",
      "created_at": "2023-04-13T10:31:57Z",
      "updated_at": "2023-04-13T10:50:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r1165335739",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1165335739"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 491,
      "original_line": 491,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1165346413",
      "pull_request_review_id": 1383046924,
      "id": 1165346413,
      "node_id": "PRRC_kwDOABII585FdcZt",
      "diff_hunk": "@@ -2606,6 +2601,19 @@ void CConnman::GetNodeStats(std::vector<CNodeStats>& vstats) const\n     for (CNode* pnode : m_nodes) {\n         vstats.emplace_back();\n         pnode->CopyStats(vstats.back());\n+\n+        if (auto min_ping_time = m_evictionman.GetMinPingTime(pnode->GetId())) {\n+            vstats.back().m_min_ping_time = *min_ping_time;\n+        }\n+\n+        if (auto last_block_time = m_evictionman.GetLastBlockTime(pnode->GetId())) {\n+            vstats.back().m_last_block_time = *last_block_time;\n+        }\n+\n+        if (auto last_tx_time = m_evictionman.GetLastTxTime(pnode->GetId())) {\n+            vstats.back().m_last_tx_time = *last_tx_time;",
      "path": "src/net.cpp",
      "position": 150,
      "original_position": 150,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "14f06a2ea571337627ec491a95c6cfb4689bd8cf",
      "in_reply_to_id": 1164943097,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yea something like that would make sense. Also similar to John's [comment](https://github.com/bitcoin/bitcoin/pull/25572#discussion_r919919355).",
      "created_at": "2023-04-13T10:43:16Z",
      "updated_at": "2023-04-13T10:50:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r1165346413",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1165346413"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2635,
      "original_line": 2635,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1165793761",
      "pull_request_review_id": 1383832899,
      "id": 1165793761,
      "node_id": "PRRC_kwDOABII585FfJnh",
      "diff_hunk": "@@ -901,28 +901,22 @@ bool CConnman::AttemptToEvictConnection()\n {\n     std::vector<NodeEvictionCandidate> vEvictionCandidates;\n     {\n-\n         LOCK(m_nodes_mutex);\n         for (const CNode* node : m_nodes) {\n             if (node->fDisconnect)\n                 continue;\n-            NodeEvictionCandidate candidate{\n-                .id = node->GetId(),\n-                .m_connected = node->m_connected,\n-                .m_min_ping_time = node->m_min_ping_time,\n-                .m_last_block_time = node->m_last_block_time,\n-                .m_last_tx_time = node->m_last_tx_time,\n-                .fRelevantServices = node->m_has_all_wanted_services,\n-                .m_relay_txs = node->m_relays_txs.load(),\n-                .fBloomFilter = node->m_bloom_filter_loaded.load(),\n-                .nKeyedNetGroup = node->nKeyedNetGroup,\n-                .prefer_evict = node->m_prefer_evict,\n-                .m_is_local = node->addr.IsLocal(),\n-                .m_network = node->ConnectedThroughNetwork(),\n-                .m_noban = node->HasPermission(NetPermissionFlags::NoBan),\n-                .m_conn_type = node->m_conn_type,\n-            };\n-            vEvictionCandidates.push_back(candidate);\n+\n+            auto eviction_candidate{m_evictionman.GetCandidate(node->GetId())};\n+            assert(eviction_candidate);",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 28,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "d0e7bb90a2426fc7fa77b453e16b686f76c80a4e",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Could use `Assume` and continue in order to avoid the `assert`.",
      "created_at": "2023-04-13T16:46:41Z",
      "updated_at": "2023-04-13T17:08:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r1165793761",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1165793761"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 910,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1165796262",
      "pull_request_review_id": 1383832899,
      "id": 1165796262,
      "node_id": "PRRC_kwDOABII585FfKOm",
      "diff_hunk": "@@ -404,7 +404,6 @@ class CNode\n      * from the wire. This cleaned string can safely be logged or displayed.\n      */\n     std::string cleanSubVer GUARDED_BY(m_subver_mutex){};\n-    const bool m_prefer_evict{false}; // This peer is preferred for eviction.",
      "path": "src/net.h",
      "position": 12,
      "original_position": 4,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "00230350cd32d5a1d2421b588a7f493afa7c69dd",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "00230350cd32d5a1d2421b588a7f493afa7c69dd: I think that `prefer_evict` could also be removed from `CNodeOptions`.",
      "created_at": "2023-04-13T16:49:20Z",
      "updated_at": "2023-04-13T17:08:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r1165796262",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1165796262"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 408,
      "original_line": 408,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1165808152",
      "pull_request_review_id": 1383832899,
      "id": 1165808152,
      "node_id": "PRRC_kwDOABII585FfNIY",
      "diff_hunk": "@@ -895,20 +895,7 @@ size_t CConnman::SocketSendData(CNode& node) const\n  */\n bool CConnman::AttemptToEvictConnection()\n {\n-    std::vector<NodeEvictionCandidate> vEvictionCandidates;\n-    {\n-        LOCK(m_nodes_mutex);\n-        for (const CNode* node : m_nodes) {\n-            if (node->fDisconnect)",
      "path": "src/net.cpp",
      "position": 34,
      "original_position": 8,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "f233b005ecad192c153903cfe3694f3d412dfbbb",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This removes the check `node->fDisconnect`, which I think could be dangerous:\r\nWe set `fDisconnect` in `AttemptToEvictConnection()`, but don't immediately disconnect. The actual cleanup happens at some later point, when `ThreadSocketHandler` calls `DisconnectNodes()`.\r\nSo if we have an attacker that makes new connections to us rapidly, there would be a race between `ThreadSocketHandler` and the attacker making the next connection to us. If the attacker wins this race, we could accept two inbound connections, but, without the check that is being removed here, `AttemptToEvictConnection()` could mark the same inbound peer for eviction twice, so that we'll actually only evict one peer. Since inbound eviction is triggered only in `CreateNodeFromAcceptedSocket()` (and not through some regularly scheduled job), this could lead to us having an extra inbound peer above our limit indefinitely. \r\nNow if the attacker repeats this scheme many times, they could make thousands of inbound connections to us / exhaust our resources / crash our node.",
      "created_at": "2023-04-13T17:01:35Z",
      "updated_at": "2023-04-13T17:08:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r1165808152",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1165808152"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 907,
      "original_line": 907,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1169360367",
      "pull_request_review_id": 1389083582,
      "id": 1169360367,
      "node_id": "PRRC_kwDOABII585FswXv",
      "diff_hunk": "@@ -895,20 +895,7 @@ size_t CConnman::SocketSendData(CNode& node) const\n  */\n bool CConnman::AttemptToEvictConnection()\n {\n-    std::vector<NodeEvictionCandidate> vEvictionCandidates;\n-    {\n-        LOCK(m_nodes_mutex);\n-        for (const CNode* node : m_nodes) {\n-            if (node->fDisconnect)",
      "path": "src/net.cpp",
      "position": 34,
      "original_position": 8,
      "commit_id": "ac60275f033088658d134b22c1c53e33346228aa",
      "original_commit_id": "f233b005ecad192c153903cfe3694f3d412dfbbb",
      "in_reply_to_id": 1165808152,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "hmm, thinking more about this, I didn't see the whole picture, because everything happens in `ThreadSocketHandler` - after ` CConnman::SocketHandler() -> CConnman::SocketHandlerListening()`, `CConnman::DisconnectNodes()` is called, so it's not possible to accept new connections in between - however,  `CConnman::SocketHandlerListening()` calls `AcceptConnection()` in a loop for multiple `ListenSocket`s, so if we have multiple listening sockets and an attacker would connect to more than one at the same time, the scenario above may still be possible?",
      "created_at": "2023-04-17T23:51:09Z",
      "updated_at": "2023-04-17T23:51:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25572#discussion_r1169360367",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1169360367"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25572"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 907,
      "original_line": 907,
      "side": "LEFT"
    }
  ]
}