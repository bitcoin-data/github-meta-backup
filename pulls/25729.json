{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729",
    "id": 1010766216,
    "node_id": "PR_kwDOABII5848PxGI",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/25729",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/25729.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/25729.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25729",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25729/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
    "number": 25729,
    "state": "closed",
    "locked": false,
    "maintainer_can_modify": false,
    "title": "wallet: Check max transaction weight in CoinSelection",
    "user": {
      "login": "aureleoules",
      "id": 22493292,
      "node_id": "MDQ6VXNlcjIyNDkzMjky",
      "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aureleoules",
      "html_url": "https://github.com/aureleoules",
      "followers_url": "https://api.github.com/users/aureleoules/followers",
      "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
      "organizations_url": "https://api.github.com/users/aureleoules/orgs",
      "repos_url": "https://api.github.com/users/aureleoules/repos",
      "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/aureleoules/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This PR is an attempt to fix #5782.\r\n\r\nI have added 4 test scenarios, 3 of them provided here https://github.com/bitcoin/bitcoin/issues/5782#issuecomment-73819058 (slightly modified to use a segwit wallet).\r\n\r\nHere are my benchmarks : \r\n## PR\r\n|               ns/op |                op/s |    err% |          ins/op |          cyc/op |    IPC |         bra/op |   miss% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------------:|----------------:|-------:|---------------:|--------:|----------:|:----------\r\n|        1,466,341.00 |              681.97 |    0.6% |   11,176,762.00 |    3,358,752.00 |  3.328 |   1,897,839.00 |    0.3% |      0.02 | `CoinSelection`\r\n\r\n## Master\r\n\r\n|               ns/op |                op/s |    err% |          ins/op |          cyc/op |    IPC |         bra/op |   miss% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------------:|----------------:|-------:|---------------:|--------:|----------:|:----------\r\n|        1,526,029.00 |              655.30 |    0.5% |   11,142,188.00 |    3,499,200.00 |  3.184 |   1,994,156.00 |    0.2% |      0.02 | `CoinSelection`",
    "labels": [
      {
        "id": 149424,
        "node_id": "MDU6TGFiZWwxNDk0MjQ=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
        "name": "Wallet",
        "color": "08a781",
        "default": false
      }
    ],
    "created_at": "2022-07-28T12:33:06Z",
    "updated_at": "2023-01-12T11:51:43Z",
    "closed_at": "2022-12-06T17:09:51Z",
    "mergeable_state": "unknown",
    "merged_at": "2022-12-06T17:09:50Z",
    "merge_commit_sha": "ef744c03e56deb5d6e83ec94d105b9fca562c21d",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "Xekyo",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Xekyo",
        "html_url": "https://github.com/Xekyo",
        "followers_url": "https://api.github.com/users/Xekyo/followers",
        "following_url": "https://api.github.com/users/Xekyo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Xekyo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Xekyo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Xekyo/subscriptions",
        "organizations_url": "https://api.github.com/users/Xekyo/orgs",
        "repos_url": "https://api.github.com/users/Xekyo/repos",
        "events_url": "https://api.github.com/users/Xekyo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Xekyo/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "requested_teams": [],
    "head": {
      "label": "aureleoules:2022-07-coin-selection-check-max-weight",
      "ref": "2022-07-coin-selection-check-max-weight",
      "sha": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 468927670,
        "node_id": "R_kgDOG_NEtg",
        "name": "bitcoin",
        "full_name": "aureleoules/bitcoin",
        "owner": {
          "login": "aureleoules",
          "id": 22493292,
          "node_id": "MDQ6VXNlcjIyNDkzMjky",
          "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/aureleoules",
          "html_url": "https://github.com/aureleoules",
          "followers_url": "https://api.github.com/users/aureleoules/followers",
          "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
          "organizations_url": "https://api.github.com/users/aureleoules/orgs",
          "repos_url": "https://api.github.com/users/aureleoules/repos",
          "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/aureleoules/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/aureleoules/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/aureleoules/bitcoin",
        "archive_url": "https://api.github.com/repos/aureleoules/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/aureleoules/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/aureleoules/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/aureleoules/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/aureleoules/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/aureleoules/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/aureleoules/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/aureleoules/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/aureleoules/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/aureleoules/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/aureleoules/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/aureleoules/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/aureleoules/bitcoin/events",
        "forks_url": "https://api.github.com/repos/aureleoules/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/aureleoules/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/aureleoules/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/aureleoules/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/aureleoules/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/aureleoules/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/aureleoules/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/aureleoules/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/aureleoules/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/aureleoules/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/aureleoules/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/aureleoules/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/aureleoules/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/aureleoules/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/aureleoules/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/aureleoules/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:aureleoules/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/aureleoules/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/aureleoules/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/aureleoules/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/aureleoules/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/aureleoules/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/aureleoules/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/aureleoules/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/aureleoules/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/aureleoules/bitcoin/hooks",
        "svn_url": "https://github.com/aureleoules/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 227047,
        "default_branch": "master",
        "open_issues_count": 3,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-05-30T19:59:24Z",
        "created_at": "2022-03-11T23:21:06Z",
        "updated_at": "2022-12-07T18:06:10Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "7734a0160debfeea039b77cca1366cd9ee83feb6",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34324,
        "stargazers_count": 69818,
        "watchers_count": 69818,
        "size": 233879,
        "default_branch": "master",
        "open_issues_count": 627,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-07T05:35:10Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-06-07T06:49:43Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 160,
    "deletions": 11,
    "changed_files": 5,
    "commits": 2,
    "review_comments": 37,
    "comments": 28
  },
  "events": [
    {
      "event": "labeled",
      "id": 7081331384,
      "node_id": "LE_lADOABII585OushdzwAAAAGmFIq4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7081331384",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-28T13:16:00Z",
      "label": {
        "name": "Wallet",
        "color": "08a781"
      }
    },
    {
      "event": "convert_to_draft",
      "id": 7081487677,
      "node_id": "CTDE_lADOABII585OushdzwAAAAGmFu09",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7081487677",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-28T13:34:26Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7082152103,
      "node_id": "HRFPE_lADOABII585OushdzwAAAAGmIRCn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7082152103",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-28T14:46:02Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7082282589,
      "node_id": "HRFPE_lADOABII585OushdzwAAAAGmIw5d",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7082282589",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-28T14:57:34Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7082489714,
      "node_id": "HRFPE_lADOABII585OushdzwAAAAGmJjdy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7082489714",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-28T15:12:11Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7082611719,
      "node_id": "HRFPE_lADOABII585OushdzwAAAAGmKBQH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7082611719",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-28T15:26:13Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7082708111,
      "node_id": "HRFPE_lADOABII585OushdzwAAAAGmKYyP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7082708111",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-28T15:37:26Z"
    },
    {
      "event": "commented",
      "id": 1198340570,
      "node_id": "IC_kwDOABII585HbTna",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1198340570",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-28T15:56:25Z",
      "updated_at": "2022-12-06T14:54:25Z",
      "author_association": "MEMBER",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [achow101](https://github.com/bitcoin/bitcoin/pull/25729#issuecomment-1338162621), [w0xlt](https://github.com/bitcoin/bitcoin/pull/25729#pullrequestreview-1205704053), [furszy](https://github.com/bitcoin/bitcoin/pull/25729#pullrequestreview-1206746957) |\n| Stale ACK | [Xekyo](https://github.com/bitcoin/bitcoin/pull/25729#pullrequestreview-1065721188) |\n\nIf your review is incorrectly listed, please react with 👎 to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#25806](https://github.com/bitcoin/bitcoin/pull/25806) (wallet: group outputs only once, decouple it from Coin Selection by furszy)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#issuecomment-1198340570",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25729"
    },
    {
      "event": "ready_for_review",
      "id": 7083322443,
      "node_id": "RFRE_lADOABII585OushdzwAAAAGmMuxL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7083322443",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-28T17:06:34Z"
    },
    {
      "event": "commented",
      "id": 1198428003,
      "node_id": "IC_kwDOABII585Hbo9j",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1198428003",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-28T17:20:29Z",
      "updated_at": "2022-07-28T17:20:29Z",
      "author_association": "MEMBER",
      "body": "It shouldn't be necessary to pass an entire CMutableTransaction to SelectCoins. CoinSelectionParams already has the information about the sizes of the rest of the transaction, modulo the change output. So a calculation can be done with that information.\r\n\r\nAdditionally, depending on the algorithm used, there may or may not be a change output, so it's size will need to be accounted for in each size calculation.",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#issuecomment-1198428003",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25729"
    },
    {
      "event": "commented",
      "id": 1198504505,
      "node_id": "IC_kwDOABII585Hb7o5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1198504505",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-28T18:38:37Z",
      "updated_at": "2022-07-28T18:39:16Z",
      "author_association": "MEMBER",
      "body": "Thank you for the feedback @achow101.\r\nSizes in the `CoinSelectionParams` appear to be in \"bytes\" and not in \"weight\", so I'm not sure how to use them as the multiplier of each field hasn't been taken into account, unless I'm mistaken.\r\n\r\n> Additionally, depending on the algorithm used, there may or may not be a change output, so it's size will need to be accounted for in each size calculation.\r\n\r\nI'll look into that thanks.",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#issuecomment-1198504505",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25729"
    },
    {
      "event": "mentioned",
      "id": 7084038738,
      "node_id": "MEE_lADOABII585OushdzwAAAAGmPdpS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7084038738",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-28T18:38:37Z"
    },
    {
      "event": "subscribed",
      "id": 7084038747,
      "node_id": "SE_lADOABII585OushdzwAAAAGmPdpb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7084038747",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-28T18:38:37Z"
    },
    {
      "event": "commented",
      "id": 1198508956,
      "node_id": "IC_kwDOABII585Hb8uc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1198508956",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-28T18:44:01Z",
      "updated_at": "2022-07-28T18:44:01Z",
      "author_association": "MEMBER",
      "body": "The size is always vsize, so multiplyging by WITNESS_SCALE_FACTOR is sufficient to convert to weight. There will be some rounding error, but vsize always rounds up, so weight calculated in that way will always be a slight overestimate.",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#issuecomment-1198508956",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25729"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7085211312,
      "node_id": "HRFPE_lADOABII585OushdzwAAAAGmT76w",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7085211312",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-28T21:39:19Z"
    },
    {
      "event": "commented",
      "id": 1198660495,
      "node_id": "IC_kwDOABII585HchuP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1198660495",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-28T21:40:45Z",
      "updated_at": "2022-07-28T21:40:45Z",
      "author_association": "MEMBER",
      "body": "I've removed the need for a dummy transaction.\r\nThough I'm not sure how to include the change output in the size calculation yet.",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#issuecomment-1198660495",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25729"
    },
    {
      "event": "reviewed",
      "id": 1054799836,
      "node_id": "PRR_kwDOABII584-3vfc",
      "url": null,
      "actor": null,
      "commit_id": "627b715f9da819ee0789a593c2a89737b5d8e941",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#pullrequestreview-1054799836",
      "submitted_at": "2022-07-28T21:44:32Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7085355781,
      "node_id": "HRFPE_lADOABII585OushdzwAAAAGmUfMF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7085355781",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-28T22:10:33Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7085454858,
      "node_id": "HRFPE_lADOABII585OushdzwAAAAGmU3YK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7085454858",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-28T22:37:38Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7085530528,
      "node_id": "HRFPE_lADOABII585OushdzwAAAAGmVJ2g",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7085530528",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-28T23:02:13Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7085534805,
      "node_id": "HRFPE_lADOABII585OushdzwAAAAGmVK5V",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7085534805",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-28T23:03:35Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7085561996,
      "node_id": "HRFPE_lADOABII585OushdzwAAAAGmVRiM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7085561996",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-28T23:12:19Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7085626122,
      "node_id": "HRFPE_lADOABII585OushdzwAAAAGmVhMK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7085626122",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-28T23:33:04Z"
    },
    {
      "event": "convert_to_draft",
      "id": 7089374534,
      "node_id": "CTDE_lADOABII585OushdzwAAAAGmj0VG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7089374534",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-29T13:11:47Z"
    },
    {
      "event": "ready_for_review",
      "id": 7093604776,
      "node_id": "RFRE_lADOABII585OushdzwAAAAGmz9Go",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7093604776",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-30T09:36:38Z"
    },
    {
      "event": "commented",
      "id": 1204085880,
      "node_id": "IC_kwDOABII585HxOR4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1204085880",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-03T15:15:25Z",
      "updated_at": "2022-08-05T08:32:07Z",
      "author_association": "MEMBER",
      "body": "Pinging you @Xekyo as you commented on the issue recently.",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#issuecomment-1204085880",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25729"
    },
    {
      "event": "mentioned",
      "id": 7119595473,
      "node_id": "MEE_lADOABII585OushdzwAAAAGoXGfR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7119595473",
      "actor": {
        "login": "Xekyo",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Xekyo",
        "html_url": "https://github.com/Xekyo",
        "followers_url": "https://api.github.com/users/Xekyo/followers",
        "following_url": "https://api.github.com/users/Xekyo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Xekyo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Xekyo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Xekyo/subscriptions",
        "organizations_url": "https://api.github.com/users/Xekyo/orgs",
        "repos_url": "https://api.github.com/users/Xekyo/repos",
        "events_url": "https://api.github.com/users/Xekyo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Xekyo/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-03T15:15:25Z"
    },
    {
      "event": "subscribed",
      "id": 7119595479,
      "node_id": "SE_lADOABII585OushdzwAAAAGoXGfX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7119595479",
      "actor": {
        "login": "Xekyo",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Xekyo",
        "html_url": "https://github.com/Xekyo",
        "followers_url": "https://api.github.com/users/Xekyo/followers",
        "following_url": "https://api.github.com/users/Xekyo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Xekyo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Xekyo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Xekyo/subscriptions",
        "organizations_url": "https://api.github.com/users/Xekyo/orgs",
        "repos_url": "https://api.github.com/users/Xekyo/repos",
        "events_url": "https://api.github.com/users/Xekyo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Xekyo/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-03T15:15:25Z"
    },
    {
      "event": "commented",
      "id": 1205831596,
      "node_id": "IC_kwDOABII585H34es",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1205831596",
      "actor": {
        "login": "Xekyo",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Xekyo",
        "html_url": "https://github.com/Xekyo",
        "followers_url": "https://api.github.com/users/Xekyo/followers",
        "following_url": "https://api.github.com/users/Xekyo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Xekyo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Xekyo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Xekyo/subscriptions",
        "organizations_url": "https://api.github.com/users/Xekyo/orgs",
        "repos_url": "https://api.github.com/users/Xekyo/repos",
        "events_url": "https://api.github.com/users/Xekyo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Xekyo/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-04T22:28:47Z",
      "updated_at": "2022-08-04T22:28:47Z",
      "author_association": "MEMBER",
      "body": "Cool, thank you for working on this. This PR as it is would get us almost all the way there as it should ensure that any coin selection results that exceeded the weight limit get filtered out before we do our final pick out of the selection candidates. Now we'll succeed at building a transaction if there is at least one selection result that doesn't exceed the weight limit, where we might have failed previously if that solution had the best waste score (and that would be the case at a low feerate, as a higher total input weight would get preferred).\r\n\r\n----\r\n\r\nI was pondering whether this would fail to find an existing solution in any scenario. I came up with this:\r\n\r\nSend ₿49.5 at a low feerate from a UXTO pool with\r\n• 10,000 P2PKH inputs of ₿0.04\r\n• 1,455 P2WPKH inputs of ₿0.034\r\n\r\nExplanation:\r\n• The UTXO pool has enough funds to pay for the transaction\r\n• At a negligible `not_input_size`, a standard transaction can have about ~675 P2PKH inputs, but 1470 P2WPKH inputs\r\n• With the above UTXOs, it would take 1,238 P2PKH inputs to pay for the transaction (which would exceed the limit by far), and it awould take 1,456 P2WPKH inputs to pay for the transaction (but there are too few)\r\n⇒ Only an input set from mixed inputs that is almost exclusively composed from P2WPKH inputs (and a single digit number of P2PKH inputs) would result in a standard transaction\r\n\r\nI don't think that any of our coin selection approaches would find such an input set, even if we added backtracking to BnB when the standard weight limit is exceeded. I figure that to succeed in this edge-case we would need an explicit mechanism to replace the inputs with the lowest value per weight once we exceed the standard weight limit. E.g. adding a heap to SRD that sorts the input set by `effectiveValue/weight`. I think this is out of scope though.\r\n\r\n\r\n------\r\n\r\n\r\nApproach ACK, will have to get back to review the code more carefully.",
      "user": {
        "login": "Xekyo",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Xekyo",
        "html_url": "https://github.com/Xekyo",
        "followers_url": "https://api.github.com/users/Xekyo/followers",
        "following_url": "https://api.github.com/users/Xekyo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Xekyo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Xekyo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Xekyo/subscriptions",
        "organizations_url": "https://api.github.com/users/Xekyo/orgs",
        "repos_url": "https://api.github.com/users/Xekyo/repos",
        "events_url": "https://api.github.com/users/Xekyo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Xekyo/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#issuecomment-1205831596",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25729"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7145144458,
      "node_id": "HRFPE_lADOABII585OushdzwAAAAGp4kCK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7145144458",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-08T08:54:12Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7145217839,
      "node_id": "HRFPE_lADOABII585OushdzwAAAAGp418v",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7145217839",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-08T09:03:47Z"
    },
    {
      "event": "commented",
      "id": 1207859533,
      "node_id": "IC_kwDOABII585H_nlN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1207859533",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-08T09:03:57Z",
      "updated_at": "2022-08-08T09:03:57Z",
      "author_association": "MEMBER",
      "body": "Rebased because of silent merge conflict.",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#issuecomment-1207859533",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25729"
    },
    {
      "event": "commented",
      "id": 1207863706,
      "node_id": "IC_kwDOABII585H_oma",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1207863706",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-08T09:08:02Z",
      "updated_at": "2022-08-08T09:08:14Z",
      "author_association": "MEMBER",
      "body": "> Send ₿49.5 at a low feerate from a UXTO pool with\r\n> • 10,000 P2PKH inputs of ₿0.04\r\n> • 1,455 P2WPKH inputs of ₿0.034\r\n\r\nI tested this case with the following code and the coin selector did not find a result as you said @Xekyo.\r\n\r\n```cpp\r\n{\r\n    // Send ₿49.5 at a low feerate from a UXTO pool with\r\n    // 10,000 P2PKH inputs of ₿0.04\r\n    // 1,455 P2WPKH inputs of ₿0.034\r\n\r\n    std::unique_ptr<CWallet> wallet = std::make_unique<CWallet>(m_node.chain.get(), \"\", m_args, CreateMockWalletDatabase());\r\n    wallet->LoadWallet();\r\n    LOCK(wallet->cs_wallet);\r\n    wallet->SetupLegacyScriptPubKeyMan();\r\n\r\n    CoinsResult available_coins;\r\n    for (int j = 0; j < 10000; ++j) {\r\n        add_coin(available_coins, *wallet, CAmount(0.04 * COIN), CFeeRate(0), 144, false, 0, true);\r\n    }\r\n\r\n    for (int j = 0; j < 1455; ++j) {\r\n        add_coin(available_coins, *wallet, CAmount(0.034 * COIN), CFeeRate(0), 144, false, 0, true);\r\n    }\r\n\r\n    const auto result = SelectCoins(*wallet, available_coins, target, cc, cs_params);\r\n    BOOST_CHECK(result);\r\n}\r\n```",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#issuecomment-1207863706",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25729"
    },
    {
      "event": "mentioned",
      "id": 7145251544,
      "node_id": "MEE_lADOABII585OushdzwAAAAGp4-LY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7145251544",
      "actor": {
        "login": "Xekyo",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Xekyo",
        "html_url": "https://github.com/Xekyo",
        "followers_url": "https://api.github.com/users/Xekyo/followers",
        "following_url": "https://api.github.com/users/Xekyo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Xekyo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Xekyo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Xekyo/subscriptions",
        "organizations_url": "https://api.github.com/users/Xekyo/orgs",
        "repos_url": "https://api.github.com/users/Xekyo/repos",
        "events_url": "https://api.github.com/users/Xekyo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Xekyo/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-08T09:08:15Z"
    },
    {
      "event": "subscribed",
      "id": 7145251577,
      "node_id": "SE_lADOABII585OushdzwAAAAGp4-L5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7145251577",
      "actor": {
        "login": "Xekyo",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Xekyo",
        "html_url": "https://github.com/Xekyo",
        "followers_url": "https://api.github.com/users/Xekyo/followers",
        "following_url": "https://api.github.com/users/Xekyo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Xekyo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Xekyo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Xekyo/subscriptions",
        "organizations_url": "https://api.github.com/users/Xekyo/orgs",
        "repos_url": "https://api.github.com/users/Xekyo/repos",
        "events_url": "https://api.github.com/users/Xekyo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Xekyo/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-08T09:08:15Z"
    },
    {
      "event": "reviewed",
      "id": 1065721188,
      "node_id": "PRR_kwDOABII584_hZ1k",
      "url": null,
      "actor": null,
      "commit_id": "c166411dad1f4cdaa61f70b92728ecebfc3fc749",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "utACK c166411dad1f4cdaa61f70b92728ecebfc3fc749\r\n\r\nTests look reasonable, it might be nice if we could provide a more targeted error message when the case is hit for all coin selection attempts.\r\n\r\n---------\r\n\r\nYeah, I had an easier scenario at first for which I was going to suggest a fix, but then I realized that it wouldn't cause a failure because after #24584 we will always try to build input sets from a single type.\r\nI think my above scenario is sufficiently constructed that it would be very unlikely to occur in the wild. But, since I had already tinkered it all out, I figured I might as well keep a record of a worst-case scenario.",
      "user": {
        "login": "Xekyo",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Xekyo",
        "html_url": "https://github.com/Xekyo",
        "followers_url": "https://api.github.com/users/Xekyo/followers",
        "following_url": "https://api.github.com/users/Xekyo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Xekyo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Xekyo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Xekyo/subscriptions",
        "organizations_url": "https://api.github.com/users/Xekyo/orgs",
        "repos_url": "https://api.github.com/users/Xekyo/repos",
        "events_url": "https://api.github.com/users/Xekyo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Xekyo/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#pullrequestreview-1065721188",
      "submitted_at": "2022-08-08T20:16:03Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7159006551,
      "node_id": "HRFPE_lADOABII585OushdzwAAAAGqtcVX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7159006551",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-09T21:35:11Z"
    },
    {
      "event": "commented",
      "id": 1209921138,
      "node_id": "IC_kwDOABII585IHe5y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1209921138",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-09T21:39:04Z",
      "updated_at": "2022-08-09T21:39:04Z",
      "author_association": "MEMBER",
      "body": "I have rebased this PR on top of #25734 (slightly rebased because of merge conflicts of the original PR).\r\nAdded a3dece4e41de7bd5e118278abf09abcd2fcb4922 to show a more specific error message when the transaction weight is exceeded during the coin selection.",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#issuecomment-1209921138",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25729"
    },
    {
      "event": "commented",
      "id": 1209966225,
      "node_id": "IC_kwDOABII585IHp6R",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1209966225",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-09T22:45:51Z",
      "updated_at": "2022-08-09T23:12:21Z",
      "author_association": "MEMBER",
      "body": "About the specific error messages topic, I don't think that passing an enum reference to the function is the best solution. We have the `util::Result` class to cover this purpose (more info in #25218 and #25721)\r\n\r\nPlus, some notes about this in case you haven't seen them:\r\n\r\n* I have decoupled the preset inputs fetching block of code from `SelectCoins` and added `util::Result` class connection with proper error descriptions in #25685.\r\n(the error descriptions there are not due \"Insufficient Funds\", that was wrong).\r\n\r\n* And then have #25806, which has 3b3054f9 which basically adds `util::Result` error support to the entire `SelectCoins` function (which is what I would say that you actually need here).\r\n\r\nSo, would suggest to either cherry-pick 3b3054f9 here, so can return the error string (returning an empty string if the error is \"Insufficient Funds\" so there aren't changes out of the scope of the PR and you can still return the specific error) or, if you don't want it, maybe leave the proper error description point for a follow-up PR and only focus on the functionality here.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#issuecomment-1209966225",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25729"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7165176444,
      "node_id": "HRFPE_lADOABII585OushdzwAAAAGrE-p8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7165176444",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-10T16:01:13Z"
    },
    {
      "event": "commented",
      "id": 1210915414,
      "node_id": "IC_kwDOABII585ILRpW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1210915414",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-10T16:02:32Z",
      "updated_at": "2022-08-10T16:02:51Z",
      "author_association": "MEMBER",
      "body": "Thank you @furszy for your comments!\r\nI'll probably wait until #25806 and #25734 are merged before continuing working on this error message commit and will drop a3dece4e41de7bd5e118278abf09abcd2fcb4922 in the meantime.\r\nI rebased it again since #25734 just got rebased.",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#issuecomment-1210915414",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25729"
    },
    {
      "event": "mentioned",
      "id": 7165185817,
      "node_id": "MEE_lADOABII585OushdzwAAAAGrFA8Z",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7165185817",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-10T16:02:32Z"
    },
    {
      "event": "subscribed",
      "id": 7165185831,
      "node_id": "SE_lADOABII585OushdzwAAAAGrFA8n",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7165185831",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-10T16:02:32Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7230526132,
      "node_id": "HRFPE_lADOABII585OushdzwAAAAGu-RK0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7230526132",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-22T08:23:15Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7230528070,
      "node_id": "HRFPE_lADOABII585OushdzwAAAAGu-RpG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7230528070",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-22T08:23:29Z"
    },
    {
      "event": "reviewed",
      "id": 1112881164,
      "node_id": "PRR_kwDOABII585CVTgM",
      "url": null,
      "actor": null,
      "commit_id": "c9c55455a942165ef0220a430a986c4655ece528",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#pullrequestreview-1112881164",
      "submitted_at": "2022-09-19T21:06:01Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
    },
    {
      "event": "reviewed",
      "id": 1112890070,
      "node_id": "PRR_kwDOABII585CVVrW",
      "url": null,
      "actor": null,
      "commit_id": "c9c55455a942165ef0220a430a986c4655ece528",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#pullrequestreview-1112890070",
      "submitted_at": "2022-09-19T21:18:29Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7421460433,
      "node_id": "HRFPE_lADOABII585OushdzwAAAAG6Wn_R",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7421460433",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-20T11:45:50Z"
    },
    {
      "event": "commented",
      "id": 1252266338,
      "node_id": "IC_kwDOABII585KpBFi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1252266338",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-20T12:12:34Z",
      "updated_at": "2022-09-20T12:12:34Z",
      "author_association": "MEMBER",
      "body": "I refactored the tests and changed the values a bit because I switched from a legacy wallet to a descriptor wallet.\r\nAlso documented the last test.",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#issuecomment-1252266338",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25729"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7484944574,
      "node_id": "HRFPE_lADOABII585OushdzwAAAAG-IzC-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7484944574",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-29T09:28:51Z"
    },
    {
      "event": "labeled",
      "id": 7514669229,
      "node_id": "LE_lADOABII585OushdzwAAAAG_6MCt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7514669229",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-04T09:47:20Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7515977394,
      "node_id": "HRFPE_lADOABII585OushdzwAAAAG__Lay",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7515977394",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-04T12:26:12Z"
    },
    {
      "event": "unlabeled",
      "id": 7518084864,
      "node_id": "UNLE_lADOABII585OushdzwAAAAHAHN8A",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7518084864",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-04T16:10:16Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7541503033,
      "node_id": "HRFPE_lADOABII585OushdzwAAAAHBgjQ5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7541503033",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-07T08:19:31Z"
    },
    {
      "event": "reviewed",
      "id": 1162398609,
      "node_id": "PRR_kwDOABII585FSMuR",
      "url": null,
      "actor": null,
      "commit_id": "fc5219f51813b6e9c128d6bc0cc70c63a5edce48",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#pullrequestreview-1162398609",
      "submitted_at": "2022-10-31T19:21:02Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7712850030,
      "node_id": "HRFPE_lADOABII585OushdzwAAAAHLuMBu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7712850030",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-01T12:27:22Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7712865757,
      "node_id": "HRFPE_lADOABII585OushdzwAAAAHLuP3d",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7712865757",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-01T12:29:48Z"
    },
    {
      "event": "commented",
      "id": 1298441120,
      "node_id": "IC_kwDOABII585NZKOg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1298441120",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-01T12:30:18Z",
      "updated_at": "2022-11-01T12:30:18Z",
      "author_association": "MEMBER",
      "body": "Thanks @achow101 I addressed your comments and added you as co-author.",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#issuecomment-1298441120",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25729"
    },
    {
      "event": "mentioned",
      "id": 7712869168,
      "node_id": "MEE_lADOABII585OushdzwAAAAHLuQsw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7712869168",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-01T12:30:19Z"
    },
    {
      "event": "subscribed",
      "id": 7712869175,
      "node_id": "SE_lADOABII585OushdzwAAAAHLuQs3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7712869175",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-01T12:30:19Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7713393544,
      "node_id": "HRFPE_lADOABII585OushdzwAAAAHLwQuI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7713393544",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-01T13:35:49Z"
    },
    {
      "event": "commented",
      "id": 1298520112,
      "node_id": "IC_kwDOABII585NZdgw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1298520112",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-01T13:36:00Z",
      "updated_at": "2022-11-01T13:57:46Z",
      "author_association": "MEMBER",
      "body": "Rebased and solved silent merge conflicts.",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#issuecomment-1298520112",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25729"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7713581947,
      "node_id": "HRFPE_lADOABII585OushdzwAAAAHLw-t7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7713581947",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-01T13:57:43Z"
    },
    {
      "event": "reviewed",
      "id": 1163923073,
      "node_id": "PRR_kwDOABII585FYA6B",
      "url": null,
      "actor": null,
      "commit_id": "54ecb044c0ebf40ec06bd192725d6f49dcff90ff",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#pullrequestreview-1163923073",
      "submitted_at": "2022-11-01T19:23:34Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7721997736,
      "node_id": "HRFPE_lADOABII585OushdzwAAAAHMRFWo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7721997736",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-02T10:38:24Z"
    },
    {
      "event": "commented",
      "id": 1300016347,
      "node_id": "IC_kwDOABII585NfKzb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1300016347",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-02T10:39:44Z",
      "updated_at": "2022-11-02T10:39:44Z",
      "author_association": "MEMBER",
      "body": "Removed scenario 3 and removed unnecessary check in scenario 2 (https://github.com/bitcoin/bitcoin/compare/54ecb044c0ebf40ec06bd192725d6f49dcff90ff..ffd744f9a0391beda6bb98de1d4e851fc6ca7ca4)",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#issuecomment-1300016347",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25729"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7735822155,
      "node_id": "HRFPE_lADOABII585OushdzwAAAAHNF0dL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7735822155",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-03T20:52:39Z"
    },
    {
      "event": "commented",
      "id": 1302650406,
      "node_id": "IC_kwDOABII585NpN4m",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1302650406",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-03T20:52:57Z",
      "updated_at": "2022-11-05T17:25:50Z",
      "author_association": "MEMBER",
      "body": "~~Rebased to fix CI `p2p_sendtxrcncl.py` failure.~~ didn't seem to work :neutral_face: ",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#issuecomment-1302650406",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25729"
    },
    {
      "event": "commented",
      "id": 1309249448,
      "node_id": "IC_kwDOABII585OCY-o",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1309249448",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-09T19:23:13Z",
      "updated_at": "2022-11-09T19:23:13Z",
      "author_association": "MEMBER",
      "body": "ACK b763b072cec235d397fae4dafc6a69f5902eb3f6",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#issuecomment-1309249448",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25729"
    },
    {
      "event": "reviewed",
      "id": 1184675586,
      "node_id": "PRR_kwDOABII585GnLcC",
      "url": null,
      "actor": null,
      "commit_id": "b763b072cec235d397fae4dafc6a69f5902eb3f6",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#pullrequestreview-1184675586",
      "submitted_at": "2022-11-17T16:46:31Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7837205621,
      "node_id": "HRFPE_lADOABII585OushdzwAAAAHTIkR1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7837205621",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-17T19:45:57Z"
    },
    {
      "event": "commented",
      "id": 1319128835,
      "node_id": "IC_kwDOABII585OoE8D",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1319128835",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-17T19:54:58Z",
      "updated_at": "2022-11-17T20:02:41Z",
      "author_association": "MEMBER",
      "body": "Thanks @furszy, I've implemented your suggestion: https://github.com/bitcoin/bitcoin/compare/b763b072cec235d397fae4dafc6a69f5902eb3f6..119fea975463b05d9a2dddbb36db17b2c91ef880.\r\n\r\nIt appears to be slightly faster:\r\n\r\n### Before (dc9bce1866f1cce851a216d2c7bfd7a890c27006)\r\n|               ns/op |                op/s |    err% |          ins/op |          cyc/op |    IPC |         bra/op |   miss% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------------:|----------------:|-------:|---------------:|--------:|----------:|:----------\r\n|        1,614,196.00 |              619.50 |    0.6% |   11,151,218.00 |    3,710,976.00 |  3.005 |   1,995,456.00 |    0.3% |      0.02 | `CoinSelection`\r\n\r\n### Current (98efb22650c803c3bd4c094d58ef7ba16b77fee2)\r\n|               ns/op |                op/s |    err% |          ins/op |          cyc/op |    IPC |         bra/op |   miss% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------------:|----------------:|-------:|---------------:|--------:|----------:|:----------\r\n|        1,466,341.00 |              681.97 |    0.6% |   11,176,762.00 |    3,358,752.00 |  3.328 |   1,897,839.00 |    0.3% |      0.02 | `CoinSelection`\r\n\r\nI've updated the PR description's benchmarks.\r\n\r\nI also realized that in the previous commit the weight could go in the negatives because `coin.input_bytes` is equal to `-1` for external inputs and I simply summed this number, I fixed it.",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#issuecomment-1319128835",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25729"
    },
    {
      "event": "mentioned",
      "id": 7837283913,
      "node_id": "MEE_lADOABII585OushdzwAAAAHTI3ZJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7837283913",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-17T19:54:58Z"
    },
    {
      "event": "subscribed",
      "id": 7837283915,
      "node_id": "SE_lADOABII585OushdzwAAAAHTI3ZL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7837283915",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-17T19:54:58Z"
    },
    {
      "event": "commented",
      "id": 1319946720,
      "node_id": "IC_kwDOABII585OrMng",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1319946720",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-18T12:42:47Z",
      "updated_at": "2022-11-18T12:42:47Z",
      "author_association": "MEMBER",
      "body": "> I also realized that in the previous commit the weight could go in the negatives because coin.input_bytes is equal to -1 for external inputs and I simply summed this number, I fixed it.\r\n\r\nHmm, that shouldn't be happening. We do have a check inside the preset inputs fetching function that throws an error if `input_bytes == -1`. Maybe what your wallet is trying to spend is a not solvable coin owned by the wallet.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#issuecomment-1319946720",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25729"
    },
    {
      "event": "commented",
      "id": 1320037373,
      "node_id": "IC_kwDOABII585Oriv9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1320037373",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-18T14:05:40Z",
      "updated_at": "2022-11-18T14:05:40Z",
      "author_association": "MEMBER",
      "body": "Sorry @furszy I meant that the weight could be negative in other tests, which probably used external coins. My test was not affected.",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#issuecomment-1320037373",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25729"
    },
    {
      "event": "mentioned",
      "id": 7844104646,
      "node_id": "MEE_lADOABII585OushdzwAAAAHTi4nG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7844104646",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-18T14:05:41Z"
    },
    {
      "event": "subscribed",
      "id": 7844104659,
      "node_id": "SE_lADOABII585OushdzwAAAAHTi4nT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7844104659",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-18T14:05:41Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7844827355,
      "node_id": "HRFPE_lADOABII585OushdzwAAAAHTlpDb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7844827355",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-18T15:16:21Z"
    },
    {
      "event": "commented",
      "id": 1320249915,
      "node_id": "IC_kwDOABII585OsWo7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1320249915",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-18T16:27:36Z",
      "updated_at": "2022-11-18T16:27:36Z",
      "author_association": "MEMBER",
      "body": "ACK 3474b5f7684cacd0c098a11c95079e29f5e905b4",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#issuecomment-1320249915",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25729"
    },
    {
      "event": "commented",
      "id": 1320256469,
      "node_id": "IC_kwDOABII585OsYPV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1320256469",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-18T16:33:34Z",
      "updated_at": "2022-11-18T16:33:34Z",
      "author_association": "MEMBER",
      "body": "Thanks @achow101. @furszy suggested to me in private that the WITNESS_SCALE_FACTOR may not be correctly applied tough. I drafted a quick diff here: \r\nhttps://gist.github.com/aureleoules/8a7cfcd93a66b70eecc74e7a6692d300\r\n\r\nWould you agree?",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#issuecomment-1320256469",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25729"
    },
    {
      "event": "mentioned",
      "id": 7845496848,
      "node_id": "MEE_lADOABII585OushdzwAAAAHToMgQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7845496848",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-18T16:33:34Z"
    },
    {
      "event": "subscribed",
      "id": 7845496866,
      "node_id": "SE_lADOABII585OushdzwAAAAHToMgi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7845496866",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-18T16:33:34Z"
    },
    {
      "event": "mentioned",
      "id": 7845496884,
      "node_id": "MEE_lADOABII585OushdzwAAAAHToMg0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7845496884",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-18T16:33:34Z"
    },
    {
      "event": "subscribed",
      "id": 7845496910,
      "node_id": "SE_lADOABII585OushdzwAAAAHToMhO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7845496910",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-18T16:33:34Z"
    },
    {
      "event": "commented",
      "id": 1320299997,
      "node_id": "IC_kwDOABII585Osi3d",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1320299997",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-18T17:11:19Z",
      "updated_at": "2022-11-18T17:11:30Z",
      "author_association": "MEMBER",
      "body": "No, it is correct as it is now. Converting vbytes to weight is always just multiply by WITNESS_SCALE_FACTOR. It doesn't matter what the script type is.",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#issuecomment-1320299997",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25729"
    },
    {
      "event": "commented",
      "id": 1320303731,
      "node_id": "IC_kwDOABII585Osjxz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1320303731",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-18T17:14:35Z",
      "updated_at": "2022-11-18T17:14:35Z",
      "author_association": "MEMBER",
      "body": "Okay great thank you!",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#issuecomment-1320303731",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25729"
    },
    {
      "event": "reviewed",
      "id": 1187128851,
      "node_id": "PRR_kwDOABII585GwiYT",
      "url": null,
      "actor": null,
      "commit_id": "3474b5f7684cacd0c098a11c95079e29f5e905b4",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#pullrequestreview-1187128851",
      "submitted_at": "2022-11-19T22:12:47Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7850424344,
      "node_id": "HRFPE_lADOABII585OushdzwAAAAHT6_gY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7850424344",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-19T23:26:51Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7850431731,
      "node_id": "HRFPE_lADOABII585OushdzwAAAAHT7BTz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7850431731",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-19T23:36:13Z"
    },
    {
      "event": "reviewed",
      "id": 1188765351,
      "node_id": "PRR_kwDOABII585G2x6n",
      "url": null,
      "actor": null,
      "commit_id": "30b71d1f0ea7e8b69b069713b66e45d472373832",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "code review ACK 30b71d1f, left few small comments.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#pullrequestreview-1188765351",
      "submitted_at": "2022-11-21T18:37:51Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
    },
    {
      "event": "commented",
      "id": 1325540412,
      "node_id": "IC_kwDOABII585PAiQ8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1325540412",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-23T19:08:48Z",
      "updated_at": "2022-11-23T19:08:48Z",
      "author_association": "MEMBER",
      "body": "ACK 30b71d1f0ea7e8b69b069713b66e45d472373832",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#issuecomment-1325540412",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25729"
    },
    {
      "event": "review_requested",
      "id": 7880995245,
      "node_id": "RRE_lADOABII585OushdzwAAAAHVvnGt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7880995245",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-23T22:01:40Z",
      "requested_reviewer": {
        "login": "Xekyo",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Xekyo",
        "html_url": "https://github.com/Xekyo",
        "followers_url": "https://api.github.com/users/Xekyo/followers",
        "following_url": "https://api.github.com/users/Xekyo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Xekyo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Xekyo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Xekyo/subscriptions",
        "organizations_url": "https://api.github.com/users/Xekyo/orgs",
        "repos_url": "https://api.github.com/users/Xekyo/repos",
        "events_url": "https://api.github.com/users/Xekyo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Xekyo/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "labeled",
      "id": 7957709857,
      "node_id": "LE_lADOABII585OushdzwAAAAHaUQQh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7957709857",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-05T18:19:19Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDZiNTYzY2FlOTI5NTdkYzMwZGMzNTEwM2E3YzMyMWZkYjAxMTVlZjM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6b563cae92957dc30dc35103a7c321fdb0115ef3",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6b563cae92957dc30dc35103a7c321fdb0115ef3",
      "tree": {
        "sha": "c5c1b2cffe292a60c9be010733758c1a93851b1e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c5c1b2cffe292a60c9be010733758c1a93851b1e"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree c5c1b2cffe292a60c9be010733758c1a93851b1e\nparent 7734a0160debfeea039b77cca1366cd9ee83feb6\nauthor Aurèle Oulès <aurele@oules.com> 1664885831 +0200\ncommitter Aurèle Oulès <aurele@oules.com> 1670265131 +0100\n\nwallet: Check max tx weight in coin selector\n\nCo-authored-by: Andrew Chow <github@achow101.com>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niHUEABYKAB0WIQRWpTAYMQugla4ROcBV85dvcAHZmAUCY445KwAKCRBV85dvcAHZ\nmMHzAP0YIhFK0ndeAipMhb5CNzpt9GDZoCccuNK68rGlAuF5WAEA5a/Y3br87XZ1\nOsWWa9e3sqZKM5W5NiXouruX3ucXQwM=\n=enxB\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7734a0160debfeea039b77cca1366cd9ee83feb6",
          "sha": "7734a0160debfeea039b77cca1366cd9ee83feb6",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/7734a0160debfeea039b77cca1366cd9ee83feb6"
        }
      ],
      "message": "wallet: Check max tx weight in coin selector\n\nCo-authored-by: Andrew Chow <github@achow101.com>",
      "committer": {
        "name": "Aurèle Oulès",
        "email": "aurele@oules.com",
        "date": "2022-12-05T18:32:11Z"
      },
      "author": {
        "name": "Aurèle Oulès",
        "email": "aurele@oules.com",
        "date": "2022-10-04T12:17:11Z"
      },
      "sha": "6b563cae92957dc30dc35103a7c321fdb0115ef3"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGM3YzdlZTlkMGIyZDdiMzAzYjkzMDBmOTQxZTM3ZTA5ZTdkOGQ4YjY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "tree": {
        "sha": "c6363e3731b654a9e9993930100d331e5ddfc854",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c6363e3731b654a9e9993930100d331e5ddfc854"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree c6363e3731b654a9e9993930100d331e5ddfc854\nparent 6b563cae92957dc30dc35103a7c321fdb0115ef3\nauthor Aurèle Oulès <aurele@oules.com> 1664885872 +0200\ncommitter Aurèle Oulès <aurele@oules.com> 1670265131 +0100\n\ntest: Check max transaction weight in CoinSelection\n\nCo-authored-by: Andrew Chow <github@achow101.com>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niHUEABYKAB0WIQRWpTAYMQugla4ROcBV85dvcAHZmAUCY445KwAKCRBV85dvcAHZ\nmAxcAQDeEC/jYkJ3x6R/IB/+XKrSDnxQ0mjb47ASlhM00nCuVAD+MReUJYD9YWgD\nOz9A/PifqMPecSqwLS8ua7GI/cruzwE=\n=NC3t\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6b563cae92957dc30dc35103a7c321fdb0115ef3",
          "sha": "6b563cae92957dc30dc35103a7c321fdb0115ef3",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/6b563cae92957dc30dc35103a7c321fdb0115ef3"
        }
      ],
      "message": "test: Check max transaction weight in CoinSelection\n\nCo-authored-by: Andrew Chow <github@achow101.com>",
      "committer": {
        "name": "Aurèle Oulès",
        "email": "aurele@oules.com",
        "date": "2022-12-05T18:32:11Z"
      },
      "author": {
        "name": "Aurèle Oulès",
        "email": "aurele@oules.com",
        "date": "2022-10-04T12:17:52Z"
      },
      "sha": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7957814552,
      "node_id": "HRFPE_lADOABII585OushdzwAAAAHaUp0Y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7957814552",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-05T18:32:28Z"
    },
    {
      "event": "commented",
      "id": 1337912900,
      "node_id": "IC_kwDOABII585Pvu5E",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1337912900",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-05T18:34:54Z",
      "updated_at": "2022-12-05T18:34:54Z",
      "author_association": "MEMBER",
      "body": "Rebased",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#issuecomment-1337912900",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25729"
    },
    {
      "event": "unlabeled",
      "id": 7958812654,
      "node_id": "UNLE_lADOABII585OushdzwAAAAHaYdfu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7958812654",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-05T20:34:56Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "renamed",
      "id": 7958812990,
      "node_id": "RTE_lADOABII585OushdzwAAAAHaYdk-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7958812990",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-05T20:34:58Z",
      "rename": {
        "from": "wallet: Check max transaction weight in CoinSelection ",
        "to": "wallet: Check max transaction weight in CoinSelection"
      }
    },
    {
      "event": "commented",
      "id": 1338162621,
      "node_id": "IC_kwDOABII585Pwr29",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1338162621",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-05T21:06:46Z",
      "updated_at": "2022-12-05T21:06:46Z",
      "author_association": "MEMBER",
      "body": "reACK c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#issuecomment-1338162621",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25729"
    },
    {
      "event": "reviewed",
      "id": 1205704053,
      "node_id": "PRR_kwDOABII585H3ZV1",
      "url": null,
      "actor": null,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK https://github.com/bitcoin/bitcoin/pull/25729/commits/c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "user": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#pullrequestreview-1205704053",
      "submitted_at": "2022-12-06T03:10:48Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
    },
    {
      "event": "reviewed",
      "id": 1206046383,
      "node_id": "PRR_kwDOABII585H4s6v",
      "url": null,
      "actor": null,
      "commit_id": "6b563cae92957dc30dc35103a7c321fdb0115ef3",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#pullrequestreview-1206046383",
      "submitted_at": "2022-12-06T07:45:27Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
    },
    {
      "event": "reviewed",
      "id": 1206746957,
      "node_id": "PRR_kwDOABII585H7X9N",
      "url": null,
      "actor": null,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "diff ACK c7c7ee9d",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#pullrequestreview-1206746957",
      "submitted_at": "2022-12-06T14:54:21Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
    },
    {
      "event": "merged",
      "id": 7968845988,
      "node_id": "ME_lADOABII585OushdzwAAAAHa-vCk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7968845988",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "ef744c03e56deb5d6e83ec94d105b9fca562c21d",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ef744c03e56deb5d6e83ec94d105b9fca562c21d",
      "created_at": "2022-12-06T17:09:50Z"
    },
    {
      "event": "closed",
      "id": 7968846020,
      "node_id": "CE_lADOABII585OushdzwAAAAHa-vDE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7968846020",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-06T17:09:51Z"
    },
    {
      "event": "referenced",
      "id": 7971736772,
      "node_id": "REFE_lADOABII585OushdzwAAAAHbJwzE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7971736772",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "7b7cd876793e0189db5173d029da3f1117e8cab0",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/7b7cd876793e0189db5173d029da3f1117e8cab0",
      "created_at": "2022-12-06T22:50:58Z"
    },
    {
      "event": "referenced",
      "id": 8146861632,
      "node_id": "REFE_lADOABII585OushdzwAAAAHllz5A",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8146861632",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "3f8591d46b46cec2c4effc01f8822222087d74c4",
      "commit_url": "https://api.github.com/repos/bitcoin-core/gui/commits/3f8591d46b46cec2c4effc01f8822222087d74c4",
      "created_at": "2023-01-03T23:53:49Z"
    },
    {
      "event": "referenced",
      "id": 8152729045,
      "node_id": "REFE_lADOABII585OushdzwAAAAHl8MXV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8152729045",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "cab438784eadd1e80e44981c8ed23d54cb5e3c40",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/cab438784eadd1e80e44981c8ed23d54cb5e3c40",
      "created_at": "2023-01-04T16:27:32Z"
    },
    {
      "event": "head_ref_deleted",
      "id": 8210566656,
      "node_id": "HRDE_lADOABII585OushdzwAAAAHpY04A",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8210566656",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-12T11:51:43Z"
    },
    {
      "event": "referenced",
      "id": 9061340236,
      "node_id": "REFE_lADOABII585OushdzwAAAAIcGRRM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9061340236",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "395b9328071f7764373605e12c47e08b87ffb4df",
      "commit_url": "https://api.github.com/repos/bitcoin-core/gui/commits/395b9328071f7764373605e12c47e08b87ffb4df",
      "created_at": "2023-04-20T20:33:51Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/932703415",
      "pull_request_review_id": 1054799836,
      "id": 932703415,
      "node_id": "PRRC_kwDOABII5843l-y3",
      "diff_hunk": "@@ -516,14 +516,32 @@ std::optional<SelectionResult> ChooseSelectionResult(const CWallet& wallet, cons\n         results.push_back(*srd_result);\n     }\n \n-    if (results.size() == 0) {\n+    if (results.empty()) {\n         // No solution found\n         return std::nullopt;\n     }\n \n+    std::vector<SelectionResult> eligible_results;\n+    for (const auto& result : results) {\n+        int weight = coin_selection_params.tx_noinputs_size * WITNESS_SCALE_FACTOR;\n+        for (const auto& coin : result.GetInputSet()) {\n+            weight += CalculateMaximumSignedInputSize(coin.txout, &wallet, &coin_control) * WITNESS_SCALE_FACTOR;",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 58,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "original_commit_id": "627b715f9da819ee0789a593c2a89737b5d8e941",
      "in_reply_to_id": null,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Can directly use `coin.input_bytes` instead of calculating the size again.",
      "created_at": "2022-07-28T21:43:13Z",
      "updated_at": "2022-07-28T21:44:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#discussion_r932703415",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/932703415"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 528,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/932718807",
      "pull_request_review_id": 1054821588,
      "id": 932718807,
      "node_id": "PRRC_kwDOABII5843mCjX",
      "diff_hunk": "@@ -516,14 +516,32 @@ std::optional<SelectionResult> ChooseSelectionResult(const CWallet& wallet, cons\n         results.push_back(*srd_result);\n     }\n \n-    if (results.size() == 0) {\n+    if (results.empty()) {\n         // No solution found\n         return std::nullopt;\n     }\n \n+    std::vector<SelectionResult> eligible_results;\n+    for (const auto& result : results) {\n+        int weight = coin_selection_params.tx_noinputs_size * WITNESS_SCALE_FACTOR;\n+        for (const auto& coin : result.GetInputSet()) {\n+            weight += CalculateMaximumSignedInputSize(coin.txout, &wallet, &coin_control) * WITNESS_SCALE_FACTOR;",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 58,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "original_commit_id": "627b715f9da819ee0789a593c2a89737b5d8e941",
      "in_reply_to_id": 932703415,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks, that's much better.",
      "created_at": "2022-07-28T22:11:16Z",
      "updated_at": "2022-07-28T22:11:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#discussion_r932718807",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/932718807"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 528,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/940619491",
      "pull_request_review_id": 1065721188,
      "id": 940619491,
      "node_id": "PRRC_kwDOABII5844ELbj",
      "diff_hunk": "@@ -980,7 +980,7 @@ def test_transaction_too_large(self):\n             outputs[recipient.getnewaddress()] = 0.1\n         wallet.sendmany(\"\", outputs)\n         self.generate(self.nodes[0], 10)\n-        assert_raises_rpc_error(-4, \"Transaction too large\", recipient.fundrawtransaction, rawtx)\n+        assert_raises_rpc_error(-4, \"Insufficient funds\", recipient.fundrawtransaction, rawtx)",
      "path": "test/functional/rpc_fundrawtransaction.py",
      "position": 5,
      "original_position": 5,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "original_commit_id": "c166411dad1f4cdaa61f70b92728ecebfc3fc749",
      "in_reply_to_id": null,
      "user": {
        "login": "Xekyo",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Xekyo",
        "html_url": "https://github.com/Xekyo",
        "followers_url": "https://api.github.com/users/Xekyo/followers",
        "following_url": "https://api.github.com/users/Xekyo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Xekyo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Xekyo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Xekyo/subscriptions",
        "organizations_url": "https://api.github.com/users/Xekyo/orgs",
        "repos_url": "https://api.github.com/users/Xekyo/repos",
        "events_url": "https://api.github.com/users/Xekyo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Xekyo/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`Insufficient funds` might be a confusing error message since the wallet would also report having sufficient funds at the same time. Perhaps we could return a more specific error, if the last attempt returns from `eligible_results` being empty e.g. `Cannot fund transaction, wallet too fragmented`.",
      "created_at": "2022-08-08T20:05:57Z",
      "updated_at": "2022-08-08T20:16:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#discussion_r940619491",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/940619491"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 990,
      "original_line": 990,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/940621174",
      "pull_request_review_id": 1065721188,
      "id": 940621174,
      "node_id": "PRRC_kwDOABII5844EL12",
      "diff_hunk": "@@ -518,14 +520,27 @@ std::optional<SelectionResult> ChooseSelectionResult(const CWallet& wallet, cons\n         results.push_back(*srd_result);\n     }\n \n-    if (results.size() == 0) {\n+    if (results.empty()) {\n         // No solution found\n         return std::nullopt;\n     }\n \n+    std::vector<SelectionResult> eligible_results;\n+    std::copy_if(results.begin(), results.end(), std::back_inserter(eligible_results), [coin_selection_params](const SelectionResult& result) {\n+        const int weight = std::accumulate(result.GetInputSet().begin(), result.GetInputSet().end(), static_cast<int>(coin_selection_params.tx_noinputs_size * WITNESS_SCALE_FACTOR), [](int acc, const auto& coin) {\n+            return acc + coin.input_bytes * WITNESS_SCALE_FACTOR;\n+        });\n+\n+        return weight <= static_cast<int>(MAX_STANDARD_TX_WEIGHT);\n+    });\n+\n+    if (eligible_results.empty()) {",
      "path": "src/wallet/spend.cpp",
      "position": 28,
      "original_position": 31,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "original_commit_id": "c166411dad1f4cdaa61f70b92728ecebfc3fc749",
      "in_reply_to_id": null,
      "user": {
        "login": "Xekyo",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Xekyo",
        "html_url": "https://github.com/Xekyo",
        "followers_url": "https://api.github.com/users/Xekyo/followers",
        "following_url": "https://api.github.com/users/Xekyo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Xekyo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Xekyo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Xekyo/subscriptions",
        "organizations_url": "https://api.github.com/users/Xekyo/orgs",
        "repos_url": "https://api.github.com/users/Xekyo/repos",
        "events_url": "https://api.github.com/users/Xekyo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Xekyo/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Perhaps we could store some “result hint” when we get into this if-block on a coin selection attempt that we could later use to inform the result message.",
      "created_at": "2022-08-08T20:08:12Z",
      "updated_at": "2022-08-08T20:16:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#discussion_r940621174",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/940621174"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 571,
      "original_line": 571,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/941824885",
      "pull_request_review_id": 1067413121,
      "id": 941824885,
      "node_id": "PRRC_kwDOABII5844Ixt1",
      "diff_hunk": "@@ -518,14 +520,27 @@ std::optional<SelectionResult> ChooseSelectionResult(const CWallet& wallet, cons\n         results.push_back(*srd_result);\n     }\n \n-    if (results.size() == 0) {\n+    if (results.empty()) {\n         // No solution found\n         return std::nullopt;\n     }\n \n+    std::vector<SelectionResult> eligible_results;\n+    std::copy_if(results.begin(), results.end(), std::back_inserter(eligible_results), [coin_selection_params](const SelectionResult& result) {\n+        const int weight = std::accumulate(result.GetInputSet().begin(), result.GetInputSet().end(), static_cast<int>(coin_selection_params.tx_noinputs_size * WITNESS_SCALE_FACTOR), [](int acc, const auto& coin) {\n+            return acc + coin.input_bytes * WITNESS_SCALE_FACTOR;\n+        });\n+\n+        return weight <= static_cast<int>(MAX_STANDARD_TX_WEIGHT);\n+    });\n+\n+    if (eligible_results.empty()) {",
      "path": "src/wallet/spend.cpp",
      "position": 28,
      "original_position": 31,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "original_commit_id": "c166411dad1f4cdaa61f70b92728ecebfc3fc749",
      "in_reply_to_id": 940621174,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Here's my attempt a3dece4e41de7bd5e118278abf09abcd2fcb4922.",
      "created_at": "2022-08-09T21:37:14Z",
      "updated_at": "2022-08-09T21:37:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#discussion_r941824885",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/941824885"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 571,
      "original_line": 571,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/974690021",
      "pull_request_review_id": 1112881164,
      "id": 974690021,
      "node_id": "PRRC_kwDOABII5846GJbl",
      "diff_hunk": "@@ -531,14 +533,27 @@ std::optional<SelectionResult> ChooseSelectionResult(const CWallet& wallet, cons\n         results.push_back(*srd_result);\n     }\n \n-    if (results.size() == 0) {\n+    if (results.empty()) {\n         // No solution found\n         return std::nullopt;\n     }\n \n+    std::vector<SelectionResult> eligible_results;\n+    std::copy_if(results.begin(), results.end(), std::back_inserter(eligible_results), [coin_selection_params](const SelectionResult& result) {\n+        const int weight = std::accumulate(result.GetInputSet().begin(), result.GetInputSet().end(), static_cast<int>(coin_selection_params.tx_noinputs_size * WITNESS_SCALE_FACTOR), [](int acc, const auto& coin) {",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "original_commit_id": "c9c55455a942165ef0220a430a986c4655ece528",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`tx_noinputs_size` is 0 when we are subtracting the fee from the outputs, so using it here may not always result in the correct calculation.",
      "created_at": "2022-09-19T21:06:01Z",
      "updated_at": "2022-09-19T21:06:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#discussion_r974690021",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/974690021"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 543,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/974696402",
      "pull_request_review_id": 1112890070,
      "id": 974696402,
      "node_id": "PRRC_kwDOABII5846GK_S",
      "diff_hunk": "@@ -917,5 +917,176 @@ BOOST_AUTO_TEST_CASE(effective_value_test)\n     BOOST_CHECK_EQUAL(output5.GetEffectiveValue(), nValue); // The effective value should be equal to the absolute value if input_bytes is -1\n }\n \n+BOOST_AUTO_TEST_CASE(check_max_weight)\n+{\n+    const CAmount target = 49.5L * COIN;\n+    CCoinControl cc;\n+\n+    std::unique_ptr<CWallet> tmpWallet = std::make_unique<CWallet>(m_node.chain.get(), \"\", m_args, CreateMockWalletDatabase());\n+    tmpWallet->LoadWallet();\n+    LOCK(tmpWallet->cs_wallet);\n+    tmpWallet->SetupLegacyScriptPubKeyMan();\n+\n+    const auto op_dest = tmpWallet->GetNewDestination(OutputType::BECH32, \"\");\n+    BOOST_ASSERT(op_dest);\n+    const auto scriptPubKey = GetScriptForDestination(op_dest.value());\n+    const auto txout = CTxOut(target, scriptPubKey);\n+\n+    FastRandomContext rand;\n+    CoinSelectionParams cs_params{\n+        rand,\n+        /*change_output_size=*/34,\n+        /*change_spend_size=*/148,\n+        /*min_change_target=*/CENT,\n+        /*effective_feerate=*/CFeeRate(0),\n+        /*long_term_feerate=*/CFeeRate(0),\n+        /*discard_feerate=*/CFeeRate(0),\n+        /*tx_noinputs_size=*/static_cast<size_t>(10) + GetSerializeSize(txout, PROTOCOL_VERSION), // static header size + output size",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": null,
      "original_position": 28,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "original_commit_id": "c9c55455a942165ef0220a430a986c4655ece528",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Since sizes are already being hardcoded above for `change_output_size` and `change_spend_size`, I think it's fine to hard code this as well instead of having to create an entire wallet just to fetch a single destination in order to get this size, where accuracy also doesn't really matter.",
      "created_at": "2022-09-19T21:15:20Z",
      "updated_at": "2022-09-19T21:18:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#discussion_r974696402",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/974696402"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 944,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/974697055",
      "pull_request_review_id": 1112890070,
      "id": 974697055,
      "node_id": "PRRC_kwDOABII5846GLJf",
      "diff_hunk": "@@ -917,5 +917,176 @@ BOOST_AUTO_TEST_CASE(effective_value_test)\n     BOOST_CHECK_EQUAL(output5.GetEffectiveValue(), nValue); // The effective value should be equal to the absolute value if input_bytes is -1\n }\n \n+BOOST_AUTO_TEST_CASE(check_max_weight)\n+{\n+    const CAmount target = 49.5L * COIN;\n+    CCoinControl cc;\n+\n+    std::unique_ptr<CWallet> tmpWallet = std::make_unique<CWallet>(m_node.chain.get(), \"\", m_args, CreateMockWalletDatabase());\n+    tmpWallet->LoadWallet();\n+    LOCK(tmpWallet->cs_wallet);\n+    tmpWallet->SetupLegacyScriptPubKeyMan();\n+\n+    const auto op_dest = tmpWallet->GetNewDestination(OutputType::BECH32, \"\");\n+    BOOST_ASSERT(op_dest);\n+    const auto scriptPubKey = GetScriptForDestination(op_dest.value());\n+    const auto txout = CTxOut(target, scriptPubKey);\n+\n+    FastRandomContext rand;\n+    CoinSelectionParams cs_params{\n+        rand,\n+        /*change_output_size=*/34,\n+        /*change_spend_size=*/148,",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": null,
      "original_position": 23,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "original_commit_id": "c9c55455a942165ef0220a430a986c4655ece528",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "While these values don't particularly matter, they should probably match the p2wpkh sizes rather than the p2pkh.\r\n\r\n```suggestion\r\n        /*change_output_size=*/31,\r\n        /*change_spend_size=*/68,\r\n```",
      "created_at": "2022-09-19T21:16:19Z",
      "updated_at": "2022-09-19T21:18:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#discussion_r974697055",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/974697055"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
        }
      },
      "start_line": null,
      "original_start_line": 938,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 939,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/974697295",
      "pull_request_review_id": 1112890070,
      "id": 974697295,
      "node_id": "PRRC_kwDOABII5846GLNP",
      "diff_hunk": "@@ -917,5 +917,176 @@ BOOST_AUTO_TEST_CASE(effective_value_test)\n     BOOST_CHECK_EQUAL(output5.GetEffectiveValue(), nValue); // The effective value should be equal to the absolute value if input_bytes is -1\n }\n \n+BOOST_AUTO_TEST_CASE(check_max_weight)\n+{\n+    const CAmount target = 49.5L * COIN;\n+    CCoinControl cc;\n+\n+    std::unique_ptr<CWallet> tmpWallet = std::make_unique<CWallet>(m_node.chain.get(), \"\", m_args, CreateMockWalletDatabase());\n+    tmpWallet->LoadWallet();\n+    LOCK(tmpWallet->cs_wallet);\n+    tmpWallet->SetupLegacyScriptPubKeyMan();\n+\n+    const auto op_dest = tmpWallet->GetNewDestination(OutputType::BECH32, \"\");\n+    BOOST_ASSERT(op_dest);\n+    const auto scriptPubKey = GetScriptForDestination(op_dest.value());\n+    const auto txout = CTxOut(target, scriptPubKey);\n+\n+    FastRandomContext rand;\n+    CoinSelectionParams cs_params{\n+        rand,\n+        /*change_output_size=*/34,\n+        /*change_spend_size=*/148,\n+        /*min_change_target=*/CENT,\n+        /*effective_feerate=*/CFeeRate(0),\n+        /*long_term_feerate=*/CFeeRate(0),\n+        /*discard_feerate=*/CFeeRate(0),\n+        /*tx_noinputs_size=*/static_cast<size_t>(10) + GetSerializeSize(txout, PROTOCOL_VERSION), // static header size + output size\n+        /*avoid_partial=*/false,\n+    };\n+\n+    CMutableTransaction txDummy;\n+    txDummy.vout.push_back(txout);\n+\n+    {\n+        // Scenario 1:\n+        // The actor starts with 1x 50.0 BTC and 1000x 0.05 BTC (100.0 BTC total) unspent outputs\n+        // Then tries to spend 49.5 BTC\n+        // The 50.0 BTC output should be selected, because the transaction would otherwise be too large\n+\n+        std::unique_ptr<CWallet> wallet = std::make_unique<CWallet>(m_node.chain.get(), \"\", m_args, CreateMockWalletDatabase());\n+        wallet->LoadWallet();\n+        LOCK(wallet->cs_wallet);\n+        wallet->SetupLegacyScriptPubKeyMan();",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": null,
      "original_position": 44,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "original_commit_id": "c9c55455a942165ef0220a430a986c4655ece528",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Let's avoid making LegacySPKMs in tests which are not specifically testing that behavior.",
      "created_at": "2022-09-19T21:16:43Z",
      "updated_at": "2022-09-19T21:18:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#discussion_r974697295",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/974697295"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 960,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/974698104",
      "pull_request_review_id": 1112890070,
      "id": 974698104,
      "node_id": "PRRC_kwDOABII5846GLZ4",
      "diff_hunk": "@@ -917,5 +917,176 @@ BOOST_AUTO_TEST_CASE(effective_value_test)\n     BOOST_CHECK_EQUAL(output5.GetEffectiveValue(), nValue); // The effective value should be equal to the absolute value if input_bytes is -1\n }\n \n+BOOST_AUTO_TEST_CASE(check_max_weight)\n+{\n+    const CAmount target = 49.5L * COIN;\n+    CCoinControl cc;\n+\n+    std::unique_ptr<CWallet> tmpWallet = std::make_unique<CWallet>(m_node.chain.get(), \"\", m_args, CreateMockWalletDatabase());\n+    tmpWallet->LoadWallet();\n+    LOCK(tmpWallet->cs_wallet);\n+    tmpWallet->SetupLegacyScriptPubKeyMan();\n+\n+    const auto op_dest = tmpWallet->GetNewDestination(OutputType::BECH32, \"\");\n+    BOOST_ASSERT(op_dest);\n+    const auto scriptPubKey = GetScriptForDestination(op_dest.value());\n+    const auto txout = CTxOut(target, scriptPubKey);\n+\n+    FastRandomContext rand;\n+    CoinSelectionParams cs_params{\n+        rand,\n+        /*change_output_size=*/34,\n+        /*change_spend_size=*/148,\n+        /*min_change_target=*/CENT,\n+        /*effective_feerate=*/CFeeRate(0),\n+        /*long_term_feerate=*/CFeeRate(0),\n+        /*discard_feerate=*/CFeeRate(0),\n+        /*tx_noinputs_size=*/static_cast<size_t>(10) + GetSerializeSize(txout, PROTOCOL_VERSION), // static header size + output size\n+        /*avoid_partial=*/false,\n+    };\n+\n+    CMutableTransaction txDummy;\n+    txDummy.vout.push_back(txout);\n+\n+    {\n+        // Scenario 1:",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": 58,
      "original_position": 36,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "original_commit_id": "c9c55455a942165ef0220a430a986c4655ece528",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "ISTM these tests could be deduplicated intoa helper function with each scenario just being a set of parameters as each test case does basically the same thing but with slightly different params.",
      "created_at": "2022-09-19T21:18:00Z",
      "updated_at": "2022-09-19T21:18:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#discussion_r974698104",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/974698104"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 980,
      "original_line": 980,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/974698287",
      "pull_request_review_id": 1112890070,
      "id": 974698287,
      "node_id": "PRRC_kwDOABII5846GLcv",
      "diff_hunk": "@@ -917,5 +917,176 @@ BOOST_AUTO_TEST_CASE(effective_value_test)\n     BOOST_CHECK_EQUAL(output5.GetEffectiveValue(), nValue); // The effective value should be equal to the absolute value if input_bytes is -1\n }\n \n+BOOST_AUTO_TEST_CASE(check_max_weight)\n+{\n+    const CAmount target = 49.5L * COIN;\n+    CCoinControl cc;\n+\n+    std::unique_ptr<CWallet> tmpWallet = std::make_unique<CWallet>(m_node.chain.get(), \"\", m_args, CreateMockWalletDatabase());\n+    tmpWallet->LoadWallet();\n+    LOCK(tmpWallet->cs_wallet);\n+    tmpWallet->SetupLegacyScriptPubKeyMan();\n+\n+    const auto op_dest = tmpWallet->GetNewDestination(OutputType::BECH32, \"\");\n+    BOOST_ASSERT(op_dest);\n+    const auto scriptPubKey = GetScriptForDestination(op_dest.value());\n+    const auto txout = CTxOut(target, scriptPubKey);\n+\n+    FastRandomContext rand;\n+    CoinSelectionParams cs_params{\n+        rand,\n+        /*change_output_size=*/34,\n+        /*change_spend_size=*/148,\n+        /*min_change_target=*/CENT,\n+        /*effective_feerate=*/CFeeRate(0),\n+        /*long_term_feerate=*/CFeeRate(0),\n+        /*discard_feerate=*/CFeeRate(0),\n+        /*tx_noinputs_size=*/static_cast<size_t>(10) + GetSerializeSize(txout, PROTOCOL_VERSION), // static header size + output size\n+        /*avoid_partial=*/false,\n+    };\n+\n+    CMutableTransaction txDummy;\n+    txDummy.vout.push_back(txout);\n+\n+    {\n+        // Scenario 1:\n+        // The actor starts with 1x 50.0 BTC and 1000x 0.05 BTC (100.0 BTC total) unspent outputs\n+        // Then tries to spend 49.5 BTC\n+        // The 50.0 BTC output should be selected, because the transaction would otherwise be too large\n+\n+        std::unique_ptr<CWallet> wallet = std::make_unique<CWallet>(m_node.chain.get(), \"\", m_args, CreateMockWalletDatabase());\n+        wallet->LoadWallet();\n+        LOCK(wallet->cs_wallet);\n+        wallet->SetupLegacyScriptPubKeyMan();\n+\n+        CoinsResult available_coins;\n+        for (int j = 0; j < 1000; ++j) {\n+            add_coin(available_coins, *wallet, CAmount(0.05 * COIN), CFeeRate(0), 144, false, 0, true);\n+        }\n+\n+        add_coin(available_coins, *wallet, CAmount(50 * COIN), CFeeRate(0), 144, false, 0, true);\n+\n+        // Perform selection\n+        const auto result = SelectCoins(*wallet, available_coins, target, cc, cs_params);\n+        BOOST_CHECK(result);\n+        const bool has_50_coin = std::any_of(result->GetInputSet().begin(), result->GetInputSet().end(), [](const auto& coin) {\n+            return coin.GetEffectiveValue() == 50 * COIN;\n+        });\n+        BOOST_CHECK(has_50_coin);\n+        txDummy.vin.clear();\n+        for (const auto& coin : result->GetInputSet()) {\n+            txDummy.vin.push_back(CTxIn(coin.outpoint, CScript(), 0));\n+        }\n+        const auto txSize = CalculateMaximumSignedTxSize(CTransaction(txDummy), wallet.get(), &cc);\n+        BOOST_CHECK_LE(txSize.weight, MAX_STANDARD_TX_WEIGHT);\n+\n+        BOOST_CHECK_GE(result->GetSelectedValue(), target);\n+    }\n+\n+    {\n+        // Scenario 2:\n+\n+        // The actor starts with 500x 0.1 BTC and 1000x 0.05 BTC (100.0 BTC total) unspent outputs\n+        // Then tries to spend 49.5 BTC\n+        // A combination of coins should be selected, such that the created transaction is not too large\n+        std::unique_ptr<CWallet> wallet = std::make_unique<CWallet>(m_node.chain.get(), \"\", m_args, CreateMockWalletDatabase());\n+        wallet->LoadWallet();\n+        LOCK(wallet->cs_wallet);\n+        wallet->SetupLegacyScriptPubKeyMan();\n+\n+        CoinsResult available_coins;\n+        for (int j = 0; j < 500; ++j) {\n+            add_coin(available_coins, *wallet, CAmount(0.1 * COIN), CFeeRate(0), 144, false, 0, true);\n+        }\n+        for (int j = 0; j < 1000; ++j) {\n+            add_coin(available_coins, *wallet, CAmount(0.05 * COIN), CFeeRate(0), 144, false, 0, true);\n+        }\n+\n+        // Perform selection\n+        const auto result = SelectCoins(*wallet, available_coins, target, cc, cs_params);\n+        BOOST_CHECK(result);\n+        const bool has_0_1_coin = std::any_of(result->GetInputSet().begin(), result->GetInputSet().end(), [](const auto& coin) {\n+            return coin.GetEffectiveValue() == 0.1 * COIN;\n+        });\n+        const bool has_0_05_coin = std::any_of(result->GetInputSet().begin(), result->GetInputSet().end(), [](const auto& coin) {\n+            return coin.GetEffectiveValue() == 0.05 * COIN;\n+        });\n+        const bool has_not_50_coin = std::any_of(result->GetInputSet().begin(), result->GetInputSet().end(), [](const auto& coin) {\n+            return coin.GetEffectiveValue() != 50 * COIN;\n+        });\n+        BOOST_CHECK(has_0_1_coin);\n+        BOOST_CHECK(has_0_05_coin);\n+        BOOST_CHECK(has_not_50_coin);\n+        txDummy.vin.clear();\n+        for (const auto& coin : result->GetInputSet()) {\n+            txDummy.vin.push_back(CTxIn(coin.outpoint, CScript(), 0));\n+        }\n+        const auto txSize = CalculateMaximumSignedTxSize(CTransaction(txDummy), wallet.get(), &cc);\n+        BOOST_CHECK_LE(txSize.weight, MAX_STANDARD_TX_WEIGHT);\n+        BOOST_CHECK_GE(result->GetSelectedValue(), target);\n+    }\n+\n+    {\n+        // Scenario 3 (available as RPC test):\n+\n+        // The actor starts with 1x 50.0 BTC, 500x 0.1 BTC and 1000x 0.05 BTC (150.0 BTC total) unspent outputs\n+        // Then tries to spend 49.5 BTC\n+        // A combination of coins should be selected, such that the created transaction is not too large\n+        std::unique_ptr<CWallet> wallet = std::make_unique<CWallet>(m_node.chain.get(), \"\", m_args, CreateMockWalletDatabase());\n+        wallet->LoadWallet();\n+        LOCK(wallet->cs_wallet);\n+        wallet->SetupLegacyScriptPubKeyMan();\n+\n+        CoinsResult available_coins;\n+        for (int j = 0; j < 1000; ++j) {\n+            add_coin(available_coins, *wallet, CAmount(0.05 * COIN), CFeeRate(0), 144, false, 0, true);\n+        }\n+        for (int j = 0; j < 500; ++j) {\n+            add_coin(available_coins, *wallet, CAmount(0.1 * COIN), CFeeRate(0), 144, false, 0, true);\n+        }\n+        add_coin(available_coins, *wallet, CAmount(50 * COIN), CFeeRate(0), 144, false, 0, true);\n+\n+        // Perform selection\n+        const auto result = SelectCoins(*wallet, available_coins, target, cc, cs_params);\n+        BOOST_CHECK(result);\n+        const bool has_0_1_coin = std::any_of(result->GetInputSet().begin(), result->GetInputSet().end(), [](const auto& coin) {\n+            return coin.GetEffectiveValue() == 0.1 * COIN;\n+        });\n+        const bool has_0_05_coin = std::any_of(result->GetInputSet().begin(), result->GetInputSet().end(), [](const auto& coin) {\n+            return coin.GetEffectiveValue() == 0.05 * COIN;\n+        });\n+        const bool has_not_50_coin = std::any_of(result->GetInputSet().begin(), result->GetInputSet().end(), [](const auto& coin) {\n+            return coin.GetEffectiveValue() != 50 * COIN;\n+        });\n+        BOOST_CHECK(has_0_1_coin);\n+        BOOST_CHECK(has_0_05_coin);\n+        BOOST_CHECK(has_not_50_coin);\n+\n+        txDummy.vin.clear();\n+        for (const auto& coin : result->GetInputSet()) {\n+            txDummy.vin.push_back(CTxIn(coin.outpoint, CScript(), 0));\n+        }\n+        const auto txSize = CalculateMaximumSignedTxSize(CTransaction(txDummy), wallet.get(), &cc);\n+        BOOST_CHECK_LE(txSize.weight, MAX_STANDARD_TX_WEIGHT);\n+        BOOST_CHECK_GE(result->GetSelectedValue(), target);\n+    }\n+\n+    {\n+        std::unique_ptr<CWallet> wallet = std::make_unique<CWallet>(m_node.chain.get(), \"\", m_args, CreateMockWalletDatabase());\n+        wallet->LoadWallet();\n+        LOCK(wallet->cs_wallet);\n+        wallet->SetupLegacyScriptPubKeyMan();\n+\n+        CoinsResult available_coins;\n+        for (int j = 0; j < 3000; ++j) {\n+            add_coin(available_coins, *wallet, CAmount(0.017 * COIN), CFeeRate(0), 144, false, 0, true);\n+        }\n+\n+        // Perform selection\n+        const auto result = SelectCoins(*wallet, available_coins, target, cc, cs_params);\n+        BOOST_CHECK(!result);",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": null,
      "original_position": 171,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "original_commit_id": "c9c55455a942165ef0220a430a986c4655ece528",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "A comment for this test case would be nice.",
      "created_at": "2022-09-19T21:18:20Z",
      "updated_at": "2022-09-19T21:18:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#discussion_r974698287",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/974698287"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
        }
      },
      "start_line": null,
      "original_start_line": 1075,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 1048,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/975280056",
      "pull_request_review_id": 1113694871,
      "id": 975280056,
      "node_id": "PRRC_kwDOABII5846IZe4",
      "diff_hunk": "@@ -531,14 +533,27 @@ std::optional<SelectionResult> ChooseSelectionResult(const CWallet& wallet, cons\n         results.push_back(*srd_result);\n     }\n \n-    if (results.size() == 0) {\n+    if (results.empty()) {\n         // No solution found\n         return std::nullopt;\n     }\n \n+    std::vector<SelectionResult> eligible_results;\n+    std::copy_if(results.begin(), results.end(), std::back_inserter(eligible_results), [coin_selection_params](const SelectionResult& result) {\n+        const int weight = std::accumulate(result.GetInputSet().begin(), result.GetInputSet().end(), static_cast<int>(coin_selection_params.tx_noinputs_size * WITNESS_SCALE_FACTOR), [](int acc, const auto& coin) {",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "original_commit_id": "c9c55455a942165ef0220a430a986c4655ece528",
      "in_reply_to_id": 974690021,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Do you know how I can take this into account? I did hear you say \"fuck\" on your stream VOD while reviewing this so I guess that's not trivial?",
      "created_at": "2022-09-20T12:11:25Z",
      "updated_at": "2022-09-20T12:11:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#discussion_r975280056",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/975280056"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 543,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/975531803",
      "pull_request_review_id": 1114065744,
      "id": 975531803,
      "node_id": "PRRC_kwDOABII5846JW8b",
      "diff_hunk": "@@ -531,14 +533,27 @@ std::optional<SelectionResult> ChooseSelectionResult(const CWallet& wallet, cons\n         results.push_back(*srd_result);\n     }\n \n-    if (results.size() == 0) {\n+    if (results.empty()) {\n         // No solution found\n         return std::nullopt;\n     }\n \n+    std::vector<SelectionResult> eligible_results;\n+    std::copy_if(results.begin(), results.end(), std::back_inserter(eligible_results), [coin_selection_params](const SelectionResult& result) {\n+        const int weight = std::accumulate(result.GetInputSet().begin(), result.GetInputSet().end(), static_cast<int>(coin_selection_params.tx_noinputs_size * WITNESS_SCALE_FACTOR), [](int acc, const auto& coin) {",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "original_commit_id": "c9c55455a942165ef0220a430a986c4655ece528",
      "in_reply_to_id": 974690021,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The easiest way to handle this is to change when and how `tx_noinputs_size` is calculated and used. Essentially you need to find everywhere that `tx_noinputs_size` is being set/updated and make sure that the places that use `tx_noinputs_size` for calculations treat it as if it were 0 when SFFO. I don't think this should be too difficult as it is only used within `CreateTransactionInternal` and only for calculating `not_input_fees`.",
      "created_at": "2022-09-20T15:38:23Z",
      "updated_at": "2022-09-20T15:38:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#discussion_r975531803",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/975531803"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 543,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/975778219",
      "pull_request_review_id": 1114424003,
      "id": 975778219,
      "node_id": "PRRC_kwDOABII5846KTGr",
      "diff_hunk": "@@ -531,14 +533,27 @@ std::optional<SelectionResult> ChooseSelectionResult(const CWallet& wallet, cons\n         results.push_back(*srd_result);\n     }\n \n-    if (results.size() == 0) {\n+    if (results.empty()) {\n         // No solution found\n         return std::nullopt;\n     }\n \n+    std::vector<SelectionResult> eligible_results;\n+    std::copy_if(results.begin(), results.end(), std::back_inserter(eligible_results), [coin_selection_params](const SelectionResult& result) {\n+        const int weight = std::accumulate(result.GetInputSet().begin(), result.GetInputSet().end(), static_cast<int>(coin_selection_params.tx_noinputs_size * WITNESS_SCALE_FACTOR), [](int acc, const auto& coin) {",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "original_commit_id": "c9c55455a942165ef0220a430a986c4655ece528",
      "in_reply_to_id": 974690021,
      "user": {
        "login": "Xekyo",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Xekyo",
        "html_url": "https://github.com/Xekyo",
        "followers_url": "https://api.github.com/users/Xekyo/followers",
        "following_url": "https://api.github.com/users/Xekyo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Xekyo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Xekyo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Xekyo/subscriptions",
        "organizations_url": "https://api.github.com/users/Xekyo/orgs",
        "repos_url": "https://api.github.com/users/Xekyo/repos",
        "events_url": "https://api.github.com/users/Xekyo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Xekyo/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I am not surprised that `not_input_fees` would be zero in case of SFFO, but quite surprised that `tx_noinputs_size` would be 0, though. Just given the variable name, I would have expected it to simply be the size of the recipient outputs plus header data, regardless of who pays the fees. Would it perhaps be doable to fix the behavior in that direction, to reduce future developer surprise?",
      "created_at": "2022-09-20T20:18:30Z",
      "updated_at": "2022-09-20T20:18:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#discussion_r975778219",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/975778219"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 543,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/983304809",
      "pull_request_review_id": 1124960121,
      "id": 983304809,
      "node_id": "PRRC_kwDOABII5846nApp",
      "diff_hunk": "@@ -531,14 +533,27 @@ std::optional<SelectionResult> ChooseSelectionResult(const CWallet& wallet, cons\n         results.push_back(*srd_result);\n     }\n \n-    if (results.size() == 0) {\n+    if (results.empty()) {\n         // No solution found\n         return std::nullopt;\n     }\n \n+    std::vector<SelectionResult> eligible_results;\n+    std::copy_if(results.begin(), results.end(), std::back_inserter(eligible_results), [coin_selection_params](const SelectionResult& result) {\n+        const int weight = std::accumulate(result.GetInputSet().begin(), result.GetInputSet().end(), static_cast<int>(coin_selection_params.tx_noinputs_size * WITNESS_SCALE_FACTOR), [](int acc, const auto& coin) {",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "original_commit_id": "c9c55455a942165ef0220a430a986c4655ece528",
      "in_reply_to_id": 974690021,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I applied your advice @achow101 here: https://github.com/bitcoin/bitcoin/compare/32a233773b4536aadecd00a52c897614dc9981b8..9421f362d5e0c6d4c7fe047a23ef7e0676f380b9.\r\nIs this right?\r\n\r\nAlso, maybe we could make `tx_noinputs_size` private and have a getter that returns 0 in case of SFFO?",
      "created_at": "2022-09-29T09:32:03Z",
      "updated_at": "2022-09-29T09:32:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#discussion_r983304809",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/983304809"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 543,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/989588845",
      "pull_request_review_id": 1133781288,
      "id": 989588845,
      "node_id": "PRRC_kwDOABII5846--1t",
      "diff_hunk": "@@ -531,14 +533,27 @@ std::optional<SelectionResult> ChooseSelectionResult(const CWallet& wallet, cons\n         results.push_back(*srd_result);\n     }\n \n-    if (results.size() == 0) {\n+    if (results.empty()) {\n         // No solution found\n         return std::nullopt;\n     }\n \n+    std::vector<SelectionResult> eligible_results;\n+    std::copy_if(results.begin(), results.end(), std::back_inserter(eligible_results), [coin_selection_params](const SelectionResult& result) {\n+        const int weight = std::accumulate(result.GetInputSet().begin(), result.GetInputSet().end(), static_cast<int>(coin_selection_params.tx_noinputs_size * WITNESS_SCALE_FACTOR), [](int acc, const auto& coin) {",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "original_commit_id": "c9c55455a942165ef0220a430a986c4655ece528",
      "in_reply_to_id": 974690021,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "No, that's not what I meant.\r\n\r\nWhat you've done is no different from how it was before. My point was that you need to be using the non-inputs size always, not set it to 0 for SFFO. This size is typically tracked by `tx_noinputs_size`, but it gets set to 0 when SFFO. So you need to find everywhere else (generally in `CreateTransactionInternal`) that `tx_noinputs_size` is used, change it so that it is always calculated, and change the places that expected it to be 0 for SFFO to still use 0 (e.g. with a ternary).",
      "created_at": "2022-10-07T01:03:58Z",
      "updated_at": "2022-10-07T01:03:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#discussion_r989588845",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/989588845"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 543,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/989824305",
      "pull_request_review_id": 1134096222,
      "id": 989824305,
      "node_id": "PRRC_kwDOABII5846_4Ux",
      "diff_hunk": "@@ -531,14 +533,27 @@ std::optional<SelectionResult> ChooseSelectionResult(const CWallet& wallet, cons\n         results.push_back(*srd_result);\n     }\n \n-    if (results.size() == 0) {\n+    if (results.empty()) {\n         // No solution found\n         return std::nullopt;\n     }\n \n+    std::vector<SelectionResult> eligible_results;\n+    std::copy_if(results.begin(), results.end(), std::back_inserter(eligible_results), [coin_selection_params](const SelectionResult& result) {\n+        const int weight = std::accumulate(result.GetInputSet().begin(), result.GetInputSet().end(), static_cast<int>(coin_selection_params.tx_noinputs_size * WITNESS_SCALE_FACTOR), [](int acc, const auto& coin) {",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "original_commit_id": "c9c55455a942165ef0220a430a986c4655ece528",
      "in_reply_to_id": 974690021,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ah okay my bad. I pushed it, should be good?",
      "created_at": "2022-10-07T08:20:21Z",
      "updated_at": "2022-10-07T08:20:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#discussion_r989824305",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/989824305"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 543,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1009765407",
      "pull_request_review_id": 1162398609,
      "id": 1009765407,
      "node_id": "PRRC_kwDOABII5848L8wf",
      "diff_hunk": "@@ -511,14 +513,28 @@ std::optional<SelectionResult> ChooseSelectionResult(const CWallet& wallet, cons\n         results.push_back(*srd_result);\n     }\n \n-    if (results.size() == 0) {\n+    if (results.empty()) {\n         // No solution found\n         return std::nullopt;\n     }\n \n+    std::vector<SelectionResult> eligible_results;\n+    std::copy_if(results.begin(), results.end(), std::back_inserter(eligible_results), [coin_selection_params](const SelectionResult& result) {\n+        const auto initWeight{coin_selection_params.m_subtract_fee_outputs ? 0 : coin_selection_params.tx_noinputs_size * WITNESS_SCALE_FACTOR};",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "original_commit_id": "dbeddc1f7f43c6df293133cd2b12a7187c0e321e",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In dbeddc1f7f43c6df293133cd2b12a7187c0e321e \"wallet: Check max tx weight in coin selector\"\r\n\r\nWe still need to calculate the weight correctly even when subtracting the fee from outputs, so this should not be checking that.\r\n\r\n```suggestion\r\n        const auto initWeight{coin_selection_params.tx_noinputs_size * WITNESS_SCALE_FACTOR};\r\n```",
      "created_at": "2022-10-31T19:03:51Z",
      "updated_at": "2022-10-31T19:21:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#discussion_r1009765407",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1009765407"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 523,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1009772089",
      "pull_request_review_id": 1162398609,
      "id": 1009772089,
      "node_id": "PRRC_kwDOABII5848L-Y5",
      "diff_hunk": "@@ -922,6 +922,169 @@ BOOST_AUTO_TEST_CASE(effective_value_test)\n     BOOST_CHECK_EQUAL(output5.GetEffectiveValue(), nValue); // The effective value should be equal to the absolute value if input_bytes is -1\n }\n \n+static std::optional<SelectionResult> select_coins(const CAmount& target, const CoinSelectionParams& cs_params, const CCoinControl& cc, std::function<CoinsResult(CWallet&)> coin_setup, interfaces::Chain* chain, const ArgsManager& args)\n+{\n+    std::unique_ptr<CWallet> wallet = std::make_unique<CWallet>(chain, \"\", args, CreateMockWalletDatabase());\n+    wallet->LoadWallet();\n+    LOCK(wallet->cs_wallet);\n+    wallet->SetWalletFlag(WALLET_FLAG_DESCRIPTORS);\n+    wallet->SetupDescriptorScriptPubKeyMans();\n+\n+    auto available_coins = coin_setup(*wallet);\n+\n+    const auto result = SelectCoins(*wallet, available_coins, target, cc, cs_params);\n+    if (result) {\n+        const auto signedTxSize = 10 + 34 + 68 * result->GetInputSet().size(); // static header size + output size + inputs size (P2WPKH)\n+        BOOST_CHECK_LE(signedTxSize * WITNESS_SCALE_FACTOR, MAX_STANDARD_TX_WEIGHT);\n+\n+        BOOST_CHECK_GE(result->GetSelectedValue(), target);\n+    }\n+    return result;\n+}\n+\n+BOOST_AUTO_TEST_CASE(check_max_weight)\n+{\n+    const CAmount target = 49.5L * COIN;\n+    CCoinControl cc;\n+\n+    FastRandomContext rand;\n+    CoinSelectionParams cs_params{\n+        rand,\n+        /*change_output_size=*/34,\n+        /*change_spend_size=*/68,\n+        /*min_change_target=*/CENT,\n+        /*effective_feerate=*/CFeeRate(0),\n+        /*long_term_feerate=*/CFeeRate(0),\n+        /*discard_feerate=*/CFeeRate(0),\n+        /*tx_noinputs_size=*/10 + 34, // static header size + output size\n+        /*avoid_partial=*/false,\n+    };\n+\n+    auto chain{m_node.chain.get()};\n+\n+    {\n+        // Scenario 1:\n+        // The actor starts with 1x 50.0 BTC and 1515x 0.033 BTC (~100.0 BTC total) unspent outputs\n+        // Then tries to spend 49.5 BTC\n+        // The 50.0 BTC output should be selected, because the transaction would otherwise be too large\n+\n+        // Perform selection\n+\n+        const auto result = select_coins(\n+            target, cs_params, cc, [&](CWallet& wallet) {\n+                CoinsResult available_coins;\n+                for (int j = 0; j < 1500; ++j) {\n+                    add_coin(available_coins, wallet, CAmount(0.033 * COIN), CFeeRate(0), 144, false, 0, true);\n+                }\n+\n+                add_coin(available_coins, wallet, CAmount(50 * COIN), CFeeRate(0), 144, false, 0, true);\n+                return available_coins;\n+            },\n+            chain, m_args);\n+\n+        BOOST_CHECK(result);\n+        const bool has_50_coin = std::any_of(result->GetInputSet().begin(), result->GetInputSet().end(), [](const auto& coin) {\n+            return coin.GetEffectiveValue() == 50 * COIN;\n+        });\n+        BOOST_CHECK(has_50_coin);\n+    }\n+\n+    {\n+        // Scenario 2:\n+\n+        // The actor starts with 400x 0.0625 BTC and 2000x 0.025 BTC (75.0 BTC total) unspent outputs\n+        // Then tries to spend 49.5 BTC\n+        // A combination of coins should be selected, such that the created transaction is not too large\n+\n+        // Perform selection\n+        const auto result = select_coins(\n+            target, cs_params, cc, [&](CWallet& wallet) {\n+                CoinsResult available_coins;\n+                for (int j = 0; j < 400; ++j) {\n+                    add_coin(available_coins, wallet, CAmount(0.0625 * COIN), CFeeRate(0), 144, false, 0, true);\n+                }\n+                for (int j = 0; j < 2000; ++j) {\n+                    add_coin(available_coins, wallet, CAmount(0.025 * COIN), CFeeRate(0), 144, false, 0, true);\n+                }\n+                return available_coins;\n+            },\n+            chain, m_args);\n+\n+        const bool has_0_0625_coin = std::any_of(result->GetInputSet().begin(), result->GetInputSet().end(), [](const auto& coin) {\n+            return coin.GetEffectiveValue() == 0.0625 * COIN;\n+        });\n+        const bool has_0_025_coin = std::any_of(result->GetInputSet().begin(), result->GetInputSet().end(), [](const auto& coin) {\n+            return coin.GetEffectiveValue() == 0.025 * COIN;\n+        });\n+        const bool has_not_50_coin = std::any_of(result->GetInputSet().begin(), result->GetInputSet().end(), [](const auto& coin) {\n+            return coin.GetEffectiveValue() != 50 * COIN;\n+        });\n+        BOOST_CHECK(has_0_0625_coin);\n+        BOOST_CHECK(has_0_025_coin);\n+        BOOST_CHECK(has_not_50_coin);\n+    }\n+\n+    {\n+        // Scenario 3 (available as RPC test):\n+\n+        // The actor starts with 1x 50.0 BTC, 400x 0.0625 BTC and 2000x 0.025 BTC (125.0 BTC total) unspent outputs\n+        // Then tries to spend 49.5 BTC\n+        // A combination of coins should be selected, such that the created transaction is not too large\n+\n+        // Perform selection\n+        const auto result = select_coins(\n+            target, cs_params, cc, [&](CWallet& wallet) {\n+                CoinsResult available_coins;\n+                for (int j = 0; j < 400; ++j) {\n+                    add_coin(available_coins, wallet, CAmount(0.0625 * COIN), CFeeRate(0), 144, false, 0, true);\n+                }\n+                for (int j = 0; j < 2000; ++j) {\n+                    add_coin(available_coins, wallet, CAmount(0.025 * COIN), CFeeRate(0), 144, false, 0, true);\n+                }\n+                add_coin(available_coins, wallet, CAmount(50 * COIN), CFeeRate(0), 144, false, 0, true);\n+                return available_coins;\n+            },\n+            chain, m_args);\n+\n+        // Perform selection\n+        const bool has_0_025_coin = std::any_of(result->GetInputSet().begin(), result->GetInputSet().end(), [](const auto& coin) {\n+            return coin.GetEffectiveValue() == 0.025 * COIN;\n+        });\n+        const bool has_0_0625_coin = std::any_of(result->GetInputSet().begin(), result->GetInputSet().end(), [](const auto& coin) {\n+            return coin.GetEffectiveValue() == 0.0625 * COIN;\n+        });\n+        const bool has_not_50_coin = std::any_of(result->GetInputSet().begin(), result->GetInputSet().end(), [](const auto& coin) {\n+            return coin.GetEffectiveValue() != 50 * COIN;\n+        });",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": null,
      "original_position": 137,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "original_commit_id": "fc5219f51813b6e9c128d6bc0cc70c63a5edce48",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In fc5219f51813b6e9c128d6bc0cc70c63a5edce48 \"test: Check max transaction weight in CoinSelection\"\r\n\r\nIt's not clear to my why we shouldn't expect the 50 Coin to be picked? ISTM Random selection should eventually find the 50 Coin single input solution and go with that.",
      "created_at": "2022-10-31T19:12:35Z",
      "updated_at": "2022-10-31T19:21:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#discussion_r1009772089",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1009772089"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
        }
      },
      "start_line": null,
      "original_start_line": 1056,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 1058,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1009779128",
      "pull_request_review_id": 1162398609,
      "id": 1009779128,
      "node_id": "PRRC_kwDOABII5848MAG4",
      "diff_hunk": "@@ -922,6 +922,169 @@ BOOST_AUTO_TEST_CASE(effective_value_test)\n     BOOST_CHECK_EQUAL(output5.GetEffectiveValue(), nValue); // The effective value should be equal to the absolute value if input_bytes is -1\n }\n \n+static std::optional<SelectionResult> select_coins(const CAmount& target, const CoinSelectionParams& cs_params, const CCoinControl& cc, std::function<CoinsResult(CWallet&)> coin_setup, interfaces::Chain* chain, const ArgsManager& args)\n+{\n+    std::unique_ptr<CWallet> wallet = std::make_unique<CWallet>(chain, \"\", args, CreateMockWalletDatabase());\n+    wallet->LoadWallet();\n+    LOCK(wallet->cs_wallet);\n+    wallet->SetWalletFlag(WALLET_FLAG_DESCRIPTORS);\n+    wallet->SetupDescriptorScriptPubKeyMans();\n+\n+    auto available_coins = coin_setup(*wallet);\n+\n+    const auto result = SelectCoins(*wallet, available_coins, target, cc, cs_params);\n+    if (result) {\n+        const auto signedTxSize = 10 + 34 + 68 * result->GetInputSet().size(); // static header size + output size + inputs size (P2WPKH)\n+        BOOST_CHECK_LE(signedTxSize * WITNESS_SCALE_FACTOR, MAX_STANDARD_TX_WEIGHT);\n+\n+        BOOST_CHECK_GE(result->GetSelectedValue(), target);\n+    }\n+    return result;\n+}\n+\n+BOOST_AUTO_TEST_CASE(check_max_weight)\n+{\n+    const CAmount target = 49.5L * COIN;\n+    CCoinControl cc;\n+\n+    FastRandomContext rand;\n+    CoinSelectionParams cs_params{\n+        rand,\n+        /*change_output_size=*/34,\n+        /*change_spend_size=*/68,\n+        /*min_change_target=*/CENT,\n+        /*effective_feerate=*/CFeeRate(0),\n+        /*long_term_feerate=*/CFeeRate(0),\n+        /*discard_feerate=*/CFeeRate(0),\n+        /*tx_noinputs_size=*/10 + 34, // static header size + output size\n+        /*avoid_partial=*/false,\n+    };\n+\n+    auto chain{m_node.chain.get()};\n+\n+    {\n+        // Scenario 1:\n+        // The actor starts with 1x 50.0 BTC and 1515x 0.033 BTC (~100.0 BTC total) unspent outputs\n+        // Then tries to spend 49.5 BTC\n+        // The 50.0 BTC output should be selected, because the transaction would otherwise be too large\n+\n+        // Perform selection\n+\n+        const auto result = select_coins(\n+            target, cs_params, cc, [&](CWallet& wallet) {\n+                CoinsResult available_coins;\n+                for (int j = 0; j < 1500; ++j) {",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": null,
      "original_position": 55,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "original_commit_id": "fc5219f51813b6e9c128d6bc0cc70c63a5edce48",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In fc5219f51813b6e9c128d6bc0cc70c63a5edce48 \"test: Check max transaction weight in CoinSelection\"\r\n\r\nThe comment says 1515, but this is only 1500? It seems like 1500 works anyways.",
      "created_at": "2022-10-31T19:20:59Z",
      "updated_at": "2022-10-31T19:21:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#discussion_r1009779128",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1009779128"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 976,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1010370693",
      "pull_request_review_id": 1163252317,
      "id": 1010370693,
      "node_id": "PRRC_kwDOABII5848OQiF",
      "diff_hunk": "@@ -922,6 +922,169 @@ BOOST_AUTO_TEST_CASE(effective_value_test)\n     BOOST_CHECK_EQUAL(output5.GetEffectiveValue(), nValue); // The effective value should be equal to the absolute value if input_bytes is -1\n }\n \n+static std::optional<SelectionResult> select_coins(const CAmount& target, const CoinSelectionParams& cs_params, const CCoinControl& cc, std::function<CoinsResult(CWallet&)> coin_setup, interfaces::Chain* chain, const ArgsManager& args)\n+{\n+    std::unique_ptr<CWallet> wallet = std::make_unique<CWallet>(chain, \"\", args, CreateMockWalletDatabase());\n+    wallet->LoadWallet();\n+    LOCK(wallet->cs_wallet);\n+    wallet->SetWalletFlag(WALLET_FLAG_DESCRIPTORS);\n+    wallet->SetupDescriptorScriptPubKeyMans();\n+\n+    auto available_coins = coin_setup(*wallet);\n+\n+    const auto result = SelectCoins(*wallet, available_coins, target, cc, cs_params);\n+    if (result) {\n+        const auto signedTxSize = 10 + 34 + 68 * result->GetInputSet().size(); // static header size + output size + inputs size (P2WPKH)\n+        BOOST_CHECK_LE(signedTxSize * WITNESS_SCALE_FACTOR, MAX_STANDARD_TX_WEIGHT);\n+\n+        BOOST_CHECK_GE(result->GetSelectedValue(), target);\n+    }\n+    return result;\n+}\n+\n+BOOST_AUTO_TEST_CASE(check_max_weight)\n+{\n+    const CAmount target = 49.5L * COIN;\n+    CCoinControl cc;\n+\n+    FastRandomContext rand;\n+    CoinSelectionParams cs_params{\n+        rand,\n+        /*change_output_size=*/34,\n+        /*change_spend_size=*/68,\n+        /*min_change_target=*/CENT,\n+        /*effective_feerate=*/CFeeRate(0),\n+        /*long_term_feerate=*/CFeeRate(0),\n+        /*discard_feerate=*/CFeeRate(0),\n+        /*tx_noinputs_size=*/10 + 34, // static header size + output size\n+        /*avoid_partial=*/false,\n+    };\n+\n+    auto chain{m_node.chain.get()};\n+\n+    {\n+        // Scenario 1:\n+        // The actor starts with 1x 50.0 BTC and 1515x 0.033 BTC (~100.0 BTC total) unspent outputs\n+        // Then tries to spend 49.5 BTC\n+        // The 50.0 BTC output should be selected, because the transaction would otherwise be too large\n+\n+        // Perform selection\n+\n+        const auto result = select_coins(\n+            target, cs_params, cc, [&](CWallet& wallet) {\n+                CoinsResult available_coins;\n+                for (int j = 0; j < 1500; ++j) {\n+                    add_coin(available_coins, wallet, CAmount(0.033 * COIN), CFeeRate(0), 144, false, 0, true);\n+                }\n+\n+                add_coin(available_coins, wallet, CAmount(50 * COIN), CFeeRate(0), 144, false, 0, true);\n+                return available_coins;\n+            },\n+            chain, m_args);\n+\n+        BOOST_CHECK(result);\n+        const bool has_50_coin = std::any_of(result->GetInputSet().begin(), result->GetInputSet().end(), [](const auto& coin) {\n+            return coin.GetEffectiveValue() == 50 * COIN;\n+        });\n+        BOOST_CHECK(has_50_coin);\n+    }\n+\n+    {\n+        // Scenario 2:\n+\n+        // The actor starts with 400x 0.0625 BTC and 2000x 0.025 BTC (75.0 BTC total) unspent outputs\n+        // Then tries to spend 49.5 BTC\n+        // A combination of coins should be selected, such that the created transaction is not too large\n+\n+        // Perform selection\n+        const auto result = select_coins(\n+            target, cs_params, cc, [&](CWallet& wallet) {\n+                CoinsResult available_coins;\n+                for (int j = 0; j < 400; ++j) {\n+                    add_coin(available_coins, wallet, CAmount(0.0625 * COIN), CFeeRate(0), 144, false, 0, true);\n+                }\n+                for (int j = 0; j < 2000; ++j) {\n+                    add_coin(available_coins, wallet, CAmount(0.025 * COIN), CFeeRate(0), 144, false, 0, true);\n+                }\n+                return available_coins;\n+            },\n+            chain, m_args);\n+\n+        const bool has_0_0625_coin = std::any_of(result->GetInputSet().begin(), result->GetInputSet().end(), [](const auto& coin) {\n+            return coin.GetEffectiveValue() == 0.0625 * COIN;\n+        });\n+        const bool has_0_025_coin = std::any_of(result->GetInputSet().begin(), result->GetInputSet().end(), [](const auto& coin) {\n+            return coin.GetEffectiveValue() == 0.025 * COIN;\n+        });\n+        const bool has_not_50_coin = std::any_of(result->GetInputSet().begin(), result->GetInputSet().end(), [](const auto& coin) {\n+            return coin.GetEffectiveValue() != 50 * COIN;\n+        });\n+        BOOST_CHECK(has_0_0625_coin);\n+        BOOST_CHECK(has_0_025_coin);\n+        BOOST_CHECK(has_not_50_coin);\n+    }\n+\n+    {\n+        // Scenario 3 (available as RPC test):\n+\n+        // The actor starts with 1x 50.0 BTC, 400x 0.0625 BTC and 2000x 0.025 BTC (125.0 BTC total) unspent outputs\n+        // Then tries to spend 49.5 BTC\n+        // A combination of coins should be selected, such that the created transaction is not too large\n+\n+        // Perform selection\n+        const auto result = select_coins(\n+            target, cs_params, cc, [&](CWallet& wallet) {\n+                CoinsResult available_coins;\n+                for (int j = 0; j < 400; ++j) {\n+                    add_coin(available_coins, wallet, CAmount(0.0625 * COIN), CFeeRate(0), 144, false, 0, true);\n+                }\n+                for (int j = 0; j < 2000; ++j) {\n+                    add_coin(available_coins, wallet, CAmount(0.025 * COIN), CFeeRate(0), 144, false, 0, true);\n+                }\n+                add_coin(available_coins, wallet, CAmount(50 * COIN), CFeeRate(0), 144, false, 0, true);\n+                return available_coins;\n+            },\n+            chain, m_args);\n+\n+        // Perform selection\n+        const bool has_0_025_coin = std::any_of(result->GetInputSet().begin(), result->GetInputSet().end(), [](const auto& coin) {\n+            return coin.GetEffectiveValue() == 0.025 * COIN;\n+        });\n+        const bool has_0_0625_coin = std::any_of(result->GetInputSet().begin(), result->GetInputSet().end(), [](const auto& coin) {\n+            return coin.GetEffectiveValue() == 0.0625 * COIN;\n+        });\n+        const bool has_not_50_coin = std::any_of(result->GetInputSet().begin(), result->GetInputSet().end(), [](const auto& coin) {\n+            return coin.GetEffectiveValue() != 50 * COIN;\n+        });",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": null,
      "original_position": 137,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "original_commit_id": "fc5219f51813b6e9c128d6bc0cc70c63a5edce48",
      "in_reply_to_id": 1009772089,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Right, I removed the check. The two other coins should always be present though.",
      "created_at": "2022-11-01T12:28:09Z",
      "updated_at": "2022-11-01T12:28:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#discussion_r1010370693",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1010370693"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
        }
      },
      "start_line": null,
      "original_start_line": 1056,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 1058,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1010816801",
      "pull_request_review_id": 1163923073,
      "id": 1010816801,
      "node_id": "PRRC_kwDOABII5848P9ch",
      "diff_hunk": "@@ -930,6 +931,157 @@ BOOST_AUTO_TEST_CASE(effective_value_test)\n     BOOST_CHECK_EQUAL(output5.GetEffectiveValue(), nValue); // The effective value should be equal to the absolute value if input_bytes is -1\n }\n \n+static std::optional<SelectionResult> select_coins(const CAmount& target, const CoinSelectionParams& cs_params, const CCoinControl& cc, std::function<CoinsResult(CWallet&)> coin_setup, interfaces::Chain* chain, const ArgsManager& args)\n+{\n+    std::unique_ptr<CWallet> wallet = std::make_unique<CWallet>(chain, \"\", args, CreateMockWalletDatabase());\n+    wallet->LoadWallet();\n+    LOCK(wallet->cs_wallet);\n+    wallet->SetWalletFlag(WALLET_FLAG_DESCRIPTORS);\n+    wallet->SetupDescriptorScriptPubKeyMans();\n+\n+    auto available_coins = coin_setup(*wallet);\n+\n+    const auto result = SelectCoins(*wallet, available_coins, /*pre_set_inputs=*/ {}, target, cc, cs_params);\n+    if (result) {\n+        const auto signedTxSize = 10 + 34 + 68 * result->GetInputSet().size(); // static header size + output size + inputs size (P2WPKH)\n+        BOOST_CHECK_LE(signedTxSize * WITNESS_SCALE_FACTOR, MAX_STANDARD_TX_WEIGHT);\n+\n+        BOOST_CHECK_GE(result->GetSelectedValue(), target);\n+    }\n+    return result;\n+}\n+\n+static bool has_coin(const CoinSet& set, CAmount amount)\n+{\n+    return std::any_of(set.begin(), set.end(), [&](const auto& coin) { return coin.GetEffectiveValue() == amount; });\n+}\n+\n+\n+static bool has_not_coin(const CoinSet& set, CAmount amount)\n+{\n+    return std::none_of(set.begin(), set.end(), [&](const auto& coin) { return coin.GetEffectiveValue() == amount; });\n+}\n+\n+BOOST_AUTO_TEST_CASE(check_max_weight)\n+{\n+    const CAmount target = 49.5L * COIN;\n+    CCoinControl cc;\n+\n+    FastRandomContext rand;\n+    CoinSelectionParams cs_params{\n+        rand,\n+        /*change_output_size=*/34,\n+        /*change_spend_size=*/68,\n+        /*min_change_target=*/CENT,\n+        /*effective_feerate=*/CFeeRate(0),\n+        /*long_term_feerate=*/CFeeRate(0),\n+        /*discard_feerate=*/CFeeRate(0),\n+        /*tx_noinputs_size=*/10 + 34, // static header size + output size\n+        /*avoid_partial=*/false,\n+    };\n+\n+    auto chain{m_node.chain.get()};\n+\n+    {\n+        // Scenario 1:\n+        // The actor starts with 1x 50.0 BTC and 1515x 0.033 BTC (~100.0 BTC total) unspent outputs\n+        // Then tries to spend 49.5 BTC\n+        // The 50.0 BTC output should be selected, because the transaction would otherwise be too large\n+\n+        // Perform selection\n+\n+        const auto result = select_coins(\n+            target, cs_params, cc, [&](CWallet& wallet) {\n+                CoinsResult available_coins;\n+                for (int j = 0; j < 1515; ++j) {\n+                    add_coin(available_coins, wallet, CAmount(0.033 * COIN), CFeeRate(0), 144, false, 0, true);\n+                }\n+\n+                add_coin(available_coins, wallet, CAmount(50 * COIN), CFeeRate(0), 144, false, 0, true);\n+                return available_coins;\n+            },\n+            chain, m_args);\n+\n+        BOOST_CHECK(result);\n+        BOOST_CHECK(has_coin(result->GetInputSet(), CAmount(50 * COIN)));\n+    }\n+\n+    {\n+        // Scenario 2:\n+\n+        // The actor starts with 400x 0.0625 BTC and 2000x 0.025 BTC (75.0 BTC total) unspent outputs\n+        // Then tries to spend 49.5 BTC\n+        // A combination of coins should be selected, such that the created transaction is not too large\n+\n+        // Perform selection\n+        const auto result = select_coins(\n+            target, cs_params, cc, [&](CWallet& wallet) {\n+                CoinsResult available_coins;\n+                for (int j = 0; j < 400; ++j) {\n+                    add_coin(available_coins, wallet, CAmount(0.0625 * COIN), CFeeRate(0), 144, false, 0, true);\n+                }\n+                for (int j = 0; j < 2000; ++j) {\n+                    add_coin(available_coins, wallet, CAmount(0.025 * COIN), CFeeRate(0), 144, false, 0, true);\n+                }\n+                return available_coins;\n+            },\n+            chain, m_args);\n+\n+        BOOST_CHECK(has_coin(result->GetInputSet(), CAmount(0.0625 * COIN)));\n+        BOOST_CHECK(has_coin(result->GetInputSet(), CAmount(0.025 * COIN)));\n+        BOOST_CHECK(has_not_coin(result->GetInputSet(), CAmount(50 * COIN)));\n+    }\n+\n+    {\n+        // Scenario 3 (available as RPC test):\n+\n+        // The actor starts with 1x 50.0 BTC, 400x 0.0625 BTC and 2000x 0.025 BTC (125.0 BTC total) unspent outputs\n+        // Then tries to spend 49.5 BTC\n+        // A combination of coins should be selected, such that the created transaction is not too large\n+\n+        // Perform selection\n+        const auto result = select_coins(\n+            target, cs_params, cc, [&](CWallet& wallet) {\n+                CoinsResult available_coins;\n+                for (int j = 0; j < 400; ++j) {\n+                    add_coin(available_coins, wallet, CAmount(0.0625 * COIN), CFeeRate(0), 144, false, 0, true);\n+                }\n+                for (int j = 0; j < 2000; ++j) {\n+                    add_coin(available_coins, wallet, CAmount(0.025 * COIN), CFeeRate(0), 144, false, 0, true);\n+                }\n+                add_coin(available_coins, wallet, CAmount(50 * COIN), CFeeRate(0), 144, false, 0, true);\n+                return available_coins;\n+            },\n+            chain, m_args);\n+\n+        BOOST_CHECK(has_coin(result->GetInputSet(), CAmount(0.025 * COIN)));\n+        BOOST_CHECK(has_coin(result->GetInputSet(), CAmount(0.0625 * COIN)));\n+    }",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": null,
      "original_position": 137,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "original_commit_id": "54ecb044c0ebf40ec06bd192725d6f49dcff90ff",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 54ecb044c0ebf40ec06bd192725d6f49dcff90ff \"test: Check max transaction weight in CoinSelection\"\r\n\r\nIt's not clear to me how this scenario is materially different from scenario 2. It just adds the 50 Coin UTXO and I'm not sure what that actually adds to the test?\r\n\r\nAdditionally, this will fail 1 in 2401 runs as the 50 Coin could be chosen as a single input solution. This would then fail the checks.",
      "created_at": "2022-11-01T19:23:31Z",
      "updated_at": "2022-11-01T19:23:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#discussion_r1010816801",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1010816801"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
        }
      },
      "start_line": null,
      "original_start_line": 1036,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 1026,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1011541069",
      "pull_request_review_id": 1164965997,
      "id": 1011541069,
      "node_id": "PRRC_kwDOABII5848SuRN",
      "diff_hunk": "@@ -930,6 +931,157 @@ BOOST_AUTO_TEST_CASE(effective_value_test)\n     BOOST_CHECK_EQUAL(output5.GetEffectiveValue(), nValue); // The effective value should be equal to the absolute value if input_bytes is -1\n }\n \n+static std::optional<SelectionResult> select_coins(const CAmount& target, const CoinSelectionParams& cs_params, const CCoinControl& cc, std::function<CoinsResult(CWallet&)> coin_setup, interfaces::Chain* chain, const ArgsManager& args)\n+{\n+    std::unique_ptr<CWallet> wallet = std::make_unique<CWallet>(chain, \"\", args, CreateMockWalletDatabase());\n+    wallet->LoadWallet();\n+    LOCK(wallet->cs_wallet);\n+    wallet->SetWalletFlag(WALLET_FLAG_DESCRIPTORS);\n+    wallet->SetupDescriptorScriptPubKeyMans();\n+\n+    auto available_coins = coin_setup(*wallet);\n+\n+    const auto result = SelectCoins(*wallet, available_coins, /*pre_set_inputs=*/ {}, target, cc, cs_params);\n+    if (result) {\n+        const auto signedTxSize = 10 + 34 + 68 * result->GetInputSet().size(); // static header size + output size + inputs size (P2WPKH)\n+        BOOST_CHECK_LE(signedTxSize * WITNESS_SCALE_FACTOR, MAX_STANDARD_TX_WEIGHT);\n+\n+        BOOST_CHECK_GE(result->GetSelectedValue(), target);\n+    }\n+    return result;\n+}\n+\n+static bool has_coin(const CoinSet& set, CAmount amount)\n+{\n+    return std::any_of(set.begin(), set.end(), [&](const auto& coin) { return coin.GetEffectiveValue() == amount; });\n+}\n+\n+\n+static bool has_not_coin(const CoinSet& set, CAmount amount)\n+{\n+    return std::none_of(set.begin(), set.end(), [&](const auto& coin) { return coin.GetEffectiveValue() == amount; });\n+}\n+\n+BOOST_AUTO_TEST_CASE(check_max_weight)\n+{\n+    const CAmount target = 49.5L * COIN;\n+    CCoinControl cc;\n+\n+    FastRandomContext rand;\n+    CoinSelectionParams cs_params{\n+        rand,\n+        /*change_output_size=*/34,\n+        /*change_spend_size=*/68,\n+        /*min_change_target=*/CENT,\n+        /*effective_feerate=*/CFeeRate(0),\n+        /*long_term_feerate=*/CFeeRate(0),\n+        /*discard_feerate=*/CFeeRate(0),\n+        /*tx_noinputs_size=*/10 + 34, // static header size + output size\n+        /*avoid_partial=*/false,\n+    };\n+\n+    auto chain{m_node.chain.get()};\n+\n+    {\n+        // Scenario 1:\n+        // The actor starts with 1x 50.0 BTC and 1515x 0.033 BTC (~100.0 BTC total) unspent outputs\n+        // Then tries to spend 49.5 BTC\n+        // The 50.0 BTC output should be selected, because the transaction would otherwise be too large\n+\n+        // Perform selection\n+\n+        const auto result = select_coins(\n+            target, cs_params, cc, [&](CWallet& wallet) {\n+                CoinsResult available_coins;\n+                for (int j = 0; j < 1515; ++j) {\n+                    add_coin(available_coins, wallet, CAmount(0.033 * COIN), CFeeRate(0), 144, false, 0, true);\n+                }\n+\n+                add_coin(available_coins, wallet, CAmount(50 * COIN), CFeeRate(0), 144, false, 0, true);\n+                return available_coins;\n+            },\n+            chain, m_args);\n+\n+        BOOST_CHECK(result);\n+        BOOST_CHECK(has_coin(result->GetInputSet(), CAmount(50 * COIN)));\n+    }\n+\n+    {\n+        // Scenario 2:\n+\n+        // The actor starts with 400x 0.0625 BTC and 2000x 0.025 BTC (75.0 BTC total) unspent outputs\n+        // Then tries to spend 49.5 BTC\n+        // A combination of coins should be selected, such that the created transaction is not too large\n+\n+        // Perform selection\n+        const auto result = select_coins(\n+            target, cs_params, cc, [&](CWallet& wallet) {\n+                CoinsResult available_coins;\n+                for (int j = 0; j < 400; ++j) {\n+                    add_coin(available_coins, wallet, CAmount(0.0625 * COIN), CFeeRate(0), 144, false, 0, true);\n+                }\n+                for (int j = 0; j < 2000; ++j) {\n+                    add_coin(available_coins, wallet, CAmount(0.025 * COIN), CFeeRate(0), 144, false, 0, true);\n+                }\n+                return available_coins;\n+            },\n+            chain, m_args);\n+\n+        BOOST_CHECK(has_coin(result->GetInputSet(), CAmount(0.0625 * COIN)));\n+        BOOST_CHECK(has_coin(result->GetInputSet(), CAmount(0.025 * COIN)));\n+        BOOST_CHECK(has_not_coin(result->GetInputSet(), CAmount(50 * COIN)));\n+    }\n+\n+    {\n+        // Scenario 3 (available as RPC test):\n+\n+        // The actor starts with 1x 50.0 BTC, 400x 0.0625 BTC and 2000x 0.025 BTC (125.0 BTC total) unspent outputs\n+        // Then tries to spend 49.5 BTC\n+        // A combination of coins should be selected, such that the created transaction is not too large\n+\n+        // Perform selection\n+        const auto result = select_coins(\n+            target, cs_params, cc, [&](CWallet& wallet) {\n+                CoinsResult available_coins;\n+                for (int j = 0; j < 400; ++j) {\n+                    add_coin(available_coins, wallet, CAmount(0.0625 * COIN), CFeeRate(0), 144, false, 0, true);\n+                }\n+                for (int j = 0; j < 2000; ++j) {\n+                    add_coin(available_coins, wallet, CAmount(0.025 * COIN), CFeeRate(0), 144, false, 0, true);\n+                }\n+                add_coin(available_coins, wallet, CAmount(50 * COIN), CFeeRate(0), 144, false, 0, true);\n+                return available_coins;\n+            },\n+            chain, m_args);\n+\n+        BOOST_CHECK(has_coin(result->GetInputSet(), CAmount(0.025 * COIN)));\n+        BOOST_CHECK(has_coin(result->GetInputSet(), CAmount(0.0625 * COIN)));\n+    }",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": null,
      "original_position": 137,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "original_commit_id": "54ecb044c0ebf40ec06bd192725d6f49dcff90ff",
      "in_reply_to_id": 1010816801,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks, I removed it.",
      "created_at": "2022-11-02T10:39:43Z",
      "updated_at": "2022-11-02T10:39:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#discussion_r1011541069",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1011541069"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
        }
      },
      "start_line": null,
      "original_start_line": 1036,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 1026,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1025436595",
      "pull_request_review_id": 1184675586,
      "id": 1025436595,
      "node_id": "PRRC_kwDOABII5849Huuz",
      "diff_hunk": "@@ -557,14 +559,28 @@ std::optional<SelectionResult> ChooseSelectionResult(const CWallet& wallet, cons\n         results.push_back(*srd_result);\n     }\n \n-    if (results.size() == 0) {\n+    if (results.empty()) {\n         // No solution found\n         return std::nullopt;\n     }\n \n+    std::vector<SelectionResult> eligible_results;\n+    std::copy_if(results.begin(), results.end(), std::back_inserter(eligible_results), [coin_selection_params](const SelectionResult& result) {\n+        const auto initWeight{coin_selection_params.tx_noinputs_size * WITNESS_SCALE_FACTOR};\n+        const int weight = std::accumulate(result.GetInputSet().begin(), result.GetInputSet().end(), static_cast<int>(initWeight), [](int acc, const auto& coin) {\n+            return acc + coin.input_bytes * WITNESS_SCALE_FACTOR;\n+        });",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 27,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "original_commit_id": "dc9bce1866f1cce851a216d2c7bfd7a890c27006",
      "in_reply_to_id": null,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Instead of doing this entire for-loop accumulation, what about adding a field `m_weight_sum` to `OutputGroup`?\r\n\r\nInitializing it to `coin_selection_params.tx_noinputs_size * WITNESS_SCALE_FACTOR` in the constructor and increasing it at every output insertion (inside `OutputGroup::Insert`).\r\n\r\nSo, when `SelectionResult::AddInput` gets called, you already have the total weight for each output group. And can just sum it up inside another cache field there.",
      "created_at": "2022-11-17T16:42:28Z",
      "updated_at": "2022-11-17T16:46:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#discussion_r1025436595",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1025436595"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
        }
      },
      "start_line": null,
      "original_start_line": 569,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 572,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1027150572",
      "pull_request_review_id": 1187128851,
      "id": 1027150572,
      "node_id": "PRRC_kwDOABII5849ORLs",
      "diff_hunk": "@@ -436,18 +441,25 @@ void SelectionResult::Clear()\n {\n     m_selected_inputs.clear();\n     m_waste.reset();\n+    m_weight = 0;\n }\n \n void SelectionResult::AddInput(const OutputGroup& group)\n {\n     util::insert(m_selected_inputs, group.m_outputs);\n     m_use_effective = !group.m_subtract_fee_outputs;\n+\n+    m_weight += group.m_weight;\n }\n \n void SelectionResult::AddInputs(const std::set<COutput>& inputs, bool subtract_fee_outputs)\n {\n     util::insert(m_selected_inputs, inputs);\n     m_use_effective = !subtract_fee_outputs;\n+\n+    m_weight += std::accumulate(inputs.cbegin(), inputs.cend(), 0, [](int sum, const auto& coin) {\n+        return sum + std::min(coin.input_bytes, 0) * WITNESS_SCALE_FACTOR;",
      "path": "src/wallet/coinselection.cpp",
      "position": null,
      "original_position": 40,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "original_commit_id": "070ca66bd56c434bef42eb4b00a2a6d4c6a0eccf",
      "in_reply_to_id": null,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Should be `std::max(coin.input_bytes, 0)`.\r\n\r\nOtherwise, this entire sum will be 0 most of the time (it's taking the smaller value between `input_bytes` and 0).",
      "created_at": "2022-11-19T22:11:47Z",
      "updated_at": "2022-11-19T22:12:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#discussion_r1027150572",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1027150572"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 461,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1027158991",
      "pull_request_review_id": 1187139258,
      "id": 1027158991,
      "node_id": "PRRC_kwDOABII5849OTPP",
      "diff_hunk": "@@ -436,18 +441,25 @@ void SelectionResult::Clear()\n {\n     m_selected_inputs.clear();\n     m_waste.reset();\n+    m_weight = 0;\n }\n \n void SelectionResult::AddInput(const OutputGroup& group)\n {\n     util::insert(m_selected_inputs, group.m_outputs);\n     m_use_effective = !group.m_subtract_fee_outputs;\n+\n+    m_weight += group.m_weight;\n }\n \n void SelectionResult::AddInputs(const std::set<COutput>& inputs, bool subtract_fee_outputs)\n {\n     util::insert(m_selected_inputs, inputs);\n     m_use_effective = !subtract_fee_outputs;\n+\n+    m_weight += std::accumulate(inputs.cbegin(), inputs.cend(), 0, [](int sum, const auto& coin) {\n+        return sum + std::min(coin.input_bytes, 0) * WITNESS_SCALE_FACTOR;",
      "path": "src/wallet/coinselection.cpp",
      "position": null,
      "original_position": 40,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "original_commit_id": "070ca66bd56c434bef42eb4b00a2a6d4c6a0eccf",
      "in_reply_to_id": 1027150572,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Right thanks, I confused myself. Pushed.",
      "created_at": "2022-11-19T23:27:33Z",
      "updated_at": "2022-11-19T23:27:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#discussion_r1027158991",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1027158991"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 461,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1028395564",
      "pull_request_review_id": 1188765351,
      "id": 1028395564,
      "node_id": "PRRC_kwDOABII5849TBIs",
      "diff_hunk": "@@ -557,14 +559,24 @@ std::optional<SelectionResult> ChooseSelectionResult(const CWallet& wallet, cons\n         results.push_back(*srd_result);\n     }\n \n-    if (results.size() == 0) {\n+    if (results.empty()) {\n         // No solution found\n         return std::nullopt;\n     }",
      "path": "src/wallet/spend.cpp",
      "position": 20,
      "original_position": 20,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "original_commit_id": "645dd063207d1193c3f244667ba0a70c7621a7d9",
      "in_reply_to_id": null,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "As `std::copy_if` is a no-op if the vector is empty, could remove these lines.",
      "created_at": "2022-11-21T18:29:09Z",
      "updated_at": "2022-11-21T18:37:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#discussion_r1028395564",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1028395564"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
        }
      },
      "start_line": 560,
      "original_start_line": 562,
      "start_side": "RIGHT",
      "line": 563,
      "original_line": 563,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1028401487",
      "pull_request_review_id": 1188765351,
      "id": 1028401487,
      "node_id": "PRRC_kwDOABII5849TClP",
      "diff_hunk": "@@ -930,6 +931,124 @@ BOOST_AUTO_TEST_CASE(effective_value_test)\n     BOOST_CHECK_EQUAL(output5.GetEffectiveValue(), nValue); // The effective value should be equal to the absolute value if input_bytes is -1\n }\n \n+static std::optional<SelectionResult> select_coins(const CAmount& target, const CoinSelectionParams& cs_params, const CCoinControl& cc, std::function<CoinsResult(CWallet&)> coin_setup, interfaces::Chain* chain, const ArgsManager& args)\n+{\n+    std::unique_ptr<CWallet> wallet = std::make_unique<CWallet>(chain, \"\", args, CreateMockWalletDatabase());\n+    wallet->LoadWallet();\n+    LOCK(wallet->cs_wallet);\n+    wallet->SetWalletFlag(WALLET_FLAG_DESCRIPTORS);\n+    wallet->SetupDescriptorScriptPubKeyMans();\n+\n+    auto available_coins = coin_setup(*wallet);\n+\n+    const auto result = SelectCoins(*wallet, available_coins, /*pre_set_inputs=*/ {}, target, cc, cs_params);\n+    if (result) {\n+        const auto signedTxSize = 10 + 34 + 68 * result->GetInputSet().size(); // static header size + output size + inputs size (P2WPKH)\n+        BOOST_CHECK_LE(signedTxSize * WITNESS_SCALE_FACTOR, MAX_STANDARD_TX_WEIGHT);\n+\n+        BOOST_CHECK_GE(result->GetSelectedValue(), target);\n+    }\n+    return result;\n+}\n+\n+static bool has_coin(const CoinSet& set, CAmount amount)\n+{\n+    return std::any_of(set.begin(), set.end(), [&](const auto& coin) { return coin.GetEffectiveValue() == amount; });\n+}\n+\n+BOOST_AUTO_TEST_CASE(check_max_weight)\n+{\n+    const CAmount target = 49.5L * COIN;\n+    CCoinControl cc;\n+\n+    FastRandomContext rand;\n+    CoinSelectionParams cs_params{\n+        rand,\n+        /*change_output_size=*/34,\n+        /*change_spend_size=*/68,\n+        /*min_change_target=*/CENT,\n+        /*effective_feerate=*/CFeeRate(0),\n+        /*long_term_feerate=*/CFeeRate(0),\n+        /*discard_feerate=*/CFeeRate(0),\n+        /*tx_noinputs_size=*/10 + 34, // static header size + output size\n+        /*avoid_partial=*/false,\n+    };\n+\n+    auto chain{m_node.chain.get()};\n+\n+    {\n+        // Scenario 1:\n+        // The actor starts with 1x 50.0 BTC and 1515x 0.033 BTC (~100.0 BTC total) unspent outputs\n+        // Then tries to spend 49.5 BTC\n+        // The 50.0 BTC output should be selected, because the transaction would otherwise be too large\n+\n+        // Perform selection\n+\n+        const auto result = select_coins(\n+            target, cs_params, cc, [&](CWallet& wallet) {\n+                CoinsResult available_coins;\n+                for (int j = 0; j < 1515; ++j) {\n+                    add_coin(available_coins, wallet, CAmount(0.033 * COIN), CFeeRate(0), 144, false, 0, true);\n+                }\n+\n+                add_coin(available_coins, wallet, CAmount(50 * COIN), CFeeRate(0), 144, false, 0, true);\n+                return available_coins;\n+            },\n+            chain, m_args);\n+\n+        BOOST_CHECK(result);\n+        BOOST_CHECK(has_coin(result->GetInputSet(), CAmount(50 * COIN)));",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": 78,
      "original_position": 78,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "original_commit_id": "30b71d1f0ea7e8b69b069713b66e45d472373832",
      "in_reply_to_id": null,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "As this is expecting to find one single output, might be better to do:\r\n\r\n```c++\r\nconst auto& inputs = result->GetInputSet();\r\nBOOST_CHECK_EQUAL(inputs.size(), 1);\r\nBOOST_CHECK_EQUAL(inputs.begin()->GetEffectiveValue(), 50 * COIN);\r\n```",
      "created_at": "2022-11-21T18:36:19Z",
      "updated_at": "2022-11-21T18:37:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#discussion_r1028401487",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1028401487"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1000,
      "original_line": 1000,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1028425231",
      "pull_request_review_id": 1188807554,
      "id": 1028425231,
      "node_id": "PRRC_kwDOABII5849TIYP",
      "diff_hunk": "@@ -930,6 +931,124 @@ BOOST_AUTO_TEST_CASE(effective_value_test)\n     BOOST_CHECK_EQUAL(output5.GetEffectiveValue(), nValue); // The effective value should be equal to the absolute value if input_bytes is -1\n }\n \n+static std::optional<SelectionResult> select_coins(const CAmount& target, const CoinSelectionParams& cs_params, const CCoinControl& cc, std::function<CoinsResult(CWallet&)> coin_setup, interfaces::Chain* chain, const ArgsManager& args)\n+{\n+    std::unique_ptr<CWallet> wallet = std::make_unique<CWallet>(chain, \"\", args, CreateMockWalletDatabase());\n+    wallet->LoadWallet();\n+    LOCK(wallet->cs_wallet);\n+    wallet->SetWalletFlag(WALLET_FLAG_DESCRIPTORS);\n+    wallet->SetupDescriptorScriptPubKeyMans();\n+\n+    auto available_coins = coin_setup(*wallet);\n+\n+    const auto result = SelectCoins(*wallet, available_coins, /*pre_set_inputs=*/ {}, target, cc, cs_params);\n+    if (result) {\n+        const auto signedTxSize = 10 + 34 + 68 * result->GetInputSet().size(); // static header size + output size + inputs size (P2WPKH)\n+        BOOST_CHECK_LE(signedTxSize * WITNESS_SCALE_FACTOR, MAX_STANDARD_TX_WEIGHT);\n+\n+        BOOST_CHECK_GE(result->GetSelectedValue(), target);\n+    }\n+    return result;\n+}\n+\n+static bool has_coin(const CoinSet& set, CAmount amount)\n+{\n+    return std::any_of(set.begin(), set.end(), [&](const auto& coin) { return coin.GetEffectiveValue() == amount; });\n+}\n+\n+BOOST_AUTO_TEST_CASE(check_max_weight)\n+{\n+    const CAmount target = 49.5L * COIN;\n+    CCoinControl cc;\n+\n+    FastRandomContext rand;\n+    CoinSelectionParams cs_params{\n+        rand,\n+        /*change_output_size=*/34,\n+        /*change_spend_size=*/68,\n+        /*min_change_target=*/CENT,\n+        /*effective_feerate=*/CFeeRate(0),\n+        /*long_term_feerate=*/CFeeRate(0),\n+        /*discard_feerate=*/CFeeRate(0),\n+        /*tx_noinputs_size=*/10 + 34, // static header size + output size\n+        /*avoid_partial=*/false,\n+    };\n+\n+    auto chain{m_node.chain.get()};\n+\n+    {\n+        // Scenario 1:\n+        // The actor starts with 1x 50.0 BTC and 1515x 0.033 BTC (~100.0 BTC total) unspent outputs\n+        // Then tries to spend 49.5 BTC\n+        // The 50.0 BTC output should be selected, because the transaction would otherwise be too large\n+\n+        // Perform selection\n+\n+        const auto result = select_coins(\n+            target, cs_params, cc, [&](CWallet& wallet) {\n+                CoinsResult available_coins;\n+                for (int j = 0; j < 1515; ++j) {\n+                    add_coin(available_coins, wallet, CAmount(0.033 * COIN), CFeeRate(0), 144, false, 0, true);\n+                }\n+\n+                add_coin(available_coins, wallet, CAmount(50 * COIN), CFeeRate(0), 144, false, 0, true);\n+                return available_coins;\n+            },\n+            chain, m_args);\n+\n+        BOOST_CHECK(result);\n+        BOOST_CHECK(has_coin(result->GetInputSet(), CAmount(50 * COIN)));",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": 78,
      "original_position": 78,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "original_commit_id": "30b71d1f0ea7e8b69b069713b66e45d472373832",
      "in_reply_to_id": 1028401487,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It appears that there is more than 1 coin selected (hundreds), I'm guessing this is because of UTXO consolidation?\r\nThe 50 BTC coin will always be in the input set though.",
      "created_at": "2022-11-21T19:06:03Z",
      "updated_at": "2022-11-21T19:06:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#discussion_r1028425231",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1028425231"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1000,
      "original_line": 1000,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1028426001",
      "pull_request_review_id": 1188808603,
      "id": 1028426001,
      "node_id": "PRRC_kwDOABII5849TIkR",
      "diff_hunk": "@@ -557,14 +559,24 @@ std::optional<SelectionResult> ChooseSelectionResult(const CWallet& wallet, cons\n         results.push_back(*srd_result);\n     }\n \n-    if (results.size() == 0) {\n+    if (results.empty()) {\n         // No solution found\n         return std::nullopt;\n     }",
      "path": "src/wallet/spend.cpp",
      "position": 20,
      "original_position": 20,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "original_commit_id": "645dd063207d1193c3f244667ba0a70c7621a7d9",
      "in_reply_to_id": 1028395564,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Leaving the `results.empty())` check would also avoid creating the `eligible_results` no?",
      "created_at": "2022-11-21T19:07:01Z",
      "updated_at": "2022-11-21T19:07:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#discussion_r1028426001",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1028426001"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
        }
      },
      "start_line": 560,
      "original_start_line": 562,
      "start_side": "RIGHT",
      "line": 563,
      "original_line": 563,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1029305468",
      "pull_request_review_id": 1190017336,
      "id": 1029305468,
      "node_id": "PRRC_kwDOABII5849WfR8",
      "diff_hunk": "@@ -557,14 +559,24 @@ std::optional<SelectionResult> ChooseSelectionResult(const CWallet& wallet, cons\n         results.push_back(*srd_result);\n     }\n \n-    if (results.size() == 0) {\n+    if (results.empty()) {\n         // No solution found\n         return std::nullopt;\n     }",
      "path": "src/wallet/spend.cpp",
      "position": 20,
      "original_position": 20,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "original_commit_id": "645dd063207d1193c3f244667ba0a70c7621a7d9",
      "in_reply_to_id": 1028395564,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "yes, would only avoid the empty vector initialization.",
      "created_at": "2022-11-22T13:07:38Z",
      "updated_at": "2022-11-22T13:07:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#discussion_r1029305468",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1029305468"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
        }
      },
      "start_line": 560,
      "original_start_line": 562,
      "start_side": "RIGHT",
      "line": 563,
      "original_line": 563,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1029324367",
      "pull_request_review_id": 1190045295,
      "id": 1029324367,
      "node_id": "PRRC_kwDOABII5849Wj5P",
      "diff_hunk": "@@ -930,6 +931,124 @@ BOOST_AUTO_TEST_CASE(effective_value_test)\n     BOOST_CHECK_EQUAL(output5.GetEffectiveValue(), nValue); // The effective value should be equal to the absolute value if input_bytes is -1\n }\n \n+static std::optional<SelectionResult> select_coins(const CAmount& target, const CoinSelectionParams& cs_params, const CCoinControl& cc, std::function<CoinsResult(CWallet&)> coin_setup, interfaces::Chain* chain, const ArgsManager& args)\n+{\n+    std::unique_ptr<CWallet> wallet = std::make_unique<CWallet>(chain, \"\", args, CreateMockWalletDatabase());\n+    wallet->LoadWallet();\n+    LOCK(wallet->cs_wallet);\n+    wallet->SetWalletFlag(WALLET_FLAG_DESCRIPTORS);\n+    wallet->SetupDescriptorScriptPubKeyMans();\n+\n+    auto available_coins = coin_setup(*wallet);\n+\n+    const auto result = SelectCoins(*wallet, available_coins, /*pre_set_inputs=*/ {}, target, cc, cs_params);\n+    if (result) {\n+        const auto signedTxSize = 10 + 34 + 68 * result->GetInputSet().size(); // static header size + output size + inputs size (P2WPKH)\n+        BOOST_CHECK_LE(signedTxSize * WITNESS_SCALE_FACTOR, MAX_STANDARD_TX_WEIGHT);\n+\n+        BOOST_CHECK_GE(result->GetSelectedValue(), target);\n+    }\n+    return result;\n+}\n+\n+static bool has_coin(const CoinSet& set, CAmount amount)\n+{\n+    return std::any_of(set.begin(), set.end(), [&](const auto& coin) { return coin.GetEffectiveValue() == amount; });\n+}\n+\n+BOOST_AUTO_TEST_CASE(check_max_weight)\n+{\n+    const CAmount target = 49.5L * COIN;\n+    CCoinControl cc;\n+\n+    FastRandomContext rand;\n+    CoinSelectionParams cs_params{\n+        rand,\n+        /*change_output_size=*/34,\n+        /*change_spend_size=*/68,\n+        /*min_change_target=*/CENT,\n+        /*effective_feerate=*/CFeeRate(0),\n+        /*long_term_feerate=*/CFeeRate(0),\n+        /*discard_feerate=*/CFeeRate(0),\n+        /*tx_noinputs_size=*/10 + 34, // static header size + output size\n+        /*avoid_partial=*/false,\n+    };\n+\n+    auto chain{m_node.chain.get()};\n+\n+    {\n+        // Scenario 1:\n+        // The actor starts with 1x 50.0 BTC and 1515x 0.033 BTC (~100.0 BTC total) unspent outputs\n+        // Then tries to spend 49.5 BTC\n+        // The 50.0 BTC output should be selected, because the transaction would otherwise be too large\n+\n+        // Perform selection\n+\n+        const auto result = select_coins(\n+            target, cs_params, cc, [&](CWallet& wallet) {\n+                CoinsResult available_coins;\n+                for (int j = 0; j < 1515; ++j) {\n+                    add_coin(available_coins, wallet, CAmount(0.033 * COIN), CFeeRate(0), 144, false, 0, true);\n+                }\n+\n+                add_coin(available_coins, wallet, CAmount(50 * COIN), CFeeRate(0), 144, false, 0, true);\n+                return available_coins;\n+            },\n+            chain, m_args);\n+\n+        BOOST_CHECK(result);\n+        BOOST_CHECK(has_coin(result->GetInputSet(), CAmount(50 * COIN)));",
      "path": "src/wallet/test/coinselector_tests.cpp",
      "position": 78,
      "original_position": 78,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "original_commit_id": "30b71d1f0ea7e8b69b069713b66e45d472373832",
      "in_reply_to_id": 1028401487,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "hmm, privacy wise, sounds odd to add hundreds of UTXO from different external sources when the target amount is being covered only by one of them.. the rest are not needed, they are just leaking information about the wallet and making the tx bigger.\r\n\r\nWill give it a look. It's not something that should block this PR, just a parallel investigation.",
      "created_at": "2022-11-22T13:25:48Z",
      "updated_at": "2022-11-22T13:25:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#discussion_r1029324367",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1029324367"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1000,
      "original_line": 1000,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1040604667",
      "pull_request_review_id": 1206046383,
      "id": 1040604667,
      "node_id": "PRRC_kwDOABII584-Bl37",
      "diff_hunk": "@@ -354,6 +355,10 @@ void OutputGroup::Insert(const COutput& output, size_t ancestors, size_t descend\n     // descendants is the count as seen from the top ancestor, not the descendants as seen from the\n     // coin itself; thus, this value is counted as the max, not the sum\n     m_descendants = std::max(m_descendants, descendants);\n+\n+    if (output.input_bytes > 0) {\n+        m_weight += output.input_bytes * WITNESS_SCALE_FACTOR;",
      "path": "src/wallet/coinselection.cpp",
      "position": 14,
      "original_position": 14,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "original_commit_id": "6b563cae92957dc30dc35103a7c321fdb0115ef3",
      "in_reply_to_id": null,
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "While this is fine for the purposes of this PR, the weight here is not always precise due to rounding error of `input_bytes`.\r\n\r\nIdeally, we would store the actual weight in `COutput` and just take it from there. I realise, this might be out of scope for this PR. But maybe we can add a warning in code for future devs and create an issue in this repo?",
      "created_at": "2022-12-06T07:45:27Z",
      "updated_at": "2022-12-06T07:45:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#discussion_r1040604667",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1040604667"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 360,
      "original_line": 360,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1041002372",
      "pull_request_review_id": 1206636495,
      "id": 1041002372,
      "node_id": "PRRC_kwDOABII584-DG-E",
      "diff_hunk": "@@ -354,6 +355,10 @@ void OutputGroup::Insert(const COutput& output, size_t ancestors, size_t descend\n     // descendants is the count as seen from the top ancestor, not the descendants as seen from the\n     // coin itself; thus, this value is counted as the max, not the sum\n     m_descendants = std::max(m_descendants, descendants);\n+\n+    if (output.input_bytes > 0) {\n+        m_weight += output.input_bytes * WITNESS_SCALE_FACTOR;",
      "path": "src/wallet/coinselection.cpp",
      "position": 14,
      "original_position": 14,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "original_commit_id": "6b563cae92957dc30dc35103a7c321fdb0115ef3",
      "in_reply_to_id": 1040604667,
      "user": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> the weight here is not always precise due to rounding error of input_bytes\r\n\r\nCould elaborate, since both `COutput::input_bytes` and `WITNESS_SCALE_FACTOR` are integer ?",
      "created_at": "2022-12-06T13:52:22Z",
      "updated_at": "2022-12-06T13:52:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#discussion_r1041002372",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1041002372"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 360,
      "original_line": 360,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1041078282",
      "pull_request_review_id": 1206746957,
      "id": 1041078282,
      "node_id": "PRRC_kwDOABII584-DZgK",
      "diff_hunk": "@@ -888,7 +897,7 @@ static util::Result<CreatedTransactionResult> CreateTransactionInternal(\n     }\n \n     // Include the fees for things that aren't inputs, excluding the change output\n-    const CAmount not_input_fees = coin_selection_params.m_effective_feerate.GetFee(coin_selection_params.tx_noinputs_size);\n+    const CAmount not_input_fees = coin_selection_params.m_effective_feerate.GetFee(coin_selection_params.m_subtract_fee_outputs ? 0 : coin_selection_params.tx_noinputs_size);",
      "path": "src/wallet/spend.cpp",
      "position": 68,
      "original_position": 68,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "original_commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "in_reply_to_id": null,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "could:\r\n```suggestion\r\n    const CAmount not_input_fees = coin_selection_params.m_subtract_fee_outputs ? 0 : coin_selection_params.m_effective_feerate.GetFee(coin_selection_params.tx_noinputs_size);\r\n```",
      "created_at": "2022-12-06T14:53:12Z",
      "updated_at": "2022-12-06T14:54:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#discussion_r1041078282",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1041078282"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 900,
      "original_line": 900,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1041226042",
      "pull_request_review_id": 1206970327,
      "id": 1041226042,
      "node_id": "PRRC_kwDOABII584-D9k6",
      "diff_hunk": "@@ -354,6 +355,10 @@ void OutputGroup::Insert(const COutput& output, size_t ancestors, size_t descend\n     // descendants is the count as seen from the top ancestor, not the descendants as seen from the\n     // coin itself; thus, this value is counted as the max, not the sum\n     m_descendants = std::max(m_descendants, descendants);\n+\n+    if (output.input_bytes > 0) {\n+        m_weight += output.input_bytes * WITNESS_SCALE_FACTOR;",
      "path": "src/wallet/coinselection.cpp",
      "position": 14,
      "original_position": 14,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "original_commit_id": "6b563cae92957dc30dc35103a7c321fdb0115ef3",
      "in_reply_to_id": 1040604667,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "1 virtual byte = 4 weight units. When computing vbytes from weight, if the weight is not divisible by 4, the vbytes is rounded up. For example, 6 WU is really 1.5 vbytes, but is rounded to 2 vbytes. Since `input_bytes` stores this rounded number, computing weight from it results in 8 WU rather than the correct value of 6.",
      "created_at": "2022-12-06T16:56:02Z",
      "updated_at": "2022-12-06T16:56:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#discussion_r1041226042",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1041226042"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 360,
      "original_line": 360,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1041228792",
      "pull_request_review_id": 1206974394,
      "id": 1041228792,
      "node_id": "PRRC_kwDOABII584-D-P4",
      "diff_hunk": "@@ -888,7 +897,7 @@ static util::Result<CreatedTransactionResult> CreateTransactionInternal(\n     }\n \n     // Include the fees for things that aren't inputs, excluding the change output\n-    const CAmount not_input_fees = coin_selection_params.m_effective_feerate.GetFee(coin_selection_params.tx_noinputs_size);\n+    const CAmount not_input_fees = coin_selection_params.m_effective_feerate.GetFee(coin_selection_params.m_subtract_fee_outputs ? 0 : coin_selection_params.tx_noinputs_size);",
      "path": "src/wallet/spend.cpp",
      "position": 68,
      "original_position": 68,
      "commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "original_commit_id": "c7c7ee9d0b2d7b303b9300f941e37e09e7d8d8b6",
      "in_reply_to_id": 1041078282,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I would actually rather that `not_input_fees` is always calculated, and the SFFO handling is done for just the target. We really need to try to reduce the number of places that we have differences between normal and SFFO coin selection. Since `not_input_fees` is used elsewhere, having its value be dependent on SFFO results in a cascading effect that I think we should be avoiding.\r\n\r\nBut that can be done in a followup.",
      "created_at": "2022-12-06T16:58:23Z",
      "updated_at": "2022-12-06T16:58:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25729#discussion_r1041228792",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1041228792"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 900,
      "original_line": 900,
      "side": "RIGHT"
    }
  ]
}