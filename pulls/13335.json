{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13335",
    "id": 190867571,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MTkwODY3NTcx",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13335",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/13335.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/13335.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13335",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13335/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13335/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13335/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/06b238bb0cbca4156de07740ce6e144999886d22",
    "number": 13335,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "Implement pinentry wrapper to unlock bitcoin wallet",
    "user": {
      "login": "eklitzke",
      "id": 2734,
      "node_id": "MDQ6VXNlcjI3MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2734?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eklitzke",
      "html_url": "https://github.com/eklitzke",
      "followers_url": "https://api.github.com/users/eklitzke/followers",
      "following_url": "https://api.github.com/users/eklitzke/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/eklitzke/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/eklitzke/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/eklitzke/subscriptions",
      "organizations_url": "https://api.github.com/users/eklitzke/orgs",
      "repos_url": "https://api.github.com/users/eklitzke/repos",
      "events_url": "https://api.github.com/users/eklitzke/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/eklitzke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This adds a new optional build executable called `bitcoin-wallet-unlock`. This program invokes [Pinentry](https://www.gnupg.org/related_software/pinentry/index.en.html) (part of GnuPG) to securely read the user's wallet passphrase. This is intended to be used by users of `bitcion-cli`, as `bitcoin-qt` already reads wallet passphrases securely.\r\n\r\n### Details\r\n\r\nNormally parameters to Bitcoin RPC methods are passed as program arguments to `bitcoin-cli`. This is insecure for `walletpassphrase` for two reasons:\r\n * The passphrase will be leaked to other processes via the command name, e.g. another user running `top` or `ps` might see the passphrase in the clear.\r\n * In all likelihood the command invocation will end up in the user's shell history.\r\n\r\nA commonly cited workaround is to use `bitcoin-cli -stdin walletpassphrase`. In this mode the command arguments are provided to `bitcoin-cli` over stdin, and this allows the user to enter a passphrase (and timeout) without the issues described above. However, it is still not perfect, as `bitcoin-cli` keeps stdin in `ICANON` mode. This means that if you literally type `bitcoin-cli -stdin walletpassphrase` and enter a passphrase and timeout value, the passphrase you type will be echoed on the terminal in the clear. Another person shoulder-surfing will be able to see the cleartext passphrase, as can any process doing a screen capture.\r\n\r\nPinentry solves this problem and a few others. When reading from the TTY, Pinentry disables echoing to the console, which means that shoulder-surfers can't see the passphrase. Pinentry has some other nifty features. For example, if you invoke pinentry from a terminal emulator in a graphical session in most cases it can automatically upgrade to a graphical input method, e.g. using GTK. This is what input looks like by default for me in GNOME when running `bitcoin-wallet-unlock` from a terminal: https://monad.io/bwemqwkg.png\r\n\r\nThis implementation of `bitcoin-wallet-unlock` allows using `-p` to force a particular pinentry backend, and `-t` to force TTY input. Extra arguments passed to `bitcoin-wallet-unlock` will be forwarded to the underlying pinentry program; there's an example of this in the comment for `GetPinentryPassphrase()`. Communication with Pinentry is done using a limited subset of the assuan protocol, which is described [here](http://info2html.sourceforge.net/cgi-bin/info2html-demo/info2html?(pinentry)Protocol).\r\n\r\nThese are the caveats I know of with this PR:\r\n * Since the HTTP client code in `bitcoin-cli` isn't well factored, I am just execing `bitcoin-cli`, rather than actually making the RPC request from the `bitcoin-wallet-unlock` program. This feels a little bit hacky, but minimizes code churn.\r\n * The default behavior is to use a relative path for `bitcoin-cli` and `pinentry` when calling `execvp()`. This could potentially cause a malicious program to be invoked if an attacker can put bad things in the users PATH. This can be mitigated by invoking `bitcoin-wallet-unlock` with absolute paths, e.g. `bitcoin-wallet-unlock -c /usr/bin/bitcoin-cli -p /usr/bin/pinentry`.\r\n * Graphical pinentry methods can delegate to a desktop password manager (e.g. with `gnome-keyring-daemon` on GNOME) when pinentry is linked with libsecret. That is a cool feautre, but I don't enable this because I don't think it's secure (it's trivial to dump the plaintext passwords with these once you're logged in as a user).\r\n * This code is not portable to Windows as it uses `pipe()` and `exec()` (although I suspect most Windows users are using `bitcoin-qt`).",
    "labels": [
      {
        "id": 149424,
        "node_id": "MDU6TGFiZWwxNDk0MjQ=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
        "name": "Wallet",
        "color": "08a781",
        "default": false
      },
      {
        "id": 98279177,
        "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
        "name": "RPC/REST/ZMQ",
        "color": "0052cc",
        "default": false
      },
      {
        "id": 749416508,
        "node_id": "MDU6TGFiZWw3NDk0MTY1MDg=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Up%20for%20grabs",
        "name": "Up for grabs",
        "color": "99a810",
        "default": false
      }
    ],
    "active_lock_reason": "resolved",
    "created_at": "2018-05-28T08:28:54Z",
    "updated_at": "2021-09-08T12:38:19Z",
    "closed_at": "2018-07-29T15:05:41Z",
    "mergeable_state": "unknown",
    "merge_commit_sha": "7b44d45ed88a6ac0b74d1e95d2ca558f48eb3458",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "eklitzke:pinentry",
      "ref": "pinentry",
      "sha": "06b238bb0cbca4156de07740ce6e144999886d22",
      "user": {
        "login": "eklitzke",
        "id": 2734,
        "node_id": "MDQ6VXNlcjI3MzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2734?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/eklitzke",
        "html_url": "https://github.com/eklitzke",
        "followers_url": "https://api.github.com/users/eklitzke/followers",
        "following_url": "https://api.github.com/users/eklitzke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/eklitzke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/eklitzke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/eklitzke/subscriptions",
        "organizations_url": "https://api.github.com/users/eklitzke/orgs",
        "repos_url": "https://api.github.com/users/eklitzke/repos",
        "events_url": "https://api.github.com/users/eklitzke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/eklitzke/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 97648460,
        "node_id": "MDEwOlJlcG9zaXRvcnk5NzY0ODQ2MA==",
        "name": "bitcoin",
        "full_name": "eklitzke/bitcoin",
        "owner": {
          "login": "eklitzke",
          "id": 2734,
          "node_id": "MDQ6VXNlcjI3MzQ=",
          "avatar_url": "https://avatars.githubusercontent.com/u/2734?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/eklitzke",
          "html_url": "https://github.com/eklitzke",
          "followers_url": "https://api.github.com/users/eklitzke/followers",
          "following_url": "https://api.github.com/users/eklitzke/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/eklitzke/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/eklitzke/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/eklitzke/subscriptions",
          "organizations_url": "https://api.github.com/users/eklitzke/orgs",
          "repos_url": "https://api.github.com/users/eklitzke/repos",
          "events_url": "https://api.github.com/users/eklitzke/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/eklitzke/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/eklitzke/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/eklitzke/bitcoin",
        "archive_url": "https://api.github.com/repos/eklitzke/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/eklitzke/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/eklitzke/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/eklitzke/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/eklitzke/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/eklitzke/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/eklitzke/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/eklitzke/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/eklitzke/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/eklitzke/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/eklitzke/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/eklitzke/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/eklitzke/bitcoin/events",
        "forks_url": "https://api.github.com/repos/eklitzke/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/eklitzke/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/eklitzke/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/eklitzke/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/eklitzke/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/eklitzke/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/eklitzke/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/eklitzke/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/eklitzke/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/eklitzke/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/eklitzke/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/eklitzke/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/eklitzke/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/eklitzke/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/eklitzke/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/eklitzke/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:eklitzke/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/eklitzke/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/eklitzke/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/eklitzke/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/eklitzke/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/eklitzke/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/eklitzke/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/eklitzke/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/eklitzke/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/eklitzke/bitcoin/hooks",
        "svn_url": "https://github.com/eklitzke/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 103975,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2018-07-13T17:22:25Z",
        "created_at": "2017-07-18T22:13:42Z",
        "updated_at": "2019-04-13T16:59:04Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "610f4dd719ad690cde480b12665d2ba74284a826",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34324,
        "stargazers_count": 69818,
        "watchers_count": 69818,
        "size": 233879,
        "default_branch": "master",
        "open_issues_count": 627,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-06T22:42:00Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-06-07T00:30:39Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13335"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 382,
    "deletions": 0,
    "changed_files": 4,
    "commits": 1,
    "review_comments": 1,
    "comments": 6
  },
  "events": [
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzowNmIyMzhiYjBjYmNhNDE1NmRlMDc3NDBjZTZlMTQ0OTk5ODg2ZDIy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/06b238bb0cbca4156de07740ce6e144999886d22",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/06b238bb0cbca4156de07740ce6e144999886d22",
      "tree": {
        "sha": "6429278ff9edce617592ba9db6fa43a7d111da98",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6429278ff9edce617592ba9db6fa43a7d111da98"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 6429278ff9edce617592ba9db6fa43a7d111da98\nparent 610f4dd719ad690cde480b12665d2ba74284a826\nauthor Evan Klitzke <evan@eklitzke.org> 1527486482 -0700\ncommitter Evan Klitzke <evan@eklitzke.org> 1527495176 -0700\n\nImplement pinentry wrapper to unlock bitcoin wallet\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQEzBAABCAAdFiEEYlj7NGJl3hK98UMLenZjGAELgsMFAlsLuggACgkQenZjGAEL\ngsNxmgf/ZPlOSLdy5Lg862PxlEBj/c7Uuz2cUF1JldoBoSa8xzwNKlMeKAMZ+i5A\nrvaR+NtpbMORGFPXoSgG0+oJ7Lr716hVBa9kb2NPN7a6+wShN3KIgzlEtNJ/Di8g\nO0vqEnBkcHgkSDvBbjWSNWxl1LgB0F09UQX1o+EN/en0LUY1wUU4+GVJdcftcQfR\nHt7nPHZQYDcBUjVSzsOj5BqFOotb4fOlk0X7CdhveVGGkc1If99sZtmkdCzpM0Hp\n6tCYI2DrNmPHGPu3bK8S1TLIDmEvCu9Pc5uwJ3YspGm1ZSrbFLjnFYrDI8e4OpxV\nev9BdYuaDvqMHl7puIYQLyNWAgrKIw==\n=3ki9\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/610f4dd719ad690cde480b12665d2ba74284a826",
          "sha": "610f4dd719ad690cde480b12665d2ba74284a826",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/610f4dd719ad690cde480b12665d2ba74284a826"
        }
      ],
      "message": "Implement pinentry wrapper to unlock bitcoin wallet",
      "committer": {
        "name": "Evan Klitzke",
        "email": "evan@eklitzke.org",
        "date": "2018-05-28T08:12:56Z"
      },
      "author": {
        "name": "Evan Klitzke",
        "email": "evan@eklitzke.org",
        "date": "2018-05-28T05:48:02Z"
      },
      "sha": "06b238bb0cbca4156de07740ce6e144999886d22"
    },
    {
      "event": "commented",
      "id": 392465922,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM5MjQ2NTkyMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/392465922",
      "actor": {
        "login": "ken2812221",
        "id": 11154118,
        "node_id": "MDQ6VXNlcjExMTU0MTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/11154118?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ken2812221",
        "html_url": "https://github.com/ken2812221",
        "followers_url": "https://api.github.com/users/ken2812221/followers",
        "following_url": "https://api.github.com/users/ken2812221/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ken2812221/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ken2812221/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ken2812221/subscriptions",
        "organizations_url": "https://api.github.com/users/ken2812221/orgs",
        "repos_url": "https://api.github.com/users/ken2812221/repos",
        "events_url": "https://api.github.com/users/ken2812221/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ken2812221/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-28T08:59:12Z",
      "updated_at": "2018-05-28T08:59:12Z",
      "author_association": "CONTRIBUTOR",
      "body": "I don't think it is a good idea to depends on programs. If it could depend on libraries, it would be better.",
      "user": {
        "login": "ken2812221",
        "id": 11154118,
        "node_id": "MDQ6VXNlcjExMTU0MTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/11154118?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ken2812221",
        "html_url": "https://github.com/ken2812221",
        "followers_url": "https://api.github.com/users/ken2812221/followers",
        "following_url": "https://api.github.com/users/ken2812221/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ken2812221/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ken2812221/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ken2812221/subscriptions",
        "organizations_url": "https://api.github.com/users/ken2812221/orgs",
        "repos_url": "https://api.github.com/users/ken2812221/repos",
        "events_url": "https://api.github.com/users/ken2812221/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ken2812221/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13335#issuecomment-392465922",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13335"
    },
    {
      "event": "commented",
      "id": 392524261,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM5MjUyNDI2MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/392524261",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-28T13:15:54Z",
      "updated_at": "2018-05-28T13:17:39Z",
      "author_association": "MEMBER",
      "body": "Concept ACK.\r\n\r\n> I don't think it is a good idea to depends on programs. If it could depend on libraries, it would be better.\r\n\r\nIn general I don't think that's bad advice. But, specifically, reading passphrases might be something that is preferable to do in a separate process address space, to minimize how much it sticks around.",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13335#issuecomment-392524261",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13335"
    },
    {
      "event": "labeled",
      "id": 1651393777,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDE2NTEzOTM3Nzc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1651393777",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-29T15:19:58Z",
      "label": {
        "name": "RPC/REST/ZMQ",
        "color": "0052cc"
      }
    },
    {
      "event": "labeled",
      "id": 1651394296,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDE2NTEzOTQyOTY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1651394296",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-29T15:20:08Z",
      "label": {
        "name": "Wallet",
        "color": "08a781"
      }
    },
    {
      "event": "reviewed",
      "id": 124107438,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTI0MTA3NDM4",
      "url": null,
      "actor": null,
      "commit_id": "06b238bb0cbca4156de07740ce6e144999886d22",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "This seems good. I looked a little at the code. It seems like the main advantage pinentry provides here is GUI integration. Unless I'm missing something, the other benefits cited in the PR description could just as well come from shipping a little bash script like:\r\n\r\n```bash\r\nread -s pass\r\nbitcoin-cli -stdin walletpassphrase <<<\"$pass\"\r\n```",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13335#pullrequestreview-124107438",
      "submitted_at": "2018-05-29T18:12:37Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13335"
    },
    {
      "event": "commented",
      "id": 392883826,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM5Mjg4MzgyNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/392883826",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-29T18:22:33Z",
      "updated_at": "2018-05-29T18:22:46Z",
      "author_association": "MEMBER",
      "body": "It also occurred to me that maybe it would be more convenient for users if instead of providing a \"bitcoin-wallet-unlock\" tool that calls \"bitcoin-cli\", we provided a \"bitcoin-askpass\" tool that could get called by \"bitcoin-cli\" by default when a password wasn't provided.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13335#issuecomment-392883826",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13335"
    },
    {
      "event": "commented",
      "id": 392948153,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM5Mjk0ODE1Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/392948153",
      "actor": {
        "login": "kristapsk",
        "id": 4500994,
        "node_id": "MDQ6VXNlcjQ1MDA5OTQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4500994?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kristapsk",
        "html_url": "https://github.com/kristapsk",
        "followers_url": "https://api.github.com/users/kristapsk/followers",
        "following_url": "https://api.github.com/users/kristapsk/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kristapsk/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kristapsk/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kristapsk/subscriptions",
        "organizations_url": "https://api.github.com/users/kristapsk/orgs",
        "repos_url": "https://api.github.com/users/kristapsk/repos",
        "events_url": "https://api.github.com/users/kristapsk/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kristapsk/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-29T21:16:46Z",
      "updated_at": "2018-05-29T21:16:46Z",
      "author_association": "CONTRIBUTOR",
      "body": "> It also occurred to me that maybe it would be more convenient for users if instead of providing a \"bitcoin-wallet-unlock\" tool that calls \"bitcoin-cli\", we provided a \"bitcoin-askpass\" tool that could get called by \"bitcoin-cli\" by default when a password wasn't provided.\r\n\r\nSomething like this sounds like a very good idea to me. I don't put `walletpassphrase` in my scripts and very often I forgot to run it manually and it's little bit annoying. :)\r\n\r\nProbably good idea would also be to ask for `walletpassphrase` and then automatically lock wallet again when the PID which called `bitcoin-cli`, which caused `walletpassphrase` prompt, has terminated.",
      "user": {
        "login": "kristapsk",
        "id": 4500994,
        "node_id": "MDQ6VXNlcjQ1MDA5OTQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4500994?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kristapsk",
        "html_url": "https://github.com/kristapsk",
        "followers_url": "https://api.github.com/users/kristapsk/followers",
        "following_url": "https://api.github.com/users/kristapsk/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kristapsk/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kristapsk/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kristapsk/subscriptions",
        "organizations_url": "https://api.github.com/users/kristapsk/orgs",
        "repos_url": "https://api.github.com/users/kristapsk/repos",
        "events_url": "https://api.github.com/users/kristapsk/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kristapsk/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13335#issuecomment-392948153",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13335"
    },
    {
      "event": "commented",
      "id": 393077641,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM5MzA3NzY0MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/393077641",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-30T08:34:04Z",
      "updated_at": "2018-05-30T08:34:04Z",
      "author_association": "CONTRIBUTOR",
      "body": "I think providing users a way how to securely enter a passphrase on console level make sense.\r\nA couple of points/thoughts:\r\n\r\n* Unlocking the traditional, insecure way would still be possible, would it make sense to make users aware if they use an insecure way? Bitcoin-cli could integrate the pinentry process and use a `-insecure` option if one wants to use `walletpassphrase` with the insecure passphrase parameter. Using it on pure RPC level is another things (we don't want to handhold there).\r\n\r\n* Similar to the point above, I think it should be integrated into bitcoin-cli (not another executable, if, then combined with other wallet functions, see #8745)\r\n\r\n* If not integrated, could this be something that would be better in the contrib/ folder since there are other ways how to do this securely (see @ryanofsky comment)\r\n\r\n* Also, using external software for passphrase entry would move a critical part further away from our controlled stack (shell is not in our controlled stack, so not sure if this is an argument).\r\n\r\n* If this gets added to the main binaries, disable it by default (via configure.ac) for the first (or the first two) releases would probably make sense, since this is security critical and deserves more field test before defaulting to true.",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13335#issuecomment-393077641",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13335"
    },
    {
      "event": "mentioned",
      "id": 1652951464,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTY1Mjk1MTQ2NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1652951464",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-30T08:34:04Z"
    },
    {
      "event": "subscribed",
      "id": 1652951465,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE2NTI5NTE0NjU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1652951465",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-30T08:34:04Z"
    },
    {
      "event": "labeled",
      "id": 1758919776,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDE3NTg5MTk3NzY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1758919776",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-07-29T15:04:31Z",
      "label": {
        "name": "Up for grabs",
        "color": "99a810"
      }
    },
    {
      "event": "commented",
      "id": 408683899,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQwODY4Mzg5OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/408683899",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-07-29T15:05:41Z",
      "updated_at": "2018-07-29T15:05:41Z",
      "author_association": "MEMBER",
      "body": "No activity for 2 months and travis is failing, so I marked this up for grabs to be submitted in a new pull request.",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13335#issuecomment-408683899",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13335"
    },
    {
      "event": "closed",
      "id": 1758920126,
      "node_id": "MDExOkNsb3NlZEV2ZW50MTc1ODkyMDEyNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1758920126",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-07-29T15:05:41Z"
    },
    {
      "event": "locked",
      "id": 5272034160,
      "node_id": "LOE_lADOABII584TfL0PzwAAAAE6PNtw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5272034160",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-08T12:38:19Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/191519710",
      "pull_request_review_id": 124107438,
      "id": 191519710,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5MTUxOTcxMA==",
      "diff_hunk": "@@ -0,0 +1,361 @@\n+// Copyright (c) 2009-2017 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <errno.h>\n+#include <getopt.h>\n+#include <sys/types.h>\n+#include <sys/wait.h>\n+#include <unistd.h>\n+\n+#include <cstdio>\n+#include <cstring>\n+#include <iostream>\n+#include <sstream>\n+\n+void xclose(int fd)\n+{\n+    if (close(fd) == -1) {\n+        std::ostringstream os;\n+        os << \"close(): \" << strerror(errno);\n+        throw std::runtime_error(os.str());\n+    }\n+}\n+\n+void xdup2(int oldfd, int newfd)\n+{\n+    if (dup2(oldfd, newfd) == -1) {\n+        std::ostringstream os;\n+        os << \"dup2(): \" << strerror(errno);\n+        throw std::runtime_error(os.str());\n+    }\n+}\n+\n+void xpipe(int pipefd[2])\n+{\n+    if (pipe(pipefd) == -1) {\n+        std::ostringstream os;\n+        os << \"pipe(): \" << strerror(errno);\n+        throw std::runtime_error(os.str());\n+    }\n+}\n+\n+pid_t xfork()\n+{\n+    pid_t pid = fork();\n+    if (pid == -1) {\n+        std::ostringstream os;\n+        os << \"fork(): \" << strerror(errno);\n+        throw std::runtime_error(os.str());\n+    }\n+    return pid;\n+}\n+\n+// Pinentry is a simple wrapper for pinentry, which communicates with its parent\n+// process using a simplified subset of the assuan protcol over stdin/stdout.\n+// The relevant aspects of the pinentry protocol are documented at\n+// http://info2html.sourceforge.net/cgi-bin/info2html-demo/info2html?%28pinentry%29Protocol\n+class Pinentry\n+{\n+public:\n+    Pinentry() = delete;\n+    Pinentry(const Pinentry& other) = delete;\n+    Pinentry(int read, int write)\n+        : read_(fdopen(read, \"r\")), write_(fdopen(write, \"w\")), line_(nullptr), line_sz_(0) {}\n+    ~Pinentry()\n+    {\n+        fclose(read_);\n+        fclose(write_);\n+        free(line_);\n+    }\n+\n+    void CheckOK()\n+    {\n+        ReadLine();\n+        if (strncmp(line_, \"OK\", 2) != 0) {\n+            throw std::runtime_error(\"pinentry protocol failure\");\n+        }\n+    }\n+\n+    std::string ReadData()\n+    {\n+        size_t sz = ReadLine();\n+        if (strncmp(line_, \"D \", 2) != 0) {\n+            throw std::runtime_error(\"pinentry protocol failure\");\n+        }\n+        return {&line_[2], sz - 3};\n+    }\n+\n+    void Command(const std::string& cmd)\n+    {\n+        fprintf(write_, \"%s\\n\", cmd.c_str());\n+        fflush(write_);\n+    }\n+\n+private:\n+    FILE* read_;\n+    FILE* write_;\n+    char* line_;\n+    size_t line_sz_;\n+\n+    ssize_t ReadLine()\n+    {\n+        ssize_t nread = getline(&line_, &line_sz_, read_);\n+        if (nread < 0) {\n+            throw std::runtime_error(\"failed to read data from pinentry\");\n+        }\n+        return nread;\n+    }\n+};\n+\n+// GetPinentryPassphrase invokes pinentry to get the wallet passphrase.\n+//\n+// If there were extra parameters not parsed by getopt_long() they will be\n+// forwarded to pinentry. Consider the following invocation:\n+//\n+//   bitcoin-wallet-unlock 300 -- -D :0\n+//\n+// This would cause pinentry to be invoked as:\n+//\n+//   pinentry -D :0\n+//\n+// Ordinarily this is not needed, but this can be useful in contexts where\n+// pinentry has to be explicitly told where to prompt for inputs (e.g. to force\n+// pinentry to use a TTY, or the opposite). In most cases they will need to be\n+// separated using -- as in the example above to prevent getopt_long() to\n+// interpret these arguments as program flags.\n+//\n+// These extra arguments are forwarded directly to execvp(), so there are no\n+// shell expansion or escaping issues to be aware of.\n+static std::string GetPinentryPassphrase(",
      "path": "src/bitcoin-wallet-unlock.cpp",
      "position": 130,
      "original_position": 130,
      "commit_id": "06b238bb0cbca4156de07740ce6e144999886d22",
      "original_commit_id": "06b238bb0cbca4156de07740ce6e144999886d22",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Does it make sense to use SecureString type in some of these places?",
      "created_at": "2018-05-29T18:03:32Z",
      "updated_at": "2018-05-29T18:12:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/13335#discussion_r191519710",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/191519710"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13335"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 130,
      "original_line": 130,
      "side": "RIGHT"
    }
  ]
}