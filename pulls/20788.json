{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788",
    "id": 546149987,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NTQ2MTQ5OTg3",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20788",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/20788.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/20788.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20788",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20788/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
    "number": 20788,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "net: add RAII socket and use it instead of bare SOCKET",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Introduce a class to manage the lifetime of a socket - when the object\r\nthat contains the socket goes out of scope, the underlying socket will\r\nbe closed.\r\n\r\nIn addition, the new `Sock` class has a `Send()`, `Recv()` and `Wait()`\r\nmethods that can be overridden by unit tests to mock the socket\r\noperations.\r\n\r\nThe `Wait()` method also hides the\r\n`#ifdef USE_POLL poll() #else select() #endif` technique from higher\r\nlevel code.",
    "labels": [
      {
        "id": 98298007,
        "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
        "name": "P2P",
        "color": "006b75",
        "default": false
      }
    ],
    "active_lock_reason": "resolved",
    "created_at": "2020-12-28T16:12:30Z",
    "updated_at": "2022-08-16T17:04:23Z",
    "closed_at": "2021-02-11T13:07:57Z",
    "mergeable_state": "unknown",
    "merged_at": "2021-02-11T13:07:57Z",
    "merge_commit_sha": "a1be08405d9bbf771a965dc170ce85ea1ad034c7",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "vasild:sock",
      "ref": "sock",
      "sha": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 120608826,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMjA2MDg4MjY=",
        "name": "bitcoin",
        "full_name": "vasild/bitcoin",
        "owner": {
          "login": "vasild",
          "id": 266751,
          "node_id": "MDQ6VXNlcjI2Njc1MQ==",
          "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/vasild",
          "html_url": "https://github.com/vasild",
          "followers_url": "https://api.github.com/users/vasild/followers",
          "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
          "organizations_url": "https://api.github.com/users/vasild/orgs",
          "repos_url": "https://api.github.com/users/vasild/repos",
          "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/vasild/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/vasild/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/vasild/bitcoin",
        "archive_url": "https://api.github.com/repos/vasild/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/vasild/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/vasild/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/vasild/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/vasild/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/vasild/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/vasild/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/vasild/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/vasild/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/vasild/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/vasild/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/vasild/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/vasild/bitcoin/events",
        "forks_url": "https://api.github.com/repos/vasild/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/vasild/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/vasild/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/vasild/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/vasild/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/vasild/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/vasild/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/vasild/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/vasild/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/vasild/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/vasild/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/vasild/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/vasild/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/vasild/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/vasild/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/vasild/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:vasild/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/vasild/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/vasild/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/vasild/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/vasild/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/vasild/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/vasild/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/vasild/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/vasild/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/vasild/bitcoin/hooks",
        "svn_url": "https://github.com/vasild/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 3,
        "watchers_count": 3,
        "size": 211824,
        "default_branch": "master",
        "open_issues_count": 2,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-06T10:22:48Z",
        "created_at": "2018-02-07T11:52:47Z",
        "updated_at": "2023-01-31T16:56:52Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "dd0521b6408af5b9e0563e19eb500896568b3386",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34324,
        "stargazers_count": 69819,
        "watchers_count": 69819,
        "size": 233879,
        "default_branch": "master",
        "open_issues_count": 627,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-06T22:42:00Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-06-07T04:47:18Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 527,
    "deletions": 147,
    "changed_files": 11,
    "commits": 6,
    "review_comments": 38,
    "comments": 26
  },
  "events": [
    {
      "event": "commented",
      "id": 751770419,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc1MTc3MDQxOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/751770419",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-12-28T16:18:16Z",
      "updated_at": "2020-12-28T16:18:16Z",
      "author_association": "MEMBER",
      "body": "The following two PRs would benefit from this:\r\n\r\n* https://github.com/bitcoin/bitcoin/pull/19203 would only need to add the fuzzing test and the mocked/fuzzed `Sock` implementation (last commit from that PR).\r\n* https://github.com/bitcoin/bitcoin/pull/20685 would become smaller. `Sock` originated there and that PR contains a copy of it. So if this PR gets merged, then the size of #20685 will be reduced.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#issuecomment-751770419",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20788"
    },
    {
      "event": "reviewed",
      "id": 559212963,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU5MjEyOTYz",
      "url": null,
      "actor": null,
      "commit_id": "99b8e88a15cb12483f28079d0f91fe8cf361da56",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "left a style comment, no other review. Feel free to ignore.",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#pullrequestreview-559212963",
      "submitted_at": "2020-12-28T16:28:00Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
    },
    {
      "event": "labeled",
      "id": 4152531626,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQxNTI1MzE2MjY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4152531626",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-12-28T16:47:49Z",
      "label": {
        "name": "Build system",
        "color": "5319e7"
      }
    },
    {
      "event": "labeled",
      "id": 4152531627,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQxNTI1MzE2Mjc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4152531627",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-12-28T16:47:49Z",
      "label": {
        "name": "P2P",
        "color": "006b75"
      }
    },
    {
      "event": "reviewed",
      "id": 559223526,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU5MjIzNTI2",
      "url": null,
      "actor": null,
      "commit_id": "99b8e88a15cb12483f28079d0f91fe8cf361da56",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK, was unable to build this pull @ 99b8e88a15cb12483f28079d0f91fe8cf361da56\r\n\r\n<details><summary>build error output</summary><p>\r\n\r\n```\r\n$ gcc --version\r\ngcc (Debian 10.2.1-1) 10.2.1 20201207\r\n\r\n.../...\r\n\r\n  AR       qt/libbitcoinqt.a\r\n/usr/bin/ld: libbitcoin_common.a(libbitcoin_common_a-netbase.o): in function `std::_MakeUniq<Sock>::__single_object std::make_unique<Sock, unsigned int&>(unsigned int&)':\r\n/usr/include/c++/10/bits/unique_ptr.h:962: undefined reference to `Sock::Sock(unsigned int)'\r\n  CXXLD    qt/bitcoin-qt\r\n  CXXLD    bitcoin-gui\r\n/usr/bin/ld: libbitcoin_common.a(libbitcoin_common_a-netbase.o): in function `std::_MakeUniq<Sock>::__single_object std::make_unique<Sock, unsigned int&>(unsigned int&)':\r\n/usr/include/c++/10/bits/unique_ptr.h:962: undefined reference to `Sock::Sock(unsigned int)'\r\ncollect2: error: ld returned 1 exit status\r\nmake[2]: *** [Makefile:5503: bitcoin-node] Error 1\r\nmake[2]: *** Waiting for unfinished jobs....\r\ncollect2: error: ld returned 1 exit status\r\nmake[2]: *** [Makefile:5515: bitcoind] Error 1\r\n/usr/bin/ld: libbitcoin_common.a(libbitcoin_common_a-netbase.o): in function `std::_MakeUniq<Sock>::__single_object std::make_unique<Sock, unsigned int&>(unsigned int&)':\r\n/usr/include/c++/10/bits/unique_ptr.h:962: undefined reference to `Sock::Sock(unsigned int)'\r\n/usr/bin/ld: libbitcoin_common.a(libbitcoin_common_a-netbase.o): in function `std::_MakeUniq<Sock>::__single_object std::make_unique<Sock, unsigned int&>(unsigned int&)':\r\n/usr/include/c++/10/bits/unique_ptr.h:962: undefined reference to `Sock::Sock(unsigned int)'\r\ncollect2: error: ld returned 1 exit status\r\nmake[2]: *** [Makefile:5521: qt/bitcoin-qt] Error 1\r\ncollect2: error: ld returned 1 exit status\r\nmake[2]: *** [Makefile:5499: bitcoin-gui] Error 1\r\nmake[2]: Leaving directory '/home/jon/projects/bitcoin/bitcoin/src'\r\nmake[1]: *** [Makefile:14882: all-recursive] Error 1\r\nmake[1]: Leaving directory '/home/jon/projects/bitcoin/bitcoin/src'\r\nmake: *** [Makefile:806: all-recursive] Error 1\r\n```\r\n</p></summary>\r\n",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#pullrequestreview-559223526",
      "submitted_at": "2020-12-28T16:56:59Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
    },
    {
      "event": "commented",
      "id": 751790123,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc1MTc5MDEyMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/751790123",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-12-28T17:07:35Z",
      "updated_at": "2021-02-06T20:43:39Z",
      "author_association": "MEMBER",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #21015 (Make all of net_processing (and some of net) use std::chrono types by dhruv)\n* #20685 (Add I2P support using I2P SAM by vasild)\n* #19415 (net: Make DNS lookup mockable, add fuzzing harness by practicalswift)\n* #19203 (net: Add regression fuzz harness for CVE-2017-18350. Add FuzzedSocket. Add thin SOCKET wrapper. by practicalswift)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#issuecomment-751790123",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20788"
    },
    {
      "event": "reviewed",
      "id": 559273398,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU5MjczMzk4",
      "url": null,
      "actor": null,
      "commit_id": "99b8e88a15cb12483f28079d0f91fe8cf361da56",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "lontivero",
        "id": 127973,
        "node_id": "MDQ6VXNlcjEyNzk3Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127973?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lontivero",
        "html_url": "https://github.com/lontivero",
        "followers_url": "https://api.github.com/users/lontivero/followers",
        "following_url": "https://api.github.com/users/lontivero/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/lontivero/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/lontivero/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/lontivero/subscriptions",
        "organizations_url": "https://api.github.com/users/lontivero/orgs",
        "repos_url": "https://api.github.com/users/lontivero/repos",
        "events_url": "https://api.github.com/users/lontivero/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/lontivero/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#pullrequestreview-559273398",
      "submitted_at": "2020-12-28T19:26:26Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
    },
    {
      "event": "commented",
      "id": 751861963,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc1MTg2MTk2Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/751861963",
      "actor": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-12-28T20:57:34Z",
      "updated_at": "2020-12-28T20:57:34Z",
      "author_association": "CONTRIBUTOR",
      "body": "Strong concept ACK\r\n\r\nThis abstraction would be extremely useful to have when fuzzing low-level networking code.",
      "user": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#issuecomment-751861963",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20788"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4157016567,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDE1NzAxNjU2Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4157016567",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-12-30T11:32:37Z"
    },
    {
      "event": "commented",
      "id": 752448197,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc1MjQ0ODE5Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/752448197",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-12-30T11:37:19Z",
      "updated_at": "2020-12-30T11:37:19Z",
      "author_association": "MEMBER",
      "body": "99b8e88a1...408a9473b: moved the `Sock` class inside `netbase.cpp` to resolve a [circular dependency](https://github.com/bitcoin/bitcoin/pull/20788#discussion_r549799438).\r\n\r\nAnother option would be to keep the `Sock` class in its own file `src/sock.cpp` or `src/util/sock.cpp`. Since it uses `MillisToTimeval()` and `CloseSocket()` they would have to be moved out of `netbase.cpp`.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#issuecomment-752448197",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20788"
    },
    {
      "event": "reviewed",
      "id": 560106469,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYwMTA2NDY5",
      "url": null,
      "actor": null,
      "commit_id": "408a9473bed6b3be82b124c171435247100b9d34",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Tested approach ACK 408a9473bed6b3be82b124c171435247100b9d34 (modulo missing test coverage?)\r\n\r\n- moving the Sock class to its own file and the common deps to a utility seems appealing, at least in principle, not sure in practice\r\n- review of the diff would be easier and nicer, and there would be less unnecessary churn and risk of overlooking a regression, if unneeded formatting and line break changes were not added when only an argument in the function signature is being updated\r\n- do you plan to add unit tests for the Sock class?\r\n",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#pullrequestreview-560106469",
      "submitted_at": "2020-12-30T16:20:30Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
    },
    {
      "event": "reviewed",
      "id": 560112136,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYwMTEyMTM2",
      "url": null,
      "actor": null,
      "commit_id": "408a9473bed6b3be82b124c171435247100b9d34",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "I've finished the review. Only two comments.",
      "user": {
        "login": "lontivero",
        "id": 127973,
        "node_id": "MDQ6VXNlcjEyNzk3Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127973?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lontivero",
        "html_url": "https://github.com/lontivero",
        "followers_url": "https://api.github.com/users/lontivero/followers",
        "following_url": "https://api.github.com/users/lontivero/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/lontivero/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/lontivero/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/lontivero/subscriptions",
        "organizations_url": "https://api.github.com/users/lontivero/orgs",
        "repos_url": "https://api.github.com/users/lontivero/repos",
        "events_url": "https://api.github.com/users/lontivero/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/lontivero/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#pullrequestreview-560112136",
      "submitted_at": "2020-12-30T16:26:22Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
    },
    {
      "event": "commented",
      "id": 752967726,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc1Mjk2NzcyNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/752967726",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-12-31T14:08:47Z",
      "updated_at": "2020-12-31T14:08:47Z",
      "author_association": "MEMBER",
      "body": "Concept ACK. Is there any reason not to use the `Sock` object in `CNode`?",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#issuecomment-752967726",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20788"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4159745657,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDE1OTc0NTY1Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4159745657",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-12-31T14:14:25Z"
    },
    {
      "event": "commented",
      "id": 752969218,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc1Mjk2OTIxOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/752969218",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-12-31T14:14:38Z",
      "updated_at": "2020-12-31T14:14:38Z",
      "author_association": "MEMBER",
      "body": "408a9473b...8fc63e344: fixed a typo and removed unused parameter",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#issuecomment-752969218",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20788"
    },
    {
      "event": "commented",
      "id": 752975368,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc1Mjk3NTM2OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/752975368",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-12-31T14:35:28Z",
      "updated_at": "2020-12-31T14:35:28Z",
      "author_association": "MEMBER",
      "body": "@jonatack \r\n\r\n> moving the Sock class to its own file and the common deps to a utility seems appealing\r\n\r\nI will try this. Opinions, anybody? That would mean:\r\n* Move `Sock` from `netbase.cpp` to `util/sock.cpp`\r\n* Move `MillisToTimeval()` from `netbase.cpp` to `util/where?`\r\n* Move `CloseSocket()` from `netbase.cpp` to `util/where?` (it uses `LogPrintf()`)\r\n\r\n> do you plan to add unit tests for the Sock class?\r\n\r\nI did not but any ideas are welcome. I think it may be required to create a TCP server and client and do some communication between them to check that `send()` is indeed being called by the `Send()` method. May be an overkill, given that the `Send()` method is 1 line.\r\n\r\nI don't know how to reliably check if the socket was closed by the destructor, given that the same file descriptor number could be assigned to a newly created socket (or opened file) after we close it.\r\n\r\n@jnewbery \r\n\r\n> Is there any reason not to use the `Sock` object in `CNode`?\r\n\r\nNo, other than minimizing the size of this PR. See also https://github.com/bitcoin/bitcoin/pull/20788#discussion_r549718454 :-)",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#issuecomment-752975368",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20788"
    },
    {
      "event": "mentioned",
      "id": 4159774528,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDE1OTc3NDUyOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4159774528",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-12-31T14:35:28Z"
    },
    {
      "event": "subscribed",
      "id": 4159774531,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQxNTk3NzQ1MzE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4159774531",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-12-31T14:35:28Z"
    },
    {
      "event": "mentioned",
      "id": 4159774532,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDE1OTc3NDUzMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4159774532",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-12-31T14:35:28Z"
    },
    {
      "event": "subscribed",
      "id": 4159774536,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQxNTk3NzQ1MzY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4159774536",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-12-31T14:35:28Z"
    },
    {
      "event": "commented",
      "id": 752998925,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc1Mjk5ODkyNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/752998925",
      "actor": {
        "login": "lontivero",
        "id": 127973,
        "node_id": "MDQ6VXNlcjEyNzk3Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127973?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lontivero",
        "html_url": "https://github.com/lontivero",
        "followers_url": "https://api.github.com/users/lontivero/followers",
        "following_url": "https://api.github.com/users/lontivero/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/lontivero/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/lontivero/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/lontivero/subscriptions",
        "organizations_url": "https://api.github.com/users/lontivero/orgs",
        "repos_url": "https://api.github.com/users/lontivero/repos",
        "events_url": "https://api.github.com/users/lontivero/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/lontivero/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-12-31T16:23:14Z",
      "updated_at": "2020-12-31T16:23:14Z",
      "author_association": "CONTRIBUTOR",
      "body": "I agree with moving it to its own file and with adding UTs for it. I am not sure a real socket is necessary for testing this abstraction, could it be enough to simply mock `send`, `recv` and `select`? Something it could be useful is to make sure the ownership of the `SOCKET` is always correct (`copy ctor`, `Release`, `operator =`)\r\n\r\nbtw, utACK 8fc63e344660f52a35bd97c1f881afdb1643b52a",
      "user": {
        "login": "lontivero",
        "id": 127973,
        "node_id": "MDQ6VXNlcjEyNzk3Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127973?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lontivero",
        "html_url": "https://github.com/lontivero",
        "followers_url": "https://api.github.com/users/lontivero/followers",
        "following_url": "https://api.github.com/users/lontivero/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/lontivero/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/lontivero/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/lontivero/subscriptions",
        "organizations_url": "https://api.github.com/users/lontivero/orgs",
        "repos_url": "https://api.github.com/users/lontivero/repos",
        "events_url": "https://api.github.com/users/lontivero/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/lontivero/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#issuecomment-752998925",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20788"
    },
    {
      "event": "labeled",
      "id": 4161706522,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQxNjE3MDY1MjI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4161706522",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-02T13:32:34Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4184333106,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDE4NDMzMzEwNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4184333106",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-08T13:10:27Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4184372118,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDE4NDM3MjExOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4184372118",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-08T13:22:14Z"
    },
    {
      "event": "commented",
      "id": 756754017,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc1Njc1NDAxNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/756754017",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-08T13:24:36Z",
      "updated_at": "2021-01-08T13:24:55Z",
      "author_association": "MEMBER",
      "body": "8fc63e3...3fa2a11:\r\n* rebased due to conflicts\r\n* moved `Sock` to its dedicated `src/util/sock.{cpp,h}`\r\n* added unit tests",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#issuecomment-756754017",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20788"
    },
    {
      "event": "unlabeled",
      "id": 4184560774,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50NDE4NDU2MDc3NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4184560774",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-08T14:14:32Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 4187768562,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50NDE4Nzc2ODU2Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4187768562",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-10T07:26:36Z",
      "label": {
        "name": "Build system",
        "color": "5319e7"
      }
    },
    {
      "event": "reviewed",
      "id": 565388599,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY1Mzg4NTk5",
      "url": null,
      "actor": null,
      "commit_id": "3fa2a11f6e8998819e4ecabaafc6897a4be9ccd8",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Mostly questions and one suggestion.",
      "user": {
        "login": "lontivero",
        "id": 127973,
        "node_id": "MDQ6VXNlcjEyNzk3Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127973?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lontivero",
        "html_url": "https://github.com/lontivero",
        "followers_url": "https://api.github.com/users/lontivero/followers",
        "following_url": "https://api.github.com/users/lontivero/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/lontivero/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/lontivero/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/lontivero/subscriptions",
        "organizations_url": "https://api.github.com/users/lontivero/orgs",
        "repos_url": "https://api.github.com/users/lontivero/repos",
        "events_url": "https://api.github.com/users/lontivero/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/lontivero/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#pullrequestreview-565388599",
      "submitted_at": "2021-01-11T14:36:38Z",
      "state": "CHANGES_REQUESTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4191846172,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDE5MTg0NjE3Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4191846172",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-11T17:03:28Z"
    },
    {
      "event": "commented",
      "id": 758089514,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc1ODA4OTUxNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/758089514",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-11T17:03:46Z",
      "updated_at": "2021-01-11T17:03:46Z",
      "author_association": "MEMBER",
      "body": "3fa2a11f6...ed69709c8: hopefully fix CI and address some suggestions",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#issuecomment-758089514",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20788"
    },
    {
      "event": "commented",
      "id": 758195672,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc1ODE5NTY3Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/758195672",
      "actor": {
        "login": "lontivero",
        "id": 127973,
        "node_id": "MDQ6VXNlcjEyNzk3Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127973?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lontivero",
        "html_url": "https://github.com/lontivero",
        "followers_url": "https://api.github.com/users/lontivero/followers",
        "following_url": "https://api.github.com/users/lontivero/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/lontivero/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/lontivero/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/lontivero/subscriptions",
        "organizations_url": "https://api.github.com/users/lontivero/orgs",
        "repos_url": "https://api.github.com/users/lontivero/repos",
        "events_url": "https://api.github.com/users/lontivero/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/lontivero/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-11T20:13:15Z",
      "updated_at": "2021-01-11T20:13:15Z",
      "author_association": "CONTRIBUTOR",
      "body": "utACK ed69709c8c86970f21b2a987a366737a01bc1c79",
      "user": {
        "login": "lontivero",
        "id": 127973,
        "node_id": "MDQ6VXNlcjEyNzk3Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127973?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lontivero",
        "html_url": "https://github.com/lontivero",
        "followers_url": "https://api.github.com/users/lontivero/followers",
        "following_url": "https://api.github.com/users/lontivero/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/lontivero/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/lontivero/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/lontivero/subscriptions",
        "organizations_url": "https://api.github.com/users/lontivero/orgs",
        "repos_url": "https://api.github.com/users/lontivero/repos",
        "events_url": "https://api.github.com/users/lontivero/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/lontivero/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#issuecomment-758195672",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20788"
    },
    {
      "event": "labeled",
      "id": 4200151844,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQyMDAxNTE4NDQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4200151844",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-13T09:11:39Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4205935013,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDIwNTkzNTAxMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4205935013",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-14T12:11:19Z"
    },
    {
      "event": "commented",
      "id": 760157837,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc2MDE1NzgzNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/760157837",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-14T12:11:41Z",
      "updated_at": "2021-01-14T12:11:41Z",
      "author_association": "MEMBER",
      "body": "ed69709c8...cc109a474: rebase due to conflicts",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#issuecomment-760157837",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20788"
    },
    {
      "event": "unlabeled",
      "id": 4205973422,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50NDIwNTk3MzQyMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4205973422",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-14T12:21:50Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 760193702,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc2MDE5MzcwMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/760193702",
      "actor": {
        "login": "lontivero",
        "id": 127973,
        "node_id": "MDQ6VXNlcjEyNzk3Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127973?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lontivero",
        "html_url": "https://github.com/lontivero",
        "followers_url": "https://api.github.com/users/lontivero/followers",
        "following_url": "https://api.github.com/users/lontivero/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/lontivero/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/lontivero/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/lontivero/subscriptions",
        "organizations_url": "https://api.github.com/users/lontivero/orgs",
        "repos_url": "https://api.github.com/users/lontivero/repos",
        "events_url": "https://api.github.com/users/lontivero/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/lontivero/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-14T13:22:46Z",
      "updated_at": "2021-01-14T13:22:46Z",
      "author_association": "CONTRIBUTOR",
      "body": "utACK cc109a47481263e1a7fb9b74f1aea57ea0129f8e",
      "user": {
        "login": "lontivero",
        "id": 127973,
        "node_id": "MDQ6VXNlcjEyNzk3Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127973?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lontivero",
        "html_url": "https://github.com/lontivero",
        "followers_url": "https://api.github.com/users/lontivero/followers",
        "following_url": "https://api.github.com/users/lontivero/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/lontivero/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/lontivero/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/lontivero/subscriptions",
        "organizations_url": "https://api.github.com/users/lontivero/orgs",
        "repos_url": "https://api.github.com/users/lontivero/repos",
        "events_url": "https://api.github.com/users/lontivero/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/lontivero/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#issuecomment-760193702",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20788"
    },
    {
      "event": "added_to_project",
      "id": 4238558907,
      "node_id": "MDE5OkFkZGVkVG9Qcm9qZWN0RXZlbnQ0MjM4NTU4OTA3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4238558907",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-22T13:31:11Z",
      "project_card": {
        "id": 53356435,
        "url": "https://api.github.com/projects/columns/cards/53356435",
        "project_id": 481835,
        "project_url": "https://api.github.com/projects/481835",
        "column_name": "Blockers"
      }
    },
    {
      "event": "reviewed",
      "id": 574994783,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTc0OTk0Nzgz",
      "url": null,
      "actor": null,
      "commit_id": "cc109a47481263e1a7fb9b74f1aea57ea0129f8e",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#pullrequestreview-574994783",
      "submitted_at": "2021-01-24T21:58:07Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
    },
    {
      "event": "commented",
      "id": 766439884,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc2NjQzOTg4NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/766439884",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-24T22:01:38Z",
      "updated_at": "2021-01-24T22:01:38Z",
      "author_association": "MEMBER",
      "body": "Concept ACK",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#issuecomment-766439884",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20788"
    },
    {
      "event": "reviewed",
      "id": 582567172,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTgyNTY3MTcy",
      "url": null,
      "actor": null,
      "commit_id": "cc109a47481263e1a7fb9b74f1aea57ea0129f8e",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Verified debug build is clean and tests pass at each commit. I'm not very confident in reviewing here with the formatting changes and various renamings mixed into the signifcant code changes. This could be a smaller, easier and safer diff to review. ",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#pullrequestreview-582567172",
      "submitted_at": "2021-02-03T17:05:03Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4292106148,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDI5MjEwNjE0OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4292106148",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-04T17:22:08Z"
    },
    {
      "event": "commented",
      "id": 773477173,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc3MzQ3NzE3Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/773477173",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-04T17:26:59Z",
      "updated_at": "2021-02-04T17:26:59Z",
      "author_association": "MEMBER",
      "body": "cc109a474...bb5231615: stylistic changes to address suggestions by @jonatack, thanks!",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#issuecomment-773477173",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20788"
    },
    {
      "event": "mentioned",
      "id": 4292128349,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDI5MjEyODM0OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4292128349",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-04T17:26:59Z"
    },
    {
      "event": "subscribed",
      "id": 4292128353,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQyOTIxMjgzNTM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4292128353",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-04T17:26:59Z"
    },
    {
      "event": "commented",
      "id": 775947271,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc3NTk0NzI3MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/775947271",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-09T13:45:28Z",
      "updated_at": "2021-02-09T13:45:28Z",
      "author_association": "MEMBER",
      "body": "Thanks @vasild. I didn't see your latest notifications as I have been adjusting to the new `ghwatch.py` script, will re-review.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#issuecomment-775947271",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20788"
    },
    {
      "event": "mentioned",
      "id": 4309248246,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDMwOTI0ODI0Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4309248246",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-09T13:45:28Z"
    },
    {
      "event": "subscribed",
      "id": 4309248251,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQzMDkyNDgyNTE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4309248251",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-09T13:45:28Z"
    },
    {
      "event": "commented",
      "id": 776193697,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc3NjE5MzY5Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/776193697",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-09T19:42:39Z",
      "updated_at": "2021-02-09T19:54:02Z",
      "author_association": "MEMBER",
      "body": "It seems more logical to me to move the `CloseSocket` and `NetworkErrorString` functions to `sock.h`, not `system.h`? ~~Also do we still need an explicit `CloseSocket` instead of `Sock::Reset`?~~ (oh those are separate types, I see)\r\n\r\nCursory code review ACK otherwise.",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#issuecomment-776193697",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20788"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzphYTE3YTQ0NTUxYzAzYjAwYTQ3ODU0NDM4YWZlOWYyZjg5YjZlYTc0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/aa17a44551c03b00a47854438afe9f2f89b6ea74",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/aa17a44551c03b00a47854438afe9f2f89b6ea74",
      "tree": {
        "sha": "32818a531a860f31a2ada1ae8fdef4341cc5296f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/32818a531a860f31a2ada1ae8fdef4341cc5296f"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 32818a531a860f31a2ada1ae8fdef4341cc5296f\nparent 29d2aeb4a2b1830be4724aab3a84a62f072056f4\nauthor Vasil Dimov <vd@FreeBSD.org> 1609762472 +0100\ncommitter Vasil Dimov <vd@FreeBSD.org> 1612951212 +0100\n\nnet: move MillisToTimeval() from netbase to util/time\n\nMove `MillisToTimeval()` from `netbase.{h,cpp}` to\n`src/util/system.{h,cpp}`.\n\nThis is necessary in order to use `MillisToTimeval()` from a newly\nintroduced `src/util/sock.{h,cpp}` which cannot depend on netbase\nbecause netbase will depend on it.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmAjrqwACgkQVN8G9ktV\ny7+hXiAAjI1eo6ax6Dde8329S1S2oI6W52PWzJ4GVnRhT5jevbCEOF2okY5RroSy\npV7pPHrvBuIVlLsSPD6m3Hpt9dtWlnahsflv+eVM/MB2BiafcZttlwsnpVOM9S4z\nLYihTijQoffVWeJg3bFsueME2bWDDl5dcC2CpRC06LZf2C9rVNSZ4eoClvE/mX5m\nYpq+/tikTCT7WfSmnzNIN2Wj/zQP1mWlF2SKSVup9JI0BC7YuNBvP2k8cnDccoV2\n0RkIjRPecY3TAIUF46KBupnJfsIZSlqP+cLOj/rWhpl3KrHR7IAR6FF+70K5UV4i\nPVrtLJ18vbq9xPWGyiCdsHG+fP1sH4GdhDbCvt/SzWSVem1eHFfrcpZNvO+YN0+r\nwxYhiavvQWMkZ7blXw0unX81R9ObcxYhIJR1tJR6AF2aYDHlLgiqP5Tdmibfz9qe\nJZ44KSAkEsXbG6+FFPVrQ1O/kxm0Zv2N0NsuMXGNTI9cKfETkN0JjlSXRmAUuyZS\nrQyZe4dVtB0YeDvgZRSsWSGtS18VTihaIyJni9tZIGxVplKiW0GkmuUjvRwjIqPk\nVlWIVKi2ycbwc5f62UYFpeO5B1dQU1THjtca97GCwbxVFy4kjYmnEJeXuraeeMk9\nRZBHExCvF2lQZcVr2696Fl6DfTl6b6PfSejj6RJpqXWhO07+F58STZSHSoWAi8P8\nAYDFnd/fhi0UjRzPHcgdEiCoKMF2nQVueV6mfyKfDx95vVl2wSlEy3jrmcM7Lw1Z\n5GNV2PqFcaGeDAD3x+8IrjbwbWh2Kc74TbceUoFIDJujtglfhC3Uv8asUmZTxLs4\nzVEDNUlvj5sT5V0+q/wM+vc0b2lpb9OAgcJcwohXwBUsW+nJGPRdqgA2Jv8I2GVh\njsFv+DZYaDs5KZsmFeuBmqoqWV773s8bKrvOVqg9ZF/GpdchOL3D4NEjCxJc2yTn\ndNfg5+71KHQ92afs0Irh75wo+nj4wdC3Dvja0V+aSFX6+IUQh2ksltzHendpxLk8\netPnSlRwbOAopWgHzf89OgYOs+DtVBIdfqcU4bEAo3I9KJSdFapwHh7nOscYgN4U\n/fkhgck1igbQOBikm7CpSL0Q9x/96YV6DopS7vzDqq3noheDBHWPBvmbWRftriQh\nXOr5ihp+Iyou/hi+58BERAI6d5eiyn1ggze11mG217qJAkJpaKVSFXTaOz5csRgz\n627lSJfCxNBxGviGYFWwE9A3m67CxsWSWCp4BvjUZssgxOnMs4uz4HoJ2uIXd3Et\ndOBnHgVimL/DPrtnTnwy7TlCgyGw0nDkEFjd7CKAcuTPyTcfI3ZSxpXki/HcLNta\nTB1Zz7mZ/49rh5fPDDTp02BhU1oAZw==\n=ZqBu\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/29d2aeb4a2b1830be4724aab3a84a62f072056f4",
          "sha": "29d2aeb4a2b1830be4724aab3a84a62f072056f4",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/29d2aeb4a2b1830be4724aab3a84a62f072056f4"
        }
      ],
      "message": "net: move MillisToTimeval() from netbase to util/time\n\nMove `MillisToTimeval()` from `netbase.{h,cpp}` to\n`src/util/system.{h,cpp}`.\n\nThis is necessary in order to use `MillisToTimeval()` from a newly\nintroduced `src/util/sock.{h,cpp}` which cannot depend on netbase\nbecause netbase will depend on it.",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2021-02-10T10:00:12Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2021-01-04T12:14:32Z"
      },
      "sha": "aa17a44551c03b00a47854438afe9f2f89b6ea74"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4314186016,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDMxNDE4NjAxNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4314186016",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-10T11:10:24Z"
    },
    {
      "event": "commented",
      "id": 776638169,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc3NjYzODE2OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/776638169",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-10T11:18:32Z",
      "updated_at": "2021-02-10T11:18:32Z",
      "author_association": "MEMBER",
      "body": "bb5231615...7b6e4ee30: move `CloseSocket()` and `NetworkErrorString()` to `util/sock.{h,cpp}` instead of to `util/system.{h,cpp}`.\r\n\r\n@laanwj,\r\n\r\n> It seems more logical to me to move the `CloseSocket` and `NetworkErrorString` functions to `sock.h`, not `system.h`?\r\n\r\nDone.\r\n\r\n> ~Also do we still need an explicit `CloseSocket` instead of `Sock::Reset`?~\r\n\r\nActually this question makes sense - we can remove `CloseSocket()` altogether once its callers have switched to using the newly introduced `Sock` from this PR. There are about 10 places where `CloseSocket()` is called - should be possible (not in this PR).",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#issuecomment-776638169",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20788"
    },
    {
      "event": "mentioned",
      "id": 4314220449,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDMxNDIyMDQ0OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4314220449",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-10T11:18:32Z"
    },
    {
      "event": "subscribed",
      "id": 4314220459,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQzMTQyMjA0NTk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4314220459",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-10T11:18:32Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkZWM5YjVlODUwYzZhYWQ5ODllODE0YWVhNWI2MzBiMzZmNTVkNTgw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dec9b5e850c6aad989e814aea5b630b36f55d580",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/dec9b5e850c6aad989e814aea5b630b36f55d580",
      "tree": {
        "sha": "993908d7a5dfdeb82f365bee1e19084eebd29d31",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/993908d7a5dfdeb82f365bee1e19084eebd29d31"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 993908d7a5dfdeb82f365bee1e19084eebd29d31\nparent aa17a44551c03b00a47854438afe9f2f89b6ea74\nauthor Vasil Dimov <vd@FreeBSD.org> 1609761763 +0100\ncommitter Vasil Dimov <vd@FreeBSD.org> 1612960208 +0100\n\nnet: move CloseSocket() from netbase to util/sock\n\nMove `CloseSocket()` (and `NetworkErrorString()` which it uses) from\n`netbase.{h,cpp}` to newly added `src/util/sock.{h,cpp}`.\n\nThis is necessary in order to use `CloseSocket()` from a newly\nintroduced Sock class (which will live in `src/util/sock.{h,cpp}`).\n`sock.{h,cpp}` cannot depend on netbase because netbase will depend\non it.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmAj0dAACgkQVN8G9ktV\ny7/hfR//YFulBovNjPnZ/fTpubTHRnyx+wFLIx9+kafz+mtS4yI/kb3CpuvVcQgG\nqRMhiyF/eIV5XhZGjZ5uEG70VRZlWNyoMyw5FORLwTF+ngbHTqT0Zb8VHT0S2SYb\nfNZ+Hkwz2HkkiiKdD9EGuhEMgrxOI2xahlZDzo15kmz+Aq314OIOjb4W74y9hJ80\nFZoqvbpSspi+JC9glubW5aRXKvimy/Jug6/6w8C2d371V02iUQD2WKL3PXohwocS\naOux6239IUG4AfvsiF19nv9TwJm7dXvzqhbCJFYKDbVHLv9aKNUC8Tx4ADyGI3yp\nVYwYnM0NQqJWuY5thn3W24ro3WFuBoufiUAN06/4T+R/ellwn9BqZc8Mz6wpSAXI\nvNtCSal6yQSEExjsCWxVlUusYc78hz1J9xNFxi4koQOifZJFeefyS0XxIXSDA5f4\nqP9PQwZpeyoRelnTb/5+nMe/1wRBkj4qHDdOEfqxOAyUsmvbUOFFfuh4zu/VR1Yi\nt+LMsvhRmPLNNeV7FAkw5zHqx01F/ihbUc1oEZml3JYCPICZsxU265a8/UeBZqhR\nmDqjIW+NV0dz8GZDfkl3OxycJZdFgEXe0u3C72OIcPEbpX16Bg5t8IMFLcUI3c/9\ngGO2zpa8jlqqGQ0LhUO63g9JoqVRVk1ASUOOTdvmI8nrtPAvHoCuAX5VEdoRJWm6\n73VZBL/uU31sQXk/uZiJHBcYRFtG69ISjqoROTfeVKCLGN5E9NeKDJQk7t3IDsMz\n2EsDRBndiBLGCS3pUNAfyHWJSc5EtN7rP+NIWBYI3fR4Mvk5ykX7Now0w34awRfd\nm2pEZSlg0UJ89sBS1JI1zc7X+EXA7DEJImnA8TxVozd96QDT1KTXxtrQY7t2EU1r\n5CFLQIPDrSTOkYWU8KBZBD3Yd5Ieh7qEBa7hf28HxgSZZzbqp51qVzRkEJcr29BT\nOFuPMC8vy5keBEVw/uXww2dSyCZbBE2brWdbvbk4OBrotySU98Ecp4gN5hsNGbDc\nUkUOHN9HTm3zCOLtIO6WIDROh2AW5jj70L8ivI/4t6g67tkYSK5Fd/I1V7cFdUgG\nB6iTIux/3sMCNGT3pOu46T4CzVEC6yqetGut6Tm7oz1QUCOoAjkPNMMdjIUMP/4P\nw8/shAt/MgPwYRWksyNzzV66sxGNYuMuH/h1FTZrGAUwwcGor+6LF568wxiWMsUm\nPfFzZp45fzrj18f1QppYXnK6rDJmQ/XOT+gwFpZ3CVD5aEu+eLCTjnd8TMa1/ZOR\nZ5jGztMKNEibS11Y7RgivVi53Sa1zimNVdaAPs3hCh7kb03dhyLh7fzStvRac8kD\nlVq9lYS4svlkFk5K7naTe5BIJeh/mg==\n=xeXL\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/aa17a44551c03b00a47854438afe9f2f89b6ea74",
          "sha": "aa17a44551c03b00a47854438afe9f2f89b6ea74",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/aa17a44551c03b00a47854438afe9f2f89b6ea74"
        }
      ],
      "message": "net: move CloseSocket() from netbase to util/sock\n\nMove `CloseSocket()` (and `NetworkErrorString()` which it uses) from\n`netbase.{h,cpp}` to newly added `src/util/sock.{h,cpp}`.\n\nThis is necessary in order to use `CloseSocket()` from a newly\nintroduced Sock class (which will live in `src/util/sock.{h,cpp}`).\n`sock.{h,cpp}` cannot depend on netbase because netbase will depend\non it.",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2021-02-10T12:30:08Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2021-01-04T12:02:43Z"
      },
      "sha": "dec9b5e850c6aad989e814aea5b630b36f55d580"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiYTlkNzMyNjhmOTU4NWQ0YjkyNTRhZGNmNTQ3MDhmODgyMjI3OThi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ba9d73268f9585d4b9254adcf54708f88222798b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ba9d73268f9585d4b9254adcf54708f88222798b",
      "tree": {
        "sha": "7817023a5deab6c4bcb0de90b748e49dc026f1ab",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7817023a5deab6c4bcb0de90b748e49dc026f1ab"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 7817023a5deab6c4bcb0de90b748e49dc026f1ab\nparent dec9b5e850c6aad989e814aea5b630b36f55d580\nauthor Vasil Dimov <vd@FreeBSD.org> 1608738011 +0100\ncommitter Vasil Dimov <vd@FreeBSD.org> 1612960208 +0100\n\nnet: add RAII socket and use it instead of bare SOCKET\n\nIntroduce a class to manage the lifetime of a socket - when the object\nthat contains the socket goes out of scope, the underlying socket will\nbe closed.\n\nIn addition, the new `Sock` class has a `Send()`, `Recv()` and `Wait()`\nmethods that can be overridden by unit tests to mock the socket\noperations.\n\nThe `Wait()` method also hides the\n`#ifdef USE_POLL poll() #else select() #endif` technique from higher\nlevel code.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmAj0dAACgkQVN8G9ktV\ny7/UjR//Zh2EpQ2kluxW98HyaiatH9lIUhopPymbGXyM5RCvPDbASRmUcwUVociO\nmGkdmq1EsIlBVhZOfwJB6UuaZWui7NboQHSn7B9pqD3FdVseye9PNP3gjzpre9PM\n1171XX6wieZcDAbxYDNVHfkZsupV+bTBvYnt63sLVYsfD+Jo7IvwvriZqeaVZ27/\nIVz7/yzRrjvR/CIL+SNeN7owsMyuInavOSqZpAdQf7POPm9CXVlhMmNMTAd3o/GM\nqwGprFFyfV1MdSGqIoKs5gnFBEs73DUqzAXRcJXDy1rca9jeOt/wCSg0C4i1HZk7\nWvY9nLlKQpCpoOrE9PP79Lp0sMtWC4xDx2S3ONitl53zbqrjNlrrEygyaZhsP2Vg\njjzEM6jmZBDOZMpL9m5ubIYjmgc7qhxJIRHXlIemOZQEspBBkk9ZEba8++AnBXDw\nJ5yT+LP2vPt9MEBQnJADwUFjchaGnMhpzd0WY6BHWhW+5TAfpJmtfp7fUPzSxtSv\n/nWkYUgn1bg4ili2wGy6Y4YjIbOPdYKDFuGTH8h8bTDF8X22fPv6vqpNpEGjiW7S\nMHYaGAotXQURaBwlEBehrZSub1razS9NNv8FHug0GqdN6nyg4ukodgMNZS5l1a+/\n5rfCwef/cjhLek/h1Arc5NKXUTOIx6dL7zA9qWEiwrtYlj5q0iAbUzPHLccY2Isw\n13QFYC/lrn0cHVpuXe3tVcsc8h2PUc8aU1R2dCN/ryhkCT5tO5yComlOBXJsqfhY\nh5IjGQ4ZYyaN0r99s7ETCCW2L91CCBShqfnvegEJufcFmawX5KtqBSLYNvzCDzYv\nlAiE2tSHOWTo+EG7WVGP3NE2clQiXwz8vXZOw1U/YzVC7UMpd5b4t99fVu0Uajxj\nrmpC6Ii9+gSsCoiKeq+MsRhDXq8c1fUW2287wcz9+91602xOsD8l9ELLlRTd13PV\nUM/+31PQcOgBlOpx9kTY+5Qkc1KGWWALPvrYkA4WyQldKhRDongrGRE0Lrkp157Q\n7T55bncbMXaWsQRuYJrpc+/ebagUK/EJJKOq6AX9ZT3pi5+k0pqDulttqu0TF5xs\nO8QI5re5EyB1vToSdwt0yxyYf2kmRp2u39qKWP2XCJjY20QhcN3smdrNt3NdbirT\nKTJPp4BL7ecF4C3H15RhjrZG6P6FZ9YaEQZ1CH1tIiu3e4W3iUFDZrXTXFRI/Ifn\nbJ674fyJ0vbhkxh8AG7fkcE3ZCLhH8L4M3XrpxJyuo4BVoysP0OP/nZ7mwvjR933\n5yHHHYJv85caDEs0vEYdn8LVFVBX73GtNTGDN7uPzcLg7sbPv/QZyu63+YDEdgg8\nDLRfBRP1OkZk+lTHpdyd5q7jE3wtpQ==\n=eyRd\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dec9b5e850c6aad989e814aea5b630b36f55d580",
          "sha": "dec9b5e850c6aad989e814aea5b630b36f55d580",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/dec9b5e850c6aad989e814aea5b630b36f55d580"
        }
      ],
      "message": "net: add RAII socket and use it instead of bare SOCKET\n\nIntroduce a class to manage the lifetime of a socket - when the object\nthat contains the socket goes out of scope, the underlying socket will\nbe closed.\n\nIn addition, the new `Sock` class has a `Send()`, `Recv()` and `Wait()`\nmethods that can be overridden by unit tests to mock the socket\noperations.\n\nThe `Wait()` method also hides the\n`#ifdef USE_POLL poll() #else select() #endif` technique from higher\nlevel code.",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2021-02-10T12:30:08Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2020-12-23T15:40:11Z"
      },
      "sha": "ba9d73268f9585d4b9254adcf54708f88222798b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzowNGFlODQ2OTA0OWUxZjE0NTg1YWFiZmI2MThhZTUyMjE1MDI0MGE3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/04ae8469049e1f14585aabfb618ae522150240a7",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/04ae8469049e1f14585aabfb618ae522150240a7",
      "tree": {
        "sha": "80472dda64d7565ea923d84a9f11b60e243609d6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/80472dda64d7565ea923d84a9f11b60e243609d6"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 80472dda64d7565ea923d84a9f11b60e243609d6\nparent ba9d73268f9585d4b9254adcf54708f88222798b\nauthor Vasil Dimov <vd@FreeBSD.org> 1609171030 +0100\ncommitter Vasil Dimov <vd@FreeBSD.org> 1612960208 +0100\n\nnet: use Sock in InterruptibleRecv() and Socks5()\n\nUse the `Sock` class instead of `SOCKET` for `InterruptibleRecv()` and\n`Socks5()`.\n\nThis way the `Socks5()` function can be tested by giving it a mocked\ninstance of a socket.\n\nCo-authored-by: practicalswift <practicalswift@users.noreply.github.com>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmAj0dAACgkQVN8G9ktV\ny79JdyAAiLCoVpzPO2HwbeAKrBGP3GFM0vdOYfludRcJ5Dq7XiCoq6c0qNnOwCPU\nvigmQlhhFBseE/u0UBkFhucUDVHOmKwO+xCXUeQQP1sOd0QY4PFpUnxBpbwvsRkA\nzHt4Pj2Nq+rGVC33q2chf4LC2FWhdlFys7tIUevb/BXDs6dlfKqZy4EFOpsw+TjT\nRn1oW4urHuKi2BMacCU/JmjpPqMIaU3c+sP1XLdmLGB+J8onOnTqFROXvq5QML5l\n8IY93UKAEYvN9IRwZmcQ1ZsPuzX53s5dM9TqNhQavjgSa77BxBEfYUnqblyp9S14\nc5UwGHnjBbK3OV2BlmDYv+o3LwGy5MuR/Itq3i8wpUEtd318zGitNYCd4OMZTre8\neaekTuYlrgC4cINRBVs5zls63hm8txjUdo8RJEkSMc33CFgDFrICje9GArO0lp4P\nLTRVJ0qp9zI7wcZOcg4kck6SRHqYZpSLMMrqihCPwXwHBHcAjtGEPX2IUIbqqfG5\ndPdjlV9Crzr+DvjbfxfKIOvt+77WWXlJBXnGyp+e0cj7YkGS2s/2N8AF33U19QnU\nYDB0QwVMadvo+CN9fivw0+V3QFXhGTSz/0Vh+9X4j+g2tVNcArdQjKMzo+LIT23p\nh+lQVjvJgDI8ztQP8EpGKOqhVuzc5/QIqHX1611W+SVyFyQe9BJFeT8LkLHYhuoq\nhctJyth40osO5sqjUaHWpemvJJyvG6+YlQfTEbI15AZz+ZgB0Zp90pDmZjwQVkg5\nYbBD75sZJ5fGLy3EZhThG9YS4PNJurYElx3QXAKltfjxSV446NWlLKUm2kUM8RWU\nmUz2ooztJvdwhBelX86ZtJtmb+uIE7HvXW+DXs4oHbgG19ohxEwBuBaMsa+zPz1j\nkt6AV0kPMbq+FlUOWBRVqViZqwVQ8XQ1BYYxjEg/fgXFPxYLTY9DKZ6gq4i+kRyq\n7OJJVpzVqkNOKq0Y7xWkIbDlDdT+i70G/Qo0baDoUS7BlxLHI2XieFNpZLtpSyma\n6OOsBAoHFHqmSonXVuLV8dVaTNUiz3Tj3JWh1VQeNavpkU/Q+ibjA5To7286dgIm\nbt2/l6YlOhaspSWF4gdB1pKDY5FoO2K0NIoQzE0JZNciQMaXzBczw+ij1zULi44y\n/El55MHA82F7Ges9y99HHZgjyzNTXmcuGdIJvOyl5UGjr44XVGWfAdwvxBrvVKjD\nOi2Zd/MfcTe3fFEElDiPBUuSuO4xlf7zHra8p0Nz0NUX+Wh9ArP6MvQmp0ZbZimh\nSHi8yPpmB+kGEmZIWqsgIRtAgO2f9mml6j4/bcjt1EOa0XYd0mIxsuH/NT5OMbi1\naV80z70gKDwD9N8ISAjjnq0PvfDLEw==\n=lSs9\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ba9d73268f9585d4b9254adcf54708f88222798b",
          "sha": "ba9d73268f9585d4b9254adcf54708f88222798b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ba9d73268f9585d4b9254adcf54708f88222798b"
        }
      ],
      "message": "net: use Sock in InterruptibleRecv() and Socks5()\n\nUse the `Sock` class instead of `SOCKET` for `InterruptibleRecv()` and\n`Socks5()`.\n\nThis way the `Socks5()` function can be tested by giving it a mocked\ninstance of a socket.\n\nCo-authored-by: practicalswift <practicalswift@users.noreply.github.com>",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2021-02-10T12:30:08Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2020-12-28T15:57:10Z"
      },
      "sha": "04ae8469049e1f14585aabfb618ae522150240a7"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3YmQyMWNlMWVmYzM2M2IzZThlYTFkNTFkZDE0MTBjY2Q2NjgyMGNi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7bd21ce1efc363b3e8ea1d51dd1410ccd66820cb",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/7bd21ce1efc363b3e8ea1d51dd1410ccd66820cb",
      "tree": {
        "sha": "f725f2599ccf07f30785fce70d095936851ac887",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f725f2599ccf07f30785fce70d095936851ac887"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree f725f2599ccf07f30785fce70d095936851ac887\nparent 04ae8469049e1f14585aabfb618ae522150240a7\nauthor Vasil Dimov <vd@FreeBSD.org> 1612458444 +0100\ncommitter Vasil Dimov <vd@FreeBSD.org> 1612960209 +0100\n\nstyle: rename hSocket to sock\n\nIn the arguments of `InterruptibleRecv()`, `Socks5()` and\n`ConnectThroughProxy()` the variable `hSocket` was previously of type\n`SOCKET`, but has been changed to `Sock`. Thus rename it to `sock` to\nimply its type, to distinguish from other `SOCKET` variables and to\nabide to the coding style wrt variables' names.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmAj0dEACgkQVN8G9ktV\ny7+RlCAAmfcvS7z4QY7ADAGX5jCdFbKwfvnykrlZtw7xVKsFwEpjCzizMzz7Pls4\nrbndkAWuxCFG3ue/P+uOPM9S1Yyyg02zo/8eq772DvNbhGNc3D2Sy31rZDC9pxXd\nKRmoERIgn+nU8wXLvojAU7EMRqtbFDSj1biTOVZBRa+iDTNzfsyI35WsphNlwxgt\n6yP4G3raU3VA372/qKvqkbI3ynPanR3yC1B7UnxyXR6y2LctNx8wW8ra8SV5veqz\nSJqeSSLFQ3w5fScgg7tPKtVrzMyIWpe1ZC8rUfIrLjgByhR61thO7zKsVNVx0zm/\ngLJzheAgG0+CTqW+Bnr/R34anxqd/QUQz/MJlnTfowhVOVQWx8uB+zeRX5Do9Lox\nPBnwc8EZ6rM2GJEWir74Ls8JjkNV4q2YdwGlSjoyp3NRZFYlCSzTResJKixTfITX\neqVjJBk2LTKL0lnR8oXteb3VI3c8XtMEnY0U2j5ZIhOv5BSsqy6f50MtUZX9mtcM\nddee/OJei5IPSh4RihMBuqQbBgb6gGIGkWsvzTRn+e2HVVHPxCvAAvcj6rbTwKZQ\nLJla96TOLALjn9ZEysZYugLfzyh0pTZqCtaBy2GJ1U2lXf6rXdqLp/Uu7asF+UZQ\nuFpSJp/6TH73zR4K+TCf6ulnJGBn+Fx/97IUg5BtwqiGjTokQ33ZxdLe+kCx57M/\nkNio5k4i6SEDQIaAjGy3xQuApOnjhki0YqwuG8JcNOUYQ8XxBIZBWkbTkKYU6XZ5\n581kFCrP26NjbXvdqegZnZEfhoM55BKXlHOzSLXmUrkT954+nAu2psmmnRf+DwX6\nzJ8OZ00rAKYQcOWQS2nWxDIwF367opmyNV+7LyfRiLUylrNYJzqUVQmIa6NRMltk\nJ3ckEvOS6n8H+090ywA58I+KEZnfhRCsl06LSvV4404iC0fN6XIFZZ9bucqJ9j03\n3SyIO8It5yiOqu8jr8q1KndDnVWelkN5WrinyZmTptrpRdkxR1P9xHL41kwhI+In\nWUiv2SfDbWN/iQyLwQvBCPqUhV6FQM++2UTcaWhDPfBlRdYTCNrHHIkJ597MPt3l\ng46n6knOtkTq0/OWjc2Owstu8l1RVDJStzccmYwPqfFmyuG6gEsWkHUwU1vMD3Kh\n5y5Dbrzcu9922N1N1mfAyMvRaOawSg9HbHy/GBGQBAnAwfdsvSPtYEgETEKekBSR\novcp6DseCxsIGEcfzExHfScvRoXmbW666RBZT3AVTveUZ4i2T9ADjeWKZT0fwUez\nA39pdDQBoijblFO0a0NoY8DoJKaBdR3MSzOqyUA8I2Z2t2ckx3i/A5naGHj1UNjO\npYQK5p1B96MGU461YR5SFzuYtlFT5A==\n=GIWv\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/04ae8469049e1f14585aabfb618ae522150240a7",
          "sha": "04ae8469049e1f14585aabfb618ae522150240a7",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/04ae8469049e1f14585aabfb618ae522150240a7"
        }
      ],
      "message": "style: rename hSocket to sock\n\nIn the arguments of `InterruptibleRecv()`, `Socks5()` and\n`ConnectThroughProxy()` the variable `hSocket` was previously of type\n`SOCKET`, but has been changed to `Sock`. Thus rename it to `sock` to\nimply its type, to distinguish from other `SOCKET` variables and to\nabide to the coding style wrt variables' names.",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2021-02-10T12:30:09Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2021-02-04T17:07:24Z"
      },
      "sha": "7bd21ce1efc363b3e8ea1d51dd1410ccd66820cb"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4314537049,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDMxNDUzNzA0OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4314537049",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-10T12:36:22Z"
    },
    {
      "event": "commented",
      "id": 776678051,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc3NjY3ODA1MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/776678051",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-10T12:37:24Z",
      "updated_at": "2021-02-10T12:37:24Z",
      "author_association": "MEMBER",
      "body": "7b6e4ee30...e8e372a43: fix Vindows build",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#issuecomment-776678051",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20788"
    },
    {
      "event": "commented",
      "id": 776956778,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc3Njk1Njc3OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/776956778",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-10T19:24:37Z",
      "updated_at": "2021-02-10T19:45:16Z",
      "author_association": "MEMBER",
      "body": "@vasild Thanks! Yes, agree with not getting rid of `CloseSocket` in this PR, but glad to hear there's a path to removing the loose function.\r\n\r\nCode review and light testing (outbound connections over Tor still work) ACK e8e372a43122366fab7d6c7a45e05d4ad18d6da7",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#issuecomment-776956778",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20788"
    },
    {
      "event": "mentioned",
      "id": 4316559375,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDMxNjU1OTM3NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4316559375",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-10T19:24:38Z"
    },
    {
      "event": "subscribed",
      "id": 4316559377,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQzMTY1NTkzNzc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4316559377",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-10T19:24:38Z"
    },
    {
      "event": "reviewed",
      "id": 588022575,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTg4MDIyNTc1",
      "url": null,
      "actor": null,
      "commit_id": "e8e372a43122366fab7d6c7a45e05d4ad18d6da7",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK e8e372a43122366fab7d6c7a45e05d4ad18d6da7 rebased to master, debug build + code review at each commit, at head ran the new sock tests and the other unit tests locally and ran bitcoind while observing peer behavior--operation appears to be nominal\r\n\r\nThanks for the recent updates that I found made review much easier. Below a couple of doc nits in the unit test that can be ignored or done in the follow-up if you're inclined.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#pullrequestreview-588022575",
      "submitted_at": "2021-02-10T20:45:21Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
    },
    {
      "event": "commented",
      "id": 777289382,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc3NzI4OTM4Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/777289382",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-11T08:56:25Z",
      "updated_at": "2021-02-11T08:56:25Z",
      "author_association": "MEMBER",
      "body": "I think this is ready for merge, but would be nice to fix @jonatack's comment typos.",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#issuecomment-777289382",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20788"
    },
    {
      "event": "mentioned",
      "id": 4318706362,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDMxODcwNjM2Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4318706362",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-11T08:56:25Z"
    },
    {
      "event": "subscribed",
      "id": 4318706364,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQzMTg3MDYzNjQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4318706364",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-11T08:56:25Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2MTViYTBlYjk2Y2YxMzEzNjRjMWNlY2E5ZDNkZWRmMDA2ZmExZTFj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "tree": {
        "sha": "1e6cb39b6dcc9c2e86ccfde16fc0c228830e1e1b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1e6cb39b6dcc9c2e86ccfde16fc0c228830e1e1b"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 1e6cb39b6dcc9c2e86ccfde16fc0c228830e1e1b\nparent 7bd21ce1efc363b3e8ea1d51dd1410ccd66820cb\nauthor Vasil Dimov <vd@FreeBSD.org> 1609757061 +0100\ncommitter Vasil Dimov <vd@FreeBSD.org> 1613036693 +0100\n\ntest: add Sock unit tests\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmAk/JcACgkQVN8G9ktV\ny79e2B/9E1zQeRBE+2iwA4vbywEpuo2+udT8GQXnPQl0WCkHXelJVUAnTRvLwhc5\nu+YJ0+EDeicq+Qabxjy3VbwjhaUxnfIwuIc/ExFsVyQof7nonOUGPQdWFoVynXb9\nfTWD8nYBbLBZiz4IT5WFdVYMbGHH0VGg5b+6cqY+WgetHxZ8XHEJgnO2fnzCwrfW\nOlB6KuUqjofOpyW2eIyrkb0SrV60LiG7WvLLBa38CgQHSSpKRXfH3pybQrjMzgUq\n5UZPzHNhJrW3Qkfr1k9h66HmsKefnE7WAWULJTJRVBWQQZojuJWIF6RxvK0DL8bP\nCWdo6vQGAMLeRGZ2AMTPf4DugoNiFUgnx9V1hPTSL7opsJC8fiA5ObtlQPUzrGg6\nyBV6O1BBqHZLJyyiPJz/JFdi8yDkXehtvOXN9h6zc0fLXM5jz8odntgaCLDmcOMI\nWddBGSwgHJQxc+s0Vps3q9aIYQnVZllTShqn8GmrQJS9Xwwz8V6eqv1I8B6R2a3Z\n1g65ZKmQ0ByvSmqHbEnu2IcL9MWcHhElBg5m2sRfxIPOoGtTq5nzSanOOtcTDo2+\nO1CQOfEt5kjmWMqSzErIdEbIpRItAsdSSk/OdEsdPQncKzErDlDghw1TFqhQqC7e\nyzYlZKa0LXNVVFQKh1T8i3d0F6JAikPow7QocOykVEjUgbZmstsG+LK8Sz6+NUsP\nbt5ssN8KAIPDb6UDseHR+HqkVq+0BzLvt7GwUBeTwOVhGOzPHlqRi7irb9U/Pck2\nMNQeaDV8Fi3V3JC+osZtQw3+iHi8nWovGuGlsnglKHO8FNJufi426LbWU6zXMf5W\nUmvuFOKOE21LiGT/KV3Gs0iuieuY8yi17Yg+sNjxpXI+2V/Bq/duedQuxp/J4bGw\ntID/QYFQ6HvcmJchyNFgWk0QBQpd/wajh2HwZPJjgxVVf6ueCf1MCybonwm1Q54j\nK4RrWK09EhZh8/FP8MAlkO3MBn0oSbvxi7vtOPp4Fm5U2pEafYnCYRaLbeneCz1n\nxmOVBw5lG7UZ+yjOoMAG+8NEip7oOfPK7HqPI5oNwxy+CJlf2IdDSu8GsMVmLP5j\nTZD3pZz86J7OiiErdrNLxvkfEXSP4qqizE+cKVpVTgR2P2Ucoc55Y8V+ymlFHnDy\nrNm3Sw0AhhRr4G3UiVDgFVFk6l1AUQAHLZsK+hkpVLZgJGJbGwDeJs+J6ZnZ7Wk6\nXs44AQfFyy6f6iqgp1PKOaQfAB54DKOSDgTJJCUTAllkRnwlyCkVsD0kLXZ1j40k\n7JKiwLmDqf/zY7RUp9vkPT9VLuKK0rwvSwNJoU1bWUmgQDFy+9+Z3+D3b7GZL1n+\nvPH9lpsRtAesIVSDXSU/cRM+NdE0IA==\n=VoB7\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7bd21ce1efc363b3e8ea1d51dd1410ccd66820cb",
          "sha": "7bd21ce1efc363b3e8ea1d51dd1410ccd66820cb",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/7bd21ce1efc363b3e8ea1d51dd1410ccd66820cb"
        }
      ],
      "message": "test: add Sock unit tests",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2021-02-11T09:44:53Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2021-01-04T10:44:21Z"
      },
      "sha": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4318899485,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDMxODg5OTQ4NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4318899485",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-11T09:45:37Z"
    },
    {
      "event": "commented",
      "id": 777320031,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc3NzMyMDAzMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/777320031",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-11T09:47:15Z",
      "updated_at": "2021-02-11T09:47:15Z",
      "author_association": "MEMBER",
      "body": "e8e372a43...615ba0eb9: fix typos in a comment",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#issuecomment-777320031",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20788"
    },
    {
      "event": "mentioned",
      "id": 4319557889,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDMxOTU1Nzg4OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4319557889",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-11T12:23:36Z"
    },
    {
      "event": "subscribed",
      "id": 4319557892,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQzMTk1NTc4OTI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4319557892",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-11T12:23:36Z"
    },
    {
      "event": "commented",
      "id": 777415663,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc3NzQxNTY2Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/777415663",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-11T12:23:47Z",
      "updated_at": "2021-02-11T12:23:47Z",
      "author_association": "MEMBER",
      "body": "Re-ACK 615ba0eb96cf131364c1ceca9d3dedf006fa1e1c\r\nChecked that only change is the comment.",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#issuecomment-777415663",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20788"
    },
    {
      "event": "reviewed",
      "id": 588529742,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTg4NTI5NzQy",
      "url": null,
      "actor": null,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "re-ACK 615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#pullrequestreview-588529742",
      "submitted_at": "2021-02-11T12:58:16Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
    },
    {
      "event": "commented",
      "id": 777438277,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc3NzQzODI3Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/777438277",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-11T12:59:51Z",
      "updated_at": "2021-02-11T13:19:00Z",
      "author_association": "MEMBER",
      "body": "(Review and comment made from gh pr as an experiment.)\r\n\r\nEdit: learned to never write `gh pr` in a comment from github cli, as it converts it to the general help.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#issuecomment-777438277",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20788"
    },
    {
      "event": "merged",
      "id": 4319740725,
      "node_id": "MDExOk1lcmdlZEV2ZW50NDMxOTc0MDcyNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4319740725",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "a1be08405d9bbf771a965dc170ce85ea1ad034c7",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a1be08405d9bbf771a965dc170ce85ea1ad034c7",
      "created_at": "2021-02-11T13:07:57Z"
    },
    {
      "event": "closed",
      "id": 4319740738,
      "node_id": "MDExOkNsb3NlZEV2ZW50NDMxOTc0MDczOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4319740738",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-11T13:07:57Z"
    },
    {
      "event": "head_ref_deleted",
      "id": 4319744670,
      "node_id": "MDE5OkhlYWRSZWZEZWxldGVkRXZlbnQ0MzE5NzQ0Njcw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4319744670",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-11T13:08:53Z"
    },
    {
      "event": "referenced",
      "id": 4320565590,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQzMjA1NjU1OTA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4320565590",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "11681c692e40b58b49d4f2190741b91e3279476f",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/11681c692e40b58b49d4f2190741b91e3279476f",
      "created_at": "2021-02-11T15:47:19Z"
    },
    {
      "event": "removed_from_project",
      "id": 4321304305,
      "node_id": "MDIzOlJlbW92ZWRGcm9tUHJvamVjdEV2ZW50NDMyMTMwNDMwNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4321304305",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-11T18:19:16Z",
      "project_card": {
        "id": 53356435,
        "url": "https://api.github.com/projects/columns/cards/53356435",
        "project_id": 481835,
        "project_url": "https://api.github.com/projects/481835",
        "column_name": "Blockers"
      }
    },
    {
      "event": "referenced",
      "id": 4322853652,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQzMjI4NTM2NTI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4322853652",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "9cc8e30125df14fe47e21e55ab3bf26f4d416565",
      "commit_url": "https://api.github.com/repos/fanquake/bitcoin/commits/9cc8e30125df14fe47e21e55ab3bf26f4d416565",
      "created_at": "2021-02-12T02:14:44Z"
    },
    {
      "event": "commented",
      "id": 778085839,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc3ODA4NTgzOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/778085839",
      "actor": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-12T09:36:14Z",
      "updated_at": "2021-02-12T09:36:14Z",
      "author_association": "CONTRIBUTOR",
      "body": "@vasild Thanks for making our socket handling mockable. This will be extremely useful when fuzzing!\r\n\r\nSimilar to what you've done for TCP connections it would be really useful to be able to globally mock out DNS lookup to be able to have the responses be generated by a `FuzzedDataProvider` driven class instead of the ordinary lookup facility provided by the OS.\r\n\r\nIf you want to address this mocking need too you can find some inspiration in #19415 :)",
      "user": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#issuecomment-778085839",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20788"
    },
    {
      "event": "mentioned",
      "id": 4323914435,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDMyMzkxNDQzNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4323914435",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-12T09:36:14Z"
    },
    {
      "event": "subscribed",
      "id": 4323914439,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQzMjM5MTQ0Mzk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4323914439",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-12T09:36:14Z"
    },
    {
      "event": "commented",
      "id": 778617207,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc3ODYxNzIwNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/778617207",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-13T13:11:01Z",
      "updated_at": "2021-02-13T13:11:01Z",
      "author_association": "MEMBER",
      "body": "Just for reference: previous incarnations of this PR had the `Sock::Wait()` method report to the caller whether one of the requested events happened or a timeout occurred. This was [removed](https://github.com/bitcoin/bitcoin/pull/20788#discussion_r550250637) because none of the callers needed it.\r\n\r\nHowever this is needed in #20685, so that PR contains a tiny [commit](https://github.com/bitcoin/bitcoin/pull/20685/commits/8bc35b9cb1b38386c7234f251959fdb2f121ac07) to re-introduce that functionality.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#issuecomment-778617207",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20788"
    },
    {
      "event": "referenced",
      "id": 4338860773,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQzMzg4NjA3NzM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4338860773",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "7c8e605bf4207d176e3a706f8928fae557e49a24",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7c8e605bf4207d176e3a706f8928fae557e49a24",
      "created_at": "2021-02-17T00:26:59Z"
    },
    {
      "event": "referenced",
      "id": 4339995391,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQzMzk5OTUzOTE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4339995391",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "7f50b7edf305f5f656cfb3ee27f793ab69980658",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/7f50b7edf305f5f656cfb3ee27f793ab69980658",
      "created_at": "2021-02-17T08:07:15Z"
    },
    {
      "event": "referenced",
      "id": 4969930418,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ5Njk5MzA0MTg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4969930418",
      "actor": {
        "login": "kittywhiskers",
        "id": 63189531,
        "node_id": "MDQ6VXNlcjYzMTg5NTMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/63189531?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kittywhiskers",
        "html_url": "https://github.com/kittywhiskers",
        "followers_url": "https://api.github.com/users/kittywhiskers/followers",
        "following_url": "https://api.github.com/users/kittywhiskers/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kittywhiskers/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kittywhiskers/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kittywhiskers/subscriptions",
        "organizations_url": "https://api.github.com/users/kittywhiskers/orgs",
        "repos_url": "https://api.github.com/users/kittywhiskers/repos",
        "events_url": "https://api.github.com/users/kittywhiskers/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kittywhiskers/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "52007c9bfc1b92657256615b20a76c7e5c71a103",
      "commit_url": "https://api.github.com/repos/kittywhiskers/dash/commits/52007c9bfc1b92657256615b20a76c7e5c71a103",
      "created_at": "2021-07-02T07:48:02Z"
    },
    {
      "event": "referenced",
      "id": 4974818106,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ5NzQ4MTgxMDY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4974818106",
      "actor": {
        "login": "kittywhiskers",
        "id": 63189531,
        "node_id": "MDQ6VXNlcjYzMTg5NTMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/63189531?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kittywhiskers",
        "html_url": "https://github.com/kittywhiskers",
        "followers_url": "https://api.github.com/users/kittywhiskers/followers",
        "following_url": "https://api.github.com/users/kittywhiskers/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kittywhiskers/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kittywhiskers/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kittywhiskers/subscriptions",
        "organizations_url": "https://api.github.com/users/kittywhiskers/orgs",
        "repos_url": "https://api.github.com/users/kittywhiskers/repos",
        "events_url": "https://api.github.com/users/kittywhiskers/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kittywhiskers/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "41c798344e850c89c6afc11e9c149cff4fbdcdfb",
      "commit_url": "https://api.github.com/repos/kittywhiskers/dash/commits/41c798344e850c89c6afc11e9c149cff4fbdcdfb",
      "created_at": "2021-07-04T06:53:04Z"
    },
    {
      "event": "referenced",
      "id": 5001155714,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDUwMDExNTU3MTQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5001155714",
      "actor": {
        "login": "kittywhiskers",
        "id": 63189531,
        "node_id": "MDQ6VXNlcjYzMTg5NTMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/63189531?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kittywhiskers",
        "html_url": "https://github.com/kittywhiskers",
        "followers_url": "https://api.github.com/users/kittywhiskers/followers",
        "following_url": "https://api.github.com/users/kittywhiskers/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kittywhiskers/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kittywhiskers/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kittywhiskers/subscriptions",
        "organizations_url": "https://api.github.com/users/kittywhiskers/orgs",
        "repos_url": "https://api.github.com/users/kittywhiskers/repos",
        "events_url": "https://api.github.com/users/kittywhiskers/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kittywhiskers/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "307649fa6ba3447eaa10fb6b123e0e6255ac3d5e",
      "commit_url": "https://api.github.com/repos/kittywhiskers/dash/commits/307649fa6ba3447eaa10fb6b123e0e6255ac3d5e",
      "created_at": "2021-07-09T16:02:24Z"
    },
    {
      "event": "referenced",
      "id": 5001162670,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDUwMDExNjI2NzA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5001162670",
      "actor": {
        "login": "kittywhiskers",
        "id": 63189531,
        "node_id": "MDQ6VXNlcjYzMTg5NTMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/63189531?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kittywhiskers",
        "html_url": "https://github.com/kittywhiskers",
        "followers_url": "https://api.github.com/users/kittywhiskers/followers",
        "following_url": "https://api.github.com/users/kittywhiskers/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kittywhiskers/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kittywhiskers/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kittywhiskers/subscriptions",
        "organizations_url": "https://api.github.com/users/kittywhiskers/orgs",
        "repos_url": "https://api.github.com/users/kittywhiskers/repos",
        "events_url": "https://api.github.com/users/kittywhiskers/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kittywhiskers/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "0c2fcdc45a08b54673d0d81314895931eb63882a",
      "commit_url": "https://api.github.com/repos/kittywhiskers/dash/commits/0c2fcdc45a08b54673d0d81314895931eb63882a",
      "created_at": "2021-07-09T16:03:54Z"
    },
    {
      "event": "referenced",
      "id": 5001674681,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDUwMDE2NzQ2ODE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5001674681",
      "actor": {
        "login": "kittywhiskers",
        "id": 63189531,
        "node_id": "MDQ6VXNlcjYzMTg5NTMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/63189531?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kittywhiskers",
        "html_url": "https://github.com/kittywhiskers",
        "followers_url": "https://api.github.com/users/kittywhiskers/followers",
        "following_url": "https://api.github.com/users/kittywhiskers/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kittywhiskers/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kittywhiskers/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kittywhiskers/subscriptions",
        "organizations_url": "https://api.github.com/users/kittywhiskers/orgs",
        "repos_url": "https://api.github.com/users/kittywhiskers/repos",
        "events_url": "https://api.github.com/users/kittywhiskers/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kittywhiskers/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "5321ddbdd8d0331d873390bd9c73288d4972d102",
      "commit_url": "https://api.github.com/repos/kittywhiskers/dash/commits/5321ddbdd8d0331d873390bd9c73288d4972d102",
      "created_at": "2021-07-09T18:13:55Z"
    },
    {
      "event": "referenced",
      "id": 5012803942,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDUwMTI4MDM5NDI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5012803942",
      "actor": {
        "login": "kittywhiskers",
        "id": 63189531,
        "node_id": "MDQ6VXNlcjYzMTg5NTMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/63189531?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kittywhiskers",
        "html_url": "https://github.com/kittywhiskers",
        "followers_url": "https://api.github.com/users/kittywhiskers/followers",
        "following_url": "https://api.github.com/users/kittywhiskers/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kittywhiskers/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kittywhiskers/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kittywhiskers/subscriptions",
        "organizations_url": "https://api.github.com/users/kittywhiskers/orgs",
        "repos_url": "https://api.github.com/users/kittywhiskers/repos",
        "events_url": "https://api.github.com/users/kittywhiskers/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kittywhiskers/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "8a40a3a55c8cb796a2f29c74e6914869ca4744ca",
      "commit_url": "https://api.github.com/repos/kittywhiskers/dash/commits/8a40a3a55c8cb796a2f29c74e6914869ca4744ca",
      "created_at": "2021-07-13T10:20:54Z"
    },
    {
      "event": "referenced",
      "id": 5012859854,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDUwMTI4NTk4NTQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5012859854",
      "actor": {
        "login": "kittywhiskers",
        "id": 63189531,
        "node_id": "MDQ6VXNlcjYzMTg5NTMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/63189531?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kittywhiskers",
        "html_url": "https://github.com/kittywhiskers",
        "followers_url": "https://api.github.com/users/kittywhiskers/followers",
        "following_url": "https://api.github.com/users/kittywhiskers/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kittywhiskers/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kittywhiskers/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kittywhiskers/subscriptions",
        "organizations_url": "https://api.github.com/users/kittywhiskers/orgs",
        "repos_url": "https://api.github.com/users/kittywhiskers/repos",
        "events_url": "https://api.github.com/users/kittywhiskers/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kittywhiskers/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "545d45dbbb908f1a49a85d6f2f44b9f8664ceedc",
      "commit_url": "https://api.github.com/repos/kittywhiskers/dash/commits/545d45dbbb908f1a49a85d6f2f44b9f8664ceedc",
      "created_at": "2021-07-13T10:30:39Z"
    },
    {
      "event": "referenced",
      "id": 5014266043,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDUwMTQyNjYwNDM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5014266043",
      "actor": {
        "login": "kittywhiskers",
        "id": 63189531,
        "node_id": "MDQ6VXNlcjYzMTg5NTMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/63189531?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kittywhiskers",
        "html_url": "https://github.com/kittywhiskers",
        "followers_url": "https://api.github.com/users/kittywhiskers/followers",
        "following_url": "https://api.github.com/users/kittywhiskers/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kittywhiskers/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kittywhiskers/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kittywhiskers/subscriptions",
        "organizations_url": "https://api.github.com/users/kittywhiskers/orgs",
        "repos_url": "https://api.github.com/users/kittywhiskers/repos",
        "events_url": "https://api.github.com/users/kittywhiskers/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kittywhiskers/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "c7d2d54cb154de37a36b7534908cffb62efca8b6",
      "commit_url": "https://api.github.com/repos/kittywhiskers/dash/commits/c7d2d54cb154de37a36b7534908cffb62efca8b6",
      "created_at": "2021-07-13T14:26:39Z"
    },
    {
      "event": "referenced",
      "id": 5026959488,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDUwMjY5NTk0ODg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5026959488",
      "actor": {
        "login": "kittywhiskers",
        "id": 63189531,
        "node_id": "MDQ6VXNlcjYzMTg5NTMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/63189531?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kittywhiskers",
        "html_url": "https://github.com/kittywhiskers",
        "followers_url": "https://api.github.com/users/kittywhiskers/followers",
        "following_url": "https://api.github.com/users/kittywhiskers/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kittywhiskers/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kittywhiskers/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kittywhiskers/subscriptions",
        "organizations_url": "https://api.github.com/users/kittywhiskers/orgs",
        "repos_url": "https://api.github.com/users/kittywhiskers/repos",
        "events_url": "https://api.github.com/users/kittywhiskers/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kittywhiskers/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "776b2eadb9b9161131632cd1b2af22952969c6e3",
      "commit_url": "https://api.github.com/repos/kittywhiskers/dash/commits/776b2eadb9b9161131632cd1b2af22952969c6e3",
      "created_at": "2021-07-15T17:56:26Z"
    },
    {
      "event": "referenced",
      "id": 5026965117,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDUwMjY5NjUxMTc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5026965117",
      "actor": {
        "login": "kittywhiskers",
        "id": 63189531,
        "node_id": "MDQ6VXNlcjYzMTg5NTMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/63189531?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kittywhiskers",
        "html_url": "https://github.com/kittywhiskers",
        "followers_url": "https://api.github.com/users/kittywhiskers/followers",
        "following_url": "https://api.github.com/users/kittywhiskers/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kittywhiskers/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kittywhiskers/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kittywhiskers/subscriptions",
        "organizations_url": "https://api.github.com/users/kittywhiskers/orgs",
        "repos_url": "https://api.github.com/users/kittywhiskers/repos",
        "events_url": "https://api.github.com/users/kittywhiskers/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kittywhiskers/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "d3c15d0ee51e4c9d3cb37a63df42a3ae45955f4c",
      "commit_url": "https://api.github.com/repos/kittywhiskers/dash/commits/d3c15d0ee51e4c9d3cb37a63df42a3ae45955f4c",
      "created_at": "2021-07-15T17:57:34Z"
    },
    {
      "event": "referenced",
      "id": 5031177098,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDUwMzExNzcwOTg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5031177098",
      "actor": {
        "login": "kittywhiskers",
        "id": 63189531,
        "node_id": "MDQ6VXNlcjYzMTg5NTMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/63189531?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kittywhiskers",
        "html_url": "https://github.com/kittywhiskers",
        "followers_url": "https://api.github.com/users/kittywhiskers/followers",
        "following_url": "https://api.github.com/users/kittywhiskers/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kittywhiskers/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kittywhiskers/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kittywhiskers/subscriptions",
        "organizations_url": "https://api.github.com/users/kittywhiskers/orgs",
        "repos_url": "https://api.github.com/users/kittywhiskers/repos",
        "events_url": "https://api.github.com/users/kittywhiskers/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kittywhiskers/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "d905728fe7fd741ed5ee2bf8410f735b82ce30b6",
      "commit_url": "https://api.github.com/repos/kittywhiskers/dash/commits/d905728fe7fd741ed5ee2bf8410f735b82ce30b6",
      "created_at": "2021-07-16T14:15:53Z"
    },
    {
      "event": "referenced",
      "id": 5095632520,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDUwOTU2MzI1MjA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5095632520",
      "actor": {
        "login": "kittywhiskers",
        "id": 63189531,
        "node_id": "MDQ6VXNlcjYzMTg5NTMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/63189531?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kittywhiskers",
        "html_url": "https://github.com/kittywhiskers",
        "followers_url": "https://api.github.com/users/kittywhiskers/followers",
        "following_url": "https://api.github.com/users/kittywhiskers/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kittywhiskers/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kittywhiskers/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kittywhiskers/subscriptions",
        "organizations_url": "https://api.github.com/users/kittywhiskers/orgs",
        "repos_url": "https://api.github.com/users/kittywhiskers/repos",
        "events_url": "https://api.github.com/users/kittywhiskers/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kittywhiskers/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "f195d549b4fc03f60b7847ad979b606c456d6a45",
      "commit_url": "https://api.github.com/repos/kittywhiskers/dash/commits/f195d549b4fc03f60b7847ad979b606c456d6a45",
      "created_at": "2021-08-01T16:22:56Z"
    },
    {
      "event": "referenced",
      "id": 5287312107,
      "node_id": "REFE_lADOABII584uOM0zzwAAAAE7Jfrr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5287312107",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "2ec884dd6d691b25a3a74585be90170d729a1c94",
      "commit_url": "https://api.github.com/repos/hebasto/bitcoin/commits/2ec884dd6d691b25a3a74585be90170d729a1c94",
      "created_at": "2021-09-11T07:44:44Z"
    },
    {
      "event": "referenced",
      "id": 5287313739,
      "node_id": "REFE_lADOABII584uOM0zzwAAAAE7JgFL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5287313739",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "317442525586ba9ff8b9af6c506b48f87cd8cd87",
      "commit_url": "https://api.github.com/repos/hebasto/bitcoin/commits/317442525586ba9ff8b9af6c506b48f87cd8cd87",
      "created_at": "2021-09-11T07:47:10Z"
    },
    {
      "event": "referenced",
      "id": 5310500478,
      "node_id": "REFE_lADOABII584uOM0zzwAAAAE8h85-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5310500478",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "ec7ec69c7bcaea2b301991066a06b183b50ebe11",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ec7ec69c7bcaea2b301991066a06b183b50ebe11",
      "created_at": "2021-09-16T07:14:36Z"
    },
    {
      "event": "referenced",
      "id": 5324773631,
      "node_id": "REFE_lADOABII584uOM0zzwAAAAE9YZj_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5324773631",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "c6525c9b584d84be297faf9e626ab163d92f76d7",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/c6525c9b584d84be297faf9e626ab163d92f76d7",
      "created_at": "2021-09-19T14:47:20Z"
    },
    {
      "event": "referenced",
      "id": 6026908744,
      "node_id": "REFE_lADOABII584uOM0zzwAAAAFnO1RI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6026908744",
      "actor": {
        "login": "Fabcien",
        "id": 44533924,
        "node_id": "MDQ6VXNlcjQ0NTMzOTI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/44533924?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Fabcien",
        "html_url": "https://github.com/Fabcien",
        "followers_url": "https://api.github.com/users/Fabcien/followers",
        "following_url": "https://api.github.com/users/Fabcien/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Fabcien/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Fabcien/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Fabcien/subscriptions",
        "organizations_url": "https://api.github.com/users/Fabcien/orgs",
        "repos_url": "https://api.github.com/users/Fabcien/repos",
        "events_url": "https://api.github.com/users/Fabcien/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Fabcien/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "824cdcfc4281569bfe4f715a3fba768c4c88eb18",
      "commit_url": "https://api.github.com/repos/Bitcoin-ABC/bitcoin-abc/commits/824cdcfc4281569bfe4f715a3fba768c4c88eb18",
      "created_at": "2022-02-08T13:44:52Z"
    },
    {
      "event": "referenced",
      "id": 6026908779,
      "node_id": "REFE_lADOABII584uOM0zzwAAAAFnO1Rr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6026908779",
      "actor": {
        "login": "Fabcien",
        "id": 44533924,
        "node_id": "MDQ6VXNlcjQ0NTMzOTI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/44533924?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Fabcien",
        "html_url": "https://github.com/Fabcien",
        "followers_url": "https://api.github.com/users/Fabcien/followers",
        "following_url": "https://api.github.com/users/Fabcien/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Fabcien/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Fabcien/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Fabcien/subscriptions",
        "organizations_url": "https://api.github.com/users/Fabcien/orgs",
        "repos_url": "https://api.github.com/users/Fabcien/repos",
        "events_url": "https://api.github.com/users/Fabcien/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Fabcien/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "dbfdac4aa4c3d357427c07a4f06a0334b4026ec5",
      "commit_url": "https://api.github.com/repos/Bitcoin-ABC/bitcoin-abc/commits/dbfdac4aa4c3d357427c07a4f06a0334b4026ec5",
      "created_at": "2022-02-08T13:44:52Z"
    },
    {
      "event": "referenced",
      "id": 6026908787,
      "node_id": "REFE_lADOABII584uOM0zzwAAAAFnO1Rz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6026908787",
      "actor": {
        "login": "Fabcien",
        "id": 44533924,
        "node_id": "MDQ6VXNlcjQ0NTMzOTI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/44533924?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Fabcien",
        "html_url": "https://github.com/Fabcien",
        "followers_url": "https://api.github.com/users/Fabcien/followers",
        "following_url": "https://api.github.com/users/Fabcien/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Fabcien/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Fabcien/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Fabcien/subscriptions",
        "organizations_url": "https://api.github.com/users/Fabcien/orgs",
        "repos_url": "https://api.github.com/users/Fabcien/repos",
        "events_url": "https://api.github.com/users/Fabcien/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Fabcien/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "e445307f56fa01717ddcb6ac88295bb56d9f2fcb",
      "commit_url": "https://api.github.com/repos/Bitcoin-ABC/bitcoin-abc/commits/e445307f56fa01717ddcb6ac88295bb56d9f2fcb",
      "created_at": "2022-02-08T13:44:52Z"
    },
    {
      "event": "referenced",
      "id": 6026908795,
      "node_id": "REFE_lADOABII584uOM0zzwAAAAFnO1R7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6026908795",
      "actor": {
        "login": "Fabcien",
        "id": 44533924,
        "node_id": "MDQ6VXNlcjQ0NTMzOTI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/44533924?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Fabcien",
        "html_url": "https://github.com/Fabcien",
        "followers_url": "https://api.github.com/users/Fabcien/followers",
        "following_url": "https://api.github.com/users/Fabcien/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Fabcien/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Fabcien/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Fabcien/subscriptions",
        "organizations_url": "https://api.github.com/users/Fabcien/orgs",
        "repos_url": "https://api.github.com/users/Fabcien/repos",
        "events_url": "https://api.github.com/users/Fabcien/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Fabcien/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "b602a1a798074e01d535990474261fc9df959d75",
      "commit_url": "https://api.github.com/repos/Bitcoin-ABC/bitcoin-abc/commits/b602a1a798074e01d535990474261fc9df959d75",
      "created_at": "2022-02-08T13:44:52Z"
    },
    {
      "event": "locked",
      "id": 7199017589,
      "node_id": "LOE_lADOABII584uOM0zzwAAAAGtGEp1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7199017589",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-16T17:04:23Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/549406398",
      "pull_request_review_id": 559212963,
      "id": 549406398,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTQwNjM5OA==",
      "diff_hunk": "@@ -0,0 +1,134 @@\n+// Copyright (c) 2012-2020 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <compat.h>\n+#include <netaddress.h>\n+#include <netbase.h>",
      "path": "src/sock.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "99b8e88a15cb12483f28079d0f91fe8cf361da56",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n#include <netbase.h> // For CloseSocket\r\n```\r\n\r\nIt seems this is the only Bitcoin Core related dependency. Are the other includes needed at all? If not, it would be good to move this module to `util`, which is the place for general utility stuff (not bitcoin related).",
      "created_at": "2020-12-28T16:26:39Z",
      "updated_at": "2021-02-11T09:45:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r549406398",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/549406398"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 7,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/549461016",
      "pull_request_review_id": 559273398,
      "id": 549461016,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTQ2MTAxNg==",
      "diff_hunk": "@@ -347,15 +349,15 @@ enum class IntrRecvError {\n  *      Sockets can be made non-blocking with SetSocketNonBlocking(const\n  *      SOCKET&, bool).\n  */\n-static IntrRecvError InterruptibleRecv(uint8_t* data, size_t len, int timeout, const SOCKET& hSocket)\n+static IntrRecvError InterruptibleRecv(uint8_t* data, size_t len, int timeout, const Sock& sock)",
      "path": "src/netbase.cpp",
      "position": 48,
      "original_position": 33,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "99b8e88a15cb12483f28079d0f91fe8cf361da56",
      "in_reply_to_id": null,
      "user": {
        "login": "lontivero",
        "id": 127973,
        "node_id": "MDQ6VXNlcjEyNzk3Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127973?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lontivero",
        "html_url": "https://github.com/lontivero",
        "followers_url": "https://api.github.com/users/lontivero/followers",
        "following_url": "https://api.github.com/users/lontivero/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/lontivero/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/lontivero/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/lontivero/subscriptions",
        "organizations_url": "https://api.github.com/users/lontivero/orgs",
        "repos_url": "https://api.github.com/users/lontivero/repos",
        "events_url": "https://api.github.com/users/lontivero/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/lontivero/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Q: would it make sense to have this method as part of the `Sock`? (Something similar to `Sock::recv` but with a timeout parameter)",
      "created_at": "2020-12-28T19:26:26Z",
      "updated_at": "2021-02-11T09:45:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r549461016",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/549461016"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 345,
      "original_line": 345,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/549718454",
      "pull_request_review_id": 559548844,
      "id": 549718454,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTcxODQ1NA==",
      "diff_hunk": "@@ -347,15 +349,15 @@ enum class IntrRecvError {\n  *      Sockets can be made non-blocking with SetSocketNonBlocking(const\n  *      SOCKET&, bool).\n  */\n-static IntrRecvError InterruptibleRecv(uint8_t* data, size_t len, int timeout, const SOCKET& hSocket)\n+static IntrRecvError InterruptibleRecv(uint8_t* data, size_t len, int timeout, const Sock& sock)",
      "path": "src/netbase.cpp",
      "position": 48,
      "original_position": 33,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "99b8e88a15cb12483f28079d0f91fe8cf361da56",
      "in_reply_to_id": 549461016,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, indeed. That would be convenient together with a `send` method that retries upon temporary failures (see below).\r\n\r\nI did not include such methods in this PR because it is self-sufficient as it is and achieves the initial purpose to introduce a mockable socket that can be used for fuzzing in https://github.com/bitcoin/bitcoin/pull/19203.\r\n\r\nPossible future improvements (which I resisted adding in this PR):\r\n* Add robust receiving method, like `InterruptibleRecv()` (or change that function to a method of the `Sock` class)\r\n* Add robust sending method, like [`SendComplete()`](https://github.com/bitcoin/bitcoin/blob/2ae504c4b96013c87cc97909bdb00866fc4ab8a0/src/netbase.cpp#L1085) from https://github.com/bitcoin/bitcoin/pull/20685\r\n* Use `Sock` in more places instead of the bare `SOCKET` - chase all places where `Sock::Release()` or `Sock::Get()` is called and see if the consumer can be changed to use `Sock` instead. E.g. in `CNode` constructor.",
      "created_at": "2020-12-29T14:10:40Z",
      "updated_at": "2021-02-11T09:45:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r549718454",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/549718454"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 345,
      "original_line": 345,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/549799438",
      "pull_request_review_id": 559645147,
      "id": 549799438,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTc5OTQzOA==",
      "diff_hunk": "@@ -0,0 +1,134 @@\n+// Copyright (c) 2012-2020 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <compat.h>\n+#include <netaddress.h>\n+#include <netbase.h>",
      "path": "src/sock.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "99b8e88a15cb12483f28079d0f91fe8cf361da56",
      "in_reply_to_id": 549406398,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "No, the other includes are not needed (and I removed them). However there is a circular dependency now:\r\n\r\n* netbase -> sock (`netbase.cpp` uses the `Sock` class, of course)\r\n* sock -> netbase (`sock.cpp` uses `MillisToTimeval()` and `CloseSocket()` which are defined in `netbase.cpp`)\r\n\r\nOne way to resolve that is to put the `Sock` class in `netbase.{h,cpp}` and ditch `sock.{h,cpp}`.\r\n\r\nAnother one would be to move `MillisToTimeval()` and `CloseSocket()` outside of `netbase.cpp`, somewhere in `src/util/` and use them from both `netbase.cpp` and from `sock.cpp`.\r\n\r\nHmm...",
      "created_at": "2020-12-29T18:09:50Z",
      "updated_at": "2021-02-11T09:45:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r549799438",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/549799438"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 7,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550164602",
      "pull_request_review_id": 560013690,
      "id": 550164602,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDE2NDYwMg==",
      "diff_hunk": "@@ -0,0 +1,134 @@\n+// Copyright (c) 2012-2020 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <compat.h>\n+#include <netaddress.h>\n+#include <netbase.h>",
      "path": "src/sock.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "99b8e88a15cb12483f28079d0f91fe8cf361da56",
      "in_reply_to_id": 549406398,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> One way to resolve that is to put the `Sock` class in `netbase.{h,cpp}`...\r\n\r\nDid that.",
      "created_at": "2020-12-30T11:38:39Z",
      "updated_at": "2021-02-11T09:45:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r550164602",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550164602"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 7,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550243581",
      "pull_request_review_id": 560106469,
      "id": 550243581,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDI0MzU4MQ==",
      "diff_hunk": "@@ -51,9 +54,130 @@ bool Lookup(const std::string& name, CService& addr, int portDefault, bool fAllo\n bool Lookup(const std::string& name, std::vector<CService>& vAddr, int portDefault, bool fAllowLookup, unsigned int nMaxSolutions);\n CService LookupNumeric(const std::string& name, int portDefault = 0);\n bool LookupSubNet(const std::string& strSubnet, CSubNet& subnet);\n-SOCKET CreateSocket(const CService &addrConnect);\n+\n+/**\n+ * RAII helper class that manages a socket. Mimics `std::unique_ptr`, but instead of a pointer it\n+ * contains a socket and closes it automatically when it goes out of scope.\n+ */\n+class Sock\n+{\n+public:\n+    /**\n+     * Default constructor, creates an empty object that does nothing when destroyed.\n+     */\n+    Sock();\n+\n+    /**\n+     * Take ownership of an existent socket.\n+     */\n+    explicit Sock(SOCKET s);\n+\n+    /**\n+     * Copy constructor, disabled because closing the same socket twice is undesirable.\n+     */\n+    Sock(const Sock&) = delete;\n+\n+    /**\n+     * Move constructor, grab the socket from another object and close ours (if set).\n+     */\n+    Sock(Sock&& other);\n+\n+    /**\n+     * Destructor, close the socket or do nothing if empty.\n+     */\n+    virtual ~Sock();\n+\n+    /**\n+     * Copy assignment operator, disabled because closing the same socket twice is undesirable.\n+     */\n+    Sock& operator=(const Sock&) = delete;\n+\n+    /**\n+     * Move assignment operator, grab the socket from another object and close ours (if set).\n+     */\n+    virtual Sock& operator=(Sock&& other);\n+\n+    /**\n+     * Get the value of the contained socket.\n+     * @return socket or INVALID_SOCKET if empty\n+     */\n+    virtual SOCKET Get() const;\n+\n+    /**\n+     * Get the value of the contained socket and drop ownership. It will not be closed by the\n+     * destructor after this call.\n+     * @return socket or INVALID_SOCKET if empty\n+     */\n+    virtual SOCKET Release();\n+\n+    /**\n+     * Close if non-empty.\n+     */\n+    virtual void Reset();\n+\n+    /**\n+     * send(2) wrapper. Equivalent to `send(this->Get(), data, len, flags);`. Code that uses this\n+     * wrapper can be unit-tested if this method is overriden by a mock Sock implementation.\n+     */\n+    virtual ssize_t Send(const void* data, size_t len, int flags) const;\n+\n+    /**\n+     * recv(2) wrapper. Equivalent to `recv(this->Get(), buf, len, flags);`. Code that uses this\n+     * wrapper can be unit-tested if this method is overriden by a mock Sock implementation.",
      "path": "src/netbase.h",
      "position": null,
      "original_position": 84,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "408a9473bed6b3be82b124c171435247100b9d34",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit here and L120, s/overriden/overridden/",
      "created_at": "2020-12-30T16:02:50Z",
      "updated_at": "2021-02-11T09:45:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r550243581",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550243581"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 126,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550248416",
      "pull_request_review_id": 560112136,
      "id": 550248416,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDI0ODQxNg==",
      "diff_hunk": "@@ -437,51 +437,55 @@ CNode* CConnman::ConnectNode(CAddress addrConnect, const char *pszDest, bool fCo\n \n     // Connect\n     bool connected = false;\n-    SOCKET hSocket = INVALID_SOCKET;\n+    std::unique_ptr<Sock> sock;\n     proxyType proxy;\n     if (addrConnect.IsValid()) {\n         bool proxyConnectionFailed = false;\n \n         if (GetProxy(addrConnect.GetNetwork(), proxy)) {\n-            hSocket = CreateSocket(proxy.proxy);\n-            if (hSocket == INVALID_SOCKET) {\n+            sock = CreateSock(proxy.proxy);\n+            if (!sock) {\n                 return nullptr;\n             }\n-            connected = ConnectThroughProxy(proxy, addrConnect.ToStringIP(), addrConnect.GetPort(), hSocket, nConnectTimeout, proxyConnectionFailed);\n+            connected = ConnectThroughProxy(proxy, addrConnect.ToStringIP(), addrConnect.GetPort(),\n+                                            *sock, nConnectTimeout, proxyConnectionFailed);\n         } else {\n             // no proxy needed (none set for target network)\n-            hSocket = CreateSocket(addrConnect);\n-            if (hSocket == INVALID_SOCKET) {\n+            sock = CreateSock(addrConnect);\n+            if (!sock) {\n                 return nullptr;\n             }\n-            connected = ConnectSocketDirectly(addrConnect, hSocket, nConnectTimeout, conn_type == ConnectionType::MANUAL);\n+            connected = ConnectSocketDirectly(addrConnect, sock->Get(), nConnectTimeout,\n+                                              conn_type == ConnectionType::MANUAL);\n         }\n         if (!proxyConnectionFailed) {\n             // If a connection to the node was attempted, and failure (if any) is not caused by a problem connecting to\n             // the proxy, mark this as an attempt.\n             addrman.Attempt(addrConnect, fCountFailure);\n         }\n     } else if (pszDest && GetNameProxy(proxy)) {\n-        hSocket = CreateSocket(proxy.proxy);\n-        if (hSocket == INVALID_SOCKET) {\n+        sock = CreateSock(proxy.proxy);\n+        if (!sock) {\n             return nullptr;\n         }\n         std::string host;\n         int port = default_port;\n         SplitHostPort(std::string(pszDest), port, host);\n         bool proxyConnectionFailed;\n-        connected = ConnectThroughProxy(proxy, host, port, hSocket, nConnectTimeout, proxyConnectionFailed);\n+        connected =\n+            ConnectThroughProxy(proxy, host, port, *sock, nConnectTimeout, proxyConnectionFailed);\n     }\n     if (!connected) {\n-        CloseSocket(hSocket);\n         return nullptr;\n     }\n \n     // Add node\n     NodeId id = GetNewNodeId();\n     uint64_t nonce = GetDeterministicRandomizer(RANDOMIZER_ID_LOCALHOSTNONCE).Write(id).Finalize();\n-    CAddress addr_bind = GetBindAddress(hSocket);\n-    CNode* pnode = new CNode(id, nLocalServices, GetBestHeight(), hSocket, addrConnect, CalculateKeyedNetGroup(addrConnect), nonce, addr_bind, pszDest ? pszDest : \"\", conn_type);\n+    CAddress addr_bind = GetBindAddress(sock->Get());\n+    CNode* pnode = new CNode(id, nLocalServices, GetBestHeight(), sock->Release(), addrConnect,\n+                             CalculateKeyedNetGroup(addrConnect), nonce, addr_bind,\n+                             pszDest ? pszDest : \"\", conn_type);",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 65,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "408a9473bed6b3be82b124c171435247100b9d34",
      "in_reply_to_id": null,
      "user": {
        "login": "lontivero",
        "id": 127973,
        "node_id": "MDQ6VXNlcjEyNzk3Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127973?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lontivero",
        "html_url": "https://github.com/lontivero",
        "followers_url": "https://api.github.com/users/lontivero/followers",
        "following_url": "https://api.github.com/users/lontivero/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/lontivero/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/lontivero/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/lontivero/subscriptions",
        "organizations_url": "https://api.github.com/users/lontivero/orgs",
        "repos_url": "https://api.github.com/users/lontivero/repos",
        "events_url": "https://api.github.com/users/lontivero/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/lontivero/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: i would like to suggest rename `Sock::Release` as `Sock::GetAndRelease`. IMO it makes it just a tiny bit  more readable. Feel free to ignore this comment.\r\n```c++\r\n    CNode* pnode = new CNode(id, nLocalServices, GetBestHeight(), sock->GetAndRelease(), addrConnect,\r\n                             CalculateKeyedNetGroup(addrConnect), nonce, addr_bind,\r\n                             pszDest ? pszDest : \"\", conn_type);\r\n```",
      "created_at": "2020-12-30T16:17:47Z",
      "updated_at": "2021-02-11T09:45:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r550248416",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550248416"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": 486,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 479,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550250637",
      "pull_request_review_id": 560112136,
      "id": 550250637,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDI1MDYzNw==",
      "diff_hunk": "@@ -541,58 +530,170 @@ static bool Socks5(const std::string& strDest, int port, const ProxyCredentials\n     uint8_t pchRet3[256];\n     switch (pchRet2[3])\n     {\n-        case SOCKS5Atyp::IPV4: recvr = InterruptibleRecv(pchRet3, 4, SOCKS5_RECV_TIMEOUT, hSocket); break;\n-        case SOCKS5Atyp::IPV6: recvr = InterruptibleRecv(pchRet3, 16, SOCKS5_RECV_TIMEOUT, hSocket); break;\n+        case SOCKS5Atyp::IPV4: recvr = InterruptibleRecv(pchRet3, 4, SOCKS5_RECV_TIMEOUT, sock); break;\n+        case SOCKS5Atyp::IPV6: recvr = InterruptibleRecv(pchRet3, 16, SOCKS5_RECV_TIMEOUT, sock); break;\n         case SOCKS5Atyp::DOMAINNAME:\n         {\n-            recvr = InterruptibleRecv(pchRet3, 1, SOCKS5_RECV_TIMEOUT, hSocket);\n+            recvr = InterruptibleRecv(pchRet3, 1, SOCKS5_RECV_TIMEOUT, sock);\n             if (recvr != IntrRecvError::OK) {\n                 return error(\"Error reading from proxy\");\n             }\n             int nRecv = pchRet3[0];\n-            recvr = InterruptibleRecv(pchRet3, nRecv, SOCKS5_RECV_TIMEOUT, hSocket);\n+            recvr = InterruptibleRecv(pchRet3, nRecv, SOCKS5_RECV_TIMEOUT, sock);\n             break;\n         }\n         default: return error(\"Error: malformed proxy response\");\n     }\n     if (recvr != IntrRecvError::OK) {\n         return error(\"Error reading from proxy\");\n     }\n-    if ((recvr = InterruptibleRecv(pchRet3, 2, SOCKS5_RECV_TIMEOUT, hSocket)) != IntrRecvError::OK) {\n+    if ((recvr = InterruptibleRecv(pchRet3, 2, SOCKS5_RECV_TIMEOUT, sock)) != IntrRecvError::OK) {\n         return error(\"Error reading from proxy\");\n     }\n     LogPrint(BCLog::NET, \"SOCKS5 connected %s\\n\", strDest);\n     return true;\n }\n \n-/**\n- * Try to create a socket file descriptor with specific properties in the\n- * communications domain (address family) of the specified service.\n- *\n- * For details on the desired properties, see the inline comments in the source\n- * code.\n- */\n-SOCKET CreateSocket(const CService &addrConnect)\n+Sock::Sock() : m_socket(INVALID_SOCKET) {}\n+\n+Sock::Sock(SOCKET s) : m_socket(s) {}\n+\n+Sock::Sock(Sock&& other)\n+{\n+    Reset();\n+    m_socket = other.m_socket;\n+    other.m_socket = INVALID_SOCKET;\n+}\n+\n+Sock::~Sock() { Reset(); }\n+\n+Sock& Sock::operator=(Sock&& other)\n+{\n+    Reset();\n+    m_socket = other.m_socket;\n+    other.m_socket = INVALID_SOCKET;\n+    return *this;\n+}\n+\n+SOCKET Sock::Get() const { return m_socket; }\n+\n+SOCKET Sock::Release()\n+{\n+    const SOCKET s = m_socket;\n+    m_socket = INVALID_SOCKET;\n+    return s;\n+}\n+\n+void Sock::Reset() { CloseSocket(m_socket); }\n+\n+ssize_t Sock::Send(const void* data, size_t len, int flags) const\n+{\n+    return send(m_socket, static_cast<const char*>(data), len, flags);\n+}\n+\n+ssize_t Sock::Recv(void* buf, size_t len, int flags) const\n+{\n+    return recv(m_socket, static_cast<char*>(buf), len, flags);\n+}\n+\n+bool Sock::Wait(const std::chrono::milliseconds& timeout, Event requested, Event* returned) const",
      "path": "src/netbase.cpp",
      "position": null,
      "original_position": 215,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "408a9473bed6b3be82b124c171435247100b9d34",
      "in_reply_to_id": null,
      "user": {
        "login": "lontivero",
        "id": 127973,
        "node_id": "MDQ6VXNlcjEyNzk3Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127973?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lontivero",
        "html_url": "https://github.com/lontivero",
        "followers_url": "https://api.github.com/users/lontivero/followers",
        "following_url": "https://api.github.com/users/lontivero/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/lontivero/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/lontivero/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/lontivero/subscriptions",
        "organizations_url": "https://api.github.com/users/lontivero/orgs",
        "repos_url": "https://api.github.com/users/lontivero/repos",
        "events_url": "https://api.github.com/users/lontivero/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/lontivero/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The `returned` parameter is never used by any caller. It seems this is something that was added for future usage maybe. Does it make sense to have it at this point in time, I mean, if tomorrow it is needed then it could be added in a future PR. ",
      "created_at": "2020-12-30T16:24:06Z",
      "updated_at": "2021-02-11T09:45:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r550250637",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550250637"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 599,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550487660",
      "pull_request_review_id": 560354806,
      "id": 550487660,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDQ4NzY2MA==",
      "diff_hunk": "@@ -437,51 +437,55 @@ CNode* CConnman::ConnectNode(CAddress addrConnect, const char *pszDest, bool fCo\n \n     // Connect\n     bool connected = false;\n-    SOCKET hSocket = INVALID_SOCKET;\n+    std::unique_ptr<Sock> sock;\n     proxyType proxy;\n     if (addrConnect.IsValid()) {\n         bool proxyConnectionFailed = false;\n \n         if (GetProxy(addrConnect.GetNetwork(), proxy)) {\n-            hSocket = CreateSocket(proxy.proxy);\n-            if (hSocket == INVALID_SOCKET) {\n+            sock = CreateSock(proxy.proxy);\n+            if (!sock) {\n                 return nullptr;\n             }\n-            connected = ConnectThroughProxy(proxy, addrConnect.ToStringIP(), addrConnect.GetPort(), hSocket, nConnectTimeout, proxyConnectionFailed);\n+            connected = ConnectThroughProxy(proxy, addrConnect.ToStringIP(), addrConnect.GetPort(),\n+                                            *sock, nConnectTimeout, proxyConnectionFailed);\n         } else {\n             // no proxy needed (none set for target network)\n-            hSocket = CreateSocket(addrConnect);\n-            if (hSocket == INVALID_SOCKET) {\n+            sock = CreateSock(addrConnect);\n+            if (!sock) {\n                 return nullptr;\n             }\n-            connected = ConnectSocketDirectly(addrConnect, hSocket, nConnectTimeout, conn_type == ConnectionType::MANUAL);\n+            connected = ConnectSocketDirectly(addrConnect, sock->Get(), nConnectTimeout,\n+                                              conn_type == ConnectionType::MANUAL);\n         }\n         if (!proxyConnectionFailed) {\n             // If a connection to the node was attempted, and failure (if any) is not caused by a problem connecting to\n             // the proxy, mark this as an attempt.\n             addrman.Attempt(addrConnect, fCountFailure);\n         }\n     } else if (pszDest && GetNameProxy(proxy)) {\n-        hSocket = CreateSocket(proxy.proxy);\n-        if (hSocket == INVALID_SOCKET) {\n+        sock = CreateSock(proxy.proxy);\n+        if (!sock) {\n             return nullptr;\n         }\n         std::string host;\n         int port = default_port;\n         SplitHostPort(std::string(pszDest), port, host);\n         bool proxyConnectionFailed;\n-        connected = ConnectThroughProxy(proxy, host, port, hSocket, nConnectTimeout, proxyConnectionFailed);\n+        connected =\n+            ConnectThroughProxy(proxy, host, port, *sock, nConnectTimeout, proxyConnectionFailed);\n     }\n     if (!connected) {\n-        CloseSocket(hSocket);\n         return nullptr;\n     }\n \n     // Add node\n     NodeId id = GetNewNodeId();\n     uint64_t nonce = GetDeterministicRandomizer(RANDOMIZER_ID_LOCALHOSTNONCE).Write(id).Finalize();\n-    CAddress addr_bind = GetBindAddress(hSocket);\n-    CNode* pnode = new CNode(id, nLocalServices, GetBestHeight(), hSocket, addrConnect, CalculateKeyedNetGroup(addrConnect), nonce, addr_bind, pszDest ? pszDest : \"\", conn_type);\n+    CAddress addr_bind = GetBindAddress(sock->Get());\n+    CNode* pnode = new CNode(id, nLocalServices, GetBestHeight(), sock->Release(), addrConnect,\n+                             CalculateKeyedNetGroup(addrConnect), nonce, addr_bind,\n+                             pszDest ? pszDest : \"\", conn_type);",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 65,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "408a9473bed6b3be82b124c171435247100b9d34",
      "in_reply_to_id": 550248416,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I agree `GetAndRelease()` is more descriptive, but I am trying to mimic `std::unique_ptr` and its [method which is called release()](https://en.cppreference.com/w/cpp/memory/unique_ptr/release).",
      "created_at": "2020-12-31T13:53:08Z",
      "updated_at": "2021-02-11T09:45:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r550487660",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550487660"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": 486,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 479,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550491541",
      "pull_request_review_id": 560358779,
      "id": 550491541,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDQ5MTU0MQ==",
      "diff_hunk": "@@ -51,9 +54,130 @@ bool Lookup(const std::string& name, CService& addr, int portDefault, bool fAllo\n bool Lookup(const std::string& name, std::vector<CService>& vAddr, int portDefault, bool fAllowLookup, unsigned int nMaxSolutions);\n CService LookupNumeric(const std::string& name, int portDefault = 0);\n bool LookupSubNet(const std::string& strSubnet, CSubNet& subnet);\n-SOCKET CreateSocket(const CService &addrConnect);\n+\n+/**\n+ * RAII helper class that manages a socket. Mimics `std::unique_ptr`, but instead of a pointer it\n+ * contains a socket and closes it automatically when it goes out of scope.\n+ */\n+class Sock\n+{\n+public:\n+    /**\n+     * Default constructor, creates an empty object that does nothing when destroyed.\n+     */\n+    Sock();\n+\n+    /**\n+     * Take ownership of an existent socket.\n+     */\n+    explicit Sock(SOCKET s);\n+\n+    /**\n+     * Copy constructor, disabled because closing the same socket twice is undesirable.\n+     */\n+    Sock(const Sock&) = delete;\n+\n+    /**\n+     * Move constructor, grab the socket from another object and close ours (if set).\n+     */\n+    Sock(Sock&& other);\n+\n+    /**\n+     * Destructor, close the socket or do nothing if empty.\n+     */\n+    virtual ~Sock();\n+\n+    /**\n+     * Copy assignment operator, disabled because closing the same socket twice is undesirable.\n+     */\n+    Sock& operator=(const Sock&) = delete;\n+\n+    /**\n+     * Move assignment operator, grab the socket from another object and close ours (if set).\n+     */\n+    virtual Sock& operator=(Sock&& other);\n+\n+    /**\n+     * Get the value of the contained socket.\n+     * @return socket or INVALID_SOCKET if empty\n+     */\n+    virtual SOCKET Get() const;\n+\n+    /**\n+     * Get the value of the contained socket and drop ownership. It will not be closed by the\n+     * destructor after this call.\n+     * @return socket or INVALID_SOCKET if empty\n+     */\n+    virtual SOCKET Release();\n+\n+    /**\n+     * Close if non-empty.\n+     */\n+    virtual void Reset();\n+\n+    /**\n+     * send(2) wrapper. Equivalent to `send(this->Get(), data, len, flags);`. Code that uses this\n+     * wrapper can be unit-tested if this method is overriden by a mock Sock implementation.\n+     */\n+    virtual ssize_t Send(const void* data, size_t len, int flags) const;\n+\n+    /**\n+     * recv(2) wrapper. Equivalent to `recv(this->Get(), buf, len, flags);`. Code that uses this\n+     * wrapper can be unit-tested if this method is overriden by a mock Sock implementation.",
      "path": "src/netbase.h",
      "position": null,
      "original_position": 84,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "408a9473bed6b3be82b124c171435247100b9d34",
      "in_reply_to_id": 550243581,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed",
      "created_at": "2020-12-31T14:14:51Z",
      "updated_at": "2021-02-11T09:45:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r550491541",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550491541"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 126,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550491623",
      "pull_request_review_id": 560358852,
      "id": 550491623,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDQ5MTYyMw==",
      "diff_hunk": "@@ -541,58 +530,170 @@ static bool Socks5(const std::string& strDest, int port, const ProxyCredentials\n     uint8_t pchRet3[256];\n     switch (pchRet2[3])\n     {\n-        case SOCKS5Atyp::IPV4: recvr = InterruptibleRecv(pchRet3, 4, SOCKS5_RECV_TIMEOUT, hSocket); break;\n-        case SOCKS5Atyp::IPV6: recvr = InterruptibleRecv(pchRet3, 16, SOCKS5_RECV_TIMEOUT, hSocket); break;\n+        case SOCKS5Atyp::IPV4: recvr = InterruptibleRecv(pchRet3, 4, SOCKS5_RECV_TIMEOUT, sock); break;\n+        case SOCKS5Atyp::IPV6: recvr = InterruptibleRecv(pchRet3, 16, SOCKS5_RECV_TIMEOUT, sock); break;\n         case SOCKS5Atyp::DOMAINNAME:\n         {\n-            recvr = InterruptibleRecv(pchRet3, 1, SOCKS5_RECV_TIMEOUT, hSocket);\n+            recvr = InterruptibleRecv(pchRet3, 1, SOCKS5_RECV_TIMEOUT, sock);\n             if (recvr != IntrRecvError::OK) {\n                 return error(\"Error reading from proxy\");\n             }\n             int nRecv = pchRet3[0];\n-            recvr = InterruptibleRecv(pchRet3, nRecv, SOCKS5_RECV_TIMEOUT, hSocket);\n+            recvr = InterruptibleRecv(pchRet3, nRecv, SOCKS5_RECV_TIMEOUT, sock);\n             break;\n         }\n         default: return error(\"Error: malformed proxy response\");\n     }\n     if (recvr != IntrRecvError::OK) {\n         return error(\"Error reading from proxy\");\n     }\n-    if ((recvr = InterruptibleRecv(pchRet3, 2, SOCKS5_RECV_TIMEOUT, hSocket)) != IntrRecvError::OK) {\n+    if ((recvr = InterruptibleRecv(pchRet3, 2, SOCKS5_RECV_TIMEOUT, sock)) != IntrRecvError::OK) {\n         return error(\"Error reading from proxy\");\n     }\n     LogPrint(BCLog::NET, \"SOCKS5 connected %s\\n\", strDest);\n     return true;\n }\n \n-/**\n- * Try to create a socket file descriptor with specific properties in the\n- * communications domain (address family) of the specified service.\n- *\n- * For details on the desired properties, see the inline comments in the source\n- * code.\n- */\n-SOCKET CreateSocket(const CService &addrConnect)\n+Sock::Sock() : m_socket(INVALID_SOCKET) {}\n+\n+Sock::Sock(SOCKET s) : m_socket(s) {}\n+\n+Sock::Sock(Sock&& other)\n+{\n+    Reset();\n+    m_socket = other.m_socket;\n+    other.m_socket = INVALID_SOCKET;\n+}\n+\n+Sock::~Sock() { Reset(); }\n+\n+Sock& Sock::operator=(Sock&& other)\n+{\n+    Reset();\n+    m_socket = other.m_socket;\n+    other.m_socket = INVALID_SOCKET;\n+    return *this;\n+}\n+\n+SOCKET Sock::Get() const { return m_socket; }\n+\n+SOCKET Sock::Release()\n+{\n+    const SOCKET s = m_socket;\n+    m_socket = INVALID_SOCKET;\n+    return s;\n+}\n+\n+void Sock::Reset() { CloseSocket(m_socket); }\n+\n+ssize_t Sock::Send(const void* data, size_t len, int flags) const\n+{\n+    return send(m_socket, static_cast<const char*>(data), len, flags);\n+}\n+\n+ssize_t Sock::Recv(void* buf, size_t len, int flags) const\n+{\n+    return recv(m_socket, static_cast<char*>(buf), len, flags);\n+}\n+\n+bool Sock::Wait(const std::chrono::milliseconds& timeout, Event requested, Event* returned) const",
      "path": "src/netbase.cpp",
      "position": null,
      "original_position": 215,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "408a9473bed6b3be82b124c171435247100b9d34",
      "in_reply_to_id": 550250637,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Removed, the less code - the better.",
      "created_at": "2020-12-31T14:15:16Z",
      "updated_at": "2021-02-11T09:45:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r550491623",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550491623"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 599,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555073220",
      "pull_request_review_id": 565388599,
      "id": 555073220,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTA3MzIyMA==",
      "diff_hunk": "@@ -0,0 +1,150 @@\n+// Copyright (c) 2021-2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef WIN32",
      "path": "src/test/sock_tests.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "3fa2a11f6e8998819e4ecabaafc6897a4be9ccd8",
      "in_reply_to_id": null,
      "user": {
        "login": "lontivero",
        "id": 127973,
        "node_id": "MDQ6VXNlcjEyNzk3Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127973?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lontivero",
        "html_url": "https://github.com/lontivero",
        "followers_url": "https://api.github.com/users/lontivero/followers",
        "following_url": "https://api.github.com/users/lontivero/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/lontivero/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/lontivero/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/lontivero/subscriptions",
        "organizations_url": "https://api.github.com/users/lontivero/orgs",
        "repos_url": "https://api.github.com/users/lontivero/repos",
        "events_url": "https://api.github.com/users/lontivero/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/lontivero/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Q: Why are these tests disabled for Windows?",
      "created_at": "2021-01-11T14:12:45Z",
      "updated_at": "2021-02-11T09:45:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r555073220",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555073220"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 5,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555075396",
      "pull_request_review_id": 565388599,
      "id": 555075396,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTA3NTM5Ng==",
      "diff_hunk": "@@ -0,0 +1,150 @@\n+// Copyright (c) 2021-2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef WIN32\n+\n+#include <test/util/setup_common.h>\n+#include <util/sock.h>\n+\n+#include <boost/test/unit_test.hpp>\n+\n+#include <sys/socket.h>\n+#include <sys/types.h>\n+#include <thread>\n+\n+using namespace std::chrono_literals;\n+\n+BOOST_FIXTURE_TEST_SUITE(sock_tests, BasicTestingSetup)\n+\n+static bool SocketIsClosed(const SOCKET& s)\n+{\n+    // Notice that if another thread is running and creates its own socket after `s` has been\n+    // closed, it may get assigned the same file descriptor number. In this case our test will\n+    // wronly pretend that the socket is not closed.\n+    int type;\n+    socklen_t len = sizeof(type);\n+    return getsockopt(s, SOL_SOCKET, SO_TYPE, &type, &len) == -1 &&\n+           (errno == EBADF || errno == ENOTSOCK);\n+}\n+\n+static SOCKET CreateSocket()\n+{\n+    const int s = socket(AF_INET, SOCK_STREAM, IPPROTO_TCP);\n+    BOOST_REQUIRE(s != -1);\n+    return static_cast<SOCKET>(s);\n+}\n+\n+static void CreateSocketPair(int s[2])\n+{\n+    BOOST_REQUIRE_EQUAL(socketpair(AF_UNIX, SOCK_STREAM, 0, s), 0);\n+}\n+\n+BOOST_AUTO_TEST_CASE(constructor_and_destructor)\n+{\n+    const SOCKET s = CreateSocket();\n+    Sock* sock = new Sock(s);\n+    BOOST_CHECK_EQUAL(sock->Get(), s);\n+    BOOST_CHECK(!SocketIsClosed(s));\n+    delete sock;\n+    BOOST_CHECK(SocketIsClosed(s));\n+}\n+\n+BOOST_AUTO_TEST_CASE(move_constructor)\n+{\n+    const SOCKET s = CreateSocket();\n+    Sock* sock1 = new Sock(s);\n+    Sock* sock2 = new Sock(std::move(*sock1));\n+    delete sock1;\n+    BOOST_CHECK(!SocketIsClosed(s));\n+    BOOST_CHECK_EQUAL(sock2->Get(), s);\n+    delete sock2;\n+    BOOST_CHECK(SocketIsClosed(s));\n+}\n+\n+BOOST_AUTO_TEST_CASE(move_assignment)\n+{\n+    const SOCKET s = CreateSocket();\n+    Sock* sock1 = new Sock(s);\n+    Sock* sock2 = new Sock();\n+    *sock2 = std::move(*sock1);\n+    delete sock1;\n+    BOOST_CHECK(!SocketIsClosed(s));\n+    BOOST_CHECK_EQUAL(sock2->Get(), s);\n+    delete sock2;\n+    BOOST_CHECK(SocketIsClosed(s));\n+}\n+\n+BOOST_AUTO_TEST_CASE(release)\n+{\n+    const SOCKET s = CreateSocket();\n+    Sock* sock = new Sock(s);\n+    BOOST_CHECK_EQUAL(sock->Release(), s);\n+    delete sock;\n+    BOOST_CHECK(!SocketIsClosed(s));\n+    BOOST_REQUIRE_EQUAL(close(s), 0);",
      "path": "src/test/sock_tests.cpp",
      "position": null,
      "original_position": 85,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "3fa2a11f6e8998819e4ecabaafc6897a4be9ccd8",
      "in_reply_to_id": null,
      "user": {
        "login": "lontivero",
        "id": 127973,
        "node_id": "MDQ6VXNlcjEyNzk3Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127973?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lontivero",
        "html_url": "https://github.com/lontivero",
        "followers_url": "https://api.github.com/users/lontivero/followers",
        "following_url": "https://api.github.com/users/lontivero/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/lontivero/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/lontivero/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/lontivero/subscriptions",
        "organizations_url": "https://api.github.com/users/lontivero/orgs",
        "repos_url": "https://api.github.com/users/lontivero/repos",
        "events_url": "https://api.github.com/users/lontivero/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/lontivero/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Q: Why not `CloseSocket` here? ",
      "created_at": "2021-01-11T14:15:54Z",
      "updated_at": "2021-02-11T09:45:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r555075396",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555075396"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 85,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555083671",
      "pull_request_review_id": 565388599,
      "id": 555083671,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTA4MzY3MQ==",
      "diff_hunk": "@@ -0,0 +1,150 @@\n+// Copyright (c) 2021-2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef WIN32\n+\n+#include <test/util/setup_common.h>\n+#include <util/sock.h>\n+\n+#include <boost/test/unit_test.hpp>\n+\n+#include <sys/socket.h>\n+#include <sys/types.h>\n+#include <thread>\n+\n+using namespace std::chrono_literals;\n+\n+BOOST_FIXTURE_TEST_SUITE(sock_tests, BasicTestingSetup)\n+\n+static bool SocketIsClosed(const SOCKET& s)\n+{\n+    // Notice that if another thread is running and creates its own socket after `s` has been\n+    // closed, it may get assigned the same file descriptor number. In this case our test will\n+    // wronly pretend that the socket is not closed.\n+    int type;\n+    socklen_t len = sizeof(type);\n+    return getsockopt(s, SOL_SOCKET, SO_TYPE, &type, &len) == -1 &&\n+           (errno == EBADF || errno == ENOTSOCK);\n+}\n+\n+static SOCKET CreateSocket()\n+{\n+    const int s = socket(AF_INET, SOCK_STREAM, IPPROTO_TCP);\n+    BOOST_REQUIRE(s != -1);\n+    return static_cast<SOCKET>(s);\n+}\n+\n+static void CreateSocketPair(int s[2])\n+{\n+    BOOST_REQUIRE_EQUAL(socketpair(AF_UNIX, SOCK_STREAM, 0, s), 0);\n+}\n+\n+BOOST_AUTO_TEST_CASE(constructor_and_destructor)\n+{\n+    const SOCKET s = CreateSocket();\n+    Sock* sock = new Sock(s);\n+    BOOST_CHECK_EQUAL(sock->Get(), s);\n+    BOOST_CHECK(!SocketIsClosed(s));\n+    delete sock;\n+    BOOST_CHECK(SocketIsClosed(s));\n+}\n+\n+BOOST_AUTO_TEST_CASE(move_constructor)\n+{\n+    const SOCKET s = CreateSocket();\n+    Sock* sock1 = new Sock(s);\n+    Sock* sock2 = new Sock(std::move(*sock1));\n+    delete sock1;\n+    BOOST_CHECK(!SocketIsClosed(s));\n+    BOOST_CHECK_EQUAL(sock2->Get(), s);\n+    delete sock2;\n+    BOOST_CHECK(SocketIsClosed(s));\n+}\n+\n+BOOST_AUTO_TEST_CASE(move_assignment)\n+{\n+    const SOCKET s = CreateSocket();\n+    Sock* sock1 = new Sock(s);\n+    Sock* sock2 = new Sock();\n+    *sock2 = std::move(*sock1);\n+    delete sock1;\n+    BOOST_CHECK(!SocketIsClosed(s));\n+    BOOST_CHECK_EQUAL(sock2->Get(), s);\n+    delete sock2;\n+    BOOST_CHECK(SocketIsClosed(s));\n+}\n+\n+BOOST_AUTO_TEST_CASE(release)\n+{\n+    const SOCKET s = CreateSocket();\n+    Sock* sock = new Sock(s);\n+    BOOST_CHECK_EQUAL(sock->Release(), s);\n+    delete sock;\n+    BOOST_CHECK(!SocketIsClosed(s));\n+    BOOST_REQUIRE_EQUAL(close(s), 0);\n+}\n+\n+BOOST_AUTO_TEST_CASE(reset)\n+{\n+    const SOCKET s = CreateSocket();\n+    Sock sock(s);\n+    sock.Reset();\n+    BOOST_CHECK(SocketIsClosed(s));\n+}\n+\n+static void SendAndRecvMessage(const Sock& sender, const Sock& receiver)\n+{\n+    const char* msg = \"abcd\";\n+    constexpr size_t msg_len = 4;\n+    char recv_buf[10];\n+\n+    BOOST_CHECK_EQUAL(sender.Send(msg, msg_len, 0), msg_len);\n+    BOOST_CHECK_EQUAL(receiver.Recv(recv_buf, sizeof(recv_buf), 0), msg_len);\n+    BOOST_CHECK_EQUAL(strncmp(msg, recv_buf, msg_len), 0);\n+}\n+\n+BOOST_AUTO_TEST_CASE(send_and_receive)\n+{\n+    int s[2];\n+    CreateSocketPair(s);\n+\n+    Sock* sock0 = new Sock(s[0]);\n+    Sock* sock1 = new Sock(s[1]);\n+\n+    SendAndRecvMessage(*sock0, *sock1);\n+\n+    Sock* sock0moved = new Sock(std::move(*sock0));\n+    Sock* sock1moved = new Sock();\n+    *sock1moved = std::move(*sock1);\n+\n+    delete sock0;\n+    delete sock1;\n+\n+    SendAndRecvMessage(*sock1moved, *sock0moved);\n+\n+    delete sock0moved;\n+    delete sock1moved;\n+\n+    BOOST_CHECK(SocketIsClosed(s[0]));\n+    BOOST_CHECK(SocketIsClosed(s[1]));\n+}\n+\n+BOOST_AUTO_TEST_CASE(wait)\n+{\n+    int s[2];\n+    CreateSocketPair(s);\n+\n+    Sock sock0(s[0]);\n+    Sock sock1(s[1]);\n+\n+    std::thread waiter([&sock0]() { sock0.Wait(24h, Sock::RECV); });",
      "path": "src/test/sock_tests.cpp",
      "position": 140,
      "original_position": 141,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "3fa2a11f6e8998819e4ecabaafc6897a4be9ccd8",
      "in_reply_to_id": null,
      "user": {
        "login": "lontivero",
        "id": 127973,
        "node_id": "MDQ6VXNlcjEyNzk3Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127973?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lontivero",
        "html_url": "https://github.com/lontivero",
        "followers_url": "https://api.github.com/users/lontivero/followers",
        "following_url": "https://api.github.com/users/lontivero/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/lontivero/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/lontivero/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/lontivero/subscriptions",
        "organizations_url": "https://api.github.com/users/lontivero/orgs",
        "repos_url": "https://api.github.com/users/lontivero/repos",
        "events_url": "https://api.github.com/users/lontivero/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/lontivero/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Does `24h` means 24 hours? If that's the case it looks too much to me, even for a UT.",
      "created_at": "2021-01-11T14:28:12Z",
      "updated_at": "2021-02-11T09:45:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r555083671",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555083671"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 140,
      "original_line": 140,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555089125",
      "pull_request_review_id": 565388599,
      "id": 555089125,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTA4OTEyNQ==",
      "diff_hunk": "@@ -0,0 +1,150 @@\n+// Copyright (c) 2021-2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef WIN32\n+\n+#include <test/util/setup_common.h>\n+#include <util/sock.h>\n+\n+#include <boost/test/unit_test.hpp>\n+\n+#include <sys/socket.h>\n+#include <sys/types.h>\n+#include <thread>\n+\n+using namespace std::chrono_literals;\n+\n+BOOST_FIXTURE_TEST_SUITE(sock_tests, BasicTestingSetup)\n+\n+static bool SocketIsClosed(const SOCKET& s)\n+{\n+    // Notice that if another thread is running and creates its own socket after `s` has been\n+    // closed, it may get assigned the same file descriptor number. In this case our test will\n+    // wronly pretend that the socket is not closed.\n+    int type;\n+    socklen_t len = sizeof(type);\n+    return getsockopt(s, SOL_SOCKET, SO_TYPE, &type, &len) == -1 &&\n+           (errno == EBADF || errno == ENOTSOCK);\n+}\n+\n+static SOCKET CreateSocket()\n+{\n+    const int s = socket(AF_INET, SOCK_STREAM, IPPROTO_TCP);\n+    BOOST_REQUIRE(s != -1);",
      "path": "src/test/sock_tests.cpp",
      "position": null,
      "original_position": 34,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "3fa2a11f6e8998819e4ecabaafc6897a4be9ccd8",
      "in_reply_to_id": null,
      "user": {
        "login": "lontivero",
        "id": 127973,
        "node_id": "MDQ6VXNlcjEyNzk3Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127973?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lontivero",
        "html_url": "https://github.com/lontivero",
        "followers_url": "https://api.github.com/users/lontivero/followers",
        "following_url": "https://api.github.com/users/lontivero/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/lontivero/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/lontivero/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/lontivero/subscriptions",
        "organizations_url": "https://api.github.com/users/lontivero/orgs",
        "repos_url": "https://api.github.com/users/lontivero/repos",
        "events_url": "https://api.github.com/users/lontivero/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/lontivero/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It could make sense to use `SOCKET_ERROR` here.",
      "created_at": "2021-01-11T14:35:50Z",
      "updated_at": "2021-02-11T09:45:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r555089125",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555089125"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 34,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555191243",
      "pull_request_review_id": 565547452,
      "id": 555191243,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTE5MTI0Mw==",
      "diff_hunk": "@@ -0,0 +1,150 @@\n+// Copyright (c) 2021-2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef WIN32",
      "path": "src/test/sock_tests.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "3fa2a11f6e8998819e4ecabaafc6897a4be9ccd8",
      "in_reply_to_id": 555073220,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "They were because Windows does not have `socketpair()`, but since not all tests use this function I have now enabled the tests that don't.",
      "created_at": "2021-01-11T16:49:37Z",
      "updated_at": "2021-02-11T09:45:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r555191243",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555191243"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 5,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555192873",
      "pull_request_review_id": 565549527,
      "id": 555192873,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTE5Mjg3Mw==",
      "diff_hunk": "@@ -0,0 +1,150 @@\n+// Copyright (c) 2021-2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef WIN32\n+\n+#include <test/util/setup_common.h>\n+#include <util/sock.h>\n+\n+#include <boost/test/unit_test.hpp>\n+\n+#include <sys/socket.h>\n+#include <sys/types.h>\n+#include <thread>\n+\n+using namespace std::chrono_literals;\n+\n+BOOST_FIXTURE_TEST_SUITE(sock_tests, BasicTestingSetup)\n+\n+static bool SocketIsClosed(const SOCKET& s)\n+{\n+    // Notice that if another thread is running and creates its own socket after `s` has been\n+    // closed, it may get assigned the same file descriptor number. In this case our test will\n+    // wronly pretend that the socket is not closed.\n+    int type;\n+    socklen_t len = sizeof(type);\n+    return getsockopt(s, SOL_SOCKET, SO_TYPE, &type, &len) == -1 &&\n+           (errno == EBADF || errno == ENOTSOCK);\n+}\n+\n+static SOCKET CreateSocket()\n+{\n+    const int s = socket(AF_INET, SOCK_STREAM, IPPROTO_TCP);\n+    BOOST_REQUIRE(s != -1);\n+    return static_cast<SOCKET>(s);\n+}\n+\n+static void CreateSocketPair(int s[2])\n+{\n+    BOOST_REQUIRE_EQUAL(socketpair(AF_UNIX, SOCK_STREAM, 0, s), 0);\n+}\n+\n+BOOST_AUTO_TEST_CASE(constructor_and_destructor)\n+{\n+    const SOCKET s = CreateSocket();\n+    Sock* sock = new Sock(s);\n+    BOOST_CHECK_EQUAL(sock->Get(), s);\n+    BOOST_CHECK(!SocketIsClosed(s));\n+    delete sock;\n+    BOOST_CHECK(SocketIsClosed(s));\n+}\n+\n+BOOST_AUTO_TEST_CASE(move_constructor)\n+{\n+    const SOCKET s = CreateSocket();\n+    Sock* sock1 = new Sock(s);\n+    Sock* sock2 = new Sock(std::move(*sock1));\n+    delete sock1;\n+    BOOST_CHECK(!SocketIsClosed(s));\n+    BOOST_CHECK_EQUAL(sock2->Get(), s);\n+    delete sock2;\n+    BOOST_CHECK(SocketIsClosed(s));\n+}\n+\n+BOOST_AUTO_TEST_CASE(move_assignment)\n+{\n+    const SOCKET s = CreateSocket();\n+    Sock* sock1 = new Sock(s);\n+    Sock* sock2 = new Sock();\n+    *sock2 = std::move(*sock1);\n+    delete sock1;\n+    BOOST_CHECK(!SocketIsClosed(s));\n+    BOOST_CHECK_EQUAL(sock2->Get(), s);\n+    delete sock2;\n+    BOOST_CHECK(SocketIsClosed(s));\n+}\n+\n+BOOST_AUTO_TEST_CASE(release)\n+{\n+    const SOCKET s = CreateSocket();\n+    Sock* sock = new Sock(s);\n+    BOOST_CHECK_EQUAL(sock->Release(), s);\n+    delete sock;\n+    BOOST_CHECK(!SocketIsClosed(s));\n+    BOOST_REQUIRE_EQUAL(close(s), 0);",
      "path": "src/test/sock_tests.cpp",
      "position": null,
      "original_position": 85,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "3fa2a11f6e8998819e4ecabaafc6897a4be9ccd8",
      "in_reply_to_id": 555075396,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Right, changed to `CloseSocket()`.",
      "created_at": "2021-01-11T16:51:55Z",
      "updated_at": "2021-02-11T09:45:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r555192873",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555192873"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 85,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555195148",
      "pull_request_review_id": 565552561,
      "id": 555195148,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTE5NTE0OA==",
      "diff_hunk": "@@ -0,0 +1,150 @@\n+// Copyright (c) 2021-2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef WIN32\n+\n+#include <test/util/setup_common.h>\n+#include <util/sock.h>\n+\n+#include <boost/test/unit_test.hpp>\n+\n+#include <sys/socket.h>\n+#include <sys/types.h>\n+#include <thread>\n+\n+using namespace std::chrono_literals;\n+\n+BOOST_FIXTURE_TEST_SUITE(sock_tests, BasicTestingSetup)\n+\n+static bool SocketIsClosed(const SOCKET& s)\n+{\n+    // Notice that if another thread is running and creates its own socket after `s` has been\n+    // closed, it may get assigned the same file descriptor number. In this case our test will\n+    // wronly pretend that the socket is not closed.\n+    int type;\n+    socklen_t len = sizeof(type);\n+    return getsockopt(s, SOL_SOCKET, SO_TYPE, &type, &len) == -1 &&\n+           (errno == EBADF || errno == ENOTSOCK);\n+}\n+\n+static SOCKET CreateSocket()\n+{\n+    const int s = socket(AF_INET, SOCK_STREAM, IPPROTO_TCP);\n+    BOOST_REQUIRE(s != -1);",
      "path": "src/test/sock_tests.cpp",
      "position": null,
      "original_position": 34,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "3fa2a11f6e8998819e4ecabaafc6897a4be9ccd8",
      "in_reply_to_id": 555089125,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done, thanks!",
      "created_at": "2021-01-11T16:55:14Z",
      "updated_at": "2021-02-11T09:45:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r555195148",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555195148"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 34,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555200385",
      "pull_request_review_id": 565559510,
      "id": 555200385,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTIwMDM4NQ==",
      "diff_hunk": "@@ -0,0 +1,150 @@\n+// Copyright (c) 2021-2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef WIN32\n+\n+#include <test/util/setup_common.h>\n+#include <util/sock.h>\n+\n+#include <boost/test/unit_test.hpp>\n+\n+#include <sys/socket.h>\n+#include <sys/types.h>\n+#include <thread>\n+\n+using namespace std::chrono_literals;\n+\n+BOOST_FIXTURE_TEST_SUITE(sock_tests, BasicTestingSetup)\n+\n+static bool SocketIsClosed(const SOCKET& s)\n+{\n+    // Notice that if another thread is running and creates its own socket after `s` has been\n+    // closed, it may get assigned the same file descriptor number. In this case our test will\n+    // wronly pretend that the socket is not closed.\n+    int type;\n+    socklen_t len = sizeof(type);\n+    return getsockopt(s, SOL_SOCKET, SO_TYPE, &type, &len) == -1 &&\n+           (errno == EBADF || errno == ENOTSOCK);\n+}\n+\n+static SOCKET CreateSocket()\n+{\n+    const int s = socket(AF_INET, SOCK_STREAM, IPPROTO_TCP);\n+    BOOST_REQUIRE(s != -1);\n+    return static_cast<SOCKET>(s);\n+}\n+\n+static void CreateSocketPair(int s[2])\n+{\n+    BOOST_REQUIRE_EQUAL(socketpair(AF_UNIX, SOCK_STREAM, 0, s), 0);\n+}\n+\n+BOOST_AUTO_TEST_CASE(constructor_and_destructor)\n+{\n+    const SOCKET s = CreateSocket();\n+    Sock* sock = new Sock(s);\n+    BOOST_CHECK_EQUAL(sock->Get(), s);\n+    BOOST_CHECK(!SocketIsClosed(s));\n+    delete sock;\n+    BOOST_CHECK(SocketIsClosed(s));\n+}\n+\n+BOOST_AUTO_TEST_CASE(move_constructor)\n+{\n+    const SOCKET s = CreateSocket();\n+    Sock* sock1 = new Sock(s);\n+    Sock* sock2 = new Sock(std::move(*sock1));\n+    delete sock1;\n+    BOOST_CHECK(!SocketIsClosed(s));\n+    BOOST_CHECK_EQUAL(sock2->Get(), s);\n+    delete sock2;\n+    BOOST_CHECK(SocketIsClosed(s));\n+}\n+\n+BOOST_AUTO_TEST_CASE(move_assignment)\n+{\n+    const SOCKET s = CreateSocket();\n+    Sock* sock1 = new Sock(s);\n+    Sock* sock2 = new Sock();\n+    *sock2 = std::move(*sock1);\n+    delete sock1;\n+    BOOST_CHECK(!SocketIsClosed(s));\n+    BOOST_CHECK_EQUAL(sock2->Get(), s);\n+    delete sock2;\n+    BOOST_CHECK(SocketIsClosed(s));\n+}\n+\n+BOOST_AUTO_TEST_CASE(release)\n+{\n+    const SOCKET s = CreateSocket();\n+    Sock* sock = new Sock(s);\n+    BOOST_CHECK_EQUAL(sock->Release(), s);\n+    delete sock;\n+    BOOST_CHECK(!SocketIsClosed(s));\n+    BOOST_REQUIRE_EQUAL(close(s), 0);\n+}\n+\n+BOOST_AUTO_TEST_CASE(reset)\n+{\n+    const SOCKET s = CreateSocket();\n+    Sock sock(s);\n+    sock.Reset();\n+    BOOST_CHECK(SocketIsClosed(s));\n+}\n+\n+static void SendAndRecvMessage(const Sock& sender, const Sock& receiver)\n+{\n+    const char* msg = \"abcd\";\n+    constexpr size_t msg_len = 4;\n+    char recv_buf[10];\n+\n+    BOOST_CHECK_EQUAL(sender.Send(msg, msg_len, 0), msg_len);\n+    BOOST_CHECK_EQUAL(receiver.Recv(recv_buf, sizeof(recv_buf), 0), msg_len);\n+    BOOST_CHECK_EQUAL(strncmp(msg, recv_buf, msg_len), 0);\n+}\n+\n+BOOST_AUTO_TEST_CASE(send_and_receive)\n+{\n+    int s[2];\n+    CreateSocketPair(s);\n+\n+    Sock* sock0 = new Sock(s[0]);\n+    Sock* sock1 = new Sock(s[1]);\n+\n+    SendAndRecvMessage(*sock0, *sock1);\n+\n+    Sock* sock0moved = new Sock(std::move(*sock0));\n+    Sock* sock1moved = new Sock();\n+    *sock1moved = std::move(*sock1);\n+\n+    delete sock0;\n+    delete sock1;\n+\n+    SendAndRecvMessage(*sock1moved, *sock0moved);\n+\n+    delete sock0moved;\n+    delete sock1moved;\n+\n+    BOOST_CHECK(SocketIsClosed(s[0]));\n+    BOOST_CHECK(SocketIsClosed(s[1]));\n+}\n+\n+BOOST_AUTO_TEST_CASE(wait)\n+{\n+    int s[2];\n+    CreateSocketPair(s);\n+\n+    Sock sock0(s[0]);\n+    Sock sock1(s[1]);\n+\n+    std::thread waiter([&sock0]() { sock0.Wait(24h, Sock::RECV); });",
      "path": "src/test/sock_tests.cpp",
      "position": 140,
      "original_position": 141,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "3fa2a11f6e8998819e4ecabaafc6897a4be9ccd8",
      "in_reply_to_id": 555083671,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, 24 hours. I wanted to use `1y` (1 year), but `y` is not supported.\r\n\r\nIf this test detects a failure, it would result in a \"test timeout in CI\" which waits for 2 hours.\r\n\r\nI don't know how else to check if `Wait()` works as expected. Notice - it does not signal to the caller whether a timeout occurred or the socket is ready for the event. It was possible before, but [we simplified](https://github.com/bitcoin/bitcoin/pull/20788#discussion_r550250637) it because nobody of the callers used that information. I think it is not worth restoring it for the sake of this test, what's your take?\r\n\r\nIf that functionality is provided then the test could do: \"wait 1ms; ensure it caused timeout, send some data to the socket, wait 1ms; ensure it did not timeout, but signaled that the socket is ready\".",
      "created_at": "2021-01-11T17:02:47Z",
      "updated_at": "2021-02-11T09:45:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r555200385",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555200385"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 140,
      "original_line": 140,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555232584",
      "pull_request_review_id": 565600420,
      "id": 555232584,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTIzMjU4NA==",
      "diff_hunk": "@@ -0,0 +1,150 @@\n+// Copyright (c) 2021-2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef WIN32\n+\n+#include <test/util/setup_common.h>\n+#include <util/sock.h>\n+\n+#include <boost/test/unit_test.hpp>\n+\n+#include <sys/socket.h>\n+#include <sys/types.h>\n+#include <thread>\n+\n+using namespace std::chrono_literals;\n+\n+BOOST_FIXTURE_TEST_SUITE(sock_tests, BasicTestingSetup)\n+\n+static bool SocketIsClosed(const SOCKET& s)\n+{\n+    // Notice that if another thread is running and creates its own socket after `s` has been\n+    // closed, it may get assigned the same file descriptor number. In this case our test will\n+    // wronly pretend that the socket is not closed.\n+    int type;\n+    socklen_t len = sizeof(type);\n+    return getsockopt(s, SOL_SOCKET, SO_TYPE, &type, &len) == -1 &&\n+           (errno == EBADF || errno == ENOTSOCK);\n+}\n+\n+static SOCKET CreateSocket()\n+{\n+    const int s = socket(AF_INET, SOCK_STREAM, IPPROTO_TCP);\n+    BOOST_REQUIRE(s != -1);\n+    return static_cast<SOCKET>(s);\n+}\n+\n+static void CreateSocketPair(int s[2])\n+{\n+    BOOST_REQUIRE_EQUAL(socketpair(AF_UNIX, SOCK_STREAM, 0, s), 0);\n+}\n+\n+BOOST_AUTO_TEST_CASE(constructor_and_destructor)\n+{\n+    const SOCKET s = CreateSocket();\n+    Sock* sock = new Sock(s);\n+    BOOST_CHECK_EQUAL(sock->Get(), s);\n+    BOOST_CHECK(!SocketIsClosed(s));\n+    delete sock;\n+    BOOST_CHECK(SocketIsClosed(s));\n+}\n+\n+BOOST_AUTO_TEST_CASE(move_constructor)\n+{\n+    const SOCKET s = CreateSocket();\n+    Sock* sock1 = new Sock(s);\n+    Sock* sock2 = new Sock(std::move(*sock1));\n+    delete sock1;\n+    BOOST_CHECK(!SocketIsClosed(s));\n+    BOOST_CHECK_EQUAL(sock2->Get(), s);\n+    delete sock2;\n+    BOOST_CHECK(SocketIsClosed(s));\n+}\n+\n+BOOST_AUTO_TEST_CASE(move_assignment)\n+{\n+    const SOCKET s = CreateSocket();\n+    Sock* sock1 = new Sock(s);\n+    Sock* sock2 = new Sock();\n+    *sock2 = std::move(*sock1);\n+    delete sock1;\n+    BOOST_CHECK(!SocketIsClosed(s));\n+    BOOST_CHECK_EQUAL(sock2->Get(), s);\n+    delete sock2;\n+    BOOST_CHECK(SocketIsClosed(s));\n+}\n+\n+BOOST_AUTO_TEST_CASE(release)\n+{\n+    const SOCKET s = CreateSocket();\n+    Sock* sock = new Sock(s);\n+    BOOST_CHECK_EQUAL(sock->Release(), s);\n+    delete sock;\n+    BOOST_CHECK(!SocketIsClosed(s));\n+    BOOST_REQUIRE_EQUAL(close(s), 0);\n+}\n+\n+BOOST_AUTO_TEST_CASE(reset)\n+{\n+    const SOCKET s = CreateSocket();\n+    Sock sock(s);\n+    sock.Reset();\n+    BOOST_CHECK(SocketIsClosed(s));\n+}\n+\n+static void SendAndRecvMessage(const Sock& sender, const Sock& receiver)\n+{\n+    const char* msg = \"abcd\";\n+    constexpr size_t msg_len = 4;\n+    char recv_buf[10];\n+\n+    BOOST_CHECK_EQUAL(sender.Send(msg, msg_len, 0), msg_len);\n+    BOOST_CHECK_EQUAL(receiver.Recv(recv_buf, sizeof(recv_buf), 0), msg_len);\n+    BOOST_CHECK_EQUAL(strncmp(msg, recv_buf, msg_len), 0);\n+}\n+\n+BOOST_AUTO_TEST_CASE(send_and_receive)\n+{\n+    int s[2];\n+    CreateSocketPair(s);\n+\n+    Sock* sock0 = new Sock(s[0]);\n+    Sock* sock1 = new Sock(s[1]);\n+\n+    SendAndRecvMessage(*sock0, *sock1);\n+\n+    Sock* sock0moved = new Sock(std::move(*sock0));\n+    Sock* sock1moved = new Sock();\n+    *sock1moved = std::move(*sock1);\n+\n+    delete sock0;\n+    delete sock1;\n+\n+    SendAndRecvMessage(*sock1moved, *sock0moved);\n+\n+    delete sock0moved;\n+    delete sock1moved;\n+\n+    BOOST_CHECK(SocketIsClosed(s[0]));\n+    BOOST_CHECK(SocketIsClosed(s[1]));\n+}\n+\n+BOOST_AUTO_TEST_CASE(wait)\n+{\n+    int s[2];\n+    CreateSocketPair(s);\n+\n+    Sock sock0(s[0]);\n+    Sock sock1(s[1]);\n+\n+    std::thread waiter([&sock0]() { sock0.Wait(24h, Sock::RECV); });",
      "path": "src/test/sock_tests.cpp",
      "position": 140,
      "original_position": 141,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "3fa2a11f6e8998819e4ecabaafc6897a4be9ccd8",
      "in_reply_to_id": 555083671,
      "user": {
        "login": "lontivero",
        "id": 127973,
        "node_id": "MDQ6VXNlcjEyNzk3Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127973?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lontivero",
        "html_url": "https://github.com/lontivero",
        "followers_url": "https://api.github.com/users/lontivero/followers",
        "following_url": "https://api.github.com/users/lontivero/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/lontivero/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/lontivero/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/lontivero/subscriptions",
        "organizations_url": "https://api.github.com/users/lontivero/orgs",
        "repos_url": "https://api.github.com/users/lontivero/repos",
        "events_url": "https://api.github.com/users/lontivero/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/lontivero/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> I think it is not worth restoring it for the sake of this test, what's your take?\r\n\r\nI agree with you. I don't think it is a good idea to have code the sake of one test only.",
      "created_at": "2021-01-11T17:51:57Z",
      "updated_at": "2021-02-11T09:45:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r555232584",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555232584"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 140,
      "original_line": 140,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/562606180",
      "pull_request_review_id": 574225825,
      "id": 562606180,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MjYwNjE4MA==",
      "diff_hunk": "@@ -0,0 +1,134 @@\n+// Copyright (c) 2012-2020 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <compat.h>\n+#include <netaddress.h>\n+#include <netbase.h>",
      "path": "src/sock.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "99b8e88a15cb12483f28079d0f91fe8cf361da56",
      "in_reply_to_id": 549406398,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This was finally [changed](https://github.com/bitcoin/bitcoin/pull/20788#issuecomment-756754017) to:\r\n\r\n> move MillisToTimeval() and CloseSocket() outside of netbase.cpp, somewhere in src/util/ and use them from both netbase.cpp and from sock.cpp\r\n\r\nit looks much better now.",
      "created_at": "2021-01-22T12:44:07Z",
      "updated_at": "2021-02-11T09:45:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r562606180",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/562606180"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 7,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/563382158",
      "pull_request_review_id": 574994783,
      "id": 563382158,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MzM4MjE1OA==",
      "diff_hunk": "@@ -238,6 +238,7 @@ BITCOIN_CORE_H = \\\n   util/rbf.h \\\n   util/ref.h \\\n   util/settings.h \\\n+  util/sock.h \\",
      "path": "src/Makefile.am",
      "position": 4,
      "original_position": 4,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "cc109a47481263e1a7fb9b74f1aea57ea0129f8e",
      "in_reply_to_id": null,
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Please create new general utilities like this in `src/compat`, `src/support` or `src/util`, not in the source root.",
      "created_at": "2021-01-24T21:58:07Z",
      "updated_at": "2021-02-11T09:45:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r563382158",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/563382158"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 241,
      "original_line": 241,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/563592536",
      "pull_request_review_id": 575230042,
      "id": 563592536,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MzU5MjUzNg==",
      "diff_hunk": "@@ -238,6 +238,7 @@ BITCOIN_CORE_H = \\\n   util/rbf.h \\\n   util/ref.h \\\n   util/settings.h \\\n+  util/sock.h \\",
      "path": "src/Makefile.am",
      "position": 4,
      "original_position": 4,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "cc109a47481263e1a7fb9b74f1aea57ea0129f8e",
      "in_reply_to_id": 563382158,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Hmm, the newly added `sock.h` is in `src/util`, so that's already the case, no?",
      "created_at": "2021-01-25T09:56:22Z",
      "updated_at": "2021-02-11T09:45:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r563592536",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/563592536"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 241,
      "original_line": 241,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/563604808",
      "pull_request_review_id": 575245555,
      "id": 563604808,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MzYwNDgwOA==",
      "diff_hunk": "@@ -238,6 +238,7 @@ BITCOIN_CORE_H = \\\n   util/rbf.h \\\n   util/ref.h \\\n   util/settings.h \\\n+  util/sock.h \\",
      "path": "src/Makefile.am",
      "position": 4,
      "original_position": 4,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "cc109a47481263e1a7fb9b74f1aea57ea0129f8e",
      "in_reply_to_id": 563382158,
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Huh. Oops. I misread this. Seems good then :+1:.",
      "created_at": "2021-01-25T10:14:08Z",
      "updated_at": "2021-02-11T09:45:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r563604808",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/563604808"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 241,
      "original_line": 241,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/569566888",
      "pull_request_review_id": 582567172,
      "id": 569566888,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2OTU2Njg4OA==",
      "diff_hunk": "@@ -1351,3 +1351,54 @@ std::pair<int, char**> WinCmdLineArgs::get()\n }\n #endif\n } // namespace util\n+\n+#ifdef WIN32\n+std::string NetworkErrorString(int err)\n+{\n+    wchar_t buf[256];\n+    buf[0] = 0;\n+    if(FormatMessageW(FORMAT_MESSAGE_FROM_SYSTEM | FORMAT_MESSAGE_IGNORE_INSERTS | FORMAT_MESSAGE_MAX_WIDTH_MASK,\n+            nullptr, err, MAKELANGID(LANG_NEUTRAL, SUBLANG_DEFAULT),\n+            buf, ARRAYSIZE(buf), nullptr))\n+    {\n+        return strprintf(\"%s (%d)\", std::wstring_convert<std::codecvt_utf8_utf16<wchar_t>,wchar_t>().to_bytes(buf), err);\n+    }\n+    else\n+    {\n+        return strprintf(\"Unknown error (%d)\", err);\n+    }\n+}\n+#else\n+std::string NetworkErrorString(int err)\n+{\n+    char buf[256];\n+    buf[0] = 0;\n+    /* Too bad there are two incompatible implementations of the\n+     * thread-safe strerror. */\n+    const char *s;\n+#ifdef STRERROR_R_CHAR_P /* GNU variant can return a pointer outside the passed buffer */\n+    s = strerror_r(err, buf, sizeof(buf));\n+#else /* POSIX variant always returns message in buffer */\n+    s = buf;\n+    if (strerror_r(err, buf, sizeof(buf)))\n+        buf[0] = 0;\n+#endif\n+    return strprintf(\"%s (%d)\", s, err);\n+}\n+#endif\n+\n+bool CloseSocket(SOCKET& socket)\n+{\n+    if (socket == INVALID_SOCKET)\n+        return false;\n+#ifdef WIN32\n+    int ret = closesocket(socket);\n+#else\n+    int ret = close(socket);\n+#endif\n+    if (ret) {\n+        LogPrintf(\"Socket close failed: %d. Error: %s\\n\", socket, NetworkErrorString(WSAGetLastError()));\n+    }\n+    socket = INVALID_SOCKET;",
      "path": "src/util/system.cpp",
      "position": null,
      "original_position": 52,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "cc109a47481263e1a7fb9b74f1aea57ea0129f8e",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "acc89632 this commit isn't move-only because `hSocket` was renamed, making it more error-prone and difficult to verify that the code isn't changed, suggest clarifying the commit message with the renaming or, better yet, making this change move-only",
      "created_at": "2021-02-03T16:40:50Z",
      "updated_at": "2021-02-11T09:45:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r569566888",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/569566888"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1402,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/569572507",
      "pull_request_review_id": 582567172,
      "id": 569572507,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2OTU3MjUwNw==",
      "diff_hunk": "@@ -57,4 +60,14 @@ std::string FormatISO8601DateTime(int64_t nTime);\n std::string FormatISO8601Date(int64_t nTime);\n int64_t ParseISO8601DateTime(const std::string& str);\n \n+/**\n+ * Convert milliseconds to a struct timeval for e.g. select.\n+ */\n+struct timeval MillisToTimeval(int64_t nTimeout);\n+\n+/**\n+ * Convert milliseconds to a struct timeval for e.g. select.\n+ */\n+struct timeval MillisToTimeval(const std::chrono::milliseconds& ms);",
      "path": "src/util/time.h",
      "position": null,
      "original_position": 29,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "cc109a47481263e1a7fb9b74f1aea57ea0129f8e",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "1dcf817 here and in the definition and in `Sock::Wait()`\r\n```suggestion\r\nstruct timeval MillisToTimeval(std::chrono::milliseconds ms);\r\n```",
      "created_at": "2021-02-03T16:48:02Z",
      "updated_at": "2021-02-11T09:45:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r569572507",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/569572507"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 71,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/569575610",
      "pull_request_review_id": 582567172,
      "id": 569575610,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2OTU3NTYxMA==",
      "diff_hunk": "@@ -0,0 +1,111 @@\n+// Copyright (c) 2020-2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_SOCK_H\n+#define BITCOIN_UTIL_SOCK_H\n+\n+#include <compat.h> // SOCKET\n+\n+#include <chrono> // std::chrono::milliseconds",
      "path": "src/util/sock.h",
      "position": null,
      "original_position": 10,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "cc109a47481263e1a7fb9b74f1aea57ea0129f8e",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "1dcf817\r\n```suggestion\r\n#include <chrono>\r\n```",
      "created_at": "2021-02-03T16:51:59Z",
      "updated_at": "2021-02-11T09:45:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r569575610",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/569575610"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 10,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/569582374",
      "pull_request_review_id": 582567172,
      "id": 569582374,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2OTU4MjM3NA==",
      "diff_hunk": "@@ -541,58 +523,52 @@ static bool Socks5(const std::string& strDest, int port, const ProxyCredentials\n     uint8_t pchRet3[256];\n     switch (pchRet2[3])\n     {\n-        case SOCKS5Atyp::IPV4: recvr = InterruptibleRecv(pchRet3, 4, SOCKS5_RECV_TIMEOUT, hSocket); break;\n-        case SOCKS5Atyp::IPV6: recvr = InterruptibleRecv(pchRet3, 16, SOCKS5_RECV_TIMEOUT, hSocket); break;\n+        case SOCKS5Atyp::IPV4: recvr = InterruptibleRecv(pchRet3, 4, SOCKS5_RECV_TIMEOUT, sock); break;\n+        case SOCKS5Atyp::IPV6: recvr = InterruptibleRecv(pchRet3, 16, SOCKS5_RECV_TIMEOUT, sock); break;",
      "path": "src/netbase.cpp",
      "position": 159,
      "original_position": 158,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "cc109a47481263e1a7fb9b74f1aea57ea0129f8e",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The diff could be smaller, faster, easier and safer to review without unneeded renamings mixed with the coding changes. For existing code it's not required to update the variable naming to current coding style and it would be good to be able to focus on the significant changes. Maybe open a separate pull for the renamings.",
      "created_at": "2021-02-03T17:00:20Z",
      "updated_at": "2021-02-11T09:45:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r569582374",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/569582374"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 525,
      "original_line": 525,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/569583586",
      "pull_request_review_id": 582567172,
      "id": 569583586,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2OTU4MzU4Ng==",
      "diff_hunk": "@@ -428,51 +428,55 @@ CNode* CConnman::ConnectNode(CAddress addrConnect, const char *pszDest, bool fCo\n \n     // Connect\n     bool connected = false;\n-    SOCKET hSocket = INVALID_SOCKET;\n+    std::unique_ptr<Sock> sock;\n     proxyType proxy;\n     if (addrConnect.IsValid()) {\n         bool proxyConnectionFailed = false;\n \n         if (GetProxy(addrConnect.GetNetwork(), proxy)) {\n-            hSocket = CreateSocket(proxy.proxy);\n-            if (hSocket == INVALID_SOCKET) {\n+            sock = CreateSock(proxy.proxy);\n+            if (!sock) {\n                 return nullptr;\n             }\n-            connected = ConnectThroughProxy(proxy, addrConnect.ToStringIP(), addrConnect.GetPort(), hSocket, nConnectTimeout, proxyConnectionFailed);\n+            connected = ConnectThroughProxy(proxy, addrConnect.ToStringIP(), addrConnect.GetPort(),\n+                                            *sock, nConnectTimeout, proxyConnectionFailed);\n         } else {\n             // no proxy needed (none set for target network)\n-            hSocket = CreateSocket(addrConnect);\n-            if (hSocket == INVALID_SOCKET) {\n+            sock = CreateSock(addrConnect);\n+            if (!sock) {\n                 return nullptr;\n             }\n-            connected = ConnectSocketDirectly(addrConnect, hSocket, nConnectTimeout, conn_type == ConnectionType::MANUAL);\n+            connected = ConnectSocketDirectly(addrConnect, sock->Get(), nConnectTimeout,\n+                                              conn_type == ConnectionType::MANUAL);\n         }\n         if (!proxyConnectionFailed) {\n             // If a connection to the node was attempted, and failure (if any) is not caused by a problem connecting to\n             // the proxy, mark this as an attempt.\n             addrman.Attempt(addrConnect, fCountFailure);\n         }\n     } else if (pszDest && GetNameProxy(proxy)) {\n-        hSocket = CreateSocket(proxy.proxy);\n-        if (hSocket == INVALID_SOCKET) {\n+        sock = CreateSock(proxy.proxy);\n+        if (!sock) {\n             return nullptr;\n         }\n         std::string host;\n         int port = default_port;\n         SplitHostPort(std::string(pszDest), port, host);\n         bool proxyConnectionFailed;\n-        connected = ConnectThroughProxy(proxy, host, port, hSocket, nConnectTimeout, proxyConnectionFailed);\n+        connected =\n+            ConnectThroughProxy(proxy, host, port, *sock, nConnectTimeout, proxyConnectionFailed);\n     }\n     if (!connected) {\n-        CloseSocket(hSocket);\n         return nullptr;\n     }\n \n     // Add node\n     NodeId id = GetNewNodeId();\n     uint64_t nonce = GetDeterministicRandomizer(RANDOMIZER_ID_LOCALHOSTNONCE).Write(id).Finalize();\n-    CAddress addr_bind = GetBindAddress(hSocket);\n-    CNode* pnode = new CNode(id, nLocalServices, hSocket, addrConnect, CalculateKeyedNetGroup(addrConnect), nonce, addr_bind, pszDest ? pszDest : \"\", conn_type);\n+    CAddress addr_bind = GetBindAddress(sock->Get());\n+    CNode* pnode = new CNode(id, nLocalServices, sock->Release(), addrConnect,\n+                             CalculateKeyedNetGroup(addrConnect), nonce, addr_bind,\n+                             pszDest ? pszDest : \"\", conn_type);",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 65,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "cc109a47481263e1a7fb9b74f1aea57ea0129f8e",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The diff could be smaller, faster, easier and safer to review without the unnecessary formatting churn in the diff. There are a few functions doing this here. Maybe open a separate pull for the formatting changes.",
      "created_at": "2021-02-03T17:01:58Z",
      "updated_at": "2021-02-11T09:45:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r569583586",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/569583586"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 479,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/570404619",
      "pull_request_review_id": 583633870,
      "id": 570404619,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MDQwNDYxOQ==",
      "diff_hunk": "@@ -1351,3 +1351,54 @@ std::pair<int, char**> WinCmdLineArgs::get()\n }\n #endif\n } // namespace util\n+\n+#ifdef WIN32\n+std::string NetworkErrorString(int err)\n+{\n+    wchar_t buf[256];\n+    buf[0] = 0;\n+    if(FormatMessageW(FORMAT_MESSAGE_FROM_SYSTEM | FORMAT_MESSAGE_IGNORE_INSERTS | FORMAT_MESSAGE_MAX_WIDTH_MASK,\n+            nullptr, err, MAKELANGID(LANG_NEUTRAL, SUBLANG_DEFAULT),\n+            buf, ARRAYSIZE(buf), nullptr))\n+    {\n+        return strprintf(\"%s (%d)\", std::wstring_convert<std::codecvt_utf8_utf16<wchar_t>,wchar_t>().to_bytes(buf), err);\n+    }\n+    else\n+    {\n+        return strprintf(\"Unknown error (%d)\", err);\n+    }\n+}\n+#else\n+std::string NetworkErrorString(int err)\n+{\n+    char buf[256];\n+    buf[0] = 0;\n+    /* Too bad there are two incompatible implementations of the\n+     * thread-safe strerror. */\n+    const char *s;\n+#ifdef STRERROR_R_CHAR_P /* GNU variant can return a pointer outside the passed buffer */\n+    s = strerror_r(err, buf, sizeof(buf));\n+#else /* POSIX variant always returns message in buffer */\n+    s = buf;\n+    if (strerror_r(err, buf, sizeof(buf)))\n+        buf[0] = 0;\n+#endif\n+    return strprintf(\"%s (%d)\", s, err);\n+}\n+#endif\n+\n+bool CloseSocket(SOCKET& socket)\n+{\n+    if (socket == INVALID_SOCKET)\n+        return false;\n+#ifdef WIN32\n+    int ret = closesocket(socket);\n+#else\n+    int ret = close(socket);\n+#endif\n+    if (ret) {\n+        LogPrintf(\"Socket close failed: %d. Error: %s\\n\", socket, NetworkErrorString(WSAGetLastError()));\n+    }\n+    socket = INVALID_SOCKET;",
      "path": "src/util/system.cpp",
      "position": null,
      "original_position": 52,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "cc109a47481263e1a7fb9b74f1aea57ea0129f8e",
      "in_reply_to_id": 569566888,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Changed the commit to be move-only and left the variable name as `hSocket`.",
      "created_at": "2021-02-04T17:21:54Z",
      "updated_at": "2021-02-11T09:45:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r570404619",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/570404619"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1402,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/570404856",
      "pull_request_review_id": 583634201,
      "id": 570404856,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MDQwNDg1Ng==",
      "diff_hunk": "@@ -57,4 +60,14 @@ std::string FormatISO8601DateTime(int64_t nTime);\n std::string FormatISO8601Date(int64_t nTime);\n int64_t ParseISO8601DateTime(const std::string& str);\n \n+/**\n+ * Convert milliseconds to a struct timeval for e.g. select.\n+ */\n+struct timeval MillisToTimeval(int64_t nTimeout);\n+\n+/**\n+ * Convert milliseconds to a struct timeval for e.g. select.\n+ */\n+struct timeval MillisToTimeval(const std::chrono::milliseconds& ms);",
      "path": "src/util/time.h",
      "position": null,
      "original_position": 29,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "cc109a47481263e1a7fb9b74f1aea57ea0129f8e",
      "in_reply_to_id": 569572507,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Changed.",
      "created_at": "2021-02-04T17:22:17Z",
      "updated_at": "2021-02-11T09:45:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r570404856",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/570404856"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 71,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/570405855",
      "pull_request_review_id": 583635575,
      "id": 570405855,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MDQwNTg1NQ==",
      "diff_hunk": "@@ -0,0 +1,111 @@\n+// Copyright (c) 2020-2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_SOCK_H\n+#define BITCOIN_UTIL_SOCK_H\n+\n+#include <compat.h> // SOCKET\n+\n+#include <chrono> // std::chrono::milliseconds",
      "path": "src/util/sock.h",
      "position": null,
      "original_position": 10,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "cc109a47481263e1a7fb9b74f1aea57ea0129f8e",
      "in_reply_to_id": 569575610,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Those comments are useful, if they are present, during refactoring when moving code around. Unfortunately they are not widely used, so I do not insist on their presence. Removed.",
      "created_at": "2021-02-04T17:23:44Z",
      "updated_at": "2021-02-11T09:45:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r570405855",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/570405855"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 10,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/570407463",
      "pull_request_review_id": 583637677,
      "id": 570407463,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MDQwNzQ2Mw==",
      "diff_hunk": "@@ -541,58 +523,52 @@ static bool Socks5(const std::string& strDest, int port, const ProxyCredentials\n     uint8_t pchRet3[256];\n     switch (pchRet2[3])\n     {\n-        case SOCKS5Atyp::IPV4: recvr = InterruptibleRecv(pchRet3, 4, SOCKS5_RECV_TIMEOUT, hSocket); break;\n-        case SOCKS5Atyp::IPV6: recvr = InterruptibleRecv(pchRet3, 16, SOCKS5_RECV_TIMEOUT, hSocket); break;\n+        case SOCKS5Atyp::IPV4: recvr = InterruptibleRecv(pchRet3, 4, SOCKS5_RECV_TIMEOUT, sock); break;\n+        case SOCKS5Atyp::IPV6: recvr = InterruptibleRecv(pchRet3, 16, SOCKS5_RECV_TIMEOUT, sock); break;",
      "path": "src/netbase.cpp",
      "position": 159,
      "original_position": 158,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "cc109a47481263e1a7fb9b74f1aea57ea0129f8e",
      "in_reply_to_id": 569582374,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I split this commit in two: variable type change from `SOCKET` to `Sock` + variable rename from `hSocket` to `sock`.\r\n\r\nIt is good to have the implied convention of naming `SOCKET` variables `hSocket` (old code) or `socket` (new code) and `Sock` variables `sock`.",
      "created_at": "2021-02-04T17:25:59Z",
      "updated_at": "2021-02-11T09:45:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r570407463",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/570407463"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 525,
      "original_line": 525,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/570407726",
      "pull_request_review_id": 583638005,
      "id": 570407726,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MDQwNzcyNg==",
      "diff_hunk": "@@ -428,51 +428,55 @@ CNode* CConnman::ConnectNode(CAddress addrConnect, const char *pszDest, bool fCo\n \n     // Connect\n     bool connected = false;\n-    SOCKET hSocket = INVALID_SOCKET;\n+    std::unique_ptr<Sock> sock;\n     proxyType proxy;\n     if (addrConnect.IsValid()) {\n         bool proxyConnectionFailed = false;\n \n         if (GetProxy(addrConnect.GetNetwork(), proxy)) {\n-            hSocket = CreateSocket(proxy.proxy);\n-            if (hSocket == INVALID_SOCKET) {\n+            sock = CreateSock(proxy.proxy);\n+            if (!sock) {\n                 return nullptr;\n             }\n-            connected = ConnectThroughProxy(proxy, addrConnect.ToStringIP(), addrConnect.GetPort(), hSocket, nConnectTimeout, proxyConnectionFailed);\n+            connected = ConnectThroughProxy(proxy, addrConnect.ToStringIP(), addrConnect.GetPort(),\n+                                            *sock, nConnectTimeout, proxyConnectionFailed);\n         } else {\n             // no proxy needed (none set for target network)\n-            hSocket = CreateSocket(addrConnect);\n-            if (hSocket == INVALID_SOCKET) {\n+            sock = CreateSock(addrConnect);\n+            if (!sock) {\n                 return nullptr;\n             }\n-            connected = ConnectSocketDirectly(addrConnect, hSocket, nConnectTimeout, conn_type == ConnectionType::MANUAL);\n+            connected = ConnectSocketDirectly(addrConnect, sock->Get(), nConnectTimeout,\n+                                              conn_type == ConnectionType::MANUAL);\n         }\n         if (!proxyConnectionFailed) {\n             // If a connection to the node was attempted, and failure (if any) is not caused by a problem connecting to\n             // the proxy, mark this as an attempt.\n             addrman.Attempt(addrConnect, fCountFailure);\n         }\n     } else if (pszDest && GetNameProxy(proxy)) {\n-        hSocket = CreateSocket(proxy.proxy);\n-        if (hSocket == INVALID_SOCKET) {\n+        sock = CreateSock(proxy.proxy);\n+        if (!sock) {\n             return nullptr;\n         }\n         std::string host;\n         int port = default_port;\n         SplitHostPort(std::string(pszDest), port, host);\n         bool proxyConnectionFailed;\n-        connected = ConnectThroughProxy(proxy, host, port, hSocket, nConnectTimeout, proxyConnectionFailed);\n+        connected =\n+            ConnectThroughProxy(proxy, host, port, *sock, nConnectTimeout, proxyConnectionFailed);\n     }\n     if (!connected) {\n-        CloseSocket(hSocket);\n         return nullptr;\n     }\n \n     // Add node\n     NodeId id = GetNewNodeId();\n     uint64_t nonce = GetDeterministicRandomizer(RANDOMIZER_ID_LOCALHOSTNONCE).Write(id).Finalize();\n-    CAddress addr_bind = GetBindAddress(hSocket);\n-    CNode* pnode = new CNode(id, nLocalServices, hSocket, addrConnect, CalculateKeyedNetGroup(addrConnect), nonce, addr_bind, pszDest ? pszDest : \"\", conn_type);\n+    CAddress addr_bind = GetBindAddress(sock->Get());\n+    CNode* pnode = new CNode(id, nLocalServices, sock->Release(), addrConnect,\n+                             CalculateKeyedNetGroup(addrConnect), nonce, addr_bind,\n+                             pszDest ? pszDest : \"\", conn_type);",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 65,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "cc109a47481263e1a7fb9b74f1aea57ea0129f8e",
      "in_reply_to_id": 569583586,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Joined this back to one long line.",
      "created_at": "2021-02-04T17:26:20Z",
      "updated_at": "2021-02-11T09:45:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r570407726",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/570407726"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 479,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/574052336",
      "pull_request_review_id": 588022575,
      "id": 574052336,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NDA1MjMzNg==",
      "diff_hunk": "@@ -0,0 +1,149 @@\n+// Copyright (c) 2021-2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <compat.h>\n+#include <test/util/setup_common.h>\n+#include <util/sock.h>\n+#include <util/system.h>\n+\n+#include <boost/test/unit_test.hpp>\n+\n+#include <thread>\n+\n+using namespace std::chrono_literals;\n+\n+BOOST_FIXTURE_TEST_SUITE(sock_tests, BasicTestingSetup)\n+\n+static bool SocketIsClosed(const SOCKET& s)\n+{\n+    // Notice that if another thread is running and creates its own socket after `s` has been\n+    // closed, it may get assigned the same file descriptor number. In this case our test will\n+    // wronly pretend that the socket is not closed.",
      "path": "src/test/sock_tests.cpp",
      "position": null,
      "original_position": 22,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "e8e372a43122366fab7d6c7a45e05d4ad18d6da7",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n    // wrongly pretend that the socket is not closed.\r\n```\r\nor \"incorrectly\"",
      "created_at": "2021-02-10T20:25:52Z",
      "updated_at": "2021-02-11T09:45:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r574052336",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/574052336"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/574052725",
      "pull_request_review_id": 588022575,
      "id": 574052725,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NDA1MjcyNQ==",
      "diff_hunk": "@@ -0,0 +1,149 @@\n+// Copyright (c) 2021-2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <compat.h>\n+#include <test/util/setup_common.h>\n+#include <util/sock.h>\n+#include <util/system.h>\n+\n+#include <boost/test/unit_test.hpp>\n+\n+#include <thread>\n+\n+using namespace std::chrono_literals;\n+\n+BOOST_FIXTURE_TEST_SUITE(sock_tests, BasicTestingSetup)\n+\n+static bool SocketIsClosed(const SOCKET& s)\n+{\n+    // Notice that if another thread is running and creates its own socket after `s` has been\n+    // closed, it may get assigned the same file descriptor number. In this case our test will",
      "path": "src/test/sock_tests.cpp",
      "position": null,
      "original_position": 21,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "e8e372a43122366fab7d6c7a45e05d4ad18d6da7",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n    // closed, it may be assigned the same file descriptor number. In this case, our test will\r\n```",
      "created_at": "2021-02-10T20:26:36Z",
      "updated_at": "2021-02-11T09:45:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r574052725",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/574052725"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 21,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/574364605",
      "pull_request_review_id": 588381101,
      "id": 574364605,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NDM2NDYwNQ==",
      "diff_hunk": "@@ -0,0 +1,149 @@\n+// Copyright (c) 2021-2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <compat.h>\n+#include <test/util/setup_common.h>\n+#include <util/sock.h>\n+#include <util/system.h>\n+\n+#include <boost/test/unit_test.hpp>\n+\n+#include <thread>\n+\n+using namespace std::chrono_literals;\n+\n+BOOST_FIXTURE_TEST_SUITE(sock_tests, BasicTestingSetup)\n+\n+static bool SocketIsClosed(const SOCKET& s)\n+{\n+    // Notice that if another thread is running and creates its own socket after `s` has been\n+    // closed, it may get assigned the same file descriptor number. In this case our test will\n+    // wronly pretend that the socket is not closed.",
      "path": "src/test/sock_tests.cpp",
      "position": null,
      "original_position": 22,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "e8e372a43122366fab7d6c7a45e05d4ad18d6da7",
      "in_reply_to_id": 574052336,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yeah, that was wron. Fixed.",
      "created_at": "2021-02-11T09:46:14Z",
      "updated_at": "2021-02-11T09:46:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r574364605",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/574364605"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/574364819",
      "pull_request_review_id": 588381380,
      "id": 574364819,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NDM2NDgxOQ==",
      "diff_hunk": "@@ -0,0 +1,149 @@\n+// Copyright (c) 2021-2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <compat.h>\n+#include <test/util/setup_common.h>\n+#include <util/sock.h>\n+#include <util/system.h>\n+\n+#include <boost/test/unit_test.hpp>\n+\n+#include <thread>\n+\n+using namespace std::chrono_literals;\n+\n+BOOST_FIXTURE_TEST_SUITE(sock_tests, BasicTestingSetup)\n+\n+static bool SocketIsClosed(const SOCKET& s)\n+{\n+    // Notice that if another thread is running and creates its own socket after `s` has been\n+    // closed, it may get assigned the same file descriptor number. In this case our test will",
      "path": "src/test/sock_tests.cpp",
      "position": null,
      "original_position": 21,
      "commit_id": "615ba0eb96cf131364c1ceca9d3dedf006fa1e1c",
      "original_commit_id": "e8e372a43122366fab7d6c7a45e05d4ad18d6da7",
      "in_reply_to_id": 574052725,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed.",
      "created_at": "2021-02-11T09:46:37Z",
      "updated_at": "2021-02-11T09:46:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/20788#discussion_r574364819",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/574364819"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20788"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 21,
      "side": "RIGHT"
    }
  ]
}