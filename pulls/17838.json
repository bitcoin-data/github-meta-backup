{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17838",
    "id": 358280283,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MzU4MjgwMjgz",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17838",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/17838.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/17838.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17838",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17838/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17838/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17838/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/59d9b513e22588c02a7a39fbbbf8bc65cb2617be",
    "number": 17838,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "test: test the >10 UTXO case for output groups",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/kallewoof/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/kallewoof/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "#17603 notes behavior where `avoidreuse` will only spend 1 of the UTXO:s ~and mark all of them as spent~. This is ~correct~ currently expected behavior, but the reasoning is non-obvious: the user creates 31 outputs, and the code groups these into 4 groups, 3x10 and 1x1. It then ends up using the 1x1 group because it is smaller => fewer fees.\r\n\r\nThis PR adds a test that explicitly checks this case, but in a more direct manner; it creates 30 outputs of 1 btc each, all sending to the same destination, and the receiver then sends 11 btc back. From [10, 10, 10] coin select will pick 2, leave 1 alone, and create 11 out/9 change. The user will end up with ~~10 btc used, 9 btc unused.~~ 19 btc unused.*\r\n\r\n(* this is because the system is currently set up to mark things as they come into the wallet; already existing stuff is only marked if the user does a rescan, which the caveat states when enabling the flag)\r\n",
    "labels": [
      {
        "id": 62963516,
        "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
        "name": "Tests",
        "color": "d4c5f9",
        "default": false
      },
      {
        "id": 955867938,
        "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
        "name": "Needs rebase",
        "description": "",
        "color": "cccccc",
        "default": false
      }
    ],
    "active_lock_reason": "resolved",
    "created_at": "2019-12-31T05:40:44Z",
    "updated_at": "2022-02-15T10:57:34Z",
    "closed_at": "2020-01-15T10:45:01Z",
    "mergeable": false,
    "mergeable_state": "dirty",
    "merge_commit_sha": "17ae949d826de2acb4af7ae63f43c0ed0ef7885d",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": false,
    "head": {
      "label": "kallewoof:191231-test-avoidreuse-many-utxos",
      "ref": "191231-test-avoidreuse-many-utxos",
      "sha": "59d9b513e22588c02a7a39fbbbf8bc65cb2617be",
      "user": {
        "login": "kallewoof",
        "id": 250224,
        "node_id": "MDQ6VXNlcjI1MDIyNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kallewoof",
        "html_url": "https://github.com/kallewoof",
        "followers_url": "https://api.github.com/users/kallewoof/followers",
        "following_url": "https://api.github.com/users/kallewoof/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kallewoof/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kallewoof/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
        "organizations_url": "https://api.github.com/users/kallewoof/orgs",
        "repos_url": "https://api.github.com/users/kallewoof/repos",
        "events_url": "https://api.github.com/users/kallewoof/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kallewoof/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 74733553,
        "node_id": "MDEwOlJlcG9zaXRvcnk3NDczMzU1Mw==",
        "name": "bitcoin",
        "full_name": "kallewoof/bitcoin",
        "owner": {
          "login": "kallewoof",
          "id": 250224,
          "node_id": "MDQ6VXNlcjI1MDIyNA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/kallewoof",
          "html_url": "https://github.com/kallewoof",
          "followers_url": "https://api.github.com/users/kallewoof/followers",
          "following_url": "https://api.github.com/users/kallewoof/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/kallewoof/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/kallewoof/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
          "organizations_url": "https://api.github.com/users/kallewoof/orgs",
          "repos_url": "https://api.github.com/users/kallewoof/repos",
          "events_url": "https://api.github.com/users/kallewoof/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/kallewoof/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/kallewoof/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/kallewoof/bitcoin",
        "archive_url": "https://api.github.com/repos/kallewoof/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/kallewoof/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/kallewoof/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/kallewoof/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/kallewoof/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/kallewoof/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/kallewoof/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/kallewoof/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/kallewoof/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/kallewoof/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/kallewoof/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/kallewoof/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/kallewoof/bitcoin/events",
        "forks_url": "https://api.github.com/repos/kallewoof/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/kallewoof/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/kallewoof/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/kallewoof/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/kallewoof/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/kallewoof/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/kallewoof/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/kallewoof/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/kallewoof/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/kallewoof/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/kallewoof/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/kallewoof/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/kallewoof/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/kallewoof/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/kallewoof/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/kallewoof/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:kallewoof/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/kallewoof/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/kallewoof/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/kallewoof/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/kallewoof/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/kallewoof/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/kallewoof/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/kallewoof/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/kallewoof/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/kallewoof/bitcoin/hooks",
        "svn_url": "https://github.com/kallewoof/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 4,
        "stargazers_count": 10,
        "watchers_count": 10,
        "size": 206118,
        "default_branch": "master",
        "open_issues_count": 5,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-04-11T04:43:35Z",
        "created_at": "2016-11-25T06:59:31Z",
        "updated_at": "2023-05-05T12:10:19Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "fcef6dbc15ef9630832697b9ebf80f05f20efda8",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34324,
        "stargazers_count": 69817,
        "watchers_count": 69817,
        "size": 233879,
        "default_branch": "master",
        "open_issues_count": 627,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-06T22:42:00Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-06-07T01:13:41Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17838"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 43,
    "deletions": 1,
    "changed_files": 1,
    "commits": 1,
    "review_comments": 13,
    "comments": 5
  },
  "events": [
    {
      "event": "labeled",
      "id": 2915205408,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDI5MTUyMDU0MDg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2915205408",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-12-31T07:07:16Z",
      "label": {
        "name": "Tests",
        "color": "d4c5f9"
      }
    },
    {
      "event": "commented",
      "id": 569887198,
      "node_id": "MDEyOklzc3VlQ29tbWVudDU2OTg4NzE5OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/569887198",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-12-31T08:22:26Z",
      "updated_at": "2020-01-08T23:32:41Z",
      "author_association": "MEMBER",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#17889](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17889.html) (wallet: Improve CWallet:MarkDestinationsDirty by promag)\n* [#17843](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17843.html) (wallet: Reset reused transactions cache by fjahr)\n* [#17824](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17824.html) (wallet: Improve coin selection for destination groups >10 by fjahr)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/17838#issuecomment-569887198",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17838"
    },
    {
      "event": "reviewed",
      "id": 337328467,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM3MzI4NDY3",
      "url": null,
      "actor": null,
      "commit_id": "b3ad0cd69c8ad5dedeec1037795b8c49a42f242d",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Thanks for adding the test. The last assertion fails for me with 19 btc trusted instead of the expected 10 used, 9 trusted:\r\n```python\r\n         # getbalances should show 10 used, 9 btc trusted\r\n+        import pprint\r\n+        pprint.pprint(self.nodes[0].getbalances())\r\n+        pprint.pprint(self.nodes[1].getbalances())\r\n         assert_balances(self.nodes[1], mine={\"used\": 10, \"trusted\": 9})\r\n```\r\n```\r\n2019-12-31T09:24:55.314000Z TestFramework (INFO): Test many utxos one destination\r\n{'mine': {'immature': Decimal('2262.50308860'),\r\n          'trusted': Decimal('5419.99691140'),\r\n          'untrusted_pending': Decimal('11.00000000')}}\r\n{'mine': {'immature': Decimal('0E-8'),\r\n          'trusted': Decimal('18.99971440'),\r\n          'untrusted_pending': Decimal('0E-8'),\r\n          'used': Decimal('0E-8')}}\r\n2019-12-31T09:25:01.212000Z TestFramework (ERROR): Assertion failed\r\nTraceback (most recent call last):\r\n  File \"/home/jon/projects/bitcoin/bitcoin/test/functional/test_framework/test_framework.py\", line 112, in main\r\n    self.run_test()\r\n  File \"test/functional/wallet_avoidreuse.py\", line 91, in run_test\r\n    self.test_many_utxos_one_dest()\r\n  File \"test/functional/wallet_avoidreuse.py\", line 278, in test_many_utxos_one_dest\r\n    assert_balances(self.nodes[1], mine={\"used\": 10, \"trusted\": 9})\r\n  File \"test/functional/wallet_avoidreuse.py\", line 64, in assert_balances\r\n    assert_approx(got[k], v, 0.001)\r\n  File \"/home/jon/projects/bitcoin/bitcoin/test/functional/test_framework/util.py\", line 31, in assert_approx\r\n    raise AssertionError(\"%s < [%s..%s]\" % (str(v), str(vexp - vspan), str(vexp + vspan)))\r\nAssertionError: 0E-8 < [9.999..10.001]\r\n```",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/17838#pullrequestreview-337328467",
      "submitted_at": "2019-12-31T09:29:11Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17838"
    },
    {
      "event": "commented",
      "id": 569907345,
      "node_id": "MDEyOklzc3VlQ29tbWVudDU2OTkwNzM0NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/569907345",
      "actor": {
        "login": "kallewoof",
        "id": 250224,
        "node_id": "MDQ6VXNlcjI1MDIyNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kallewoof",
        "html_url": "https://github.com/kallewoof",
        "followers_url": "https://api.github.com/users/kallewoof/followers",
        "following_url": "https://api.github.com/users/kallewoof/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kallewoof/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kallewoof/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
        "organizations_url": "https://api.github.com/users/kallewoof/orgs",
        "repos_url": "https://api.github.com/users/kallewoof/repos",
        "events_url": "https://api.github.com/users/kallewoof/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kallewoof/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-12-31T10:41:50Z",
      "updated_at": "2019-12-31T10:41:50Z",
      "author_association": "MEMBER",
      "body": "@jonatack I spoke^Wpushed too soon (I must have been absent-minded as I saw that error locally before pushing).",
      "user": {
        "login": "kallewoof",
        "id": 250224,
        "node_id": "MDQ6VXNlcjI1MDIyNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kallewoof",
        "html_url": "https://github.com/kallewoof",
        "followers_url": "https://api.github.com/users/kallewoof/followers",
        "following_url": "https://api.github.com/users/kallewoof/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kallewoof/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kallewoof/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
        "organizations_url": "https://api.github.com/users/kallewoof/orgs",
        "repos_url": "https://api.github.com/users/kallewoof/repos",
        "events_url": "https://api.github.com/users/kallewoof/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kallewoof/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/17838#issuecomment-569907345",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17838"
    },
    {
      "event": "mentioned",
      "id": 2915456427,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MjkxNTQ1NjQyNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2915456427",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-12-31T10:41:50Z"
    },
    {
      "event": "subscribed",
      "id": 2915456428,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDI5MTU0NTY0Mjg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2915456428",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-12-31T10:41:50Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 2915508159,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MjkxNTUwODE1OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2915508159",
      "actor": {
        "login": "kallewoof",
        "id": 250224,
        "node_id": "MDQ6VXNlcjI1MDIyNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kallewoof",
        "html_url": "https://github.com/kallewoof",
        "followers_url": "https://api.github.com/users/kallewoof/followers",
        "following_url": "https://api.github.com/users/kallewoof/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kallewoof/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kallewoof/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
        "organizations_url": "https://api.github.com/users/kallewoof/orgs",
        "repos_url": "https://api.github.com/users/kallewoof/repos",
        "events_url": "https://api.github.com/users/kallewoof/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kallewoof/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-12-31T11:24:53Z"
    },
    {
      "event": "reviewed",
      "id": 337418485,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM3NDE4NDg1",
      "url": null,
      "actor": null,
      "commit_id": "d0cf6e29a1f86a0f3879d3f16160bf3b9f268344",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/17838#pullrequestreview-337418485",
      "submitted_at": "2019-12-31T17:22:29Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17838"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 2916278900,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MjkxNjI3ODkwMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2916278900",
      "actor": {
        "login": "kallewoof",
        "id": 250224,
        "node_id": "MDQ6VXNlcjI1MDIyNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kallewoof",
        "html_url": "https://github.com/kallewoof",
        "followers_url": "https://api.github.com/users/kallewoof/followers",
        "following_url": "https://api.github.com/users/kallewoof/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kallewoof/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kallewoof/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
        "organizations_url": "https://api.github.com/users/kallewoof/orgs",
        "repos_url": "https://api.github.com/users/kallewoof/repos",
        "events_url": "https://api.github.com/users/kallewoof/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kallewoof/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-01-01T04:05:55Z"
    },
    {
      "event": "commented",
      "id": 570018989,
      "node_id": "MDEyOklzc3VlQ29tbWVudDU3MDAxODk4OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/570018989",
      "actor": {
        "login": "kallewoof",
        "id": 250224,
        "node_id": "MDQ6VXNlcjI1MDIyNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kallewoof",
        "html_url": "https://github.com/kallewoof",
        "followers_url": "https://api.github.com/users/kallewoof/followers",
        "following_url": "https://api.github.com/users/kallewoof/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kallewoof/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kallewoof/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
        "organizations_url": "https://api.github.com/users/kallewoof/orgs",
        "repos_url": "https://api.github.com/users/kallewoof/repos",
        "events_url": "https://api.github.com/users/kallewoof/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kallewoof/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-01-01T04:06:21Z",
      "updated_at": "2020-01-01T04:06:21Z",
      "author_association": "MEMBER",
      "body": "Removed left-over print and tweaked comment.",
      "user": {
        "login": "kallewoof",
        "id": 250224,
        "node_id": "MDQ6VXNlcjI1MDIyNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kallewoof",
        "html_url": "https://github.com/kallewoof",
        "followers_url": "https://api.github.com/users/kallewoof/followers",
        "following_url": "https://api.github.com/users/kallewoof/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kallewoof/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kallewoof/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
        "organizations_url": "https://api.github.com/users/kallewoof/orgs",
        "repos_url": "https://api.github.com/users/kallewoof/repos",
        "events_url": "https://api.github.com/users/kallewoof/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kallewoof/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/17838#issuecomment-570018989",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17838"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 2916336919,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MjkxNjMzNjkxOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2916336919",
      "actor": {
        "login": "kallewoof",
        "id": 250224,
        "node_id": "MDQ6VXNlcjI1MDIyNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kallewoof",
        "html_url": "https://github.com/kallewoof",
        "followers_url": "https://api.github.com/users/kallewoof/followers",
        "following_url": "https://api.github.com/users/kallewoof/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kallewoof/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kallewoof/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
        "organizations_url": "https://api.github.com/users/kallewoof/orgs",
        "repos_url": "https://api.github.com/users/kallewoof/repos",
        "events_url": "https://api.github.com/users/kallewoof/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kallewoof/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-01-01T07:02:17Z"
    },
    {
      "event": "reviewed",
      "id": 337778018,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM3Nzc4MDE4",
      "url": null,
      "actor": null,
      "commit_id": "afc72f9e8c48440def2ba1718bebd8d0114f66cf",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Looks good other than 1 nit. Thanks for your PR!",
      "user": {
        "login": "jimmysong",
        "id": 524761,
        "node_id": "MDQ6VXNlcjUyNDc2MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/524761?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jimmysong",
        "html_url": "https://github.com/jimmysong",
        "followers_url": "https://api.github.com/users/jimmysong/followers",
        "following_url": "https://api.github.com/users/jimmysong/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jimmysong/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jimmysong/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jimmysong/subscriptions",
        "organizations_url": "https://api.github.com/users/jimmysong/orgs",
        "repos_url": "https://api.github.com/users/jimmysong/repos",
        "events_url": "https://api.github.com/users/jimmysong/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jimmysong/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/17838#pullrequestreview-337778018",
      "submitted_at": "2020-01-02T17:58:42Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17838"
    },
    {
      "event": "reviewed",
      "id": 337799094,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM3Nzk5MDk0",
      "url": null,
      "actor": null,
      "commit_id": "afc72f9e8c48440def2ba1718bebd8d0114f66cf",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/17838#pullrequestreview-337799094",
      "submitted_at": "2020-01-02T18:47:21Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17838"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 2919390041,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MjkxOTM5MDA0MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2919390041",
      "actor": {
        "login": "kallewoof",
        "id": 250224,
        "node_id": "MDQ6VXNlcjI1MDIyNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kallewoof",
        "html_url": "https://github.com/kallewoof",
        "followers_url": "https://api.github.com/users/kallewoof/followers",
        "following_url": "https://api.github.com/users/kallewoof/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kallewoof/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kallewoof/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
        "organizations_url": "https://api.github.com/users/kallewoof/orgs",
        "repos_url": "https://api.github.com/users/kallewoof/repos",
        "events_url": "https://api.github.com/users/kallewoof/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kallewoof/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-01-03T04:40:01Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 2919392891,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MjkxOTM5Mjg5MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2919392891",
      "actor": {
        "login": "kallewoof",
        "id": 250224,
        "node_id": "MDQ6VXNlcjI1MDIyNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kallewoof",
        "html_url": "https://github.com/kallewoof",
        "followers_url": "https://api.github.com/users/kallewoof/followers",
        "following_url": "https://api.github.com/users/kallewoof/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kallewoof/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kallewoof/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
        "organizations_url": "https://api.github.com/users/kallewoof/orgs",
        "repos_url": "https://api.github.com/users/kallewoof/repos",
        "events_url": "https://api.github.com/users/kallewoof/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kallewoof/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-01-03T04:42:04Z"
    },
    {
      "event": "labeled",
      "id": 2929140579,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDI5MjkxNDA1Nzk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2929140579",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-01-07T21:37:34Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1OWQ5YjUxM2UyMjU4OGMwMmE3YTM5ZmJiYmY4YmM2NWNiMjYxN2Jl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/59d9b513e22588c02a7a39fbbbf8bc65cb2617be",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/59d9b513e22588c02a7a39fbbbf8bc65cb2617be",
      "tree": {
        "sha": "fadac4988aa945669a2d52d0c51700d38a374310",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fadac4988aa945669a2d52d0c51700d38a374310"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree fadac4988aa945669a2d52d0c51700d38a374310\nparent fcef6dbc15ef9630832697b9ebf80f05f20efda8\nauthor Karl-Johan Alm <karljohan-alm@garage.co.jp> 1577770593 +0900\ncommitter Karl-Johan Alm <karljohan-alm@garage.co.jp> 1578455904 +0900\n\ntest: test the >10 UTXO case for output groups\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEExCr/fGGz5EoUVM01V692LbM1MyIFAl4VU2AACgkQV692LbM1\nMyK1MA/+J4D8mDSF+d+Ey0+j5JifQY0HMdLbpBrJKBPaZC3D2dwG8owVrqjIvxqL\nQ6zMFquElbk7Iqo0rpWx/H+QK/y6U5Hlq2566oF3j/gzwKCVr5ilyAnjnAUKzLKr\nQQOc4nwRQA+ZNm0OBjanAUNCnH4tG41d+P4L4CxmseC8ieLtLy6rO4umVohgXlr4\nlHXAjA/x+odMYCY/TQVVqXAUbM80GyU6IU05Vv2xHQ2hPPmOi1e4cTcgWgOv/T9l\ng0Rm82S0SaQFOiVOAr2ZPdPMRNIVtX504CGUuknh24ToYa1Wq2LO0b47L9PjGNtw\nY/+cafgFiQrkSwmb/NrNxaj/saSz7rppkwfEUX/zFPbwX6I5E6t92Rbqy5nCGbH5\nyqGgIQwoj4Nfe3hISrUPD/FG6J7T+XaRR/rg7T9uAYqUcKgIlGFcUWquDt+PE3I5\nCmyB4AjObn2EaOOphlc9I5pnOB9Ex9KDBzsQH1VLywkk3Qw7n+WaRqyXEplIV5d3\nz4W5L4wd519W7tDmW/ToHRzSN24Zgk8gMlBzEJ0dRBptYytKxaR4wU+D2Fek+BxP\nTGoWp7HjhVrRZbyrZ1/1ioUnLyWGwSVNC8izzRNqyUT5F6QARWHJ4qivk8rmgwQX\n2lK3TmeW5+M2Ia7vB7lGWWe2AB91r8fnn9Cd2n3F2kNbbhE5kSk=\n=vPcB\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fcef6dbc15ef9630832697b9ebf80f05f20efda8",
          "sha": "fcef6dbc15ef9630832697b9ebf80f05f20efda8",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fcef6dbc15ef9630832697b9ebf80f05f20efda8"
        }
      ],
      "message": "test: test the >10 UTXO case for output groups",
      "committer": {
        "name": "Karl-Johan Alm",
        "email": "karljohan-alm@garage.co.jp",
        "date": "2020-01-08T03:58:24Z"
      },
      "author": {
        "name": "Karl-Johan Alm",
        "email": "karljohan-alm@garage.co.jp",
        "date": "2019-12-31T05:36:33Z"
      },
      "sha": "59d9b513e22588c02a7a39fbbbf8bc65cb2617be"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 2929810311,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MjkyOTgxMDMxMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2929810311",
      "actor": {
        "login": "kallewoof",
        "id": 250224,
        "node_id": "MDQ6VXNlcjI1MDIyNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kallewoof",
        "html_url": "https://github.com/kallewoof",
        "followers_url": "https://api.github.com/users/kallewoof/followers",
        "following_url": "https://api.github.com/users/kallewoof/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kallewoof/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kallewoof/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
        "organizations_url": "https://api.github.com/users/kallewoof/orgs",
        "repos_url": "https://api.github.com/users/kallewoof/repos",
        "events_url": "https://api.github.com/users/kallewoof/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kallewoof/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-01-08T03:58:35Z"
    },
    {
      "event": "unlabeled",
      "id": 2929967036,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50MjkyOTk2NzAzNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2929967036",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-01-08T05:54:46Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 2950216950,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDI5NTAyMTY5NTA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2950216950",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-01-15T10:11:53Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 574590076,
      "node_id": "MDEyOklzc3VlQ29tbWVudDU3NDU5MDA3Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/574590076",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-01-15T10:11:54Z",
      "updated_at": "2020-01-15T10:11:54Z",
      "author_association": "MEMBER",
      "body": "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/17838#issuecomment-574590076",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17838"
    },
    {
      "event": "commented",
      "id": 574603600,
      "node_id": "MDEyOklzc3VlQ29tbWVudDU3NDYwMzYwMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/574603600",
      "actor": {
        "login": "kallewoof",
        "id": 250224,
        "node_id": "MDQ6VXNlcjI1MDIyNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kallewoof",
        "html_url": "https://github.com/kallewoof",
        "followers_url": "https://api.github.com/users/kallewoof/followers",
        "following_url": "https://api.github.com/users/kallewoof/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kallewoof/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kallewoof/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
        "organizations_url": "https://api.github.com/users/kallewoof/orgs",
        "repos_url": "https://api.github.com/users/kallewoof/repos",
        "events_url": "https://api.github.com/users/kallewoof/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kallewoof/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-01-15T10:45:01Z",
      "updated_at": "2020-01-15T10:45:01Z",
      "author_association": "MEMBER",
      "body": "Rendered redundant with #17843.",
      "user": {
        "login": "kallewoof",
        "id": 250224,
        "node_id": "MDQ6VXNlcjI1MDIyNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kallewoof",
        "html_url": "https://github.com/kallewoof",
        "followers_url": "https://api.github.com/users/kallewoof/followers",
        "following_url": "https://api.github.com/users/kallewoof/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kallewoof/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kallewoof/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
        "organizations_url": "https://api.github.com/users/kallewoof/orgs",
        "repos_url": "https://api.github.com/users/kallewoof/repos",
        "events_url": "https://api.github.com/users/kallewoof/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kallewoof/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/17838#issuecomment-574603600",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17838"
    },
    {
      "event": "closed",
      "id": 2950329777,
      "node_id": "MDExOkNsb3NlZEV2ZW50Mjk1MDMyOTc3Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2950329777",
      "actor": {
        "login": "kallewoof",
        "id": 250224,
        "node_id": "MDQ6VXNlcjI1MDIyNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kallewoof",
        "html_url": "https://github.com/kallewoof",
        "followers_url": "https://api.github.com/users/kallewoof/followers",
        "following_url": "https://api.github.com/users/kallewoof/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kallewoof/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kallewoof/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
        "organizations_url": "https://api.github.com/users/kallewoof/orgs",
        "repos_url": "https://api.github.com/users/kallewoof/repos",
        "events_url": "https://api.github.com/users/kallewoof/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kallewoof/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-01-15T10:45:01Z"
    },
    {
      "event": "head_ref_deleted",
      "id": 2950330359,
      "node_id": "MDE5OkhlYWRSZWZEZWxldGVkRXZlbnQyOTUwMzMwMzU5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2950330359",
      "actor": {
        "login": "kallewoof",
        "id": 250224,
        "node_id": "MDQ6VXNlcjI1MDIyNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kallewoof",
        "html_url": "https://github.com/kallewoof",
        "followers_url": "https://api.github.com/users/kallewoof/followers",
        "following_url": "https://api.github.com/users/kallewoof/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kallewoof/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kallewoof/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
        "organizations_url": "https://api.github.com/users/kallewoof/orgs",
        "repos_url": "https://api.github.com/users/kallewoof/repos",
        "events_url": "https://api.github.com/users/kallewoof/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kallewoof/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-01-15T10:45:10Z"
    },
    {
      "event": "locked",
      "id": 6073969720,
      "node_id": "LOE_lADOABII584gbjr7zwAAAAFqCWw4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6073969720",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-02-15T10:57:34Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362175874",
      "pull_request_review_id": 337328467,
      "id": 362175874,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjE3NTg3NA==",
      "diff_hunk": "@@ -240,5 +242,37 @@ def test_fund_send_fund_send(self):\n         assert_approx(self.nodes[1].getbalance(), 1, 0.001)\n         assert_approx(self.nodes[1].getbalance(avoid_reuse=False), 11, 0.001)\n \n+    def test_many_utxos_one_dest(self):\n+        '''\n+        Test the case where [1] generates a new address A, then\n+        [0] sends 1 BTC to A 30 times.\n+        [1] spends 11 BTC from A\n+        20 of the outputs in A should be used, leaving 10 intact.\n+        Those 10 should all be marked used.\n+        A single output of 9 btc should be change back to self, and should not be marked used.",
      "path": "test/functional/wallet_avoidreuse.py",
      "position": null,
      "original_position": 20,
      "commit_id": "59d9b513e22588c02a7a39fbbbf8bc65cb2617be",
      "original_commit_id": "b3ad0cd69c8ad5dedeec1037795b8c49a42f242d",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nits: s/change/changed/, and s/self/itself/ ?",
      "created_at": "2019-12-31T09:06:53Z",
      "updated_at": "2020-01-08T03:58:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/17838#discussion_r362175874",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362175874"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17838"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 252,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362179474",
      "pull_request_review_id": 337328467,
      "id": 362179474,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjE3OTQ3NA==",
      "diff_hunk": "@@ -240,5 +242,37 @@ def test_fund_send_fund_send(self):\n         assert_approx(self.nodes[1].getbalance(), 1, 0.001)\n         assert_approx(self.nodes[1].getbalance(avoid_reuse=False), 11, 0.001)\n \n+    def test_many_utxos_one_dest(self):\n+        '''\n+        Test the case where [1] generates a new address A, then\n+        [0] sends 1 BTC to A 30 times.\n+        [1] spends 11 BTC from A\n+        20 of the outputs in A should be used, leaving 10 intact.\n+        Those 10 should all be marked used.\n+        A single output of 9 btc should be change back to self, and should not be marked used.\n+        '''\n+        self.log.info(\"Test many utxos one destination\")\n+\n+        fundaddr = self.nodes[1].getnewaddress()\n+        retaddr = self.nodes[0].getnewaddress()\n+\n+        [self.nodes[0].sendtoaddress(fundaddr, 1) for _ in range(30)]\n+        self.nodes[0].generate(1)\n+        self.sync_all()\n+\n+        # listunspent should show 30 unused 1 btc outputs\n+        assert_unspent(self.nodes[1], total_count=30, total_sum=30, reused_supported=True, reused_count=0)\n+        # getbalances should show no used, 30 btc trusted\n+        assert_balances(self.nodes[1], mine={\"used\": 0, \"trusted\": 30})\n+\n+        self.nodes[1].sendtoaddress(retaddr, 11)\n+        self.nodes[0].generate(1)\n+        self.sync_all()\n+\n+        # listunspent should show 1 unused 9 btc output, and 10 used 1 btc outputs\n+        assert_unspent(self.nodes[1], total_count=11, total_sum=19, reused_supported=True, reused_count=10)\n+        # getbalances should show 10 used, 9 btc trusted\n+        assert_balances(self.nodes[1], mine={\"used\": 10, \"trusted\": 9})",
      "path": "test/functional/wallet_avoidreuse.py",
      "position": null,
      "original_position": 43,
      "commit_id": "59d9b513e22588c02a7a39fbbbf8bc65cb2617be",
      "original_commit_id": "b3ad0cd69c8ad5dedeec1037795b8c49a42f242d",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This assert is failing for me; will provide details in the review summary.",
      "created_at": "2019-12-31T09:26:02Z",
      "updated_at": "2020-01-08T03:58:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/17838#discussion_r362179474",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362179474"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17838"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 275,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362192326",
      "pull_request_review_id": 337348038,
      "id": 362192326,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjE5MjMyNg==",
      "diff_hunk": "@@ -240,5 +242,37 @@ def test_fund_send_fund_send(self):\n         assert_approx(self.nodes[1].getbalance(), 1, 0.001)\n         assert_approx(self.nodes[1].getbalance(avoid_reuse=False), 11, 0.001)\n \n+    def test_many_utxos_one_dest(self):\n+        '''\n+        Test the case where [1] generates a new address A, then\n+        [0] sends 1 BTC to A 30 times.\n+        [1] spends 11 BTC from A\n+        20 of the outputs in A should be used, leaving 10 intact.\n+        Those 10 should all be marked used.\n+        A single output of 9 btc should be change back to self, and should not be marked used.",
      "path": "test/functional/wallet_avoidreuse.py",
      "position": null,
      "original_position": 20,
      "commit_id": "59d9b513e22588c02a7a39fbbbf8bc65cb2617be",
      "original_commit_id": "b3ad0cd69c8ad5dedeec1037795b8c49a42f242d",
      "in_reply_to_id": 362175874,
      "user": {
        "login": "kallewoof",
        "id": 250224,
        "node_id": "MDQ6VXNlcjI1MDIyNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kallewoof",
        "html_url": "https://github.com/kallewoof",
        "followers_url": "https://api.github.com/users/kallewoof/followers",
        "following_url": "https://api.github.com/users/kallewoof/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kallewoof/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kallewoof/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
        "organizations_url": "https://api.github.com/users/kallewoof/orgs",
        "repos_url": "https://api.github.com/users/kallewoof/repos",
        "events_url": "https://api.github.com/users/kallewoof/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kallewoof/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It's change, as in money given back, so I think it's correct as it is, but I'll make it clearer.",
      "created_at": "2019-12-31T10:42:26Z",
      "updated_at": "2020-01-08T03:58:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/17838#discussion_r362192326",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362192326"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17838"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 252,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362197317",
      "pull_request_review_id": 337353989,
      "id": 362197317,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjE5NzMxNw==",
      "diff_hunk": "@@ -240,5 +242,37 @@ def test_fund_send_fund_send(self):\n         assert_approx(self.nodes[1].getbalance(), 1, 0.001)\n         assert_approx(self.nodes[1].getbalance(avoid_reuse=False), 11, 0.001)\n \n+    def test_many_utxos_one_dest(self):\n+        '''\n+        Test the case where [1] generates a new address A, then\n+        [0] sends 1 BTC to A 30 times.\n+        [1] spends 11 BTC from A\n+        20 of the outputs in A should be used, leaving 10 intact.\n+        Those 10 should all be marked used.\n+        A single output of 9 btc should be change back to self, and should not be marked used.",
      "path": "test/functional/wallet_avoidreuse.py",
      "position": null,
      "original_position": 20,
      "commit_id": "59d9b513e22588c02a7a39fbbbf8bc65cb2617be",
      "original_commit_id": "b3ad0cd69c8ad5dedeec1037795b8c49a42f242d",
      "in_reply_to_id": 362175874,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Oh, of course. Yes, I read it wrong.",
      "created_at": "2019-12-31T11:14:05Z",
      "updated_at": "2020-01-08T03:58:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/17838#discussion_r362197317",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362197317"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17838"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 252,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362199036",
      "pull_request_review_id": 337356064,
      "id": 362199036,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjE5OTAzNg==",
      "diff_hunk": "@@ -240,5 +242,37 @@ def test_fund_send_fund_send(self):\n         assert_approx(self.nodes[1].getbalance(), 1, 0.001)\n         assert_approx(self.nodes[1].getbalance(avoid_reuse=False), 11, 0.001)\n \n+    def test_many_utxos_one_dest(self):\n+        '''\n+        Test the case where [1] generates a new address A, then\n+        [0] sends 1 BTC to A 30 times.\n+        [1] spends 11 BTC from A\n+        20 of the outputs in A should be used, leaving 10 intact.\n+        Those 10 should all be marked used.\n+        A single output of 9 btc should be change back to self, and should not be marked used.\n+        '''\n+        self.log.info(\"Test many utxos one destination\")\n+\n+        fundaddr = self.nodes[1].getnewaddress()\n+        retaddr = self.nodes[0].getnewaddress()\n+\n+        [self.nodes[0].sendtoaddress(fundaddr, 1) for _ in range(30)]\n+        self.nodes[0].generate(1)\n+        self.sync_all()\n+\n+        # listunspent should show 30 unused 1 btc outputs\n+        assert_unspent(self.nodes[1], total_count=30, total_sum=30, reused_supported=True, reused_count=0)\n+        # getbalances should show no used, 30 btc trusted\n+        assert_balances(self.nodes[1], mine={\"used\": 0, \"trusted\": 30})\n+\n+        self.nodes[1].sendtoaddress(retaddr, 11)\n+        self.nodes[0].generate(1)\n+        self.sync_all()\n+\n+        # listunspent should show 1 unused 9 btc output, and 10 used 1 btc outputs\n+        assert_unspent(self.nodes[1], total_count=11, total_sum=19, reused_supported=True, reused_count=10)\n+        # getbalances should show 10 used, 9 btc trusted\n+        assert_balances(self.nodes[1], mine={\"used\": 10, \"trusted\": 9})",
      "path": "test/functional/wallet_avoidreuse.py",
      "position": null,
      "original_position": 43,
      "commit_id": "59d9b513e22588c02a7a39fbbbf8bc65cb2617be",
      "original_commit_id": "b3ad0cd69c8ad5dedeec1037795b8c49a42f242d",
      "in_reply_to_id": 362179474,
      "user": {
        "login": "kallewoof",
        "id": 250224,
        "node_id": "MDQ6VXNlcjI1MDIyNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kallewoof",
        "html_url": "https://github.com/kallewoof",
        "followers_url": "https://api.github.com/users/kallewoof/followers",
        "following_url": "https://api.github.com/users/kallewoof/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kallewoof/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kallewoof/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
        "organizations_url": "https://api.github.com/users/kallewoof/orgs",
        "repos_url": "https://api.github.com/users/kallewoof/repos",
        "events_url": "https://api.github.com/users/kallewoof/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kallewoof/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks for testing -- I have modified the test to work according to the implementation, which has the limitation that it only marks *new* utxos as used when it sees them -- to get the 100% correct behavior the user would have to run a rescan. To be honest, this should probably be fixed..",
      "created_at": "2019-12-31T11:26:58Z",
      "updated_at": "2020-01-08T03:58:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/17838#discussion_r362199036",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362199036"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17838"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 275,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362251814",
      "pull_request_review_id": 337418485,
      "id": 362251814,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjI1MTgxNA==",
      "diff_hunk": "@@ -60,6 +60,7 @@ def assert_unspent(node, total_count=None, total_sum=None, reused_supported=None\n def assert_balances(node, mine):\n     '''Make assertions about a node's getbalances output'''\n     got = node.getbalances()[\"mine\"]\n+    print(got)",
      "path": "test/functional/wallet_avoidreuse.py",
      "position": null,
      "original_position": 4,
      "commit_id": "59d9b513e22588c02a7a39fbbbf8bc65cb2617be",
      "original_commit_id": "d0cf6e29a1f86a0f3879d3f16160bf3b9f268344",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Remove this print?",
      "created_at": "2019-12-31T17:22:28Z",
      "updated_at": "2020-01-08T03:58:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/17838#discussion_r362251814",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362251814"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17838"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 63,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362566959",
      "pull_request_review_id": 337778018,
      "id": 362566959,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjU2Njk1OQ==",
      "diff_hunk": "@@ -240,5 +242,39 @@ def test_fund_send_fund_send(self):\n         assert_approx(self.nodes[1].getbalance(), 1, 0.001)\n         assert_approx(self.nodes[1].getbalance(avoid_reuse=False), 11, 0.001)\n \n+    def test_many_utxos_one_dest(self):\n+        '''\n+        Test the case where [1] generates a new address A, then\n+        [0] sends 1 BTC to A 30 times.\n+        [1] spends 11 BTC from A\n+        20 of the outputs in A should be used, leaving 10 intact.\n+        Those 10 should all be marked used.\n+        A single output of 9 btc should be the change output back to oneself,\n+        and should not be marked used.\n+        '''\n+        self.log.info(\"Test many utxos one destination\")\n+\n+        fundaddr = self.nodes[1].getnewaddress()\n+        retaddr = self.nodes[0].getnewaddress()\n+\n+        [self.nodes[0].sendtoaddress(fundaddr, 1) for _ in range(30)]",
      "path": "test/functional/wallet_avoidreuse.py",
      "position": null,
      "original_position": 28,
      "commit_id": "59d9b513e22588c02a7a39fbbbf8bc65cb2617be",
      "original_commit_id": "afc72f9e8c48440def2ba1718bebd8d0114f66cf",
      "in_reply_to_id": null,
      "user": {
        "login": "jimmysong",
        "id": 524761,
        "node_id": "MDQ6VXNlcjUyNDc2MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/524761?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jimmysong",
        "html_url": "https://github.com/jimmysong",
        "followers_url": "https://api.github.com/users/jimmysong/followers",
        "following_url": "https://api.github.com/users/jimmysong/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jimmysong/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jimmysong/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jimmysong/subscriptions",
        "organizations_url": "https://api.github.com/users/jimmysong/orgs",
        "repos_url": "https://api.github.com/users/jimmysong/repos",
        "events_url": "https://api.github.com/users/jimmysong/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jimmysong/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Generally, this is not a pattern seen in the codebase. When list comprehensions are done, they're done to assign to a variable. It's also a little harder to read. A two-liner like this is easier.:\r\n\r\n    for _ in range(30):\r\n        self.nodes[0].sendtoaddress(fundaddr, 1)\r\n\r\n",
      "created_at": "2020-01-02T17:56:01Z",
      "updated_at": "2020-01-08T03:58:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/17838#discussion_r362566959",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362566959"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17838"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 260,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362567371",
      "pull_request_review_id": 337778018,
      "id": 362567371,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjU2NzM3MQ==",
      "diff_hunk": "@@ -240,5 +242,39 @@ def test_fund_send_fund_send(self):\n         assert_approx(self.nodes[1].getbalance(), 1, 0.001)\n         assert_approx(self.nodes[1].getbalance(avoid_reuse=False), 11, 0.001)\n \n+    def test_many_utxos_one_dest(self):\n+        '''\n+        Test the case where [1] generates a new address A, then\n+        [0] sends 1 BTC to A 30 times.\n+        [1] spends 11 BTC from A\n+        20 of the outputs in A should be used, leaving 10 intact.\n+        Those 10 should all be marked used.\n+        A single output of 9 btc should be the change output back to oneself,\n+        and should not be marked used.\n+        '''\n+        self.log.info(\"Test many utxos one destination\")\n+\n+        fundaddr = self.nodes[1].getnewaddress()\n+        retaddr = self.nodes[0].getnewaddress()\n+\n+        [self.nodes[0].sendtoaddress(fundaddr, 1) for _ in range(30)]",
      "path": "test/functional/wallet_avoidreuse.py",
      "position": null,
      "original_position": 28,
      "commit_id": "59d9b513e22588c02a7a39fbbbf8bc65cb2617be",
      "original_commit_id": "afc72f9e8c48440def2ba1718bebd8d0114f66cf",
      "in_reply_to_id": 362566959,
      "user": {
        "login": "jimmysong",
        "id": 524761,
        "node_id": "MDQ6VXNlcjUyNDc2MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/524761?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jimmysong",
        "html_url": "https://github.com/jimmysong",
        "followers_url": "https://api.github.com/users/jimmysong/followers",
        "following_url": "https://api.github.com/users/jimmysong/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jimmysong/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jimmysong/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jimmysong/subscriptions",
        "organizations_url": "https://api.github.com/users/jimmysong/orgs",
        "repos_url": "https://api.github.com/users/jimmysong/repos",
        "events_url": "https://api.github.com/users/jimmysong/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jimmysong/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Also, a comment above would be useful ( `# send one bitcoin to the funding address 30 times`)",
      "created_at": "2020-01-02T17:57:29Z",
      "updated_at": "2020-01-08T03:58:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/17838#discussion_r362567371",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362567371"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17838"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 260,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362583694",
      "pull_request_review_id": 337799094,
      "id": 362583694,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjU4MzY5NA==",
      "diff_hunk": "@@ -240,5 +242,39 @@ def test_fund_send_fund_send(self):\n         assert_approx(self.nodes[1].getbalance(), 1, 0.001)\n         assert_approx(self.nodes[1].getbalance(avoid_reuse=False), 11, 0.001)\n \n+    def test_many_utxos_one_dest(self):\n+        '''\n+        Test the case where [1] generates a new address A, then\n+        [0] sends 1 BTC to A 30 times.\n+        [1] spends 11 BTC from A\n+        20 of the outputs in A should be used, leaving 10 intact.\n+        Those 10 should all be marked used.\n+        A single output of 9 btc should be the change output back to oneself,\n+        and should not be marked used.\n+        '''\n+        self.log.info(\"Test many utxos one destination\")\n+\n+        fundaddr = self.nodes[1].getnewaddress()\n+        retaddr = self.nodes[0].getnewaddress()\n+\n+        [self.nodes[0].sendtoaddress(fundaddr, 1) for _ in range(30)]\n+        self.nodes[0].generate(1)\n+        self.sync_all()\n+\n+        # listunspent should show 30 unused 1 btc outputs\n+        assert_unspent(self.nodes[1], total_count=30, total_sum=30, reused_supported=True, reused_count=0)\n+        # getbalances should show no used, 30 btc trusted\n+        assert_balances(self.nodes[1], mine={\"used\": 0, \"trusted\": 30})\n+\n+        self.nodes[1].sendtoaddress(retaddr, 11)\n+        self.nodes[0].generate(1)\n+        self.sync_all()\n+\n+        # listunspent should show 11 unused outputs (you might expect 1 unused 9\n+        # btc output, and 10 used 1 btc outputs, but due to how things are set\n+        # up this requires a rescan by the user; this should probably be fixed).\n+        assert_unspent(self.nodes[1], total_count=11, total_sum=19, reused_supported=True, reused_count=10)\n+        assert_balances(self.nodes[1], mine={\"used\": 0, \"trusted\": 19})",
      "path": "test/functional/wallet_avoidreuse.py",
      "position": 48,
      "original_position": 45,
      "commit_id": "59d9b513e22588c02a7a39fbbbf8bc65cb2617be",
      "original_commit_id": "afc72f9e8c48440def2ba1718bebd8d0114f66cf",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Verified what happens after a rescan: getbalances changes, but not listunspent.\r\n```diff\r\n+\r\n+        # After -rescan, getbalances shows 1 unused 9 btc output, and 10 used 1 btc outputs.\r\n+        self.restart_node(1, extra_args=self.extra_args[1] + ['-rescan'])\r\n+        assert_unspent(self.nodes[1], total_count=11, total_sum=19, reused_supported=True, reused_count=10)\r\n+        assert_balances(self.nodes[1], mine={\"trusted\": 9, \"used\": 10})\r\n```\r\nWorthwhile to add this assertion and update the comment in line 273?\r\n\r\nI'd also like to compare and test this on the changes in the related PRs.",
      "created_at": "2020-01-02T18:47:21Z",
      "updated_at": "2020-01-08T03:58:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/17838#discussion_r362583694",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362583694"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17838"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 295,
      "original_line": 295,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362700302",
      "pull_request_review_id": 337942176,
      "id": 362700302,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjcwMDMwMg==",
      "diff_hunk": "@@ -240,5 +242,39 @@ def test_fund_send_fund_send(self):\n         assert_approx(self.nodes[1].getbalance(), 1, 0.001)\n         assert_approx(self.nodes[1].getbalance(avoid_reuse=False), 11, 0.001)\n \n+    def test_many_utxos_one_dest(self):\n+        '''\n+        Test the case where [1] generates a new address A, then\n+        [0] sends 1 BTC to A 30 times.\n+        [1] spends 11 BTC from A\n+        20 of the outputs in A should be used, leaving 10 intact.\n+        Those 10 should all be marked used.\n+        A single output of 9 btc should be the change output back to oneself,\n+        and should not be marked used.\n+        '''\n+        self.log.info(\"Test many utxos one destination\")\n+\n+        fundaddr = self.nodes[1].getnewaddress()\n+        retaddr = self.nodes[0].getnewaddress()\n+\n+        [self.nodes[0].sendtoaddress(fundaddr, 1) for _ in range(30)]",
      "path": "test/functional/wallet_avoidreuse.py",
      "position": null,
      "original_position": 28,
      "commit_id": "59d9b513e22588c02a7a39fbbbf8bc65cb2617be",
      "original_commit_id": "afc72f9e8c48440def2ba1718bebd8d0114f66cf",
      "in_reply_to_id": 362566959,
      "user": {
        "login": "kallewoof",
        "id": 250224,
        "node_id": "MDQ6VXNlcjI1MDIyNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kallewoof",
        "html_url": "https://github.com/kallewoof",
        "followers_url": "https://api.github.com/users/kallewoof/followers",
        "following_url": "https://api.github.com/users/kallewoof/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kallewoof/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kallewoof/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
        "organizations_url": "https://api.github.com/users/kallewoof/orgs",
        "repos_url": "https://api.github.com/users/kallewoof/repos",
        "events_url": "https://api.github.com/users/kallewoof/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kallewoof/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "No, there are cases where this is done:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/17e14ac92fced92457945859463eda5d435bdd49/test/functional/feature_block.py#L1301\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/17e14ac92fced92457945859463eda5d435bdd49/test/functional/p2p_compactblocks.py#L601\r\n\r\nExactly the same pattern:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/17e14ac92fced92457945859463eda5d435bdd49/test/functional/p2p_feefilter.py#L82\r\n\r\nProbably more examples.",
      "created_at": "2020-01-03T03:49:34Z",
      "updated_at": "2020-01-08T03:58:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/17838#discussion_r362700302",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362700302"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17838"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 260,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362702489",
      "pull_request_review_id": 337944783,
      "id": 362702489,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjcwMjQ4OQ==",
      "diff_hunk": "@@ -240,5 +242,39 @@ def test_fund_send_fund_send(self):\n         assert_approx(self.nodes[1].getbalance(), 1, 0.001)\n         assert_approx(self.nodes[1].getbalance(avoid_reuse=False), 11, 0.001)\n \n+    def test_many_utxos_one_dest(self):\n+        '''\n+        Test the case where [1] generates a new address A, then\n+        [0] sends 1 BTC to A 30 times.\n+        [1] spends 11 BTC from A\n+        20 of the outputs in A should be used, leaving 10 intact.\n+        Those 10 should all be marked used.\n+        A single output of 9 btc should be the change output back to oneself,\n+        and should not be marked used.\n+        '''\n+        self.log.info(\"Test many utxos one destination\")\n+\n+        fundaddr = self.nodes[1].getnewaddress()\n+        retaddr = self.nodes[0].getnewaddress()\n+\n+        [self.nodes[0].sendtoaddress(fundaddr, 1) for _ in range(30)]",
      "path": "test/functional/wallet_avoidreuse.py",
      "position": null,
      "original_position": 28,
      "commit_id": "59d9b513e22588c02a7a39fbbbf8bc65cb2617be",
      "original_commit_id": "afc72f9e8c48440def2ba1718bebd8d0114f66cf",
      "in_reply_to_id": 362566959,
      "user": {
        "login": "jimmysong",
        "id": 524761,
        "node_id": "MDQ6VXNlcjUyNDc2MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/524761?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jimmysong",
        "html_url": "https://github.com/jimmysong",
        "followers_url": "https://api.github.com/users/jimmysong/followers",
        "following_url": "https://api.github.com/users/jimmysong/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jimmysong/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jimmysong/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jimmysong/subscriptions",
        "organizations_url": "https://api.github.com/users/jimmysong/orgs",
        "repos_url": "https://api.github.com/users/jimmysong/repos",
        "events_url": "https://api.github.com/users/jimmysong/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jimmysong/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "OK, I missed those. I still don't think it's that clear, but if it's there already, I'm happy to have it be a pattern.",
      "created_at": "2020-01-03T04:13:40Z",
      "updated_at": "2020-01-08T03:58:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/17838#discussion_r362702489",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362702489"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17838"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 260,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362704763",
      "pull_request_review_id": 337947430,
      "id": 362704763,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjcwNDc2Mw==",
      "diff_hunk": "@@ -240,5 +242,39 @@ def test_fund_send_fund_send(self):\n         assert_approx(self.nodes[1].getbalance(), 1, 0.001)\n         assert_approx(self.nodes[1].getbalance(avoid_reuse=False), 11, 0.001)\n \n+    def test_many_utxos_one_dest(self):\n+        '''\n+        Test the case where [1] generates a new address A, then\n+        [0] sends 1 BTC to A 30 times.\n+        [1] spends 11 BTC from A\n+        20 of the outputs in A should be used, leaving 10 intact.\n+        Those 10 should all be marked used.\n+        A single output of 9 btc should be the change output back to oneself,\n+        and should not be marked used.\n+        '''\n+        self.log.info(\"Test many utxos one destination\")\n+\n+        fundaddr = self.nodes[1].getnewaddress()\n+        retaddr = self.nodes[0].getnewaddress()\n+\n+        [self.nodes[0].sendtoaddress(fundaddr, 1) for _ in range(30)]",
      "path": "test/functional/wallet_avoidreuse.py",
      "position": null,
      "original_position": 28,
      "commit_id": "59d9b513e22588c02a7a39fbbbf8bc65cb2617be",
      "original_commit_id": "afc72f9e8c48440def2ba1718bebd8d0114f66cf",
      "in_reply_to_id": 362566959,
      "user": {
        "login": "kallewoof",
        "id": 250224,
        "node_id": "MDQ6VXNlcjI1MDIyNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kallewoof",
        "html_url": "https://github.com/kallewoof",
        "followers_url": "https://api.github.com/users/kallewoof/followers",
        "following_url": "https://api.github.com/users/kallewoof/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kallewoof/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kallewoof/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
        "organizations_url": "https://api.github.com/users/kallewoof/orgs",
        "repos_url": "https://api.github.com/users/kallewoof/repos",
        "events_url": "https://api.github.com/users/kallewoof/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kallewoof/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yeah, you're probably right. I'll change it to be more clear and add comment. Thanks for the feedback.",
      "created_at": "2020-01-03T04:38:50Z",
      "updated_at": "2020-01-08T03:58:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/17838#discussion_r362704763",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362704763"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17838"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 260,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362704874",
      "pull_request_review_id": 337947572,
      "id": 362704874,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjcwNDg3NA==",
      "diff_hunk": "@@ -240,5 +242,39 @@ def test_fund_send_fund_send(self):\n         assert_approx(self.nodes[1].getbalance(), 1, 0.001)\n         assert_approx(self.nodes[1].getbalance(avoid_reuse=False), 11, 0.001)\n \n+    def test_many_utxos_one_dest(self):\n+        '''\n+        Test the case where [1] generates a new address A, then\n+        [0] sends 1 BTC to A 30 times.\n+        [1] spends 11 BTC from A\n+        20 of the outputs in A should be used, leaving 10 intact.\n+        Those 10 should all be marked used.\n+        A single output of 9 btc should be the change output back to oneself,\n+        and should not be marked used.\n+        '''\n+        self.log.info(\"Test many utxos one destination\")\n+\n+        fundaddr = self.nodes[1].getnewaddress()\n+        retaddr = self.nodes[0].getnewaddress()\n+\n+        [self.nodes[0].sendtoaddress(fundaddr, 1) for _ in range(30)]\n+        self.nodes[0].generate(1)\n+        self.sync_all()\n+\n+        # listunspent should show 30 unused 1 btc outputs\n+        assert_unspent(self.nodes[1], total_count=30, total_sum=30, reused_supported=True, reused_count=0)\n+        # getbalances should show no used, 30 btc trusted\n+        assert_balances(self.nodes[1], mine={\"used\": 0, \"trusted\": 30})\n+\n+        self.nodes[1].sendtoaddress(retaddr, 11)\n+        self.nodes[0].generate(1)\n+        self.sync_all()\n+\n+        # listunspent should show 11 unused outputs (you might expect 1 unused 9\n+        # btc output, and 10 used 1 btc outputs, but due to how things are set\n+        # up this requires a rescan by the user; this should probably be fixed).\n+        assert_unspent(self.nodes[1], total_count=11, total_sum=19, reused_supported=True, reused_count=10)\n+        assert_balances(self.nodes[1], mine={\"used\": 0, \"trusted\": 19})",
      "path": "test/functional/wallet_avoidreuse.py",
      "position": 48,
      "original_position": 45,
      "commit_id": "59d9b513e22588c02a7a39fbbbf8bc65cb2617be",
      "original_commit_id": "afc72f9e8c48440def2ba1718bebd8d0114f66cf",
      "in_reply_to_id": 362583694,
      "user": {
        "login": "kallewoof",
        "id": 250224,
        "node_id": "MDQ6VXNlcjI1MDIyNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kallewoof",
        "html_url": "https://github.com/kallewoof",
        "followers_url": "https://api.github.com/users/kallewoof/followers",
        "following_url": "https://api.github.com/users/kallewoof/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kallewoof/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kallewoof/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
        "organizations_url": "https://api.github.com/users/kallewoof/orgs",
        "repos_url": "https://api.github.com/users/kallewoof/repos",
        "events_url": "https://api.github.com/users/kallewoof/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kallewoof/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Good idea! Thanks, added to test.",
      "created_at": "2020-01-03T04:40:32Z",
      "updated_at": "2020-01-08T03:58:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/17838#discussion_r362704874",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362704874"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17838"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 295,
      "original_line": 295,
      "side": "RIGHT"
    }
  ]
}