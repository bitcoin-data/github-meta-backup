{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8865",
    "id": 87646362,
    "node_id": "MDExOlB1bGxSZXF1ZXN0ODc2NDYzNjI=",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8865",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/8865.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/8865.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8865",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8865/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8865/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8865/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/a9aec5c24d8c4efe9e1ede54e8b8039b4b3f0835",
    "number": 8865,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "Decouple peer-processing-logic from block-connection-logic",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This is part of a series of about 20 commits which split main.cpp into two - peer processing logic and blockchain/mempool/UTXO logic. Most of them arent much more intrusive than these, at least until there are large blocks of code moving.\n\nThis set focuses primarily on using CValidationinterface to handle peer-processing-logic updates when connecting/disconnecting blocks.\n\nI haven't significantly tested this as my normal test machine is largely unavailable atm, but most of the changes here are pretty straight-forward.\n",
    "labels": [
      {
        "id": 135961,
        "node_id": "MDU6TGFiZWwxMzU5NjE=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
        "name": "Refactoring",
        "color": "E6F6D6",
        "default": false
      },
      {
        "id": 98298007,
        "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
        "name": "P2P",
        "color": "006b75",
        "default": false
      }
    ],
    "active_lock_reason": "resolved",
    "created_at": "2016-10-02T20:58:32Z",
    "updated_at": "2021-09-08T11:22:38Z",
    "closed_at": "2016-10-18T20:49:14Z",
    "mergeable_state": "unknown",
    "merged_at": "2016-10-18T20:49:14Z",
    "merge_commit_sha": "a9aec5c24d8c4efe9e1ede54e8b8039b4b3f0835",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "TheBlueMatt:net_processing_1",
      "ref": "net_processing_1",
      "sha": "a9aec5c24d8c4efe9e1ede54e8b8039b4b3f0835",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 1443291,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNDQzMjkx",
        "name": "bitcoin",
        "full_name": "TheBlueMatt/bitcoin",
        "owner": {
          "login": "TheBlueMatt",
          "id": 649246,
          "node_id": "MDQ6VXNlcjY0OTI0Ng==",
          "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/TheBlueMatt",
          "html_url": "https://github.com/TheBlueMatt",
          "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
          "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
          "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
          "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
          "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/TheBlueMatt/bitcoin",
        "description": "Bitcoin (dont fork from here, fork from bitcoin/bitcoin)",
        "fork": true,
        "url": "https://api.github.com/repos/TheBlueMatt/bitcoin",
        "archive_url": "https://api.github.com/repos/TheBlueMatt/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/TheBlueMatt/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/TheBlueMatt/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/TheBlueMatt/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/TheBlueMatt/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/TheBlueMatt/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/TheBlueMatt/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/TheBlueMatt/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/TheBlueMatt/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/TheBlueMatt/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/TheBlueMatt/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/TheBlueMatt/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/TheBlueMatt/bitcoin/events",
        "forks_url": "https://api.github.com/repos/TheBlueMatt/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/TheBlueMatt/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/TheBlueMatt/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/TheBlueMatt/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/TheBlueMatt/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/TheBlueMatt/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/TheBlueMatt/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/TheBlueMatt/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/TheBlueMatt/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/TheBlueMatt/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/TheBlueMatt/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/TheBlueMatt/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/TheBlueMatt/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/TheBlueMatt/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/TheBlueMatt/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/TheBlueMatt/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:TheBlueMatt/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/TheBlueMatt/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/TheBlueMatt/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/TheBlueMatt/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/TheBlueMatt/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/TheBlueMatt/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/TheBlueMatt/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/TheBlueMatt/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/TheBlueMatt/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/TheBlueMatt/bitcoin/hooks",
        "svn_url": "https://github.com/TheBlueMatt/bitcoin",
        "homepage": "http://www.bitcoin.org/",
        "language": "C++",
        "forks_count": 6,
        "stargazers_count": 19,
        "watchers_count": 19,
        "size": 171686,
        "default_branch": "master",
        "open_issues_count": 1,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-06T09:40:23Z",
        "created_at": "2011-03-05T14:14:49Z",
        "updated_at": "2022-12-15T18:21:13Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "d7615af34e8e19920ed12bfdafb09e0e4b57c7c5",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34324,
        "stargazers_count": 69818,
        "watchers_count": 69818,
        "size": 233879,
        "default_branch": "master",
        "open_issues_count": 627,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-06T22:42:00Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-06-06T22:16:48Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8865"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 132,
    "deletions": 104,
    "changed_files": 11,
    "commits": 8,
    "review_comments": 14,
    "comments": 10
  },
  "events": [
    {
      "event": "labeled",
      "id": 809676815,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDgwOTY3NjgxNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/809676815",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-10-02T21:16:57Z",
      "label": {
        "name": "Refactoring",
        "color": "E6F6D6"
      }
    },
    {
      "event": "labeled",
      "id": 809958664,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDgwOTk1ODY2NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/809958664",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-10-03T08:31:37Z",
      "label": {
        "name": "P2P",
        "color": "006b75"
      }
    },
    {
      "event": "reviewed",
      "id": 2570286,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjU3MDI4Ng==",
      "url": null,
      "actor": null,
      "commit_id": "e8c5e11b6114ada4554ffb8a787c55ea73426331",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8865#pullrequestreview-2570286",
      "submitted_at": "2016-10-03T17:47:58Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8865"
    },
    {
      "event": "reviewed",
      "id": 2570604,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjU3MDYwNA==",
      "url": null,
      "actor": null,
      "commit_id": "e8c5e11b6114ada4554ffb8a787c55ea73426331",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8865#pullrequestreview-2570604",
      "submitted_at": "2016-10-03T17:49:36Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8865"
    },
    {
      "event": "reviewed",
      "id": 2631559,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjYzMTU1OQ==",
      "url": null,
      "actor": null,
      "commit_id": "780528adc65ccbcf2de9b267e8c05e04b6ee064e",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8865#pullrequestreview-2631559",
      "submitted_at": "2016-10-04T00:26:45Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8865"
    },
    {
      "event": "commented",
      "id": 251265292,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI1MTI2NTI5Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/251265292",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-10-04T00:29:29Z",
      "updated_at": "2016-10-04T00:29:29Z",
      "author_association": "MEMBER",
      "body": "Concept ACK and quick code-review ACK other than the nits. I'd like to spend some time testing, though.\n",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8865#issuecomment-251265292",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8865"
    },
    {
      "event": "commented",
      "id": 251281504,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI1MTI4MTUwNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/251281504",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-10-04T02:41:22Z",
      "updated_at": "2016-10-04T02:41:22Z",
      "author_association": "MEMBER",
      "body": "No? I think after this patch set the only place mapBlockSource is erased from is this line.\n\nOn October 3, 2016 8:26:53 PM EDT, Cory Fields notifications@github.com wrote:\n\n> theuni commented on this pull request.\n> \n> > +\n> > -        const uint256 hash(block.GetHash());\n> > -        std::map<uint256, NodeId>::iterator it =\n> >   mapBlockSource.find(hash);\n> >   +\n> > -        int nDoS = 0;\n> > -        if (state.IsInvalid(nDoS)) {\n> > -            if (it != mapBlockSource.end() && State(it->second)) {\n> > -                assert (state.GetRejectCode() < REJECT_INTERNAL); //\n> >   Blocks are never rejected with internal reject codes\n> > -                CBlockReject reject = {(unsigned\n> >   char)state.GetRejectCode(), state.GetRejectReason().substr(0,\n> >   MAX_REJECT_MESSAGE_LENGTH), hash};\n> > -                State(it->second)->rejects.push_back(reject);\n> > -                if (nDoS > 0)\n> > -                    Misbehaving(it->second, nDoS);\n> > -            }\n> > -        }\n> > -        if (it != mapBlockSource.end())\n> > -            mapBlockSource.erase(it);\n> \n> Hmm, were these not erased before in the invalid case?\n> \n> ## \n> \n> You are receiving this because you authored the thread.\n> Reply to this email directly or view it on GitHub:\n> https://github.com/bitcoin/bitcoin/pull/8865#pullrequestreview-2631559\n",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8865#issuecomment-251281504",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8865"
    },
    {
      "event": "commented",
      "id": 251299990,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI1MTI5OTk5MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/251299990",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-10-04T05:33:19Z",
      "updated_at": "2016-10-04T05:33:19Z",
      "author_association": "MEMBER",
      "body": "I was just pointing out that this looks to be a memleak bugfix :)\n",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8865#issuecomment-251299990",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8865"
    },
    {
      "event": "commented",
      "id": 251385087,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI1MTM4NTA4Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/251385087",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-10-04T13:18:23Z",
      "updated_at": "2016-10-04T13:18:23Z",
      "author_association": "MEMBER",
      "body": "I dont believe it is actually any (much?) different than it used to be. Maybe it will be deleted more often on reorgs now, I didnt investigate fully. In any case, its pretty hard to DoS since you only add to the map after AcceptBlock succeeds (ie the block is syntactically valid/connects/has valid PoW)\n",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8865#issuecomment-251385087",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8865"
    },
    {
      "event": "commented",
      "id": 251392182,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI1MTM5MjE4Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/251392182",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-10-04T13:46:39Z",
      "updated_at": "2016-10-04T13:46:39Z",
      "author_association": "MEMBER",
      "body": "Switched g_connman to be a shared_ptr instead of a unique_ptr, which I think should neatly address all the outstanding nits.\n",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8865#issuecomment-251392182",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8865"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4N2U3ZDcyODA3MzljY2NmYWJhZmZiYmZiYmJjZmEyMWU5NDNkYTNh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/87e7d7280739cccfabaffbbfbbbcfa21e943da3a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/87e7d7280739cccfabaffbbfbbbcfa21e943da3a",
      "tree": {
        "sha": "07cbce45120a9da86345716213c2203b65e250d8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/07cbce45120a9da86345716213c2203b65e250d8"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a7e5cbb209d4aeb8c2e4c58c92bf214759998056",
          "sha": "a7e5cbb209d4aeb8c2e4c58c92bf214759998056",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a7e5cbb209d4aeb8c2e4c58c92bf214759998056"
        }
      ],
      "message": "Make validationinterface.UpdatedBlockTip more verbose\n\nIn anticipation of making all the callbacks out of block processing\nflow through it. Note that vHashes will always have something in it\nsince pindexFork != pindexNewTip.",
      "committer": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2016-10-04T16:35:07Z"
      },
      "author": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2016-09-30T21:40:03Z"
      },
      "sha": "87e7d7280739cccfabaffbbfbbbcfa21e943da3a"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzowMjc4ZmI1ZjQ4YWU5ZTQyZWMwNzcyZjg1ZTIwMTA1MTA3N2Y2MzNj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0278fb5f48ae9e42ec0772f85e201051077f633c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/0278fb5f48ae9e42ec0772f85e201051077f633c",
      "tree": {
        "sha": "7fb5a55e2c64d3ae5860ab9a326dbac7c81f4b3e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7fb5a55e2c64d3ae5860ab9a326dbac7c81f4b3e"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/87e7d7280739cccfabaffbbfbbbcfa21e943da3a",
          "sha": "87e7d7280739cccfabaffbbfbbbcfa21e943da3a",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/87e7d7280739cccfabaffbbfbbbcfa21e943da3a"
        }
      ],
      "message": "Remove duplicate nBlocksEstimate cmp (we already checked IsIBD())",
      "committer": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2016-10-04T16:35:07Z"
      },
      "author": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2016-09-30T22:19:57Z"
      },
      "sha": "0278fb5f48ae9e42ec0772f85e201051077f633c"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 812051617,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50ODEyMDUxNjE3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/812051617",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-10-04T16:46:49Z"
    },
    {
      "event": "commented",
      "id": 251445444,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI1MTQ0NTQ0NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/251445444",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-10-04T16:50:17Z",
      "updated_at": "2016-10-04T16:50:17Z",
      "author_association": "MEMBER",
      "body": "Backed out the shared_ptr change, I misunderstood @theuni's comments, just fixed the make_pair nit and left everything else as-is: it should be easier to clean up things like class design once everything is split out.\n",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8865#issuecomment-251445444",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8865"
    },
    {
      "event": "mentioned",
      "id": 812056493,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50ODEyMDU2NDkz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/812056493",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-10-04T16:50:17Z"
    },
    {
      "event": "subscribed",
      "id": 812056494,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDgxMjA1NjQ5NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/812056494",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-10-04T16:50:17Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzphZWZjYjdiNzBjOTIzY2NkMzQxMzI5YTJkNWUyMjIzOGRjMTRhYzNi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/aefcb7b70c923ccd341329a2d5e22238dc14ac3b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/aefcb7b70c923ccd341329a2d5e22238dc14ac3b",
      "tree": {
        "sha": "90ad4abb55d64cca7137841383d9158426c1b106",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/90ad4abb55d64cca7137841383d9158426c1b106"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0278fb5f48ae9e42ec0772f85e201051077f633c",
          "sha": "0278fb5f48ae9e42ec0772f85e201051077f633c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/0278fb5f48ae9e42ec0772f85e201051077f633c"
        }
      ],
      "message": "Move net-processing logic definitions together in main.h",
      "committer": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2016-10-04T17:36:11Z"
      },
      "author": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2016-10-04T17:36:11Z"
      },
      "sha": "aefcb7b70c923ccd341329a2d5e22238dc14ac3b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmZWYxMDEwMTk5YjcwMDI2ZmQ2ZDU2ZWJhYzVjMjc3NTUyNzU3MzA3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fef1010199b70026fd6d56ebac5c277552757307",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fef1010199b70026fd6d56ebac5c277552757307",
      "tree": {
        "sha": "9590c91b21f6b1a3a3c36d9463f197725d4d8e3d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9590c91b21f6b1a3a3c36d9463f197725d4d8e3d"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/aefcb7b70c923ccd341329a2d5e22238dc14ac3b",
          "sha": "aefcb7b70c923ccd341329a2d5e22238dc14ac3b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/aefcb7b70c923ccd341329a2d5e22238dc14ac3b"
        }
      ],
      "message": "Use CValidationInterface from chain logic to notify peer logic\n\nThis adds a new CValidationInterface subclass, defined in main.h,\nto receive notifications of UpdatedBlockTip and use that to push\nblocks to peers, instead of doing it directly from\nActivateBestChain.",
      "committer": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2016-10-04T17:49:44Z"
      },
      "author": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2016-10-04T17:49:44Z"
      },
      "sha": "fef1010199b70026fd6d56ebac5c277552757307"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmNWVmYTI4MzkzMWNlMWQ1MmM1OTIzNGI1ODk4OGEyMjFkNDJlY2I0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f5efa283931ce1d52c59234b58988a221d42ecb4",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f5efa283931ce1d52c59234b58988a221d42ecb4",
      "tree": {
        "sha": "ce892a16f3048f3a378c8a71092bf4f9be557356",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ce892a16f3048f3a378c8a71092bf4f9be557356"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fef1010199b70026fd6d56ebac5c277552757307",
          "sha": "fef1010199b70026fd6d56ebac5c277552757307",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fef1010199b70026fd6d56ebac5c277552757307"
        }
      ],
      "message": "Remove CConnman parameter from ProcessNewBlock/ActivateBestChain",
      "committer": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2016-10-04T17:51:32Z"
      },
      "author": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2016-09-30T22:38:05Z"
      },
      "sha": "f5efa283931ce1d52c59234b58988a221d42ecb4"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzoxMmVlMWZlMDE4ZTk5YmJhNmMyYjc0OTQwZWNlM2IzOWE0NWVkOGQz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/12ee1fe018e99bba6c2b74940ece3b39a45ed8d3",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/12ee1fe018e99bba6c2b74940ece3b39a45ed8d3",
      "tree": {
        "sha": "cf210f0f9b50cd210ef7b0490e184145e7300400",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/cf210f0f9b50cd210ef7b0490e184145e7300400"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f5efa283931ce1d52c59234b58988a221d42ecb4",
          "sha": "f5efa283931ce1d52c59234b58988a221d42ecb4",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f5efa283931ce1d52c59234b58988a221d42ecb4"
        }
      ],
      "message": "Always call UpdatedBlockTip, even if blocks were only disconnected",
      "committer": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2016-10-04T17:52:57Z"
      },
      "author": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2016-10-04T17:52:57Z"
      },
      "sha": "12ee1fe018e99bba6c2b74940ece3b39a45ed8d3"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3NTY1ZTAzYjk2MmNmYThkOGU1NGFhMGY5MDY4ZjQxMTk0OTE1NTIz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7565e03b962cfa8d8e54aa0f9068f41194915523",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/7565e03b962cfa8d8e54aa0f9068f41194915523",
      "tree": {
        "sha": "4535fa640781f26d3eaa4058b3c3e3e5512d8351",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4535fa640781f26d3eaa4058b3c3e3e5512d8351"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/12ee1fe018e99bba6c2b74940ece3b39a45ed8d3",
          "sha": "12ee1fe018e99bba6c2b74940ece3b39a45ed8d3",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/12ee1fe018e99bba6c2b74940ece3b39a45ed8d3"
        }
      ],
      "message": "Remove SyncWithWallets wrapper function",
      "committer": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2016-10-04T17:53:04Z"
      },
      "author": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2016-10-01T19:29:40Z"
      },
      "sha": "7565e03b962cfa8d8e54aa0f9068f41194915523"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzphOWFlYzVjMjRkOGM0ZWZlOWUxZWRlNTRlOGI4MDM5YjRiM2YwODM1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a9aec5c24d8c4efe9e1ede54e8b8039b4b3f0835",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a9aec5c24d8c4efe9e1ede54e8b8039b4b3f0835",
      "tree": {
        "sha": "1cae6e4078fa85f2702ef230a4cf08ac3a946fb7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1cae6e4078fa85f2702ef230a4cf08ac3a946fb7"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7565e03b962cfa8d8e54aa0f9068f41194915523",
          "sha": "7565e03b962cfa8d8e54aa0f9068f41194915523",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/7565e03b962cfa8d8e54aa0f9068f41194915523"
        }
      ],
      "message": "Use BlockChecked signal to send reject messages from mapBlockSource",
      "committer": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2016-10-04T17:54:29Z"
      },
      "author": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2016-10-04T17:54:29Z"
      },
      "sha": "a9aec5c24d8c4efe9e1ede54e8b8039b4b3f0835"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 812147817,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50ODEyMTQ3ODE3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/812147817",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-10-04T17:55:01Z"
    },
    {
      "event": "commented",
      "id": 251463559,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI1MTQ2MzU1OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/251463559",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-10-04T17:56:42Z",
      "updated_at": "2016-10-04T17:56:50Z",
      "author_association": "MEMBER",
      "body": "Restructured the code after discussion on IRC with @theuni...now the CValidationInterface subclass is defined in main.h (requires an extra include, but we can drop that when we move all the stuff to another file) and init.cpp itself does the object initialization and keeps the CValidationInterface around.\n",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8865#issuecomment-251463559",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8865"
    },
    {
      "event": "mentioned",
      "id": 812150319,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50ODEyMTUwMzE5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/812150319",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-10-04T17:56:42Z"
    },
    {
      "event": "subscribed",
      "id": 812150320,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDgxMjE1MDMyMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/812150320",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-10-04T17:56:42Z"
    },
    {
      "event": "commented",
      "id": 254634772,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI1NDYzNDc3Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/254634772",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-10-18T20:48:08Z",
      "updated_at": "2016-10-18T20:48:08Z",
      "author_association": "MEMBER",
      "body": "utACK a9aec5c\n",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8865#issuecomment-254634772",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8865"
    },
    {
      "event": "merged",
      "id": 828139070,
      "node_id": "MDExOk1lcmdlZEV2ZW50ODI4MTM5MDcw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/828139070",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "a9aec5c24d8c4efe9e1ede54e8b8039b4b3f0835",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a9aec5c24d8c4efe9e1ede54e8b8039b4b3f0835",
      "created_at": "2016-10-18T20:49:14Z"
    },
    {
      "event": "closed",
      "id": 828139074,
      "node_id": "MDExOkNsb3NlZEV2ZW50ODI4MTM5MDc0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/828139074",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-10-18T20:49:14Z"
    },
    {
      "event": "referenced",
      "id": 828139129,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDgyODEzOTEyOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/828139129",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "05998da5a7e2be6af0ecb53f4f645464646175ef",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/05998da5a7e2be6af0ecb53f4f645464646175ef",
      "created_at": "2016-10-18T20:49:16Z"
    },
    {
      "event": "reviewed",
      "id": 4759259,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc1OTI1OQ==",
      "url": null,
      "actor": null,
      "commit_id": "0278fb5f48ae9e42ec0772f85e201051077f633c",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8865#pullrequestreview-4759259",
      "submitted_at": "2016-10-18T20:58:19Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8865"
    },
    {
      "event": "reviewed",
      "id": 4764828,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc2NDgyOA==",
      "url": null,
      "actor": null,
      "commit_id": "7565e03b962cfa8d8e54aa0f9068f41194915523",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8865#pullrequestreview-4764828",
      "submitted_at": "2016-10-18T21:31:06Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8865"
    },
    {
      "event": "commented",
      "id": 254646818,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI1NDY0NjgxOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/254646818",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-10-18T21:37:09Z",
      "updated_at": "2016-10-18T21:37:09Z",
      "author_association": "MEMBER",
      "body": "post-merge utACK.\n",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8865#issuecomment-254646818",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8865"
    },
    {
      "event": "reviewed",
      "id": 4798353,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc5ODM1Mw==",
      "url": null,
      "actor": null,
      "commit_id": "a9aec5c24d8c4efe9e1ede54e8b8039b4b3f0835",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "rebroad",
        "id": 1530283,
        "node_id": "MDQ6VXNlcjE1MzAyODM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1530283?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rebroad",
        "html_url": "https://github.com/rebroad",
        "followers_url": "https://api.github.com/users/rebroad/followers",
        "following_url": "https://api.github.com/users/rebroad/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rebroad/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rebroad/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rebroad/subscriptions",
        "organizations_url": "https://api.github.com/users/rebroad/orgs",
        "repos_url": "https://api.github.com/users/rebroad/repos",
        "events_url": "https://api.github.com/users/rebroad/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rebroad/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8865#pullrequestreview-4798353",
      "submitted_at": "2016-10-19T03:23:17Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8865"
    },
    {
      "event": "commented",
      "id": 257177673,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI1NzE3NzY3Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/257177673",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-10-30T20:43:43Z",
      "updated_at": "2016-10-30T20:43:43Z",
      "author_association": "MEMBER",
      "body": "Posthummus utACK.\n",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8865#issuecomment-257177673",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8865"
    },
    {
      "event": "referenced",
      "id": 1736468169,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE3MzY0NjgxNjk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1736468169",
      "actor": {
        "login": "zkbot",
        "id": 17032253,
        "node_id": "MDQ6VXNlcjE3MDMyMjUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/17032253?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/zkbot",
        "html_url": "https://github.com/zkbot",
        "followers_url": "https://api.github.com/users/zkbot/followers",
        "following_url": "https://api.github.com/users/zkbot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/zkbot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/zkbot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/zkbot/subscriptions",
        "organizations_url": "https://api.github.com/users/zkbot/orgs",
        "repos_url": "https://api.github.com/users/zkbot/repos",
        "events_url": "https://api.github.com/users/zkbot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/zkbot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "ebd25d1744ceba5244c84432e8e9dc4f588a0395",
      "commit_url": "https://api.github.com/repos/zcash/zcash/commits/ebd25d1744ceba5244c84432e8e9dc4f588a0395",
      "created_at": "2018-07-16T23:25:26Z"
    },
    {
      "event": "referenced",
      "id": 1738185762,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE3MzgxODU3NjI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1738185762",
      "actor": {
        "login": "zkbot",
        "id": 17032253,
        "node_id": "MDQ6VXNlcjE3MDMyMjUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/17032253?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/zkbot",
        "html_url": "https://github.com/zkbot",
        "followers_url": "https://api.github.com/users/zkbot/followers",
        "following_url": "https://api.github.com/users/zkbot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/zkbot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/zkbot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/zkbot/subscriptions",
        "organizations_url": "https://api.github.com/users/zkbot/orgs",
        "repos_url": "https://api.github.com/users/zkbot/repos",
        "events_url": "https://api.github.com/users/zkbot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/zkbot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "6d605ffbbec04f00fd350de1a8c93d84199f5ce3",
      "commit_url": "https://api.github.com/repos/zcash/zcash/commits/6d605ffbbec04f00fd350de1a8c93d84199f5ce3",
      "created_at": "2018-07-17T16:40:46Z"
    },
    {
      "event": "referenced",
      "id": 1738630507,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE3Mzg2MzA1MDc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1738630507",
      "actor": {
        "login": "zkbot",
        "id": 17032253,
        "node_id": "MDQ6VXNlcjE3MDMyMjUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/17032253?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/zkbot",
        "html_url": "https://github.com/zkbot",
        "followers_url": "https://api.github.com/users/zkbot/followers",
        "following_url": "https://api.github.com/users/zkbot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/zkbot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/zkbot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/zkbot/subscriptions",
        "organizations_url": "https://api.github.com/users/zkbot/orgs",
        "repos_url": "https://api.github.com/users/zkbot/repos",
        "events_url": "https://api.github.com/users/zkbot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/zkbot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "3835cbb57f6dd82453591174db6fbc7961e86c96",
      "commit_url": "https://api.github.com/repos/zcash/zcash/commits/3835cbb57f6dd82453591174db6fbc7961e86c96",
      "created_at": "2018-07-17T20:17:30Z"
    },
    {
      "event": "referenced",
      "id": 3809876258,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDM4MDk4NzYyNTg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3809876258",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "585c9fed6d60a456c3cdfcfb4eb3e307fb7f2250",
      "commit_url": "https://api.github.com/repos/PIVX-Project/PIVX/commits/585c9fed6d60a456c3cdfcfb4eb3e307fb7f2250",
      "created_at": "2020-09-26T00:48:17Z"
    },
    {
      "event": "locked",
      "id": 5271651623,
      "node_id": "LOE_lADOABII584Kwr6qzwAAAAE6NwUn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5271651623",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-08T11:22:38Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/81602325",
      "pull_request_review_id": 2570286,
      "id": 81602325,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDgxNjAyMzI1",
      "diff_hunk": "@@ -4684,6 +4658,62 @@ std::string GetWarnings(const std::string& strFor)\n \n //////////////////////////////////////////////////////////////////////////////\n //\n+// blockchain -> download logic notification\n+//\n+\n+class PeerLogicValidation : public CValidationInterface {\n+private:\n+    CConnman* connman;\n+\n+public:\n+    PeerLogicValidation(CConnman* connmanIn) : connman(connmanIn) {}\n+\n+    virtual void UpdatedBlockTip(const CBlockIndex *pindexNew, const CBlockIndex *pindexFork, bool fInitialDownload) {\n+        const int nNewHeight = pindexNew->nHeight;\n+\n+        if (!fInitialDownload) {\n+            // Find the hashes of all blocks that weren't previously in the best chain.\n+            std::vector<uint256> vHashes;\n+            const CBlockIndex *pindexToAnnounce = pindexNew;\n+            while (pindexToAnnounce != pindexFork) {\n+                vHashes.push_back(pindexToAnnounce->GetBlockHash());\n+                pindexToAnnounce = pindexToAnnounce->pprev;\n+                if (vHashes.size() == MAX_BLOCKS_TO_ANNOUNCE) {\n+                    // Limit announcements in case of a huge reorganization.\n+                    // Rely on the peer's synchronization mechanism in that case.\n+                    break;\n+                }\n+            }\n+            // Relay inventory, but don't relay old inventory during initial block download.\n+            connman->ForEachNode([nNewHeight, &vHashes](CNode* pnode) {\n+                if (nNewHeight > (pnode->nStartingHeight != -1 ? pnode->nStartingHeight - 2000 : 0)) {\n+                    BOOST_REVERSE_FOREACH(const uint256& hash, vHashes) {\n+                        pnode->PushBlockHash(hash);\n+                    }\n+                }\n+            });\n+        }\n+    }\n+};\n+std::map<CConnman*, std::unique_ptr<PeerLogicValidation> > mapPeerLogics;\n+\n+void InitPeerLogic(CConnman& connman) {\n+    if (mapPeerLogics.count(&connman))\n+        return;\n+    mapPeerLogics.emplace(std::make_pair(&connman, std::unique_ptr<PeerLogicValidation>(new PeerLogicValidation(&connman))));",
      "path": "src/main.cpp",
      "position": null,
      "original_position": 93,
      "commit_id": "a9aec5c24d8c4efe9e1ede54e8b8039b4b3f0835",
      "original_commit_id": "e8c5e11b6114ada4554ffb8a787c55ea73426331",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: don't make_pair with emplace, just use the components directly.\n",
      "created_at": "2016-10-03T17:47:58Z",
      "updated_at": "2016-10-04T17:55:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8865#discussion_r81602325",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/81602325"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/81602663",
      "pull_request_review_id": 2570604,
      "id": 81602663,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDgxNjAyNjYz",
      "diff_hunk": "@@ -4684,6 +4658,62 @@ std::string GetWarnings(const std::string& strFor)\n \n //////////////////////////////////////////////////////////////////////////////\n //\n+// blockchain -> download logic notification\n+//\n+\n+class PeerLogicValidation : public CValidationInterface {\n+private:\n+    CConnman* connman;\n+\n+public:\n+    PeerLogicValidation(CConnman* connmanIn) : connman(connmanIn) {}\n+\n+    virtual void UpdatedBlockTip(const CBlockIndex *pindexNew, const CBlockIndex *pindexFork, bool fInitialDownload) {\n+        const int nNewHeight = pindexNew->nHeight;\n+\n+        if (!fInitialDownload) {\n+            // Find the hashes of all blocks that weren't previously in the best chain.\n+            std::vector<uint256> vHashes;\n+            const CBlockIndex *pindexToAnnounce = pindexNew;\n+            while (pindexToAnnounce != pindexFork) {\n+                vHashes.push_back(pindexToAnnounce->GetBlockHash());\n+                pindexToAnnounce = pindexToAnnounce->pprev;\n+                if (vHashes.size() == MAX_BLOCKS_TO_ANNOUNCE) {\n+                    // Limit announcements in case of a huge reorganization.\n+                    // Rely on the peer's synchronization mechanism in that case.\n+                    break;\n+                }\n+            }\n+            // Relay inventory, but don't relay old inventory during initial block download.\n+            connman->ForEachNode([nNewHeight, &vHashes](CNode* pnode) {\n+                if (nNewHeight > (pnode->nStartingHeight != -1 ? pnode->nStartingHeight - 2000 : 0)) {\n+                    BOOST_REVERSE_FOREACH(const uint256& hash, vHashes) {\n+                        pnode->PushBlockHash(hash);\n+                    }\n+                }\n+            });\n+        }\n+    }\n+};\n+std::map<CConnman*, std::unique_ptr<PeerLogicValidation> > mapPeerLogics;",
      "path": "src/main.cpp",
      "position": null,
      "original_position": 88,
      "commit_id": "a9aec5c24d8c4efe9e1ede54e8b8039b4b3f0835",
      "original_commit_id": "e8c5e11b6114ada4554ffb8a787c55ea73426331",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Using a ptr for the index feels kinda icky. Since a reference is passed and stored anyway, let's add an Id to CConnman instead. It'll be helpful in other places too.\n",
      "created_at": "2016-10-03T17:49:36Z",
      "updated_at": "2016-10-04T17:55:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8865#discussion_r81602663",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/81602663"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/81641546",
      "pull_request_review_id": 2607017,
      "id": 81641546,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDgxNjQxNTQ2",
      "diff_hunk": "@@ -4684,6 +4658,62 @@ std::string GetWarnings(const std::string& strFor)\n \n //////////////////////////////////////////////////////////////////////////////\n //\n+// blockchain -> download logic notification\n+//\n+\n+class PeerLogicValidation : public CValidationInterface {\n+private:\n+    CConnman* connman;\n+\n+public:\n+    PeerLogicValidation(CConnman* connmanIn) : connman(connmanIn) {}\n+\n+    virtual void UpdatedBlockTip(const CBlockIndex *pindexNew, const CBlockIndex *pindexFork, bool fInitialDownload) {\n+        const int nNewHeight = pindexNew->nHeight;\n+\n+        if (!fInitialDownload) {\n+            // Find the hashes of all blocks that weren't previously in the best chain.\n+            std::vector<uint256> vHashes;\n+            const CBlockIndex *pindexToAnnounce = pindexNew;\n+            while (pindexToAnnounce != pindexFork) {\n+                vHashes.push_back(pindexToAnnounce->GetBlockHash());\n+                pindexToAnnounce = pindexToAnnounce->pprev;\n+                if (vHashes.size() == MAX_BLOCKS_TO_ANNOUNCE) {\n+                    // Limit announcements in case of a huge reorganization.\n+                    // Rely on the peer's synchronization mechanism in that case.\n+                    break;\n+                }\n+            }\n+            // Relay inventory, but don't relay old inventory during initial block download.\n+            connman->ForEachNode([nNewHeight, &vHashes](CNode* pnode) {\n+                if (nNewHeight > (pnode->nStartingHeight != -1 ? pnode->nStartingHeight - 2000 : 0)) {\n+                    BOOST_REVERSE_FOREACH(const uint256& hash, vHashes) {\n+                        pnode->PushBlockHash(hash);\n+                    }\n+                }\n+            });\n+        }\n+    }\n+};\n+std::map<CConnman*, std::unique_ptr<PeerLogicValidation> > mapPeerLogics;",
      "path": "src/main.cpp",
      "position": null,
      "original_position": 88,
      "commit_id": "a9aec5c24d8c4efe9e1ede54e8b8039b4b3f0835",
      "original_commit_id": "e8c5e11b6114ada4554ffb8a787c55ea73426331",
      "in_reply_to_id": 81602663,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Hmm, I feel like that is a layer violation? If CConnman is a low-level network socket/connection manager, it should have little knowledge of the fact that there is something hooked up above it to listen to validation callbacks and do things with them?\n",
      "created_at": "2016-10-03T21:14:25Z",
      "updated_at": "2016-10-04T17:55:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8865#discussion_r81641546",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/81641546"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/81652021",
      "pull_request_review_id": 2616977,
      "id": 81652021,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDgxNjUyMDIx",
      "diff_hunk": "@@ -4684,6 +4658,62 @@ std::string GetWarnings(const std::string& strFor)\n \n //////////////////////////////////////////////////////////////////////////////\n //\n+// blockchain -> download logic notification\n+//\n+\n+class PeerLogicValidation : public CValidationInterface {\n+private:\n+    CConnman* connman;\n+\n+public:\n+    PeerLogicValidation(CConnman* connmanIn) : connman(connmanIn) {}\n+\n+    virtual void UpdatedBlockTip(const CBlockIndex *pindexNew, const CBlockIndex *pindexFork, bool fInitialDownload) {\n+        const int nNewHeight = pindexNew->nHeight;\n+\n+        if (!fInitialDownload) {\n+            // Find the hashes of all blocks that weren't previously in the best chain.\n+            std::vector<uint256> vHashes;\n+            const CBlockIndex *pindexToAnnounce = pindexNew;\n+            while (pindexToAnnounce != pindexFork) {\n+                vHashes.push_back(pindexToAnnounce->GetBlockHash());\n+                pindexToAnnounce = pindexToAnnounce->pprev;\n+                if (vHashes.size() == MAX_BLOCKS_TO_ANNOUNCE) {\n+                    // Limit announcements in case of a huge reorganization.\n+                    // Rely on the peer's synchronization mechanism in that case.\n+                    break;\n+                }\n+            }\n+            // Relay inventory, but don't relay old inventory during initial block download.\n+            connman->ForEachNode([nNewHeight, &vHashes](CNode* pnode) {\n+                if (nNewHeight > (pnode->nStartingHeight != -1 ? pnode->nStartingHeight - 2000 : 0)) {\n+                    BOOST_REVERSE_FOREACH(const uint256& hash, vHashes) {\n+                        pnode->PushBlockHash(hash);\n+                    }\n+                }\n+            });\n+        }\n+    }\n+};\n+std::map<CConnman*, std::unique_ptr<PeerLogicValidation> > mapPeerLogics;",
      "path": "src/main.cpp",
      "position": null,
      "original_position": 88,
      "commit_id": "a9aec5c24d8c4efe9e1ede54e8b8039b4b3f0835",
      "original_commit_id": "e8c5e11b6114ada4554ffb8a787c55ea73426331",
      "in_reply_to_id": 81602663,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Sorry, I meant: add a GetID() to CConnman, which would return a const value set during construction. That would allow maps to be created which refer to specific connman instances without tying them to a pointer.\n",
      "created_at": "2016-10-03T22:17:42Z",
      "updated_at": "2016-10-04T17:55:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8865#discussion_r81652021",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/81652021"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/81652347",
      "pull_request_review_id": 2617286,
      "id": 81652347,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDgxNjUyMzQ3",
      "diff_hunk": "@@ -4684,6 +4658,62 @@ std::string GetWarnings(const std::string& strFor)\n \n //////////////////////////////////////////////////////////////////////////////\n //\n+// blockchain -> download logic notification\n+//\n+\n+class PeerLogicValidation : public CValidationInterface {\n+private:\n+    CConnman* connman;\n+\n+public:\n+    PeerLogicValidation(CConnman* connmanIn) : connman(connmanIn) {}\n+\n+    virtual void UpdatedBlockTip(const CBlockIndex *pindexNew, const CBlockIndex *pindexFork, bool fInitialDownload) {\n+        const int nNewHeight = pindexNew->nHeight;\n+\n+        if (!fInitialDownload) {\n+            // Find the hashes of all blocks that weren't previously in the best chain.\n+            std::vector<uint256> vHashes;\n+            const CBlockIndex *pindexToAnnounce = pindexNew;\n+            while (pindexToAnnounce != pindexFork) {\n+                vHashes.push_back(pindexToAnnounce->GetBlockHash());\n+                pindexToAnnounce = pindexToAnnounce->pprev;\n+                if (vHashes.size() == MAX_BLOCKS_TO_ANNOUNCE) {\n+                    // Limit announcements in case of a huge reorganization.\n+                    // Rely on the peer's synchronization mechanism in that case.\n+                    break;\n+                }\n+            }\n+            // Relay inventory, but don't relay old inventory during initial block download.\n+            connman->ForEachNode([nNewHeight, &vHashes](CNode* pnode) {\n+                if (nNewHeight > (pnode->nStartingHeight != -1 ? pnode->nStartingHeight - 2000 : 0)) {\n+                    BOOST_REVERSE_FOREACH(const uint256& hash, vHashes) {\n+                        pnode->PushBlockHash(hash);\n+                    }\n+                }\n+            });\n+        }\n+    }\n+};\n+std::map<CConnman*, std::unique_ptr<PeerLogicValidation> > mapPeerLogics;",
      "path": "src/main.cpp",
      "position": null,
      "original_position": 88,
      "commit_id": "a9aec5c24d8c4efe9e1ede54e8b8039b4b3f0835",
      "original_commit_id": "e8c5e11b6114ada4554ffb8a787c55ea73426331",
      "in_reply_to_id": 81602663,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think we're overengineering? Are we ever really gonna have more than one CConnman? Maybe something without even a map is simpler?\n",
      "created_at": "2016-10-03T22:20:05Z",
      "updated_at": "2016-10-04T17:55:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8865#discussion_r81652347",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/81652347"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/81662860",
      "pull_request_review_id": 2626693,
      "id": 81662860,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDgxNjYyODYw",
      "diff_hunk": "@@ -4684,6 +4658,62 @@ std::string GetWarnings(const std::string& strFor)\n \n //////////////////////////////////////////////////////////////////////////////\n //\n+// blockchain -> download logic notification\n+//\n+\n+class PeerLogicValidation : public CValidationInterface {\n+private:\n+    CConnman* connman;\n+\n+public:\n+    PeerLogicValidation(CConnman* connmanIn) : connman(connmanIn) {}\n+\n+    virtual void UpdatedBlockTip(const CBlockIndex *pindexNew, const CBlockIndex *pindexFork, bool fInitialDownload) {\n+        const int nNewHeight = pindexNew->nHeight;\n+\n+        if (!fInitialDownload) {\n+            // Find the hashes of all blocks that weren't previously in the best chain.\n+            std::vector<uint256> vHashes;\n+            const CBlockIndex *pindexToAnnounce = pindexNew;\n+            while (pindexToAnnounce != pindexFork) {\n+                vHashes.push_back(pindexToAnnounce->GetBlockHash());\n+                pindexToAnnounce = pindexToAnnounce->pprev;\n+                if (vHashes.size() == MAX_BLOCKS_TO_ANNOUNCE) {\n+                    // Limit announcements in case of a huge reorganization.\n+                    // Rely on the peer's synchronization mechanism in that case.\n+                    break;\n+                }\n+            }\n+            // Relay inventory, but don't relay old inventory during initial block download.\n+            connman->ForEachNode([nNewHeight, &vHashes](CNode* pnode) {\n+                if (nNewHeight > (pnode->nStartingHeight != -1 ? pnode->nStartingHeight - 2000 : 0)) {\n+                    BOOST_REVERSE_FOREACH(const uint256& hash, vHashes) {\n+                        pnode->PushBlockHash(hash);\n+                    }\n+                }\n+            });\n+        }\n+    }\n+};\n+std::map<CConnman*, std::unique_ptr<PeerLogicValidation> > mapPeerLogics;",
      "path": "src/main.cpp",
      "position": null,
      "original_position": 88,
      "commit_id": "a9aec5c24d8c4efe9e1ede54e8b8039b4b3f0835",
      "original_commit_id": "e8c5e11b6114ada4554ffb8a787c55ea73426331",
      "in_reply_to_id": 81602663,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'm hoping to be able to hook up 2 CConnmans to eachother in the future for testing against eachother, yes. I've gone to significant efforts to remove the \"stuff a static global somewhere\" practice from much of the net code, please don't start reintroducing.\n\nA pointer is fine here if you'd prefer to keep it simple, we can adapt later if needed.\n",
      "created_at": "2016-10-03T23:37:08Z",
      "updated_at": "2016-10-04T17:55:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8865#discussion_r81662860",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/81662860"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/81668063",
      "pull_request_review_id": 2631559,
      "id": 81668063,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDgxNjY4MDYz",
      "diff_hunk": "@@ -4693,6 +4681,26 @@ class PeerLogicValidation : public CValidationInterface {\n             });\n         }\n     }\n+\n+    virtual void BlockChecked(const CBlock& block, const CValidationState& state) {\n+        LOCK(cs_main);\n+\n+        const uint256 hash(block.GetHash());\n+        std::map<uint256, NodeId>::iterator it = mapBlockSource.find(hash);\n+\n+        int nDoS = 0;\n+        if (state.IsInvalid(nDoS)) {\n+            if (it != mapBlockSource.end() && State(it->second)) {\n+                assert (state.GetRejectCode() < REJECT_INTERNAL); // Blocks are never rejected with internal reject codes\n+                CBlockReject reject = {(unsigned char)state.GetRejectCode(), state.GetRejectReason().substr(0, MAX_REJECT_MESSAGE_LENGTH), hash};\n+                State(it->second)->rejects.push_back(reject);\n+                if (nDoS > 0)\n+                    Misbehaving(it->second, nDoS);\n+            }\n+        }\n+        if (it != mapBlockSource.end())\n+            mapBlockSource.erase(it);",
      "path": "src/main.cpp",
      "position": null,
      "original_position": 48,
      "commit_id": "a9aec5c24d8c4efe9e1ede54e8b8039b4b3f0835",
      "original_commit_id": "780528adc65ccbcf2de9b267e8c05e04b6ee064e",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Hmm, were these not erased before in the invalid case?\n",
      "created_at": "2016-10-04T00:26:45Z",
      "updated_at": "2016-10-04T17:55:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8865#discussion_r81668063",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/81668063"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/83949369",
      "pull_request_review_id": 4759259,
      "id": 83949369,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDgzOTQ5MzY5",
      "diff_hunk": "@@ -3087,12 +3087,9 @@ bool ActivateBestChain(CValidationState &state, const CChainParams& chainparams,\n                     }\n                 }\n                 // Relay inventory, but don't relay old inventory during initial block download.\n-                int nBlockEstimate = 0;\n-                if (fCheckpointsEnabled)\n-                    nBlockEstimate = Checkpoints::GetTotalBlocksEstimate(chainparams.Checkpoints());\n                 if(connman) {\n-                    connman->ForEachNode([nNewHeight, nBlockEstimate, &vHashes](CNode* pnode) {\n-                        if (nNewHeight > (pnode->nStartingHeight != -1 ? pnode->nStartingHeight - 2000 : nBlockEstimate)) {\n+                    connman->ForEachNode([nNewHeight, &vHashes](CNode* pnode) {\n+                        if (nNewHeight > (pnode->nStartingHeight != -1 ? pnode->nStartingHeight - 2000 : 0)) {",
      "path": "src/main.cpp",
      "position": null,
      "original_position": 11,
      "commit_id": "a9aec5c24d8c4efe9e1ede54e8b8039b4b3f0835",
      "original_commit_id": "0278fb5f48ae9e42ec0772f85e201051077f633c",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "If pnode->nStartingHeight is -1, we just haven't completed the version handshake, no? Shouldn't we always refuse to relay in that case?\n\nOr am I not seeing some other way this can happen?\n",
      "created_at": "2016-10-18T20:58:19Z",
      "updated_at": "2016-10-18T20:58:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8865#discussion_r83949369",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/83949369"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/83952681",
      "pull_request_review_id": 4762346,
      "id": 83952681,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDgzOTUyNjgx",
      "diff_hunk": "@@ -3087,12 +3087,9 @@ bool ActivateBestChain(CValidationState &state, const CChainParams& chainparams,\n                     }\n                 }\n                 // Relay inventory, but don't relay old inventory during initial block download.\n-                int nBlockEstimate = 0;\n-                if (fCheckpointsEnabled)\n-                    nBlockEstimate = Checkpoints::GetTotalBlocksEstimate(chainparams.Checkpoints());\n                 if(connman) {\n-                    connman->ForEachNode([nNewHeight, nBlockEstimate, &vHashes](CNode* pnode) {\n-                        if (nNewHeight > (pnode->nStartingHeight != -1 ? pnode->nStartingHeight - 2000 : nBlockEstimate)) {\n+                    connman->ForEachNode([nNewHeight, &vHashes](CNode* pnode) {\n+                        if (nNewHeight > (pnode->nStartingHeight != -1 ? pnode->nStartingHeight - 2000 : 0)) {",
      "path": "src/main.cpp",
      "position": null,
      "original_position": 11,
      "commit_id": "a9aec5c24d8c4efe9e1ede54e8b8039b4b3f0835",
      "original_commit_id": "0278fb5f48ae9e42ec0772f85e201051077f633c",
      "in_reply_to_id": 83949369,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Indeed, probably, though that would be a behavior change whereas this PR shouldnt have any :p.\n",
      "created_at": "2016-10-18T21:15:53Z",
      "updated_at": "2016-10-18T21:15:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8865#discussion_r83952681",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/83952681"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/83955324",
      "pull_request_review_id": 4764828,
      "id": 83955324,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDgzOTU1MzI0",
      "diff_hunk": "@@ -50,6 +48,8 @@ class CValidationInterface {\n struct CMainSignals {\n     /** Notifies listeners of updated block chain tip */\n     boost::signals2::signal<void (const CBlockIndex *, const CBlockIndex *, bool fInitialDownload)> UpdatedBlockTip;\n+    /** A posInBlock value for SyncTransaction which indicates the transaction was conflicted, disconnected, or not in a block */\n+    static const int SYNC_TRANSACTION_NOT_IN_BLOCK = -1;",
      "path": "src/validationinterface.h",
      "position": null,
      "original_position": 14,
      "commit_id": "a9aec5c24d8c4efe9e1ede54e8b8039b4b3f0835",
      "original_commit_id": "7565e03b962cfa8d8e54aa0f9068f41194915523",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This is fine for now, but I think we ultimately want these split up.\n",
      "created_at": "2016-10-18T21:31:06Z",
      "updated_at": "2016-10-18T21:31:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8865#discussion_r83955324",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/83955324"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 52,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/83956003",
      "pull_request_review_id": 4765486,
      "id": 83956003,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDgzOTU2MDAz",
      "diff_hunk": "@@ -50,6 +48,8 @@ class CValidationInterface {\n struct CMainSignals {\n     /** Notifies listeners of updated block chain tip */\n     boost::signals2::signal<void (const CBlockIndex *, const CBlockIndex *, bool fInitialDownload)> UpdatedBlockTip;\n+    /** A posInBlock value for SyncTransaction which indicates the transaction was conflicted, disconnected, or not in a block */\n+    static const int SYNC_TRANSACTION_NOT_IN_BLOCK = -1;",
      "path": "src/validationinterface.h",
      "position": null,
      "original_position": 14,
      "commit_id": "a9aec5c24d8c4efe9e1ede54e8b8039b4b3f0835",
      "original_commit_id": "7565e03b962cfa8d8e54aa0f9068f41194915523",
      "in_reply_to_id": 83955324,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yea, I think medium-term we need to think hard about what goes in what signaling interface (we have two already that are highly duplicative, I have some thoughts but we should discuss)\n",
      "created_at": "2016-10-18T21:35:23Z",
      "updated_at": "2016-10-18T21:35:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8865#discussion_r83956003",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/83956003"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 52,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/83991876",
      "pull_request_review_id": 4798353,
      "id": 83991876,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDgzOTkxODc2",
      "diff_hunk": "@@ -4689,6 +4644,59 @@ std::string GetWarnings(const std::string& strFor)\n \n //////////////////////////////////////////////////////////////////////////////\n //\n+// blockchain -> download logic notification\n+//\n+\n+void PeerLogicValidation::UpdatedBlockTip(const CBlockIndex *pindexNew, const CBlockIndex *pindexFork, bool fInitialDownload) {\n+    const int nNewHeight = pindexNew->nHeight;\n+    connman->SetBestHeight(nNewHeight);\n+\n+    if (!fInitialDownload) {\n+        // Find the hashes of all blocks that weren't previously in the best chain.\n+        std::vector<uint256> vHashes;\n+        const CBlockIndex *pindexToAnnounce = pindexNew;\n+        while (pindexToAnnounce != pindexFork) {\n+            vHashes.push_back(pindexToAnnounce->GetBlockHash());\n+            pindexToAnnounce = pindexToAnnounce->pprev;\n+            if (vHashes.size() == MAX_BLOCKS_TO_ANNOUNCE) {\n+                // Limit announcements in case of a huge reorganization.\n+                // Rely on the peer's synchronization mechanism in that case.\n+                break;\n+            }\n+        }\n+        // Relay inventory, but don't relay old inventory during initial block download.\n+        connman->ForEachNode([nNewHeight, &vHashes](CNode* pnode) {\n+            if (nNewHeight > (pnode->nStartingHeight != -1 ? pnode->nStartingHeight - 2000 : 0)) {",
      "path": "src/main.cpp",
      "position": 170,
      "original_position": 170,
      "commit_id": "a9aec5c24d8c4efe9e1ede54e8b8039b4b3f0835",
      "original_commit_id": "a9aec5c24d8c4efe9e1ede54e8b8039b4b3f0835",
      "in_reply_to_id": null,
      "user": {
        "login": "rebroad",
        "id": 1530283,
        "node_id": "MDQ6VXNlcjE1MzAyODM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1530283?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rebroad",
        "html_url": "https://github.com/rebroad",
        "followers_url": "https://api.github.com/users/rebroad/followers",
        "following_url": "https://api.github.com/users/rebroad/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rebroad/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rebroad/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rebroad/subscriptions",
        "organizations_url": "https://api.github.com/users/rebroad/orgs",
        "repos_url": "https://api.github.com/users/rebroad/repos",
        "events_url": "https://api.github.com/users/rebroad/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rebroad/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The logic of this line is confusing now... If pnode->nStartingHeight = -1 then don't do (if nNewHeight > -1) but instead do (if nNewHeight > 0)?! It hardly makes any difference, it will return true, therefore simply do if (nNewHeight > pnode->nStartingHeight - 2000) without any need for the ? operator.\n\nAnyway, why make it always true and not make use of the nBlocksEstimate as was previously done?\n",
      "created_at": "2016-10-19T03:23:17Z",
      "updated_at": "2016-10-19T03:25:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8865#discussion_r83991876",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/83991876"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 4669,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/83992220",
      "pull_request_review_id": 4798686,
      "id": 83992220,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDgzOTkyMjIw",
      "diff_hunk": "@@ -4689,6 +4644,59 @@ std::string GetWarnings(const std::string& strFor)\n \n //////////////////////////////////////////////////////////////////////////////\n //\n+// blockchain -> download logic notification\n+//\n+\n+void PeerLogicValidation::UpdatedBlockTip(const CBlockIndex *pindexNew, const CBlockIndex *pindexFork, bool fInitialDownload) {\n+    const int nNewHeight = pindexNew->nHeight;\n+    connman->SetBestHeight(nNewHeight);\n+\n+    if (!fInitialDownload) {\n+        // Find the hashes of all blocks that weren't previously in the best chain.\n+        std::vector<uint256> vHashes;\n+        const CBlockIndex *pindexToAnnounce = pindexNew;\n+        while (pindexToAnnounce != pindexFork) {\n+            vHashes.push_back(pindexToAnnounce->GetBlockHash());\n+            pindexToAnnounce = pindexToAnnounce->pprev;\n+            if (vHashes.size() == MAX_BLOCKS_TO_ANNOUNCE) {\n+                // Limit announcements in case of a huge reorganization.\n+                // Rely on the peer's synchronization mechanism in that case.\n+                break;\n+            }\n+        }\n+        // Relay inventory, but don't relay old inventory during initial block download.\n+        connman->ForEachNode([nNewHeight, &vHashes](CNode* pnode) {\n+            if (nNewHeight > (pnode->nStartingHeight != -1 ? pnode->nStartingHeight - 2000 : 0)) {",
      "path": "src/main.cpp",
      "position": 170,
      "original_position": 170,
      "commit_id": "a9aec5c24d8c4efe9e1ede54e8b8039b4b3f0835",
      "original_commit_id": "a9aec5c24d8c4efe9e1ede54e8b8039b4b3f0835",
      "in_reply_to_id": 83991876,
      "user": {
        "login": "rebroad",
        "id": 1530283,
        "node_id": "MDQ6VXNlcjE1MzAyODM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1530283?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rebroad",
        "html_url": "https://github.com/rebroad",
        "followers_url": "https://api.github.com/users/rebroad/followers",
        "following_url": "https://api.github.com/users/rebroad/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rebroad/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rebroad/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rebroad/subscriptions",
        "organizations_url": "https://api.github.com/users/rebroad/orgs",
        "repos_url": "https://api.github.com/users/rebroad/repos",
        "events_url": "https://api.github.com/users/rebroad/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rebroad/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed in #8958 \n",
      "created_at": "2016-10-19T03:28:56Z",
      "updated_at": "2016-10-19T03:28:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8865#discussion_r83992220",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/83992220"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 4669,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85668647",
      "pull_request_review_id": 6371151,
      "id": 85668647,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg1NjY4NjQ3",
      "diff_hunk": "@@ -4689,6 +4644,59 @@ std::string GetWarnings(const std::string& strFor)\n \n //////////////////////////////////////////////////////////////////////////////\n //\n+// blockchain -> download logic notification\n+//\n+\n+void PeerLogicValidation::UpdatedBlockTip(const CBlockIndex *pindexNew, const CBlockIndex *pindexFork, bool fInitialDownload) {\n+    const int nNewHeight = pindexNew->nHeight;\n+    connman->SetBestHeight(nNewHeight);\n+\n+    if (!fInitialDownload) {\n+        // Find the hashes of all blocks that weren't previously in the best chain.\n+        std::vector<uint256> vHashes;\n+        const CBlockIndex *pindexToAnnounce = pindexNew;\n+        while (pindexToAnnounce != pindexFork) {\n+            vHashes.push_back(pindexToAnnounce->GetBlockHash());\n+            pindexToAnnounce = pindexToAnnounce->pprev;\n+            if (vHashes.size() == MAX_BLOCKS_TO_ANNOUNCE) {\n+                // Limit announcements in case of a huge reorganization.\n+                // Rely on the peer's synchronization mechanism in that case.\n+                break;\n+            }\n+        }\n+        // Relay inventory, but don't relay old inventory during initial block download.\n+        connman->ForEachNode([nNewHeight, &vHashes](CNode* pnode) {\n+            if (nNewHeight > (pnode->nStartingHeight != -1 ? pnode->nStartingHeight - 2000 : 0)) {",
      "path": "src/main.cpp",
      "position": 170,
      "original_position": 170,
      "commit_id": "a9aec5c24d8c4efe9e1ede54e8b8039b4b3f0835",
      "original_commit_id": "a9aec5c24d8c4efe9e1ede54e8b8039b4b3f0835",
      "in_reply_to_id": 83991876,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "See the earlier commit: \"Remove duplicate nBlocksEstimate cmp (we already checked IsIBD())\".\n",
      "created_at": "2016-10-30T20:36:17Z",
      "updated_at": "2016-10-30T20:36:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/8865#discussion_r85668647",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85668647"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 4669,
      "original_line": null,
      "side": "RIGHT"
    }
  ]
}