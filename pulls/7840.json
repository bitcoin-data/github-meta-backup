{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7840",
    "id": 65787299,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NjU3ODcyOTk=",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7840",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/7840.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/7840.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7840",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7840/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7840/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7840/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/b5599147533103efea896a1fc4ff51f2d3ad5808",
    "number": 7840,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "Several performance and privacy improvements to inv/mempool handling",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "As we're increasingly changing how block invs and tx invs are treated, bite the bullet and separate them into two separate queues. This makes sense, as they are subject to very different behaviour: we want blocks to relay as fast as possible, while transactions are subject to rate limiting, deduplication, and source obscurity.\n\nOnce this is done, we can turn the tx queue into a set, and use it to prevent the mempool command from leaking unannounced transactions. The handling of such commands is also moved to the send loop, sorted by dependency order, and made subject to trickling.\n\nBased on top of  #7805.\n",
    "labels": [
      {
        "id": 98298007,
        "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
        "name": "P2P",
        "color": "006b75",
        "default": false
      },
      {
        "id": 249581124,
        "node_id": "MDU6TGFiZWwyNDk1ODExMjQ=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Privacy",
        "name": "Privacy",
        "color": "5319e7",
        "default": false
      }
    ],
    "active_lock_reason": "resolved",
    "created_at": "2016-04-08T13:39:12Z",
    "updated_at": "2021-09-08T11:20:18Z",
    "closed_at": "2016-05-05T11:14:52Z",
    "mergeable_state": "unknown",
    "merged_at": "2016-05-05T11:14:52Z",
    "merge_commit_sha": "b5599147533103efea896a1fc4ff51f2d3ad5808",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "sipa:splitinvtxblock",
      "ref": "splitinvtxblock",
      "sha": "b5599147533103efea896a1fc4ff51f2d3ad5808",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 1458655,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNDU4NjU1",
        "name": "bitcoin",
        "full_name": "sipa/bitcoin",
        "owner": {
          "login": "sipa",
          "id": 548488,
          "node_id": "MDQ6VXNlcjU0ODQ4OA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/sipa",
          "html_url": "https://github.com/sipa",
          "followers_url": "https://api.github.com/users/sipa/followers",
          "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
          "organizations_url": "https://api.github.com/users/sipa/orgs",
          "repos_url": "https://api.github.com/users/sipa/repos",
          "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/sipa/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/sipa/bitcoin",
        "description": "Bitcoin integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/sipa/bitcoin",
        "archive_url": "https://api.github.com/repos/sipa/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/sipa/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/sipa/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/sipa/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/sipa/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/sipa/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/sipa/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/sipa/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/sipa/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/sipa/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/sipa/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/sipa/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/sipa/bitcoin/events",
        "forks_url": "https://api.github.com/repos/sipa/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/sipa/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/sipa/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/sipa/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/sipa/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/sipa/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/sipa/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/sipa/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/sipa/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/sipa/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/sipa/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/sipa/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/sipa/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/sipa/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/sipa/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/sipa/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:sipa/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/sipa/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/sipa/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/sipa/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/sipa/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/sipa/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/sipa/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/sipa/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/sipa/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/sipa/bitcoin/hooks",
        "svn_url": "https://github.com/sipa/bitcoin",
        "homepage": "http://www.bitcoin.org",
        "language": "TypeScript",
        "forks_count": 20,
        "stargazers_count": 81,
        "watchers_count": 81,
        "size": 215860,
        "default_branch": "lows",
        "open_issues_count": 16,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-06T11:52:48Z",
        "created_at": "2011-03-09T10:46:59Z",
        "updated_at": "2023-04-30T00:52:17Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "04a29373571d44be36bd099c3b3ec3cda89e99d1",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34324,
        "stargazers_count": 69818,
        "watchers_count": 69818,
        "size": 233879,
        "default_branch": "master",
        "open_issues_count": 627,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-06T19:05:23Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-06-06T22:16:48Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7840"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 189,
    "deletions": 86,
    "changed_files": 6,
    "commits": 5,
    "review_comments": 16,
    "comments": 20
  },
  "events": [
    {
      "event": "head_ref_force_pushed",
      "id": 620140185,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NjIwMTQwMTg1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/620140185",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-08T13:40:17Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 620158040,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NjIwMTU4MDQw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/620158040",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-08T13:53:10Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 620163850,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NjIwMTYzODUw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/620163850",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-08T13:57:44Z"
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzkzNTY2MzM6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "commented",
      "id": 207540552,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzU0MDU1Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/207540552",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-08T18:06:38Z",
      "updated_at": "2016-04-08T18:08:32Z",
      "author_association": "CONTRIBUTOR",
      "body": "This is a very good idea-- much better than my earlier ones around avoiding mempool requests breaking privacy.\n\nYour commit message should explain that by eliminating queued entries from the mempool response and responding only at trickle time, this makes the mempool no longer leak transaction arrival order information (as the mempool itself is also sorted)-- at least no more than relay itself leaks it.\n",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7840#issuecomment-207540552",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7840"
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzkzNTY2MzU6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "commented",
      "id": 207662361,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzY2MjM2MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/207662361",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-09T00:32:30Z",
      "updated_at": "2016-04-09T00:32:30Z",
      "author_association": "CONTRIBUTOR",
      "body": "I have a test-harness now thats sutiable for testing this, a little 13 node network. Seems to work, it caught that the conversion to use the STL heap broke the behavior: the stl heap is a max heap.\n",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7840#issuecomment-207662361",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7840"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 620866024,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NjIwODY2MDI0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/620866024",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-09T00:36:25Z"
    },
    {
      "event": "commented",
      "id": 207691938,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzY5MTkzOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/207691938",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-09T03:15:34Z",
      "updated_at": "2016-04-09T03:18:24Z",
      "author_association": "CONTRIBUTOR",
      "body": "@Thanks for fixing, looking good so far.\n\nWe still get a _tiny_ number of orphans in a network the consists of nothing but this code. Here is one reason why node A sends you Tx1. You getdata Tx1  Node B sends you Tx1 and Tx2 and Tx1 is a child of Tx1.  You getdata Tx2 from  node2.  Node2 responds faster. Tx2 is now an orphan.\n",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7840#issuecomment-207691938",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7840"
    },
    {
      "event": "mentioned",
      "id": 620919682,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NjIwOTE5Njgy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/620919682",
      "actor": {
        "login": "thanks",
        "id": 1121545,
        "node_id": "MDQ6VXNlcjExMjE1NDU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1121545?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/thanks",
        "html_url": "https://github.com/thanks",
        "followers_url": "https://api.github.com/users/thanks/followers",
        "following_url": "https://api.github.com/users/thanks/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/thanks/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/thanks/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/thanks/subscriptions",
        "organizations_url": "https://api.github.com/users/thanks/orgs",
        "repos_url": "https://api.github.com/users/thanks/repos",
        "events_url": "https://api.github.com/users/thanks/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/thanks/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-09T03:18:24Z"
    },
    {
      "event": "subscribed",
      "id": 620919683,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDYyMDkxOTY4Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/620919683",
      "actor": {
        "login": "thanks",
        "id": 1121545,
        "node_id": "MDQ6VXNlcjExMjE1NDU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1121545?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/thanks",
        "html_url": "https://github.com/thanks",
        "followers_url": "https://api.github.com/users/thanks/followers",
        "following_url": "https://api.github.com/users/thanks/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/thanks/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/thanks/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/thanks/subscriptions",
        "organizations_url": "https://api.github.com/users/thanks/orgs",
        "repos_url": "https://api.github.com/users/thanks/repos",
        "events_url": "https://api.github.com/users/thanks/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/thanks/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-09T03:18:24Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 621500346,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NjIxNTAwMzQ2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/621500346",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-10T13:39:50Z"
    },
    {
      "event": "renamed",
      "id": 621500496,
      "node_id": "MDE3OlJlbmFtZWRUaXRsZUV2ZW50NjIxNTAwNDk2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/621500496",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-10T13:40:12Z",
      "rename": {
        "from": "Split and optimize inv queues and improve mempool privacy",
        "to": "Several performance and privacy improvements to inv/mempool handling"
      }
    },
    {
      "event": "commented",
      "id": 207987070,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzk4NzA3MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/207987070",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-10T13:41:07Z",
      "updated_at": "2016-04-10T13:41:07Z",
      "author_association": "MEMBER",
      "body": "I added a commit to sort the response of mempool requests in dependency order, and renamed the PR to something more general.\n",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7840#issuecomment-207987070",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7840"
    },
    {
      "event": "commented",
      "id": 208186907,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIwODE4NjkwNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/208186907",
      "actor": {
        "login": "dcousens",
        "id": 413395,
        "node_id": "MDQ6VXNlcjQxMzM5NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/413395?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dcousens",
        "html_url": "https://github.com/dcousens",
        "followers_url": "https://api.github.com/users/dcousens/followers",
        "following_url": "https://api.github.com/users/dcousens/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dcousens/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dcousens/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dcousens/subscriptions",
        "organizations_url": "https://api.github.com/users/dcousens/orgs",
        "repos_url": "https://api.github.com/users/dcousens/repos",
        "events_url": "https://api.github.com/users/dcousens/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dcousens/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-11T06:48:55Z",
      "updated_at": "2016-04-11T06:48:55Z",
      "author_association": "CONTRIBUTOR",
      "body": "concept ACK\n",
      "user": {
        "login": "dcousens",
        "id": 413395,
        "node_id": "MDQ6VXNlcjQxMzM5NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/413395?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dcousens",
        "html_url": "https://github.com/dcousens",
        "followers_url": "https://api.github.com/users/dcousens/followers",
        "following_url": "https://api.github.com/users/dcousens/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dcousens/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dcousens/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dcousens/subscriptions",
        "organizations_url": "https://api.github.com/users/dcousens/orgs",
        "repos_url": "https://api.github.com/users/dcousens/repos",
        "events_url": "https://api.github.com/users/dcousens/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dcousens/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7840#issuecomment-208186907",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7840"
    },
    {
      "event": "labeled",
      "id": 622349802,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDYyMjM0OTgwMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/622349802",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-11T12:11:03Z",
      "label": {
        "name": "P2P",
        "color": "006b75"
      }
    },
    {
      "event": "labeled",
      "id": 622349803,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDYyMjM0OTgwMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/622349803",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-11T12:11:03Z",
      "label": {
        "name": "Privacy",
        "color": "5319e7"
      }
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzkzNTY2Mzg6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzkzNTY2NDI6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "commented",
      "id": 208519133,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIwODUxOTEzMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/208519133",
      "actor": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-11T19:34:24Z",
      "updated_at": "2016-04-11T19:34:24Z",
      "author_association": "MEMBER",
      "body": "Concept ACK, will test.\n",
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7840#issuecomment-208519133",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7840"
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzkzNTY2NDY6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "commented",
      "id": 208939536,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIwODkzOTUzNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/208939536",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-12T14:40:26Z",
      "updated_at": "2016-04-12T14:40:26Z",
      "author_association": "MEMBER",
      "body": "Added two commits to address the comments.\n\nMempool requests are now not filtered by vInventoryTxToSend, but instead every mempool inv sent as a response is removed from vInventoryTxToSend.\n",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7840#issuecomment-208939536",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7840"
    },
    {
      "event": "commented",
      "id": 209110680,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIwOTExMDY4MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/209110680",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-12T21:30:24Z",
      "updated_at": "2016-04-12T21:30:24Z",
      "author_association": "CONTRIBUTOR",
      "body": "In a test topology over 48 hours this reduced the addition of orphan transactions from 436/hr to 2.3/hr.\n",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7840#issuecomment-209110680",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7840"
    },
    {
      "event": "commented",
      "id": 209114666,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIwOTExNDY2Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/209114666",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-12T21:40:32Z",
      "updated_at": "2016-04-12T21:40:32Z",
      "author_association": "CONTRIBUTOR",
      "body": "Also, utack latest improvements.\n",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7840#issuecomment-209114666",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7840"
    },
    {
      "event": "commented",
      "id": 209199421,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIwOTE5OTQyMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/209199421",
      "actor": {
        "login": "dcousens",
        "id": 413395,
        "node_id": "MDQ6VXNlcjQxMzM5NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/413395?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dcousens",
        "html_url": "https://github.com/dcousens",
        "followers_url": "https://api.github.com/users/dcousens/followers",
        "following_url": "https://api.github.com/users/dcousens/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dcousens/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dcousens/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dcousens/subscriptions",
        "organizations_url": "https://api.github.com/users/dcousens/orgs",
        "repos_url": "https://api.github.com/users/dcousens/repos",
        "events_url": "https://api.github.com/users/dcousens/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dcousens/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-13T02:32:31Z",
      "updated_at": "2016-04-13T02:32:37Z",
      "author_association": "CONTRIBUTOR",
      "body": "concept ACK, utACK 98305df\n",
      "user": {
        "login": "dcousens",
        "id": 413395,
        "node_id": "MDQ6VXNlcjQxMzM5NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/413395?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dcousens",
        "html_url": "https://github.com/dcousens",
        "followers_url": "https://api.github.com/users/dcousens/followers",
        "following_url": "https://api.github.com/users/dcousens/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dcousens/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dcousens/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dcousens/subscriptions",
        "organizations_url": "https://api.github.com/users/dcousens/orgs",
        "repos_url": "https://api.github.com/users/dcousens/repos",
        "events_url": "https://api.github.com/users/dcousens/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dcousens/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7840#issuecomment-209199421",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7840"
    },
    {
      "event": "commented",
      "id": 211763254,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIxMTc2MzI1NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/211763254",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-19T07:05:33Z",
      "updated_at": "2016-04-19T07:05:33Z",
      "author_association": "CONTRIBUTOR",
      "body": "@sipa: any squashing interest?\n",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7840#issuecomment-211763254",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7840"
    },
    {
      "event": "mentioned",
      "id": 632452000,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NjMyNDUyMDAw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/632452000",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-19T07:05:33Z"
    },
    {
      "event": "subscribed",
      "id": 632452001,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDYzMjQ1MjAwMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/632452001",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-19T07:05:33Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 633329829,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NjMzMzI5ODI5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/633329829",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-19T17:52:32Z"
    },
    {
      "event": "commented",
      "id": 212040399,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIxMjA0MDM5OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/212040399",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-19T17:54:11Z",
      "updated_at": "2016-04-19T17:54:11Z",
      "author_association": "MEMBER",
      "body": "Rebased and squashed.\n",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7840#issuecomment-212040399",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7840"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 633351075,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NjMzMzUxMDc1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/633351075",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-19T18:04:19Z"
    },
    {
      "event": "commented",
      "id": 212049033,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIxMjA0OTAzMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/212049033",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-19T18:07:55Z",
      "updated_at": "2016-04-19T18:07:55Z",
      "author_association": "MEMBER",
      "body": "Also renamed the vInventoryTxToSend to setInventoryTxToSend, and restructured the tx send loop a bit to be less deeply nested.\n",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7840#issuecomment-212049033",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7840"
    },
    {
      "event": "commented",
      "id": 212257204,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIxMjI1NzIwNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/212257204",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-20T04:58:34Z",
      "updated_at": "2016-04-20T04:58:34Z",
      "author_association": "CONTRIBUTOR",
      "body": "Travis CI timeout, doesn't look like a real failure.\n",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7840#issuecomment-212257204",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7840"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmMmQzYmE3Mzg2MGU4NzU5NzI3MzhkMWRhMTUwNzEyNGQwOTcxYWU1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f2d3ba73860e875972738d1da1507124d0971ae5",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f2d3ba73860e875972738d1da1507124d0971ae5",
      "tree": {
        "sha": "88c35395409424a45ec72d663fa97bf519a9892c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/88c35395409424a45ec72d663fa97bf519a9892c"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/04a29373571d44be36bd099c3b3ec3cda89e99d1",
          "sha": "04a29373571d44be36bd099c3b3ec3cda89e99d1",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/04a29373571d44be36bd099c3b3ec3cda89e99d1"
        }
      ],
      "message": "Eliminate TX trickle bypass, sort TX invs for privacy and priority.\n\nPreviously Bitcoin would send 1/4 of transactions out to all peers\n instantly.  This causes high overhead because it makes >80% of\n INVs size 1.  Doing so harms privacy, because it limits the\n amount of source obscurity a transaction can receive.\n\nThese randomized broadcasts also disobeyed transaction dependencies\n and required use of the orphan pool.  Because the orphan pool is\n so small this leads to poor propagation for dependent transactions.\n\nWhen the bypass wasn't in effect, transactions were sent in the\n order they were received.  This avoided creating orphans but\n undermines privacy fairly significantly.\n\nThis commit:\n Eliminates the bypass. The bypass is replaced by halving the\n  average delay for outbound peers.\n\n Sorts candidate transactions for INV by their topological\n  depth then by their feerate (then hash); removing the\n  information leakage and providing priority service to\n  higher fee transactions.\n\n Limits the amount of transactions sent in a single INV to\n  7tx/sec (and twice that for outbound); this limits the\n  harm of low fee transaction floods, gives faster relay\n  service to higher fee transactions. The 7 sounds lower\n  than it really is because received advertisements need\n  not be sent, and because the aggregate rate is multipled\n  by the number of peers.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2016-04-20T08:26:37Z"
      },
      "author": {
        "name": "Gregory Maxwell",
        "email": "greg@xiph.org",
        "date": "2016-04-04T02:36:47Z"
      },
      "sha": "f2d3ba73860e875972738d1da1507124d0971ae5"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 634177588,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NjM0MTc3NTg4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/634177588",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-20T08:32:09Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 634183276,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NjM0MTgzMjc2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/634183276",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-20T08:36:27Z"
    },
    {
      "event": "commented",
      "id": 212568919,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIxMjU2ODkxOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/212568919",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-20T19:26:28Z",
      "updated_at": "2016-04-20T19:26:28Z",
      "author_association": "MEMBER",
      "body": "Added one more commit by @gmaxwell to move all inv filtering to the send stage (which avoids announcing things that are no longer in our mempool and bloom filter updates for those).\n\nI'm sorry for the increasingly expansing scope this PR has had, so I'm not going to touch functionality any further unless bugs in it are found.\n",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7840#issuecomment-212568919",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7840"
    },
    {
      "event": "mentioned",
      "id": 635055299,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NjM1MDU1Mjk5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/635055299",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-20T19:26:28Z"
    },
    {
      "event": "subscribed",
      "id": 635055300,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDYzNTA1NTMwMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/635055300",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-20T19:26:28Z"
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzkzNTY2NDk6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzkzNTY2NTI6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "head_ref_force_pushed",
      "id": 635281464,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NjM1MjgxNDY0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/635281464",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-20T22:30:15Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkYzEzZGNkMmJlYzI2MTNhMWNkNWUwMzk1YjA5YjQ0OWQxNzYxNDZm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dc13dcd2bec2613a1cd5e0395b09b449d176146f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/dc13dcd2bec2613a1cd5e0395b09b449d176146f",
      "tree": {
        "sha": "12b9b2127a823207a201357a5caae98ae167a8d4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/12b9b2127a823207a201357a5caae98ae167a8d4"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f2d3ba73860e875972738d1da1507124d0971ae5",
          "sha": "f2d3ba73860e875972738d1da1507124d0971ae5",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f2d3ba73860e875972738d1da1507124d0971ae5"
        }
      ],
      "message": "Split up and optimize transaction and block inv queues",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2016-04-20T22:33:51Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2016-04-07T11:57:36Z"
      },
      "sha": "dc13dcd2bec2613a1cd5e0395b09b449d176146f"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzplZDcwNjgzMDJjNzQ5MGU4MDYxY2IzYTU1OGEwZjgzYTQ2NWJlZWVh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ed7068302c7490e8061cb3a558a0f83a465beeea",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ed7068302c7490e8061cb3a558a0f83a465beeea",
      "tree": {
        "sha": "99d5a18d6912a7cdefd9874f65508f0a0c95f497",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/99d5a18d6912a7cdefd9874f65508f0a0c95f497"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dc13dcd2bec2613a1cd5e0395b09b449d176146f",
          "sha": "dc13dcd2bec2613a1cd5e0395b09b449d176146f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/dc13dcd2bec2613a1cd5e0395b09b449d176146f"
        }
      ],
      "message": "Handle mempool requests in send loop, subject to trickle\n\nBy eliminating queued entries from the mempool response and responding only at\ntrickle time, this makes the mempool no longer leak transaction arrival order\ninformation (as the mempool itself is also sorted)-- at least no more than\nrelay itself leaks it.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2016-04-20T22:33:56Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2016-04-08T14:26:41Z"
      },
      "sha": "ed7068302c7490e8061cb3a558a0f83a465beeea"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0NTc4MjE1ZTdmNzg3OTY4YzFkNjQ3OGU2ZGY3NTQ5OWJkMzZkZDhk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4578215e7f787968c1d6478e6df75499bd36dd8d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/4578215e7f787968c1d6478e6df75499bd36dd8d",
      "tree": {
        "sha": "402c14568a452dda1b7dc3a2c88cc47326ba88f9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/402c14568a452dda1b7dc3a2c88cc47326ba88f9"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ed7068302c7490e8061cb3a558a0f83a465beeea",
          "sha": "ed7068302c7490e8061cb3a558a0f83a465beeea",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ed7068302c7490e8061cb3a558a0f83a465beeea"
        }
      ],
      "message": "Return mempool queries in dependency order",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2016-04-20T22:33:56Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2016-04-10T13:33:05Z"
      },
      "sha": "4578215e7f787968c1d6478e6df75499bd36dd8d"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiNTU5OTE0NzUzMzEwM2VmZWE4OTZhMWZjNGZmNTFmMmQzYWQ1ODA4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b5599147533103efea896a1fc4ff51f2d3ad5808",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b5599147533103efea896a1fc4ff51f2d3ad5808",
      "tree": {
        "sha": "96273816a881746f3d0390d7e50e6466eb6f28c0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/96273816a881746f3d0390d7e50e6466eb6f28c0"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4578215e7f787968c1d6478e6df75499bd36dd8d",
          "sha": "4578215e7f787968c1d6478e6df75499bd36dd8d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/4578215e7f787968c1d6478e6df75499bd36dd8d"
        }
      ],
      "message": "Move bloom and feerate filtering to just prior to tx sending.\n\nThis will avoid sending more pointless INVs around updates, and\n prevents using filter updates to timetag transactions.\n\nAlso adds locking for fRelayTxes.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2016-04-20T22:33:56Z"
      },
      "author": {
        "name": "Gregory Maxwell",
        "email": "greg@xiph.org",
        "date": "2016-04-20T07:05:23Z"
      },
      "sha": "b5599147533103efea896a1fc4ff51f2d3ad5808"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 635286107,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NjM1Mjg2MTA3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/635286107",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-20T22:36:08Z"
    },
    {
      "event": "commented",
      "id": 212730679,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIxMjczMDY3OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/212730679",
      "actor": {
        "login": "dcousens",
        "id": 413395,
        "node_id": "MDQ6VXNlcjQxMzM5NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/413395?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dcousens",
        "html_url": "https://github.com/dcousens",
        "followers_url": "https://api.github.com/users/dcousens/followers",
        "following_url": "https://api.github.com/users/dcousens/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dcousens/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dcousens/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dcousens/subscriptions",
        "organizations_url": "https://api.github.com/users/dcousens/orgs",
        "repos_url": "https://api.github.com/users/dcousens/repos",
        "events_url": "https://api.github.com/users/dcousens/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dcousens/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-21T04:08:42Z",
      "updated_at": "2016-04-22T00:05:31Z",
      "author_association": "CONTRIBUTOR",
      "body": "@sipa could you update your original PR description with the full scope of this PR now? (for others)\n",
      "user": {
        "login": "dcousens",
        "id": 413395,
        "node_id": "MDQ6VXNlcjQxMzM5NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/413395?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dcousens",
        "html_url": "https://github.com/dcousens",
        "followers_url": "https://api.github.com/users/dcousens/followers",
        "following_url": "https://api.github.com/users/dcousens/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dcousens/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dcousens/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dcousens/subscriptions",
        "organizations_url": "https://api.github.com/users/dcousens/orgs",
        "repos_url": "https://api.github.com/users/dcousens/repos",
        "events_url": "https://api.github.com/users/dcousens/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dcousens/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7840#issuecomment-212730679",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7840"
    },
    {
      "event": "mentioned",
      "id": 635580238,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NjM1NTgwMjM4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/635580238",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-21T04:08:42Z"
    },
    {
      "event": "subscribed",
      "id": 635580239,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDYzNTU4MDIzOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/635580239",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-21T04:08:42Z"
    },
    {
      "event": "commented",
      "id": 213071501,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIxMzA3MTUwMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/213071501",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-21T19:04:59Z",
      "updated_at": "2016-04-21T19:04:59Z",
      "author_association": "CONTRIBUTOR",
      "body": "ACK.\n",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7840#issuecomment-213071501",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7840"
    },
    {
      "event": "commented",
      "id": 213315597,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIxMzMxNTU5Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/213315597",
      "actor": {
        "login": "jonasnick",
        "id": 2582071,
        "node_id": "MDQ6VXNlcjI1ODIwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2582071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasnick",
        "html_url": "https://github.com/jonasnick",
        "followers_url": "https://api.github.com/users/jonasnick/followers",
        "following_url": "https://api.github.com/users/jonasnick/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasnick/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasnick/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasnick/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasnick/orgs",
        "repos_url": "https://api.github.com/users/jonasnick/repos",
        "events_url": "https://api.github.com/users/jonasnick/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasnick/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-22T08:08:58Z",
      "updated_at": "2016-04-22T08:08:58Z",
      "author_association": "CONTRIBUTOR",
      "body": "Ack\n",
      "user": {
        "login": "jonasnick",
        "id": 2582071,
        "node_id": "MDQ6VXNlcjI1ODIwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2582071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasnick",
        "html_url": "https://github.com/jonasnick",
        "followers_url": "https://api.github.com/users/jonasnick/followers",
        "following_url": "https://api.github.com/users/jonasnick/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasnick/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasnick/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasnick/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasnick/orgs",
        "repos_url": "https://api.github.com/users/jonasnick/repos",
        "events_url": "https://api.github.com/users/jonasnick/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasnick/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7840#issuecomment-213315597",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7840"
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzkzNTY2NTc6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "commented",
      "id": 213576906,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIxMzU3NjkwNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/213576906",
      "actor": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-22T20:24:49Z",
      "updated_at": "2016-04-22T20:24:49Z",
      "author_association": "MEMBER",
      "body": "ACK, apart from my question about whether we should combine the two comparators that are being introduced.\n\nCouple notes:\n- `RelayTransaction` no longer requires a feerate, and `AcceptToMemoryPool` no longer needs to fill a feerate in.  We can clean this up in a future PR.\n- I noticed while testing that `CTxMemPool::queryHashes` is what we use in the RPC call `getrawmempool`.  It's hard for me to imagine anyone would care (and in fact the new sort order on the results seems handy!), but perhaps we should flag the change in the release notes?\n",
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7840#issuecomment-213576906",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7840"
    },
    {
      "event": "commented",
      "id": 214624056,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIxNDYyNDA1Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/214624056",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-26T06:00:09Z",
      "updated_at": "2016-04-26T06:00:09Z",
      "author_association": "CONTRIBUTOR",
      "body": "I've had this running in its various forms for two weeks on a couple of public nodes, as well as a seperate test topology that consisted of nothing but nodes running this code. What do we need to move this forward?  I'm concerned that if I move to testing other PRs this will be forgotten.\n",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7840#issuecomment-214624056",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7840"
    },
    {
      "event": "merged",
      "id": 651319120,
      "node_id": "MDExOk1lcmdlZEV2ZW50NjUxMzE5MTIw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/651319120",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "b5599147533103efea896a1fc4ff51f2d3ad5808",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b5599147533103efea896a1fc4ff51f2d3ad5808",
      "created_at": "2016-05-05T11:14:52Z"
    },
    {
      "event": "closed",
      "id": 651319122,
      "node_id": "MDExOkNsb3NlZEV2ZW50NjUxMzE5MTIy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/651319122",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-05-05T11:14:52Z"
    },
    {
      "event": "referenced",
      "id": 651319205,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDY1MTMxOTIwNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/651319205",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "3b9a0bf41f2336b09e854522ab1ce6dcfc7a3050",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3b9a0bf41f2336b09e854522ab1ce6dcfc7a3050",
      "created_at": "2016-05-05T11:14:56Z"
    },
    {
      "event": "referenced",
      "id": 1252235196,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDEyNTIyMzUxOTY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1252235196",
      "actor": {
        "login": "codablock",
        "id": 1884269,
        "node_id": "MDQ6VXNlcjE4ODQyNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1884269?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/codablock",
        "html_url": "https://github.com/codablock",
        "followers_url": "https://api.github.com/users/codablock/followers",
        "following_url": "https://api.github.com/users/codablock/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/codablock/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/codablock/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/codablock/subscriptions",
        "organizations_url": "https://api.github.com/users/codablock/orgs",
        "repos_url": "https://api.github.com/users/codablock/repos",
        "events_url": "https://api.github.com/users/codablock/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/codablock/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "994eb30518d19af24635740e71efad6f7588f35e",
      "commit_url": "https://api.github.com/repos/codablock/dash/commits/994eb30518d19af24635740e71efad6f7588f35e",
      "created_at": "2017-09-16T17:57:34Z"
    },
    {
      "event": "referenced",
      "id": 1255585204,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDEyNTU1ODUyMDQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1255585204",
      "actor": {
        "login": "codablock",
        "id": 1884269,
        "node_id": "MDQ6VXNlcjE4ODQyNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1884269?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/codablock",
        "html_url": "https://github.com/codablock",
        "followers_url": "https://api.github.com/users/codablock/followers",
        "following_url": "https://api.github.com/users/codablock/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/codablock/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/codablock/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/codablock/subscriptions",
        "organizations_url": "https://api.github.com/users/codablock/orgs",
        "repos_url": "https://api.github.com/users/codablock/repos",
        "events_url": "https://api.github.com/users/codablock/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/codablock/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "d8a279004c30cfba375d84725b830d7f855e3f16",
      "commit_url": "https://api.github.com/repos/codablock/dash/commits/d8a279004c30cfba375d84725b830d7f855e3f16",
      "created_at": "2017-09-19T14:38:11Z"
    },
    {
      "event": "referenced",
      "id": 1398573680,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDEzOTg1NzM2ODA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1398573680",
      "actor": {
        "login": "codablock",
        "id": 1884269,
        "node_id": "MDQ6VXNlcjE4ODQyNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1884269?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/codablock",
        "html_url": "https://github.com/codablock",
        "followers_url": "https://api.github.com/users/codablock/followers",
        "following_url": "https://api.github.com/users/codablock/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/codablock/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/codablock/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/codablock/subscriptions",
        "organizations_url": "https://api.github.com/users/codablock/orgs",
        "repos_url": "https://api.github.com/users/codablock/repos",
        "events_url": "https://api.github.com/users/codablock/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/codablock/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "5d8e94a26f4eaf9a28cbcc6b196431ffa8503189",
      "commit_url": "https://api.github.com/repos/codablock/dash/commits/5d8e94a26f4eaf9a28cbcc6b196431ffa8503189",
      "created_at": "2017-12-21T19:38:02Z"
    },
    {
      "event": "referenced",
      "id": 1398573681,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDEzOTg1NzM2ODE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1398573681",
      "actor": {
        "login": "codablock",
        "id": 1884269,
        "node_id": "MDQ6VXNlcjE4ODQyNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1884269?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/codablock",
        "html_url": "https://github.com/codablock",
        "followers_url": "https://api.github.com/users/codablock/followers",
        "following_url": "https://api.github.com/users/codablock/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/codablock/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/codablock/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/codablock/subscriptions",
        "organizations_url": "https://api.github.com/users/codablock/orgs",
        "repos_url": "https://api.github.com/users/codablock/repos",
        "events_url": "https://api.github.com/users/codablock/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/codablock/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "d4b8abf4ff5e29b7cfba522e6e10eccb250bb958",
      "commit_url": "https://api.github.com/repos/codablock/dash/commits/d4b8abf4ff5e29b7cfba522e6e10eccb250bb958",
      "created_at": "2017-12-21T19:38:02Z"
    },
    {
      "event": "referenced",
      "id": 2305023267,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDIzMDUwMjMyNjc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2305023267",
      "actor": {
        "login": "MarkLTZ",
        "id": 43173987,
        "node_id": "MDQ6VXNlcjQzMTczOTg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/43173987?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarkLTZ",
        "html_url": "https://github.com/MarkLTZ",
        "followers_url": "https://api.github.com/users/MarkLTZ/followers",
        "following_url": "https://api.github.com/users/MarkLTZ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarkLTZ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarkLTZ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarkLTZ/subscriptions",
        "organizations_url": "https://api.github.com/users/MarkLTZ/orgs",
        "repos_url": "https://api.github.com/users/MarkLTZ/repos",
        "events_url": "https://api.github.com/users/MarkLTZ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarkLTZ/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "a1e585bd602d290c4ca0c9ea24091ea2788f0a7c",
      "commit_url": "https://api.github.com/repos/litecoinz-project/litecoinz/commits/a1e585bd602d290c4ca0c9ea24091ea2788f0a7c",
      "created_at": "2019-04-28T02:55:37Z"
    },
    {
      "event": "referenced",
      "id": 4241322607,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQyNDEzMjI2MDc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4241322607",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "1f010c096974e33ab7914b9365fbe7217a993914",
      "commit_url": "https://api.github.com/repos/PIVX-Project/PIVX/commits/1f010c096974e33ab7914b9365fbe7217a993914",
      "created_at": "2021-01-23T10:04:50Z"
    },
    {
      "event": "referenced",
      "id": 4543807829,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ1NDM4MDc4Mjk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4543807829",
      "actor": {
        "login": "zkbot",
        "id": 17032253,
        "node_id": "MDQ6VXNlcjE3MDMyMjUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/17032253?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/zkbot",
        "html_url": "https://github.com/zkbot",
        "followers_url": "https://api.github.com/users/zkbot/followers",
        "following_url": "https://api.github.com/users/zkbot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/zkbot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/zkbot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/zkbot/subscriptions",
        "organizations_url": "https://api.github.com/users/zkbot/orgs",
        "repos_url": "https://api.github.com/users/zkbot/repos",
        "events_url": "https://api.github.com/users/zkbot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/zkbot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "1b5f17c900ccb344f3952cf5f10a7cd7a7c48bbb",
      "commit_url": "https://api.github.com/repos/zcash/zcash/commits/1b5f17c900ccb344f3952cf5f10a7cd7a7c48bbb",
      "created_at": "2021-04-01T23:57:44Z"
    },
    {
      "event": "referenced",
      "id": 4543945656,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ1NDM5NDU2NTY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4543945656",
      "actor": {
        "login": "zkbot",
        "id": 17032253,
        "node_id": "MDQ6VXNlcjE3MDMyMjUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/17032253?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/zkbot",
        "html_url": "https://github.com/zkbot",
        "followers_url": "https://api.github.com/users/zkbot/followers",
        "following_url": "https://api.github.com/users/zkbot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/zkbot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/zkbot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/zkbot/subscriptions",
        "organizations_url": "https://api.github.com/users/zkbot/orgs",
        "repos_url": "https://api.github.com/users/zkbot/repos",
        "events_url": "https://api.github.com/users/zkbot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/zkbot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "80e66e7daae2ebccd78b9c0d44d2ea1b4222233e",
      "commit_url": "https://api.github.com/repos/zcash/zcash/commits/80e66e7daae2ebccd78b9c0d44d2ea1b4222233e",
      "created_at": "2021-04-02T01:03:30Z"
    },
    {
      "event": "referenced",
      "id": 5133208873,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDUxMzMyMDg4NzM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5133208873",
      "actor": {
        "login": "zkbot",
        "id": 17032253,
        "node_id": "MDQ6VXNlcjE3MDMyMjUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/17032253?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/zkbot",
        "html_url": "https://github.com/zkbot",
        "followers_url": "https://api.github.com/users/zkbot/followers",
        "following_url": "https://api.github.com/users/zkbot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/zkbot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/zkbot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/zkbot/subscriptions",
        "organizations_url": "https://api.github.com/users/zkbot/orgs",
        "repos_url": "https://api.github.com/users/zkbot/repos",
        "events_url": "https://api.github.com/users/zkbot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/zkbot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "12af999d42713b14b8a10fe35471739f69a37975",
      "commit_url": "https://api.github.com/repos/zcash/zcash/commits/12af999d42713b14b8a10fe35471739f69a37975",
      "created_at": "2021-08-10T04:26:04Z"
    },
    {
      "event": "referenced",
      "id": 5145613434,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDUxNDU2MTM0MzQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5145613434",
      "actor": {
        "login": "zkbot",
        "id": 17032253,
        "node_id": "MDQ6VXNlcjE3MDMyMjUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/17032253?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/zkbot",
        "html_url": "https://github.com/zkbot",
        "followers_url": "https://api.github.com/users/zkbot/followers",
        "following_url": "https://api.github.com/users/zkbot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/zkbot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/zkbot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/zkbot/subscriptions",
        "organizations_url": "https://api.github.com/users/zkbot/orgs",
        "repos_url": "https://api.github.com/users/zkbot/repos",
        "events_url": "https://api.github.com/users/zkbot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/zkbot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "44f7d7e4ea2417a94bea8b72cc8b64980765a284",
      "commit_url": "https://api.github.com/repos/zcash/zcash/commits/44f7d7e4ea2417a94bea8b72cc8b64980765a284",
      "created_at": "2021-08-11T23:38:54Z"
    },
    {
      "event": "referenced",
      "id": 5152801575,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDUxNTI4MDE1NzU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5152801575",
      "actor": {
        "login": "zkbot",
        "id": 17032253,
        "node_id": "MDQ6VXNlcjE3MDMyMjUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/17032253?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/zkbot",
        "html_url": "https://github.com/zkbot",
        "followers_url": "https://api.github.com/users/zkbot/followers",
        "following_url": "https://api.github.com/users/zkbot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/zkbot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/zkbot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/zkbot/subscriptions",
        "organizations_url": "https://api.github.com/users/zkbot/orgs",
        "repos_url": "https://api.github.com/users/zkbot/repos",
        "events_url": "https://api.github.com/users/zkbot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/zkbot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "7fa7d5700bff3a2a4e6ff3eac9700ec64cc38e7a",
      "commit_url": "https://api.github.com/repos/zcash/zcash/commits/7fa7d5700bff3a2a4e6ff3eac9700ec64cc38e7a",
      "created_at": "2021-08-12T23:44:46Z"
    },
    {
      "event": "referenced",
      "id": 5153081143,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDUxNTMwODExNDM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5153081143",
      "actor": {
        "login": "zkbot",
        "id": 17032253,
        "node_id": "MDQ6VXNlcjE3MDMyMjUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/17032253?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/zkbot",
        "html_url": "https://github.com/zkbot",
        "followers_url": "https://api.github.com/users/zkbot/followers",
        "following_url": "https://api.github.com/users/zkbot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/zkbot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/zkbot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/zkbot/subscriptions",
        "organizations_url": "https://api.github.com/users/zkbot/orgs",
        "repos_url": "https://api.github.com/users/zkbot/repos",
        "events_url": "https://api.github.com/users/zkbot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/zkbot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "fd462fd8c4be83f6b8ba67c03b578aa4ec7609eb",
      "commit_url": "https://api.github.com/repos/zcash/zcash/commits/fd462fd8c4be83f6b8ba67c03b578aa4ec7609eb",
      "created_at": "2021-08-13T01:13:21Z"
    },
    {
      "event": "locked",
      "id": 5271639995,
      "node_id": "LOE_lADOABII584Iwf_GzwAAAAE6Nte7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5271639995",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-08T11:20:18Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/59065397",
      "pull_request_review_id": null,
      "id": 59065397,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MDY1Mzk3",
      "diff_hunk": "@@ -5808,13 +5786,40 @@ bool SendMessages(CNode* pto)\n             }\n             pto->vInventoryBlockToSend.clear();\n \n-            // Determine transactions to relay\n-            bool fSendTrickle = pto->fWhitelisted;\n-            if (pto->nNextInvSend < nNow) {\n-                fSendTrickle = true;\n-                // Use half the delay for outbound peers, as there is less privacy concern for them.\n-                pto->nNextInvSend = PoissonNextSend(nNow, INVENTORY_BROADCAST_INTERVAL >> !pto->fInbound);\n+            // Respond to BIP35 mempool requests\n+            if (fSendTrickle && pto->fSendMempool) {\n+                std::vector<uint256> vtxid;\n+                mempool.queryHashes(vtxid);\n+                pto->fSendMempool = false;\n+\n+                LOCK(pto->cs_filter);\n+\n+                BOOST_FOREACH(const uint256& hash, vtxid) {\n+                    CInv inv(MSG_TX, hash);\n+                    if (pto->pfilter) {\n+                        CTransaction tx;\n+                        bool fInMemPool = mempool.lookup(hash, tx);\n+                        if (!fInMemPool) continue; // another thread removed since queryHashes, maybe...\n+                        if (!pto->pfilter->IsRelevantAndUpdate(tx)) continue;\n+                    }\n+                    if (pto->minFeeFilter) {\n+                        CFeeRate feeRate;\n+                        mempool.lookupFeeRate(hash, feeRate);\n+                        LOCK(pto->cs_feeFilter);",
      "path": "src/main.cpp",
      "position": null,
      "original_position": 86,
      "commit_id": "b5599147533103efea896a1fc4ff51f2d3ad5808",
      "original_commit_id": "906e5c7fdb5bb894ec08bdd9bf683f9689cf8bdc",
      "in_reply_to_id": null,
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Perhaps the fee filter access should be hoisted out of this inner loop on transactions, and a local copy of the filter-limit made.\n",
      "created_at": "2016-04-08T18:01:59Z",
      "updated_at": "2016-04-20T22:36:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7840#discussion_r59065397",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/59065397"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7840"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/59074603",
      "pull_request_review_id": null,
      "id": 59074603,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MDc0NjAz",
      "diff_hunk": "@@ -5808,13 +5786,40 @@ bool SendMessages(CNode* pto)\n             }\n             pto->vInventoryBlockToSend.clear();\n \n-            // Determine transactions to relay\n-            bool fSendTrickle = pto->fWhitelisted;\n-            if (pto->nNextInvSend < nNow) {\n-                fSendTrickle = true;\n-                // Use half the delay for outbound peers, as there is less privacy concern for them.\n-                pto->nNextInvSend = PoissonNextSend(nNow, INVENTORY_BROADCAST_INTERVAL >> !pto->fInbound);\n+            // Respond to BIP35 mempool requests\n+            if (fSendTrickle && pto->fSendMempool) {\n+                std::vector<uint256> vtxid;\n+                mempool.queryHashes(vtxid);\n+                pto->fSendMempool = false;\n+\n+                LOCK(pto->cs_filter);\n+\n+                BOOST_FOREACH(const uint256& hash, vtxid) {\n+                    CInv inv(MSG_TX, hash);\n+                    if (pto->pfilter) {\n+                        CTransaction tx;\n+                        bool fInMemPool = mempool.lookup(hash, tx);\n+                        if (!fInMemPool) continue; // another thread removed since queryHashes, maybe...\n+                        if (!pto->pfilter->IsRelevantAndUpdate(tx)) continue;\n+                    }\n+                    if (pto->minFeeFilter) {\n+                        CFeeRate feeRate;\n+                        mempool.lookupFeeRate(hash, feeRate);\n+                        LOCK(pto->cs_feeFilter);\n+                        if (feeRate.GetFeePerK() < pto->minFeeFilter)\n+                            continue;\n+                    }\n+                    if (pto->vInventoryTxToSend.count(hash)) continue;\n+                    pto->filterInventoryKnown.insert(hash);\n+                    vInv.push_back(inv);\n+                    if (vInv.size() == MAX_INV_SZ) {\n+                        pto->PushMessage(NetMsgType::INV, vInv);\n+                        vInv.clear();\n+                    }\n+                }\n             }\n+\n+            // Determine transactions to relay\n             if (fSendTrickle) {",
      "path": "src/main.cpp",
      "position": null,
      "original_position": 101,
      "commit_id": "b5599147533103efea896a1fc4ff51f2d3ad5808",
      "original_commit_id": "906e5c7fdb5bb894ec08bdd9bf683f9689cf8bdc",
      "in_reply_to_id": null,
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "\"&& vInv.size() < INVENTORY_BROADCAST_MAX\" perhaps? otherwise when a mempool request has prefilled the INV it will waste time heapifying for no reason.\n",
      "created_at": "2016-04-08T19:06:55Z",
      "updated_at": "2016-04-20T22:36:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7840#discussion_r59074603",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/59074603"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7840"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/59134050",
      "pull_request_review_id": null,
      "id": 59134050,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MTM0MDUw",
      "diff_hunk": "@@ -5808,13 +5786,40 @@ bool SendMessages(CNode* pto)\n             }\n             pto->vInventoryBlockToSend.clear();\n \n-            // Determine transactions to relay\n-            bool fSendTrickle = pto->fWhitelisted;\n-            if (pto->nNextInvSend < nNow) {\n-                fSendTrickle = true;\n-                // Use half the delay for outbound peers, as there is less privacy concern for them.\n-                pto->nNextInvSend = PoissonNextSend(nNow, INVENTORY_BROADCAST_INTERVAL >> !pto->fInbound);\n+            // Respond to BIP35 mempool requests\n+            if (fSendTrickle && pto->fSendMempool) {\n+                std::vector<uint256> vtxid;\n+                mempool.queryHashes(vtxid);\n+                pto->fSendMempool = false;\n+\n+                LOCK(pto->cs_filter);\n+\n+                BOOST_FOREACH(const uint256& hash, vtxid) {\n+                    CInv inv(MSG_TX, hash);\n+                    if (pto->pfilter) {\n+                        CTransaction tx;\n+                        bool fInMemPool = mempool.lookup(hash, tx);\n+                        if (!fInMemPool) continue; // another thread removed since queryHashes, maybe...\n+                        if (!pto->pfilter->IsRelevantAndUpdate(tx)) continue;\n+                    }\n+                    if (pto->minFeeFilter) {\n+                        CFeeRate feeRate;\n+                        mempool.lookupFeeRate(hash, feeRate);\n+                        LOCK(pto->cs_feeFilter);",
      "path": "src/main.cpp",
      "position": null,
      "original_position": 86,
      "commit_id": "b5599147533103efea896a1fc4ff51f2d3ad5808",
      "original_commit_id": "906e5c7fdb5bb894ec08bdd9bf683f9689cf8bdc",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.\n",
      "created_at": "2016-04-10T13:38:11Z",
      "updated_at": "2016-04-20T22:36:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7840#discussion_r59134050",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/59134050"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7840"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/59134082",
      "pull_request_review_id": null,
      "id": 59134082,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MTM0MDgy",
      "diff_hunk": "@@ -5808,13 +5786,40 @@ bool SendMessages(CNode* pto)\n             }\n             pto->vInventoryBlockToSend.clear();\n \n-            // Determine transactions to relay\n-            bool fSendTrickle = pto->fWhitelisted;\n-            if (pto->nNextInvSend < nNow) {\n-                fSendTrickle = true;\n-                // Use half the delay for outbound peers, as there is less privacy concern for them.\n-                pto->nNextInvSend = PoissonNextSend(nNow, INVENTORY_BROADCAST_INTERVAL >> !pto->fInbound);\n+            // Respond to BIP35 mempool requests\n+            if (fSendTrickle && pto->fSendMempool) {\n+                std::vector<uint256> vtxid;\n+                mempool.queryHashes(vtxid);\n+                pto->fSendMempool = false;\n+\n+                LOCK(pto->cs_filter);\n+\n+                BOOST_FOREACH(const uint256& hash, vtxid) {\n+                    CInv inv(MSG_TX, hash);\n+                    if (pto->pfilter) {\n+                        CTransaction tx;\n+                        bool fInMemPool = mempool.lookup(hash, tx);\n+                        if (!fInMemPool) continue; // another thread removed since queryHashes, maybe...\n+                        if (!pto->pfilter->IsRelevantAndUpdate(tx)) continue;\n+                    }\n+                    if (pto->minFeeFilter) {\n+                        CFeeRate feeRate;\n+                        mempool.lookupFeeRate(hash, feeRate);\n+                        LOCK(pto->cs_feeFilter);\n+                        if (feeRate.GetFeePerK() < pto->minFeeFilter)\n+                            continue;\n+                    }\n+                    if (pto->vInventoryTxToSend.count(hash)) continue;\n+                    pto->filterInventoryKnown.insert(hash);\n+                    vInv.push_back(inv);\n+                    if (vInv.size() == MAX_INV_SZ) {\n+                        pto->PushMessage(NetMsgType::INV, vInv);\n+                        vInv.clear();\n+                    }\n+                }\n             }\n+\n+            // Determine transactions to relay\n             if (fSendTrickle) {",
      "path": "src/main.cpp",
      "position": null,
      "original_position": 101,
      "commit_id": "b5599147533103efea896a1fc4ff51f2d3ad5808",
      "original_commit_id": "906e5c7fdb5bb894ec08bdd9bf683f9689cf8bdc",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.\n",
      "created_at": "2016-04-10T13:39:39Z",
      "updated_at": "2016-04-20T22:36:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7840#discussion_r59134082",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/59134082"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7840"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/59262462",
      "pull_request_review_id": null,
      "id": 59262462,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MjYyNDYy",
      "diff_hunk": "@@ -5779,49 +5770,93 @@ bool SendMessages(CNode* pto)\n         // Message: inventory\n         //\n         vector<CInv> vInv;\n-        vector<CInv> vInvWait;\n         {\n+            // Check whether periodic sends should happen\n             bool fSendTrickle = pto->fWhitelisted;\n             if (pto->nNextInvSend < nNow) {\n                 fSendTrickle = true;\n-                pto->nNextInvSend = PoissonNextSend(nNow, AVG_INVENTORY_BROADCAST_INTERVAL);\n+                // Use half the delay for outbound peers, as there is less privacy concern for them.\n+                pto->nNextInvSend = PoissonNextSend(nNow, INVENTORY_BROADCAST_INTERVAL >> !pto->fInbound);\n             }\n+\n             LOCK(pto->cs_inventory);\n-            vInv.reserve(std::min<size_t>(1000, pto->vInventoryToSend.size()));\n-            vInvWait.reserve(pto->vInventoryToSend.size());\n-            BOOST_FOREACH(const CInv& inv, pto->vInventoryToSend)\n-            {\n-                if (inv.type == MSG_TX && pto->filterInventoryKnown.contains(inv.hash))\n-                    continue;\n+            vInv.reserve(std::max<size_t>(pto->vInventoryBlockToSend.size(), INVENTORY_BROADCAST_MAX));\n \n-                // trickle out tx inv to protect privacy\n-                if (inv.type == MSG_TX && !fSendTrickle)\n+            // Add blocks\n+            BOOST_FOREACH(const uint256& hash, pto->vInventoryBlockToSend) {\n+                vInv.push_back(CInv(MSG_BLOCK, hash));\n+            }\n+            pto->vInventoryBlockToSend.clear();\n+\n+            // Respond to BIP35 mempool requests\n+            if (fSendTrickle && pto->fSendMempool) {\n+                std::vector<uint256> vtxid;\n+                mempool.queryHashes(vtxid);\n+                pto->fSendMempool = false;\n+                CAmount filterrate = 0;\n                 {\n-                    // 1/4 of tx invs blast to all immediately\n-                    static uint256 hashSalt;\n-                    if (hashSalt.IsNull())\n-                        hashSalt = GetRandHash();\n-                    uint256 hashRand = ArithToUint256(UintToArith256(inv.hash) ^ UintToArith256(hashSalt));\n-                    hashRand = Hash(BEGIN(hashRand), END(hashRand));\n-                    bool fTrickleWait = ((UintToArith256(hashRand) & 3) != 0);\n+                    LOCK(pto->cs_feeFilter);\n+                    filterrate = pto->minFeeFilter;\n+                }\n \n-                    if (fTrickleWait)\n-                    {\n-                        vInvWait.push_back(inv);\n-                        continue;\n+                LOCK(pto->cs_filter);\n+\n+                BOOST_FOREACH(const uint256& hash, vtxid) {\n+                    CInv inv(MSG_TX, hash);\n+                    if (pto->vInventoryTxToSend.count(hash)) continue;\n+                    if (filterrate) {\n+                        CFeeRate feeRate;\n+                        mempool.lookupFeeRate(hash, feeRate);\n+                        if (feeRate.GetFeePerK() < filterrate)\n+                            continue;\n+                    }\n+                    if (pto->pfilter) {\n+                        CTransaction tx;\n+                        bool fInMemPool = mempool.lookup(hash, tx);\n+                        if (!fInMemPool) continue; // another thread removed since queryHashes, maybe...\n+                        if (!pto->pfilter->IsRelevantAndUpdate(tx)) continue;\n+                    }\n+                    pto->filterInventoryKnown.insert(hash);\n+                    vInv.push_back(inv);\n+                    if (vInv.size() == MAX_INV_SZ) {\n+                        pto->PushMessage(NetMsgType::INV, vInv);\n+                        vInv.clear();\n                     }\n                 }\n+            }\n \n-                pto->filterInventoryKnown.insert(inv.hash);\n-\n-                vInv.push_back(inv);\n-                if (vInv.size() >= 1000)\n-                {\n-                    pto->PushMessage(NetMsgType::INV, vInv);\n-                    vInv.clear();\n+            // Determine transactions to relay\n+            if (fSendTrickle && vInv.size() < INVENTORY_BROADCAST_MAX) {",
      "path": "src/main.cpp",
      "position": null,
      "original_position": 148,
      "commit_id": "b5599147533103efea896a1fc4ff51f2d3ad5808",
      "original_commit_id": "0cdc0fa69bce10135b1297518c51299115b7c53b",
      "in_reply_to_id": null,
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "INVENTORY_BROADCAST_MAX is supposed to apply to rate-limited transaction relay, while vInv at this point can be holding blocks, and/or any leftovers from the mempool command.  This seems like it's not the right comparison.\n",
      "created_at": "2016-04-11T19:07:12Z",
      "updated_at": "2016-04-20T22:36:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7840#discussion_r59262462",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/59262462"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7840"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/59265363",
      "pull_request_review_id": null,
      "id": 59265363,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MjY1MzYz",
      "diff_hunk": "@@ -396,14 +396,17 @@ class CNode\n \n     // inventory based relay\n     CRollingBloomFilter filterInventoryKnown;\n-    std::vector<CInv> vInventoryToSend;\n+    std::set<uint256> vInventoryTxToSend;\n+    std::vector<uint256> vInventoryBlockToSend;",
      "path": "src/net.h",
      "position": null,
      "original_position": 6,
      "commit_id": "b5599147533103efea896a1fc4ff51f2d3ad5808",
      "original_commit_id": "0cdc0fa69bce10135b1297518c51299115b7c53b",
      "in_reply_to_id": null,
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: Perhaps add a comment explaining why the vector is needed for blocks?\n",
      "created_at": "2016-04-11T19:27:22Z",
      "updated_at": "2016-04-20T22:36:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7840#discussion_r59265363",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/59265363"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7840"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/59266764",
      "pull_request_review_id": null,
      "id": 59266764,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MjY2NzY0",
      "diff_hunk": "@@ -99,9 +99,12 @@ static const unsigned int MAX_REJECT_MESSAGE_LENGTH = 111;\n static const unsigned int AVG_LOCAL_ADDRESS_BROADCAST_INTERVAL = 24 * 24 * 60;\n /** Average delay between peer address broadcasts in seconds. */\n static const unsigned int AVG_ADDRESS_BROADCAST_INTERVAL = 30;\n-/** Average delay between trickled inventory broadcasts in seconds.\n- *  Blocks, whitelisted receivers, and a random 25% of transactions bypass this. */\n-static const unsigned int AVG_INVENTORY_BROADCAST_INTERVAL = 5;\n+/** Average delay between trickled inventory transmissions in seconds.\n+ *  Blocks and whitelisted receivers bypass this, outbound peers get half this delay. */\n+static const unsigned int INVENTORY_BROADCAST_INTERVAL = 5;\n+/** Maximum number of inventor items to send per transmission.",
      "path": "src/main.h",
      "position": null,
      "original_position": 10,
      "commit_id": "b5599147533103efea896a1fc4ff51f2d3ad5808",
      "original_commit_id": "0cdc0fa69bce10135b1297518c51299115b7c53b",
      "in_reply_to_id": null,
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "\"inventor\" -> \"inventory\"\n",
      "created_at": "2016-04-11T19:36:26Z",
      "updated_at": "2016-04-20T22:36:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7840#discussion_r59266764",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/59266764"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7840"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/60480987",
      "pull_request_review_id": null,
      "id": 60480987,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwNDgwOTg3",
      "diff_hunk": "@@ -5811,13 +5786,52 @@ bool SendMessages(CNode* pto)\n             }\n             pto->vInventoryBlockToSend.clear();\n \n-            // Determine transactions to relay\n+            // Check whether periodic sends should happen\n             bool fSendTrickle = pto->fWhitelisted;\n             if (pto->nNextInvSend < nNow) {\n                 fSendTrickle = true;\n                 // Use half the delay for outbound peers, as there is less privacy concern for them.\n                 pto->nNextInvSend = PoissonNextSend(nNow, INVENTORY_BROADCAST_INTERVAL >> !pto->fInbound);\n             }\n+\n+            // Respond to BIP35 mempool requests\n+            if (fSendTrickle && pto->fSendMempool) {\n+                std::vector<uint256> vtxid;\n+                mempool.queryHashes(vtxid);\n+                pto->fSendMempool = false;\n+                CAmount filterrate = 0;\n+                {\n+                    LOCK(pto->cs_feeFilter);\n+                    filterrate = pto->minFeeFilter;\n+                }\n+\n+                LOCK(pto->cs_filter);\n+\n+                BOOST_FOREACH(const uint256& hash, vtxid) {\n+                    CInv inv(MSG_TX, hash);\n+                    pto->setInventoryTxToSend.erase(hash);\n+                    if (filterrate) {\n+                        CFeeRate feeRate;\n+                        mempool.lookupFeeRate(hash, feeRate);\n+                        if (feeRate.GetFeePerK() < filterrate)\n+                            continue;\n+                    }\n+                    if (pto->pfilter) {\n+                        CTransaction tx;\n+                        bool fInMemPool = mempool.lookup(hash, tx);\n+                        if (!fInMemPool) continue; // another thread removed since queryHashes, maybe...\n+                        if (!pto->pfilter->IsRelevantAndUpdate(tx)) continue;\n+                    }\n+                    pto->filterInventoryKnown.insert(hash);\n+                    vInv.push_back(inv);\n+                    if (vInv.size() == MAX_INV_SZ) {",
      "path": "src/main.cpp",
      "position": 181,
      "original_position": 80,
      "commit_id": "b5599147533103efea896a1fc4ff51f2d3ad5808",
      "original_commit_id": "66a5885a9ed3a881da6bed57b31d654c01ede334",
      "in_reply_to_id": null,
      "user": {
        "login": "jonasnick",
        "id": 2582071,
        "node_id": "MDQ6VXNlcjI1ODIwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2582071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasnick",
        "html_url": "https://github.com/jonasnick",
        "followers_url": "https://api.github.com/users/jonasnick/followers",
        "following_url": "https://api.github.com/users/jonasnick/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasnick/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasnick/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasnick/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasnick/orgs",
        "repos_url": "https://api.github.com/users/jonasnick/repos",
        "events_url": "https://api.github.com/users/jonasnick/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasnick/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It seems that in general it can happen that `vInv.size() > MAX_INV_SZ`, namely when `pto->vInventoryBlockToSend.size() >= MAX_INV_SZ`. Are we assuming that this isn't the case?\n",
      "created_at": "2016-04-20T20:26:13Z",
      "updated_at": "2016-04-20T22:36:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7840#discussion_r60480987",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/60480987"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7840"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 5842,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/60481489",
      "pull_request_review_id": null,
      "id": 60481489,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwNDgxNDg5",
      "diff_hunk": "@@ -5785,49 +5781,123 @@ bool SendMessages(CNode* pto)\n         // Message: inventory\n         //\n         vector<CInv> vInv;\n-        vector<CInv> vInvWait;\n         {\n+            LOCK(pto->cs_inventory);\n+            vInv.reserve(std::max<size_t>(pto->vInventoryBlockToSend.size(), INVENTORY_BROADCAST_MAX));\n+\n+            // Add blocks\n+            BOOST_FOREACH(const uint256& hash, pto->vInventoryBlockToSend) {\n+                vInv.push_back(CInv(MSG_BLOCK, hash));\n+            }\n+            pto->vInventoryBlockToSend.clear();\n+\n+            // Check whether periodic sends should happen\n             bool fSendTrickle = pto->fWhitelisted;\n             if (pto->nNextInvSend < nNow) {\n                 fSendTrickle = true;\n-                pto->nNextInvSend = PoissonNextSend(nNow, AVG_INVENTORY_BROADCAST_INTERVAL);\n+                // Use half the delay for outbound peers, as there is less privacy concern for them.\n+                pto->nNextInvSend = PoissonNextSend(nNow, INVENTORY_BROADCAST_INTERVAL >> !pto->fInbound);\n             }\n-            LOCK(pto->cs_inventory);\n-            vInv.reserve(std::min<size_t>(1000, pto->vInventoryToSend.size()));\n-            vInvWait.reserve(pto->vInventoryToSend.size());\n-            BOOST_FOREACH(const CInv& inv, pto->vInventoryToSend)\n-            {\n-                if (inv.type == MSG_TX && pto->filterInventoryKnown.contains(inv.hash))\n-                    continue;\n \n-                // trickle out tx inv to protect privacy\n-                if (inv.type == MSG_TX && !fSendTrickle)\n+            // Time to send but the peer has requested we not relay transactions.\n+            if (fSendTrickle) {\n+                LOCK(pto->cs_filter);\n+                if (!pto->fRelayTxes) pto->setInventoryTxToSend.clear();\n+            }\n+\n+            // Respond to BIP35 mempool requests\n+            if (fSendTrickle && pto->fSendMempool) {\n+                std::vector<uint256> vtxid;\n+                mempool.queryHashes(vtxid);\n+                pto->fSendMempool = false;\n+                CAmount filterrate = 0;\n                 {\n-                    // 1/4 of tx invs blast to all immediately\n-                    static uint256 hashSalt;\n-                    if (hashSalt.IsNull())\n-                        hashSalt = GetRandHash();\n-                    uint256 hashRand = ArithToUint256(UintToArith256(inv.hash) ^ UintToArith256(hashSalt));\n-                    hashRand = Hash(BEGIN(hashRand), END(hashRand));\n-                    bool fTrickleWait = ((UintToArith256(hashRand) & 3) != 0);\n+                    LOCK(pto->cs_feeFilter);\n+                    filterrate = pto->minFeeFilter;\n+                }\n \n-                    if (fTrickleWait)\n-                    {\n-                        vInvWait.push_back(inv);\n-                        continue;\n+                LOCK(pto->cs_filter);\n+\n+                BOOST_FOREACH(const uint256& hash, vtxid) {\n+                    CInv inv(MSG_TX, hash);\n+                    pto->setInventoryTxToSend.erase(hash);\n+                    if (filterrate) {\n+                        CFeeRate feeRate;\n+                        mempool.lookupFeeRate(hash, feeRate);\n+                        if (feeRate.GetFeePerK() < filterrate)\n+                            continue;\n+                    }\n+                    if (pto->pfilter) {\n+                        CTransaction tx;\n+                        bool fInMemPool = mempool.lookup(hash, tx);\n+                        if (!fInMemPool) continue; // another thread removed since queryHashes, maybe...\n+                        if (!pto->pfilter->IsRelevantAndUpdate(tx)) continue;\n+                    }\n+                    pto->filterInventoryKnown.insert(hash);\n+                    vInv.push_back(inv);\n+                    if (vInv.size() == MAX_INV_SZ) {",
      "path": "src/main.cpp",
      "position": 181,
      "original_position": 177,
      "commit_id": "b5599147533103efea896a1fc4ff51f2d3ad5808",
      "original_commit_id": "1a16f859e4dab32578e3cef1e3fcd6e71de5df28",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Entries are added one by one to vInv, and all call sites where that happens are followed by a max size test, so I don't think vInv can exceed MAX_INV_SZ.\n",
      "created_at": "2016-04-20T20:29:27Z",
      "updated_at": "2016-04-20T22:36:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7840#discussion_r60481489",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/60481489"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7840"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 5842,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/60482072",
      "pull_request_review_id": null,
      "id": 60482072,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwNDgyMDcy",
      "diff_hunk": "@@ -5811,13 +5786,52 @@ bool SendMessages(CNode* pto)\n             }\n             pto->vInventoryBlockToSend.clear();\n \n-            // Determine transactions to relay\n+            // Check whether periodic sends should happen\n             bool fSendTrickle = pto->fWhitelisted;\n             if (pto->nNextInvSend < nNow) {\n                 fSendTrickle = true;\n                 // Use half the delay for outbound peers, as there is less privacy concern for them.\n                 pto->nNextInvSend = PoissonNextSend(nNow, INVENTORY_BROADCAST_INTERVAL >> !pto->fInbound);\n             }\n+\n+            // Respond to BIP35 mempool requests\n+            if (fSendTrickle && pto->fSendMempool) {\n+                std::vector<uint256> vtxid;\n+                mempool.queryHashes(vtxid);\n+                pto->fSendMempool = false;\n+                CAmount filterrate = 0;\n+                {\n+                    LOCK(pto->cs_feeFilter);\n+                    filterrate = pto->minFeeFilter;\n+                }\n+\n+                LOCK(pto->cs_filter);\n+\n+                BOOST_FOREACH(const uint256& hash, vtxid) {\n+                    CInv inv(MSG_TX, hash);\n+                    pto->setInventoryTxToSend.erase(hash);\n+                    if (filterrate) {\n+                        CFeeRate feeRate;\n+                        mempool.lookupFeeRate(hash, feeRate);\n+                        if (feeRate.GetFeePerK() < filterrate)\n+                            continue;\n+                    }\n+                    if (pto->pfilter) {\n+                        CTransaction tx;\n+                        bool fInMemPool = mempool.lookup(hash, tx);\n+                        if (!fInMemPool) continue; // another thread removed since queryHashes, maybe...\n+                        if (!pto->pfilter->IsRelevantAndUpdate(tx)) continue;\n+                    }\n+                    pto->filterInventoryKnown.insert(hash);\n+                    vInv.push_back(inv);\n+                    if (vInv.size() == MAX_INV_SZ) {",
      "path": "src/main.cpp",
      "position": 181,
      "original_position": 80,
      "commit_id": "b5599147533103efea896a1fc4ff51f2d3ad5808",
      "original_commit_id": "66a5885a9ed3a881da6bed57b31d654c01ede334",
      "in_reply_to_id": null,
      "user": {
        "login": "jonasnick",
        "id": 2582071,
        "node_id": "MDQ6VXNlcjI1ODIwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2582071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasnick",
        "html_url": "https://github.com/jonasnick",
        "followers_url": "https://api.github.com/users/jonasnick/followers",
        "following_url": "https://api.github.com/users/jonasnick/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasnick/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasnick/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasnick/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasnick/orgs",
        "repos_url": "https://api.github.com/users/jonasnick/repos",
        "events_url": "https://api.github.com/users/jonasnick/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasnick/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "not here https://github.com/sipa/bitcoin/blob/splitinvtxblock/src/main.cpp#L5790\n",
      "created_at": "2016-04-20T20:33:01Z",
      "updated_at": "2016-04-20T22:36:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7840#discussion_r60482072",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/60482072"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7840"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 5842,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/60484739",
      "pull_request_review_id": null,
      "id": 60484739,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwNDg0NzM5",
      "diff_hunk": "@@ -5785,49 +5781,123 @@ bool SendMessages(CNode* pto)\n         // Message: inventory\n         //\n         vector<CInv> vInv;\n-        vector<CInv> vInvWait;\n         {\n+            LOCK(pto->cs_inventory);\n+            vInv.reserve(std::max<size_t>(pto->vInventoryBlockToSend.size(), INVENTORY_BROADCAST_MAX));\n+\n+            // Add blocks\n+            BOOST_FOREACH(const uint256& hash, pto->vInventoryBlockToSend) {\n+                vInv.push_back(CInv(MSG_BLOCK, hash));\n+            }\n+            pto->vInventoryBlockToSend.clear();\n+\n+            // Check whether periodic sends should happen\n             bool fSendTrickle = pto->fWhitelisted;\n             if (pto->nNextInvSend < nNow) {\n                 fSendTrickle = true;\n-                pto->nNextInvSend = PoissonNextSend(nNow, AVG_INVENTORY_BROADCAST_INTERVAL);\n+                // Use half the delay for outbound peers, as there is less privacy concern for them.\n+                pto->nNextInvSend = PoissonNextSend(nNow, INVENTORY_BROADCAST_INTERVAL >> !pto->fInbound);\n             }\n-            LOCK(pto->cs_inventory);\n-            vInv.reserve(std::min<size_t>(1000, pto->vInventoryToSend.size()));\n-            vInvWait.reserve(pto->vInventoryToSend.size());\n-            BOOST_FOREACH(const CInv& inv, pto->vInventoryToSend)\n-            {\n-                if (inv.type == MSG_TX && pto->filterInventoryKnown.contains(inv.hash))\n-                    continue;\n \n-                // trickle out tx inv to protect privacy\n-                if (inv.type == MSG_TX && !fSendTrickle)\n+            // Time to send but the peer has requested we not relay transactions.\n+            if (fSendTrickle) {\n+                LOCK(pto->cs_filter);\n+                if (!pto->fRelayTxes) pto->setInventoryTxToSend.clear();\n+            }\n+\n+            // Respond to BIP35 mempool requests\n+            if (fSendTrickle && pto->fSendMempool) {\n+                std::vector<uint256> vtxid;\n+                mempool.queryHashes(vtxid);\n+                pto->fSendMempool = false;\n+                CAmount filterrate = 0;\n                 {\n-                    // 1/4 of tx invs blast to all immediately\n-                    static uint256 hashSalt;\n-                    if (hashSalt.IsNull())\n-                        hashSalt = GetRandHash();\n-                    uint256 hashRand = ArithToUint256(UintToArith256(inv.hash) ^ UintToArith256(hashSalt));\n-                    hashRand = Hash(BEGIN(hashRand), END(hashRand));\n-                    bool fTrickleWait = ((UintToArith256(hashRand) & 3) != 0);\n+                    LOCK(pto->cs_feeFilter);\n+                    filterrate = pto->minFeeFilter;\n+                }\n \n-                    if (fTrickleWait)\n-                    {\n-                        vInvWait.push_back(inv);\n-                        continue;\n+                LOCK(pto->cs_filter);\n+\n+                BOOST_FOREACH(const uint256& hash, vtxid) {\n+                    CInv inv(MSG_TX, hash);\n+                    pto->setInventoryTxToSend.erase(hash);\n+                    if (filterrate) {\n+                        CFeeRate feeRate;\n+                        mempool.lookupFeeRate(hash, feeRate);\n+                        if (feeRate.GetFeePerK() < filterrate)\n+                            continue;\n+                    }\n+                    if (pto->pfilter) {\n+                        CTransaction tx;\n+                        bool fInMemPool = mempool.lookup(hash, tx);\n+                        if (!fInMemPool) continue; // another thread removed since queryHashes, maybe...\n+                        if (!pto->pfilter->IsRelevantAndUpdate(tx)) continue;\n+                    }\n+                    pto->filterInventoryKnown.insert(hash);\n+                    vInv.push_back(inv);\n+                    if (vInv.size() == MAX_INV_SZ) {",
      "path": "src/main.cpp",
      "position": 181,
      "original_position": 177,
      "commit_id": "b5599147533103efea896a1fc4ff51f2d3ad5808",
      "original_commit_id": "1a16f859e4dab32578e3cef1e3fcd6e71de5df28",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ah, good point. There may not be other mechanisms that prevent over 5000 blocks being inved at once.\n",
      "created_at": "2016-04-20T20:49:09Z",
      "updated_at": "2016-04-20T22:36:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7840#discussion_r60484739",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/60484739"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7840"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 5842,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/60499641",
      "pull_request_review_id": null,
      "id": 60499641,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwNDk5NjQx",
      "diff_hunk": "@@ -5785,49 +5781,123 @@ bool SendMessages(CNode* pto)\n         // Message: inventory\n         //\n         vector<CInv> vInv;\n-        vector<CInv> vInvWait;\n         {\n+            LOCK(pto->cs_inventory);\n+            vInv.reserve(std::max<size_t>(pto->vInventoryBlockToSend.size(), INVENTORY_BROADCAST_MAX));\n+\n+            // Add blocks\n+            BOOST_FOREACH(const uint256& hash, pto->vInventoryBlockToSend) {\n+                vInv.push_back(CInv(MSG_BLOCK, hash));\n+            }\n+            pto->vInventoryBlockToSend.clear();\n+\n+            // Check whether periodic sends should happen\n             bool fSendTrickle = pto->fWhitelisted;\n             if (pto->nNextInvSend < nNow) {\n                 fSendTrickle = true;\n-                pto->nNextInvSend = PoissonNextSend(nNow, AVG_INVENTORY_BROADCAST_INTERVAL);\n+                // Use half the delay for outbound peers, as there is less privacy concern for them.\n+                pto->nNextInvSend = PoissonNextSend(nNow, INVENTORY_BROADCAST_INTERVAL >> !pto->fInbound);\n             }\n-            LOCK(pto->cs_inventory);\n-            vInv.reserve(std::min<size_t>(1000, pto->vInventoryToSend.size()));\n-            vInvWait.reserve(pto->vInventoryToSend.size());\n-            BOOST_FOREACH(const CInv& inv, pto->vInventoryToSend)\n-            {\n-                if (inv.type == MSG_TX && pto->filterInventoryKnown.contains(inv.hash))\n-                    continue;\n \n-                // trickle out tx inv to protect privacy\n-                if (inv.type == MSG_TX && !fSendTrickle)\n+            // Time to send but the peer has requested we not relay transactions.\n+            if (fSendTrickle) {\n+                LOCK(pto->cs_filter);\n+                if (!pto->fRelayTxes) pto->setInventoryTxToSend.clear();\n+            }\n+\n+            // Respond to BIP35 mempool requests\n+            if (fSendTrickle && pto->fSendMempool) {\n+                std::vector<uint256> vtxid;\n+                mempool.queryHashes(vtxid);\n+                pto->fSendMempool = false;\n+                CAmount filterrate = 0;\n                 {\n-                    // 1/4 of tx invs blast to all immediately\n-                    static uint256 hashSalt;\n-                    if (hashSalt.IsNull())\n-                        hashSalt = GetRandHash();\n-                    uint256 hashRand = ArithToUint256(UintToArith256(inv.hash) ^ UintToArith256(hashSalt));\n-                    hashRand = Hash(BEGIN(hashRand), END(hashRand));\n-                    bool fTrickleWait = ((UintToArith256(hashRand) & 3) != 0);\n+                    LOCK(pto->cs_feeFilter);\n+                    filterrate = pto->minFeeFilter;\n+                }\n \n-                    if (fTrickleWait)\n-                    {\n-                        vInvWait.push_back(inv);\n-                        continue;\n+                LOCK(pto->cs_filter);\n+\n+                BOOST_FOREACH(const uint256& hash, vtxid) {\n+                    CInv inv(MSG_TX, hash);\n+                    pto->setInventoryTxToSend.erase(hash);\n+                    if (filterrate) {\n+                        CFeeRate feeRate;\n+                        mempool.lookupFeeRate(hash, feeRate);\n+                        if (feeRate.GetFeePerK() < filterrate)\n+                            continue;\n+                    }\n+                    if (pto->pfilter) {\n+                        CTransaction tx;\n+                        bool fInMemPool = mempool.lookup(hash, tx);\n+                        if (!fInMemPool) continue; // another thread removed since queryHashes, maybe...\n+                        if (!pto->pfilter->IsRelevantAndUpdate(tx)) continue;\n+                    }\n+                    pto->filterInventoryKnown.insert(hash);\n+                    vInv.push_back(inv);\n+                    if (vInv.size() == MAX_INV_SZ) {",
      "path": "src/main.cpp",
      "position": 181,
      "original_position": 177,
      "commit_id": "b5599147533103efea896a1fc4ff51f2d3ad5808",
      "original_commit_id": "1a16f859e4dab32578e3cef1e3fcd6e71de5df28",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed.\n",
      "created_at": "2016-04-20T22:36:14Z",
      "updated_at": "2016-04-20T22:36:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7840#discussion_r60499641",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/60499641"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7840"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 5842,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/60797176",
      "pull_request_review_id": null,
      "id": 60797176,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwNzk3MTc2",
      "diff_hunk": "@@ -752,6 +752,31 @@ void CTxMemPool::check(const CCoinsViewCache *pcoins) const\n     assert(innerUsage == cachedInnerUsage);\n }\n \n+bool CTxMemPool::CompareDepthAndScore(const uint256& hasha, const uint256& hashb)\n+{\n+    LOCK(cs);\n+    indexed_transaction_set::const_iterator i = mapTx.find(hasha);\n+    if (i == mapTx.end()) return false;\n+    indexed_transaction_set::const_iterator j = mapTx.find(hashb);\n+    if (j == mapTx.end()) return true;\n+    uint64_t counta = i->GetCountWithAncestors();\n+    uint64_t countb = j->GetCountWithAncestors();\n+    if (counta == countb) {\n+        return CompareTxMemPoolEntryByScore()(*i, *j);\n+    }\n+    return counta < countb;\n+}\n+\n+namespace {\n+class DepthAndScoreComparator\n+{\n+    CTxMemPool *mp;\n+public:\n+    DepthAndScoreComparator(CTxMemPool *mempool) : mp(mempool) {}\n+    bool operator()(const uint256& a, const uint256& b) { return mp->CompareDepthAndScore(a, b); }\n+};\n+}",
      "path": "src/txmempool.cpp",
      "position": 27,
      "original_position": 27,
      "commit_id": "b5599147533103efea896a1fc4ff51f2d3ad5808",
      "original_commit_id": "b5599147533103efea896a1fc4ff51f2d3ad5808",
      "in_reply_to_id": null,
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: What do you think of exposing the `DepthAndScoreComparator` defined here, and eliminating the `CompareInvMempoolOrder` object declared in `main.cpp` by moving the comparator it defines (which reverses the comparison) into this class? \n",
      "created_at": "2016-04-22T20:18:27Z",
      "updated_at": "2016-04-22T20:18:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7840#discussion_r60797176",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/60797176"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7840"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 778,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/60801618",
      "pull_request_review_id": null,
      "id": 60801618,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwODAxNjE4",
      "diff_hunk": "@@ -752,6 +752,31 @@ void CTxMemPool::check(const CCoinsViewCache *pcoins) const\n     assert(innerUsage == cachedInnerUsage);\n }\n \n+bool CTxMemPool::CompareDepthAndScore(const uint256& hasha, const uint256& hashb)\n+{\n+    LOCK(cs);\n+    indexed_transaction_set::const_iterator i = mapTx.find(hasha);\n+    if (i == mapTx.end()) return false;\n+    indexed_transaction_set::const_iterator j = mapTx.find(hashb);\n+    if (j == mapTx.end()) return true;\n+    uint64_t counta = i->GetCountWithAncestors();\n+    uint64_t countb = j->GetCountWithAncestors();\n+    if (counta == countb) {\n+        return CompareTxMemPoolEntryByScore()(*i, *j);\n+    }\n+    return counta < countb;\n+}\n+\n+namespace {\n+class DepthAndScoreComparator\n+{\n+    CTxMemPool *mp;\n+public:\n+    DepthAndScoreComparator(CTxMemPool *mempool) : mp(mempool) {}\n+    bool operator()(const uint256& a, const uint256& b) { return mp->CompareDepthAndScore(a, b); }\n+};\n+}",
      "path": "src/txmempool.cpp",
      "position": 27,
      "original_position": 27,
      "commit_id": "b5599147533103efea896a1fc4ff51f2d3ad5808",
      "original_commit_id": "b5599147533103efea896a1fc4ff51f2d3ad5808",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The comparator over there sorts iterators to set items, so there is more difference.\n\nI do think the comparator (or at least a base comparator) should be exposed here, which grabs the mempool lock etc. Perhaps the other comparator can then take a ref to the first one as an argument to add the reversing and set iterator dereferencing.\n",
      "created_at": "2016-04-22T20:54:08Z",
      "updated_at": "2016-04-22T20:54:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7840#discussion_r60801618",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/60801618"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7840"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 778,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/60803349",
      "pull_request_review_id": null,
      "id": 60803349,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwODAzMzQ5",
      "diff_hunk": "@@ -752,6 +752,31 @@ void CTxMemPool::check(const CCoinsViewCache *pcoins) const\n     assert(innerUsage == cachedInnerUsage);\n }\n \n+bool CTxMemPool::CompareDepthAndScore(const uint256& hasha, const uint256& hashb)\n+{\n+    LOCK(cs);\n+    indexed_transaction_set::const_iterator i = mapTx.find(hasha);\n+    if (i == mapTx.end()) return false;\n+    indexed_transaction_set::const_iterator j = mapTx.find(hashb);\n+    if (j == mapTx.end()) return true;\n+    uint64_t counta = i->GetCountWithAncestors();\n+    uint64_t countb = j->GetCountWithAncestors();\n+    if (counta == countb) {\n+        return CompareTxMemPoolEntryByScore()(*i, *j);\n+    }\n+    return counta < countb;\n+}\n+\n+namespace {\n+class DepthAndScoreComparator\n+{\n+    CTxMemPool *mp;\n+public:\n+    DepthAndScoreComparator(CTxMemPool *mempool) : mp(mempool) {}\n+    bool operator()(const uint256& a, const uint256& b) { return mp->CompareDepthAndScore(a, b); }\n+};\n+}",
      "path": "src/txmempool.cpp",
      "position": 27,
      "original_position": 27,
      "commit_id": "b5599147533103efea896a1fc4ff51f2d3ad5808",
      "original_commit_id": "b5599147533103efea896a1fc4ff51f2d3ad5808",
      "in_reply_to_id": null,
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I was thinking that because the main.cpp comparator acts on different objects, it'd be easy to just move that function into this class (and explain in comments what the two comparators were for and why they are subtly different!), but your suggestion seems reasonable to me as well.  I suppose its not awesome for the implementation details in main.cpp to leak into txmempool...\n",
      "created_at": "2016-04-22T21:08:09Z",
      "updated_at": "2016-04-22T21:08:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7840#discussion_r60803349",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/60803349"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7840"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 778,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/60806480",
      "pull_request_review_id": null,
      "id": 60806480,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwODA2NDgw",
      "diff_hunk": "@@ -752,6 +752,31 @@ void CTxMemPool::check(const CCoinsViewCache *pcoins) const\n     assert(innerUsage == cachedInnerUsage);\n }\n \n+bool CTxMemPool::CompareDepthAndScore(const uint256& hasha, const uint256& hashb)\n+{\n+    LOCK(cs);\n+    indexed_transaction_set::const_iterator i = mapTx.find(hasha);\n+    if (i == mapTx.end()) return false;\n+    indexed_transaction_set::const_iterator j = mapTx.find(hashb);\n+    if (j == mapTx.end()) return true;\n+    uint64_t counta = i->GetCountWithAncestors();\n+    uint64_t countb = j->GetCountWithAncestors();\n+    if (counta == countb) {\n+        return CompareTxMemPoolEntryByScore()(*i, *j);\n+    }\n+    return counta < countb;\n+}\n+\n+namespace {\n+class DepthAndScoreComparator\n+{\n+    CTxMemPool *mp;\n+public:\n+    DepthAndScoreComparator(CTxMemPool *mempool) : mp(mempool) {}\n+    bool operator()(const uint256& a, const uint256& b) { return mp->CompareDepthAndScore(a, b); }\n+};\n+}",
      "path": "src/txmempool.cpp",
      "position": 27,
      "original_position": 27,
      "commit_id": "b5599147533103efea896a1fc4ff51f2d3ad5808",
      "original_commit_id": "b5599147533103efea896a1fc4ff51f2d3ad5808",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Even better would be for txmempool.h to expose an opaque SortedMempoolSet\nobject, which takes a list of hashes as inputs, and maintains a sorted heap\nof iterators to the mempool entries themselves, in addition to the cs lock.\n",
      "created_at": "2016-04-22T21:36:44Z",
      "updated_at": "2016-04-22T21:36:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7840#discussion_r60806480",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/60806480"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7840"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 778,
      "original_line": null,
      "side": "RIGHT"
    }
  ]
}