{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865",
    "id": 910928933,
    "node_id": "PR_kwDOABII5842S6wl",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/24865",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/24865.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/24865.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24865",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24865/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/564b580bf07742483a140c7c095b896a6d5d6cad",
    "number": 24865,
    "state": "closed",
    "locked": false,
    "maintainer_can_modify": false,
    "title": "rpc: Enable wallet import on pruned nodes and add test",
    "user": {
      "login": "aureleoules",
      "id": 22493292,
      "node_id": "MDQ6VXNlcjIyNDkzMjky",
      "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aureleoules",
      "html_url": "https://github.com/aureleoules",
      "followers_url": "https://api.github.com/users/aureleoules/followers",
      "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
      "organizations_url": "https://api.github.com/users/aureleoules/orgs",
      "repos_url": "https://api.github.com/users/aureleoules/repos",
      "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/aureleoules/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Reopens #16037 \r\n\r\nI have rebased the PR, addressed the comments of the original PR and added a functional test.\r\n\r\n> Before this change importwallet fails if any block is pruned. This PR makes it possible to importwallet if all required blocks aren't pruned. This is possible because the dump format includes key timestamps.\r\n\r\nFor reviewers: \r\n`python test/functional/wallet_pruning.py --nocleanup` will generate a large blockchain (~700MB) that can be used to manually test wallet imports on a pruned node. Node0 is not pruned, while node1 is.",
    "labels": [
      {
        "id": 149424,
        "node_id": "MDU6TGFiZWwxNDk0MjQ=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
        "name": "Wallet",
        "color": "08a781",
        "default": false
      },
      {
        "id": 98279177,
        "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
        "name": "RPC/REST/ZMQ",
        "color": "0052cc",
        "default": false
      }
    ],
    "created_at": "2022-04-15T15:38:30Z",
    "updated_at": "2023-01-12T11:51:48Z",
    "closed_at": "2022-12-16T22:31:21Z",
    "mergeable_state": "unknown",
    "merged_at": "2022-12-16T22:31:21Z",
    "merge_commit_sha": "66c08e741dc8d0bbe52fcdd9202858394491e773",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "requested_teams": [],
    "head": {
      "label": "aureleoules:2022-04-importwallet-pruned",
      "ref": "2022-04-importwallet-pruned",
      "sha": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 468927670,
        "node_id": "R_kgDOG_NEtg",
        "name": "bitcoin",
        "full_name": "aureleoules/bitcoin",
        "owner": {
          "login": "aureleoules",
          "id": 22493292,
          "node_id": "MDQ6VXNlcjIyNDkzMjky",
          "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/aureleoules",
          "html_url": "https://github.com/aureleoules",
          "followers_url": "https://api.github.com/users/aureleoules/followers",
          "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
          "organizations_url": "https://api.github.com/users/aureleoules/orgs",
          "repos_url": "https://api.github.com/users/aureleoules/repos",
          "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/aureleoules/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/aureleoules/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/aureleoules/bitcoin",
        "archive_url": "https://api.github.com/repos/aureleoules/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/aureleoules/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/aureleoules/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/aureleoules/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/aureleoules/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/aureleoules/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/aureleoules/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/aureleoules/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/aureleoules/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/aureleoules/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/aureleoules/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/aureleoules/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/aureleoules/bitcoin/events",
        "forks_url": "https://api.github.com/repos/aureleoules/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/aureleoules/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/aureleoules/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/aureleoules/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/aureleoules/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/aureleoules/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/aureleoules/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/aureleoules/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/aureleoules/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/aureleoules/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/aureleoules/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/aureleoules/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/aureleoules/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/aureleoules/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/aureleoules/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/aureleoules/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:aureleoules/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/aureleoules/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/aureleoules/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/aureleoules/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/aureleoules/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/aureleoules/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/aureleoules/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/aureleoules/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/aureleoules/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/aureleoules/bitcoin/hooks",
        "svn_url": "https://github.com/aureleoules/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 227047,
        "default_branch": "master",
        "open_issues_count": 3,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-05-30T19:59:24Z",
        "created_at": "2022-03-11T23:21:06Z",
        "updated_at": "2022-12-07T18:06:10Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "ba47a4ba97e924fb628849754c78d9cd10841c31",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34324,
        "stargazers_count": 69819,
        "watchers_count": 69819,
        "size": 233879,
        "default_branch": "master",
        "open_issues_count": 627,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-07T05:35:10Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-06-07T04:47:18Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 189,
    "deletions": 31,
    "changed_files": 5,
    "commits": 3,
    "review_comments": 62,
    "comments": 26
  },
  "events": [
    {
      "event": "labeled",
      "id": 6441001891,
      "node_id": "LE_lADOABII585H3RJHzwAAAAF_6eOj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6441001891",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-15T15:41:57Z",
      "label": {
        "name": "RPC/REST/ZMQ",
        "color": "0052cc"
      }
    },
    {
      "event": "labeled",
      "id": 6441001892,
      "node_id": "LE_lADOABII585H3RJHzwAAAAF_6eOk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6441001892",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-15T15:41:57Z",
      "label": {
        "name": "Wallet",
        "color": "08a781"
      }
    },
    {
      "event": "reviewed",
      "id": 943745563,
      "node_id": "PRR_kwDOABII5844QGob",
      "url": null,
      "actor": null,
      "commit_id": "35432901b42c27e0ee0abe2a32a4d13e10ab14cc",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "body": "",
      "user": {
        "login": "vincenzopalazzo",
        "id": 17150045,
        "node_id": "MDQ6VXNlcjE3MTUwMDQ1",
        "avatar_url": "https://avatars.githubusercontent.com/u/17150045?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vincenzopalazzo",
        "html_url": "https://github.com/vincenzopalazzo",
        "followers_url": "https://api.github.com/users/vincenzopalazzo/followers",
        "following_url": "https://api.github.com/users/vincenzopalazzo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vincenzopalazzo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vincenzopalazzo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vincenzopalazzo/subscriptions",
        "organizations_url": "https://api.github.com/users/vincenzopalazzo/orgs",
        "repos_url": "https://api.github.com/users/vincenzopalazzo/repos",
        "events_url": "https://api.github.com/users/vincenzopalazzo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vincenzopalazzo/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#pullrequestreview-943745563",
      "submitted_at": "2022-04-15T21:15:16Z",
      "state": "CHANGES_REQUESTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
    },
    {
      "event": "commented",
      "id": 1100586603,
      "node_id": "IC_kwDOABII585BmZ5r",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1100586603",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-16T06:33:39Z",
      "updated_at": "2022-12-16T22:19:15Z",
      "author_association": "MEMBER",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [kouloumos](https://github.com/bitcoin/bitcoin/pull/24865#issuecomment-1352743819), [furszy](https://github.com/bitcoin/bitcoin/pull/24865#pullrequestreview-1219783365), [w0xlt](https://github.com/bitcoin/bitcoin/pull/24865#pullrequestreview-1220950758), [achow101](https://github.com/bitcoin/bitcoin/pull/24865#issuecomment-1355722323) |\n| Concept ACK | [Xekyo](https://github.com/bitcoin/bitcoin/pull/24865#pullrequestreview-990700101), [theStack](https://github.com/bitcoin/bitcoin/pull/24865#pullrequestreview-1175989744) |\n| Stale ACK | [ryanofsky](https://github.com/bitcoin/bitcoin/pull/24865#pullrequestreview-1106185979) |\n\nIf your review is incorrectly listed, please react with 👎 to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#issuecomment-1100586603",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24865"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6443371319,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAGADgs3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6443371319",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-16T12:49:22Z"
    },
    {
      "event": "labeled",
      "id": 6501912980,
      "node_id": "LE_lADOABII585H3RJHzwAAAAGDi1GU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6501912980",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-26T20:48:29Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6502347488,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAGDkfLg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6502347488",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-26T22:20:04Z"
    },
    {
      "event": "unlabeled",
      "id": 6502467026,
      "node_id": "UNLE_lADOABII585H3RJHzwAAAAGDk8XS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6502467026",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-26T22:53:49Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6610385378,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAGKAnni",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6610385378",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-14T17:09:11Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6610385797,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAGKAnuF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6610385797",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-14T17:09:35Z"
    },
    {
      "event": "reviewed",
      "id": 990700101,
      "node_id": "PRR_kwDOABII5847DOJF",
      "url": null,
      "actor": null,
      "commit_id": "46b7f731b1e98b0836c5b97cd99c0887d6173a17",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Did a light code-review, concept ACK",
      "user": {
        "login": "Xekyo",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Xekyo",
        "html_url": "https://github.com/Xekyo",
        "followers_url": "https://api.github.com/users/Xekyo/followers",
        "following_url": "https://api.github.com/users/Xekyo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Xekyo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Xekyo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Xekyo/subscriptions",
        "organizations_url": "https://api.github.com/users/Xekyo/orgs",
        "repos_url": "https://api.github.com/users/Xekyo/repos",
        "events_url": "https://api.github.com/users/Xekyo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Xekyo/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#pullrequestreview-990700101",
      "submitted_at": "2022-05-31T16:00:17Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
    },
    {
      "event": "reviewed",
      "id": 1012746916,
      "node_id": "PRR_kwDOABII5848XUqk",
      "url": null,
      "actor": null,
      "commit_id": "46b7f731b1e98b0836c5b97cd99c0887d6173a17",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#pullrequestreview-1012746916",
      "submitted_at": "2022-06-20T21:09:38Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6933239835,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAGdQNgb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6933239835",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-05T10:24:30Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6933829883,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAGdSdj7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6933829883",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-05T11:59:03Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6933908058,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAGdSwpa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6933908058",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-05T12:11:01Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6935790819,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAGdZ8Tj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6935790819",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-05T16:13:28Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6935844352,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAGdaJYA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6935844352",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-05T16:21:51Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6935884154,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAGdaTF6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6935884154",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-05T16:28:06Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6935926289,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAGdadYR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6935926289",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-05T16:34:55Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6936014886,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAGdazAm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6936014886",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-05T16:50:15Z"
    },
    {
      "event": "reviewed",
      "id": 1036108749,
      "node_id": "PRR_kwDOABII5849wcPN",
      "url": null,
      "actor": null,
      "commit_id": "b45e54bf513c6e33686f4212200f1615dbac8ee4",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "I think that `wallet_pruning.py` is not testing properly this added feature. This is due to the testing logic but mainly because of the default setup of the testing framework that is being used in this test. \r\n\r\n> This is possible because the dump format includes key timestamps.\r\n\r\nThe `importwallet` rpc calculates the min `nTimeBegin` timestamp for which `findFirstBlockWithTimeAndHeight` in the newly created function `EnsureBlockDataFromTime` will find the earliest block with timestamp equal or greater to.\r\n\r\nAs you can verify from the `wallet_*.dat` dumps of this test\r\n```\r\n# node1 wallet dump\r\n...\r\ncUxsWyKyZ9MAQTaAhUQWJmBbSvHMwSmuv59KgxQV7oZQU3PXN3KE 1970-01-01T00:00:01Z label=coinbase # addr=msX6jQXvxiNhx3Q62PKeLPrhrqZQdSimTg,2MtBq31Chq2pntJ81PQLR4q4sMEG7K46wsQ,bcrt1qsw5g6ehh439vurfyhdh93d66hw0kf9085wy7ma\r\n...\r\n```\r\nthe deterministic private keys that are imported to each test node as part of the testing framework setup \r\nhttps://github.com/bitcoin/bitcoin/blob/1d89fc695a3aeb3e3dcadf371b7667572b38c836/test/functional/test_framework/test_framework.py#L441\r\n\r\nhave a `1970-01-01T00:00:01Z` timestamp which means that `EnsureBlockDataFromTime` will always check for the existence of all blocks between genesis and the current height. \r\n\r\nEven if that was not the case, because the nodes' wallets are initialized before we start generating blocks, the timestamp in the wallet dump is still before the first created block thus `EnsureBlockDataFromTime` checks for the existence of all blocks between the first block and the current height. \r\n\r\nThis behaviour will always result to missing blocks as soon as we start pruning. The reason that the first part of the test (`wallet_import_pruned_test`) is not failing is because it never reaches the prune state (height < PruntAfterHeight).\r\n\r\nI believe that you can better test for the new feature by overriding `setup_nodes` and initializing node1 wallet mid-test",
      "user": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#pullrequestreview-1036108749",
      "submitted_at": "2022-07-13T14:21:52Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7022792677,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAGil0_l",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7022792677",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-19T17:51:14Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7022873926,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAGimI1G",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7022873926",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-19T18:04:40Z"
    },
    {
      "event": "commented",
      "id": 1189924780,
      "node_id": "IC_kwDOABII585G7M-s",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1189924780",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-20T07:25:56Z",
      "updated_at": "2022-07-20T07:25:56Z",
      "author_association": "MEMBER",
      "body": "Thank you for your thorough review @kouloumos !\r\nI believe I have addressed all of your comments.",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#issuecomment-1189924780",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24865"
    },
    {
      "event": "mentioned",
      "id": 7026683624,
      "node_id": "MEE_lADOABII585H3RJHzwAAAAGi0q7o",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7026683624",
      "actor": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-20T07:25:56Z"
    },
    {
      "event": "subscribed",
      "id": 7026683633,
      "node_id": "SE_lADOABII585H3RJHzwAAAAGi0q7x",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7026683633",
      "actor": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-20T07:25:57Z"
    },
    {
      "event": "reviewed",
      "id": 1093078818,
      "node_id": "PRR_kwDOABII585BJw8i",
      "url": null,
      "actor": null,
      "commit_id": "45435bc688387db2fdf0550f48881a8cf60cbe0f",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#pullrequestreview-1093078818",
      "submitted_at": "2022-09-01T09:37:00Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7321587292,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAG0Zo5c",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7321587292",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-05T09:57:20Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7329153750,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAG02gLW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7329153750",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-06T10:32:02Z"
    },
    {
      "event": "reviewed",
      "id": 1099577939,
      "node_id": "PRR_kwDOABII585BijpT",
      "url": null,
      "actor": null,
      "commit_id": "0aedf6f3cb5a513f9e42458362261d4afa2ea17f",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Code review ACK 0aedf6f3cb5a513f9e42458362261d4afa2ea17f. Nice change and tests!",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#pullrequestreview-1099577939",
      "submitted_at": "2022-09-07T18:04:07Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7342769840,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAG1qcaw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7342769840",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-07T23:19:43Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7342798378,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAG1qjYq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7342798378",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-07T23:25:36Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7346501911,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAG14rkX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7346501911",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-08T10:46:34Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7347609548,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAG185_M",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7347609548",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-08T13:05:18Z"
    },
    {
      "event": "reviewed",
      "id": 1100921878,
      "node_id": "PRR_kwDOABII585BnrwW",
      "url": null,
      "actor": null,
      "commit_id": "f42c077a8f948f5c93b68eb1b7fa246b4f6475ef",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Code review ACK f42c077a8f948f5c93b68eb1b7fa246b4f6475ef. Just suggested changes since last review, and increasing sync_blocks timeout in the new test. Thanks for the updates!",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#pullrequestreview-1100921878",
      "submitted_at": "2022-09-08T15:42:03Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7350360033,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAG2HZfh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7350360033",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-08T18:24:51Z"
    },
    {
      "event": "commented",
      "id": 1241075255,
      "node_id": "IC_kwDOABII585J-U43",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1241075255",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-08T18:25:27Z",
      "updated_at": "2022-09-08T18:25:27Z",
      "author_association": "MEMBER",
      "body": "Thanks for the review again @ryanofsky, I think I've addressed all your comments.",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#issuecomment-1241075255",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24865"
    },
    {
      "event": "mentioned",
      "id": 7350363774,
      "node_id": "MEE_lADOABII585H3RJHzwAAAAG2HaZ-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7350363774",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-08T18:25:27Z"
    },
    {
      "event": "subscribed",
      "id": 7350363786,
      "node_id": "SE_lADOABII585H3RJHzwAAAAG2HaaK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7350363786",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-08T18:25:27Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7350375279,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAG2HdNv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7350375279",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-08T18:27:13Z"
    },
    {
      "event": "reviewed",
      "id": 1104645206,
      "node_id": "PRR_kwDOABII585B14xW",
      "url": null,
      "actor": null,
      "commit_id": "05463d4001001213c17672c1607a3a493927ddd7",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Code review ACK 05463d4001001213c17672c1607a3a493927ddd7. Only changes since last review were some suggested cleanups & simplifications",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#pullrequestreview-1104645206",
      "submitted_at": "2022-09-12T18:39:47Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7375075875,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAG3lroj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7375075875",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-13T10:02:16Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7375797182,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAG3obu-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7375797182",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-13T11:40:35Z"
    },
    {
      "event": "reviewed",
      "id": 1106185979,
      "node_id": "PRR_kwDOABII585B7w77",
      "url": null,
      "actor": null,
      "commit_id": "6dc2e7141de83022f0ca0c48afd5ea7e5c4684d0",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Code review ACK 6dc2e7141de83022f0ca0c48afd5ea7e5c4684d0. Only change since last review is changing bigScript back to big_script",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#pullrequestreview-1106185979",
      "submitted_at": "2022-09-13T17:22:51Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
    },
    {
      "event": "reviewed",
      "id": 1106622646,
      "node_id": "PRR_kwDOABII585B9bi2",
      "url": null,
      "actor": null,
      "commit_id": "6dc2e7141de83022f0ca0c48afd5ea7e5c4684d0",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK https://github.com/bitcoin/bitcoin/pull/24865/commits/6dc2e7141de83022f0ca0c48afd5ea7e5c4684d0",
      "user": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#pullrequestreview-1106622646",
      "submitted_at": "2022-09-14T01:20:19Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
    },
    {
      "event": "commented",
      "id": 1249335831,
      "node_id": "IC_kwDOABII585Kd1oX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1249335831",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-16T12:58:32Z",
      "updated_at": "2022-09-16T12:58:32Z",
      "author_association": "MEMBER",
      "body": "Fixes #9409.",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#issuecomment-1249335831",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24865"
    },
    {
      "event": "connected",
      "id": 7403139459,
      "node_id": "COE_lADOABII585H3RJHzwAAAAG5QvGD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7403139459",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-16T13:14:25Z"
    },
    {
      "event": "reviewed",
      "id": 1126791749,
      "node_id": "PRR_kwDOABII585DKXpF",
      "url": null,
      "actor": null,
      "commit_id": "6dc2e7141de83022f0ca0c48afd5ea7e5c4684d0",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "reACK 6dc2e7141de83022f0ca0c48afd5ea7e5c4684d0\r\n\r\nI've also verified the expected behavior on a pruned signet node by dumping the wallet and then manually changing the timestamps in the file to simulate older keys for which the block data do not exist (pruned).\r\n\r\nDoes it make sense to also add a check (in the functional tests), that after restoring, the wallet correctly accounts for balances and maybe addresses? Or that's redundant because a similar check exists at `wallet_dump.py`?\r\nhttps://github.com/bitcoin/bitcoin/blob/33eef562a321ce772a9a88073a78a85894cb3fe8/test/functional/wallet_dump.py#L198-L206 ",
      "user": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#pullrequestreview-1126791749",
      "submitted_at": "2022-09-30T13:34:35Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7502248996,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAG_Kzwk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7502248996",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-02T16:22:39Z"
    },
    {
      "event": "commented",
      "id": 1264680594,
      "node_id": "IC_kwDOABII585LYX6S",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1264680594",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-02T16:22:49Z",
      "updated_at": "2022-10-02T16:22:49Z",
      "author_association": "MEMBER",
      "body": "Thank you @kouloumos for your review.\r\nI have reworked the test to take your comments into account and also reduce the time it takes to run.\r\nIt took 1min24 to run and reduced it to 54 seconds (on my machine).\r\nAlso added more comments to explain each step of the test and split the PR into two commits.",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#issuecomment-1264680594",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24865"
    },
    {
      "event": "mentioned",
      "id": 7502249216,
      "node_id": "MEE_lADOABII585H3RJHzwAAAAG_Kz0A",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7502249216",
      "actor": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-02T16:22:49Z"
    },
    {
      "event": "subscribed",
      "id": 7502249218,
      "node_id": "SE_lADOABII585H3RJHzwAAAAG_Kz0C",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7502249218",
      "actor": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-02T16:22:49Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7502251518,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAG_K0X-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7502251518",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-02T16:24:27Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7502284131,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAG_K8Vj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7502284131",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-02T16:50:10Z"
    },
    {
      "event": "commented",
      "id": 1264686399,
      "node_id": "IC_kwDOABII585LYZU_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1264686399",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-02T16:51:02Z",
      "updated_at": "2022-10-02T16:51:02Z",
      "author_association": "MEMBER",
      "body": "Added a test case to check that the wallet balance is correct.  ",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#issuecomment-1264686399",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24865"
    },
    {
      "event": "commented",
      "id": 1284041300,
      "node_id": "IC_kwDOABII585MiOpU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1284041300",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-19T13:44:03Z",
      "updated_at": "2022-10-19T13:44:03Z",
      "author_association": "CONTRIBUTOR",
      "body": "Sorry, I didn't check that https://github.com/bitcoin/bitcoin/pull/26206 will actually conflict with this PR. This needs a rebase on top of it and then revert that commit in this PR.",
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#issuecomment-1284041300",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24865"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7622447585,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAHGVVHh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7622447585",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-19T14:49:53Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7622467277,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAHGVZ7N",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7622467277",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-19T14:51:56Z"
    },
    {
      "event": "commented",
      "id": 1284145211,
      "node_id": "IC_kwDOABII585MioA7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1284145211",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-19T14:53:22Z",
      "updated_at": "2022-10-19T14:53:22Z",
      "author_association": "MEMBER",
      "body": "Rebased, reverted 4aff7a48a4e0f1075306f181a276b8a74c857022 and added @ryanofsky and @kouloumos as co-authors.",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#issuecomment-1284145211",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24865"
    },
    {
      "event": "mentioned",
      "id": 7622482073,
      "node_id": "MEE_lADOABII585H3RJHzwAAAAHGVdiZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7622482073",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-19T14:53:22Z"
    },
    {
      "event": "subscribed",
      "id": 7622482098,
      "node_id": "SE_lADOABII585H3RJHzwAAAAHGVdiy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7622482098",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-19T14:53:22Z"
    },
    {
      "event": "mentioned",
      "id": 7622482132,
      "node_id": "MEE_lADOABII585H3RJHzwAAAAHGVdjU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7622482132",
      "actor": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-19T14:53:22Z"
    },
    {
      "event": "subscribed",
      "id": 7622482150,
      "node_id": "SE_lADOABII585H3RJHzwAAAAHGVdjm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7622482150",
      "actor": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-19T14:53:22Z"
    },
    {
      "event": "reviewed",
      "id": 1148476520,
      "node_id": "PRR_kwDOABII585EdFxo",
      "url": null,
      "actor": null,
      "commit_id": "661e45300a754bd32d3558d94f56ae2d3cd87844",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "",
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#pullrequestreview-1148476520",
      "submitted_at": "2022-10-20T02:55:34Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
    },
    {
      "event": "commented",
      "id": 1289350453,
      "node_id": "IC_kwDOABII585M2e01",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1289350453",
      "actor": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-24T17:20:08Z",
      "updated_at": "2022-10-24T17:20:08Z",
      "author_association": "MEMBER",
      "body": "Does this need a rebase after https://github.com/bitcoin/bitcoin/pull/26380?",
      "user": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#issuecomment-1289350453",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24865"
    },
    {
      "event": "closed",
      "id": 7656067822,
      "node_id": "CE_lADOABII585H3RJHzwAAAAHIVlLu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7656067822",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-24T17:24:53Z"
    },
    {
      "event": "reopened",
      "id": 7656068241,
      "node_id": "REE_lADOABII585H3RJHzwAAAAHIVlSR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7656068241",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-24T17:24:56Z"
    },
    {
      "event": "reviewed",
      "id": 1154262435,
      "node_id": "PRR_kwDOABII585EzKWj",
      "url": null,
      "actor": null,
      "commit_id": "661e45300a754bd32d3558d94f56ae2d3cd87844",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#pullrequestreview-1154262435",
      "submitted_at": "2022-10-25T07:20:59Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7661298789,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAHIpiRl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7661298789",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-25T08:38:46Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7661307181,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAHIpkUt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7661307181",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-25T08:39:41Z"
    },
    {
      "event": "commented",
      "id": 1290197033,
      "node_id": "IC_kwDOABII585M5tgp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1290197033",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-25T08:40:14Z",
      "updated_at": "2022-10-25T08:40:14Z",
      "author_association": "MEMBER",
      "body": "Dropped e1eadaa72d6831d1d0a53ba97c215dc4cdb64436, rebased for #26380 and addressed MarcoFalke's nit. ",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#issuecomment-1290197033",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24865"
    },
    {
      "event": "reviewed",
      "id": 1162371128,
      "node_id": "PRR_kwDOABII585FSGA4",
      "url": null,
      "actor": null,
      "commit_id": "6abd81b11dd1a45bdffcc85ba90591474a3f48b0",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#pullrequestreview-1162371128",
      "submitted_at": "2022-10-31T18:55:17Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
    },
    {
      "event": "reviewed",
      "id": 1162828009,
      "node_id": "PRR_kwDOABII585FT1jp",
      "url": null,
      "actor": null,
      "commit_id": "6abd81b11dd1a45bdffcc85ba90591474a3f48b0",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#pullrequestreview-1162828009",
      "submitted_at": "2022-11-01T04:54:58Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
    },
    {
      "event": "reviewed",
      "id": 1162835996,
      "node_id": "PRR_kwDOABII585FT3gc",
      "url": null,
      "actor": null,
      "commit_id": "6abd81b11dd1a45bdffcc85ba90591474a3f48b0",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK https://github.com/bitcoin/bitcoin/pull/24865/commits/6abd81b11dd1a45bdffcc85ba90591474a3f48b0",
      "user": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#pullrequestreview-1162835996",
      "submitted_at": "2022-11-01T05:11:01Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7712494645,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAHLs1Q1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7712494645",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-01T11:31:40Z"
    },
    {
      "event": "commented",
      "id": 1298386723,
      "node_id": "IC_kwDOABII585NY88j",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1298386723",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-01T11:32:18Z",
      "updated_at": "2022-11-01T11:32:18Z",
      "author_association": "MEMBER",
      "body": "Addressed the suggestions, thanks @achow101 @w0xlt.",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#issuecomment-1298386723",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24865"
    },
    {
      "event": "mentioned",
      "id": 7712498525,
      "node_id": "MEE_lADOABII585H3RJHzwAAAAHLs2Nd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7712498525",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-01T11:32:18Z"
    },
    {
      "event": "subscribed",
      "id": 7712498535,
      "node_id": "SE_lADOABII585H3RJHzwAAAAHLs2Nn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7712498535",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-01T11:32:18Z"
    },
    {
      "event": "mentioned",
      "id": 7712498549,
      "node_id": "MEE_lADOABII585H3RJHzwAAAAHLs2N1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7712498549",
      "actor": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-01T11:32:18Z"
    },
    {
      "event": "subscribed",
      "id": 7712498561,
      "node_id": "SE_lADOABII585H3RJHzwAAAAHLs2OB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7712498561",
      "actor": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-01T11:32:18Z"
    },
    {
      "event": "reviewed",
      "id": 1163929402,
      "node_id": "PRR_kwDOABII585FYCc6",
      "url": null,
      "actor": null,
      "commit_id": "a0762cf6ec0bbc5eb770912a1ab917862f5515ca",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#pullrequestreview-1163929402",
      "submitted_at": "2022-11-01T19:28:45Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7722127276,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAHMRk-s",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7722127276",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-02T10:53:41Z"
    },
    {
      "event": "commented",
      "id": 1300684204,
      "node_id": "IC_kwDOABII585Nht2s",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1300684204",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-02T15:29:59Z",
      "updated_at": "2022-11-02T15:29:59Z",
      "author_association": "CONTRIBUTOR",
      "body": "You should rebase to fix ci test failure for `p2p_sendtxrcncl.py`.",
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#issuecomment-1300684204",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24865"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7724819421,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAHMb2Pd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7724819421",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-02T15:52:03Z"
    },
    {
      "event": "commented",
      "id": 1300744287,
      "node_id": "IC_kwDOABII585Nh8hf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1300744287",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-02T15:53:12Z",
      "updated_at": "2022-11-02T15:53:12Z",
      "author_association": "MEMBER",
      "body": "> You should rebase to fix ci test failure for p2p_sendtxrcncl.\r\n\r\n:heavy_check_mark: ",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#issuecomment-1300744287",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24865"
    },
    {
      "event": "reviewed",
      "id": 1168712278,
      "node_id": "PRR_kwDOABII585FqSJW",
      "url": null,
      "actor": null,
      "commit_id": "c46f5fe58e60ad1ff25978604243a90fce6b634c",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Code ACK c46f5fe5",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#pullrequestreview-1168712278",
      "submitted_at": "2022-11-04T15:04:38Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
    },
    {
      "event": "reviewed",
      "id": 1175989744,
      "node_id": "PRR_kwDOABII585GGC3w",
      "url": null,
      "actor": null,
      "commit_id": "c46f5fe58e60ad1ff25978604243a90fce6b634c",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#pullrequestreview-1175989744",
      "submitted_at": "2022-11-10T15:37:58Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7791165772,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAHQY8FM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7791165772",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-11T10:53:24Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7791199962,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAHQZEba",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7791199962",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-11T10:58:30Z"
    },
    {
      "event": "commented",
      "id": 1311548897,
      "node_id": "IC_kwDOABII585OLKXh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1311548897",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-11T10:59:44Z",
      "updated_at": "2022-11-15T15:05:42Z",
      "author_association": "MEMBER",
      "body": "Addressed the nits, thanks @furszy @theStack.\r\nhttps://github.com/bitcoin/bitcoin/compare/c46f5fe58e60ad1ff25978604243a90fce6b634c..eb2e54d00e7c03e0ca5238a2fabe078fca08b1c2\r\n\r\nI added eb2e54d00e7c03e0ca5238a2fabe078fca08b1c2.",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#issuecomment-1311548897",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24865"
    },
    {
      "event": "mentioned",
      "id": 7791207799,
      "node_id": "MEE_lADOABII585H3RJHzwAAAAHQZGV3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7791207799",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-11T10:59:44Z"
    },
    {
      "event": "subscribed",
      "id": 7791207808,
      "node_id": "SE_lADOABII585H3RJHzwAAAAHQZGWA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7791207808",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-11T10:59:44Z"
    },
    {
      "event": "mentioned",
      "id": 7791207813,
      "node_id": "MEE_lADOABII585H3RJHzwAAAAHQZGWF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7791207813",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-11T10:59:44Z"
    },
    {
      "event": "subscribed",
      "id": 7791207817,
      "node_id": "SE_lADOABII585H3RJHzwAAAAHQZGWJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7791207817",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-11T10:59:44Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7823238524,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAHSTSV8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7823238524",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-16T12:04:26Z"
    },
    {
      "event": "commented",
      "id": 1316909151,
      "node_id": "IC_kwDOABII585OfnBf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1316909151",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-16T12:09:12Z",
      "updated_at": "2022-11-16T12:09:12Z",
      "author_association": "MEMBER",
      "body": "Reduced the number of blocks generated to speed up the test (from 1:40 to 1:24).",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#issuecomment-1316909151",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24865"
    },
    {
      "event": "reviewed",
      "id": 1193334619,
      "node_id": "PRR_kwDOABII585HINdb",
      "url": null,
      "actor": null,
      "commit_id": "c594dbc7560f18a657bd624983ca58732b0f3183",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "The functional test got me really confused on what it is testing and how it is testing it. It might be because I am re-reviewing this after 55 days, but I think that some simplification (left comments inline) as well as commenting on the basis of the change and not on what the code does could help with that.\r\n\r\nWhat the test does (afaiu) is simulating 2 different wallets with 2 different birth heights\r\n`wallet_birthheight_1` < `wallet_birthheight_2`\r\nIt then prunes below `birthheight_2` to:\r\n\r\n- check with `test_wallet_import_pruned_test` that `wallet_birthheight_2` is imported correctly.\r\n- check with `test_wallet_import_pruned_with_missing_blocks` that `wallet_birthheight_1` cannot imported correctly.\r\n\r\nBased on the test overview above and some comments that I left inline, I did some implementation-logic restructuring and added a few comments that I think can help with comprehension. You can find my changes at 69b9b6247305d06168f58e9e156807e09a925bf6 ([diff](https://github.com/bitcoin/bitcoin/compare/c594dbc7560f18a657bd624983ca58732b0f3183...69b9b6247305d06168f58e9e156807e09a925bf6)), feel free to pick whatever you like.",
      "user": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#pullrequestreview-1193334619",
      "submitted_at": "2022-11-25T13:56:34Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7897326069,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAHWt6H1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7897326069",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-27T10:06:47Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7897335651,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAHWt8dj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7897335651",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-27T10:14:52Z"
    },
    {
      "event": "commented",
      "id": 1328213712,
      "node_id": "IC_kwDOABII585PKu7Q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1328213712",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-27T10:16:00Z",
      "updated_at": "2022-11-27T10:16:00Z",
      "author_association": "MEMBER",
      "body": "Thanks for your detailed review @kouloumos. I cherry-picked your commit and squashed it. I also addressed some of your additional suggestions.\r\n",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#issuecomment-1328213712",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24865"
    },
    {
      "event": "mentioned",
      "id": 7897336877,
      "node_id": "MEE_lADOABII585H3RJHzwAAAAHWt8wt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7897336877",
      "actor": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-27T10:16:00Z"
    },
    {
      "event": "subscribed",
      "id": 7897336881,
      "node_id": "SE_lADOABII585H3RJHzwAAAAHWt8wx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7897336881",
      "actor": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-27T10:16:00Z"
    },
    {
      "event": "commented",
      "id": 1328879005,
      "node_id": "IC_kwDOABII585PNRWd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1328879005",
      "actor": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-28T10:54:17Z",
      "updated_at": "2022-11-28T10:54:17Z",
      "author_association": "MEMBER",
      "body": "ACK 8e87433a4460088d15275623f0b6f1893af28d82\r\nnit: The `MIN_BLOCKS_TO_KEEP` constant is not used anymore in the test, which makes 8e87433a4460088d15275623f0b6f1893af28d82 out of scope.",
      "user": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#issuecomment-1328879005",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24865"
    },
    {
      "event": "referenced",
      "id": 7920109717,
      "node_id": "REFE_lADOABII585H3RJHzwAAAAHYE0iV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7920109717",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "3be21060d6f33fe9bfcf531f1d2921302b5d3c26",
      "commit_url": "https://api.github.com/repos/bitcoin-core/gui/commits/3be21060d6f33fe9bfcf531f1d2921302b5d3c26",
      "created_at": "2022-11-30T09:25:20Z"
    },
    {
      "event": "commented",
      "id": 1341249643,
      "node_id": "IC_kwDOABII585P8dhr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1341249643",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-07T16:37:52Z",
      "updated_at": "2022-12-07T16:37:52Z",
      "author_association": "MEMBER",
      "body": "This is adding a new test `wallet_pruning.py`, but I can't find it in the CI output at all. Does anyone see what is going on here?",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#issuecomment-1341249643",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24865"
    },
    {
      "event": "commented",
      "id": 1341260015,
      "node_id": "IC_kwDOABII585P8gDv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1341260015",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-07T16:45:55Z",
      "updated_at": "2022-12-07T16:46:57Z",
      "author_association": "MEMBER",
      "body": "Is it becuase it's in EXTENDED_SCRIPTS? That is the job that's failing, and didn't make it to the functional tests: https://github.com/bitcoin/bitcoin/pull/24865/checks?check_run_id=9728080972.",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#issuecomment-1341260015",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24865"
    },
    {
      "event": "commented",
      "id": 1341263811,
      "node_id": "IC_kwDOABII585P8g_D",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1341263811",
      "actor": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-07T16:48:53Z",
      "updated_at": "2022-12-07T16:48:53Z",
      "author_association": "MEMBER",
      "body": "\r\nIt also runs as part of [Win64 native [vs2022]](https://github.com/bitcoin/bitcoin/pull/24865/checks?check_run_id=9728080955). I can see that the extended tests run there and `wallet_pruning.py` runs successfully.",
      "user": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#issuecomment-1341263811",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24865"
    },
    {
      "event": "commented",
      "id": 1341266216,
      "node_id": "IC_kwDOABII585P8hko",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1341266216",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-07T16:50:39Z",
      "updated_at": "2022-12-07T16:50:39Z",
      "author_association": "MEMBER",
      "body": "Ah thx. Maybe there should be a `skip_if_not_running_extended` :sweat_smile: ?\r\n\r\n\r\nAlso, I think this needs a rebase, see upcoming CI failure in https://cirrus-ci.com/task/6513158118965248",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#issuecomment-1341266216",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24865"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7981758101,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAHbv_aV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7981758101",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-07T20:37:00Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGU2OTA2ZmNmOWU0ZDU2OTJlYWQ2YzliZjVhMmUxMTY3MzMxNWExZjU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e6906fcf9e4d5692ead6c9bf5a2e11673315a1f5",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e6906fcf9e4d5692ead6c9bf5a2e11673315a1f5",
      "tree": {
        "sha": "71d2f0c313267a51649b6c81a18f58178613386c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/71d2f0c313267a51649b6c81a18f58178613386c"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 71d2f0c313267a51649b6c81a18f58178613386c\nparent 1801d8c3c900d0c3a0d05f9ec096419e3f286f6b\nauthor Aurèle Oulès <aurele@oules.com> 1664727671 +0200\ncommitter Aurèle Oulès <aurele@oules.com> 1670498619 +0100\n\nrpc: Enable wallet import on pruned nodes\n\nCo-authored-by: João Barbosa <joao.paulo.barbosa@gmail.com>\nCo-authored-by: Ryan Ofsky <ryan@ofsky.org>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niHUEABYKAB0WIQRWpTAYMQugla4ROcBV85dvcAHZmAUCY5HJOwAKCRBV85dvcAHZ\nmJ0rAP9qFEpDZA7WRVk2gFxkOf9THC41UaiK6twUFh3JxpuHGQD+Ki/z3ox78ibv\nLIeiZHr2oebnInkZxf8kjPF7x0Q1IA0=\n=RJjB\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1801d8c3c900d0c3a0d05f9ec096419e3f286f6b",
          "sha": "1801d8c3c900d0c3a0d05f9ec096419e3f286f6b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/1801d8c3c900d0c3a0d05f9ec096419e3f286f6b"
        }
      ],
      "message": "rpc: Enable wallet import on pruned nodes\n\nCo-authored-by: João Barbosa <joao.paulo.barbosa@gmail.com>\nCo-authored-by: Ryan Ofsky <ryan@ofsky.org>",
      "committer": {
        "name": "Aurèle Oulès",
        "email": "aurele@oules.com",
        "date": "2022-12-08T11:23:39Z"
      },
      "author": {
        "name": "Aurèle Oulès",
        "email": "aurele@oules.com",
        "date": "2022-10-02T16:21:11Z"
      },
      "sha": "e6906fcf9e4d5692ead6c9bf5a2e11673315a1f5"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7988128718,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAHcISvO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7988128718",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-08T11:39:00Z"
    },
    {
      "event": "commented",
      "id": 1342687822,
      "node_id": "IC_kwDOABII585QB8pO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1342687822",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-08T12:53:34Z",
      "updated_at": "2022-12-09T10:35:38Z",
      "author_association": "MEMBER",
      "body": "Rebased to address silent conflicts.",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#issuecomment-1342687822",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24865"
    },
    {
      "event": "commented",
      "id": 1352286625,
      "node_id": "IC_kwDOABII585QmkGh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1352286625",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-14T22:10:55Z",
      "updated_at": "2022-12-14T22:10:55Z",
      "author_association": "MEMBER",
      "body": "ACK 63493d778f443554059d77bd8c9b1a926685a892",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#issuecomment-1352286625",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24865"
    },
    {
      "event": "reviewed",
      "id": 1218710412,
      "node_id": "PRR_kwDOABII585IpAuM",
      "url": null,
      "actor": null,
      "commit_id": "63493d778f443554059d77bd8c9b1a926685a892",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#pullrequestreview-1218710412",
      "submitted_at": "2022-12-15T07:37:37Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDcxZDlhN2MwM2I0NDIzNmMyZmVhMmI3NGY5MmE2OTIzNGQyOWY3MTc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/71d9a7c03b44236c2fea2b74f92a69234d29f717",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/71d9a7c03b44236c2fea2b74f92a69234d29f717",
      "tree": {
        "sha": "72d6f6b22516a92594de2e002b62733844b443f7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/72d6f6b22516a92594de2e002b62733844b443f7"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 72d6f6b22516a92594de2e002b62733844b443f7\nparent e6906fcf9e4d5692ead6c9bf5a2e11673315a1f5\nauthor Aurèle Oulès <aurele@oules.com> 1664727701 +0200\ncommitter Aurèle Oulès <aurele@oules.com> 1671094430 +0100\n\ntest: Wallet imports on pruned nodes\n\nCo-authored-by: Ryan Ofsky <ryan@ofsky.org>\nCo-authored-by: Andreas Kouloumos <kouloumosa@gmail.com>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niHUEABYKAB0WIQRWpTAYMQugla4ROcBV85dvcAHZmAUCY5rgngAKCRBV85dvcAHZ\nmDsgAQD/VEeFTSFD/rauq5BlrsE4CLMPEEi5voln4gP17th3dAEA45lpfQhT6+wT\n3HjfdpEPivmc+gqE2RU7WmkvP2Ghmgs=\n=9Mbq\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e6906fcf9e4d5692ead6c9bf5a2e11673315a1f5",
          "sha": "e6906fcf9e4d5692ead6c9bf5a2e11673315a1f5",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/e6906fcf9e4d5692ead6c9bf5a2e11673315a1f5"
        }
      ],
      "message": "test: Wallet imports on pruned nodes\n\nCo-authored-by: Ryan Ofsky <ryan@ofsky.org>\nCo-authored-by: Andreas Kouloumos <kouloumosa@gmail.com>",
      "committer": {
        "name": "Aurèle Oulès",
        "email": "aurele@oules.com",
        "date": "2022-12-15T08:53:50Z"
      },
      "author": {
        "name": "Aurèle Oulès",
        "email": "aurele@oules.com",
        "date": "2022-10-02T16:21:41Z"
      },
      "sha": "71d9a7c03b44236c2fea2b74f92a69234d29f717"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDU2NGI1ODBiZjA3NzQyNDgzYTE0MGM3YzA5NWI4OTZhNmQ1ZDZjYWQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/564b580bf07742483a140c7c095b896a6d5d6cad",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/564b580bf07742483a140c7c095b896a6d5d6cad",
      "tree": {
        "sha": "8563f2d234fa5341b3d3ba51201a27577472c3bf",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8563f2d234fa5341b3d3ba51201a27577472c3bf"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 8563f2d234fa5341b3d3ba51201a27577472c3bf\nparent 71d9a7c03b44236c2fea2b74f92a69234d29f717\nauthor Aurèle Oulès <aurele@oules.com> 1669543384 +0100\ncommitter Aurèle Oulès <aurele@oules.com> 1671094431 +0100\n\ntest: Introduce MIN_BLOCKS_TO_KEEP constant\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niHUEABYKAB0WIQRWpTAYMQugla4ROcBV85dvcAHZmAUCY5rgnwAKCRBV85dvcAHZ\nmPyDAP0WsnnMs5X4yNmsT1AyMIZK9qiOPPyEOnwkSJ3aq+7piAD/Q33qC0S6wNRD\nJjvIj8/ob6KC7b9vunJhV6K/2lXcSw8=\n=NRZj\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/71d9a7c03b44236c2fea2b74f92a69234d29f717",
          "sha": "71d9a7c03b44236c2fea2b74f92a69234d29f717",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/71d9a7c03b44236c2fea2b74f92a69234d29f717"
        }
      ],
      "message": "test: Introduce MIN_BLOCKS_TO_KEEP constant",
      "committer": {
        "name": "Aurèle Oulès",
        "email": "aurele@oules.com",
        "date": "2022-12-15T08:53:51Z"
      },
      "author": {
        "name": "Aurèle Oulès",
        "email": "aurele@oules.com",
        "date": "2022-11-27T10:03:04Z"
      },
      "sha": "564b580bf07742483a140c7c095b896a6d5d6cad"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8045020732,
      "node_id": "HRFPE_lADOABII585H3RJHzwAAAAHfhUY8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8045020732",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-15T08:54:08Z"
    },
    {
      "event": "commented",
      "id": 1352740062,
      "node_id": "IC_kwDOABII585QoSze",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1352740062",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-15T08:54:14Z",
      "updated_at": "2022-12-15T08:54:14Z",
      "author_association": "MEMBER",
      "body": "Thanks @kouloumos I addressed your comments.",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#issuecomment-1352740062",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24865"
    },
    {
      "event": "mentioned",
      "id": 8045021575,
      "node_id": "MEE_lADOABII585H3RJHzwAAAAHfhUmH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8045021575",
      "actor": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-15T08:54:14Z"
    },
    {
      "event": "subscribed",
      "id": 8045021583,
      "node_id": "SE_lADOABII585H3RJHzwAAAAHfhUmP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8045021583",
      "actor": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-15T08:54:14Z"
    },
    {
      "event": "review_requested",
      "id": 8045024588,
      "node_id": "RRE_lADOABII585H3RJHzwAAAAHfhVVM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8045024588",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-15T08:54:36Z",
      "requested_reviewer": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "review_request_removed",
      "id": 8045024860,
      "node_id": "RRRE_lADOABII585H3RJHzwAAAAHfhVZc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8045024860",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-15T08:54:38Z",
      "requested_reviewer": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "review_requested",
      "id": 8045024881,
      "node_id": "RRE_lADOABII585H3RJHzwAAAAHfhVZx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8045024881",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-15T08:54:38Z",
      "requested_reviewer": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "review_request_removed",
      "id": 8045025251,
      "node_id": "RRRE_lADOABII585H3RJHzwAAAAHfhVfj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8045025251",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-15T08:54:41Z",
      "requested_reviewer": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "review_requested",
      "id": 8045025261,
      "node_id": "RRE_lADOABII585H3RJHzwAAAAHfhVft",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8045025261",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-15T08:54:41Z",
      "requested_reviewer": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "review_request_removed",
      "id": 8045025696,
      "node_id": "RRRE_lADOABII585H3RJHzwAAAAHfhVmg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8045025696",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-15T08:54:44Z",
      "requested_reviewer": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "review_requested",
      "id": 8045025708,
      "node_id": "RRE_lADOABII585H3RJHzwAAAAHfhVms",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8045025708",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-15T08:54:44Z",
      "requested_reviewer": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "review_request_removed",
      "id": 8045025970,
      "node_id": "RRRE_lADOABII585H3RJHzwAAAAHfhVqy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8045025970",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-15T08:54:46Z",
      "requested_reviewer": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "review_requested",
      "id": 8045025979,
      "node_id": "RRE_lADOABII585H3RJHzwAAAAHfhVq7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8045025979",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-15T08:54:46Z",
      "requested_reviewer": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "commented",
      "id": 1352743819,
      "node_id": "IC_kwDOABII585QoTuL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1352743819",
      "actor": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-15T08:58:10Z",
      "updated_at": "2022-12-15T08:58:10Z",
      "author_association": "MEMBER",
      "body": "ACK 564b580bf07742483a140c7c095b896a6d5d6cad",
      "user": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#issuecomment-1352743819",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24865"
    },
    {
      "event": "reviewed",
      "id": 1219783365,
      "node_id": "PRR_kwDOABII585ItGrF",
      "url": null,
      "actor": null,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK 564b580\r\nleft few non-blocking nits.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#pullrequestreview-1219783365",
      "submitted_at": "2022-12-15T19:11:05Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
    },
    {
      "event": "reviewed",
      "id": 1220950758,
      "node_id": "PRR_kwDOABII585Ixjrm",
      "url": null,
      "actor": null,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK https://github.com/bitcoin/bitcoin/pull/24865/commits/564b580bf07742483a140c7c095b896a6d5d6cad",
      "user": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#pullrequestreview-1220950758",
      "submitted_at": "2022-12-16T14:36:18Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
    },
    {
      "event": "commented",
      "id": 1355722323,
      "node_id": "IC_kwDOABII585Qzq5T",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1355722323",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-16T22:19:12Z",
      "updated_at": "2022-12-16T22:19:12Z",
      "author_association": "MEMBER",
      "body": "reACK 564b580bf07742483a140c7c095b896a6d5d6cad",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#issuecomment-1355722323",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24865"
    },
    {
      "event": "merged",
      "id": 8060275355,
      "node_id": "ME_lADOABII585H3RJHzwAAAAHgbgqb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8060275355",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "66c08e741dc8d0bbe52fcdd9202858394491e773",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/66c08e741dc8d0bbe52fcdd9202858394491e773",
      "created_at": "2022-12-16T22:31:21Z"
    },
    {
      "event": "closed",
      "id": 8060275377,
      "node_id": "CE_lADOABII585H3RJHzwAAAAHgbgqx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8060275377",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-16T22:31:21Z"
    },
    {
      "event": "referenced",
      "id": 8062315900,
      "node_id": "REFE_lADOABII585H3RJHzwAAAAHgjS18",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8062315900",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "59bb1c83655ec3ea281a7734bcd7ea26b17f23e8",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/59bb1c83655ec3ea281a7734bcd7ea26b17f23e8",
      "created_at": "2022-12-17T18:17:01Z"
    },
    {
      "event": "reviewed",
      "id": 1223242699,
      "node_id": "PRR_kwDOABII585I6TPL",
      "url": null,
      "actor": null,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#pullrequestreview-1223242699",
      "submitted_at": "2022-12-19T17:06:05Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
    },
    {
      "event": "head_ref_deleted",
      "id": 8210567185,
      "node_id": "HRDE_lADOABII585H3RJHzwAAAAHpY1AR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8210567185",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-12T11:51:48Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/851517641",
      "pull_request_review_id": 943745563,
      "id": 851517641,
      "node_id": "PRRC_kwDOABII584ywSDJ",
      "diff_hunk": "@@ -0,0 +1,161 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import (\n+    assert_raises_rpc_error,\n+)\n+\n+from test_framework.blocktools import (create_coinbase)",
      "path": "test/functional/wallet_pruning.py",
      "position": null,
      "original_position": 13,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "35432901b42c27e0ee0abe2a32a4d13e10ab14cc",
      "in_reply_to_id": null,
      "user": {
        "login": "vincenzopalazzo",
        "id": 17150045,
        "node_id": "MDQ6VXNlcjE3MTUwMDQ1",
        "avatar_url": "https://avatars.githubusercontent.com/u/17150045?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vincenzopalazzo",
        "html_url": "https://github.com/vincenzopalazzo",
        "followers_url": "https://api.github.com/users/vincenzopalazzo/followers",
        "following_url": "https://api.github.com/users/vincenzopalazzo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vincenzopalazzo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vincenzopalazzo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vincenzopalazzo/subscriptions",
        "organizations_url": "https://api.github.com/users/vincenzopalazzo/orgs",
        "repos_url": "https://api.github.com/users/vincenzopalazzo/repos",
        "events_url": "https://api.github.com/users/vincenzopalazzo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vincenzopalazzo/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\nfrom test_framework.blocktools import create_coinbase\r\n```",
      "created_at": "2022-04-15T21:13:32Z",
      "updated_at": "2022-04-15T21:15:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r851517641",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/851517641"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 13,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/851517958",
      "pull_request_review_id": 943745563,
      "id": 851517958,
      "node_id": "PRRC_kwDOABII584ywSIG",
      "diff_hunk": "@@ -0,0 +1,161 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import (\n+    assert_raises_rpc_error,\n+)\n+\n+from test_framework.blocktools import (create_coinbase)\n+from test_framework.messages import CBlock\n+from test_framework.script import (\n+    CScript,\n+    OP_NOP,\n+    OP_RETURN,\n+)\n+from test_framework.wallet_util import (\n+    get_key,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+class WalletPruningTest(BitcoinTestFramework):",
      "path": "test/functional/wallet_pruning.py",
      "position": 23,
      "original_position": 25,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "35432901b42c27e0ee0abe2a32a4d13e10ab14cc",
      "in_reply_to_id": null,
      "user": {
        "login": "vincenzopalazzo",
        "id": 17150045,
        "node_id": "MDQ6VXNlcjE3MTUwMDQ1",
        "avatar_url": "https://avatars.githubusercontent.com/u/17150045?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vincenzopalazzo",
        "html_url": "https://github.com/vincenzopalazzo",
        "followers_url": "https://api.github.com/users/vincenzopalazzo/followers",
        "following_url": "https://api.github.com/users/vincenzopalazzo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vincenzopalazzo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vincenzopalazzo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vincenzopalazzo/subscriptions",
        "organizations_url": "https://api.github.com/users/vincenzopalazzo/orgs",
        "repos_url": "https://api.github.com/users/vincenzopalazzo/repos",
        "events_url": "https://api.github.com/users/vincenzopalazzo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vincenzopalazzo/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n\r\n\r\nclass WalletPruningTest(BitcoinTestFramework):\r\n```\r\n\r\nUsualy in python there are two spaces between class and the last import declaration",
      "created_at": "2022-04-15T21:14:13Z",
      "updated_at": "2022-04-15T21:15:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r851517958",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/851517958"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": 22,
      "original_start_line": 24,
      "start_side": "RIGHT",
      "line": 23,
      "original_line": 23,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/885807339",
      "pull_request_review_id": 990700101,
      "id": 885807339,
      "node_id": "PRRC_kwDOABII5840zFjr",
      "diff_hunk": "@@ -0,0 +1,157 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import assert_raises_rpc_error\n+from test_framework.blocktools import create_coinbase\n+from test_framework.messages import CBlock\n+from test_framework.script import (\n+    CScript,\n+    OP_NOP,\n+    OP_RETURN,\n+)\n+from test_framework.wallet_util import get_key\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class WalletPruningTest(BitcoinTestFramework):\n+    nTime = 0\n+    def mine_large_blocks(self, node, n):\n+        # Taken from test/functional/feature_pruning.py",
      "path": "test/functional/wallet_pruning.py",
      "position": null,
      "original_position": 24,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "46b7f731b1e98b0836c5b97cd99c0887d6173a17",
      "in_reply_to_id": null,
      "user": {
        "login": "Xekyo",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Xekyo",
        "html_url": "https://github.com/Xekyo",
        "followers_url": "https://api.github.com/users/Xekyo/followers",
        "following_url": "https://api.github.com/users/Xekyo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Xekyo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Xekyo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Xekyo/subscriptions",
        "organizations_url": "https://api.github.com/users/Xekyo/orgs",
        "repos_url": "https://api.github.com/users/Xekyo/repos",
        "events_url": "https://api.github.com/users/Xekyo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Xekyo/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "If we're reusing helper functions, perhaps we should extract them to a single place in a follow-up PR.",
      "created_at": "2022-05-31T15:47:11Z",
      "updated_at": "2022-05-31T16:00:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r885807339",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/885807339"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 23,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/885820729",
      "pull_request_review_id": 990700101,
      "id": 885820729,
      "node_id": "PRRC_kwDOABII5840zI05",
      "diff_hunk": "@@ -0,0 +1,157 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import assert_raises_rpc_error\n+from test_framework.blocktools import create_coinbase\n+from test_framework.messages import CBlock\n+from test_framework.script import (\n+    CScript,\n+    OP_NOP,\n+    OP_RETURN,\n+)\n+from test_framework.wallet_util import get_key\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class WalletPruningTest(BitcoinTestFramework):\n+    nTime = 0\n+    def mine_large_blocks(self, node, n):\n+        # Taken from test/functional/feature_pruning.py\n+\n+        # Make a large scriptPubKey for the coinbase transaction. This is OP_RETURN\n+        # followed by 950k of OP_NOP. This would be non-standard in a non-coinbase\n+        # transaction but is consensus valid.\n+\n+        # Get the block parameters for the first block\n+        big_script = CScript([OP_RETURN] + [OP_NOP] * 950000)\n+        best_block = node.getblock(node.getbestblockhash())\n+        height = int(best_block[\"height\"]) + 1\n+        self.nTime = max(self.nTime, int(best_block[\"time\"])) + 1\n+        previousblockhash = int(best_block[\"hash\"], 16)\n+\n+        for _ in range(n):\n+            # Build the coinbase transaction (with large scriptPubKey)\n+            coinbase_tx = create_coinbase(height)\n+            coinbase_tx.vin[0].nSequence = 2 ** 32 - 1\n+            coinbase_tx.vout[0].scriptPubKey = big_script\n+            coinbase_tx.rehash()\n+\n+            # Build the block\n+            block = CBlock()\n+            block.nVersion = best_block[\"version\"]\n+            block.hashPrevBlock = previousblockhash\n+            block.nTime = self.nTime\n+            block.nBits = int('207fffff', 16)\n+            block.nNonce = 0\n+            block.vtx = [coinbase_tx]\n+            block.hashMerkleRoot = block.calc_merkle_root()\n+            block.solve()\n+\n+            # Submit to the node\n+            node.submitblock(block.serialize().hex())\n+\n+            previousblockhash = block.sha256\n+            height += 1\n+\n+            # Simulate 10 minutes of work time per block\n+            # Important for matching a timestamp with a block +- some window\n+            self.nTime += 600\n+            for n in self.nodes:\n+                n.setmocktime(self.nTime) # Update nodes' time to accept future blocks\n+\n+\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+        self.extra_args = [\n+            [], # node dedicated to mining\n+            ['-prune=550'], # node dedicated to testing pruning\n+        ]\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def setup_network(self):\n+        self.setup_nodes()\n+        self.connect_nodes(0, 1)\n+        self.sync_all(self.nodes)\n+\n+    def create_big_chain(self):\n+        self.log.info(\"Generating a long chain of blocks...\")\n+        # Generate 288 light blocks, the minimum required to stay on disk with prune enabled\n+        self.generate(self.nodes[0], 288, sync_fun=lambda: self.sync_all(self.nodes))\n+\n+        # Generate large blocks to make sure we have enough to test chain pruning\n+        self.mine_large_blocks(self.nodes[0], 610)\n+        self.sync_all(self.nodes)\n+\n+    def wallet_import_pruned_test(self):\n+        self.log.info(\"Make sure we can import wallet when pruned and required blocks are still available\")\n+\n+        wname = \"wallet_pruned.dat\"\n+\n+        # export wallet\n+        self.nodes[1].dumpwallet(os.path.join(self.nodes[1].datadir, wname))\n+        # import wallet\n+        self.nodes[1].importwallet(os.path.join(self.nodes[1].datadir, wname))\n+\n+        timestamp = self.nodes[1].getblock(self.nodes[1].getbestblockhash())['mediantime']\n+\n+        # Test importmulti\n+        key = get_key(self.nodes[1])\n+        self.nodes[1].importmulti([{\"scriptPubKey\": {\"address\": key.p2pkh_addr},\n+                               \"timestamp\": 'now'}])\n+\n+        self.nodes[1].importmulti([{\"scriptPubKey\": {\"address\": key.p2pkh_addr},\n+                               \"timestamp\": timestamp}])\n+\n+        # mine some blocks, pruning should not have removed the block\n+        self.mine_large_blocks(self.nodes[0], 5)\n+        self.sync_all(self.nodes)\n+\n+        # import wallet, should still work\n+        self.nodes[1].importwallet(os.path.join(self.nodes[1].datadir, wname))\n+\n+        # test with importmulti\n+        self.nodes[1].importmulti([{\"scriptPubKey\": {\"address\": key.p2pkh_addr},\n+                               \"timestamp\": timestamp}])\n+\n+        self.log.info(\"Wallet successfully imported on pruned node\")\n+\n+    def wallet_import_pruned_missing_blocks(self):\n+        self.log.info(\"Make sure we cannot import wallet when pruned and required blocks are not available\")\n+\n+        wname = \"wallet_pruned_missing_blocks.dat\"\n+        # export wallet\n+        self.nodes[1].dumpwallet(os.path.join(self.nodes[1].datadir, wname))\n+\n+        # mine large blocks, blocks will be pruned automatically\n+        self.mine_large_blocks(self.nodes[0], 150)\n+        self.sync_all(self.nodes)\n+",
      "path": "test/functional/wallet_pruning.py",
      "position": null,
      "original_position": 136,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "46b7f731b1e98b0836c5b97cd99c0887d6173a17",
      "in_reply_to_id": null,
      "user": {
        "login": "Xekyo",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Xekyo",
        "html_url": "https://github.com/Xekyo",
        "followers_url": "https://api.github.com/users/Xekyo/followers",
        "following_url": "https://api.github.com/users/Xekyo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Xekyo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Xekyo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Xekyo/subscriptions",
        "organizations_url": "https://api.github.com/users/Xekyo/orgs",
        "repos_url": "https://api.github.com/users/Xekyo/repos",
        "events_url": "https://api.github.com/users/Xekyo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Xekyo/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This looks good to me, but perhaps it would be more comprehensive to learn the birthheight or first transaction's height from the wallet, and check/assert here that the corresponding block has been pruned.",
      "created_at": "2022-05-31T15:59:51Z",
      "updated_at": "2022-05-31T16:00:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r885820729",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/885820729"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 108,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901998188",
      "pull_request_review_id": 1012746916,
      "id": 901998188,
      "node_id": "PRRC_kwDOABII5841w2Zs",
      "diff_hunk": "@@ -1383,6 +1388,8 @@ RPCHelpMan importmulti()\n                 nLowestTimestamp = timestamp;\n             }\n         }\n+\n+        EnsureBlockDataFromTime(pwallet->chain(), nLowestTimestamp);",
      "path": "src/wallet/rpc/backup.cpp",
      "position": null,
      "original_position": 78,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "46b7f731b1e98b0836c5b97cd99c0887d6173a17",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 46b7f731b1e98b0836c5b97cd99c0887d6173a17 \"rpc: Enable wallet import on pruned nodes and add test\"\r\n\r\nWe don't want to do this for `importmulti`. `importmulti` can have some imports succeed, and others fail. Just because one import has an out of range timestamp does not mean the entire import should fail the RPC. This check would result in a JSONRPCError which is not what we expect from `importmulti` - rather there should be an error per import that has a too old timestamp.\r\n\r\nFurthermore, we already handle the pruned node case. If the rescan reports a time that is more recent than the timestamp for a given import, we will give an error for that import with more details about what happened, maybe why it happened, and how the user can resolve it.",
      "created_at": "2022-06-20T21:06:17Z",
      "updated_at": "2022-06-20T21:09:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r901998188",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901998188"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1392,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919171723",
      "pull_request_review_id": 1036108749,
      "id": 919171723,
      "node_id": "PRRC_kwDOABII5842yXKL",
      "diff_hunk": "@@ -0,0 +1,117 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import assert_raises_rpc_error\n+from test_framework.blocktools import create_large_block\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class WalletPruningTest(BitcoinTestFramework):\n+    nTime = 0\n+    def mine_large_blocks(self, node, n):\n+        # Get the block parameters for the first block\n+        best_block = node.getblock(node.getbestblockhash())\n+        height = int(best_block[\"height\"]) + 1\n+        self.nTime = max(self.nTime, int(best_block[\"time\"])) + 1\n+        previousblockhash = int(best_block[\"hash\"], 16)\n+\n+        for _ in range(n):\n+            block = create_large_block(hashprev=previousblockhash, height=height, ntime=self.nTime)\n+            block.solve()\n+\n+            # Submit to the node\n+            node.submitblock(block.serialize().hex())\n+\n+            previousblockhash = block.sha256\n+            height += 1\n+\n+            # Simulate 10 minutes of work time per block\n+            # Important for matching a timestamp with a block +- some window\n+            self.nTime += 600\n+            for n in self.nodes:\n+                n.setmocktime(self.nTime) # Update nodes' time to accept future blocks\n+\n+\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+        self.extra_args = [\n+            [], # node dedicated to mining\n+            ['-prune=550'], # node dedicated to testing pruning\n+        ]\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def setup_network(self):\n+        self.setup_nodes()\n+        self.connect_nodes(0, 1)\n+        self.sync_all(self.nodes)",
      "path": "test/functional/wallet_pruning.py",
      "position": null,
      "original_position": 54,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "b45e54bf513c6e33686f4212200f1615dbac8ee4",
      "in_reply_to_id": null,
      "user": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Do you actually need this? The only difference in behaviour that I see from the default https://github.com/bitcoin/bitcoin/blob/1d89fc695a3aeb3e3dcadf371b7667572b38c836/test/functional/test_framework/test_framework.py#L387\r\nis the `0 -> 1` instead of `1 -> 0` nodes' connection which seems to make no difference for the test.\r\n\r\n",
      "created_at": "2022-07-12T16:22:59Z",
      "updated_at": "2022-07-13T14:21:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r919171723",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919171723"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": 51,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 54,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919177252",
      "pull_request_review_id": 1036108749,
      "id": 919177252,
      "node_id": "PRRC_kwDOABII5842yYgk",
      "diff_hunk": "@@ -0,0 +1,117 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import assert_raises_rpc_error\n+from test_framework.blocktools import create_large_block\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class WalletPruningTest(BitcoinTestFramework):\n+    nTime = 0\n+    def mine_large_blocks(self, node, n):\n+        # Get the block parameters for the first block\n+        best_block = node.getblock(node.getbestblockhash())\n+        height = int(best_block[\"height\"]) + 1\n+        self.nTime = max(self.nTime, int(best_block[\"time\"])) + 1\n+        previousblockhash = int(best_block[\"hash\"], 16)\n+\n+        for _ in range(n):\n+            block = create_large_block(hashprev=previousblockhash, height=height, ntime=self.nTime)\n+            block.solve()\n+\n+            # Submit to the node\n+            node.submitblock(block.serialize().hex())\n+\n+            previousblockhash = block.sha256\n+            height += 1\n+\n+            # Simulate 10 minutes of work time per block\n+            # Important for matching a timestamp with a block +- some window\n+            self.nTime += 600\n+            for n in self.nodes:\n+                n.setmocktime(self.nTime) # Update nodes' time to accept future blocks\n+\n+\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+        self.extra_args = [\n+            [], # node dedicated to mining\n+            ['-prune=550'], # node dedicated to testing pruning\n+        ]\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def setup_network(self):\n+        self.setup_nodes()\n+        self.connect_nodes(0, 1)\n+        self.sync_all(self.nodes)\n+\n+    def create_big_chain(self):\n+        self.log.info(\"Generating a long chain of blocks...\")\n+        # Generate 288 light blocks, the minimum required to stay on disk with prune enabled\n+        self.generate(self.nodes[0], 288, sync_fun=lambda: self.sync_all(self.nodes))",
      "path": "test/functional/wallet_pruning.py",
      "position": null,
      "original_position": 59,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "b45e54bf513c6e33686f4212200f1615dbac8ee4",
      "in_reply_to_id": null,
      "user": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think that if `sync_fun` is not defined you will still have the desired behaviour here",
      "created_at": "2022-07-12T16:28:33Z",
      "updated_at": "2022-07-13T14:21:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r919177252",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919177252"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 59,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919177455",
      "pull_request_review_id": 1036108749,
      "id": 919177455,
      "node_id": "PRRC_kwDOABII5842yYjv",
      "diff_hunk": "@@ -0,0 +1,117 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import assert_raises_rpc_error\n+from test_framework.blocktools import create_large_block\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class WalletPruningTest(BitcoinTestFramework):\n+    nTime = 0\n+    def mine_large_blocks(self, node, n):\n+        # Get the block parameters for the first block\n+        best_block = node.getblock(node.getbestblockhash())\n+        height = int(best_block[\"height\"]) + 1\n+        self.nTime = max(self.nTime, int(best_block[\"time\"])) + 1\n+        previousblockhash = int(best_block[\"hash\"], 16)\n+\n+        for _ in range(n):\n+            block = create_large_block(hashprev=previousblockhash, height=height, ntime=self.nTime)\n+            block.solve()\n+\n+            # Submit to the node\n+            node.submitblock(block.serialize().hex())\n+\n+            previousblockhash = block.sha256\n+            height += 1\n+\n+            # Simulate 10 minutes of work time per block\n+            # Important for matching a timestamp with a block +- some window\n+            self.nTime += 600\n+            for n in self.nodes:\n+                n.setmocktime(self.nTime) # Update nodes' time to accept future blocks\n+\n+\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+        self.extra_args = [\n+            [], # node dedicated to mining\n+            ['-prune=550'], # node dedicated to testing pruning\n+        ]\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def setup_network(self):\n+        self.setup_nodes()\n+        self.connect_nodes(0, 1)\n+        self.sync_all(self.nodes)\n+\n+    def create_big_chain(self):\n+        self.log.info(\"Generating a long chain of blocks...\")\n+        # Generate 288 light blocks, the minimum required to stay on disk with prune enabled\n+        self.generate(self.nodes[0], 288, sync_fun=lambda: self.sync_all(self.nodes))\n+\n+        # Generate large blocks to make sure we have enough to test chain pruning\n+        self.mine_large_blocks(self.nodes[0], 610)\n+        self.sync_all(self.nodes)",
      "path": "test/functional/wallet_pruning.py",
      "position": null,
      "original_position": 63,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "b45e54bf513c6e33686f4212200f1615dbac8ee4",
      "in_reply_to_id": null,
      "user": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`self.nodes` is the default if `nodes=None`\r\nhttps://github.com/bitcoin/bitcoin/blob/1d89fc695a3aeb3e3dcadf371b7667572b38c836/test/functional/test_framework/test_framework.py#L674",
      "created_at": "2022-07-12T16:28:47Z",
      "updated_at": "2022-07-13T14:21:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r919177455",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919177455"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 63,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919187882",
      "pull_request_review_id": 1036108749,
      "id": 919187882,
      "node_id": "PRRC_kwDOABII5842ybGq",
      "diff_hunk": "@@ -0,0 +1,117 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import assert_raises_rpc_error\n+from test_framework.blocktools import create_large_block\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class WalletPruningTest(BitcoinTestFramework):\n+    nTime = 0\n+    def mine_large_blocks(self, node, n):\n+        # Get the block parameters for the first block\n+        best_block = node.getblock(node.getbestblockhash())\n+        height = int(best_block[\"height\"]) + 1\n+        self.nTime = max(self.nTime, int(best_block[\"time\"])) + 1\n+        previousblockhash = int(best_block[\"hash\"], 16)\n+\n+        for _ in range(n):\n+            block = create_large_block(hashprev=previousblockhash, height=height, ntime=self.nTime)\n+            block.solve()\n+\n+            # Submit to the node\n+            node.submitblock(block.serialize().hex())\n+\n+            previousblockhash = block.sha256\n+            height += 1\n+\n+            # Simulate 10 minutes of work time per block\n+            # Important for matching a timestamp with a block +- some window\n+            self.nTime += 600\n+            for n in self.nodes:\n+                n.setmocktime(self.nTime) # Update nodes' time to accept future blocks\n+\n+\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+        self.extra_args = [\n+            [], # node dedicated to mining\n+            ['-prune=550'], # node dedicated to testing pruning\n+        ]\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def setup_network(self):\n+        self.setup_nodes()\n+        self.connect_nodes(0, 1)\n+        self.sync_all(self.nodes)\n+\n+    def create_big_chain(self):\n+        self.log.info(\"Generating a long chain of blocks...\")\n+        # Generate 288 light blocks, the minimum required to stay on disk with prune enabled\n+        self.generate(self.nodes[0], 288, sync_fun=lambda: self.sync_all(self.nodes))\n+\n+        # Generate large blocks to make sure we have enough to test chain pruning\n+        self.mine_large_blocks(self.nodes[0], 610)\n+        self.sync_all(self.nodes)\n+\n+    def wallet_import_pruned_test(self):\n+        self.log.info(\"Make sure we can import wallet when pruned and required blocks are still available\")\n+\n+        wname = \"wallet_pruned.dat\"\n+\n+        # export wallet\n+        self.nodes[1].dumpwallet(os.path.join(self.nodes[1].datadir, wname))\n+        # import wallet\n+        self.nodes[1].importwallet(os.path.join(self.nodes[1].datadir, wname))\n+\n+        # mine some blocks, pruning should not have removed the block\n+        self.mine_large_blocks(self.nodes[0], 5)\n+        self.sync_all(self.nodes)",
      "path": "test/functional/wallet_pruning.py",
      "position": null,
      "original_position": 77,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "b45e54bf513c6e33686f4212200f1615dbac8ee4",
      "in_reply_to_id": null,
      "user": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: for how it is used in this test, I think that `sync_all` could be part of the `mine_large_blocks` method",
      "created_at": "2022-07-12T16:39:13Z",
      "updated_at": "2022-07-13T14:21:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r919187882",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919187882"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 77,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919834580",
      "pull_request_review_id": 1036108749,
      "id": 919834580,
      "node_id": "PRRC_kwDOABII584204_U",
      "diff_hunk": "@@ -0,0 +1,117 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import assert_raises_rpc_error\n+from test_framework.blocktools import create_large_block\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class WalletPruningTest(BitcoinTestFramework):\n+    nTime = 0\n+    def mine_large_blocks(self, node, n):\n+        # Get the block parameters for the first block\n+        best_block = node.getblock(node.getbestblockhash())\n+        height = int(best_block[\"height\"]) + 1\n+        self.nTime = max(self.nTime, int(best_block[\"time\"])) + 1\n+        previousblockhash = int(best_block[\"hash\"], 16)\n+\n+        for _ in range(n):\n+            block = create_large_block(hashprev=previousblockhash, height=height, ntime=self.nTime)\n+            block.solve()\n+\n+            # Submit to the node\n+            node.submitblock(block.serialize().hex())\n+\n+            previousblockhash = block.sha256\n+            height += 1\n+\n+            # Simulate 10 minutes of work time per block\n+            # Important for matching a timestamp with a block +- some window\n+            self.nTime += 600\n+            for n in self.nodes:\n+                n.setmocktime(self.nTime) # Update nodes' time to accept future blocks\n+\n+\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+        self.extra_args = [\n+            [], # node dedicated to mining\n+            ['-prune=550'], # node dedicated to testing pruning\n+        ]\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def setup_network(self):\n+        self.setup_nodes()\n+        self.connect_nodes(0, 1)\n+        self.sync_all(self.nodes)\n+\n+    def create_big_chain(self):\n+        self.log.info(\"Generating a long chain of blocks...\")\n+        # Generate 288 light blocks, the minimum required to stay on disk with prune enabled\n+        self.generate(self.nodes[0], 288, sync_fun=lambda: self.sync_all(self.nodes))\n+\n+        # Generate large blocks to make sure we have enough to test chain pruning\n+        self.mine_large_blocks(self.nodes[0], 610)\n+        self.sync_all(self.nodes)\n+\n+    def wallet_import_pruned_test(self):\n+        self.log.info(\"Make sure we can import wallet when pruned and required blocks are still available\")\n+\n+        wname = \"wallet_pruned.dat\"\n+\n+        # export wallet\n+        self.nodes[1].dumpwallet(os.path.join(self.nodes[1].datadir, wname))\n+        # import wallet\n+        self.nodes[1].importwallet(os.path.join(self.nodes[1].datadir, wname))\n+\n+        # mine some blocks, pruning should not have removed the block\n+        self.mine_large_blocks(self.nodes[0], 5)\n+        self.sync_all(self.nodes)\n+\n+        # import wallet, should still work\n+        self.nodes[1].importwallet(os.path.join(self.nodes[1].datadir, wname))\n+        self.log.info(\"Wallet successfully imported on pruned node\")\n+\n+    def wallet_import_pruned_missing_blocks(self):\n+        self.log.info(\"Make sure we cannot import wallet when pruned and required blocks are not available\")\n+\n+        wname = \"wallet_pruned_missing_blocks.dat\"\n+        # export wallet\n+        self.nodes[1].dumpwallet(os.path.join(self.nodes[1].datadir, wname))\n+\n+        # get birthheight of wallet\n+        with open(os.path.join(self.nodes[1].datadir, wname), 'r', encoding=\"utf8\") as f:\n+            for line in f:\n+                if line.startswith('# * Best block at time of backup'):\n+                    wallet_birthheight = int(line.split(' ')[9])\n+                    break\n+\n+        # mine large blocks, blocks will be pruned automatically\n+        self.mine_large_blocks(self.nodes[0], 650)\n+        self.sync_all(self.nodes)\n+\n+        assert_raises_rpc_error(-1, \"Block not available (pruned data)\", self.nodes[1].getblock, self.nodes[1].getblockhash(wallet_birthheight))\n+\n+        # make sure wallet cannot be imported because of missing blocks\n+        assert_raises_rpc_error(-4, \"Pruned blocks required to import keys\", self.nodes[1].importwallet, os.path.join(self.nodes[1].datadir, wname))\n+\n+    def run_test(self):\n+        self.log.info(\"Warning! This test requires ~1.5GB of disk space\")\n+\n+        self.create_big_chain()\n+\n+        self.wallet_import_pruned_test()\n+        self.wallet_import_pruned_missing_blocks()",
      "path": "test/functional/wallet_pruning.py",
      "position": null,
      "original_position": 112,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "b45e54bf513c6e33686f4212200f1615dbac8ee4",
      "in_reply_to_id": null,
      "user": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Maybe it would be better to include a `test` prefix as in most tests?\r\ne.g `test_wallet_import_on_pruned_node{_with_missing_blocks}`",
      "created_at": "2022-07-13T09:04:41Z",
      "updated_at": "2022-07-13T14:21:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r919834580",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919834580"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": 111,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 112,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919893941",
      "pull_request_review_id": 1036108749,
      "id": 919893941,
      "node_id": "PRRC_kwDOABII58421He1",
      "diff_hunk": "@@ -0,0 +1,117 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import assert_raises_rpc_error\n+from test_framework.blocktools import create_large_block\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class WalletPruningTest(BitcoinTestFramework):\n+    nTime = 0\n+    def mine_large_blocks(self, node, n):\n+        # Get the block parameters for the first block\n+        best_block = node.getblock(node.getbestblockhash())\n+        height = int(best_block[\"height\"]) + 1\n+        self.nTime = max(self.nTime, int(best_block[\"time\"])) + 1\n+        previousblockhash = int(best_block[\"hash\"], 16)\n+\n+        for _ in range(n):\n+            block = create_large_block(hashprev=previousblockhash, height=height, ntime=self.nTime)\n+            block.solve()\n+\n+            # Submit to the node\n+            node.submitblock(block.serialize().hex())\n+\n+            previousblockhash = block.sha256\n+            height += 1\n+\n+            # Simulate 10 minutes of work time per block\n+            # Important for matching a timestamp with a block +- some window\n+            self.nTime += 600\n+            for n in self.nodes:\n+                n.setmocktime(self.nTime) # Update nodes' time to accept future blocks\n+\n+\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+        self.extra_args = [\n+            [], # node dedicated to mining\n+            ['-prune=550'], # node dedicated to testing pruning\n+        ]\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def setup_network(self):\n+        self.setup_nodes()\n+        self.connect_nodes(0, 1)\n+        self.sync_all(self.nodes)\n+\n+    def create_big_chain(self):\n+        self.log.info(\"Generating a long chain of blocks...\")\n+        # Generate 288 light blocks, the minimum required to stay on disk with prune enabled\n+        self.generate(self.nodes[0], 288, sync_fun=lambda: self.sync_all(self.nodes))\n+\n+        # Generate large blocks to make sure we have enough to test chain pruning\n+        self.mine_large_blocks(self.nodes[0], 610)\n+        self.sync_all(self.nodes)\n+\n+    def wallet_import_pruned_test(self):",
      "path": "test/functional/wallet_pruning.py",
      "position": null,
      "original_position": 65,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "b45e54bf513c6e33686f4212200f1615dbac8ee4",
      "in_reply_to_id": null,
      "user": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think that this test is not testing what you are expecting it to test, or its scope is just not clear to me.\r\n\r\nEven if I revert your changes to `backup.cpp` (`git checkout 9fb2a2bc6768ab03fcada9155d52a16ce6f6a0cc -- src/wallet/rpc/backup.cpp`) this test passes. My understanding is that this never reaches the prune state because no blocks are pruned until we are above PruneAfterHeight\r\nhttps://github.com/bitcoin/bitcoin/blob/1d89fc695a3aeb3e3dcadf371b7667572b38c836/src/chainparams.cpp#L429\r\nThe logic in `feature_pruning.py` also helped me to understand this behaviour.",
      "created_at": "2022-07-13T10:06:20Z",
      "updated_at": "2022-07-13T14:21:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r919893941",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919893941"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 65,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/960435782",
      "pull_request_review_id": 1093078818,
      "id": 960435782,
      "node_id": "PRRC_kwDOABII5845PxZG",
      "diff_hunk": "@@ -93,6 +93,20 @@ static void RescanWallet(CWallet& wallet, const WalletRescanReserver& reserver,\n     }\n }\n \n+static void EnsureBlockDataFromTime(interfaces::Chain& chain, int64_t timestamp)\n+{\n+    if (!chain.havePruned())\n+        return;\n+\n+    int height{0};\n+    const bool found{chain.findFirstBlockWithTimeAndHeight(timestamp - TIMESTAMP_WINDOW, 0, FoundBlock().height(height))};\n+    const std::optional<int> chainHeight{chain.getHeight()};\n+\n+    if (found && chainHeight && !chain.hasBlocks(chain.getBlockHash(chainHeight.value()), height)) {\n+        throw JSONRPCError(RPC_WALLET_ERROR, \"Pruned blocks required to import keys\");",
      "path": "src/wallet/rpc/backup.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "45435bc688387db2fdf0550f48881a8cf60cbe0f",
      "in_reply_to_id": null,
      "user": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think that at this point we have the required `height` for which we need blocks. Could this change to a more descriptive error message stating that required weight? And maybe \"[...]. Use RPC call getblockchaininfo to determine your pruned height\" as [here](https://github.com/bitcoin/bitcoin/blob/15692e2641592394bdd4da0a7c2d371de8e576dd/src/wallet/rpc/transactions.cpp#L898)?",
      "created_at": "2022-09-01T09:37:00Z",
      "updated_at": "2022-09-01T09:37:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r960435782",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/960435782"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 106,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/962737491",
      "pull_request_review_id": 1096213340,
      "id": 962737491,
      "node_id": "PRRC_kwDOABII5845YjVT",
      "diff_hunk": "@@ -93,6 +93,20 @@ static void RescanWallet(CWallet& wallet, const WalletRescanReserver& reserver,\n     }\n }\n \n+static void EnsureBlockDataFromTime(interfaces::Chain& chain, int64_t timestamp)\n+{\n+    if (!chain.havePruned())\n+        return;\n+\n+    int height{0};\n+    const bool found{chain.findFirstBlockWithTimeAndHeight(timestamp - TIMESTAMP_WINDOW, 0, FoundBlock().height(height))};\n+    const std::optional<int> chainHeight{chain.getHeight()};\n+\n+    if (found && chainHeight && !chain.hasBlocks(chain.getBlockHash(chainHeight.value()), height)) {\n+        throw JSONRPCError(RPC_WALLET_ERROR, \"Pruned blocks required to import keys\");",
      "path": "src/wallet/rpc/backup.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "45435bc688387db2fdf0550f48881a8cf60cbe0f",
      "in_reply_to_id": 960435782,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "thanks, added it",
      "created_at": "2022-09-05T10:11:51Z",
      "updated_at": "2022-09-05T10:11:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r962737491",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/962737491"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 106,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/965118592",
      "pull_request_review_id": 1099577939,
      "id": 965118592,
      "node_id": "PRRC_kwDOABII5845hoqA",
      "diff_hunk": "@@ -93,6 +93,20 @@ static void RescanWallet(CWallet& wallet, const WalletRescanReserver& reserver,\n     }\n }\n \n+static void EnsureBlockDataFromTime(interfaces::Chain& chain, int64_t timestamp)\n+{\n+    if (!chain.havePruned())\n+        return;\n+\n+    int height{0};\n+    const bool found{chain.findFirstBlockWithTimeAndHeight(timestamp - TIMESTAMP_WINDOW, 0, FoundBlock().height(height))};\n+    const std::optional<int> chainHeight{chain.getHeight()};\n+\n+    if (found && chainHeight && !chain.hasBlocks(chain.getBlockHash(chainHeight.value()), height)) {",
      "path": "src/wallet/rpc/backup.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "0aedf6f3cb5a513f9e42458362261d4afa2ea17f",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"rpc: Enable wallet import on pruned nodes and add test\" (0aedf6f3cb5a513f9e42458362261d4afa2ea17f)\r\n\r\nI think it would be slightly better to pass in `pwallet->m_last_block_processed` instead of `chain.getBlockHash(chainHeight.value())` as the first `hasBlocks` argument. In general to avoid race conditions wallet just tries to query node based on it's own chain tip and not rely on current node tip. To be more race free, could add a `Chain::hasBlocksFromTime(int64_t start_time, uint256 end_block)` method and pass `m_last_block_processed` as the end block. But just passing `m_last_block_processed` to `hasBlocks` here and dropping the `chainHeight` variable should already be an improvement.",
      "created_at": "2022-09-07T17:42:02Z",
      "updated_at": "2022-09-07T18:04:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r965118592",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/965118592"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 105,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/965126704",
      "pull_request_review_id": 1099577939,
      "id": 965126704,
      "node_id": "PRRC_kwDOABII5845hqow",
      "diff_hunk": "@@ -30,10 +30,10 @@ def sync_index(self, height):\n         expected_stats = {\n             'coinstatsindex': {'synced': True, 'best_block_height': height}\n         }\n-        self.wait_until(lambda: self.nodes[1].getindexinfo() == expected_stats)\n+        self.wait_until(lambda: self.nodes[1].getindexinfo() == expected_stats, timeout=120)",
      "path": "test/functional/feature_index_prune.py",
      "position": null,
      "original_position": 5,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "0aedf6f3cb5a513f9e42458362261d4afa2ea17f",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"rpc: Enable wallet import on pruned nodes and add test\" (0aedf6f3cb5a513f9e42458362261d4afa2ea17f)\r\n\r\nSeems like an unrelated change? Would be good to drop this if possible, or maybe comment why overriding timeout is necessary.",
      "created_at": "2022-09-07T17:52:34Z",
      "updated_at": "2022-09-07T18:04:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r965126704",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/965126704"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 33,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/965132020",
      "pull_request_review_id": 1099577939,
      "id": 965132020,
      "node_id": "PRRC_kwDOABII5845hr70",
      "diff_hunk": "@@ -87,6 +87,13 @@ def create_block(hashprev=None, coinbase=None, ntime=None, *, version=None, tmpl\n     block.calc_sha256()\n     return block\n \n+def create_large_block(hashprev=None, ntime=None, height=None, scriptPubKey=CScript([OP_RETURN] + [OP_TRUE] * 950000)):",
      "path": "test/functional/test_framework/blocktools.py",
      "position": null,
      "original_position": 4,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "0aedf6f3cb5a513f9e42458362261d4afa2ea17f",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"rpc: Enable wallet import on pruned nodes and add test\" (0aedf6f3cb5a513f9e42458362261d4afa2ea17f)\r\n\r\nThis `CScript(...)` value should just be generated locally inside the function, not be a python default parameter. Otherwise the cscript object is created and lives in memory even if this function is never called.\r\n\r\nCan just say `scriptPubKey=None` in parameter list and `if scriptPubKey is None: scriptPubKey = CScript(...)` inside the function. Or just make scriptPubKey a local variable since the argument is never specified anyway.\r\n",
      "created_at": "2022-09-07T17:59:26Z",
      "updated_at": "2022-09-07T18:04:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r965132020",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/965132020"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 90,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/965142787",
      "pull_request_review_id": 1099612294,
      "id": 965142787,
      "node_id": "PRRC_kwDOABII5845hukD",
      "diff_hunk": "@@ -87,6 +87,13 @@ def create_block(hashprev=None, coinbase=None, ntime=None, *, version=None, tmpl\n     block.calc_sha256()\n     return block\n \n+def create_large_block(hashprev=None, ntime=None, height=None, scriptPubKey=CScript([OP_RETURN] + [OP_TRUE] * 950000)):",
      "path": "test/functional/test_framework/blocktools.py",
      "position": null,
      "original_position": 4,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "0aedf6f3cb5a513f9e42458362261d4afa2ea17f",
      "in_reply_to_id": 965132020,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This is a large object that takes time to construct so I thought making it static would avoid constructing it multiple times, but I had not thought of the fact that this lives in memory even if the function is unused.\r\nWill fix though, thanks.",
      "created_at": "2022-09-07T18:13:28Z",
      "updated_at": "2022-09-07T18:13:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r965142787",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/965142787"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 90,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/965377110",
      "pull_request_review_id": 1099927744,
      "id": 965377110,
      "node_id": "PRRC_kwDOABII5845inxW",
      "diff_hunk": "@@ -30,10 +30,10 @@ def sync_index(self, height):\n         expected_stats = {\n             'coinstatsindex': {'synced': True, 'best_block_height': height}\n         }\n-        self.wait_until(lambda: self.nodes[1].getindexinfo() == expected_stats)\n+        self.wait_until(lambda: self.nodes[1].getindexinfo() == expected_stats, timeout=120)",
      "path": "test/functional/feature_index_prune.py",
      "position": null,
      "original_position": 5,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "0aedf6f3cb5a513f9e42458362261d4afa2ea17f",
      "in_reply_to_id": 965126704,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "oops, fixed",
      "created_at": "2022-09-07T23:23:53Z",
      "updated_at": "2022-09-07T23:23:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r965377110",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/965377110"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 33,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/965377348",
      "pull_request_review_id": 1099928065,
      "id": 965377348,
      "node_id": "PRRC_kwDOABII5845in1E",
      "diff_hunk": "@@ -93,6 +93,20 @@ static void RescanWallet(CWallet& wallet, const WalletRescanReserver& reserver,\n     }\n }\n \n+static void EnsureBlockDataFromTime(interfaces::Chain& chain, int64_t timestamp)\n+{\n+    if (!chain.havePruned())\n+        return;\n+\n+    int height{0};\n+    const bool found{chain.findFirstBlockWithTimeAndHeight(timestamp - TIMESTAMP_WINDOW, 0, FoundBlock().height(height))};\n+    const std::optional<int> chainHeight{chain.getHeight()};\n+\n+    if (found && chainHeight && !chain.hasBlocks(chain.getBlockHash(chainHeight.value()), height)) {",
      "path": "src/wallet/rpc/backup.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "0aedf6f3cb5a513f9e42458362261d4afa2ea17f",
      "in_reply_to_id": 965118592,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks for the review, fixed it!",
      "created_at": "2022-09-07T23:24:25Z",
      "updated_at": "2022-09-07T23:24:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r965377348",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/965377348"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 105,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/966088757",
      "pull_request_review_id": 1100921878,
      "id": 966088757,
      "node_id": "PRRC_kwDOABII5845lVg1",
      "diff_hunk": "@@ -93,6 +93,21 @@ static void RescanWallet(CWallet& wallet, const WalletRescanReserver& reserver,\n     }\n }\n \n+static void EnsureBlockDataFromTime(interfaces::Chain& chain, const CWallet& wallet, int64_t timestamp)\n+{\n+    if (!chain.havePruned())\n+        return;\n+\n+    int height{0};\n+    const bool found{chain.findFirstBlockWithTimeAndHeight(timestamp - TIMESTAMP_WINDOW, 0, FoundBlock().height(height))};\n+    const std::optional<int> chainHeight{chain.getHeight()};",
      "path": "src/wallet/rpc/backup.cpp",
      "position": null,
      "original_position": 11,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "f42c077a8f948f5c93b68eb1b7fa246b4f6475ef",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"rpc: Enable wallet import on pruned nodes and add test\" (f42c077a8f948f5c93b68eb1b7fa246b4f6475ef)\r\n\r\nI think there's no need for the chainHeight variable anymore and it would be better to drop it.",
      "created_at": "2022-09-08T15:06:19Z",
      "updated_at": "2022-09-08T15:42:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r966088757",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/966088757"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 103,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/966092910",
      "pull_request_review_id": 1100921878,
      "id": 966092910,
      "node_id": "PRRC_kwDOABII5845lWhu",
      "diff_hunk": "@@ -10,25 +10,25 @@\n \"\"\"\n import os\n \n-from test_framework.blocktools import create_coinbase\n-from test_framework.messages import CBlock\n-from test_framework.script import (\n-    CScript,\n-    OP_NOP,\n-    OP_RETURN,\n-)\n+from test_framework.blocktools import create_large_block\n from test_framework.test_framework import BitcoinTestFramework\n from test_framework.util import (\n     assert_equal,\n     assert_greater_than,\n     assert_raises_rpc_error,\n )\n+from test_framework.script import (\n+    CScript,\n+    OP_RETURN,\n+    OP_TRUE,\n+)\n \n # Rescans start at the earliest block up to 2 hours before a key timestamp, so\n # the manual prune RPC avoids pruning blocks in the same window to be\n # compatible with pruning based on key creation time.\n TIMESTAMP_WINDOW = 2 * 60 * 60\n \n+scriptPubKey = CScript([OP_RETURN] + [OP_TRUE] * 950000)",
      "path": "test/functional/feature_pruning.py",
      "position": null,
      "original_position": 29,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "f42c077a8f948f5c93b68eb1b7fa246b4f6475ef",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"rpc: Enable wallet import on pruned nodes and add test\" (f42c077a8f948f5c93b68eb1b7fa246b4f6475ef)\r\n\r\nJust IMO, but I think it would be better to keep the existing `big_script` variable below and delete this new variable (smaller diff, more descriptive variable name, more straightforward code avoiding global variables)",
      "created_at": "2022-09-08T15:10:03Z",
      "updated_at": "2022-09-08T15:42:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r966092910",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/966092910"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 31,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/966118683",
      "pull_request_review_id": 1100921878,
      "id": 966118683,
      "node_id": "PRRC_kwDOABII5845lc0b",
      "diff_hunk": "@@ -87,6 +87,13 @@ def create_block(hashprev=None, coinbase=None, ntime=None, *, version=None, tmpl\n     block.calc_sha256()\n     return block\n \n+def create_large_block(hashprev, ntime, height, scriptPubKey):",
      "path": "test/functional/test_framework/blocktools.py",
      "position": null,
      "original_position": 4,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "f42c077a8f948f5c93b68eb1b7fa246b4f6475ef",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"rpc: Enable wallet import on pruned nodes and add test\" (f42c077a8f948f5c93b68eb1b7fa246b4f6475ef)\r\n\r\nThis new `create_large_block` seems very inflexible and also has a misleading name. Would drop it and instead just add a new option to `create_coinbase` like:\r\n\r\n```diff\r\ndiff --git a/test/functional/feature_pruning.py b/test/functional/feature_pruning.py\r\nindex 8d72d11baf5..d14970c9463 100755\r\n--- a/test/functional/feature_pruning.py\r\n+++ b/test/functional/feature_pruning.py\r\n@@ -10,7 +10,8 @@ This test takes 30 mins or more (up to 2 hours)\r\n \"\"\"\r\n import os\r\n \r\n-from test_framework.blocktools import create_large_block\r\n+from test_framework.blocktools import create_block\r\n+from test_framework.blocktools import create_coinbase\r\n from test_framework.test_framework import BitcoinTestFramework\r\n from test_framework.util import (\r\n     assert_equal,\r\n@@ -47,7 +48,7 @@ def mine_large_blocks(node, n):\r\n     previousblockhash = int(best_block[\"hash\"], 16)\r\n \r\n     for _ in range(n):\r\n-        block = create_large_block(hashprev=previousblockhash, height=height, ntime=mine_large_blocks.nTime, scriptPubKey=scriptPubKey)\r\n+        block = create_block(hashprev=previousblockhash, ntime=mine_large_blocks.nTime, coinbase=create_coinbase(height, script_pubkey=scriptPubKey))\r\n         block.solve()\r\n \r\n         # Submit to the node\r\ndiff --git a/test/functional/test_framework/blocktools.py b/test/functional/test_framework/blocktools.py\r\nindex 5916ffc2b17..77653df96e9 100644\r\n--- a/test/functional/test_framework/blocktools.py\r\n+++ b/test/functional/test_framework/blocktools.py\r\n@@ -87,13 +87,6 @@ def create_block(hashprev=None, coinbase=None, ntime=None, *, version=None, tmpl\r\n     block.calc_sha256()\r\n     return block\r\n \r\n-def create_large_block(hashprev, ntime, height, scriptPubKey):\r\n-    coinbase_tx = create_coinbase(height)\r\n-    coinbase_tx.vout[0].scriptPubKey = scriptPubKey\r\n-    coinbase_tx.rehash()\r\n-\r\n-    return create_block(coinbase=coinbase_tx, ntime=ntime, hashprev=hashprev)\r\n-\r\n def get_witness_script(witness_root, witness_nonce):\r\n     witness_commitment = uint256_from_str(hash256(ser_uint256(witness_root) + ser_uint256(witness_nonce)))\r\n     output_data = WITNESS_COMMITMENT_HEADER + ser_uint256(witness_commitment)\r\n@@ -127,7 +120,7 @@ def script_BIP34_coinbase_height(height):\r\n     return CScript([CScriptNum(height)])\r\n \r\n \r\n-def create_coinbase(height, pubkey=None, extra_output_script=None, fees=0, nValue=50):\r\n+def create_coinbase(height, pubkey=None, *, script_pubkey=None, extra_output_script=None, fees=0, nValue=50):\r\n     \"\"\"Create a coinbase transaction.\r\n \r\n     If pubkey is passed in, the coinbase output will be a P2PK output;\r\n@@ -145,6 +138,8 @@ def create_coinbase(height, pubkey=None, extra_output_script=None, fees=0, nValu\r\n         coinbaseoutput.nValue += fees\r\n     if pubkey is not None:\r\n         coinbaseoutput.scriptPubKey = key_to_p2pk_script(pubkey)\r\n+    elif script_pubkey is not None:\r\n+        coinbaseoutput.scriptPubKey = script_pubkey\r\n     else:\r\n         coinbaseoutput.scriptPubKey = CScript([OP_TRUE])\r\n     coinbase.vout = [coinbaseoutput]\r\ndiff --git a/test/functional/wallet_pruning.py b/test/functional/wallet_pruning.py\r\nindex 9b8160a4490..e42994422e0 100755\r\n--- a/test/functional/wallet_pruning.py\r\n+++ b/test/functional/wallet_pruning.py\r\n@@ -7,7 +7,8 @@\r\n import os\r\n \r\n from test_framework.util import assert_raises_rpc_error\r\n-from test_framework.blocktools import create_large_block\r\n+from test_framework.blocktools import create_block\r\n+from test_framework.blocktools import create_coinbase\r\n from test_framework.test_framework import BitcoinTestFramework\r\n \r\n from test_framework.script import (\r\n@@ -26,7 +27,7 @@ class WalletPruningTest(BitcoinTestFramework):\r\n         self.nTime = max(self.nTime, int(best_block[\"time\"])) + 1\r\n         previousblockhash = int(best_block[\"hash\"], 16)\r\n         for _ in range(n):\r\n-            block = create_large_block(hashprev=previousblockhash, height=height, ntime=self.nTime, scriptPubKey=self.scriptPubKey)\r\n+            block = create_block(hashprev=previousblockhash, ntime=self.nTime, coinbase=create_coinbase(height, script_pubkey=self.scriptPubKey))\r\n             block.solve()\r\n \r\n             # Submit to the node\r\n\r\n```",
      "created_at": "2022-09-08T15:32:49Z",
      "updated_at": "2022-09-08T15:42:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r966118683",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/966118683"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 90,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/966124252",
      "pull_request_review_id": 1100921878,
      "id": 966124252,
      "node_id": "PRRC_kwDOABII5845leLc",
      "diff_hunk": "@@ -93,6 +93,21 @@ static void RescanWallet(CWallet& wallet, const WalletRescanReserver& reserver,\n     }\n }\n \n+static void EnsureBlockDataFromTime(interfaces::Chain& chain, const CWallet& wallet, int64_t timestamp)\n+{\n+    if (!chain.havePruned())\n+        return;\n+\n+    int height{0};\n+    const bool found{chain.findFirstBlockWithTimeAndHeight(timestamp - TIMESTAMP_WINDOW, 0, FoundBlock().height(height))};\n+    const std::optional<int> chainHeight{chain.getHeight()};\n+\n+    LOCK(wallet.cs_wallet);",
      "path": "src/wallet/rpc/backup.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "f42c077a8f948f5c93b68eb1b7fa246b4f6475ef",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"rpc: Enable wallet import on pruned nodes and add test\" (f42c077a8f948f5c93b68eb1b7fa246b4f6475ef)\r\n\r\nI don't think we need to keep the wallet locked while running all the code below. Would suggest using a shorter lock:\r\n\r\n```c++\r\nuint256 tip_hash = WITH_LOCK(wallet.cs_wallet, return wallet.GetLastBlockHash());\r\n```",
      "created_at": "2022-09-08T15:37:58Z",
      "updated_at": "2022-09-08T15:42:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r966124252",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/966124252"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 105,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/968783740",
      "pull_request_review_id": 1104645206,
      "id": 968783740,
      "node_id": "PRRC_kwDOABII5845vnd8",
      "diff_hunk": "@@ -41,28 +41,14 @@ def mine_large_blocks(node, n):\n         mine_large_blocks.nTime = 0\n \n     # Get the block parameters for the first block\n-    big_script = CScript([OP_RETURN] + [OP_NOP] * 950000)\n     best_block = node.getblock(node.getbestblockhash())\n     height = int(best_block[\"height\"]) + 1\n     mine_large_blocks.nTime = max(mine_large_blocks.nTime, int(best_block[\"time\"])) + 1\n     previousblockhash = int(best_block[\"hash\"], 16)\n+    bigScript = CScript([OP_RETURN] + [OP_TRUE] * 950000)",
      "path": "test/functional/feature_pruning.py",
      "position": null,
      "original_position": 24,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "05463d4001001213c17672c1607a3a493927ddd7",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"rpc: Enable wallet import on pruned nodes and add test\" (05463d4001001213c17672c1607a3a493927ddd7)\r\n\r\nCan just keep existing `big_script` variable, no need to replace it with new `bigScript` variable. This would make the diff small and make the naming convention more convenient",
      "created_at": "2022-09-12T18:38:32Z",
      "updated_at": "2022-09-12T18:39:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r968783740",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/968783740"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 48,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/969418942",
      "pull_request_review_id": 1105499079,
      "id": 969418942,
      "node_id": "PRRC_kwDOABII5845yCi-",
      "diff_hunk": "@@ -41,28 +41,14 @@ def mine_large_blocks(node, n):\n         mine_large_blocks.nTime = 0\n \n     # Get the block parameters for the first block\n-    big_script = CScript([OP_RETURN] + [OP_NOP] * 950000)\n     best_block = node.getblock(node.getbestblockhash())\n     height = int(best_block[\"height\"]) + 1\n     mine_large_blocks.nTime = max(mine_large_blocks.nTime, int(best_block[\"time\"])) + 1\n     previousblockhash = int(best_block[\"hash\"], 16)\n+    bigScript = CScript([OP_RETURN] + [OP_TRUE] * 950000)",
      "path": "test/functional/feature_pruning.py",
      "position": null,
      "original_position": 24,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "05463d4001001213c17672c1607a3a493927ddd7",
      "in_reply_to_id": 968783740,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "my bad, fixed",
      "created_at": "2022-09-13T10:02:20Z",
      "updated_at": "2022-09-13T10:02:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r969418942",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/969418942"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 48,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/984571657",
      "pull_request_review_id": 1126791749,
      "id": 984571657,
      "node_id": "PRRC_kwDOABII5846r18J",
      "diff_hunk": "@@ -0,0 +1,132 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import assert_raises_rpc_error\n+from test_framework.blocktools import create_block\n+from test_framework.blocktools import create_coinbase\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+from test_framework.script import (\n+    CScript,\n+    OP_RETURN,\n+    OP_TRUE,\n+)\n+\n+class WalletPruningTest(BitcoinTestFramework):\n+    nTime = 0\n+    def mine_large_blocks(self, node, n):\n+        # Get the block parameters for the first block\n+        best_block = node.getblock(node.getbestblockhash())\n+        height = int(best_block[\"height\"]) + 1\n+        self.nTime = max(self.nTime, int(best_block[\"time\"])) + 1\n+        previousblockhash = int(best_block[\"hash\"], 16)\n+        big_script = CScript([OP_RETURN] + [OP_TRUE] * 950000)\n+        for _ in range(n):\n+            block = create_block(hashprev=previousblockhash, ntime=self.nTime, coinbase=create_coinbase(height, script_pubkey=big_script))\n+            block.solve()\n+\n+            # Submit to the node\n+            node.submitblock(block.serialize().hex())\n+\n+            previousblockhash = block.sha256\n+            height += 1\n+\n+            # Simulate 10 minutes of work time per block\n+            # Important for matching a timestamp with a block +- some window\n+            self.nTime += 600\n+            for n in self.nodes:\n+                if n.running:\n+                    n.setmocktime(self.nTime) # Update node's time to accept future blocks\n+\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+        self.extra_args = [\n+            [], # node dedicated to mining\n+            ['-prune=550'], # node dedicated to testing pruning\n+        ]\n+\n+    def setup_nodes(self):\n+        self.add_nodes(self.num_nodes, extra_args=self.extra_args)\n+        self.start_node(0)\n+\n+    def setup_network(self):\n+        self.setup_nodes()\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def create_big_chain(self):\n+        self.log.info(\"Generating a long chain of blocks...\")\n+        # Generate 288 light blocks, the minimum required to stay on disk with prune enabled\n+        # do not sync\n+        self.generate(self.nodes[0], 288, sync_fun=lambda: None)\n+\n+        # Generate large blocks to make sure we have enough to test chain pruning\n+        self.mine_large_blocks(self.nodes[0], 600)\n+\n+    def test_wallet_import_pruned_test(self):\n+        self.log.info(\"Make sure we can import wallet when pruned and required blocks are still available\")\n+\n+        wname = \"wallet_pruned.dat\"\n+\n+        # export wallet\n+        self.nodes[1].dumpwallet(os.path.join(self.nodes[1].datadir, wname))\n+        # import wallet\n+        self.nodes[1].importwallet(os.path.join(self.nodes[1].datadir, wname))\n+\n+        # mine some blocks, pruning should not have removed the block\n+        self.mine_large_blocks(self.nodes[0], 5)\n+        self.sync_all()\n+\n+        # import wallet, should still work\n+        self.nodes[1].importwallet(os.path.join(self.nodes[1].datadir, wname))\n+        self.log.info(\"Wallet successfully imported on pruned node\")\n+\n+    def test_wallet_import_pruned_with_missing_blocks(self):\n+        self.log.info(\"Make sure we cannot import wallet when pruned and required blocks are not available\")\n+\n+        wname = \"wallet_pruned_missing_blocks.dat\"\n+        # export wallet\n+        self.nodes[1].dumpwallet(os.path.join(self.nodes[1].datadir, wname))\n+\n+        # get birthheight of wallet\n+        with open(os.path.join(self.nodes[1].datadir, wname), 'r', encoding=\"utf8\") as f:\n+            for line in f:\n+                if line.startswith('# * Best block at time of backup'):\n+                    wallet_birthheight = int(line.split(' ')[9])\n+                    break\n+\n+        # mine large blocks, blocks will be pruned automatically\n+        self.mine_large_blocks(self.nodes[0], 600)\n+        self.sync_all()\n+\n+        assert_raises_rpc_error(-1, \"Block not available (pruned data)\", self.nodes[1].getblock, self.nodes[1].getblockhash(wallet_birthheight))\n+\n+        # make sure wallet cannot be imported because of missing blocks\n+        assert_raises_rpc_error(-4, \"Pruned blocks from height 876 required to import keys. Use RPC call getblockchaininfo to determine your pruned height.\", self.nodes[1].importwallet, os.path.join(self.nodes[1].datadir, wname))\n+\n+    def run_test(self):\n+        self.log.info(\"Warning! This test requires ~1.5GB of disk space\")\n+\n+        self.create_big_chain()\n+\n+        # connect mid-test node1",
      "path": "test/functional/wallet_pruning.py",
      "position": null,
      "original_position": 119,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "6dc2e7141de83022f0ca0c48afd5ea7e5c4684d0",
      "in_reply_to_id": null,
      "user": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: maybe add some comments here to explain the rationale behind this mid-test connection? I think it will not be very clear for someone reading this test in the future.",
      "created_at": "2022-09-30T13:05:19Z",
      "updated_at": "2022-09-30T13:34:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r984571657",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/984571657"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 119,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/984599053",
      "pull_request_review_id": 1126791749,
      "id": 984599053,
      "node_id": "PRRC_kwDOABII5846r8oN",
      "diff_hunk": "@@ -0,0 +1,132 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import assert_raises_rpc_error\n+from test_framework.blocktools import create_block\n+from test_framework.blocktools import create_coinbase\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+from test_framework.script import (\n+    CScript,\n+    OP_RETURN,\n+    OP_TRUE,\n+)\n+\n+class WalletPruningTest(BitcoinTestFramework):\n+    nTime = 0\n+    def mine_large_blocks(self, node, n):\n+        # Get the block parameters for the first block\n+        best_block = node.getblock(node.getbestblockhash())\n+        height = int(best_block[\"height\"]) + 1\n+        self.nTime = max(self.nTime, int(best_block[\"time\"])) + 1\n+        previousblockhash = int(best_block[\"hash\"], 16)\n+        big_script = CScript([OP_RETURN] + [OP_TRUE] * 950000)\n+        for _ in range(n):\n+            block = create_block(hashprev=previousblockhash, ntime=self.nTime, coinbase=create_coinbase(height, script_pubkey=big_script))\n+            block.solve()\n+\n+            # Submit to the node\n+            node.submitblock(block.serialize().hex())\n+\n+            previousblockhash = block.sha256\n+            height += 1\n+\n+            # Simulate 10 minutes of work time per block\n+            # Important for matching a timestamp with a block +- some window\n+            self.nTime += 600\n+            for n in self.nodes:\n+                if n.running:\n+                    n.setmocktime(self.nTime) # Update node's time to accept future blocks\n+\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+        self.extra_args = [\n+            [], # node dedicated to mining\n+            ['-prune=550'], # node dedicated to testing pruning\n+        ]\n+\n+    def setup_nodes(self):\n+        self.add_nodes(self.num_nodes, extra_args=self.extra_args)\n+        self.start_node(0)\n+\n+    def setup_network(self):\n+        self.setup_nodes()\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def create_big_chain(self):\n+        self.log.info(\"Generating a long chain of blocks...\")\n+        # Generate 288 light blocks, the minimum required to stay on disk with prune enabled\n+        # do not sync\n+        self.generate(self.nodes[0], 288, sync_fun=lambda: None)\n+\n+        # Generate large blocks to make sure we have enough to test chain pruning\n+        self.mine_large_blocks(self.nodes[0], 600)\n+\n+    def test_wallet_import_pruned_test(self):\n+        self.log.info(\"Make sure we can import wallet when pruned and required blocks are still available\")\n+\n+        wname = \"wallet_pruned.dat\"\n+\n+        # export wallet\n+        self.nodes[1].dumpwallet(os.path.join(self.nodes[1].datadir, wname))\n+        # import wallet\n+        self.nodes[1].importwallet(os.path.join(self.nodes[1].datadir, wname))",
      "path": "test/functional/wallet_pruning.py",
      "position": null,
      "original_position": 81,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "6dc2e7141de83022f0ca0c48afd5ea7e5c4684d0",
      "in_reply_to_id": null,
      "user": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This dump&import pattern in the same wallet might be ok for checking against the RPC assertion of the newly introduced logic, but in reality the keys and scripts in the dump file are not imported in the wallet because they already exist. \r\n\r\nI don't consider this as an issue because that behavior is also tested elsewhere(`wallet_dump.py`) but I think changing this part makes for a better usage scenario. ",
      "created_at": "2022-09-30T13:34:10Z",
      "updated_at": "2022-09-30T13:34:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r984599053",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/984599053"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": 78,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 81,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1000091466",
      "pull_request_review_id": 1148476520,
      "id": 1000091466,
      "node_id": "PRRC_kwDOABII5847nC9K",
      "diff_hunk": "@@ -93,6 +93,20 @@ static void RescanWallet(CWallet& wallet, const WalletRescanReserver& reserver,\n     }\n }\n \n+static void EnsureBlockDataFromTime(interfaces::Chain& chain, const CWallet& wallet, int64_t timestamp)",
      "path": "src/wallet/rpc/backup.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "661e45300a754bd32d3558d94f56ae2d3cd87844",
      "in_reply_to_id": null,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why create a function for this? Would this be easier to reason about if it was inline?",
      "created_at": "2022-10-20T02:46:09Z",
      "updated_at": "2022-10-20T02:55:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r1000091466",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1000091466"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 96,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1000268340",
      "pull_request_review_id": 1148730887,
      "id": 1000268340,
      "node_id": "PRRC_kwDOABII5847nuI0",
      "diff_hunk": "@@ -93,6 +93,20 @@ static void RescanWallet(CWallet& wallet, const WalletRescanReserver& reserver,\n     }\n }\n \n+static void EnsureBlockDataFromTime(interfaces::Chain& chain, const CWallet& wallet, int64_t timestamp)",
      "path": "src/wallet/rpc/backup.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "661e45300a754bd32d3558d94f56ae2d3cd87844",
      "in_reply_to_id": 1000091466,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I've seen many instances of `Ensure(.*)` functions and it also helps to reduce the length of the parent function I suppose.",
      "created_at": "2022-10-20T07:53:29Z",
      "updated_at": "2022-10-20T07:53:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r1000268340",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1000268340"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 96,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1004096103",
      "pull_request_review_id": 1154262435,
      "id": 1004096103,
      "node_id": "PRRC_kwDOABII58472Upn",
      "diff_hunk": "@@ -93,6 +93,20 @@ static void RescanWallet(CWallet& wallet, const WalletRescanReserver& reserver,\n     }\n }\n \n+static void EnsureBlockDataFromTime(interfaces::Chain& chain, const CWallet& wallet, int64_t timestamp)\n+{\n+    if (!chain.havePruned())",
      "path": "src/wallet/rpc/backup.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "661e45300a754bd32d3558d94f56ae2d3cd87844",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n    if (!chain.havePruned()) {\r\n```\r\n\r\nnit (for new code)",
      "created_at": "2022-10-25T07:20:58Z",
      "updated_at": "2022-10-25T07:20:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r1004096103",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1004096103"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 98,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1009747316",
      "pull_request_review_id": 1162371128,
      "id": 1009747316,
      "node_id": "PRRC_kwDOABII5848L4V0",
      "diff_hunk": "@@ -0,0 +1,148 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import assert_equal, assert_raises_rpc_error\n+from test_framework.blocktools import create_block\n+from test_framework.blocktools import create_coinbase\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+from test_framework.script import (\n+    CScript,\n+    OP_RETURN,\n+    OP_TRUE,\n+)\n+\n+class WalletPruningTest(BitcoinTestFramework):\n+    nTime = 0\n+    def mine_large_blocks(self, node, n):\n+        # Get the block parameters for the first block\n+        best_block = node.getblock(node.getbestblockhash())\n+        height = int(best_block[\"height\"]) + 1\n+        self.nTime = max(self.nTime, int(best_block[\"time\"])) + 1\n+        previousblockhash = int(best_block[\"hash\"], 16)\n+        big_script = CScript([OP_RETURN] + [OP_TRUE] * 950000)\n+        for _ in range(n):\n+            block = create_block(hashprev=previousblockhash, ntime=self.nTime, coinbase=create_coinbase(height, script_pubkey=big_script))\n+            block.solve()\n+\n+            # Submit to the node\n+            node.submitblock(block.serialize().hex())\n+\n+            previousblockhash = block.sha256\n+            height += 1\n+\n+            # Simulate 10 minutes of work time per block\n+            # Important for matching a timestamp with a block +- some window\n+            self.nTime += 600\n+            for n in self.nodes:\n+                if n.running:\n+                    n.setmocktime(self.nTime) # Update node's time to accept future blocks\n+\n+\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+        self.extra_args = [\n+            [], # node dedicated to mining\n+            ['-prune=550'], # node dedicated to testing pruning\n+        ]\n+\n+    def setup_nodes(self):\n+        self.add_nodes(self.num_nodes, extra_args=self.extra_args)\n+        self.start_node(0)\n+\n+    def setup_network(self):\n+        self.setup_nodes()\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def test_wallet_import_pruned_test(self):\n+        self.log.info(\"Make sure we can import wallet when pruned and required blocks are still available\")\n+\n+        wname = \"wallet_pruned.dat\"\n+\n+        # Export wallet from node 0\n+        self.nodes[0].createwallet(wallet_name=\"wallet_pruned\", descriptors=self.options.descriptors, load_on_startup=True)\n+        self.nodes[0].dumpwallet(os.path.join(self.nodes[0].datadir, wname))\n+\n+        # Add mature coins to the wallet\n+        self.generatetoaddress(self.nodes[0], 1, self.nodes[0].getnewaddress(), sync_fun=lambda: None)\n+        self.generate(self.nodes[0], 100)\n+\n+        # Import wallet into node 1\n+        self.nodes[1].createwallet(wallet_name=\"wallet_pruned\", descriptors=self.options.descriptors, load_on_startup=True)\n+        self.nodes[1].importwallet(os.path.join(self.nodes[0].datadir, wname))\n+\n+        # Make sure the wallets have the same balance\n+        assert_equal(self.nodes[1].getbalance(), self.nodes[0].getbalance())\n+\n+        # Mine some blocks, pruning should not have removed the blocks required for the wallet\n+        self.mine_large_blocks(self.nodes[0], 5)\n+        self.sync_all()\n+\n+        # Import wallet, should still work\n+        self.nodes[1].importwallet(os.path.join(self.nodes[0].datadir, wname))\n+        self.log.info(\"Wallet successfully imported on pruned node\")\n+\n+    def test_wallet_import_pruned_with_missing_blocks(self):\n+        self.log.info(\"Make sure we cannot import wallet when pruned and required blocks are not available\")\n+\n+        wname = \"wallet_init.dat\"\n+\n+        # Get birthheight of wallet\n+        with open(os.path.join(self.nodes[0].datadir, wname), 'r', encoding=\"utf8\") as f:\n+            for line in f:\n+                if line.startswith('# * Best block at time of backup'):\n+                    wallet_birthheight = int(line.split(' ')[9])\n+                    break\n+\n+        assert_raises_rpc_error(-1, \"Block not available (pruned data)\", self.nodes[1].getblock, self.nodes[1].getblockhash(wallet_birthheight))\n+\n+        # Make sure wallet cannot be imported because of missing blocks\n+        # This will try to rescan blocks `TIMESTAMP_WINDOW` (2h) before the wallet birthheight.\n+        # There are 6 blocks an hour, so 11 blocks (excluding birthheight).\n+        assert_raises_rpc_error(-4, f\"Pruned blocks from height {wallet_birthheight - 11} required to import keys. Use RPC call getblockchaininfo to determine your pruned height.\", self.nodes[1].importwallet, os.path.join(self.nodes[0].datadir, wname))\n+\n+    def run_test(self):\n+        self.log.info(\"Warning! This test requires ~1.2GB of disk space\")\n+\n+        self.log.info(\"Generate a long chain of blocks...\")\n+\n+        # A blk*.dat file is 128MB\n+        # Generate 288 light blocks, the minimum required to stay on disk with prune enabled\n+        self.generate(self.nodes[0], 288, sync_fun=lambda: None)\n+        # Also generate 128MB worth of large blocks to fill the first blk*.dat file because it cannot be pruned\n+        self.mine_large_blocks(self.nodes[0], 128)\n+\n+        # Generate 50MB worth of large blocks in the second blk*.dat file\n+        self.mine_large_blocks(self.nodes[0], 50)\n+        # Create a wallet and a backup of it which birth's block is in the second blk*.dat file\n+        self.nodes[0].createwallet(wallet_name=\"wallet_init\", descriptors=self.options.descriptors, load_on_startup=True)",
      "path": "test/functional/wallet_pruning.py",
      "position": null,
      "original_position": 126,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "6abd81b11dd1a45bdffcc85ba90591474a3f48b0",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 6abd81b11dd1a45bdffcc85ba90591474a3f48b0 \"test: Wallet imports on pruned nodes\"\r\n\r\nSince this is testing legacy wallet only RPCs, we should not be looking at the `--legacy-wallet`/`--descriptors` options to determine the wallet type to create, for all wallets created in this test.\r\n\r\n```suggestion\r\n        self.nodes[0].createwallet(wallet_name=\"wallet_init\", descriptors=False, load_on_startup=True)\r\n```",
      "created_at": "2022-10-31T18:42:39Z",
      "updated_at": "2022-10-31T18:55:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r1009747316",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1009747316"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 126,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1009752111",
      "pull_request_review_id": 1162371128,
      "id": 1009752111,
      "node_id": "PRRC_kwDOABII5848L5gv",
      "diff_hunk": "@@ -83,6 +83,7 @@\n     'feature_pruning.py',\n     'feature_dbcrash.py',\n     'feature_index_prune.py',\n+    'wallet_pruning.py',",
      "path": "test/functional/test_runner.py",
      "position": null,
      "original_position": 4,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "6abd81b11dd1a45bdffcc85ba90591474a3f48b0",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 6abd81b11dd1a45bdffcc85ba90591474a3f48b0 \"test: Wallet imports on pruned nodes\"\r\n\r\nShould have `--legacy-wallet` to indicate that this test is a legacy wallet only test. Also, the default is `--descriptors`.\r\n\r\n```suggestion\r\n    'wallet_pruning.py --legacy-wallet',\r\n```",
      "created_at": "2022-10-31T18:48:13Z",
      "updated_at": "2022-10-31T18:55:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r1009752111",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1009752111"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 88,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1010070688",
      "pull_request_review_id": 1162828009,
      "id": 1010070688,
      "node_id": "PRRC_kwDOABII5848NHSg",
      "diff_hunk": "@@ -10,8 +10,8 @@\n \"\"\"\n import os\n \n+from test_framework.blocktools import create_block\n from test_framework.blocktools import create_coinbase",
      "path": "test/functional/feature_pruning.py",
      "position": null,
      "original_position": 5,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "6abd81b11dd1a45bdffcc85ba90591474a3f48b0",
      "in_reply_to_id": null,
      "user": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\nfrom test_framework.blocktools import (\r\n    create_block,\r\n    create_coinbase,\r\n)\r\n```\r\n```",
      "created_at": "2022-11-01T04:54:58Z",
      "updated_at": "2022-11-01T04:54:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r1010070688",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1010070688"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": 13,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 14,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1010821118",
      "pull_request_review_id": 1163929402,
      "id": 1010821118,
      "node_id": "PRRC_kwDOABII5848P-f-",
      "diff_hunk": "@@ -0,0 +1,148 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import assert_equal, assert_raises_rpc_error\n+from test_framework.blocktools import create_block\n+from test_framework.blocktools import create_coinbase\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+from test_framework.script import (\n+    CScript,\n+    OP_RETURN,\n+    OP_TRUE,\n+)\n+\n+class WalletPruningTest(BitcoinTestFramework):\n+    nTime = 0\n+    def mine_large_blocks(self, node, n):\n+        # Get the block parameters for the first block\n+        best_block = node.getblock(node.getbestblockhash())\n+        height = int(best_block[\"height\"]) + 1\n+        self.nTime = max(self.nTime, int(best_block[\"time\"])) + 1\n+        previousblockhash = int(best_block[\"hash\"], 16)\n+        big_script = CScript([OP_RETURN] + [OP_TRUE] * 950000)\n+        for _ in range(n):\n+            block = create_block(hashprev=previousblockhash, ntime=self.nTime, coinbase=create_coinbase(height, script_pubkey=big_script))\n+            block.solve()\n+\n+            # Submit to the node\n+            node.submitblock(block.serialize().hex())\n+\n+            previousblockhash = block.sha256\n+            height += 1\n+\n+            # Simulate 10 minutes of work time per block\n+            # Important for matching a timestamp with a block +- some window\n+            self.nTime += 600\n+            for n in self.nodes:\n+                if n.running:\n+                    n.setmocktime(self.nTime) # Update node's time to accept future blocks\n+\n+\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+        self.extra_args = [\n+            [], # node dedicated to mining\n+            ['-prune=550'], # node dedicated to testing pruning\n+        ]\n+\n+    def setup_nodes(self):\n+        self.add_nodes(self.num_nodes, extra_args=self.extra_args)\n+        self.start_node(0)\n+\n+    def setup_network(self):\n+        self.setup_nodes()\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def test_wallet_import_pruned_test(self):\n+        self.log.info(\"Make sure we can import wallet when pruned and required blocks are still available\")\n+\n+        wname = \"wallet_pruned.dat\"\n+\n+        # Export wallet from node 0\n+        self.nodes[0].createwallet(wallet_name=\"wallet_pruned\", descriptors=self.options.descriptors, load_on_startup=True)",
      "path": "test/functional/wallet_pruning.py",
      "position": null,
      "original_position": 71,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "a0762cf6ec0bbc5eb770912a1ab917862f5515ca",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In a0762cf6ec0bbc5eb770912a1ab917862f5515ca \"test: Wallet imports on pruned nodes\"\r\n\r\n```suggestion\r\n        self.nodes[0].createwallet(wallet_name=\"wallet_pruned\", descriptors=False, load_on_startup=True)\r\n```",
      "created_at": "2022-11-01T19:28:19Z",
      "updated_at": "2022-11-01T19:28:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r1010821118",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1010821118"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 71,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1010821202",
      "pull_request_review_id": 1163929402,
      "id": 1010821202,
      "node_id": "PRRC_kwDOABII5848P-hS",
      "diff_hunk": "@@ -0,0 +1,148 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import assert_equal, assert_raises_rpc_error\n+from test_framework.blocktools import create_block\n+from test_framework.blocktools import create_coinbase\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+from test_framework.script import (\n+    CScript,\n+    OP_RETURN,\n+    OP_TRUE,\n+)\n+\n+class WalletPruningTest(BitcoinTestFramework):\n+    nTime = 0\n+    def mine_large_blocks(self, node, n):\n+        # Get the block parameters for the first block\n+        best_block = node.getblock(node.getbestblockhash())\n+        height = int(best_block[\"height\"]) + 1\n+        self.nTime = max(self.nTime, int(best_block[\"time\"])) + 1\n+        previousblockhash = int(best_block[\"hash\"], 16)\n+        big_script = CScript([OP_RETURN] + [OP_TRUE] * 950000)\n+        for _ in range(n):\n+            block = create_block(hashprev=previousblockhash, ntime=self.nTime, coinbase=create_coinbase(height, script_pubkey=big_script))\n+            block.solve()\n+\n+            # Submit to the node\n+            node.submitblock(block.serialize().hex())\n+\n+            previousblockhash = block.sha256\n+            height += 1\n+\n+            # Simulate 10 minutes of work time per block\n+            # Important for matching a timestamp with a block +- some window\n+            self.nTime += 600\n+            for n in self.nodes:\n+                if n.running:\n+                    n.setmocktime(self.nTime) # Update node's time to accept future blocks\n+\n+\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+        self.extra_args = [\n+            [], # node dedicated to mining\n+            ['-prune=550'], # node dedicated to testing pruning\n+        ]\n+\n+    def setup_nodes(self):\n+        self.add_nodes(self.num_nodes, extra_args=self.extra_args)\n+        self.start_node(0)\n+\n+    def setup_network(self):\n+        self.setup_nodes()\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def test_wallet_import_pruned_test(self):\n+        self.log.info(\"Make sure we can import wallet when pruned and required blocks are still available\")\n+\n+        wname = \"wallet_pruned.dat\"\n+\n+        # Export wallet from node 0\n+        self.nodes[0].createwallet(wallet_name=\"wallet_pruned\", descriptors=self.options.descriptors, load_on_startup=True)\n+        self.nodes[0].dumpwallet(os.path.join(self.nodes[0].datadir, wname))\n+\n+        # Add mature coins to the wallet\n+        self.generatetoaddress(self.nodes[0], 1, self.nodes[0].getnewaddress(), sync_fun=lambda: None)\n+        self.generate(self.nodes[0], 100)\n+\n+        # Import wallet into node 1\n+        self.nodes[1].createwallet(wallet_name=\"wallet_pruned\", descriptors=self.options.descriptors, load_on_startup=True)",
      "path": "test/functional/wallet_pruning.py",
      "position": null,
      "original_position": 79,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "a0762cf6ec0bbc5eb770912a1ab917862f5515ca",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In a0762cf6ec0bbc5eb770912a1ab917862f5515ca \"test: Wallet imports on pruned nodes\"\r\n\r\n```suggestion\r\n        self.nodes[1].createwallet(wallet_name=\"wallet_pruned\", descriptors=False, load_on_startup=True)\r\n```",
      "created_at": "2022-11-01T19:28:25Z",
      "updated_at": "2022-11-01T19:28:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r1010821202",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1010821202"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 79,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1011559755",
      "pull_request_review_id": 1164999138,
      "id": 1011559755,
      "node_id": "PRRC_kwDOABII5848Sy1L",
      "diff_hunk": "@@ -0,0 +1,148 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import assert_equal, assert_raises_rpc_error\n+from test_framework.blocktools import create_block\n+from test_framework.blocktools import create_coinbase\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+from test_framework.script import (\n+    CScript,\n+    OP_RETURN,\n+    OP_TRUE,\n+)\n+\n+class WalletPruningTest(BitcoinTestFramework):\n+    nTime = 0\n+    def mine_large_blocks(self, node, n):\n+        # Get the block parameters for the first block\n+        best_block = node.getblock(node.getbestblockhash())\n+        height = int(best_block[\"height\"]) + 1\n+        self.nTime = max(self.nTime, int(best_block[\"time\"])) + 1\n+        previousblockhash = int(best_block[\"hash\"], 16)\n+        big_script = CScript([OP_RETURN] + [OP_TRUE] * 950000)\n+        for _ in range(n):\n+            block = create_block(hashprev=previousblockhash, ntime=self.nTime, coinbase=create_coinbase(height, script_pubkey=big_script))\n+            block.solve()\n+\n+            # Submit to the node\n+            node.submitblock(block.serialize().hex())\n+\n+            previousblockhash = block.sha256\n+            height += 1\n+\n+            # Simulate 10 minutes of work time per block\n+            # Important for matching a timestamp with a block +- some window\n+            self.nTime += 600\n+            for n in self.nodes:\n+                if n.running:\n+                    n.setmocktime(self.nTime) # Update node's time to accept future blocks\n+\n+\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+        self.extra_args = [\n+            [], # node dedicated to mining\n+            ['-prune=550'], # node dedicated to testing pruning\n+        ]\n+\n+    def setup_nodes(self):\n+        self.add_nodes(self.num_nodes, extra_args=self.extra_args)\n+        self.start_node(0)\n+\n+    def setup_network(self):\n+        self.setup_nodes()\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def test_wallet_import_pruned_test(self):\n+        self.log.info(\"Make sure we can import wallet when pruned and required blocks are still available\")\n+\n+        wname = \"wallet_pruned.dat\"\n+\n+        # Export wallet from node 0\n+        self.nodes[0].createwallet(wallet_name=\"wallet_pruned\", descriptors=self.options.descriptors, load_on_startup=True)",
      "path": "test/functional/wallet_pruning.py",
      "position": null,
      "original_position": 71,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "a0762cf6ec0bbc5eb770912a1ab917862f5515ca",
      "in_reply_to_id": 1010821118,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Oops, pushed.",
      "created_at": "2022-11-02T10:54:05Z",
      "updated_at": "2022-11-02T10:54:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r1011559755",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1011559755"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 71,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1014135293",
      "pull_request_review_id": 1168712278,
      "id": 1014135293,
      "node_id": "PRRC_kwDOABII5848cnn9",
      "diff_hunk": "@@ -0,0 +1,148 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import assert_equal, assert_raises_rpc_error\n+from test_framework.blocktools import create_block\n+from test_framework.blocktools import create_coinbase\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+from test_framework.script import (\n+    CScript,\n+    OP_RETURN,\n+    OP_TRUE,\n+)\n+\n+class WalletPruningTest(BitcoinTestFramework):\n+    nTime = 0\n+    def mine_large_blocks(self, node, n):\n+        # Get the block parameters for the first block\n+        best_block = node.getblock(node.getbestblockhash())\n+        height = int(best_block[\"height\"]) + 1\n+        self.nTime = max(self.nTime, int(best_block[\"time\"])) + 1\n+        previousblockhash = int(best_block[\"hash\"], 16)\n+        big_script = CScript([OP_RETURN] + [OP_TRUE] * 950000)\n+        for _ in range(n):\n+            block = create_block(hashprev=previousblockhash, ntime=self.nTime, coinbase=create_coinbase(height, script_pubkey=big_script))\n+            block.solve()\n+\n+            # Submit to the node\n+            node.submitblock(block.serialize().hex())\n+\n+            previousblockhash = block.sha256\n+            height += 1\n+\n+            # Simulate 10 minutes of work time per block\n+            # Important for matching a timestamp with a block +- some window\n+            self.nTime += 600\n+            for n in self.nodes:\n+                if n.running:\n+                    n.setmocktime(self.nTime) # Update node's time to accept future blocks\n+\n+\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+        self.extra_args = [\n+            [], # node dedicated to mining\n+            ['-prune=550'], # node dedicated to testing pruning\n+        ]\n+\n+    def setup_nodes(self):\n+        self.add_nodes(self.num_nodes, extra_args=self.extra_args)\n+        self.start_node(0)\n+\n+    def setup_network(self):\n+        self.setup_nodes()\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def test_wallet_import_pruned_test(self):\n+        self.log.info(\"Make sure we can import wallet when pruned and required blocks are still available\")\n+\n+        wname = \"wallet_pruned.dat\"\n+\n+        # Export wallet from node 0\n+        self.nodes[0].createwallet(wallet_name=\"wallet_pruned\", descriptors=False, load_on_startup=True)\n+        self.nodes[0].dumpwallet(os.path.join(self.nodes[0].datadir, wname))\n+\n+        # Add mature coins to the wallet\n+        self.generatetoaddress(self.nodes[0], 1, self.nodes[0].getnewaddress(), sync_fun=lambda: None)\n+        self.generate(self.nodes[0], 100)\n+\n+        # Import wallet into node 1\n+        self.nodes[1].createwallet(wallet_name=\"wallet_pruned\", descriptors=False, load_on_startup=True)\n+        self.nodes[1].importwallet(os.path.join(self.nodes[0].datadir, wname))\n+\n+        # Make sure the wallets have the same balance\n+        assert_equal(self.nodes[1].getbalance(), self.nodes[0].getbalance())\n+\n+        # Mine some blocks, pruning should not have removed the blocks required for the wallet\n+        self.mine_large_blocks(self.nodes[0], 5)\n+        self.sync_all()\n+\n+        # Import wallet, should still work\n+        self.nodes[1].importwallet(os.path.join(self.nodes[0].datadir, wname))\n+        self.log.info(\"Wallet successfully imported on pruned node\")\n+\n+    def test_wallet_import_pruned_with_missing_blocks(self):\n+        self.log.info(\"Make sure we cannot import wallet when pruned and required blocks are not available\")\n+\n+        wname = \"wallet_init.dat\"",
      "path": "test/functional/wallet_pruning.py",
      "position": null,
      "original_position": 96,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "c46f5fe58e60ad1ff25978604243a90fce6b634c",
      "in_reply_to_id": null,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In c46f5fe5:\r\n\r\nTiny nit, this could be passed as an argument so we avoid hardcoding file names more than once.",
      "created_at": "2022-11-04T15:03:53Z",
      "updated_at": "2022-11-04T15:04:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r1014135293",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1014135293"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 96,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019275420",
      "pull_request_review_id": 1175989744,
      "id": 1019275420,
      "node_id": "PRRC_kwDOABII5848wOic",
      "diff_hunk": "@@ -0,0 +1,148 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import assert_equal, assert_raises_rpc_error\n+from test_framework.blocktools import create_block\n+from test_framework.blocktools import create_coinbase\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+from test_framework.script import (\n+    CScript,\n+    OP_RETURN,\n+    OP_TRUE,\n+)\n+\n+class WalletPruningTest(BitcoinTestFramework):\n+    nTime = 0\n+    def mine_large_blocks(self, node, n):\n+        # Get the block parameters for the first block\n+        best_block = node.getblock(node.getbestblockhash())\n+        height = int(best_block[\"height\"]) + 1\n+        self.nTime = max(self.nTime, int(best_block[\"time\"])) + 1\n+        previousblockhash = int(best_block[\"hash\"], 16)\n+        big_script = CScript([OP_RETURN] + [OP_TRUE] * 950000)\n+        for _ in range(n):\n+            block = create_block(hashprev=previousblockhash, ntime=self.nTime, coinbase=create_coinbase(height, script_pubkey=big_script))\n+            block.solve()\n+\n+            # Submit to the node\n+            node.submitblock(block.serialize().hex())\n+\n+            previousblockhash = block.sha256\n+            height += 1\n+\n+            # Simulate 10 minutes of work time per block\n+            # Important for matching a timestamp with a block +- some window\n+            self.nTime += 600\n+            for n in self.nodes:\n+                if n.running:\n+                    n.setmocktime(self.nTime) # Update node's time to accept future blocks\n+\n+\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+        self.extra_args = [\n+            [], # node dedicated to mining\n+            ['-prune=550'], # node dedicated to testing pruning\n+        ]\n+\n+    def setup_nodes(self):\n+        self.add_nodes(self.num_nodes, extra_args=self.extra_args)\n+        self.start_node(0)\n+\n+    def setup_network(self):\n+        self.setup_nodes()\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def test_wallet_import_pruned_test(self):\n+        self.log.info(\"Make sure we can import wallet when pruned and required blocks are still available\")\n+\n+        wname = \"wallet_pruned.dat\"\n+\n+        # Export wallet from node 0\n+        self.nodes[0].createwallet(wallet_name=\"wallet_pruned\", descriptors=False, load_on_startup=True)\n+        self.nodes[0].dumpwallet(os.path.join(self.nodes[0].datadir, wname))\n+\n+        # Add mature coins to the wallet\n+        self.generatetoaddress(self.nodes[0], 1, self.nodes[0].getnewaddress(), sync_fun=lambda: None)\n+        self.generate(self.nodes[0], 100)\n+\n+        # Import wallet into node 1\n+        self.nodes[1].createwallet(wallet_name=\"wallet_pruned\", descriptors=False, load_on_startup=True)\n+        self.nodes[1].importwallet(os.path.join(self.nodes[0].datadir, wname))\n+\n+        # Make sure the wallets have the same balance\n+        assert_equal(self.nodes[1].getbalance(), self.nodes[0].getbalance())\n+\n+        # Mine some blocks, pruning should not have removed the blocks required for the wallet\n+        self.mine_large_blocks(self.nodes[0], 5)\n+        self.sync_all()\n+\n+        # Import wallet, should still work\n+        self.nodes[1].importwallet(os.path.join(self.nodes[0].datadir, wname))\n+        self.log.info(\"Wallet successfully imported on pruned node\")\n+\n+    def test_wallet_import_pruned_with_missing_blocks(self):\n+        self.log.info(\"Make sure we cannot import wallet when pruned and required blocks are not available\")\n+\n+        wname = \"wallet_init.dat\"\n+\n+        # Get birthheight of wallet\n+        with open(os.path.join(self.nodes[0].datadir, wname), 'r', encoding=\"utf8\") as f:\n+            for line in f:\n+                if line.startswith('# * Best block at time of backup'):\n+                    wallet_birthheight = int(line.split(' ')[9])\n+                    break\n+\n+        assert_raises_rpc_error(-1, \"Block not available (pruned data)\", self.nodes[1].getblock, self.nodes[1].getblockhash(wallet_birthheight))\n+\n+        # Make sure wallet cannot be imported because of missing blocks\n+        # This will try to rescan blocks `TIMESTAMP_WINDOW` (2h) before the wallet birthheight.\n+        # There are 6 blocks an hour, so 11 blocks (excluding birthheight).\n+        assert_raises_rpc_error(-4, f\"Pruned blocks from height {wallet_birthheight - 11} required to import keys. Use RPC call getblockchaininfo to determine your pruned height.\", self.nodes[1].importwallet, os.path.join(self.nodes[0].datadir, wname))\n+\n+    def run_test(self):\n+        self.log.info(\"Warning! This test requires ~1.2GB of disk space\")\n+\n+        self.log.info(\"Generate a long chain of blocks...\")\n+\n+        # A blk*.dat file is 128MB\n+        # Generate 288 light blocks, the minimum required to stay on disk with prune enabled\n+        self.generate(self.nodes[0], 288, sync_fun=lambda: None)",
      "path": "test/functional/wallet_pruning.py",
      "position": null,
      "original_position": 119,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "c46f5fe58e60ad1ff25978604243a90fce6b634c",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: not directly related to this PR, but as a follow-up I think it would make sense to introduce the constant [`MIN_BLOCKS_TO_KEEP`](https://github.com/bitcoin/bitcoin/blob/9dce30194bc07463d634072251a8bf83e1b10ff9/src/validation.h#L68-L69) into the functional test framework, in order to the replace this magic number here and in other tests (e.g. feature_pruning.py)",
      "created_at": "2022-11-10T15:24:34Z",
      "updated_at": "2022-11-10T15:37:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r1019275420",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019275420"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 120,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019285076",
      "pull_request_review_id": 1175989744,
      "id": 1019285076,
      "node_id": "PRRC_kwDOABII5848wQ5U",
      "diff_hunk": "@@ -0,0 +1,148 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import assert_equal, assert_raises_rpc_error\n+from test_framework.blocktools import create_block\n+from test_framework.blocktools import create_coinbase\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+from test_framework.script import (\n+    CScript,\n+    OP_RETURN,\n+    OP_TRUE,\n+)\n+\n+class WalletPruningTest(BitcoinTestFramework):\n+    nTime = 0\n+    def mine_large_blocks(self, node, n):\n+        # Get the block parameters for the first block\n+        best_block = node.getblock(node.getbestblockhash())\n+        height = int(best_block[\"height\"]) + 1\n+        self.nTime = max(self.nTime, int(best_block[\"time\"])) + 1\n+        previousblockhash = int(best_block[\"hash\"], 16)\n+        big_script = CScript([OP_RETURN] + [OP_TRUE] * 950000)\n+        for _ in range(n):\n+            block = create_block(hashprev=previousblockhash, ntime=self.nTime, coinbase=create_coinbase(height, script_pubkey=big_script))\n+            block.solve()\n+\n+            # Submit to the node\n+            node.submitblock(block.serialize().hex())\n+\n+            previousblockhash = block.sha256\n+            height += 1\n+\n+            # Simulate 10 minutes of work time per block\n+            # Important for matching a timestamp with a block +- some window\n+            self.nTime += 600\n+            for n in self.nodes:\n+                if n.running:\n+                    n.setmocktime(self.nTime) # Update node's time to accept future blocks\n+\n+\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+        self.extra_args = [\n+            [], # node dedicated to mining\n+            ['-prune=550'], # node dedicated to testing pruning\n+        ]\n+\n+    def setup_nodes(self):\n+        self.add_nodes(self.num_nodes, extra_args=self.extra_args)\n+        self.start_node(0)\n+\n+    def setup_network(self):\n+        self.setup_nodes()\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()",
      "path": "test/functional/wallet_pruning.py",
      "position": null,
      "original_position": 63,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "c46f5fe58e60ad1ff25978604243a90fce6b634c",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Should ensure here that the test is only run if legacy wallet support (BDB) is compiled in:\r\n```suggestion\r\n        self.skip_if_no_wallet()\r\n        self.skip_if_no_bdb()\r\n```",
      "created_at": "2022-11-10T15:32:37Z",
      "updated_at": "2022-11-10T15:37:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r1019285076",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019285076"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 63,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1031634352",
      "pull_request_review_id": 1193334619,
      "id": 1031634352,
      "node_id": "PRRC_kwDOABII5849fX2w",
      "diff_hunk": "@@ -565,15 +573,18 @@ RPCHelpMan importwallet()\n                         fLabel = true;\n                     }\n                 }\n+                nTimeBegin = std::min(nTimeBegin, nTime);\n                 keys.push_back(std::make_tuple(key, nTime, fLabel, strLabel));\n             } else if(IsHex(vstr[0])) {\n                 std::vector<unsigned char> vData(ParseHex(vstr[0]));\n                 CScript script = CScript(vData.begin(), vData.end());\n                 int64_t birth_time = ParseISO8601DateTime(vstr[1]);\n+                if (birth_time > 0) nTimeBegin = std::min(nTimeBegin, birth_time);\n                 scripts.push_back(std::pair<CScript, int64_t>(script, birth_time));\n             }\n         }\n         file.close();\n+        EnsureBlockDataFromTime(pwallet->chain(), *pwallet, nTimeBegin);",
      "path": "src/wallet/rpc/backup.cpp",
      "position": null,
      "original_position": 51,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "c594dbc7560f18a657bd624983ca58732b0f3183",
      "in_reply_to_id": null,
      "user": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Is there a reason that you are passing the chain interface as a separate argument instead  of accessing it inside the function with `wallet.chain().*`?",
      "created_at": "2022-11-24T15:26:21Z",
      "updated_at": "2022-11-25T13:56:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r1031634352",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1031634352"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 587,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1031637798",
      "pull_request_review_id": 1193334619,
      "id": 1031637798,
      "node_id": "PRRC_kwDOABII5849fYsm",
      "diff_hunk": "@@ -0,0 +1,150 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import assert_equal, assert_raises_rpc_error\n+from test_framework.blocktools import MIN_BLOCKS_TO_KEEP, create_block\n+from test_framework.blocktools import create_coinbase\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+from test_framework.script import (\n+    CScript,\n+    OP_RETURN,\n+    OP_TRUE,\n+)\n+\n+class WalletPruningTest(BitcoinTestFramework):\n+    nTime = 0\n+    def mine_large_blocks(self, node, n):\n+        # Get the block parameters for the first block\n+        best_block = node.getblock(node.getbestblockhash())\n+        height = int(best_block[\"height\"]) + 1\n+        self.nTime = max(self.nTime, int(best_block[\"time\"])) + 1\n+        previousblockhash = int(best_block[\"hash\"], 16)\n+        big_script = CScript([OP_RETURN] + [OP_TRUE] * 950000)\n+        for _ in range(n):\n+            block = create_block(hashprev=previousblockhash, ntime=self.nTime, coinbase=create_coinbase(height, script_pubkey=big_script))\n+            block.solve()\n+\n+            # Submit to the node\n+            node.submitblock(block.serialize().hex())\n+\n+            previousblockhash = block.sha256\n+            height += 1\n+\n+            # Simulate 10 minutes of work time per block\n+            # Important for matching a timestamp with a block +- some window\n+            self.nTime += 600\n+            for n in self.nodes:\n+                if n.running:\n+                    n.setmocktime(self.nTime) # Update node's time to accept future blocks\n+\n+\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+        self.extra_args = [\n+            [], # node dedicated to mining\n+            ['-prune=550'], # node dedicated to testing pruning\n+        ]\n+\n+    def setup_nodes(self):\n+        self.add_nodes(self.num_nodes, extra_args=self.extra_args)\n+        self.start_node(0)\n+\n+    def setup_network(self):\n+        self.setup_nodes()\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+        self.skip_if_no_bdb()\n+\n+    def test_wallet_import_pruned_test(self):\n+        self.log.info(\"Make sure we can import wallet when pruned and required blocks are still available\")\n+\n+        wname = \"wallet_pruned.dat\"\n+\n+        # Export wallet from node 0\n+        self.nodes[0].createwallet(wallet_name=\"wallet_pruned\", descriptors=False, load_on_startup=True)\n+        self.nodes[0].dumpwallet(os.path.join(self.nodes[0].datadir, wname))\n+\n+        # Add mature coins to the wallet\n+        self.generatetoaddress(self.nodes[0], 1, self.nodes[0].getnewaddress(), sync_fun=lambda: None)\n+        self.generate(self.nodes[0], 100)\n+\n+        # Import wallet into node 1\n+        self.nodes[1].createwallet(wallet_name=\"wallet_pruned\", descriptors=False, load_on_startup=True)\n+        self.nodes[1].importwallet(os.path.join(self.nodes[0].datadir, wname))\n+\n+        # Make sure the wallets have the same balance\n+        assert_equal(self.nodes[1].getbalance(), self.nodes[0].getbalance())\n+\n+        # Mine some blocks, pruning should not have removed the blocks required for the wallet\n+        self.mine_large_blocks(self.nodes[0], 5)\n+        self.sync_all()\n+\n+        # Import wallet, should still work\n+        self.nodes[1].importwallet(os.path.join(self.nodes[0].datadir, wname))\n+        self.log.info(\"Wallet successfully imported on pruned node\")\n+\n+    def test_wallet_import_pruned_with_missing_blocks(self, wallet_name):\n+        self.log.info(\"Make sure we cannot import wallet when pruned and required blocks are not available\")\n+\n+        wname = wallet_name + \".dat\"\n+\n+        # Get birthheight of wallet\n+        with open(os.path.join(self.nodes[0].datadir, wname), 'r', encoding=\"utf8\") as f:\n+            for line in f:\n+                if line.startswith('# * Best block at time of backup'):\n+                    wallet_birthheight = int(line.split(' ')[9])\n+                    break\n+\n+        assert_raises_rpc_error(-1, \"Block not available (pruned data)\", self.nodes[1].getblock, self.nodes[1].getblockhash(wallet_birthheight))\n+\n+        # Make sure wallet cannot be imported because of missing blocks\n+        # This will try to rescan blocks `TIMESTAMP_WINDOW` (2h) before the wallet birthheight.\n+        # There are 6 blocks an hour, so 11 blocks (excluding birthheight).\n+        assert_raises_rpc_error(-4, f\"Pruned blocks from height {wallet_birthheight - 11} required to import keys. Use RPC call getblockchaininfo to determine your pruned height.\", self.nodes[1].importwallet, os.path.join(self.nodes[0].datadir, wname))\n+\n+    def run_test(self):\n+        self.log.info(\"Warning! This test requires ~1.1GB of disk space\")\n+\n+        self.log.info(\"Generate a long chain of blocks...\")\n+\n+        # A blk*.dat file is 128MB\n+        # Generate 288 light blocks, the minimum required to stay on disk with prune enabled\n+        self.generate(self.nodes[0], MIN_BLOCKS_TO_KEEP, sync_fun=lambda: None)",
      "path": "test/functional/wallet_pruning.py",
      "position": null,
      "original_position": 120,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "c594dbc7560f18a657bd624983ca58732b0f3183",
      "in_reply_to_id": null,
      "user": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Is this different than \r\n```suggestion\r\n        self.generate(self.nodes[0], MIN_BLOCKS_TO_KEEP, sync_fun=self.no_op)\r\n```\r\nIf not, I think it's better to keep it consistent across tests.",
      "created_at": "2022-11-24T15:30:10Z",
      "updated_at": "2022-11-25T13:56:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r1031637798",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1031637798"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 120,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032073285",
      "pull_request_review_id": 1193334619,
      "id": 1032073285,
      "node_id": "PRRC_kwDOABII5849hDBF",
      "diff_hunk": "@@ -0,0 +1,150 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import assert_equal, assert_raises_rpc_error\n+from test_framework.blocktools import MIN_BLOCKS_TO_KEEP, create_block\n+from test_framework.blocktools import create_coinbase\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+from test_framework.script import (\n+    CScript,\n+    OP_RETURN,\n+    OP_TRUE,\n+)\n+\n+class WalletPruningTest(BitcoinTestFramework):\n+    nTime = 0\n+    def mine_large_blocks(self, node, n):\n+        # Get the block parameters for the first block\n+        best_block = node.getblock(node.getbestblockhash())\n+        height = int(best_block[\"height\"]) + 1\n+        self.nTime = max(self.nTime, int(best_block[\"time\"])) + 1\n+        previousblockhash = int(best_block[\"hash\"], 16)\n+        big_script = CScript([OP_RETURN] + [OP_TRUE] * 950000)\n+        for _ in range(n):\n+            block = create_block(hashprev=previousblockhash, ntime=self.nTime, coinbase=create_coinbase(height, script_pubkey=big_script))\n+            block.solve()\n+\n+            # Submit to the node\n+            node.submitblock(block.serialize().hex())\n+\n+            previousblockhash = block.sha256\n+            height += 1\n+\n+            # Simulate 10 minutes of work time per block\n+            # Important for matching a timestamp with a block +- some window\n+            self.nTime += 600\n+            for n in self.nodes:\n+                if n.running:\n+                    n.setmocktime(self.nTime) # Update node's time to accept future blocks\n+\n+\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+        self.extra_args = [\n+            [], # node dedicated to mining\n+            ['-prune=550'], # node dedicated to testing pruning\n+        ]\n+\n+    def setup_nodes(self):\n+        self.add_nodes(self.num_nodes, extra_args=self.extra_args)\n+        self.start_node(0)\n+\n+    def setup_network(self):\n+        self.setup_nodes()\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+        self.skip_if_no_bdb()\n+\n+    def test_wallet_import_pruned_test(self):\n+        self.log.info(\"Make sure we can import wallet when pruned and required blocks are still available\")\n+\n+        wname = \"wallet_pruned.dat\"\n+\n+        # Export wallet from node 0\n+        self.nodes[0].createwallet(wallet_name=\"wallet_pruned\", descriptors=False, load_on_startup=True)\n+        self.nodes[0].dumpwallet(os.path.join(self.nodes[0].datadir, wname))\n+\n+        # Add mature coins to the wallet\n+        self.generatetoaddress(self.nodes[0], 1, self.nodes[0].getnewaddress(), sync_fun=lambda: None)\n+        self.generate(self.nodes[0], 100)\n+\n+        # Import wallet into node 1\n+        self.nodes[1].createwallet(wallet_name=\"wallet_pruned\", descriptors=False, load_on_startup=True)\n+        self.nodes[1].importwallet(os.path.join(self.nodes[0].datadir, wname))\n+\n+        # Make sure the wallets have the same balance\n+        assert_equal(self.nodes[1].getbalance(), self.nodes[0].getbalance())\n+\n+        # Mine some blocks, pruning should not have removed the blocks required for the wallet\n+        self.mine_large_blocks(self.nodes[0], 5)\n+        self.sync_all()\n+\n+        # Import wallet, should still work\n+        self.nodes[1].importwallet(os.path.join(self.nodes[0].datadir, wname))\n+        self.log.info(\"Wallet successfully imported on pruned node\")\n+\n+    def test_wallet_import_pruned_with_missing_blocks(self, wallet_name):\n+        self.log.info(\"Make sure we cannot import wallet when pruned and required blocks are not available\")\n+\n+        wname = wallet_name + \".dat\"\n+\n+        # Get birthheight of wallet\n+        with open(os.path.join(self.nodes[0].datadir, wname), 'r', encoding=\"utf8\") as f:\n+            for line in f:\n+                if line.startswith('# * Best block at time of backup'):\n+                    wallet_birthheight = int(line.split(' ')[9])\n+                    break\n+\n+        assert_raises_rpc_error(-1, \"Block not available (pruned data)\", self.nodes[1].getblock, self.nodes[1].getblockhash(wallet_birthheight))\n+\n+        # Make sure wallet cannot be imported because of missing blocks\n+        # This will try to rescan blocks `TIMESTAMP_WINDOW` (2h) before the wallet birthheight.\n+        # There are 6 blocks an hour, so 11 blocks (excluding birthheight).\n+        assert_raises_rpc_error(-4, f\"Pruned blocks from height {wallet_birthheight - 11} required to import keys. Use RPC call getblockchaininfo to determine your pruned height.\", self.nodes[1].importwallet, os.path.join(self.nodes[0].datadir, wname))\n+\n+    def run_test(self):\n+        self.log.info(\"Warning! This test requires ~1.1GB of disk space\")\n+\n+        self.log.info(\"Generate a long chain of blocks...\")\n+\n+        # A blk*.dat file is 128MB\n+        # Generate 288 light blocks, the minimum required to stay on disk with prune enabled\n+        self.generate(self.nodes[0], MIN_BLOCKS_TO_KEEP, sync_fun=lambda: None)\n+\n+        # Generate 50MB worth of large blocks in the second blk*.dat file\n+        self.mine_large_blocks(self.nodes[0], 50)",
      "path": "test/functional/wallet_pruning.py",
      "position": null,
      "original_position": 123,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "c594dbc7560f18a657bd624983ca58732b0f3183",
      "in_reply_to_id": null,
      "user": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Are you sure that the files generated here are part of the second blk*.data file?\r\nUsing an adaptation of this function says otherwise\r\nhttps://github.com/bitcoin/bitcoin/blob/38d06e1561013f4ca845fd5ba6ffcc64de67f9c0/test/functional/feature_pruning.py#L296-L297\r\n\r\nYour [latest push](https://github.com/bitcoin/bitcoin/compare/eb2e54d00e7c03e0ca5238a2fabe078fca08b1c2..c594dbc7560f18a657bd624983ca58732b0f3183) decreasing the number of generated large blocks invalidate this statement.\r\nI calculated that you need min 142 blocks to be generated here in order for the the `blk00001.dat` file to be created, resulting to the wallet that you create below to actually have a birth height in this file.",
      "created_at": "2022-11-25T07:29:19Z",
      "updated_at": "2022-11-25T13:56:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r1032073285",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032073285"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": 122,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 127,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032100918",
      "pull_request_review_id": 1193334619,
      "id": 1032100918,
      "node_id": "PRRC_kwDOABII5849hJw2",
      "diff_hunk": "@@ -0,0 +1,150 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import assert_equal, assert_raises_rpc_error\n+from test_framework.blocktools import MIN_BLOCKS_TO_KEEP, create_block\n+from test_framework.blocktools import create_coinbase\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+from test_framework.script import (\n+    CScript,\n+    OP_RETURN,\n+    OP_TRUE,\n+)\n+\n+class WalletPruningTest(BitcoinTestFramework):\n+    nTime = 0\n+    def mine_large_blocks(self, node, n):\n+        # Get the block parameters for the first block\n+        best_block = node.getblock(node.getbestblockhash())\n+        height = int(best_block[\"height\"]) + 1\n+        self.nTime = max(self.nTime, int(best_block[\"time\"])) + 1\n+        previousblockhash = int(best_block[\"hash\"], 16)\n+        big_script = CScript([OP_RETURN] + [OP_TRUE] * 950000)\n+        for _ in range(n):\n+            block = create_block(hashprev=previousblockhash, ntime=self.nTime, coinbase=create_coinbase(height, script_pubkey=big_script))\n+            block.solve()\n+\n+            # Submit to the node\n+            node.submitblock(block.serialize().hex())\n+\n+            previousblockhash = block.sha256\n+            height += 1\n+\n+            # Simulate 10 minutes of work time per block\n+            # Important for matching a timestamp with a block +- some window\n+            self.nTime += 600\n+            for n in self.nodes:\n+                if n.running:\n+                    n.setmocktime(self.nTime) # Update node's time to accept future blocks\n+\n+\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+        self.extra_args = [\n+            [], # node dedicated to mining\n+            ['-prune=550'], # node dedicated to testing pruning\n+        ]\n+\n+    def setup_nodes(self):\n+        self.add_nodes(self.num_nodes, extra_args=self.extra_args)\n+        self.start_node(0)\n+\n+    def setup_network(self):\n+        self.setup_nodes()",
      "path": "test/functional/wallet_pruning.py",
      "position": null,
      "original_position": 60,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "c594dbc7560f18a657bd624983ca58732b0f3183",
      "in_reply_to_id": null,
      "user": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The custom setup logic that I implied on [my initial review](https://github.com/bitcoin/bitcoin/pull/24865#pullrequestreview-1036108749) was because you were using the default created wallets. But since then, you are testing on manually created wallets, therefore this is not needed.\r\n\r\nAdditionally, I've later realize that you can skip the creation of the default wallets with `self.wallet_names=[]` which can help to simplify the logic.\r\nhttps://github.com/bitcoin/bitcoin/blob/38d06e1561013f4ca845fd5ba6ffcc64de67f9c0/test/functional/test_framework/test_framework.py#L108-L113",
      "created_at": "2022-11-25T08:08:51Z",
      "updated_at": "2022-11-25T13:56:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r1032100918",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032100918"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": 55,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 60,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032115868",
      "pull_request_review_id": 1193334619,
      "id": 1032115868,
      "node_id": "PRRC_kwDOABII5849hNac",
      "diff_hunk": "@@ -0,0 +1,150 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import assert_equal, assert_raises_rpc_error\n+from test_framework.blocktools import MIN_BLOCKS_TO_KEEP, create_block\n+from test_framework.blocktools import create_coinbase\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+from test_framework.script import (\n+    CScript,\n+    OP_RETURN,\n+    OP_TRUE,\n+)\n+\n+class WalletPruningTest(BitcoinTestFramework):\n+    nTime = 0\n+    def mine_large_blocks(self, node, n):\n+        # Get the block parameters for the first block\n+        best_block = node.getblock(node.getbestblockhash())\n+        height = int(best_block[\"height\"]) + 1\n+        self.nTime = max(self.nTime, int(best_block[\"time\"])) + 1\n+        previousblockhash = int(best_block[\"hash\"], 16)\n+        big_script = CScript([OP_RETURN] + [OP_TRUE] * 950000)\n+        for _ in range(n):\n+            block = create_block(hashprev=previousblockhash, ntime=self.nTime, coinbase=create_coinbase(height, script_pubkey=big_script))\n+            block.solve()\n+\n+            # Submit to the node\n+            node.submitblock(block.serialize().hex())\n+\n+            previousblockhash = block.sha256\n+            height += 1\n+\n+            # Simulate 10 minutes of work time per block\n+            # Important for matching a timestamp with a block +- some window\n+            self.nTime += 600\n+            for n in self.nodes:\n+                if n.running:\n+                    n.setmocktime(self.nTime) # Update node's time to accept future blocks\n+\n+\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+        self.extra_args = [\n+            [], # node dedicated to mining\n+            ['-prune=550'], # node dedicated to testing pruning\n+        ]\n+\n+    def setup_nodes(self):\n+        self.add_nodes(self.num_nodes, extra_args=self.extra_args)\n+        self.start_node(0)\n+\n+    def setup_network(self):\n+        self.setup_nodes()\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+        self.skip_if_no_bdb()\n+\n+    def test_wallet_import_pruned_test(self):\n+        self.log.info(\"Make sure we can import wallet when pruned and required blocks are still available\")\n+\n+        wname = \"wallet_pruned.dat\"\n+\n+        # Export wallet from node 0\n+        self.nodes[0].createwallet(wallet_name=\"wallet_pruned\", descriptors=False, load_on_startup=True)\n+        self.nodes[0].dumpwallet(os.path.join(self.nodes[0].datadir, wname))\n+\n+        # Add mature coins to the wallet\n+        self.generatetoaddress(self.nodes[0], 1, self.nodes[0].getnewaddress(), sync_fun=lambda: None)\n+        self.generate(self.nodes[0], 100)\n+\n+        # Import wallet into node 1\n+        self.nodes[1].createwallet(wallet_name=\"wallet_pruned\", descriptors=False, load_on_startup=True)\n+        self.nodes[1].importwallet(os.path.join(self.nodes[0].datadir, wname))\n+\n+        # Make sure the wallets have the same balance\n+        assert_equal(self.nodes[1].getbalance(), self.nodes[0].getbalance())\n+\n+        # Mine some blocks, pruning should not have removed the blocks required for the wallet\n+        self.mine_large_blocks(self.nodes[0], 5)\n+        self.sync_all()\n+\n+        # Import wallet, should still work\n+        self.nodes[1].importwallet(os.path.join(self.nodes[0].datadir, wname))\n+        self.log.info(\"Wallet successfully imported on pruned node\")\n+\n+    def test_wallet_import_pruned_with_missing_blocks(self, wallet_name):\n+        self.log.info(\"Make sure we cannot import wallet when pruned and required blocks are not available\")\n+\n+        wname = wallet_name + \".dat\"\n+\n+        # Get birthheight of wallet\n+        with open(os.path.join(self.nodes[0].datadir, wname), 'r', encoding=\"utf8\") as f:\n+            for line in f:\n+                if line.startswith('# * Best block at time of backup'):\n+                    wallet_birthheight = int(line.split(' ')[9])\n+                    break\n+\n+        assert_raises_rpc_error(-1, \"Block not available (pruned data)\", self.nodes[1].getblock, self.nodes[1].getblockhash(wallet_birthheight))\n+\n+        # Make sure wallet cannot be imported because of missing blocks\n+        # This will try to rescan blocks `TIMESTAMP_WINDOW` (2h) before the wallet birthheight.\n+        # There are 6 blocks an hour, so 11 blocks (excluding birthheight).\n+        assert_raises_rpc_error(-4, f\"Pruned blocks from height {wallet_birthheight - 11} required to import keys. Use RPC call getblockchaininfo to determine your pruned height.\", self.nodes[1].importwallet, os.path.join(self.nodes[0].datadir, wname))\n+\n+    def run_test(self):\n+        self.log.info(\"Warning! This test requires ~1.1GB of disk space\")\n+\n+        self.log.info(\"Generate a long chain of blocks...\")\n+\n+        # A blk*.dat file is 128MB\n+        # Generate 288 light blocks, the minimum required to stay on disk with prune enabled\n+        self.generate(self.nodes[0], MIN_BLOCKS_TO_KEEP, sync_fun=lambda: None)",
      "path": "test/functional/wallet_pruning.py",
      "position": null,
      "original_position": 120,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "c594dbc7560f18a657bd624983ca58732b0f3183",
      "in_reply_to_id": null,
      "user": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I understand why you need some light blocks in the beginning. What I don't understand is the comment here referring to specifically 288 light blocks. Looking at the c++ code I read this about that number\r\nhttps://github.com/bitcoin/bitcoin/blob/38d06e1561013f4ca845fd5ba6ffcc64de67f9c0/src/validation.h#L68-L69\r\n\r\nHow is that related to the logic of this test?",
      "created_at": "2022-11-25T08:27:40Z",
      "updated_at": "2022-11-25T13:56:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r1032115868",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032115868"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": 119,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 120,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032127100",
      "pull_request_review_id": 1193334619,
      "id": 1032127100,
      "node_id": "PRRC_kwDOABII5849hQJ8",
      "diff_hunk": "@@ -0,0 +1,150 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import assert_equal, assert_raises_rpc_error\n+from test_framework.blocktools import MIN_BLOCKS_TO_KEEP, create_block\n+from test_framework.blocktools import create_coinbase\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+from test_framework.script import (\n+    CScript,\n+    OP_RETURN,\n+    OP_TRUE,\n+)\n+\n+class WalletPruningTest(BitcoinTestFramework):\n+    nTime = 0\n+    def mine_large_blocks(self, node, n):\n+        # Get the block parameters for the first block\n+        best_block = node.getblock(node.getbestblockhash())\n+        height = int(best_block[\"height\"]) + 1\n+        self.nTime = max(self.nTime, int(best_block[\"time\"])) + 1\n+        previousblockhash = int(best_block[\"hash\"], 16)\n+        big_script = CScript([OP_RETURN] + [OP_TRUE] * 950000)\n+        for _ in range(n):\n+            block = create_block(hashprev=previousblockhash, ntime=self.nTime, coinbase=create_coinbase(height, script_pubkey=big_script))\n+            block.solve()\n+\n+            # Submit to the node\n+            node.submitblock(block.serialize().hex())\n+\n+            previousblockhash = block.sha256\n+            height += 1\n+\n+            # Simulate 10 minutes of work time per block\n+            # Important for matching a timestamp with a block +- some window\n+            self.nTime += 600\n+            for n in self.nodes:\n+                if n.running:\n+                    n.setmocktime(self.nTime) # Update node's time to accept future blocks\n+\n+\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+        self.extra_args = [\n+            [], # node dedicated to mining\n+            ['-prune=550'], # node dedicated to testing pruning\n+        ]\n+\n+    def setup_nodes(self):\n+        self.add_nodes(self.num_nodes, extra_args=self.extra_args)\n+        self.start_node(0)\n+\n+    def setup_network(self):\n+        self.setup_nodes()\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+        self.skip_if_no_bdb()\n+\n+    def test_wallet_import_pruned_test(self):\n+        self.log.info(\"Make sure we can import wallet when pruned and required blocks are still available\")\n+\n+        wname = \"wallet_pruned.dat\"\n+\n+        # Export wallet from node 0\n+        self.nodes[0].createwallet(wallet_name=\"wallet_pruned\", descriptors=False, load_on_startup=True)\n+        self.nodes[0].dumpwallet(os.path.join(self.nodes[0].datadir, wname))\n+\n+        # Add mature coins to the wallet\n+        self.generatetoaddress(self.nodes[0], 1, self.nodes[0].getnewaddress(), sync_fun=lambda: None)\n+        self.generate(self.nodes[0], 100)\n+\n+        # Import wallet into node 1\n+        self.nodes[1].createwallet(wallet_name=\"wallet_pruned\", descriptors=False, load_on_startup=True)\n+        self.nodes[1].importwallet(os.path.join(self.nodes[0].datadir, wname))\n+\n+        # Make sure the wallets have the same balance\n+        assert_equal(self.nodes[1].getbalance(), self.nodes[0].getbalance())\n+\n+        # Mine some blocks, pruning should not have removed the blocks required for the wallet\n+        self.mine_large_blocks(self.nodes[0], 5)\n+        self.sync_all()\n+\n+        # Import wallet, should still work\n+        self.nodes[1].importwallet(os.path.join(self.nodes[0].datadir, wname))\n+        self.log.info(\"Wallet successfully imported on pruned node\")\n+\n+    def test_wallet_import_pruned_with_missing_blocks(self, wallet_name):\n+        self.log.info(\"Make sure we cannot import wallet when pruned and required blocks are not available\")\n+\n+        wname = wallet_name + \".dat\"\n+\n+        # Get birthheight of wallet\n+        with open(os.path.join(self.nodes[0].datadir, wname), 'r', encoding=\"utf8\") as f:\n+            for line in f:\n+                if line.startswith('# * Best block at time of backup'):\n+                    wallet_birthheight = int(line.split(' ')[9])\n+                    break\n+\n+        assert_raises_rpc_error(-1, \"Block not available (pruned data)\", self.nodes[1].getblock, self.nodes[1].getblockhash(wallet_birthheight))\n+\n+        # Make sure wallet cannot be imported because of missing blocks\n+        # This will try to rescan blocks `TIMESTAMP_WINDOW` (2h) before the wallet birthheight.\n+        # There are 6 blocks an hour, so 11 blocks (excluding birthheight).\n+        assert_raises_rpc_error(-4, f\"Pruned blocks from height {wallet_birthheight - 11} required to import keys. Use RPC call getblockchaininfo to determine your pruned height.\", self.nodes[1].importwallet, os.path.join(self.nodes[0].datadir, wname))\n+\n+    def run_test(self):\n+        self.log.info(\"Warning! This test requires ~1.1GB of disk space\")\n+\n+        self.log.info(\"Generate a long chain of blocks...\")\n+\n+        # A blk*.dat file is 128MB\n+        # Generate 288 light blocks, the minimum required to stay on disk with prune enabled\n+        self.generate(self.nodes[0], MIN_BLOCKS_TO_KEEP, sync_fun=lambda: None)\n+\n+        # Generate 50MB worth of large blocks in the second blk*.dat file\n+        self.mine_large_blocks(self.nodes[0], 50)\n+\n+        wallet_name = \"wallet_init\"\n+\n+        # Create a wallet and a backup of it which birth's block is in the second blk*.dat file\n+        self.nodes[0].createwallet(wallet_name=wallet_name, descriptors=False, load_on_startup=True)\n+        self.nodes[0].dumpwallet(os.path.join(self.nodes[0].datadir, wallet_name + \".dat\"))\n+        self.nodes[0].unloadwallet(wallet_name)\n+\n+        # Generate large blocks to make sure we have enough to test chain pruning\n+        # The first blk*.dat file should be pruned from the node 1",
      "path": "test/functional/wallet_pruning.py",
      "position": null,
      "original_position": 133,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "c594dbc7560f18a657bd624983ca58732b0f3183",
      "in_reply_to_id": null,
      "user": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This comment is not true. That file might be later pruned, but at this point is not and it makes reading the code confusing. ",
      "created_at": "2022-11-25T08:42:07Z",
      "updated_at": "2022-11-25T13:56:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r1032127100",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032127100"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 133,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032192824",
      "pull_request_review_id": 1193334619,
      "id": 1032192824,
      "node_id": "PRRC_kwDOABII5849hgM4",
      "diff_hunk": "@@ -0,0 +1,150 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import assert_equal, assert_raises_rpc_error\n+from test_framework.blocktools import MIN_BLOCKS_TO_KEEP, create_block\n+from test_framework.blocktools import create_coinbase\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+from test_framework.script import (\n+    CScript,\n+    OP_RETURN,\n+    OP_TRUE,\n+)\n+\n+class WalletPruningTest(BitcoinTestFramework):\n+    nTime = 0\n+    def mine_large_blocks(self, node, n):\n+        # Get the block parameters for the first block\n+        best_block = node.getblock(node.getbestblockhash())\n+        height = int(best_block[\"height\"]) + 1\n+        self.nTime = max(self.nTime, int(best_block[\"time\"])) + 1\n+        previousblockhash = int(best_block[\"hash\"], 16)\n+        big_script = CScript([OP_RETURN] + [OP_TRUE] * 950000)\n+        for _ in range(n):\n+            block = create_block(hashprev=previousblockhash, ntime=self.nTime, coinbase=create_coinbase(height, script_pubkey=big_script))\n+            block.solve()\n+\n+            # Submit to the node\n+            node.submitblock(block.serialize().hex())\n+\n+            previousblockhash = block.sha256\n+            height += 1\n+\n+            # Simulate 10 minutes of work time per block\n+            # Important for matching a timestamp with a block +- some window\n+            self.nTime += 600\n+            for n in self.nodes:\n+                if n.running:\n+                    n.setmocktime(self.nTime) # Update node's time to accept future blocks\n+\n+\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+        self.extra_args = [\n+            [], # node dedicated to mining\n+            ['-prune=550'], # node dedicated to testing pruning\n+        ]\n+\n+    def setup_nodes(self):\n+        self.add_nodes(self.num_nodes, extra_args=self.extra_args)\n+        self.start_node(0)\n+\n+    def setup_network(self):\n+        self.setup_nodes()\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+        self.skip_if_no_bdb()\n+\n+    def test_wallet_import_pruned_test(self):\n+        self.log.info(\"Make sure we can import wallet when pruned and required blocks are still available\")\n+\n+        wname = \"wallet_pruned.dat\"\n+\n+        # Export wallet from node 0\n+        self.nodes[0].createwallet(wallet_name=\"wallet_pruned\", descriptors=False, load_on_startup=True)\n+        self.nodes[0].dumpwallet(os.path.join(self.nodes[0].datadir, wname))\n+\n+        # Add mature coins to the wallet\n+        self.generatetoaddress(self.nodes[0], 1, self.nodes[0].getnewaddress(), sync_fun=lambda: None)\n+        self.generate(self.nodes[0], 100)\n+\n+        # Import wallet into node 1\n+        self.nodes[1].createwallet(wallet_name=\"wallet_pruned\", descriptors=False, load_on_startup=True)\n+        self.nodes[1].importwallet(os.path.join(self.nodes[0].datadir, wname))\n+\n+        # Make sure the wallets have the same balance",
      "path": "test/functional/wallet_pruning.py",
      "position": null,
      "original_position": 83,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "c594dbc7560f18a657bd624983ca58732b0f3183",
      "in_reply_to_id": null,
      "user": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit\r\n```suggestion\r\n        # Make sure that prune node's wallet correctly accounts for balances\r\n```",
      "created_at": "2022-11-25T09:55:46Z",
      "updated_at": "2022-11-25T13:56:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r1032192824",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032192824"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 83,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032196890",
      "pull_request_review_id": 1193334619,
      "id": 1032196890,
      "node_id": "PRRC_kwDOABII5849hhMa",
      "diff_hunk": "@@ -0,0 +1,150 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import assert_equal, assert_raises_rpc_error\n+from test_framework.blocktools import MIN_BLOCKS_TO_KEEP, create_block\n+from test_framework.blocktools import create_coinbase\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+from test_framework.script import (\n+    CScript,\n+    OP_RETURN,\n+    OP_TRUE,\n+)\n+\n+class WalletPruningTest(BitcoinTestFramework):\n+    nTime = 0\n+    def mine_large_blocks(self, node, n):\n+        # Get the block parameters for the first block\n+        best_block = node.getblock(node.getbestblockhash())\n+        height = int(best_block[\"height\"]) + 1\n+        self.nTime = max(self.nTime, int(best_block[\"time\"])) + 1\n+        previousblockhash = int(best_block[\"hash\"], 16)\n+        big_script = CScript([OP_RETURN] + [OP_TRUE] * 950000)\n+        for _ in range(n):\n+            block = create_block(hashprev=previousblockhash, ntime=self.nTime, coinbase=create_coinbase(height, script_pubkey=big_script))\n+            block.solve()\n+\n+            # Submit to the node\n+            node.submitblock(block.serialize().hex())\n+\n+            previousblockhash = block.sha256\n+            height += 1\n+\n+            # Simulate 10 minutes of work time per block\n+            # Important for matching a timestamp with a block +- some window\n+            self.nTime += 600\n+            for n in self.nodes:\n+                if n.running:\n+                    n.setmocktime(self.nTime) # Update node's time to accept future blocks\n+\n+\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+        self.extra_args = [\n+            [], # node dedicated to mining\n+            ['-prune=550'], # node dedicated to testing pruning\n+        ]\n+\n+    def setup_nodes(self):\n+        self.add_nodes(self.num_nodes, extra_args=self.extra_args)\n+        self.start_node(0)\n+\n+    def setup_network(self):\n+        self.setup_nodes()\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+        self.skip_if_no_bdb()\n+\n+    def test_wallet_import_pruned_test(self):\n+        self.log.info(\"Make sure we can import wallet when pruned and required blocks are still available\")\n+\n+        wname = \"wallet_pruned.dat\"\n+\n+        # Export wallet from node 0\n+        self.nodes[0].createwallet(wallet_name=\"wallet_pruned\", descriptors=False, load_on_startup=True)\n+        self.nodes[0].dumpwallet(os.path.join(self.nodes[0].datadir, wname))\n+\n+        # Add mature coins to the wallet\n+        self.generatetoaddress(self.nodes[0], 1, self.nodes[0].getnewaddress(), sync_fun=lambda: None)\n+        self.generate(self.nodes[0], 100)\n+\n+        # Import wallet into node 1\n+        self.nodes[1].createwallet(wallet_name=\"wallet_pruned\", descriptors=False, load_on_startup=True)\n+        self.nodes[1].importwallet(os.path.join(self.nodes[0].datadir, wname))\n+\n+        # Make sure the wallets have the same balance\n+        assert_equal(self.nodes[1].getbalance(), self.nodes[0].getbalance())\n+\n+        # Mine some blocks, pruning should not have removed the blocks required for the wallet\n+        self.mine_large_blocks(self.nodes[0], 5)\n+        self.sync_all()\n+\n+        # Import wallet, should still work\n+        self.nodes[1].importwallet(os.path.join(self.nodes[0].datadir, wname))",
      "path": "test/functional/wallet_pruning.py",
      "position": null,
      "original_position": 91,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "c594dbc7560f18a657bd624983ca58732b0f3183",
      "in_reply_to_id": null,
      "user": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "~You already imported the wallet in the pruned node above. I don't understand why you need to repeat this here. What do those newly mined 5 large blocks achieve?~\r\n\r\nFurther down me messing with the code, I understood that those 5 blocks are needed to actually get into prune state and prune the `blk00000.dat` file. But for someone reading the code this is not clear. And if we are now getting into prune mode, then what's the above importwallet for?",
      "created_at": "2022-11-25T09:59:46Z",
      "updated_at": "2022-11-25T13:56:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r1032196890",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032196890"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": 86,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 91,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032363421",
      "pull_request_review_id": 1193334619,
      "id": 1032363421,
      "node_id": "PRRC_kwDOABII5849iJ2d",
      "diff_hunk": "@@ -0,0 +1,150 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import assert_equal, assert_raises_rpc_error\n+from test_framework.blocktools import MIN_BLOCKS_TO_KEEP, create_block\n+from test_framework.blocktools import create_coinbase\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+from test_framework.script import (\n+    CScript,\n+    OP_RETURN,\n+    OP_TRUE,\n+)\n+\n+class WalletPruningTest(BitcoinTestFramework):\n+    nTime = 0",
      "path": "test/functional/wallet_pruning.py",
      "position": null,
      "original_position": 21,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "c594dbc7560f18a657bd624983ca58732b0f3183",
      "in_reply_to_id": null,
      "user": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Is this the right place for this variable? I think that I haven't seen any other tests initializing self variables in such a way.",
      "created_at": "2022-11-25T11:29:46Z",
      "updated_at": "2022-11-25T13:56:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r1032363421",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032363421"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 21,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032364424",
      "pull_request_review_id": 1193334619,
      "id": 1032364424,
      "node_id": "PRRC_kwDOABII5849iKGI",
      "diff_hunk": "@@ -0,0 +1,150 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import assert_equal, assert_raises_rpc_error\n+from test_framework.blocktools import MIN_BLOCKS_TO_KEEP, create_block\n+from test_framework.blocktools import create_coinbase\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+from test_framework.script import (\n+    CScript,\n+    OP_RETURN,\n+    OP_TRUE,\n+)\n+\n+class WalletPruningTest(BitcoinTestFramework):\n+    nTime = 0\n+    def mine_large_blocks(self, node, n):",
      "path": "test/functional/wallet_pruning.py",
      "position": 40,
      "original_position": 22,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "c594dbc7560f18a657bd624983ca58732b0f3183",
      "in_reply_to_id": null,
      "user": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "From what I've seen, custom functions are often declared after the setup override functions.",
      "created_at": "2022-11-25T11:31:08Z",
      "updated_at": "2022-11-25T13:56:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r1032364424",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032364424"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 40,
      "original_line": 40,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032902323",
      "pull_request_review_id": 1194959537,
      "id": 1032902323,
      "node_id": "PRRC_kwDOABII5849kNaz",
      "diff_hunk": "@@ -565,15 +573,18 @@ RPCHelpMan importwallet()\n                         fLabel = true;\n                     }\n                 }\n+                nTimeBegin = std::min(nTimeBegin, nTime);\n                 keys.push_back(std::make_tuple(key, nTime, fLabel, strLabel));\n             } else if(IsHex(vstr[0])) {\n                 std::vector<unsigned char> vData(ParseHex(vstr[0]));\n                 CScript script = CScript(vData.begin(), vData.end());\n                 int64_t birth_time = ParseISO8601DateTime(vstr[1]);\n+                if (birth_time > 0) nTimeBegin = std::min(nTimeBegin, birth_time);\n                 scripts.push_back(std::pair<CScript, int64_t>(script, birth_time));\n             }\n         }\n         file.close();\n+        EnsureBlockDataFromTime(pwallet->chain(), *pwallet, nTimeBegin);",
      "path": "src/wallet/rpc/backup.cpp",
      "position": null,
      "original_position": 51,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "c594dbc7560f18a657bd624983ca58732b0f3183",
      "in_reply_to_id": 1031634352,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Removed chain argument, thanks.",
      "created_at": "2022-11-27T10:07:54Z",
      "updated_at": "2022-11-27T10:07:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r1032902323",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032902323"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 587,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032902363",
      "pull_request_review_id": 1194959555,
      "id": 1032902363,
      "node_id": "PRRC_kwDOABII5849kNbb",
      "diff_hunk": "@@ -0,0 +1,150 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import assert_equal, assert_raises_rpc_error\n+from test_framework.blocktools import MIN_BLOCKS_TO_KEEP, create_block\n+from test_framework.blocktools import create_coinbase\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+from test_framework.script import (\n+    CScript,\n+    OP_RETURN,\n+    OP_TRUE,\n+)\n+\n+class WalletPruningTest(BitcoinTestFramework):\n+    nTime = 0\n+    def mine_large_blocks(self, node, n):\n+        # Get the block parameters for the first block\n+        best_block = node.getblock(node.getbestblockhash())\n+        height = int(best_block[\"height\"]) + 1\n+        self.nTime = max(self.nTime, int(best_block[\"time\"])) + 1\n+        previousblockhash = int(best_block[\"hash\"], 16)\n+        big_script = CScript([OP_RETURN] + [OP_TRUE] * 950000)\n+        for _ in range(n):\n+            block = create_block(hashprev=previousblockhash, ntime=self.nTime, coinbase=create_coinbase(height, script_pubkey=big_script))\n+            block.solve()\n+\n+            # Submit to the node\n+            node.submitblock(block.serialize().hex())\n+\n+            previousblockhash = block.sha256\n+            height += 1\n+\n+            # Simulate 10 minutes of work time per block\n+            # Important for matching a timestamp with a block +- some window\n+            self.nTime += 600\n+            for n in self.nodes:\n+                if n.running:\n+                    n.setmocktime(self.nTime) # Update node's time to accept future blocks\n+\n+\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+        self.extra_args = [\n+            [], # node dedicated to mining\n+            ['-prune=550'], # node dedicated to testing pruning\n+        ]\n+\n+    def setup_nodes(self):\n+        self.add_nodes(self.num_nodes, extra_args=self.extra_args)\n+        self.start_node(0)\n+\n+    def setup_network(self):\n+        self.setup_nodes()\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+        self.skip_if_no_bdb()\n+\n+    def test_wallet_import_pruned_test(self):\n+        self.log.info(\"Make sure we can import wallet when pruned and required blocks are still available\")\n+\n+        wname = \"wallet_pruned.dat\"\n+\n+        # Export wallet from node 0\n+        self.nodes[0].createwallet(wallet_name=\"wallet_pruned\", descriptors=False, load_on_startup=True)\n+        self.nodes[0].dumpwallet(os.path.join(self.nodes[0].datadir, wname))\n+\n+        # Add mature coins to the wallet\n+        self.generatetoaddress(self.nodes[0], 1, self.nodes[0].getnewaddress(), sync_fun=lambda: None)\n+        self.generate(self.nodes[0], 100)\n+\n+        # Import wallet into node 1\n+        self.nodes[1].createwallet(wallet_name=\"wallet_pruned\", descriptors=False, load_on_startup=True)\n+        self.nodes[1].importwallet(os.path.join(self.nodes[0].datadir, wname))\n+\n+        # Make sure the wallets have the same balance\n+        assert_equal(self.nodes[1].getbalance(), self.nodes[0].getbalance())\n+\n+        # Mine some blocks, pruning should not have removed the blocks required for the wallet\n+        self.mine_large_blocks(self.nodes[0], 5)\n+        self.sync_all()\n+\n+        # Import wallet, should still work\n+        self.nodes[1].importwallet(os.path.join(self.nodes[0].datadir, wname))\n+        self.log.info(\"Wallet successfully imported on pruned node\")\n+\n+    def test_wallet_import_pruned_with_missing_blocks(self, wallet_name):\n+        self.log.info(\"Make sure we cannot import wallet when pruned and required blocks are not available\")\n+\n+        wname = wallet_name + \".dat\"\n+\n+        # Get birthheight of wallet\n+        with open(os.path.join(self.nodes[0].datadir, wname), 'r', encoding=\"utf8\") as f:\n+            for line in f:\n+                if line.startswith('# * Best block at time of backup'):\n+                    wallet_birthheight = int(line.split(' ')[9])\n+                    break\n+\n+        assert_raises_rpc_error(-1, \"Block not available (pruned data)\", self.nodes[1].getblock, self.nodes[1].getblockhash(wallet_birthheight))\n+\n+        # Make sure wallet cannot be imported because of missing blocks\n+        # This will try to rescan blocks `TIMESTAMP_WINDOW` (2h) before the wallet birthheight.\n+        # There are 6 blocks an hour, so 11 blocks (excluding birthheight).\n+        assert_raises_rpc_error(-4, f\"Pruned blocks from height {wallet_birthheight - 11} required to import keys. Use RPC call getblockchaininfo to determine your pruned height.\", self.nodes[1].importwallet, os.path.join(self.nodes[0].datadir, wname))\n+\n+    def run_test(self):\n+        self.log.info(\"Warning! This test requires ~1.1GB of disk space\")\n+\n+        self.log.info(\"Generate a long chain of blocks...\")\n+\n+        # A blk*.dat file is 128MB\n+        # Generate 288 light blocks, the minimum required to stay on disk with prune enabled\n+        self.generate(self.nodes[0], MIN_BLOCKS_TO_KEEP, sync_fun=lambda: None)",
      "path": "test/functional/wallet_pruning.py",
      "position": null,
      "original_position": 120,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "c594dbc7560f18a657bd624983ca58732b0f3183",
      "in_reply_to_id": 1031637798,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Updated thanks.",
      "created_at": "2022-11-27T10:08:03Z",
      "updated_at": "2022-11-27T10:08:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r1032902363",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032902363"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 120,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032902413",
      "pull_request_review_id": 1194959598,
      "id": 1032902413,
      "node_id": "PRRC_kwDOABII5849kNcN",
      "diff_hunk": "@@ -0,0 +1,150 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import assert_equal, assert_raises_rpc_error\n+from test_framework.blocktools import MIN_BLOCKS_TO_KEEP, create_block\n+from test_framework.blocktools import create_coinbase\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+from test_framework.script import (\n+    CScript,\n+    OP_RETURN,\n+    OP_TRUE,\n+)\n+\n+class WalletPruningTest(BitcoinTestFramework):\n+    nTime = 0\n+    def mine_large_blocks(self, node, n):\n+        # Get the block parameters for the first block\n+        best_block = node.getblock(node.getbestblockhash())\n+        height = int(best_block[\"height\"]) + 1\n+        self.nTime = max(self.nTime, int(best_block[\"time\"])) + 1\n+        previousblockhash = int(best_block[\"hash\"], 16)\n+        big_script = CScript([OP_RETURN] + [OP_TRUE] * 950000)\n+        for _ in range(n):\n+            block = create_block(hashprev=previousblockhash, ntime=self.nTime, coinbase=create_coinbase(height, script_pubkey=big_script))\n+            block.solve()\n+\n+            # Submit to the node\n+            node.submitblock(block.serialize().hex())\n+\n+            previousblockhash = block.sha256\n+            height += 1\n+\n+            # Simulate 10 minutes of work time per block\n+            # Important for matching a timestamp with a block +- some window\n+            self.nTime += 600\n+            for n in self.nodes:\n+                if n.running:\n+                    n.setmocktime(self.nTime) # Update node's time to accept future blocks\n+\n+\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+        self.extra_args = [\n+            [], # node dedicated to mining\n+            ['-prune=550'], # node dedicated to testing pruning\n+        ]\n+\n+    def setup_nodes(self):\n+        self.add_nodes(self.num_nodes, extra_args=self.extra_args)\n+        self.start_node(0)\n+\n+    def setup_network(self):\n+        self.setup_nodes()\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+        self.skip_if_no_bdb()\n+\n+    def test_wallet_import_pruned_test(self):\n+        self.log.info(\"Make sure we can import wallet when pruned and required blocks are still available\")\n+\n+        wname = \"wallet_pruned.dat\"\n+\n+        # Export wallet from node 0\n+        self.nodes[0].createwallet(wallet_name=\"wallet_pruned\", descriptors=False, load_on_startup=True)\n+        self.nodes[0].dumpwallet(os.path.join(self.nodes[0].datadir, wname))\n+\n+        # Add mature coins to the wallet\n+        self.generatetoaddress(self.nodes[0], 1, self.nodes[0].getnewaddress(), sync_fun=lambda: None)\n+        self.generate(self.nodes[0], 100)\n+\n+        # Import wallet into node 1\n+        self.nodes[1].createwallet(wallet_name=\"wallet_pruned\", descriptors=False, load_on_startup=True)\n+        self.nodes[1].importwallet(os.path.join(self.nodes[0].datadir, wname))\n+\n+        # Make sure the wallets have the same balance\n+        assert_equal(self.nodes[1].getbalance(), self.nodes[0].getbalance())\n+\n+        # Mine some blocks, pruning should not have removed the blocks required for the wallet\n+        self.mine_large_blocks(self.nodes[0], 5)\n+        self.sync_all()\n+\n+        # Import wallet, should still work\n+        self.nodes[1].importwallet(os.path.join(self.nodes[0].datadir, wname))\n+        self.log.info(\"Wallet successfully imported on pruned node\")\n+\n+    def test_wallet_import_pruned_with_missing_blocks(self, wallet_name):\n+        self.log.info(\"Make sure we cannot import wallet when pruned and required blocks are not available\")\n+\n+        wname = wallet_name + \".dat\"\n+\n+        # Get birthheight of wallet\n+        with open(os.path.join(self.nodes[0].datadir, wname), 'r', encoding=\"utf8\") as f:\n+            for line in f:\n+                if line.startswith('# * Best block at time of backup'):\n+                    wallet_birthheight = int(line.split(' ')[9])\n+                    break\n+\n+        assert_raises_rpc_error(-1, \"Block not available (pruned data)\", self.nodes[1].getblock, self.nodes[1].getblockhash(wallet_birthheight))\n+\n+        # Make sure wallet cannot be imported because of missing blocks\n+        # This will try to rescan blocks `TIMESTAMP_WINDOW` (2h) before the wallet birthheight.\n+        # There are 6 blocks an hour, so 11 blocks (excluding birthheight).\n+        assert_raises_rpc_error(-4, f\"Pruned blocks from height {wallet_birthheight - 11} required to import keys. Use RPC call getblockchaininfo to determine your pruned height.\", self.nodes[1].importwallet, os.path.join(self.nodes[0].datadir, wname))\n+\n+    def run_test(self):\n+        self.log.info(\"Warning! This test requires ~1.1GB of disk space\")\n+\n+        self.log.info(\"Generate a long chain of blocks...\")\n+\n+        # A blk*.dat file is 128MB\n+        # Generate 288 light blocks, the minimum required to stay on disk with prune enabled\n+        self.generate(self.nodes[0], MIN_BLOCKS_TO_KEEP, sync_fun=lambda: None)\n+\n+        # Generate 50MB worth of large blocks in the second blk*.dat file\n+        self.mine_large_blocks(self.nodes[0], 50)",
      "path": "test/functional/wallet_pruning.py",
      "position": null,
      "original_position": 123,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "c594dbc7560f18a657bd624983ca58732b0f3183",
      "in_reply_to_id": 1032073285,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes the comment was wrong.",
      "created_at": "2022-11-27T10:08:23Z",
      "updated_at": "2022-11-27T10:08:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r1032902413",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032902413"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": 122,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 127,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032902534",
      "pull_request_review_id": 1194959690,
      "id": 1032902534,
      "node_id": "PRRC_kwDOABII5849kNeG",
      "diff_hunk": "@@ -0,0 +1,150 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import assert_equal, assert_raises_rpc_error\n+from test_framework.blocktools import MIN_BLOCKS_TO_KEEP, create_block\n+from test_framework.blocktools import create_coinbase\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+from test_framework.script import (\n+    CScript,\n+    OP_RETURN,\n+    OP_TRUE,\n+)\n+\n+class WalletPruningTest(BitcoinTestFramework):\n+    nTime = 0\n+    def mine_large_blocks(self, node, n):\n+        # Get the block parameters for the first block\n+        best_block = node.getblock(node.getbestblockhash())\n+        height = int(best_block[\"height\"]) + 1\n+        self.nTime = max(self.nTime, int(best_block[\"time\"])) + 1\n+        previousblockhash = int(best_block[\"hash\"], 16)\n+        big_script = CScript([OP_RETURN] + [OP_TRUE] * 950000)\n+        for _ in range(n):\n+            block = create_block(hashprev=previousblockhash, ntime=self.nTime, coinbase=create_coinbase(height, script_pubkey=big_script))\n+            block.solve()\n+\n+            # Submit to the node\n+            node.submitblock(block.serialize().hex())\n+\n+            previousblockhash = block.sha256\n+            height += 1\n+\n+            # Simulate 10 minutes of work time per block\n+            # Important for matching a timestamp with a block +- some window\n+            self.nTime += 600\n+            for n in self.nodes:\n+                if n.running:\n+                    n.setmocktime(self.nTime) # Update node's time to accept future blocks\n+\n+\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+        self.extra_args = [\n+            [], # node dedicated to mining\n+            ['-prune=550'], # node dedicated to testing pruning\n+        ]\n+\n+    def setup_nodes(self):\n+        self.add_nodes(self.num_nodes, extra_args=self.extra_args)\n+        self.start_node(0)\n+\n+    def setup_network(self):\n+        self.setup_nodes()\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+        self.skip_if_no_bdb()\n+\n+    def test_wallet_import_pruned_test(self):\n+        self.log.info(\"Make sure we can import wallet when pruned and required blocks are still available\")\n+\n+        wname = \"wallet_pruned.dat\"\n+\n+        # Export wallet from node 0\n+        self.nodes[0].createwallet(wallet_name=\"wallet_pruned\", descriptors=False, load_on_startup=True)\n+        self.nodes[0].dumpwallet(os.path.join(self.nodes[0].datadir, wname))\n+\n+        # Add mature coins to the wallet\n+        self.generatetoaddress(self.nodes[0], 1, self.nodes[0].getnewaddress(), sync_fun=lambda: None)\n+        self.generate(self.nodes[0], 100)\n+\n+        # Import wallet into node 1\n+        self.nodes[1].createwallet(wallet_name=\"wallet_pruned\", descriptors=False, load_on_startup=True)\n+        self.nodes[1].importwallet(os.path.join(self.nodes[0].datadir, wname))\n+\n+        # Make sure the wallets have the same balance\n+        assert_equal(self.nodes[1].getbalance(), self.nodes[0].getbalance())\n+\n+        # Mine some blocks, pruning should not have removed the blocks required for the wallet\n+        self.mine_large_blocks(self.nodes[0], 5)\n+        self.sync_all()\n+\n+        # Import wallet, should still work\n+        self.nodes[1].importwallet(os.path.join(self.nodes[0].datadir, wname))\n+        self.log.info(\"Wallet successfully imported on pruned node\")\n+\n+    def test_wallet_import_pruned_with_missing_blocks(self, wallet_name):\n+        self.log.info(\"Make sure we cannot import wallet when pruned and required blocks are not available\")\n+\n+        wname = wallet_name + \".dat\"\n+\n+        # Get birthheight of wallet\n+        with open(os.path.join(self.nodes[0].datadir, wname), 'r', encoding=\"utf8\") as f:\n+            for line in f:\n+                if line.startswith('# * Best block at time of backup'):\n+                    wallet_birthheight = int(line.split(' ')[9])\n+                    break\n+\n+        assert_raises_rpc_error(-1, \"Block not available (pruned data)\", self.nodes[1].getblock, self.nodes[1].getblockhash(wallet_birthheight))\n+\n+        # Make sure wallet cannot be imported because of missing blocks\n+        # This will try to rescan blocks `TIMESTAMP_WINDOW` (2h) before the wallet birthheight.\n+        # There are 6 blocks an hour, so 11 blocks (excluding birthheight).\n+        assert_raises_rpc_error(-4, f\"Pruned blocks from height {wallet_birthheight - 11} required to import keys. Use RPC call getblockchaininfo to determine your pruned height.\", self.nodes[1].importwallet, os.path.join(self.nodes[0].datadir, wname))\n+\n+    def run_test(self):\n+        self.log.info(\"Warning! This test requires ~1.1GB of disk space\")\n+\n+        self.log.info(\"Generate a long chain of blocks...\")\n+\n+        # A blk*.dat file is 128MB\n+        # Generate 288 light blocks, the minimum required to stay on disk with prune enabled\n+        self.generate(self.nodes[0], MIN_BLOCKS_TO_KEEP, sync_fun=lambda: None)",
      "path": "test/functional/wallet_pruning.py",
      "position": null,
      "original_position": 120,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "c594dbc7560f18a657bd624983ca58732b0f3183",
      "in_reply_to_id": 1032115868,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think this was based on a different version of this test but you are correct 288 is not needed. I changed it to 250.",
      "created_at": "2022-11-27T10:09:03Z",
      "updated_at": "2022-11-27T10:09:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r1032902534",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032902534"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": 119,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 120,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032903111",
      "pull_request_review_id": 1194960169,
      "id": 1032903111,
      "node_id": "PRRC_kwDOABII5849kNnH",
      "diff_hunk": "@@ -0,0 +1,150 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import assert_equal, assert_raises_rpc_error\n+from test_framework.blocktools import MIN_BLOCKS_TO_KEEP, create_block\n+from test_framework.blocktools import create_coinbase\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+from test_framework.script import (\n+    CScript,\n+    OP_RETURN,\n+    OP_TRUE,\n+)\n+\n+class WalletPruningTest(BitcoinTestFramework):\n+    nTime = 0\n+    def mine_large_blocks(self, node, n):",
      "path": "test/functional/wallet_pruning.py",
      "position": 40,
      "original_position": 22,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "c594dbc7560f18a657bd624983ca58732b0f3183",
      "in_reply_to_id": 1032364424,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks, I moved it.",
      "created_at": "2022-11-27T10:12:31Z",
      "updated_at": "2022-11-27T10:12:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r1032903111",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032903111"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 40,
      "original_line": 40,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032903122",
      "pull_request_review_id": 1194960180,
      "id": 1032903122,
      "node_id": "PRRC_kwDOABII5849kNnS",
      "diff_hunk": "@@ -0,0 +1,150 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import assert_equal, assert_raises_rpc_error\n+from test_framework.blocktools import MIN_BLOCKS_TO_KEEP, create_block\n+from test_framework.blocktools import create_coinbase\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+from test_framework.script import (\n+    CScript,\n+    OP_RETURN,\n+    OP_TRUE,\n+)\n+\n+class WalletPruningTest(BitcoinTestFramework):\n+    nTime = 0",
      "path": "test/functional/wallet_pruning.py",
      "position": null,
      "original_position": 21,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "c594dbc7560f18a657bd624983ca58732b0f3183",
      "in_reply_to_id": 1032363421,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks I moved it.",
      "created_at": "2022-11-27T10:12:38Z",
      "updated_at": "2022-11-27T10:12:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r1032903122",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032903122"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 21,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1049301131",
      "pull_request_review_id": 1218710412,
      "id": 1049301131,
      "node_id": "PRRC_kwDOABII584-ixCL",
      "diff_hunk": "@@ -0,0 +1,158 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import assert_equal, assert_raises_rpc_error\n+from test_framework.blocktools import (\n+    COINBASE_MATURITY,\n+    create_block\n+)\n+from test_framework.blocktools import create_coinbase\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+from test_framework.script import (\n+    CScript,\n+    OP_RETURN,\n+    OP_TRUE,\n+)\n+\n+class WalletPruningTest(BitcoinTestFramework):\n+    def add_options(self, parser):\n+        self.add_wallet_options(parser)",
      "path": "test/functional/wallet_pruning.py",
      "position": null,
      "original_position": 25,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "63493d778f443554059d77bd8c9b1a926685a892",
      "in_reply_to_id": null,
      "user": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "If this is a legacy wallet only test, this should be\r\n```suggestion\r\n        self.add_wallet_options(parser, descriptors=False)\r\n```",
      "created_at": "2022-12-15T07:35:40Z",
      "updated_at": "2022-12-15T07:37:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r1049301131",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1049301131"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 25,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1049302084",
      "pull_request_review_id": 1218710412,
      "id": 1049302084,
      "node_id": "PRRC_kwDOABII584-ixRE",
      "diff_hunk": "@@ -0,0 +1,158 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import assert_equal, assert_raises_rpc_error\n+from test_framework.blocktools import (\n+    COINBASE_MATURITY,\n+    create_block\n+)\n+from test_framework.blocktools import create_coinbase\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+from test_framework.script import (\n+    CScript,\n+    OP_RETURN,\n+    OP_TRUE,\n+)\n+\n+class WalletPruningTest(BitcoinTestFramework):\n+    def add_options(self, parser):\n+        self.add_wallet_options(parser)\n+\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+        self.wallet_names = []\n+        self.extra_args = [\n+            [], # node dedicated to mining\n+            ['-prune=550'], # node dedicated to testing pruning\n+        ]\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+        self.skip_if_no_bdb()\n+\n+    def mine_large_blocks(self, node, n):\n+        # Get the block parameters for the first block\n+        best_block = node.getblock(node.getbestblockhash())\n+        height = int(best_block[\"height\"]) + 1\n+        self.nTime = max(self.nTime, int(best_block[\"time\"])) + 1\n+        previousblockhash = int(best_block[\"hash\"], 16)\n+        big_script = CScript([OP_RETURN] + [OP_TRUE] * 950000)\n+        for _ in range(n):\n+            block = create_block(hashprev=previousblockhash, ntime=self.nTime, coinbase=create_coinbase(height, script_pubkey=big_script))\n+            block.solve()\n+\n+            # Submit to the node\n+            node.submitblock(block.serialize().hex())\n+\n+            previousblockhash = block.sha256\n+            height += 1\n+\n+            # Simulate 10 minutes of work time per block\n+            # Important for matching a timestamp with a block +- some window\n+            self.nTime += 600\n+            for n in self.nodes:\n+                if n.running:\n+                    n.setmocktime(self.nTime) # Update node's time to accept future blocks\n+        self.sync_all()\n+\n+    def test_wallet_import_pruned(self, wallet_name):\n+        self.log.info(\"Make sure we can import wallet when pruned and required blocks are still available\")\n+\n+        wallet_file = wallet_name + \".dat\"\n+        wallet_birthheight = self.get_birthheight(wallet_file)\n+\n+        # Verify that the block at wallet's birthheight is available at the pruned node\n+        self.nodes[1].getblock(self.nodes[1].getblockhash(wallet_birthheight))\n+\n+        # Import wallet into pruned node\n+        self.nodes[1].createwallet(wallet_name=\"wallet_pruned\", descriptors=False, load_on_startup=True)\n+        self.nodes[1].importwallet(os.path.join(self.nodes[0].datadir, wallet_file))\n+\n+        # Make sure that prune node's wallet correctly accounts for balances\n+        assert_equal(self.nodes[1].getbalance(), self.nodes[0].getbalance())\n+\n+        self.log.info(\"- Done\")\n+\n+    def test_wallet_import_pruned_with_missing_blocks(self, wallet_name):\n+        self.log.info(\"Make sure we cannot import wallet when pruned and required blocks are not available\")\n+\n+        wallet_file = wallet_name + \".dat\"\n+        wallet_birthheight = self.get_birthheight(wallet_file)\n+\n+        # Verify that the block at wallet's birthheight is not available at the pruned node\n+        assert_raises_rpc_error(-1, \"Block not available (pruned data)\", self.nodes[1].getblock, self.nodes[1].getblockhash(wallet_birthheight))\n+\n+        # Make sure wallet cannot be imported because of missing blocks\n+        # This will try to rescan blocks `TIMESTAMP_WINDOW` (2h) before the wallet birthheight.\n+        # There are 6 blocks an hour, so 11 blocks (excluding birthheight).\n+        assert_raises_rpc_error(-4, f\"Pruned blocks from height {wallet_birthheight - 11} required to import keys. Use RPC call getblockchaininfo to determine your pruned height.\", self.nodes[1].importwallet, os.path.join(self.nodes[0].datadir, wallet_file))\n+        self.log.info(\"- Done\")\n+\n+    def get_birthheight(self, wallet_file):\n+        \"\"\"Gets birthheight of a wallet on node0\"\"\"\n+        with open(os.path.join(self.nodes[0].datadir, wallet_file), 'r', encoding=\"utf8\") as f:\n+            for line in f:\n+                if line.startswith('# * Best block at time of backup'):\n+                    wallet_birthheight = int(line.split(' ')[9])\n+                    return wallet_birthheight\n+\n+    def has_block(self, block_index):\n+        \"\"\"Checks if the pruned node has the specific blk0000*.dat file\"\"\"\n+        return os.path.isfile(os.path.join(self.nodes[1].datadir, self.chain, \"blocks\", f\"blk{block_index:05}.dat\"))\n+\n+    def create_wallet(self, wallet_name, *, unload=False):\n+        \"\"\"Creates and dumps a wallet on the non-pruned node0 to be later import by the pruned node\"\"\"\n+        self.nodes[0].createwallet(wallet_name=wallet_name, descriptors=False, load_on_startup=True)\n+        self.nodes[0].dumpwallet(os.path.join(self.nodes[0].datadir, wallet_name + \".dat\"))\n+        if (unload):\n+            self.nodes[0].unloadwallet(wallet_name)\n+\n+    def run_test(self):\n+        self.nTime = 0\n+        self.log.info(\"Warning! This test requires ~1.1GB of disk space\")",
      "path": "test/functional/wallet_pruning.py",
      "position": null,
      "original_position": 119,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "63493d778f443554059d77bd8c9b1a926685a892",
      "in_reply_to_id": null,
      "user": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit I haven't calculate it properly, but with some quick monitoring during the test run, it seems that this might be closer to 1.3GB",
      "created_at": "2022-12-15T07:37:08Z",
      "updated_at": "2022-12-15T07:37:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r1049302084",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1049302084"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 119,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1050027918",
      "pull_request_review_id": 1219783365,
      "id": 1050027918,
      "node_id": "PRRC_kwDOABII584-lieO",
      "diff_hunk": "@@ -93,6 +93,22 @@ static void RescanWallet(CWallet& wallet, const WalletRescanReserver& reserver,\n     }\n }\n \n+static void EnsureBlockDataFromTime(const CWallet& wallet, int64_t timestamp)\n+{\n+    auto& chain{wallet.chain()};\n+    if (!chain.havePruned()) {\n+        return;\n+    }\n+\n+    int height{0};\n+    const bool found{chain.findFirstBlockWithTimeAndHeight(timestamp - TIMESTAMP_WINDOW, 0, FoundBlock().height(height))};",
      "path": "src/wallet/rpc/backup.cpp",
      "position": 12,
      "original_position": 12,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "e6906fcf9e4d5692ead6c9bf5a2e11673315a1f5",
      "in_reply_to_id": null,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In e6906fcf:\r\n\r\ntiny nit:\r\n(only if you have to re-touch)\r\n```suggestion\r\n    const bool found{chain.findFirstBlockWithTimeAndHeight(timestamp - TIMESTAMP_WINDOW, /*min_height=*/ 0, FoundBlock().height(height))};\r\n```",
      "created_at": "2022-12-15T18:54:58Z",
      "updated_at": "2022-12-15T19:11:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r1050027918",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1050027918"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 104,
      "original_line": 104,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1050037506",
      "pull_request_review_id": 1219783365,
      "id": 1050037506,
      "node_id": "PRRC_kwDOABII584-lk0C",
      "diff_hunk": "@@ -138,6 +138,8 @@ def create_coinbase(height, pubkey=None, extra_output_script=None, fees=0, nValu\n         coinbaseoutput.nValue += fees\n     if pubkey is not None:\n         coinbaseoutput.scriptPubKey = key_to_p2pk_script(pubkey)\n+    elif script_pubkey is not None:\n+        coinbaseoutput.scriptPubKey = script_pubkey",
      "path": "test/functional/test_framework/blocktools.py",
      "position": 14,
      "original_position": 14,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "71d9a7c03b44236c2fea2b74f92a69234d29f717",
      "in_reply_to_id": null,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 71d9a7c0:\r\n\r\natm is just a non-blocking nit:\r\n\r\nit's weird to add this new ´script_pubkey´ arg that is only set if the ´pubkey´ arg is not provided. It is not stated anywhere.\r\n\r\nIdeally, should unify both into a single arg. So there is no confusion over which of them take precedence over the other.",
      "created_at": "2022-12-15T19:06:45Z",
      "updated_at": "2022-12-16T12:48:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r1050037506",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1050037506"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": 140,
      "original_start_line": 139,
      "start_side": "RIGHT",
      "line": 143,
      "original_line": 142,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1050039237",
      "pull_request_review_id": 1219783365,
      "id": 1050039237,
      "node_id": "PRRC_kwDOABII584-llPF",
      "diff_hunk": "@@ -0,0 +1,158 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import assert_equal, assert_raises_rpc_error\n+from test_framework.blocktools import (\n+    COINBASE_MATURITY,\n+    create_block\n+)\n+from test_framework.blocktools import create_coinbase\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+from test_framework.script import (\n+    CScript,\n+    OP_RETURN,\n+    OP_TRUE,\n+)\n+\n+class WalletPruningTest(BitcoinTestFramework):\n+    def add_options(self, parser):\n+        self.add_wallet_options(parser, descriptors=False)\n+\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+        self.wallet_names = []\n+        self.extra_args = [\n+            [], # node dedicated to mining\n+            ['-prune=550'], # node dedicated to testing pruning\n+        ]\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+        self.skip_if_no_bdb()\n+\n+    def mine_large_blocks(self, node, n):\n+        # Get the block parameters for the first block\n+        best_block = node.getblock(node.getbestblockhash())\n+        height = int(best_block[\"height\"]) + 1\n+        self.nTime = max(self.nTime, int(best_block[\"time\"])) + 1\n+        previousblockhash = int(best_block[\"hash\"], 16)\n+        big_script = CScript([OP_RETURN] + [OP_TRUE] * 950000)\n+        for _ in range(n):\n+            block = create_block(hashprev=previousblockhash, ntime=self.nTime, coinbase=create_coinbase(height, script_pubkey=big_script))\n+            block.solve()\n+\n+            # Submit to the node\n+            node.submitblock(block.serialize().hex())\n+\n+            previousblockhash = block.sha256\n+            height += 1\n+\n+            # Simulate 10 minutes of work time per block\n+            # Important for matching a timestamp with a block +- some window\n+            self.nTime += 600\n+            for n in self.nodes:\n+                if n.running:",
      "path": "test/functional/wallet_pruning.py",
      "position": 61,
      "original_position": 61,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "71d9a7c03b44236c2fea2b74f92a69234d29f717",
      "in_reply_to_id": null,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In https://github.com/bitcoin/bitcoin/commit/71d9a7c03b44236c2fea2b74f92a69234d29f717:\r\nwhy the node would not be running?",
      "created_at": "2022-12-15T19:09:08Z",
      "updated_at": "2022-12-15T19:11:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r1050039237",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1050039237"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 61,
      "original_line": 61,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1050542747",
      "pull_request_review_id": 1220539664,
      "id": 1050542747,
      "node_id": "PRRC_kwDOABII584-ngKb",
      "diff_hunk": "@@ -0,0 +1,158 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import assert_equal, assert_raises_rpc_error\n+from test_framework.blocktools import (\n+    COINBASE_MATURITY,\n+    create_block\n+)\n+from test_framework.blocktools import create_coinbase\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+from test_framework.script import (\n+    CScript,\n+    OP_RETURN,\n+    OP_TRUE,\n+)\n+\n+class WalletPruningTest(BitcoinTestFramework):\n+    def add_options(self, parser):\n+        self.add_wallet_options(parser, descriptors=False)\n+\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+        self.wallet_names = []\n+        self.extra_args = [\n+            [], # node dedicated to mining\n+            ['-prune=550'], # node dedicated to testing pruning\n+        ]\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+        self.skip_if_no_bdb()\n+\n+    def mine_large_blocks(self, node, n):\n+        # Get the block parameters for the first block\n+        best_block = node.getblock(node.getbestblockhash())\n+        height = int(best_block[\"height\"]) + 1\n+        self.nTime = max(self.nTime, int(best_block[\"time\"])) + 1\n+        previousblockhash = int(best_block[\"hash\"], 16)\n+        big_script = CScript([OP_RETURN] + [OP_TRUE] * 950000)\n+        for _ in range(n):\n+            block = create_block(hashprev=previousblockhash, ntime=self.nTime, coinbase=create_coinbase(height, script_pubkey=big_script))\n+            block.solve()\n+\n+            # Submit to the node\n+            node.submitblock(block.serialize().hex())\n+\n+            previousblockhash = block.sha256\n+            height += 1\n+\n+            # Simulate 10 minutes of work time per block\n+            # Important for matching a timestamp with a block +- some window\n+            self.nTime += 600\n+            for n in self.nodes:\n+                if n.running:",
      "path": "test/functional/wallet_pruning.py",
      "position": 61,
      "original_position": 61,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "71d9a7c03b44236c2fea2b74f92a69234d29f717",
      "in_reply_to_id": 1050039237,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Right, in a previous version of the test it could crash without this check.",
      "created_at": "2022-12-16T09:35:55Z",
      "updated_at": "2022-12-16T09:35:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r1050542747",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1050542747"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 61,
      "original_line": 61,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1052440548",
      "pull_request_review_id": 1223242699,
      "id": 1052440548,
      "node_id": "PRRC_kwDOABII584-uvfk",
      "diff_hunk": "@@ -0,0 +1,158 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test wallet import on pruned node.\"\"\"\n+import os\n+\n+from test_framework.util import assert_equal, assert_raises_rpc_error\n+from test_framework.blocktools import (\n+    COINBASE_MATURITY,\n+    create_block\n+)\n+from test_framework.blocktools import create_coinbase\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+from test_framework.script import (\n+    CScript,\n+    OP_RETURN,\n+    OP_TRUE,\n+)\n+\n+class WalletPruningTest(BitcoinTestFramework):\n+    def add_options(self, parser):\n+        self.add_wallet_options(parser, descriptors=False)\n+\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+        self.wallet_names = []\n+        self.extra_args = [\n+            [], # node dedicated to mining\n+            ['-prune=550'], # node dedicated to testing pruning\n+        ]\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+        self.skip_if_no_bdb()\n+\n+    def mine_large_blocks(self, node, n):\n+        # Get the block parameters for the first block\n+        best_block = node.getblock(node.getbestblockhash())\n+        height = int(best_block[\"height\"]) + 1\n+        self.nTime = max(self.nTime, int(best_block[\"time\"])) + 1\n+        previousblockhash = int(best_block[\"hash\"], 16)\n+        big_script = CScript([OP_RETURN] + [OP_TRUE] * 950000)\n+        for _ in range(n):\n+            block = create_block(hashprev=previousblockhash, ntime=self.nTime, coinbase=create_coinbase(height, script_pubkey=big_script))",
      "path": "test/functional/wallet_pruning.py",
      "position": 48,
      "original_position": 48,
      "commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "original_commit_id": "564b580bf07742483a140c7c095b896a6d5d6cad",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: It is possible to do this without blocktools. See\r\n\r\n```diff\r\ndiff --git a/test/functional/wallet_pruning.py b/test/functional/wallet_pruning.py\r\nindex 6d8475ce8d..d768130776 100755\r\n--- a/test/functional/wallet_pruning.py\r\n+++ b/test/functional/wallet_pruning.py\r\n@@ -40,20 +40,10 @@ class WalletPruningTest(BitcoinTestFramework):\r\n     def mine_large_blocks(self, node, n):\r\n         # Get the block parameters for the first block\r\n         best_block = node.getblock(node.getbestblockhash())\r\n-        height = int(best_block[\"height\"]) + 1\r\n         self.nTime = max(self.nTime, int(best_block[\"time\"])) + 1\r\n-        previousblockhash = int(best_block[\"hash\"], 16)\r\n-        big_script = CScript([OP_RETURN] + [OP_TRUE] * 950000)\r\n+        big_script = \"raw({})\".format(bytes([OP_RETURN] + [OP_TRUE] * 950000).hex())\r\n         for _ in range(n):\r\n-            block = create_block(hashprev=previousblockhash, ntime=self.nTime, coinbase=create_coinbase(height, script_pubkey=big_script))\r\n-            block.solve()\r\n-\r\n-            # Submit to the node\r\n-            node.submitblock(block.serialize().hex())\r\n-\r\n-            previousblockhash = block.sha256\r\n-            height += 1\r\n-\r\n+            self.generateblock(node, big_script, [])\r\n             # Simulate 10 minutes of work time per block\r\n             # Important for matching a timestamp with a block +- some window\r\n             self.nTime += 600\r\n```\r\n\r\nAlso, might be good to double check the runtime in light of https://github.com/bitcoin/bitcoin/commit/6c872d5e656a7117bbdf19a0220572b93de16f31",
      "created_at": "2022-12-19T17:06:04Z",
      "updated_at": "2022-12-19T17:06:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/24865#discussion_r1052440548",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1052440548"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24865"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 48,
      "original_line": 48,
      "side": "RIGHT"
    }
  ]
}