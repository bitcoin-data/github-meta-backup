{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27708",
    "id": 1357978172,
    "node_id": "PR_kwDOABII585Q8Ro8",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/27708",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/27708.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/27708.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27708",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27708/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27708/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27708/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/292a610cff7db9f03a0beb584a08753e5e5e35ed",
    "number": 27708,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "Return EXIT_FAILURE on post-init fatal errors",
    "user": {
      "login": "furszy",
      "id": 5377650,
      "node_id": "MDQ6VXNlcjUzNzc2NTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/furszy",
      "html_url": "https://github.com/furszy",
      "followers_url": "https://api.github.com/users/furszy/followers",
      "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
      "organizations_url": "https://api.github.com/users/furszy/orgs",
      "repos_url": "https://api.github.com/users/furszy/repos",
      "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/furszy/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It seems odd to return `EXIT_SUCCESS` when the node aborted execution due a fatal internal error\r\nor any post-init problem that triggers an unrequested shutdown.\r\n\r\ne.g. blocks or coins db I/O errors, disconnect block failure, failure during thread import (external\r\nblocks loading process error), among others.",
    "labels": [
      {
        "id": 5334691551,
        "node_id": "LA_kwDOABII588AAAABPfju3w",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
        "name": "CI failed",
        "description": "",
        "color": "cccccc",
        "default": false
      }
    ],
    "created_at": "2023-05-20T15:04:25Z",
    "updated_at": "2023-06-07T16:57:13Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "52b5f1e14567864e379c4570c26e934b7de0b281",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "furszy:2023_main_exit_failure",
      "ref": "2023_main_exit_failure",
      "sha": "292a610cff7db9f03a0beb584a08753e5e5e35ed",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 143624913,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNDM2MjQ5MTM=",
        "name": "bitcoin-core",
        "full_name": "furszy/bitcoin-core",
        "owner": {
          "login": "furszy",
          "id": 5377650,
          "node_id": "MDQ6VXNlcjUzNzc2NTA=",
          "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/furszy",
          "html_url": "https://github.com/furszy",
          "followers_url": "https://api.github.com/users/furszy/followers",
          "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
          "organizations_url": "https://api.github.com/users/furszy/orgs",
          "repos_url": "https://api.github.com/users/furszy/repos",
          "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/furszy/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/furszy/bitcoin-core",
        "description": "Bitcoin-Core",
        "fork": true,
        "url": "https://api.github.com/repos/furszy/bitcoin-core",
        "archive_url": "https://api.github.com/repos/furszy/bitcoin-core/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/furszy/bitcoin-core/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/furszy/bitcoin-core/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/furszy/bitcoin-core/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/furszy/bitcoin-core/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/furszy/bitcoin-core/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/furszy/bitcoin-core/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/furszy/bitcoin-core/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/furszy/bitcoin-core/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/furszy/bitcoin-core/contributors",
        "deployments_url": "https://api.github.com/repos/furszy/bitcoin-core/deployments",
        "downloads_url": "https://api.github.com/repos/furszy/bitcoin-core/downloads",
        "events_url": "https://api.github.com/repos/furszy/bitcoin-core/events",
        "forks_url": "https://api.github.com/repos/furszy/bitcoin-core/forks",
        "git_commits_url": "https://api.github.com/repos/furszy/bitcoin-core/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/furszy/bitcoin-core/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/furszy/bitcoin-core/git/tags%7B/sha%7D",
        "git_url": "git://github.com/furszy/bitcoin-core.git",
        "issue_comment_url": "https://api.github.com/repos/furszy/bitcoin-core/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/furszy/bitcoin-core/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/furszy/bitcoin-core/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/furszy/bitcoin-core/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/furszy/bitcoin-core/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/furszy/bitcoin-core/languages",
        "merges_url": "https://api.github.com/repos/furszy/bitcoin-core/merges",
        "milestones_url": "https://api.github.com/repos/furszy/bitcoin-core/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/furszy/bitcoin-core/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/furszy/bitcoin-core/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/furszy/bitcoin-core/releases%7B/id%7D",
        "ssh_url": "git@github.com:furszy/bitcoin-core.git",
        "stargazers_url": "https://api.github.com/repos/furszy/bitcoin-core/stargazers",
        "statuses_url": "https://api.github.com/repos/furszy/bitcoin-core/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/furszy/bitcoin-core/subscribers",
        "subscription_url": "https://api.github.com/repos/furszy/bitcoin-core/subscription",
        "tags_url": "https://api.github.com/repos/furszy/bitcoin-core/tags",
        "teams_url": "https://api.github.com/repos/furszy/bitcoin-core/teams",
        "trees_url": "https://api.github.com/repos/furszy/bitcoin-core/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/furszy/bitcoin-core.git",
        "hooks_url": "https://api.github.com/repos/furszy/bitcoin-core/hooks",
        "svn_url": "https://github.com/furszy/bitcoin-core",
        "homepage": "",
        "language": "C++",
        "forks_count": 2,
        "stargazers_count": 1,
        "watchers_count": 1,
        "size": 380364,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-07T14:04:15Z",
        "created_at": "2018-08-05T15:28:43Z",
        "updated_at": "2023-02-27T18:01:49Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "2026301405f83c925ca68db6a3cd5134ed619ca7",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34342,
        "stargazers_count": 69825,
        "watchers_count": 69825,
        "size": 234259,
        "default_branch": "master",
        "open_issues_count": 627,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-07T15:59:50Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-06-07T15:20:57Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27708"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 42,
    "deletions": 32,
    "changed_files": 7,
    "commits": 4,
    "review_comments": 12,
    "comments": 6
  },
  "events": [
    {
      "event": "commented",
      "id": 1555931428,
      "node_id": "IC_kwDOABII585cvaEk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1555931428",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-20T15:04:28Z",
      "updated_at": "2023-06-07T16:57:13Z",
      "author_association": "MEMBER",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [TheCharlatan](https://github.com/bitcoin/bitcoin/pull/27708#issuecomment-1562915943), [theStack](https://github.com/bitcoin/bitcoin/pull/27708#pullrequestreview-1465636707) |\n| Approach ACK | [ryanofsky](https://github.com/bitcoin/bitcoin/pull/27708#issuecomment-1581200866) |\n\nIf your review is incorrectly listed, please react with 👎 to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#27711](https://github.com/bitcoin/bitcoin/pull/27711) (kernel: Remove shutdown from kernel library by TheCharlatan)\n* [#27607](https://github.com/bitcoin/bitcoin/pull/27607) (index: improve initialization and pruning violation check by furszy)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27708#issuecomment-1555931428",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27708"
    },
    {
      "event": "unsubscribed",
      "id": 9294830170,
      "node_id": "UE_lADOABII585maZ9VzwAAAAIqA9pa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9294830170",
      "actor": {
        "login": "joostjager",
        "id": 4638168,
        "node_id": "MDQ6VXNlcjQ2MzgxNjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4638168?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/joostjager",
        "html_url": "https://github.com/joostjager",
        "followers_url": "https://api.github.com/users/joostjager/followers",
        "following_url": "https://api.github.com/users/joostjager/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/joostjager/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/joostjager/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/joostjager/subscriptions",
        "organizations_url": "https://api.github.com/users/joostjager/orgs",
        "repos_url": "https://api.github.com/users/joostjager/repos",
        "events_url": "https://api.github.com/users/joostjager/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/joostjager/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-20T18:35:00Z"
    },
    {
      "event": "commented",
      "id": 1562915943,
      "node_id": "IC_kwDOABII585dKDRn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1562915943",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-25T13:31:50Z",
      "updated_at": "2023-05-25T13:31:50Z",
      "author_association": "MEMBER",
      "body": "Concept ACK",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27708#issuecomment-1562915943",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27708"
    },
    {
      "event": "reviewed",
      "id": 1443959388,
      "node_id": "PRR_kwDOABII585WERJc",
      "url": null,
      "actor": null,
      "commit_id": "c4e32eb72cae62eff510692a8df08181a2202a9d",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Was wondering if this was attempted before and skimmed through the pull request history, but I did not find prior attempts. ",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27708#pullrequestreview-1443959388",
      "submitted_at": "2023-05-25T15:13:53Z",
      "state": "CHANGES_REQUESTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27708"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDU3YWI0ODYyNDQ0NmM3MmJjZjczOTA1MTMzZWU2YmNlMDIwMjhiMzc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/57ab48624446c72bcf73905133ee6bce02028b37",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/57ab48624446c72bcf73905133ee6bce02028b37",
      "tree": {
        "sha": "d9500fccfd9f00c47848953e3d162f97d7734809",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d9500fccfd9f00c47848953e3d162f97d7734809"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree d9500fccfd9f00c47848953e3d162f97d7734809\nparent 6cf47a8f44f96099a84e5c6e628e3499045e024d\nauthor furszy <matiasfurszyfer@protonmail.com> 1685397418 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1685397492 -0300\n\nmove ThreadImport ABC error to use AbortNode\n\n'StartShutdown' should only be used for user requested\nshutdowns. Internal errors that cause a shutdown should\nuse 'AbortNode'.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmR1H/QACgkQXdI8zGhq\npiMr5BAAkBI1K+MoCS669vk2m0Hbd/8eBk2ti7hgSIZBeDWeWO5rznchksoYHbOx\nPrMJoPyenUIsK5cBgE7K2XLeFleZJSUq6ksMxi3v/QYOaomvFKAeVFPf97pTDiAa\ncJR4NLuc7Vfsz5iX6u9Rbe3gg6Eejs8+T1z/yhII8CwMD2ER4BTImS/z9T/CkrTf\n0zWqUkTVTNLu5N2u7c5B7r4M3o8SQoE6OhWmXK3icwQI9GBys7RcBoibZlh6gU61\nyErLS2iiVBVnArnCa2Z2J6cYjaC4zRxx0tdYFUO9uMQMnwqVrU1Nvltx1xEHx6sz\nz6YP5bLSk1CFdwDDEnO0oGAme7iAxtjkvhHA9AnfXajDT1U56G/2okrb0yXbRGmS\nPsvSD/2aWdWxvavjveRkxrqiQmJd6j92+t1mJvERkFjEW6aWXj+aQIqWuhxYH7U8\nRKLGYIagQ4g6FJwOkstKbh9MFFbLb+FNk26RIcPchfjVPVKkmRltg+ro1jbDPF+j\nYEaImTqDIb0bg2N7XizW5UAt1ZY9xPLTecSpJeH5FsIdHCbTKlcoaQ1+TUgYuLOa\nt6e93U/3CJqde8bj4FHgupLJxtPnPyj1zZ5ZtvLyPDiSB7bTVYSeEZQESR+5Zqgf\n17kbYuJ8REh/km8q0a5A1QWBZKLjcLgMezOSdB8rlCj6CML32kI=\n=J6st\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6cf47a8f44f96099a84e5c6e628e3499045e024d",
          "sha": "6cf47a8f44f96099a84e5c6e628e3499045e024d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/6cf47a8f44f96099a84e5c6e628e3499045e024d"
        }
      ],
      "message": "move ThreadImport ABC error to use AbortNode\n\n'StartShutdown' should only be used for user requested\nshutdowns. Internal errors that cause a shutdown should\nuse 'AbortNode'.",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-05-29T21:58:12Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-05-29T21:56:58Z"
      },
      "sha": "57ab48624446c72bcf73905133ee6bce02028b37"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9372015858,
      "node_id": "HRFPE_lADOABII585maZ9VzwAAAAIunZzy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9372015858",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-29T21:58:31Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9372122838,
      "node_id": "HRFPE_lADOABII585maZ9VzwAAAAIunz7W",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9372122838",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-29T22:23:15Z"
    },
    {
      "event": "labeled",
      "id": 9372123061,
      "node_id": "LE_lADOABII585maZ9VzwAAAAIunz-1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9372123061",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-29T22:23:20Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 9372429847,
      "node_id": "UNLE_lADOABII585maZ9VzwAAAAIuo-4X",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9372429847",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-29T23:58:00Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1572294451,
      "node_id": "IC_kwDOABII585dt08z",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1572294451",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-01T15:41:29Z",
      "updated_at": "2023-06-01T15:41:29Z",
      "author_association": "MEMBER",
      "body": "Feedback tackled. Thanks TheCharlatan!. Changes:\r\n\r\n* Moved ThreadImport ABC error to use `AbortNode`. Per [comment](https://github.com/bitcoin/bitcoin/pull/27708#discussion_r1206967261).\r\n* And moved `AbortNode` code below `StartShutdown` so it can use the introduced static function instead of having to add a public `StartErrorShutdown` function that is only used by the .cpp file and not externally.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27708#issuecomment-1572294451",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27708"
    },
    {
      "event": "reviewed",
      "id": 1465636707,
      "node_id": "PRR_kwDOABII585XW9dj",
      "url": null,
      "actor": null,
      "commit_id": "d44dd73bcabc694880dfc966fad21980cd3b4c64",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK\r\n\r\nRegarding the conclusion in the first commit (_\"'StartShutdown' should only be used for user requested shutdowns. Internal errors that cause a shutdown should use 'AbortNode'.\"_), the following is probably another candidate where `AbortNode` is preferred over `StartShutdown`? \r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/8cc65f093c0cf7a27b3bfc6da90fd7a6ac8f5e48/src/index/base.cpp#L33-L41\r\n\r\n(not saying it necessarily has to happen in this PR though, if it makes sense).",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27708#pullrequestreview-1465636707",
      "submitted_at": "2023-06-06T16:43:39Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27708"
    },
    {
      "event": "reviewed",
      "id": 1465970269,
      "node_id": "PRR_kwDOABII585XYO5d",
      "url": null,
      "actor": null,
      "commit_id": "d44dd73bcabc694880dfc966fad21980cd3b4c64",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "> Regarding the conclusion in the first commit (_\"'StartShutdown' should only be used for user requested shutdowns. Internal errors that cause a shutdown should use 'AbortNode'.\"_), the following is probably another candidate where `AbortNode` is preferred over `StartShutdown`?\r\n\r\nYeah absolutely. Good eye. If you compare it in-detail, that function is a plain copy of `AbortNode`: it (1) calls `SetMiscWarning`, (2) logs the error, (3) notifies the UI by calling `InitError` (noui listeners as well) and (4) calls to the shutdown function..\r\nSo, we can just get rid of it.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27708#pullrequestreview-1465970269",
      "submitted_at": "2023-06-06T19:55:43Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27708"
    },
    {
      "event": "commented",
      "id": 1579532617,
      "node_id": "IC_kwDOABII585eJcFJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1579532617",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-06T22:20:35Z",
      "updated_at": "2023-06-06T22:20:35Z",
      "author_association": "MEMBER",
      "body": "> > Regarding the conclusion in the first commit (_\"'StartShutdown' should only be used for user requested shutdowns. Internal errors that cause a shutdown should use 'AbortNode'.\"_), the following is probably another candidate where `AbortNode` is preferred over `StartShutdown`?\r\n> \r\n> Yeah absolutely. Good eye. If you compare it in-detail, that function is a plain copy of `AbortNode`: it (1) calls `SetMiscWarning`, (2) logs the error, (3) notifies the UI by calling `InitError` (noui listeners as well) and (4) calls to the shutdown function.. So, we can just get rid of it.\r\n\r\nOh you're right, didn't look at `AbortNode` before, it's indeed almost the same. Feel free to pull in the dedup commit then: https://github.com/theStack/bitcoin/commit/3eca21000eb33b96063fdcdf30e8ad8514e41126 Note that I still kept the `FatalError` helper for ease-of-use for the callers, as it still is useful for not having to call `tfm::format(...)` each time (thanks to simple template magic).",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27708#issuecomment-1579532617",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27708"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDAwOGRjMGMzNjk1MWY1OTRlODcxNDc0YTgzOGY3NWUxMWQzODdmNzI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/008dc0c36951f594e871474a838f75e11d387f72",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/008dc0c36951f594e871474a838f75e11d387f72",
      "tree": {
        "sha": "d7005cc2f5e3ed554f8f6de3851b879349a6a649",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d7005cc2f5e3ed554f8f6de3851b879349a6a649"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree d7005cc2f5e3ed554f8f6de3851b879349a6a649\nparent 57ab48624446c72bcf73905133ee6bce02028b37\nauthor Sebastian Falbesoner <sebastian.falbesoner@gmail.com> 1686089097 +0200\ncommitter furszy <matiasfurszyfer@protonmail.com> 1686146573 -0300\n\nrefactor: index: use `AbortNode` in fatal error helper\n\nDeduplicates code in the `FatalError` template function by using\n`AbortNode` which does the exact same thing if called without any user\nmessage (i.e. without second parameter specified). The template is still\nkept for ease-of-use w.r.t. not having to call `tfm::format(...)` at the\ncall-side each time, and also to keep the diff minimal.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmSAjg0ACgkQXdI8zGhq\npiNULBAAkVnMRtL9BRRLj38TghGCPj/gcEerl9VAxnZJo7trLFeQ123xCh7Mu7kn\njxAFesMa9l+cjnM2MfJFqvsx1JQALPZ0TlbNIZhXnS1GhXnWqdbwBHGm5L9bPDEA\nbsk2d7q+qSW3YEQPGUw6+1IDZk6qG5+Mw18JavwYkxHICjMUSDFK25H+okQTSBg+\n+Ppa/zzXGkm1bEtHjez7MwnJGhTngBjSL0LlGkfkf4g8wX4uZwxUoxmB2y4hY87M\niAZkpxbNce4yBsYp4mRIMRn0xdAoUitDGFXKf10We7zapZzvuxSDzrhX4ka4RaGG\nFRv4lF0iZ+qe7c89edTz68ggL3kT5P0CvVcTnZTT9a00WIL/sGZdiC3/beCxX691\nAI9HzxMynwbauaH2bALKLUAFmga5heyx1GrtZ7G9pUMM4hgxBv8hlf4hxhrput44\nL6AHuGckylfa06V08CyFG7LheBI+fX2zPa1fZidA1ZhwfDPdpElj/jGEQ6N1IvSe\nCUHdWXxbmJhQ4s81DblYgK/ZEcVfExFafON6DkVDycErEoT/xjV0MxqchrzNswC1\n/OvtFo8BCgk5ouPDPnZCvxoqy7N0d1aAmtBSwU4KAPhrsIUVvGUlXZtfiAPBkYMF\nG+ClyInJYv6OCHd7N+k2bRQbSfrKAg1QDEzXcvoQBEwNOVgrd1M=\n=MQaZ\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/57ab48624446c72bcf73905133ee6bce02028b37",
          "sha": "57ab48624446c72bcf73905133ee6bce02028b37",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/57ab48624446c72bcf73905133ee6bce02028b37"
        }
      ],
      "message": "refactor: index: use `AbortNode` in fatal error helper\n\nDeduplicates code in the `FatalError` template function by using\n`AbortNode` which does the exact same thing if called without any user\nmessage (i.e. without second parameter specified). The template is still\nkept for ease-of-use w.r.t. not having to call `tfm::format(...)` at the\ncall-side each time, and also to keep the diff minimal.",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-06-07T14:02:53Z"
      },
      "author": {
        "name": "Sebastian Falbesoner",
        "email": "sebastian.falbesoner@gmail.com",
        "date": "2023-06-06T22:04:57Z"
      },
      "sha": "008dc0c36951f594e871474a838f75e11d387f72"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGQ3NmRlNzZjZDBiOTc1M2M5ZmM3YTk3YmIzNTI3MDY4MDhkMGY0ODU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d76de76cd0b9753c9fc7a97bb352706808d0f485",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d76de76cd0b9753c9fc7a97bb352706808d0f485",
      "tree": {
        "sha": "caa87463613ba769b07d7eb97af6dde6162647e6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/caa87463613ba769b07d7eb97af6dde6162647e6"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree caa87463613ba769b07d7eb97af6dde6162647e6\nparent 008dc0c36951f594e871474a838f75e11d387f72\nauthor furszy <matiasfurszyfer@protonmail.com> 1685397026 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1686146573 -0300\n\nrefactor: move 'AbortNode' after 'StartShutdown'\n\nrequired for the next commit, where 'StartErrorShutdown'\nis introduced.\n\nno behavior change.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmSAjg0ACgkQXdI8zGhq\npiPc2g/5AcmsKlZ6fQX2q0DLyytjsOtiwZCyXVzq2JKjVkWwSupEoUx+cKuglGlE\nIypnXfCVj7diq7ORg25VImQGucI020x7oKiOaFmi3fjIQ2EROVJ5CVnUoXFEaA99\nvKJAlT3MIpq1XLCAVOz/ewRAQ/QoyGh/yt4a9CdcHTxy8lz8TUEFrmvrJBYJmdRm\nO3yXxywsM6JDb5Vr3eKjXJ68c894sZXvduzY6mVGMXmb8twzH4JX7VUkdWZ/zv8h\nwVEZ1Jt4l79CvyiEdvctSbp7T0CAtj32R0ocIM/dCpcKaFVBFbMvjarqUqcLWt9C\nps9sak9xcSAQTf+eKpERQtM8J4IOO7MvflMC+nhGBQ888cvDzcJcep+sb6lBhtYk\nc9VgmL1B9FbDfMqXnx51g8k5JkoxSs4uVqrqAwp9avWQ/BH1O5tSczaMxPwf/9UO\n48rfpDFmbBBWUaUsoenPVPc9CBfY2XJF4lCTWyb+7ugn52VGMZ+6nVH1jYA0kGg2\nSaApwaar7r0AWcVKE/u+kcuxJ0bdcHIKp4emEr8o73qaTLsAKVKv1ac6HwxUkbDQ\nHKfx0HsjeGvPmPmV2VRKwOeSj7/UtmwORWIEyNU4AWu9abu6rF9L72cCqRRc7CSY\nnrH5K65h3XfAsS7KTG0OV3wDSDgifFvfkxa2c0AEgiJ0yC4eFmU=\n=0pvg\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/008dc0c36951f594e871474a838f75e11d387f72",
          "sha": "008dc0c36951f594e871474a838f75e11d387f72",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/008dc0c36951f594e871474a838f75e11d387f72"
        }
      ],
      "message": "refactor: move 'AbortNode' after 'StartShutdown'\n\nrequired for the next commit, where 'StartErrorShutdown'\nis introduced.\n\nno behavior change.",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-06-07T14:02:53Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-05-29T21:50:26Z"
      },
      "sha": "d76de76cd0b9753c9fc7a97bb352706808d0f485"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDI5MmE2MTBjZmY3ZGI5ZjAzYTBiZWI1ODRhMDg3NTNlNWU1ZTM1ZWQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/292a610cff7db9f03a0beb584a08753e5e5e35ed",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/292a610cff7db9f03a0beb584a08753e5e5e35ed",
      "tree": {
        "sha": "1262deec2f35b0568615ba5895c9c84459985e09",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1262deec2f35b0568615ba5895c9c84459985e09"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 1262deec2f35b0568615ba5895c9c84459985e09\nparent d76de76cd0b9753c9fc7a97bb352706808d0f485\nauthor furszy <matiasfurszyfer@protonmail.com> 1684590677 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1686146573 -0300\n\nReturn EXIT_FAILURE on post-init fatal errors\n\nIt seems odd to return `EXIT_SUCCESS` when the node aborted\nexecution due a fatal internal error or any post-init problem\nthat triggers an unrequested shutdown.\n\ne.g. blocks or coins db I/O errors, disconnect block failure,\nfailure during thread import (external blocks loading process\nerror), among others.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmSAjg0ACgkQXdI8zGhq\npiND1Q//SQm77Z5J2MIO8iotOS6CU5uL0IjAVccs3N1kJESKM/+r3vz5WfIdKXWR\nv975qPy2IDl7sTmJc7fAfehWMAhWJ96k+tpbCYKczF6D93tHLi0DuvBn61sy2pvX\nvc2sBjVwZTdYSVnO1vHBdYjiTKQNFey1G2UghmtIM/NHalyVgBZJWnPBbjAZRKRe\nw0ogA9Mumyic8tE5SZ43gsSccTnAyyDYS2v6+5GhNKoplbBnif4yZqOXOWm8pDgQ\ny1tTmEq7OVWB0SiSVyU6khVCgm03/djjKcQto6dKbtenU/Lz6mvGZghBtMdMHoim\nejDsojz2MbqRbLdO4BdbMyF8dSgMZI1j19Zn9iHXCnFQT6SJffpfhlk0SG4Yrmh2\n+mCxvBwmDdlzVFtJ67Ul7Lmy2L91K2TFvYk7N8yrIE2NIdTkQ8T+ohvXIEwD01la\nQDQtgDy0+tFIQCc1baofi9/KHNQZ7RoTfsmhr4JpJT/3CTL5GjqNXox7mO04etqQ\nUvFFw3wRu0o0wM9Yb2V06lpDxa0DciXn2GsXXoUAZLnx7SxH9N6IPs2RlAZHDKHc\n+BUJiHPhc9OxKgeO7PTIe+oKi/w4Kr/pzqrrNwtCJSBEeMJSYyyRf1l+lLB8ZKio\n/VnqzsuJgqnP/TuaPrXvauHrWpvJP5X0LhjJsxKXg8md7qAnguA=\n=Gszl\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d76de76cd0b9753c9fc7a97bb352706808d0f485",
          "sha": "d76de76cd0b9753c9fc7a97bb352706808d0f485",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d76de76cd0b9753c9fc7a97bb352706808d0f485"
        }
      ],
      "message": "Return EXIT_FAILURE on post-init fatal errors\n\nIt seems odd to return `EXIT_SUCCESS` when the node aborted\nexecution due a fatal internal error or any post-init problem\nthat triggers an unrequested shutdown.\n\ne.g. blocks or coins db I/O errors, disconnect block failure,\nfailure during thread import (external blocks loading process\nerror), among others.",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-06-07T14:02:53Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2023-05-20T13:51:17Z"
      },
      "sha": "292a610cff7db9f03a0beb584a08753e5e5e35ed"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9459754366,
      "node_id": "HRFPE_lADOABII585maZ9VzwAAAAIz2GV-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9459754366",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-07T14:04:22Z"
    },
    {
      "event": "commented",
      "id": 1580895192,
      "node_id": "IC_kwDOABII585eOovY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1580895192",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-07T14:05:44Z",
      "updated_at": "2023-06-07T14:05:44Z",
      "author_association": "MEMBER",
      "body": "done, cherry-picked 🚜.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27708#issuecomment-1580895192",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27708"
    },
    {
      "event": "labeled",
      "id": 9461339784,
      "node_id": "LE_lADOABII585maZ9VzwAAAAIz8JaI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9461339784",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-07T16:01:27Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1581200866,
      "node_id": "IC_kwDOABII585ePzXi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1581200866",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-07T16:57:10Z",
      "updated_at": "2023-06-07T16:57:10Z",
      "author_association": "MEMBER",
      "body": "Approach ACK d44dd73bcabc694880dfc966fad21980cd3b4c64. Need to review more closely, but these changes look very good and should help with #27711",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27708#issuecomment-1581200866",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27708"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1205560303",
      "pull_request_review_id": 1443959388,
      "id": 1205560303,
      "node_id": "PRRC_kwDOABII585H22Pv",
      "diff_hunk": "@@ -19,6 +19,9 @@ bool InitShutdownState();\n /** Request shutdown of the application. */\n void StartShutdown();\n \n+/** Request application shutdown due an internal error. */\n+void StartErrorShutdown();",
      "path": "src/shutdown.h",
      "position": null,
      "original_position": 5,
      "commit_id": "292a610cff7db9f03a0beb584a08753e5e5e35ed",
      "original_commit_id": "c4e32eb72cae62eff510692a8df08181a2202a9d",
      "in_reply_to_id": null,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Could this just be a local static function in shutdown.cpp and not exposed in the header?",
      "created_at": "2023-05-25T13:56:07Z",
      "updated_at": "2023-05-25T15:13:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27708#discussion_r1205560303",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1205560303"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27708"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 23,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1205561022",
      "pull_request_review_id": 1443959388,
      "id": 1205561022,
      "node_id": "PRRC_kwDOABII585H22a-",
      "diff_hunk": "@@ -29,7 +32,9 @@ bool ShutdownRequested();\n \n /** Wait for StartShutdown to be called in any thread. This can only be used\n  * from a single thread.\n+ * Returns true if shutdown was requested by the user. Otherwise, it's an\n+ * internally requested shutdown which only happens when an error arises.\n  */\n-void WaitForShutdown();\n+bool WaitForShutdown();",
      "path": "src/shutdown.h",
      "position": 28,
      "original_position": 18,
      "commit_id": "292a610cff7db9f03a0beb584a08753e5e5e35ed",
      "original_commit_id": "c4e32eb72cae62eff510692a8df08181a2202a9d",
      "in_reply_to_id": null,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Does it make sense to add `[[nodiscard]]` here?",
      "created_at": "2023-05-25T13:56:40Z",
      "updated_at": "2023-05-25T15:13:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27708#discussion_r1205561022",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1205561022"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27708"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 35,
      "original_line": 35,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1205612087",
      "pull_request_review_id": 1443959388,
      "id": 1205612087,
      "node_id": "PRRC_kwDOABII585H3C43",
      "diff_hunk": "@@ -29,7 +32,9 @@ bool ShutdownRequested();\n \n /** Wait for StartShutdown to be called in any thread. This can only be used\n  * from a single thread.\n+ * Returns true if shutdown was requested by the user. Otherwise, it's an\n+ * internally requested shutdown which only happens when an error arises.",
      "path": "src/shutdown.h",
      "position": 25,
      "original_position": 15,
      "commit_id": "292a610cff7db9f03a0beb584a08753e5e5e35ed",
      "original_commit_id": "c4e32eb72cae62eff510692a8df08181a2202a9d",
      "in_reply_to_id": null,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This comment seems a bit inaccurate, e.g. we may have `stop_at_height` set, but shutdown is still triggered internally. There is also one error case in https://github.com/bitcoin/bitcoin/blob/master/src/node/blockstorage.cpp#L931 that triggers a normal shutdown.",
      "created_at": "2023-05-25T14:33:12Z",
      "updated_at": "2023-05-25T15:13:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27708#discussion_r1205612087",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1205612087"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27708"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 33,
      "original_line": 33,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1206869341",
      "pull_request_review_id": 1446355484,
      "id": 1206869341,
      "node_id": "PRRC_kwDOABII585H711d",
      "diff_hunk": "@@ -19,6 +19,9 @@ bool InitShutdownState();\n /** Request shutdown of the application. */\n void StartShutdown();\n \n+/** Request application shutdown due an internal error. */\n+void StartErrorShutdown();",
      "path": "src/shutdown.h",
      "position": null,
      "original_position": 5,
      "commit_id": "292a610cff7db9f03a0beb584a08753e5e5e35ed",
      "original_commit_id": "c4e32eb72cae62eff510692a8df08181a2202a9d",
      "in_reply_to_id": 1205560303,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The reason behind that is https://github.com/bitcoin/bitcoin/pull/27607#discussion_r1199624849.\r\nBut.. could not expose it and move the caller to use `AbortNode()` instead. Same as we do with the external block import failures.\r\n\r\n",
      "created_at": "2023-05-26T14:26:09Z",
      "updated_at": "2023-05-26T14:26:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27708#discussion_r1206869341",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1206869341"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27708"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 23,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1206881682",
      "pull_request_review_id": 1446372379,
      "id": 1206881682,
      "node_id": "PRRC_kwDOABII585H742S",
      "diff_hunk": "@@ -19,6 +19,9 @@ bool InitShutdownState();\n /** Request shutdown of the application. */\n void StartShutdown();\n \n+/** Request application shutdown due an internal error. */\n+void StartErrorShutdown();",
      "path": "src/shutdown.h",
      "position": null,
      "original_position": 5,
      "commit_id": "292a610cff7db9f03a0beb584a08753e5e5e35ed",
      "original_commit_id": "c4e32eb72cae62eff510692a8df08181a2202a9d",
      "in_reply_to_id": 1205560303,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Still, in order to do that in the cleanest possible way, will need to refactor `shutdown.cpp`, so `AbortNode` is placed after the static `StartErrorShutdown` function. Which I'm not so sure that worth it due the conflicts that could cause with your PRs. Thoughts?",
      "created_at": "2023-05-26T14:34:17Z",
      "updated_at": "2023-05-26T14:34:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27708#discussion_r1206881682",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1206881682"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27708"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 23,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1206916333",
      "pull_request_review_id": 1446418102,
      "id": 1206916333,
      "node_id": "PRRC_kwDOABII585H8BTt",
      "diff_hunk": "@@ -19,6 +19,9 @@ bool InitShutdownState();\n /** Request shutdown of the application. */\n void StartShutdown();\n \n+/** Request application shutdown due an internal error. */\n+void StartErrorShutdown();",
      "path": "src/shutdown.h",
      "position": null,
      "original_position": 5,
      "commit_id": "292a610cff7db9f03a0beb584a08753e5e5e35ed",
      "original_commit_id": "c4e32eb72cae62eff510692a8df08181a2202a9d",
      "in_reply_to_id": 1205560303,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "So IIUC, this call [here](https://github.com/bitcoin/bitcoin/commit/ca3041984cf3665e27b6783c923ab1c32682500a#diff-b1e19192258d83199d8adaa5ac31f067af98f63554bfdd679bd8e8073815e69dR1669) would call `StartErrorShutdown`?",
      "created_at": "2023-05-26T14:58:44Z",
      "updated_at": "2023-05-26T15:08:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27708#discussion_r1206916333",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1206916333"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27708"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 23,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1206928091",
      "pull_request_review_id": 1446440158,
      "id": 1206928091,
      "node_id": "PRRC_kwDOABII585H8ELb",
      "diff_hunk": "@@ -19,6 +19,9 @@ bool InitShutdownState();\n /** Request shutdown of the application. */\n void StartShutdown();\n \n+/** Request application shutdown due an internal error. */\n+void StartErrorShutdown();",
      "path": "src/shutdown.h",
      "position": null,
      "original_position": 5,
      "commit_id": "292a610cff7db9f03a0beb584a08753e5e5e35ed",
      "original_commit_id": "c4e32eb72cae62eff510692a8df08181a2202a9d",
      "in_reply_to_id": 1205560303,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yeah [here](https://github.com/bitcoin/bitcoin/commit/bc2315d86f13e6e15f681ecaf5efc9b33e6128a3#diff-b1e19192258d83199d8adaa5ac31f067af98f63554bfdd679bd8e8073815e69dR1675), I just rebased #27607 on top of this one.\r\n\r\nNo problem on using `AbortNode` there. Just would need to bubble up the indexes error so it can be provided to `AbortNode`. Which.. isn't bad as it will remove another `ui_interface` dependency.",
      "created_at": "2023-05-26T15:05:33Z",
      "updated_at": "2023-05-26T15:48:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27708#discussion_r1206928091",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1206928091"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27708"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 23,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1206967261",
      "pull_request_review_id": 1446487768,
      "id": 1206967261,
      "node_id": "PRRC_kwDOABII585H8Nvd",
      "diff_hunk": "@@ -29,7 +32,9 @@ bool ShutdownRequested();\n \n /** Wait for StartShutdown to be called in any thread. This can only be used\n  * from a single thread.\n+ * Returns true if shutdown was requested by the user. Otherwise, it's an\n+ * internally requested shutdown which only happens when an error arises.",
      "path": "src/shutdown.h",
      "position": 25,
      "original_position": 15,
      "commit_id": "292a610cff7db9f03a0beb584a08753e5e5e35ed",
      "original_commit_id": "c4e32eb72cae62eff510692a8df08181a2202a9d",
      "in_reply_to_id": 1205612087,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> This comment seems a bit inaccurate, e.g. we may have `stop_at_height` set, but shutdown is still triggered internally. There is also one error case in https://github.com/bitcoin/bitcoin/blob/master/src/node/blockstorage.cpp#L931 that triggers a normal shutdown.\r\n\r\nI would label `stop_at_height` as an action requested by the user. The user had to provide `-stopatheight` at startup so the shutdown is expected.\r\n\r\nOn the other hand, https://github.com/bitcoin/bitcoin/blob/master/src/node/blockstorage.cpp#L931 seems to be a good candidate for `AbortNode`. It's a error in the `ThreadImport`, so either the db data got modified in some wrong way or the user provided invalid external blocks.",
      "created_at": "2023-05-26T15:33:47Z",
      "updated_at": "2023-05-26T15:33:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27708#discussion_r1206967261",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1206967261"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27708"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 33,
      "original_line": 33,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1206969917",
      "pull_request_review_id": 1446491982,
      "id": 1206969917,
      "node_id": "PRRC_kwDOABII585H8OY9",
      "diff_hunk": "@@ -29,7 +32,9 @@ bool ShutdownRequested();\n \n /** Wait for StartShutdown to be called in any thread. This can only be used\n  * from a single thread.\n+ * Returns true if shutdown was requested by the user. Otherwise, it's an\n+ * internally requested shutdown which only happens when an error arises.\n  */\n-void WaitForShutdown();\n+bool WaitForShutdown();",
      "path": "src/shutdown.h",
      "position": 28,
      "original_position": 18,
      "commit_id": "292a610cff7db9f03a0beb584a08753e5e5e35ed",
      "original_commit_id": "c4e32eb72cae62eff510692a8df08181a2202a9d",
      "in_reply_to_id": 1205561022,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "sure",
      "created_at": "2023-05-26T15:35:51Z",
      "updated_at": "2023-05-26T15:35:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27708#discussion_r1206969917",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1206969917"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27708"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 35,
      "original_line": 35,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1207346355",
      "pull_request_review_id": 1446966193,
      "id": 1207346355,
      "node_id": "PRRC_kwDOABII585H9qSz",
      "diff_hunk": "@@ -19,6 +19,9 @@ bool InitShutdownState();\n /** Request shutdown of the application. */\n void StartShutdown();\n \n+/** Request application shutdown due an internal error. */\n+void StartErrorShutdown();",
      "path": "src/shutdown.h",
      "position": null,
      "original_position": 5,
      "commit_id": "292a610cff7db9f03a0beb584a08753e5e5e35ed",
      "original_commit_id": "c4e32eb72cae62eff510692a8df08181a2202a9d",
      "in_reply_to_id": 1205560303,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> Which.. isn't bad as it will remove another ui_interface dependency.\r\n\r\nCan you elaborate on this point? `AbortNode` still relies on `ui_interface` from what I can tell. \r\n\r\nFrom my current understanding both the `StartShutdown` in `ThreadImport` and in the check are call shutdown and node `AbortNode`, because `BlockImport` might run before the ui is available (this is me guessing out of historical reasons). I am not sold on this point though, since this runs in another thread and we also provide the noui consumer of the ui interface. So I think these should both become calls to `AbortNode`.",
      "created_at": "2023-05-26T21:03:31Z",
      "updated_at": "2023-05-26T21:03:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27708#discussion_r1207346355",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1207346355"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27708"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 23,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1207406938",
      "pull_request_review_id": 1447004254,
      "id": 1207406938,
      "node_id": "PRRC_kwDOABII585H95Fa",
      "diff_hunk": "@@ -19,6 +19,9 @@ bool InitShutdownState();\n /** Request shutdown of the application. */\n void StartShutdown();\n \n+/** Request application shutdown due an internal error. */\n+void StartErrorShutdown();",
      "path": "src/shutdown.h",
      "position": null,
      "original_position": 5,
      "commit_id": "292a610cff7db9f03a0beb584a08753e5e5e35ed",
      "original_commit_id": "c4e32eb72cae62eff510692a8df08181a2202a9d",
      "in_reply_to_id": 1205560303,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> > Which.. isn't bad as it will remove another ui_interface dependency.\r\n> \r\n> Can you elaborate on this point? `AbortNode` still relies on `ui_interface` from what I can tell.\r\n\r\nOk, sorry for the confusion.\r\n\r\nThe ui_interface dependency that can be removed is the `base.cpp` one. Thus why said to \"bubble up\" the error string up to `init.cpp` instead of calling `InitError` from the index base class `Start` method.\r\n\r\n> From my current understanding both the `StartShutdown` in `ThreadImport` and in the check are call shutdown and node `AbortNode`, because `BlockImport` might run before the ui is available (this is me guessing out of historical reasons).\r\n\r\n`AbortNode` isn't doing anything special. We already use `InitError` in `init.cpp` prior spawning the import thread.\r\nWhat the node will do when there is no gui is print the error to the command line, and the debug file, prior shutting down (using the noui consumer as you said).\r\n\r\n> I am not sold on this point though, since this runs in another thread and we also provide the noui consumer of the ui interface. So I think these should both become calls to `AbortNode`.\r\n\r\nYeah, that is my idea as well. The `ThreadImport` \"fatal\" failures should use `AbortNode`.",
      "created_at": "2023-05-26T21:52:02Z",
      "updated_at": "2023-05-26T22:02:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27708#discussion_r1207406938",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1207406938"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27708"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 23,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1213346408",
      "pull_request_review_id": 1455780287,
      "id": 1213346408,
      "node_id": "PRRC_kwDOABII585IUjJo",
      "diff_hunk": "@@ -29,7 +32,9 @@ bool ShutdownRequested();\n \n /** Wait for StartShutdown to be called in any thread. This can only be used\n  * from a single thread.\n+ * Returns true if shutdown was requested by the user. Otherwise, it's an\n+ * internally requested shutdown which only happens when an error arises.\n  */\n-void WaitForShutdown();\n+bool WaitForShutdown();",
      "path": "src/shutdown.h",
      "position": 28,
      "original_position": 18,
      "commit_id": "292a610cff7db9f03a0beb584a08753e5e5e35ed",
      "original_commit_id": "c4e32eb72cae62eff510692a8df08181a2202a9d",
      "in_reply_to_id": 1205561022,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ended up not adding this change to not modify `AbortShutdown()`.",
      "created_at": "2023-06-01T15:38:20Z",
      "updated_at": "2023-06-01T15:38:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27708#discussion_r1213346408",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1213346408"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27708"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 35,
      "original_line": 35,
      "side": "RIGHT"
    }
  ]
}