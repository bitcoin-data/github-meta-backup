{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831",
    "id": 722006280,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NzIyMDA2Mjgw",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22831",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/22831.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/22831.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22831",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22831/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/cdaab90662a54e331de0e49a89596bbb94a8ac45",
    "number": 22831,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "test: add addpeeraddress \"tried\", test addrman checks on restart with asmap",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This pull adds a `tried` argument to RPC addpeeraddress and a regression test for the recent addrman/asmap changes and issue.\r\n\r\nPR #22697 introduced a reproducible bug in commit 181a1207 that fails addrman consistency checks and causes it to significantly lose peer entries when the `-asmap` configuration option is used. \r\n\r\nThe issue occurs upon bitcoind restart due to an initialization order change in `src/init.cpp` in that commit, whereby CAddrman asmap is set after deserializing `peers.dat`, rather than before.\r\n\r\nIssue reported on the `#bitcoin-core-dev` IRC channel starting at https://www.erisian.com.au/bitcoin-core-dev/log-2021-08-23.html#l-263.\r\n\r\n```\r\naddrman lost 22813 new and 2 tried addresses due to collisions or invalid addresses\r\nADDRMAN CONSISTENCY CHECK FAILED!!! err=-17 bitcoind: ./addrman.h:707: void CAddrMan::Check() const: Assertion `false' failed. Aborted\r\n```\r\n\r\nHow to reproduce:\r\n\r\n- `git checkout 181a1207`, build, and launch bitcoind with the `-asmap` and `-checkaddrman=1` configuration options enabled\r\n- restart bitcoind\r\n- bitcoind aborts on the second call to the addrman consistency checks in `CAddrMan::Check()`\r\n\r\nHow to test this pull:\r\n\r\n- `git checkout 181a1207`, cherry pick the first commit of this branch, build, git checkout this branch, run `test/functional/rpc_net.py`, which should pass, and then run `test/functional/feature_asmap.py`, which should fail with the following output:\r\n\r\n```\r\nAssertionError: Unexpected stderr bitcoind: ./addrman.h:739: void CAddrMan::Check() const: Assertion `false' failed.\r\n```",
    "labels": [
      {
        "id": 62963516,
        "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
        "name": "Tests",
        "color": "d4c5f9",
        "default": false
      }
    ],
    "created_at": "2021-08-29T19:26:29Z",
    "updated_at": "2022-10-30T19:09:27Z",
    "closed_at": "2021-09-21T07:36:07Z",
    "mergeable_state": "unknown",
    "merged_at": "2021-09-21T07:36:07Z",
    "merge_commit_sha": "223ad2fd0d355a9caf3c12fe2a286030d7f3190f",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "jonatack:addrman-asmap-init-order-test",
      "ref": "addrman-asmap-init-order-test",
      "sha": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 173103842,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNzMxMDM4NDI=",
        "name": "bitcoin",
        "full_name": "jonatack/bitcoin",
        "owner": {
          "login": "jonatack",
          "id": 2415484,
          "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
          "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/jonatack",
          "html_url": "https://github.com/jonatack",
          "followers_url": "https://api.github.com/users/jonatack/followers",
          "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
          "organizations_url": "https://api.github.com/users/jonatack/orgs",
          "repos_url": "https://api.github.com/users/jonatack/repos",
          "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/jonatack/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/jonatack/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/jonatack/bitcoin",
        "archive_url": "https://api.github.com/repos/jonatack/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/jonatack/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/jonatack/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/jonatack/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/jonatack/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/jonatack/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/jonatack/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/jonatack/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/jonatack/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/jonatack/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/jonatack/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/jonatack/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/jonatack/bitcoin/events",
        "forks_url": "https://api.github.com/repos/jonatack/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/jonatack/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/jonatack/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/jonatack/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/jonatack/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/jonatack/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/jonatack/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/jonatack/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/jonatack/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/jonatack/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/jonatack/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/jonatack/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/jonatack/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/jonatack/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/jonatack/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/jonatack/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:jonatack/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/jonatack/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/jonatack/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/jonatack/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/jonatack/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/jonatack/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/jonatack/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/jonatack/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/jonatack/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/jonatack/bitcoin/hooks",
        "svn_url": "https://github.com/jonatack/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 1,
        "watchers_count": 1,
        "size": 217428,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-05-31T14:39:25Z",
        "created_at": "2019-02-28T11:57:18Z",
        "updated_at": "2023-01-03T22:00:49Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "2161a058552ac938f2079b311a2d12f5d1772d01",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34324,
        "stargazers_count": 69819,
        "watchers_count": 69819,
        "size": 233879,
        "default_branch": "master",
        "open_issues_count": 627,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-07T05:35:10Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-06-07T04:47:18Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 65,
    "deletions": 14,
    "changed_files": 4,
    "commits": 3,
    "review_comments": 50,
    "comments": 35
  },
  "events": [
    {
      "event": "labeled",
      "id": 5223142798,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDUyMjMxNDI3OTg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5223142798",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-29T21:01:39Z",
      "label": {
        "name": "Tests",
        "color": "d4c5f9"
      }
    },
    {
      "event": "commented",
      "id": 907908544,
      "node_id": "IC_kwDOABII5842HZXA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/907908544",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-30T00:18:12Z",
      "updated_at": "2021-09-14T23:10:51Z",
      "author_association": "MEMBER",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#22087](https://github.com/bitcoin/bitcoin/pull/22087) (Validate port numbers by amadeuszpawlik)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#issuecomment-907908544",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22831"
    },
    {
      "event": "reviewed",
      "id": 741320625,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NzQxMzIwNjI1",
      "url": null,
      "actor": null,
      "commit_id": "6d9da9bc9695ba262d36d444bffce87e0f2481cc",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#pullrequestreview-741320625",
      "submitted_at": "2021-08-30T06:45:28Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
    },
    {
      "event": "reviewed",
      "id": 741358818,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NzQxMzU4ODE4",
      "url": null,
      "actor": null,
      "commit_id": "c8a603590697004e2759dbdf971b5f40041342d7",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK on adding the test",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#pullrequestreview-741358818",
      "submitted_at": "2021-08-30T07:37:16Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5224929984,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NTIyNDkyOTk4NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5224929984",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-30T08:59:24Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5225421361,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NTIyNTQyMTM2MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5225421361",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-30T10:36:53Z"
    },
    {
      "event": "commented",
      "id": 908238584,
      "node_id": "IC_kwDOABII5842Ip74",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/908238584",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-30T10:44:31Z",
      "updated_at": "2021-08-30T10:44:31Z",
      "author_association": "MEMBER",
      "body": "Re-pushed with a 20x smaller `peers.dat` containing 95 new and 3 tried entries (we need a few entries in the tried table for the asmap/addrman regression test) along with some docs per `git diff c8a6035 792c9c2`.\r\n",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#issuecomment-908238584",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22831"
    },
    {
      "event": "commented",
      "id": 908323916,
      "node_id": "IC_kwDOABII5842I-xM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/908323916",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-30T13:03:51Z",
      "updated_at": "2021-08-30T13:03:51Z",
      "author_association": "MEMBER",
      "body": "Maybe still include docs on how to generate the file? (See also https://github.com/bitcoin/bitcoin/pull/16796#pullrequestreview-285574484)\r\nCan be in the commit message or a separate file.",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#issuecomment-908323916",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22831"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5228007990,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NTIyODAwNzk5MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5228007990",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-30T18:39:33Z"
    },
    {
      "event": "commented",
      "id": 908591411,
      "node_id": "IC_kwDOABII5842KAEz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/908591411",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-30T18:41:51Z",
      "updated_at": "2021-08-31T07:20:38Z",
      "author_association": "MEMBER",
      "body": "> Maybe still include docs on how to generate the file? (See also [#16796 (review)](https://github.com/bitcoin/bitcoin/pull/16796#pullrequestreview-285574484))\r\n> Can be in the commit message or a separate file.\r\n\r\nGood idea. Done in the commit message.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#issuecomment-908591411",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22831"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5228058505,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NTIyODA1ODUwNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5228058505",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-30T18:50:34Z"
    },
    {
      "event": "commented",
      "id": 909627569,
      "node_id": "IC_kwDOABII5842N9Cx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/909627569",
      "actor": {
        "login": "amitiuttarwar",
        "id": 1500952,
        "node_id": "MDQ6VXNlcjE1MDA5NTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amitiuttarwar",
        "html_url": "https://github.com/amitiuttarwar",
        "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
        "following_url": "https://api.github.com/users/amitiuttarwar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/amitiuttarwar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/amitiuttarwar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
        "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
        "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
        "events_url": "https://api.github.com/users/amitiuttarwar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-31T20:52:51Z",
      "updated_at": "2021-08-31T20:52:51Z",
      "author_association": "CONTRIBUTOR",
      "body": "concept ACK, thanks for adding tests. I think squashing cf90c5a7d5116468d42a812d5eed93a2ac56a248 & 80dbd9b0f46f2b12a9e6359e1aaf4c706b57f20b would make sense, because the functional test seems like the easiest way to verify the contents of the `peers.dat` file. ",
      "user": {
        "login": "amitiuttarwar",
        "id": 1500952,
        "node_id": "MDQ6VXNlcjE1MDA5NTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amitiuttarwar",
        "html_url": "https://github.com/amitiuttarwar",
        "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
        "following_url": "https://api.github.com/users/amitiuttarwar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/amitiuttarwar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/amitiuttarwar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
        "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
        "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
        "events_url": "https://api.github.com/users/amitiuttarwar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#issuecomment-909627569",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22831"
    },
    {
      "event": "reviewed",
      "id": 746112693,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NzQ2MTEyNjkz",
      "url": null,
      "actor": null,
      "commit_id": "0cdfe7fc9040bcecc6cb71c455b386659a8340fa",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#pullrequestreview-746112693",
      "submitted_at": "2021-09-03T13:33:51Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
    },
    {
      "event": "commented",
      "id": 912608978,
      "node_id": "IC_kwDOABII5842ZU7S",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/912608978",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-03T15:08:16Z",
      "updated_at": "2021-09-10T14:04:05Z",
      "author_association": "MEMBER",
      "body": "> I think squashing [cf90c5a](https://github.com/bitcoin/bitcoin/commit/cf90c5a7d5116468d42a812d5eed93a2ac56a248) & [80dbd9b](https://github.com/bitcoin/bitcoin/commit/80dbd9b0f46f2b12a9e6359e1aaf4c706b57f20b) would make sense, because the functional test seems like the easiest way to verify the contents of the `peers.dat` file.\r\n\r\nThey began as the same commit together, then I realized that it makes more sense for them to be separate:\r\n\r\n- the file addition is a standalone change that can be used for other tests (I have some ideas)\r\n- so that people can find the data file commit easily, see its documentation, how it was generated, maybe generate a new one (more addresses, or with tor v2 peers, etc.), or perhaps to revert it someday if we have a way to call `CAddrMan::MakeTried()` from the tests to move addresses into the tried table or to mock it\r\n- the commit messages are very different\r\n\r\nThe easiest way to test the peers.dat file is to copy it to a datadir, start a node, and run commands on it like `-addrinfo`, `getnodeaddresses`, etc. Edit: added \"how to test\" info to the commit message.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#issuecomment-912608978",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22831"
    },
    {
      "event": "labeled",
      "id": 5260452712,
      "node_id": "LE_lADOABII5846iuygzwAAAAE5jCNo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5260452712",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-06T10:57:58Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5260925800,
      "node_id": "HRFPE_lADOABII5846iuygzwAAAAE5k1to",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5260925800",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-06T12:37:58Z"
    },
    {
      "event": "renamed",
      "id": 5260944335,
      "node_id": "RTE_lADOABII5846iuygzwAAAAE5k6PP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5260944335",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-06T12:41:39Z",
      "rename": {
        "from": "p2p, bugfix: fix addrman tried table corruption on restart with asmap ",
        "to": "test, bugfix: addrman tried table corruption on restart with asmap "
      }
    },
    {
      "event": "commented",
      "id": 913619889,
      "node_id": "IC_kwDOABII5842dLux",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/913619889",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-06T12:42:54Z",
      "updated_at": "2021-09-06T12:44:23Z",
      "author_association": "MEMBER",
      "body": "Rebased, improved the commit messages, added additional test coverage, and renamed the test file to `feature_addrman_asmap.py`. Updated the PR title and description.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#issuecomment-913619889",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22831"
    },
    {
      "event": "unlabeled",
      "id": 5261450893,
      "node_id": "UNLE_lADOABII5846iuygzwAAAAE5m16N",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5261450893",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-06T14:20:03Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5262291889,
      "node_id": "HRFPE_lADOABII5846iuygzwAAAAE5qDOx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5262291889",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-06T18:44:10Z"
    },
    {
      "event": "labeled",
      "id": 5270417076,
      "node_id": "LE_lADOABII5846iuygzwAAAAE6JC60",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5270417076",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-08T07:52:21Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5272992353,
      "node_id": "HRFPE_lADOABII5846iuygzwAAAAE6S3ph",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5272992353",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-08T15:08:00Z"
    },
    {
      "event": "commented",
      "id": 915326635,
      "node_id": "IC_kwDOABII5842jsar",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/915326635",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-08T15:11:40Z",
      "updated_at": "2021-09-08T15:11:40Z",
      "author_association": "MEMBER",
      "body": "Rebased and merged the addrman and asmap tests into one test file.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#issuecomment-915326635",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22831"
    },
    {
      "event": "reviewed",
      "id": 749323336,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NzQ5MzIzMzM2",
      "url": null,
      "actor": null,
      "commit_id": "4cda5cf42118bcaf15ea3951d5189af8db6aa365",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#pullrequestreview-749323336",
      "submitted_at": "2021-09-08T15:48:02Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
    },
    {
      "event": "unlabeled",
      "id": 5273379140,
      "node_id": "UNLE_lADOABII5846iuygzwAAAAE6UWFE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5273379140",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-08T16:10:55Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5276708481,
      "node_id": "HRFPE_lADOABII5846iuygzwAAAAE6hC6B",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5276708481",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-09T07:55:33Z"
    },
    {
      "event": "commented",
      "id": 916776358,
      "node_id": "IC_kwDOABII5842pOWm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/916776358",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-10T09:45:37Z",
      "updated_at": "2021-09-10T09:45:37Z",
      "author_association": "MEMBER",
      "body": "Sorry, needs rebase again. Maybe split out the merge of the two files into a separate pull, or at least the first commit? Review of the later commits will be easier after getting the full picture first.",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#issuecomment-916776358",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22831"
    },
    {
      "event": "labeled",
      "id": 5283577321,
      "node_id": "LE_lADOABII5846iuygzwAAAAE67P3p",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5283577321",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-10T10:03:57Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 916806485,
      "node_id": "IC_kwDOABII5842pVtV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/916806485",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-10T10:37:57Z",
      "updated_at": "2021-09-10T10:37:57Z",
      "author_association": "MEMBER",
      "body": "> Sorry, needs rebase again.\n\nIt's all good, this was the merge order that made sense to me.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#issuecomment-916806485",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22831"
    },
    {
      "event": "reviewed",
      "id": 751374672,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NzUxMzc0Njcy",
      "url": null,
      "actor": null,
      "commit_id": "916d54ac4569a9d462c40224724bf6027c349963",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "> Rebased and merged the addrman and asmap tests into one test file.\r\n\r\nWhy? We are actively untangling addrman and asmap functionality, so I'm not sure why it now makes sense to combine the addrman and asmap functional tests into one place. This seems like the opposite of what we should be doing. cc @jnewbery.",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#pullrequestreview-751374672",
      "submitted_at": "2021-09-10T13:19:24Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
    },
    {
      "event": "commented",
      "id": 916902316,
      "node_id": "IC_kwDOABII5842ptGs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/916902316",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-10T13:24:41Z",
      "updated_at": "2021-09-10T13:24:41Z",
      "author_association": "MEMBER",
      "body": ">> Rebased and merged the addrman and asmap tests into one test file.\r\n\r\n> Why? We are actively untangling addrman and asmap functionality, so I'm not sure why it now makes sense to combine the addrman and asmap functional tests into one place. This seems like the opposite of what we should be doing. cc @jnewbery.\r\n\r\nI agree. The main benefit of modularizing our components is the ability to then test them in isolation.",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#issuecomment-916902316",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22831"
    },
    {
      "event": "mentioned",
      "id": 5284473839,
      "node_id": "MEE_lADOABII5846iuygzwAAAAE6-qvv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5284473839",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-10T13:24:41Z"
    },
    {
      "event": "subscribed",
      "id": 5284473843,
      "node_id": "SE_lADOABII5846iuygzwAAAAE6-qvz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5284473843",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-10T13:24:41Z"
    },
    {
      "event": "commented",
      "id": 916908896,
      "node_id": "IC_kwDOABII5842putg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/916908896",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-10T13:34:30Z",
      "updated_at": "2021-09-10T13:49:23Z",
      "author_association": "MEMBER",
      "body": "> > > Rebased and merged the addrman and asmap tests into one test file.\r\n> \r\n> > Why? We are actively untangling addrman and asmap functionality, so I'm not sure why it now makes sense to combine the addrman and asmap functional tests into one place. This seems like the opposite of what we should be doing. cc @jnewbery.\r\n> \r\n> I agree. The main benefit of modularizing our components is the ability to then test them in isolation.\r\n\r\nThe untested interaction between addrman and asmap was the source of (one of the) most critical bugs we've seen in a good while, so it makes sense to test that interaction -- at least during the refactoring.  The two files don't have to be consolidated, but they do have a lot in common--including mocking an addrman, which could be the first step to not needing a `peers.dat` test file. It's also quicker and easier to manually run one test file than two on these refactorings, and at the moment I have to cherry-pick these tests onto each addrman/asmap PR branch.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#issuecomment-916908896",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22831"
    },
    {
      "event": "mentioned",
      "id": 5284527749,
      "node_id": "MEE_lADOABII5846iuygzwAAAAE6-36F",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5284527749",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-10T13:34:31Z"
    },
    {
      "event": "subscribed",
      "id": 5284527754,
      "node_id": "SE_lADOABII5846iuygzwAAAAE6-36K",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5284527754",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-10T13:34:31Z"
    },
    {
      "event": "commented",
      "id": 916918240,
      "node_id": "IC_kwDOABII5842pw_g",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/916918240",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-10T13:48:11Z",
      "updated_at": "2021-09-10T13:48:11Z",
      "author_association": "MEMBER",
      "body": "If people don't like merging the two files, but you need access to addrman mocking, one solution would be to import the `write_addrman` helper into the asmap test.",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#issuecomment-916918240",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22831"
    },
    {
      "event": "commented",
      "id": 916947058,
      "node_id": "IC_kwDOABII5842p4By",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/916947058",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-10T14:27:19Z",
      "updated_at": "2021-09-10T14:27:19Z",
      "author_association": "MEMBER",
      "body": "Concept ACK - I'm surprised and disconcerted that some minimal version of this wasn't packaged with #22791, which would've allowed unambiguous demonstration of the fix.",
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#issuecomment-916947058",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22831"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5284826898,
      "node_id": "HRFPE_lADOABII5846iuygzwAAAAE7AA8S",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5284826898",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-10T14:28:32Z"
    },
    {
      "event": "commented",
      "id": 916953660,
      "node_id": "IC_kwDOABII5842p5o8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/916953660",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-10T14:36:33Z",
      "updated_at": "2021-09-10T15:25:24Z",
      "author_association": "MEMBER",
      "body": "> Concept ACK - I'm surprised and disconcerted that some minimal version of this wasn't packaged with #22791, which would've allowed unambiguous demonstration of the fix.\r\n\r\nI agree. Writing a regression test is the first step to take after finding and reproducing a severe bug.\r\n\r\nSlimmed this pull down to the original two commits that focus on regression test coverage for the issue. The additional addrman test coverage can be done in a follow-up.\r\n\r\nPer the PR description:\r\n\r\nHow to reproduce the bug\r\n- `git checkout 181a1207`, build, and launch bitcoind with the `-asmap` and `-checkaddrman=1` configuration options enabled\r\n- restart bitcoind\r\n- bitcoind aborts on the second call to the addrman consistency checks in `CAddrMan::Check()`\r\n\r\nHow to test the test\r\n- `git checkout 181a1207`, build, and run `test/functional/feature_asmap.py`. Output:\r\n\r\n```\r\nAssertionError: Unexpected stderr bitcoind: ./addrman.h:739: void CAddrMan::Check() const: Assertion `false' failed.\r\n```",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#issuecomment-916953660",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22831"
    },
    {
      "event": "unlabeled",
      "id": 5285401262,
      "node_id": "UNLE_lADOABII5846iuygzwAAAAE7CNKu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5285401262",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-10T16:18:49Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 917042685,
      "node_id": "IC_kwDOABII5842qPX9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/917042685",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-10T16:34:18Z",
      "updated_at": "2021-09-10T16:34:18Z",
      "author_association": "MEMBER",
      "body": "ACK 22a17be0b9b56e0b35cfc5d1376e51b1e6dc0ed6 ([`jamesob/ackr/22831.1.jonatack.test_bugfix_addrman_trie`](https://github.com/jamesob/bitcoin/tree/ackr/22831.1.jonatack.test_bugfix_addrman_trie))\r\n\r\nChangeset looks like a minimal way to distinguish that the bug fixed in #22791 is actually fixed. I\r\n\r\n- `git checkout 181a1207; make ...; git checkout 22a17be0b9b56e0b35cfc5d1376e51b1e6dc0ed6`\r\n- `./test/functional/feature_asmap.py`, observed failure.\r\n- `git checkout master; make ...; git checkout 22a17be0b9b56e0b35cfc5d1376e51b1e6dc0ed6`\r\n- `./test/functional/feature_asmap.py`, ensured pass.\r\n",
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#issuecomment-917042685",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22831"
    },
    {
      "event": "commented",
      "id": 917241738,
      "node_id": "IC_kwDOABII5842q_-K",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/917241738",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-10T22:07:11Z",
      "updated_at": "2021-09-10T22:07:11Z",
      "author_association": "MEMBER",
      "body": "> looks like a **minimal** way to distinguish that the bug fixed in #22791 is actually fixed\r\n\r\nShouldn't a single address in Tried in an otherwise empty addrman be the minimal way to test this? (instead of 96 addresses in new and 3 in tried)",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#issuecomment-917241738",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22831"
    },
    {
      "event": "reviewed",
      "id": 751891928,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NzUxODkxOTI4",
      "url": null,
      "actor": null,
      "commit_id": "22a17be0b9b56e0b35cfc5d1376e51b1e6dc0ed6",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "tACK https://github.com/bitcoin/bitcoin/pull/22831/commits/22a17be0b9b56e0b35cfc5d1376e51b1e6dc0ed6\r\n\r\nVerified that `181a1207` fails with this test while both master and the PR passes. \r\n```\r\n$ git checkout 181a1207\r\n$ make\r\n$ git checkout origin/pr/22831\r\n$ test/functiona/feature_asmap.py \r\n2021-09-11T05:22:59.032000Z TestFramework (ERROR): Unexpected exception caught during testing\r\n```\r\n\r\n```\r\n$ git checkout master\r\n$ make\r\n$ git checkout origin/pr/22831\r\n$ test/functiona/feature_asmap.py\r\n2021-09-11T05:30:53.276000Z TestFramework (INFO): Tests successful\r\n```\r\n\r\n```\r\n$ git checkout origin/pr/22831\r\n$ make\r\n$ test/functional/feature_asmap.py\r\n2021-09-11T05:30:53.276000Z TestFramework (INFO): Tests successful\r\n```",
      "user": {
        "login": "rajarshimaitra",
        "id": 36541669,
        "node_id": "MDQ6VXNlcjM2NTQxNjY5",
        "avatar_url": "https://avatars.githubusercontent.com/u/36541669?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rajarshimaitra",
        "html_url": "https://github.com/rajarshimaitra",
        "followers_url": "https://api.github.com/users/rajarshimaitra/followers",
        "following_url": "https://api.github.com/users/rajarshimaitra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rajarshimaitra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rajarshimaitra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rajarshimaitra/subscriptions",
        "organizations_url": "https://api.github.com/users/rajarshimaitra/orgs",
        "repos_url": "https://api.github.com/users/rajarshimaitra/repos",
        "events_url": "https://api.github.com/users/rajarshimaitra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rajarshimaitra/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#pullrequestreview-751891928",
      "submitted_at": "2021-09-11T05:36:38Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
    },
    {
      "event": "reviewed",
      "id": 752062987,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NzUyMDYyOTg3",
      "url": null,
      "actor": null,
      "commit_id": "22a17be0b9b56e0b35cfc5d1376e51b1e6dc0ed6",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "tACK 22a17be0b9b56e0b35cfc5d1376e51b1e6dc0ed6\r\n\r\ntest that the new test passes on `master` and this pr, and that it fails on 181a1207ba6bd179d181f3e2534ef8676565ce72",
      "user": {
        "login": "benthecarman",
        "id": 15256660,
        "node_id": "MDQ6VXNlcjE1MjU2NjYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/15256660?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/benthecarman",
        "html_url": "https://github.com/benthecarman",
        "followers_url": "https://api.github.com/users/benthecarman/followers",
        "following_url": "https://api.github.com/users/benthecarman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/benthecarman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/benthecarman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/benthecarman/subscriptions",
        "organizations_url": "https://api.github.com/users/benthecarman/orgs",
        "repos_url": "https://api.github.com/users/benthecarman/repos",
        "events_url": "https://api.github.com/users/benthecarman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/benthecarman/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#pullrequestreview-752062987",
      "submitted_at": "2021-09-12T02:47:34Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
    },
    {
      "event": "commented",
      "id": 917667967,
      "node_id": "IC_kwDOABII5842soB_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/917667967",
      "actor": {
        "login": "ben-kaufman",
        "id": 10667901,
        "node_id": "MDQ6VXNlcjEwNjY3OTAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/10667901?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ben-kaufman",
        "html_url": "https://github.com/ben-kaufman",
        "followers_url": "https://api.github.com/users/ben-kaufman/followers",
        "following_url": "https://api.github.com/users/ben-kaufman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ben-kaufman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ben-kaufman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ben-kaufman/subscriptions",
        "organizations_url": "https://api.github.com/users/ben-kaufman/orgs",
        "repos_url": "https://api.github.com/users/ben-kaufman/repos",
        "events_url": "https://api.github.com/users/ben-kaufman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ben-kaufman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-12T16:32:38Z",
      "updated_at": "2021-09-12T16:32:38Z",
      "author_association": "CONTRIBUTOR",
      "body": "tACK 22a17be0b9b56e0b35cfc5d1376e51b1e6dc0ed6\r\n\r\nTested against `master`and this PR - passing as expected\r\nTested against 181a1207ba6bd179d181f3e2534ef8676565ce72 - failing with the expected error",
      "user": {
        "login": "ben-kaufman",
        "id": 10667901,
        "node_id": "MDQ6VXNlcjEwNjY3OTAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/10667901?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ben-kaufman",
        "html_url": "https://github.com/ben-kaufman",
        "followers_url": "https://api.github.com/users/ben-kaufman/followers",
        "following_url": "https://api.github.com/users/ben-kaufman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ben-kaufman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ben-kaufman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ben-kaufman/subscriptions",
        "organizations_url": "https://api.github.com/users/ben-kaufman/orgs",
        "repos_url": "https://api.github.com/users/ben-kaufman/repos",
        "events_url": "https://api.github.com/users/ben-kaufman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ben-kaufman/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#issuecomment-917667967",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22831"
    },
    {
      "event": "commented",
      "id": 917815184,
      "node_id": "IC_kwDOABII5842tL-Q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/917815184",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T03:51:35Z",
      "updated_at": "2021-09-13T03:51:35Z",
      "author_association": "MEMBER",
      "body": "I've seen multiple mentions that the bug this PR is providing regression testing for is \"critical\", \"severe\" and \"(one of the) most critical bugs we've seen in a good while\". I just want to provide some perspective. When considering the severity of bugs I'm generally taking two things into account. The impact: what does it cause & how bad is it, and the scope: how many users does it effect. There are other factors that can be considered, i.e how easy is it to exploit, how often does it occur, how hard is it to (covertly) patch etc, but just considering impact and scope at a high level do a pretty good job of determining what needs to be done, and how quickly. High impact + big scope = critical / severe.\r\n\r\nThings I consider to be high impact would be remote code execution, (remote) node crashing, something that would result in a loss of user funds, BTC printing, networking splitting, DDOS etc. When it comes to scope, it's basically the larger the proportion of the existing network that the issue effects, the bigger the scope. So, a trivial to exploit, node crashing bug, that effects the last few major versions deployed on the network, is critical/severe. This is the kind of bug that once discovered, is generally patched quickly (and likely covertly), new releases are then made available, and the true impact of the issue may not become public for some time after that, maybe many years.\r\n\r\nThe addrman/asmap initialisation order bug fixed by #22791, is, in my opinion, not only low impact, but also low in scope. For most users (let alone developers running master), the impact of losing your `peers.dat` is probably more of an annoyance, than a critical issue. As for scope, this bug existed only in master, for ~2 weeks (the time between #22697 and #22791), and would only be seen when using -asmap, which is still fairly new / experimental.\r\n\r\nI think this perspective is important because it can determine how we fix bugs. In this case, the bug is already fixed, and this PR is adding regression testing (which is important!). However given the impact and scope are low, there isn't any sort of rush to get this regression testing added that we can't do it \"right\" the first time.\r\n\r\nIn this case, \"right\", in my opinion, is writing some python to generate the `peers.dat` needed for the test (potentially utilising code that already exists in the `feature_addrman.py` test), rather than adding a new binary file (which is generated in a fairly adhoc way) to the repo, just to likely delete it shortly after. Writing new code to assist in generating `peers.dat` files will also be useful in the future, as more comprehensive tests are added. This opinion seems to be shared by at least a few of the other reviewers.",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#issuecomment-917815184",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22831"
    },
    {
      "event": "commented",
      "id": 917985286,
      "node_id": "IC_kwDOABII5842t1gG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/917985286",
      "actor": {
        "login": "jarolrod",
        "id": 23396902,
        "node_id": "MDQ6VXNlcjIzMzk2OTAy",
        "avatar_url": "https://avatars.githubusercontent.com/u/23396902?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jarolrod",
        "html_url": "https://github.com/jarolrod",
        "followers_url": "https://api.github.com/users/jarolrod/followers",
        "following_url": "https://api.github.com/users/jarolrod/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jarolrod/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jarolrod/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jarolrod/subscriptions",
        "organizations_url": "https://api.github.com/users/jarolrod/orgs",
        "repos_url": "https://api.github.com/users/jarolrod/repos",
        "events_url": "https://api.github.com/users/jarolrod/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jarolrod/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T09:02:04Z",
      "updated_at": "2021-09-13T09:02:04Z",
      "author_association": "MEMBER",
      "body": "ACK 22a17be\r\n\r\nI mainly tested that the tests introduced here are actually effective. Checked that it would fail on the mentioned commit hash in PR description and passes on master. The mentioned testing steps were quite helpful.\r\n\r\nI've read up on the contexts of the mentioned PRs and the mentioned issue. I have no opinion on the severity of this bug, especially since it's been patched. As mentioned in the PR description, regardless of the severity, regression tests here are still a nice-to-have.\r\n\r\n@fanquake \r\n> \"In this case, \"right\", in my opinion, is writing some python to generate the peers.dat needed for the test (potentially utilising code that already exists in the feature_addrman.py test)\"\r\n\r\nThis would be quite useful, for a variety of contexts. Seems most appropriate as a follow-up or just on its own as an independent PR?",
      "user": {
        "login": "jarolrod",
        "id": 23396902,
        "node_id": "MDQ6VXNlcjIzMzk2OTAy",
        "avatar_url": "https://avatars.githubusercontent.com/u/23396902?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jarolrod",
        "html_url": "https://github.com/jarolrod",
        "followers_url": "https://api.github.com/users/jarolrod/followers",
        "following_url": "https://api.github.com/users/jarolrod/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jarolrod/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jarolrod/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jarolrod/subscriptions",
        "organizations_url": "https://api.github.com/users/jarolrod/orgs",
        "repos_url": "https://api.github.com/users/jarolrod/repos",
        "events_url": "https://api.github.com/users/jarolrod/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jarolrod/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#issuecomment-917985286",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22831"
    },
    {
      "event": "mentioned",
      "id": 5291462449,
      "node_id": "MEE_lADOABII5846iuygzwAAAAE7ZU8x",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5291462449",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T09:02:04Z"
    },
    {
      "event": "subscribed",
      "id": 5291462456,
      "node_id": "SE_lADOABII5846iuygzwAAAAE7ZU84",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5291462456",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T09:02:04Z"
    },
    {
      "event": "commented",
      "id": 918021820,
      "node_id": "IC_kwDOABII5842t-a8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/918021820",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T09:47:50Z",
      "updated_at": "2021-09-13T09:47:50Z",
      "author_association": "MEMBER",
      "body": "Two points:\r\nI don't think that the bug specifically corrupts the tried tables: when peers.dat is deserialized without an asmap, and only later an asmap is loaded,  both entries from new and tried will be in incorrect buckets with respect to that asmap. It just so happens that `CAddrman::Check_()` checks whether tried entries are in their appropiate bucket, while it doesn't do the same for new.\r\n\r\n>In this case, \"right\", in my opinion, is writing some python to generate the peers.dat needed for the test\r\n\r\nAn alternative approach might be to expand the test-only RPC `-addpeeraddress` with an optional arg to promote to tried (by calling `Good()` after `Add()`). That way, one could add addresses to the tried tables directly in functional tests and let bitcoind do the serialization to `peers.dat`. Though I'm not sure if this would have many applications beyond this issue, since most of the tried logic is already covered via unit tests.",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#issuecomment-918021820",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22831"
    },
    {
      "event": "commented",
      "id": 918092775,
      "node_id": "IC_kwDOABII5842uPvn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/918092775",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T11:18:14Z",
      "updated_at": "2021-09-13T15:58:21Z",
      "author_association": "MEMBER",
      "body": "> The addrman/asmap initialisation order bug fixed by #22791, is, in my opinion, not only low impact, but also low in scope.\r\n\r\nI totally agree @fanquake's assessment. I obviously can't be totally unbiased since I introduced the initialization order bug in #22697. However, I have discovered/fixed/reviewed fixes for bugs of the type that @fanquake mentions (DDoS, remote crashing, funds loss, etc) in released code, and I can objectively say that this bug doesn't match the severity of those. If I had to characterize the severity/type of the bug, I'd say it's much closer to issues like #21584 and #22467. They're certainly bugs that need to be fixed in master before the next release, but it's totally inaccurate to claim it's \"(one of the) most critical bugs we've seen in a good while\".\r\n\r\n> Update: The bug was patched in another PR, #22791 (which also proceeded to do further refactoring)\r\n\r\n(@jonatack)\r\nhttps://github.com/bitcoin/bitcoin/pull/22831#issue-722006280\r\n\r\n> Instead of a straight revert, or simple reordering, #22791 was a larger than necessary diff with no accompanying tests.\r\n\r\n(@jamesob)\r\nhttps://github.com/bitcoin/bitcoin/pull/22831#discussion_r706313089\r\n\r\nThere seems to be some confusion around the fix in #22791. The initialization order bug that #22791 fixed was introduced in #22697. However, the conditions for that bug have existed since #16702, when `m_asmap` was introduced as a mutable public data member of `CAddrMan`. That PR changed `CAddrMan`'s initialization to be two-phase: first the object is constructed, and later on, external code mutates `CAddrMan`'s internal `m_asmap` data member. If any public methods are called on `CAddrMan` between those two phases, its internal invariants may be invalidated. Therefore, #22791 fixed not just the proximal cause of the bug (initialization order), but also the ultimate cause (bad encapsulation and partially-initalized objects) by making that member const and private. Just changing the initialization order would be a partial fix, rather than eliminating a whole class of bugs.\r\n\r\n> The suggestions in #22791 (review) were also essentially ignored.\r\n\r\n(@jonatack)\r\nhttps://github.com/bitcoin/bitcoin/pull/22791#issuecomment-917108864\r\n\r\nThis is simply untrue. I welcomed the comments here: https://github.com/bitcoin/bitcoin/pull/22791#issuecomment-905462254 and offered to incorporate them into the PR. Instead of that, this PR was opened, which was essentially a competing/conficting PR with only the partial fix. It's a bit difficult to see the history of this PR since the description has been edited 20 times in the two weeks that it's been open, but this was originally opened as a conflicting PR with #22791.\r\n\r\nHaving two conflicting PRs to fix the same issue seemed unnecessarily confusing for reviewers, so I continued to focus my efforts on #22791. I'm still a concept ACK for increasing the test coverage of asmap/addrman, but I don't see why there's a strict necessity for that to be included in the same PR as the fix, especially when multiple reviewers have raised concerns over the approach of the tests in this PR.\r\n\r\nUnfortunately, this PR has become very charged and politicized, with reasonable technical points raised by very experienced contributors (https://github.com/bitcoin/bitcoin/pull/22831#discussion_r704550576) being rejected out of hand as \"foot-dragging and bikeshedding\". I'd encourage everyone to take a deep breath and remember that we're all on the same team, and everyone is here to improve the project.\r\n\r\n> An alternative approach might be to expand the test-only RPC -addpeeraddress with an optional arg to promote to tried (by calling Good() after Add()). That way, one could add addresses to the tried tables directly in functional tests and let bitcoind do the serialization to peers.dat.\r\n\r\n@mzumsande\r\n\r\nI agree that this is the easiest way. It's a couple of lines change to update `addpeeraddress` to allow addresses to be added to the tried table, and ~10 lines to update the test to use that new functionality. I have a demonstration branch here: https://github.com/jnewbery/bitcoin/tree/2021-09-test-addrman-restart. @jonatack - feel free to take what you need from there if you think it's useful.",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#issuecomment-918092775",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22831"
    },
    {
      "event": "mentioned",
      "id": 5292218176,
      "node_id": "MEE_lADOABII5846iuygzwAAAAE7cNdA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5292218176",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T11:18:15Z"
    },
    {
      "event": "subscribed",
      "id": 5292218181,
      "node_id": "SE_lADOABII5846iuygzwAAAAE7cNdF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5292218181",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T11:18:15Z"
    },
    {
      "event": "mentioned",
      "id": 5292218188,
      "node_id": "MEE_lADOABII5846iuygzwAAAAE7cNdM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5292218188",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T11:18:15Z"
    },
    {
      "event": "subscribed",
      "id": 5292218191,
      "node_id": "SE_lADOABII5846iuygzwAAAAE7cNdP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5292218191",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T11:18:15Z"
    },
    {
      "event": "mentioned",
      "id": 5292218205,
      "node_id": "MEE_lADOABII5846iuygzwAAAAE7cNdd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5292218205",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T11:18:15Z"
    },
    {
      "event": "subscribed",
      "id": 5292218208,
      "node_id": "SE_lADOABII5846iuygzwAAAAE7cNdg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5292218208",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T11:18:15Z"
    },
    {
      "event": "mentioned",
      "id": 5292218213,
      "node_id": "MEE_lADOABII5846iuygzwAAAAE7cNdl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5292218213",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T11:18:15Z"
    },
    {
      "event": "subscribed",
      "id": 5292218219,
      "node_id": "SE_lADOABII5846iuygzwAAAAE7cNdr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5292218219",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T11:18:15Z"
    },
    {
      "event": "commented",
      "id": 918098033,
      "node_id": "IC_kwDOABII5842uRBx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/918098033",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T11:25:44Z",
      "updated_at": "2021-09-13T11:27:06Z",
      "author_association": "MEMBER",
      "body": "Code review ACK 22a17be0b9b56e0b35cfc5d1376e51b1e6dc0ed6\r\nIt tests what it needs to test. I think it's good to have a test here. Would have been good to have it part of the original fix.\r\n\r\nI agree with @fanquake's remark about the criticality of this issue being somewhat overstated. This needs to be fixed, for sure, but losing peers.dat is not the end of the world. It's not a \"everyone needs to panic\" level issue in itself.\r\n\r\nThe lesson to be learned is: review changes to bitcoind/bitcoin-qt's initialization sequence carefully. Historically it has been a big source of subtle bugs. This one was *far* from obvious. I hope the refactoring helps making initialization dependencies more clear in the long run to make it less of a mine field.\r\n\r\n> In this case, \"right\", in my opinion, is writing some python to generate the peers.dat needed for the test (potentially utilising code that already exists in the feature_addrman.py test), rather than adding a new binary file (which is generated in a fairly adhoc way) to the repo, just to likely delete it shortly after.\r\n\r\nThis would be better, but is also quite a bit of further work. I think it's somewhat unfair to expect this from @jonatack just for reporting the issue! Someone could work on this, but in the meantime it is good to have a test in place.\r\n\r\nI agree with the general sentiment that we don't want large binary files to blow up the repository. But a 12kB binary file is not enough to reject it IMO.",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#issuecomment-918098033",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22831"
    },
    {
      "event": "mentioned",
      "id": 5292256805,
      "node_id": "MEE_lADOABII5846iuygzwAAAAE7cW4l",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5292256805",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T11:25:44Z"
    },
    {
      "event": "subscribed",
      "id": 5292256806,
      "node_id": "SE_lADOABII5846iuygzwAAAAE7cW4m",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5292256806",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T11:25:45Z"
    },
    {
      "event": "mentioned",
      "id": 5292256816,
      "node_id": "MEE_lADOABII5846iuygzwAAAAE7cW4w",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5292256816",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T11:25:45Z"
    },
    {
      "event": "subscribed",
      "id": 5292256821,
      "node_id": "SE_lADOABII5846iuygzwAAAAE7cW41",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5292256821",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T11:25:45Z"
    },
    {
      "event": "commented",
      "id": 918100552,
      "node_id": "IC_kwDOABII5842uRpI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/918100552",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T11:29:21Z",
      "updated_at": "2021-09-13T11:29:21Z",
      "author_association": "MEMBER",
      "body": "If this will be merged, it would be good to update the title first, which mentions \"bugfix\", but the code changes are adding a test.\r\n\r\nAlso the description could be shortened to not explain what the fix in anther pull did.",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#issuecomment-918100552",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22831"
    },
    {
      "event": "reviewed",
      "id": 753647456,
      "node_id": "PRR_kwDOABII584s679g",
      "url": null,
      "actor": null,
      "commit_id": "22a17be0b9b56e0b35cfc5d1376e51b1e6dc0ed6",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK 22a17be0b9b56e0b35cfc5d1376e51b1e6dc0ed6\r\n\r\nThe bug was fixed in 50fd77045e2f858a53486b5e02e1798c92ab946c. I checked that:\r\n\r\n* The test fails on `50fd77045e2f858a53486b5e02e1798c92ab946c~`\r\n* The test passes on `50fd77045e2f858a53486b5e02e1798c92ab946c`\r\n\r\nI think generating `peers.dat` on the fly, _if possible to be done easily_, would be better than including a pre-generated one. `CAddrMan::Serialize()` is somewhat involved and definitely not trivial-5-lines of code. Duplicating it into Python will have a maintenance cost in the long run. I like @mzumsande's idea about `addpeeraddress` because it will use the actual `CAddrMan::Serialize()` to generate `peers.dat`. I was working on that but @jnewbery beat me to it. Looks like it is relatively easy, attaching my version here for reference. Would be happy to re-ACK.\r\n\r\n<details>\r\n<summary>extend `addpeeraddress`</summary>\r\n\r\n```diff\r\ndiff --git i/src/rpc/net.cpp w/src/rpc/net.cpp\r\nindex 0f554ec5e7..b3562eaa05 100644\r\n--- i/src/rpc/net.cpp\r\n+++ w/src/rpc/net.cpp\r\n@@ -921,6 +921,7 @@ static RPCHelpMan addpeeraddress()\r\n         {\r\n             {\"address\", RPCArg::Type::STR, RPCArg::Optional::NO, \"The IP address of the peer\"},\r\n             {\"port\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The port of the peer\"},\r\n+            {\"good\", RPCArg::Type::BOOL, RPCArg::Default{false}, \"If set, add to the tried table\"},\r\n         },\r\n         RPCResult{\r\n             RPCResult::Type::OBJ, \"\", \"\",\r\n@@ -929,7 +930,7 @@ static RPCHelpMan addpeeraddress()\r\n             },\r\n         },\r\n         RPCExamples{\r\n-            HelpExampleCli(\"addpeeraddress\", \"\\\"1.2.3.4\\\" 8333\")\r\n+            HelpExampleCli(\"addpeeraddress\", \"\\\"1.2.3.4\\\" 8333 true\")\r\n     + HelpExampleRpc(\"addpeeraddress\", \"\\\"1.2.3.4\\\", 8333\")\r\n         },\r\n         [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\r\n@@ -941,6 +942,7 @@ static RPCHelpMan addpeeraddress()\r\n\r\n     const std::string& addr_string{request.params[0].get_str()};\r\n     const uint16_t port{static_cast<uint16_t>(request.params[1].get_int())};\r\n+    const bool good{request.params[2].isTrue()};\r\n\r\n     UniValue obj(UniValue::VOBJ);\r\n     CNetAddr net_addr;\r\n@@ -951,7 +953,12 @@ static RPCHelpMan addpeeraddress()\r\n         address.nTime = GetAdjustedTime();\r\n         // The source address is set equal to the address. This is equivalent to the peer\r\n         // announcing itself.\r\n-        if (node.addrman->Add({address}, address)) success = true;\r\n+        if (node.addrman->Add({address}, address)) {\r\n+            if (good) {\r\n+                node.addrman->Good(address);\r\n+            }\r\n+            success = true;\r\n+        }\r\n     }\r\n\r\n     obj.pushKV(\"success\", success);\r\n```\r\n</details>\r\n",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#pullrequestreview-753647456",
      "submitted_at": "2021-09-14T08:39:24Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
    },
    {
      "event": "commented",
      "id": 918971146,
      "node_id": "IC_kwDOABII5842xmMK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/918971146",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-14T09:18:34Z",
      "updated_at": "2021-09-14T09:18:34Z",
      "author_association": "MEMBER",
      "body": "\"You say it, you own it\" is an expression that comes up time after time over the decades and why, when no test seemed forthcoming after my review feedback, I proposed one. It's as simple as that. If other people owning their suggestions leads to improvement, that's great! This is about Bitcoin; \"do no harm\" and collaborating to strengthen its robustness is the goal. I'll try these ideas, thank you :+1: ",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#issuecomment-918971146",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22831"
    },
    {
      "event": "renamed",
      "id": 5298902985,
      "node_id": "RTE_lADOABII5846iuygzwAAAAE71tfJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5298902985",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-14T11:20:46Z",
      "rename": {
        "from": "test, bugfix: addrman tried table corruption on restart with asmap ",
        "to": "rpc, test: add addpeerinfo tried, test addrman checks on restart with asmap"
      }
    },
    {
      "event": "renamed",
      "id": 5298905374,
      "node_id": "RTE_lADOABII5846iuygzwAAAAE71uEe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5298905374",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-14T11:21:17Z",
      "rename": {
        "from": "rpc, test: add addpeerinfo tried, test addrman checks on restart with asmap",
        "to": "rpc, test: add addpeeraddress \"tried\", test addrman checks on restart with asmap"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5299313664,
      "node_id": "HRFPE_lADOABII5846iuygzwAAAAE73RwA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5299313664",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-14T12:36:44Z"
    },
    {
      "event": "mentioned",
      "id": 5299330722,
      "node_id": "MEE_lADOABII5846iuygzwAAAAE73V6i",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5299330722",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-14T12:39:45Z"
    },
    {
      "event": "subscribed",
      "id": 5299330728,
      "node_id": "SE_lADOABII5846iuygzwAAAAE73V6o",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5299330728",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-14T12:39:45Z"
    },
    {
      "event": "mentioned",
      "id": 5299330731,
      "node_id": "MEE_lADOABII5846iuygzwAAAAE73V6r",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5299330731",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-14T12:39:45Z"
    },
    {
      "event": "subscribed",
      "id": 5299330736,
      "node_id": "SE_lADOABII5846iuygzwAAAAE73V6w",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5299330736",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-14T12:39:45Z"
    },
    {
      "event": "mentioned",
      "id": 5299330743,
      "node_id": "MEE_lADOABII5846iuygzwAAAAE73V63",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5299330743",
      "actor": {
        "login": "ben-kaufman",
        "id": 10667901,
        "node_id": "MDQ6VXNlcjEwNjY3OTAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/10667901?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ben-kaufman",
        "html_url": "https://github.com/ben-kaufman",
        "followers_url": "https://api.github.com/users/ben-kaufman/followers",
        "following_url": "https://api.github.com/users/ben-kaufman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ben-kaufman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ben-kaufman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ben-kaufman/subscriptions",
        "organizations_url": "https://api.github.com/users/ben-kaufman/orgs",
        "repos_url": "https://api.github.com/users/ben-kaufman/repos",
        "events_url": "https://api.github.com/users/ben-kaufman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ben-kaufman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-14T12:39:45Z"
    },
    {
      "event": "subscribed",
      "id": 5299330745,
      "node_id": "SE_lADOABII5846iuygzwAAAAE73V65",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5299330745",
      "actor": {
        "login": "ben-kaufman",
        "id": 10667901,
        "node_id": "MDQ6VXNlcjEwNjY3OTAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/10667901?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ben-kaufman",
        "html_url": "https://github.com/ben-kaufman",
        "followers_url": "https://api.github.com/users/ben-kaufman/followers",
        "following_url": "https://api.github.com/users/ben-kaufman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ben-kaufman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ben-kaufman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ben-kaufman/subscriptions",
        "organizations_url": "https://api.github.com/users/ben-kaufman/orgs",
        "repos_url": "https://api.github.com/users/ben-kaufman/repos",
        "events_url": "https://api.github.com/users/ben-kaufman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ben-kaufman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-14T12:39:45Z"
    },
    {
      "event": "mentioned",
      "id": 5299330754,
      "node_id": "MEE_lADOABII5846iuygzwAAAAE73V7C",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5299330754",
      "actor": {
        "login": "benthecarman",
        "id": 15256660,
        "node_id": "MDQ6VXNlcjE1MjU2NjYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/15256660?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/benthecarman",
        "html_url": "https://github.com/benthecarman",
        "followers_url": "https://api.github.com/users/benthecarman/followers",
        "following_url": "https://api.github.com/users/benthecarman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/benthecarman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/benthecarman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/benthecarman/subscriptions",
        "organizations_url": "https://api.github.com/users/benthecarman/orgs",
        "repos_url": "https://api.github.com/users/benthecarman/repos",
        "events_url": "https://api.github.com/users/benthecarman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/benthecarman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-14T12:39:45Z"
    },
    {
      "event": "subscribed",
      "id": 5299330756,
      "node_id": "SE_lADOABII5846iuygzwAAAAE73V7E",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5299330756",
      "actor": {
        "login": "benthecarman",
        "id": 15256660,
        "node_id": "MDQ6VXNlcjE1MjU2NjYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/15256660?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/benthecarman",
        "html_url": "https://github.com/benthecarman",
        "followers_url": "https://api.github.com/users/benthecarman/followers",
        "following_url": "https://api.github.com/users/benthecarman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/benthecarman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/benthecarman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/benthecarman/subscriptions",
        "organizations_url": "https://api.github.com/users/benthecarman/orgs",
        "repos_url": "https://api.github.com/users/benthecarman/repos",
        "events_url": "https://api.github.com/users/benthecarman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/benthecarman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-14T12:39:45Z"
    },
    {
      "event": "mentioned",
      "id": 5299330766,
      "node_id": "MEE_lADOABII5846iuygzwAAAAE73V7O",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5299330766",
      "actor": {
        "login": "jarolrod",
        "id": 23396902,
        "node_id": "MDQ6VXNlcjIzMzk2OTAy",
        "avatar_url": "https://avatars.githubusercontent.com/u/23396902?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jarolrod",
        "html_url": "https://github.com/jarolrod",
        "followers_url": "https://api.github.com/users/jarolrod/followers",
        "following_url": "https://api.github.com/users/jarolrod/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jarolrod/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jarolrod/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jarolrod/subscriptions",
        "organizations_url": "https://api.github.com/users/jarolrod/orgs",
        "repos_url": "https://api.github.com/users/jarolrod/repos",
        "events_url": "https://api.github.com/users/jarolrod/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jarolrod/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-14T12:39:45Z"
    },
    {
      "event": "subscribed",
      "id": 5299330771,
      "node_id": "SE_lADOABII5846iuygzwAAAAE73V7T",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5299330771",
      "actor": {
        "login": "jarolrod",
        "id": 23396902,
        "node_id": "MDQ6VXNlcjIzMzk2OTAy",
        "avatar_url": "https://avatars.githubusercontent.com/u/23396902?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jarolrod",
        "html_url": "https://github.com/jarolrod",
        "followers_url": "https://api.github.com/users/jarolrod/followers",
        "following_url": "https://api.github.com/users/jarolrod/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jarolrod/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jarolrod/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jarolrod/subscriptions",
        "organizations_url": "https://api.github.com/users/jarolrod/orgs",
        "repos_url": "https://api.github.com/users/jarolrod/repos",
        "events_url": "https://api.github.com/users/jarolrod/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jarolrod/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-14T12:39:45Z"
    },
    {
      "event": "mentioned",
      "id": 5299330781,
      "node_id": "MEE_lADOABII5846iuygzwAAAAE73V7d",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5299330781",
      "actor": {
        "login": "rajarshimaitra",
        "id": 36541669,
        "node_id": "MDQ6VXNlcjM2NTQxNjY5",
        "avatar_url": "https://avatars.githubusercontent.com/u/36541669?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rajarshimaitra",
        "html_url": "https://github.com/rajarshimaitra",
        "followers_url": "https://api.github.com/users/rajarshimaitra/followers",
        "following_url": "https://api.github.com/users/rajarshimaitra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rajarshimaitra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rajarshimaitra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rajarshimaitra/subscriptions",
        "organizations_url": "https://api.github.com/users/rajarshimaitra/orgs",
        "repos_url": "https://api.github.com/users/rajarshimaitra/repos",
        "events_url": "https://api.github.com/users/rajarshimaitra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rajarshimaitra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-14T12:39:45Z"
    },
    {
      "event": "subscribed",
      "id": 5299330784,
      "node_id": "SE_lADOABII5846iuygzwAAAAE73V7g",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5299330784",
      "actor": {
        "login": "rajarshimaitra",
        "id": 36541669,
        "node_id": "MDQ6VXNlcjM2NTQxNjY5",
        "avatar_url": "https://avatars.githubusercontent.com/u/36541669?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rajarshimaitra",
        "html_url": "https://github.com/rajarshimaitra",
        "followers_url": "https://api.github.com/users/rajarshimaitra/followers",
        "following_url": "https://api.github.com/users/rajarshimaitra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rajarshimaitra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rajarshimaitra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rajarshimaitra/subscriptions",
        "organizations_url": "https://api.github.com/users/rajarshimaitra/orgs",
        "repos_url": "https://api.github.com/users/rajarshimaitra/repos",
        "events_url": "https://api.github.com/users/rajarshimaitra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rajarshimaitra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-14T12:39:45Z"
    },
    {
      "event": "commented",
      "id": 919111191,
      "node_id": "IC_kwDOABII5842yIYX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/919111191",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-14T12:40:18Z",
      "updated_at": "2021-09-14T12:40:18Z",
      "author_association": "MEMBER",
      "body": "Thank you very much to @jamesob, @rajarshimaitra, @benthecarman, @ben-kaufman, @jarolrod, @laanwj, and @vasild for the tested review ACKs.  Updated the approach and pull title/description per review feedback.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#issuecomment-919111191",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22831"
    },
    {
      "event": "mentioned",
      "id": 5299333655,
      "node_id": "MEE_lADOABII5846iuygzwAAAAE73WoX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5299333655",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-14T12:40:18Z"
    },
    {
      "event": "subscribed",
      "id": 5299333665,
      "node_id": "SE_lADOABII5846iuygzwAAAAE73Woh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5299333665",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-14T12:40:19Z"
    },
    {
      "event": "mentioned",
      "id": 5299333671,
      "node_id": "MEE_lADOABII5846iuygzwAAAAE73Won",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5299333671",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-14T12:40:19Z"
    },
    {
      "event": "subscribed",
      "id": 5299333675,
      "node_id": "SE_lADOABII5846iuygzwAAAAE73Wor",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5299333675",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-14T12:40:19Z"
    },
    {
      "event": "mentioned",
      "id": 5299333684,
      "node_id": "MEE_lADOABII5846iuygzwAAAAE73Wo0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5299333684",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-14T12:40:19Z"
    },
    {
      "event": "subscribed",
      "id": 5299333688,
      "node_id": "SE_lADOABII5846iuygzwAAAAE73Wo4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5299333688",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-14T12:40:19Z"
    },
    {
      "event": "mentioned",
      "id": 5299333695,
      "node_id": "MEE_lADOABII5846iuygzwAAAAE73Wo_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5299333695",
      "actor": {
        "login": "ben-kaufman",
        "id": 10667901,
        "node_id": "MDQ6VXNlcjEwNjY3OTAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/10667901?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ben-kaufman",
        "html_url": "https://github.com/ben-kaufman",
        "followers_url": "https://api.github.com/users/ben-kaufman/followers",
        "following_url": "https://api.github.com/users/ben-kaufman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ben-kaufman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ben-kaufman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ben-kaufman/subscriptions",
        "organizations_url": "https://api.github.com/users/ben-kaufman/orgs",
        "repos_url": "https://api.github.com/users/ben-kaufman/repos",
        "events_url": "https://api.github.com/users/ben-kaufman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ben-kaufman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-14T12:40:19Z"
    },
    {
      "event": "subscribed",
      "id": 5299333700,
      "node_id": "SE_lADOABII5846iuygzwAAAAE73WpE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5299333700",
      "actor": {
        "login": "ben-kaufman",
        "id": 10667901,
        "node_id": "MDQ6VXNlcjEwNjY3OTAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/10667901?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ben-kaufman",
        "html_url": "https://github.com/ben-kaufman",
        "followers_url": "https://api.github.com/users/ben-kaufman/followers",
        "following_url": "https://api.github.com/users/ben-kaufman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ben-kaufman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ben-kaufman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ben-kaufman/subscriptions",
        "organizations_url": "https://api.github.com/users/ben-kaufman/orgs",
        "repos_url": "https://api.github.com/users/ben-kaufman/repos",
        "events_url": "https://api.github.com/users/ben-kaufman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ben-kaufman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-14T12:40:19Z"
    },
    {
      "event": "mentioned",
      "id": 5299333709,
      "node_id": "MEE_lADOABII5846iuygzwAAAAE73WpN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5299333709",
      "actor": {
        "login": "benthecarman",
        "id": 15256660,
        "node_id": "MDQ6VXNlcjE1MjU2NjYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/15256660?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/benthecarman",
        "html_url": "https://github.com/benthecarman",
        "followers_url": "https://api.github.com/users/benthecarman/followers",
        "following_url": "https://api.github.com/users/benthecarman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/benthecarman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/benthecarman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/benthecarman/subscriptions",
        "organizations_url": "https://api.github.com/users/benthecarman/orgs",
        "repos_url": "https://api.github.com/users/benthecarman/repos",
        "events_url": "https://api.github.com/users/benthecarman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/benthecarman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-14T12:40:19Z"
    },
    {
      "event": "subscribed",
      "id": 5299333712,
      "node_id": "SE_lADOABII5846iuygzwAAAAE73WpQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5299333712",
      "actor": {
        "login": "benthecarman",
        "id": 15256660,
        "node_id": "MDQ6VXNlcjE1MjU2NjYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/15256660?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/benthecarman",
        "html_url": "https://github.com/benthecarman",
        "followers_url": "https://api.github.com/users/benthecarman/followers",
        "following_url": "https://api.github.com/users/benthecarman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/benthecarman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/benthecarman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/benthecarman/subscriptions",
        "organizations_url": "https://api.github.com/users/benthecarman/orgs",
        "repos_url": "https://api.github.com/users/benthecarman/repos",
        "events_url": "https://api.github.com/users/benthecarman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/benthecarman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-14T12:40:19Z"
    },
    {
      "event": "mentioned",
      "id": 5299333720,
      "node_id": "MEE_lADOABII5846iuygzwAAAAE73WpY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5299333720",
      "actor": {
        "login": "jarolrod",
        "id": 23396902,
        "node_id": "MDQ6VXNlcjIzMzk2OTAy",
        "avatar_url": "https://avatars.githubusercontent.com/u/23396902?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jarolrod",
        "html_url": "https://github.com/jarolrod",
        "followers_url": "https://api.github.com/users/jarolrod/followers",
        "following_url": "https://api.github.com/users/jarolrod/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jarolrod/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jarolrod/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jarolrod/subscriptions",
        "organizations_url": "https://api.github.com/users/jarolrod/orgs",
        "repos_url": "https://api.github.com/users/jarolrod/repos",
        "events_url": "https://api.github.com/users/jarolrod/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jarolrod/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-14T12:40:19Z"
    },
    {
      "event": "subscribed",
      "id": 5299333726,
      "node_id": "SE_lADOABII5846iuygzwAAAAE73Wpe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5299333726",
      "actor": {
        "login": "jarolrod",
        "id": 23396902,
        "node_id": "MDQ6VXNlcjIzMzk2OTAy",
        "avatar_url": "https://avatars.githubusercontent.com/u/23396902?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jarolrod",
        "html_url": "https://github.com/jarolrod",
        "followers_url": "https://api.github.com/users/jarolrod/followers",
        "following_url": "https://api.github.com/users/jarolrod/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jarolrod/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jarolrod/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jarolrod/subscriptions",
        "organizations_url": "https://api.github.com/users/jarolrod/orgs",
        "repos_url": "https://api.github.com/users/jarolrod/repos",
        "events_url": "https://api.github.com/users/jarolrod/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jarolrod/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-14T12:40:19Z"
    },
    {
      "event": "mentioned",
      "id": 5299333733,
      "node_id": "MEE_lADOABII5846iuygzwAAAAE73Wpl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5299333733",
      "actor": {
        "login": "rajarshimaitra",
        "id": 36541669,
        "node_id": "MDQ6VXNlcjM2NTQxNjY5",
        "avatar_url": "https://avatars.githubusercontent.com/u/36541669?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rajarshimaitra",
        "html_url": "https://github.com/rajarshimaitra",
        "followers_url": "https://api.github.com/users/rajarshimaitra/followers",
        "following_url": "https://api.github.com/users/rajarshimaitra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rajarshimaitra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rajarshimaitra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rajarshimaitra/subscriptions",
        "organizations_url": "https://api.github.com/users/rajarshimaitra/orgs",
        "repos_url": "https://api.github.com/users/rajarshimaitra/repos",
        "events_url": "https://api.github.com/users/rajarshimaitra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rajarshimaitra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-14T12:40:19Z"
    },
    {
      "event": "subscribed",
      "id": 5299333737,
      "node_id": "SE_lADOABII5846iuygzwAAAAE73Wpp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5299333737",
      "actor": {
        "login": "rajarshimaitra",
        "id": 36541669,
        "node_id": "MDQ6VXNlcjM2NTQxNjY5",
        "avatar_url": "https://avatars.githubusercontent.com/u/36541669?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rajarshimaitra",
        "html_url": "https://github.com/rajarshimaitra",
        "followers_url": "https://api.github.com/users/rajarshimaitra/followers",
        "following_url": "https://api.github.com/users/rajarshimaitra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rajarshimaitra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rajarshimaitra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rajarshimaitra/subscriptions",
        "organizations_url": "https://api.github.com/users/rajarshimaitra/orgs",
        "repos_url": "https://api.github.com/users/rajarshimaitra/repos",
        "events_url": "https://api.github.com/users/rajarshimaitra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rajarshimaitra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-14T12:40:19Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5299523262,
      "node_id": "HRFPE_lADOABII5846iuygzwAAAAE74E6-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5299523262",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-14T13:10:52Z"
    },
    {
      "event": "reviewed",
      "id": 753926434,
      "node_id": "PRR_kwDOABII584s8AEi",
      "url": null,
      "actor": null,
      "commit_id": "8c41132419c9ab4a70a15d967366bb6fb22b2642",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "review ACK 55d1411a161d17757b61270a85626a62c3d63085 🎽\r\n\r\n<details><summary>Show signature and timestamp</summary>\r\n\r\nSignature:\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nreview ACK 55d1411a161d17757b61270a85626a62c3d63085 🎽\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\r\npUi7FgwAm0GAoP38/kTeZXLd4BiAr/zxha4e32USwtRrk6M2AlXfnKfkXXvWUJ03\r\n7xZ2f7bpNiBUpIOpUXh0dhc+uKZrqNzGo18M9MygCGEs2r0hZajTwxd8dxjLyMiF\r\nDfkh8OhroQKoEyc/F5yskCCNLvZdQKIaDfOAMHGOikeb0yK6PTqPJXOBfZTO3PY9\r\n65XkGyp8hjs6hJNTF+3LbnPW0jbs6KObah46AaG3REYdTYEBJeLdUavnxFqQP7n2\r\n27FoTQZkpdQ4Maq/3UGZxYJl3u24RFql7j9DhLT8o4DDXZw8ghu22Wnpx21pHf7n\r\n2F8W/iuCzlGRy71E8EPhetpOFMAiTtwff5tZ7TnnEtRrMuAEjUo47bZ8FT0IWjy7\r\n5hX75sE8xUZHa1yZNxdhSQqSpp3nmPdM3fMyTz+uN/kssN9z04IEcwFlpIHYIwyF\r\nTQX+H8N4oNZSrW0OgZjE2dZfNi6oLEVtSJYYmw2UFtWgK9wkVclVAGynLr8zIugP\r\ncEMl5t0V\r\n=Q1W4\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\n[Timestamp of file with hash `04e5bf52e7493be34aac2e3fdb2f7099eaf7de5cac3f8c7898beff8518d261cb  -`](https://opentimestamps.org/info/?004f70656e54696d657374616d7073000050726f6f6600bf89e2e884e89294010804e5bf52e7493be34aac2e3fdb2f7099eaf7de5cac3f8c7898beff8518d261cbf010c0f2c4f084c9dda1083b386fc76abd6708fff01073d95455fe519ba84e257a2dca3a908e08f1046140a0edf00843efed6ddffd63c00083dfe30d2ef90c8e2c2b68747470733a2f2f626f622e6274632e63616c656e6461722e6f70656e74696d657374616d70732e6f7267fff010781bce5871193509e446ef969d1f1c8f08f1046140a0edf0081fcb05fb7d8efcc90083dfe30d2ef90c8e292868747470733a2f2f66696e6e65792e63616c656e6461722e657465726e69747977616c6c2e636f6dfff010930b0e6d0c939d17cf12b7c3e135d16c08f1046140a0eef00814e4aa0316e0be700083dfe30d2ef90c8e2e2d68747470733a2f2f616c6963652e6274632e63616c656e6461722e6f70656e74696d657374616d70732e6f7267f010f2902a59c363a0cdebebaff868706b6a08f1046140a0edf0089237b2d411923c870083dfe30d2ef90c8e232268747470733a2f2f6274632e63616c656e6461722e636174616c6c6178792e636f6d)\r\n\r\n</details>\r\n",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#pullrequestreview-753926434",
      "submitted_at": "2021-09-14T13:17:46Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
    },
    {
      "event": "renamed",
      "id": 5299572766,
      "node_id": "RTE_lADOABII5846iuygzwAAAAE74RAe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5299572766",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-14T13:17:58Z",
      "rename": {
        "from": "rpc, test: add addpeeraddress \"tried\", test addrman checks on restart with asmap",
        "to": "test: add addpeeraddress \"tried\", test addrman checks on restart with asmap"
      }
    },
    {
      "event": "reviewed",
      "id": 753945815,
      "node_id": "PRR_kwDOABII584s8EzX",
      "url": null,
      "actor": null,
      "commit_id": "55d1411a161d17757b61270a85626a62c3d63085",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "utACK 55d1411a161d17757b61270a85626a62c3d63085",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#pullrequestreview-753945815",
      "submitted_at": "2021-09-14T13:38:40Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5299725704,
      "node_id": "HRFPE_lADOABII5846iuygzwAAAAE742WI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5299725704",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-14T13:41:19Z"
    },
    {
      "event": "reviewed",
      "id": 753966150,
      "node_id": "PRR_kwDOABII584s8JxG",
      "url": null,
      "actor": null,
      "commit_id": "4de3271b1cb65111ea4b37d8fa9791aa0cd63b81",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "review ACK 4de3271b1cb65111ea4b37d8fa9791aa0cd63b81 🍛\r\n\r\n<details><summary>Show signature and timestamp</summary>\r\n\r\nSignature:\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nreview ACK 4de3271b1cb65111ea4b37d8fa9791aa0cd63b81 🍛\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\r\npUjVpwwAnW+G/Az3yxcnBnDlYpPF+EnaE+9mRU+rBuVH4ta4EXbKmnkGBXcUMFES\r\nvGyOSh214YYpBVMO0ibGV/5V0PwSeijSnSgFS90JgpL6kbGJ9a+Bcp2uc+nH8yAI\r\n6dCGwn40XN8oA0sNHbbqffsaFe4PdDIPsR+zV8Up/2SynpJhwxcN58Nf1KvC+dZD\r\nvliNJO3LnMfVB9Gdah6ObJ2d99iqqWIyg8+aaWxYpUwMp/4oRtkKjZ7CHS9C4TdE\r\naeVybThyVnD8csbWpx/yKAxjiP9dVZ2yPzXmhTmVZPoWrUH+T3nN8IgYLv0+EkU6\r\nNFXIdz1qZZbJ93TKl9RFIPxgB8LX/NH0nO9sRZji61jsSFKJMSv6HmQfYdAO5/tC\r\n8VUD2pqVnSvbnKYCfpfQEk8lkepDfM0FSH4uE7h3U8VysCbPsDJZpomC845eynai\r\nTHR4aeDwVylKCVnHZ7MUWSxAxxvjuh/i6SUYsPEKyxM8r9PcErhmYML2mafVKRdq\r\n86qyGL//\r\n=dWm5\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\n[Timestamp of file with hash `4c359cb1138b60d4da195cd16d1d3fb668bf9409ad9ed02c51ecd1964b7f50f2  -`](https://opentimestamps.org/info/?004f70656e54696d657374616d7073000050726f6f6600bf89e2e884e8929401084c359cb1138b60d4da195cd16d1d3fb668bf9409ad9ed02c51ecd1964b7f50f2f010cadca3b5138940c9b7d545b3883de5a608fff01013d2f6f09562e7c917228198ef93bca708f1046140a708f0088ed50e3c95a5a14d0083dfe30d2ef90c8e292868747470733a2f2f66696e6e65792e63616c656e6461722e657465726e69747977616c6c2e636f6dfff010cda0e390def8a3855df0d4bb541802e608f120e04245aca67b91f42f9437202f53292b01ff77c75184ecd6a4319a17a0345b4108f1046140a708f0084c74dea8c4614b560083dfe30d2ef90c8e2e2d68747470733a2f2f616c6963652e6274632e63616c656e6461722e6f70656e74696d657374616d70732e6f7267fff010cecebb5eacfd73fc689332869570405608f1046140a707f0084e437fce2bbcf0e20083dfe30d2ef90c8e232268747470733a2f2f6274632e63616c656e6461722e636174616c6c6178792e636f6df010e1f5e97936a82c4ad37952bfafab6d1908f1046140a707f0089e2a870acbda89ab0083dfe30d2ef90c8e2c2b68747470733a2f2f626f622e6274632e63616c656e6461722e6f70656e74696d657374616d70732e6f7267)\r\n\r\n</details>\r\n",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#pullrequestreview-753966150",
      "submitted_at": "2021-09-14T13:43:47Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
    },
    {
      "event": "reviewed",
      "id": 753991370,
      "node_id": "PRR_kwDOABII584s8P7K",
      "url": null,
      "actor": null,
      "commit_id": "4de3271b1cb65111ea4b37d8fa9791aa0cd63b81",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#pullrequestreview-753991370",
      "submitted_at": "2021-09-14T14:02:12Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5300081017,
      "node_id": "HRFPE_lADOABII5846iuygzwAAAAE76NF5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5300081017",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-14T14:32:05Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5300320994,
      "node_id": "HRFPE_lADOABII5846iuygzwAAAAE77Hri",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5300320994",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-14T15:06:59Z"
    },
    {
      "event": "reviewed",
      "id": 754550579,
      "node_id": "PRR_kwDOABII584s-Ycz",
      "url": null,
      "actor": null,
      "commit_id": "d58681743a3ea99814c2c77ad8b7a4ea6ca3e14b",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "review ACK d58681743a3ea99814c2c77ad8b7a4ea6ca3e14b\r\n\r\ntwo comment suggestions to consider if you retouch ",
      "user": {
        "login": "amitiuttarwar",
        "id": 1500952,
        "node_id": "MDQ6VXNlcjE1MDA5NTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amitiuttarwar",
        "html_url": "https://github.com/amitiuttarwar",
        "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
        "following_url": "https://api.github.com/users/amitiuttarwar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/amitiuttarwar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/amitiuttarwar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
        "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
        "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
        "events_url": "https://api.github.com/users/amitiuttarwar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#pullrequestreview-754550579",
      "submitted_at": "2021-09-15T00:18:29Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
    },
    {
      "event": "commented",
      "id": 919978968,
      "node_id": "IC_kwDOABII58421cPY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/919978968",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-15T12:34:43Z",
      "updated_at": "2021-09-15T12:34:43Z",
      "author_association": "MEMBER",
      "body": "Tested ACK d58681743a3ea99814c2c77ad8b7a4ea6ca3e14b\r\n\r\nI verified that `peers.dat`, which is now created at runtime, leads to `Check()` errors in 181a1207ba6bd179d181f3e2534ef8676565ce72 with the toy asmap `ip_asn.map`. ",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#issuecomment-919978968",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22831"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzplZjI0MmY1MjEzN2YyYTc5YTczOTQ0NzI1MWQ3NzU5YmQ0NzA1YmUw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ef242f52137f2a79a739447251d7759bd4705be0",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ef242f52137f2a79a739447251d7759bd4705be0",
      "tree": {
        "sha": "82b45a11872c1d68431e1a2cb04631cc940c2ec2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/82b45a11872c1d68431e1a2cb04631cc940c2ec2"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 82b45a11872c1d68431e1a2cb04631cc940c2ec2\nparent 5e3380b9f59481fc18e05b9d651c3c733abe4053\nauthor Jon Atack <jon@atack.com> 1631614483 +0200\ncommitter Jon Atack <jon@atack.com> 1631712516 +0200\n\nAllow passing \"tried\" to rpc addpeeraddress to call CAddrMan::Good()\n\nCo-authored-by: Martin Zumsande <mzumsande@gmail.com>\nCo-authored-by: John Newbery <john@johnnewbery.com>\nCo-authored-by: Vasil Dimov <vd@FreeBSD.org>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAmFB9Q8ACgkQT1chs9Dj\nkh2ryQ/9EjaFg+M+0emHOdZ/w6uCChWXIwOHbxcDp3mB4Vf0V2t2MLWneJTLQSqr\nwY3Lyj7qHn3JszootC0OXAluqJ5hgBD33Vm3YkrWmMIRj+8cJgQzRY3DnBG9ZUxB\nd/zH/n2PK/2eTuYqXy+rXub9F+sXXDahUmGRVJnT/xD7duTAjwg/UyBTeFLkQVp+\nvJS6Uq4RU7jOFfQQ5MclyVLadsApNNgtsdEQoNOeRfrOVas6EFA1lidj44/O/Bsi\nw0bbaOHBufnfqqlZrR1K3SX9Q4odT+gsRWNiNHSzkh++buf7VlbByfl8jCteX7tz\ne3y6C84UwadCA8qi8sJ+3LVkgaVUbrYAcC9HBMn5lvX4PFVE58UFyvgNkixsMCy3\nkWvQBzweZeb0fdz+dmtkR8uGnOMUe0DbHtLdQQgK8O5qmeGrObRcFe8KG7Sy1iBv\nJLjFXzmHmf62r3KvenkEHoMFaCPlbFZyfYYz8n7rNJiWyr546Le6foMcxEZAXv5E\njd5ogBwf2ZFol0hZAHlluCMnnJ9dvPAptEZz8m7PETk+m0rwVfkWX6+oG0egzT1z\n9GXWGYSBuHDH1AwA66V+svfqn+heKqE+aByf3lOR+rrzQxeCFfKPltOQ+RlCgIGv\nn/mRYt19H4DZ+v0r+BFuDAezbYHxjMEoc9e7tZpir1u4ZQIHdDo=\n=RGDD\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIGbGYLLyI05YZ5yv9mw5aO5pO5A2ofsoWTIEYhcQ8CC3CP/wEC/IkSOOzZsh\nSORWMzVaqcMI8SDbGjex4ip2G5Nl3QyvHMbyRybxZZn8TVkBGqg3+57WWAjxBGFB\n9RDwCMKQeyAN38FVAIPf4w0u+QyOLCtodHRwczovL2JvYi5idGMuY2FsZW5kYXIu\nb3BlbnRpbWVzdGFtcHMub3Jn//AQYadxHd+AyYnyMbFZJIytuAjxBGFB9RHwCNNg\no8DXdOZ3AIPf4w0u+QyOKShodHRwczovL2Zpbm5leS5jYWxlbmRhci5ldGVybml0\neXdhbGwuY29t//AQga1pIdcyBYLJIFRip9hecwjxIPAcSVQcJMT4Kvyv1bT4qgjS\nPykF7XVnr8QEY+Vc103DCPEEYUH1EfAIjeE+tSJE/AAAg9/jDS75DI4jImh0dHBz\nOi8vYnRjLmNhbGVuZGFyLmNhdGFsbGF4eS5jb23wEJT747+9Rdf7ysTaJ50D9+8I\n8CAQixfrN3lzZKXE8zDC6eOsBCjMVB2DXn5CI+ZHg8Jp2QjxIIk5mzoDEUPWG3lm\nufhCmAtQ37KI7HMqrlDl0VMvOKhyCPEEYUH1EPAIskFhoUhhlZMAg9/jDS75DI4u\nLWh0dHBzOi8vYWxpY2UuYnRjLmNhbGVuZGFyLm9wZW50aW1lc3RhbXBzLm9yZw==\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5e3380b9f59481fc18e05b9d651c3c733abe4053",
          "sha": "5e3380b9f59481fc18e05b9d651c3c733abe4053",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5e3380b9f59481fc18e05b9d651c3c733abe4053"
        }
      ],
      "message": "Allow passing \"tried\" to rpc addpeeraddress to call CAddrMan::Good()\n\nCo-authored-by: Martin Zumsande <mzumsande@gmail.com>\nCo-authored-by: John Newbery <john@johnnewbery.com>\nCo-authored-by: Vasil Dimov <vd@FreeBSD.org>",
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2021-09-15T13:28:36Z"
      },
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2021-09-14T10:14:43Z"
      },
      "sha": "ef242f52137f2a79a739447251d7759bd4705be0"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4NjlmMTM2ODE2YzY5MDBjZTg0YmM0YjVhOWM5M2MwZGVhYjg1MTkz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/869f136816c6900ce84bc4b5a9c93c0deab85193",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/869f136816c6900ce84bc4b5a9c93c0deab85193",
      "tree": {
        "sha": "249519ff53e0ee3e0891b310645302c982733364",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/249519ff53e0ee3e0891b310645302c982733364"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 249519ff53e0ee3e0891b310645302c982733364\nparent ef242f52137f2a79a739447251d7759bd4705be0\nauthor Jon Atack <jon@atack.com> 1631617598 +0200\ncommitter Jon Atack <jon@atack.com> 1631715949 +0200\n\nAdd test for rpc addpeeraddress with \"tried\" argument\n\nCo-authored-by: Amiti Uttarwar <amiti@uttarwar.org>\nCo-authored-by: John Newbery <john@johnnewbery.com>\nCo-authored-by: Martin Zumsande <mzumsande@gmail.com>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAmFCAngACgkQT1chs9Dj\nkh2LMxAAvCVzkc1IK2c47QEDfLTAWYL0WEb/yGxdNQCzsi0ZTbw1mdBZhSVwFRvU\nVur7YJarXFGdgETwlK6EY7sxhpaBpk115HUijUVIymRgHX4gmt3x3C1DXjGkXdaM\nOoMge0MGfx39hqvG/dxi67hOyBg2CxPGi8ecZLD28hZjmE5U42nbE2/cQw41lJMp\nZr8XpIMDy6HyuYpGAsNk6skmH899fu8CP1xO9cim4PJP03iia+yodTtwcNQafGim\nlhK+wmFYjzPXlySmaPfj0kXebX3g9O0hOYGAtR3XsW+qZdvwzH3mhNNRYw4ojld+\nrmJc21+vh+yfHbvDYk/ajxWV+tq23fvehxbmenwHnkdbNhisePaiaWXr8WjG1+s1\nMQvMCzhlud7q35xinaYWNiJFhl9+VQw9eEuznlYW+FWQZlfhWEwMqHTsguF1Ug2I\nx7dVtcpdpGpDg9nMW6dpEupwWHuT0PvjmNpXrDJZuLStl1ZqBUUK9i+fs/zIwR/a\nqkF7bBE0PPFN63wiwXK0K5bCYZe2ABiP5PxmCHHYVsX/kqGyErvz4o/mUOxlKY3h\n7PMtXP4gR0R2bB2J8q0CAZ526OcmaS7eYhm9JgWW8TB1kDBoklYjw/VK9o8ebSZ4\n5acHTUVpR/+EvUcDFykpz/UhRU7sShcm7Nl3JE7QTMOf5wIsLPE=\n=SW/1\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIMvZhkKasmn9ERUjbWyDIlfesTNQOHOphMBPrvkpLoCkCP/wEEX/JCrb7CTl\notFMVAx1c6gI8SDinlc0xBtI7A3td0dufKGm9WRWeg41x+RGX+lItqRz9QjxILwZ\nabnJYP69mZUZgE2Apr6S0GOmdMxhXGJsC0oqAz+ICPEEYUICefAIFR6RC4+5xR4A\ng9/jDS75DI4jImh0dHBzOi8vYnRjLmNhbGVuZGFyLmNhdGFsbGF4eS5jb23/8BBI\n/CqxbQt+0Xlxi2WLTsRBCPEEYUICefAI7KKcUYq2DagAg9/jDS75DI4sK2h0dHBz\nOi8vYm9iLmJ0Yy5jYWxlbmRhci5vcGVudGltZXN0YW1wcy5vcmf/8BCx/ESWk52O\nS0DS28CdH+2yCPAgjQG/Dxdz/4alqr2Q7QYS+4iUTdPdhm+xQcdAQpvK0owI8CCX\nEwhO9mrRy1WBoxrQwHRrNDv7xEYtb571hfsn16vlsgjxIORk2uK5U15qxs5WUXcH\nR7Ig6bGyo31NRhl5S7Zln+pYCPAgT2FcPT/KSUEwDvGev9ZPyj4bJ/4YevZYzzg3\n8xeKU8gI8QRhQgJ58Ah9CwUzWIhcaACD3+MNLvkMji4taHR0cHM6Ly9hbGljZS5i\ndGMuY2FsZW5kYXIub3BlbnRpbWVzdGFtcHMub3Jn8BDLsD0VtcVJ7TDfryBAiGA7\nCPEEYUICevAIwS7gtNmENvoAg9/jDS75DI4pKGh0dHBzOi8vZmlubmV5LmNhbGVu\nZGFyLmV0ZXJuaXR5d2FsbC5jb20=\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ef242f52137f2a79a739447251d7759bd4705be0",
          "sha": "ef242f52137f2a79a739447251d7759bd4705be0",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ef242f52137f2a79a739447251d7759bd4705be0"
        }
      ],
      "message": "Add test for rpc addpeeraddress with \"tried\" argument\n\nCo-authored-by: Amiti Uttarwar <amiti@uttarwar.org>\nCo-authored-by: John Newbery <john@johnnewbery.com>\nCo-authored-by: Martin Zumsande <mzumsande@gmail.com>",
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2021-09-15T14:25:49Z"
      },
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2021-09-14T11:06:38Z"
      },
      "sha": "869f136816c6900ce84bc4b5a9c93c0deab85193"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5306439882,
      "node_id": "HRFPE_lADOABII5846iuygzwAAAAE8SdjK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5306439882",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-15T14:34:05Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjZGFhYjkwNjYyYTU0ZTMzMWRlMGU0OWE4OTU5NmJiYjk0YThhYzQ1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "tree": {
        "sha": "f22e4783df286743470e34ab6b22a256ef1d033f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f22e4783df286743470e34ab6b22a256ef1d033f"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree f22e4783df286743470e34ab6b22a256ef1d033f\nparent 869f136816c6900ce84bc4b5a9c93c0deab85193\nauthor Jon Atack <jon@atack.com> 1630318307 +0200\ncommitter Jon Atack <jon@atack.com> 1631716683 +0200\n\nAdd test for addrman consistency check on restart with asmap\n\nPR #22697 introduced a reproducible issue in commit 181a1207 that causes the\naddrman tried table to fail consistency checks and significantly lose peer\nentries when the `-asmap` configuration option is used.\n\nThe issue occurs on bitcoind restart due to an initialization order change\nin `src/init.cpp` in that commit whereby CAddrman asmap is set after\ndeserializing `peers.dat`, rather than before.\n\nIssue reported on the `#bitcoin-core-dev` IRC channel starting at\nhttps://www.erisian.com.au/bitcoin-core-dev/log-2021-08-23.html#l-263.\n\n```\naddrman lost 22813 new and 2 tried addresses due to collisions or invalid addresses\nADDRMAN CONSISTENCY CHECK FAILED!!! err=-17\nbitcoind: ./addrman.h:707: void CAddrMan::Check() const: Assertion `false' failed. Aborted\n```\n\nHow to reproduce:\n- `git checkout 181a1207` and recompile\n- launch bitcoind with `-asmap` and `-checkaddrman=1` config options\n- restart bitcoind\n- bitcoind aborts on second call to `CAddrMan::Check()`\n\nThis commit adds a regression test to reproduce the case; it passes or fails\nwith the same error.\n\nCo-authored-by: John Newbery <john@johnnewbery.com>\nCo-authored-by: Martin Zumsande <mzumsande@gmail.com>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAmFCBVUACgkQT1chs9Dj\nkh2QWQ//eIh5nv73xPe6nT0tCBkynkruTqv+k8lSPMMznfVFAHMxadx6bjklaWso\nGSIHjhQU4uGXAi+UI9zbMaO/nMAM099ikC06GuuNog6Wn2Brh9w9ushtlKSJMNgP\ntxN3k4hg4m90eUcKHzwk4v1N5J06aGAwjDFAK/BYi72w3JgF5FYQrS79TzRkwDaL\nYwUVHOxo9UFfB+D3v1En5aGOw+rQ841N+bMirhAUHDWTxhmY6TUVEDIrOb1ALG4X\n0QEV4diArUuLqDlwZ5XQmPsqiM/kNHmUsy2iatDhWsqVeLcq8VbQ3mYA2oGSYX44\nmQ8u51uS6wI/SivCY5ynE4VKgbjnbvR7GhPlVE8kuKjUa/vMFefkvz7zP4IVo1gU\n6ZFm6dzSfM0RvvhD8YEIYk5d1sQpPMD9sE2Id0CHAHkUEswoqrbtdnE/f2t3ATCB\nfTKkOU+FDarMJzDxZS+qcCSXc6QTAth90fLX0p1gCytT6xO6YhLuSKUMo9lBajLX\nPWOBvXG7z7j64dshRO7+lGvdRKEA1IGuQZZiQWdZVDdabYURYXgtbCbMtfm4lYUi\nYQCG1xsIaVfF26obxAbTaEA0L84x+mVkC6ZDSuojxaeqbY/Xcly+/nWaBxgeWvM2\nS3l3natn7UFPIHUSif/TpJSN/guyLLB1xzZRC18wUaNzLdZUuo8=\n=X3bY\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIAgIBjiTJmwhuzJYmGG6W52BhJt0iwxbirZ96yT2AScUCP/wEBumNrNu8kLH\nDgmvhq1ytzEI8QRhQgVW8AjpVCBxMzuq6wCD3+MNLvkMjiwraHR0cHM6Ly9ib2Iu\nYnRjLmNhbGVuZGFyLm9wZW50aW1lc3RhbXBzLm9yZ//wEJlxvaEyoheddqnBG/OE\nWuII8QRhQgVX8AhyVheD+kmDZwCD3+MNLvkMjiMiaHR0cHM6Ly9idGMuY2FsZW5k\nYXIuY2F0YWxsYXh5LmNvbf/wEKY4Grta2oXLPOoyu2EiI44I8QRhQgVX8AgfTbIs\nKxSGfACD3+MNLvkMjikoaHR0cHM6Ly9maW5uZXkuY2FsZW5kYXIuZXRlcm5pdHl3\nYWxsLmNvbfAQ+kGVCA6M3Vo8HGlVY3x8kwjxBGFCBVbwCClFh/M0UyL+AIPf4w0u\n+QyOLi1odHRwczovL2FsaWNlLmJ0Yy5jYWxlbmRhci5vcGVudGltZXN0YW1wcy5v\ncmc=\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/869f136816c6900ce84bc4b5a9c93c0deab85193",
          "sha": "869f136816c6900ce84bc4b5a9c93c0deab85193",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/869f136816c6900ce84bc4b5a9c93c0deab85193"
        }
      ],
      "message": "Add test for addrman consistency check on restart with asmap\n\nPR #22697 introduced a reproducible issue in commit 181a1207 that causes the\naddrman tried table to fail consistency checks and significantly lose peer\nentries when the `-asmap` configuration option is used.\n\nThe issue occurs on bitcoind restart due to an initialization order change\nin `src/init.cpp` in that commit whereby CAddrman asmap is set after\ndeserializing `peers.dat`, rather than before.\n\nIssue reported on the `#bitcoin-core-dev` IRC channel starting at\nhttps://www.erisian.com.au/bitcoin-core-dev/log-2021-08-23.html#l-263.\n\n```\naddrman lost 22813 new and 2 tried addresses due to collisions or invalid addresses\nADDRMAN CONSISTENCY CHECK FAILED!!! err=-17\nbitcoind: ./addrman.h:707: void CAddrMan::Check() const: Assertion `false' failed. Aborted\n```\n\nHow to reproduce:\n- `git checkout 181a1207` and recompile\n- launch bitcoind with `-asmap` and `-checkaddrman=1` config options\n- restart bitcoind\n- bitcoind aborts on second call to `CAddrMan::Check()`\n\nThis commit adds a regression test to reproduce the case; it passes or fails\nwith the same error.\n\nCo-authored-by: John Newbery <john@johnnewbery.com>\nCo-authored-by: Martin Zumsande <mzumsande@gmail.com>",
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2021-09-15T14:38:03Z"
      },
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2021-08-30T10:11:47Z"
      },
      "sha": "cdaab90662a54e331de0e49a89596bbb94a8ac45"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5306476554,
      "node_id": "HRFPE_lADOABII5846iuygzwAAAAE8SmgK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5306476554",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-15T14:39:21Z"
    },
    {
      "event": "commented",
      "id": 920084245,
      "node_id": "IC_kwDOABII5842118V",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/920084245",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-15T14:43:21Z",
      "updated_at": "2021-09-15T14:43:21Z",
      "author_association": "MEMBER",
      "body": "Very good suggestions (thanks!) Updated per `git diff d586817 cdaab90` along with further test improvements.\r\n\r\n<details><summary>diff</summary><p>\r\n\r\n```diff\r\ndiff --git a/src/rpc/net.cpp b/src/rpc/net.cpp\r\nindex f7b6a2a333..227eec722f 100644\r\n--- a/src/rpc/net.cpp\r\n+++ b/src/rpc/net.cpp\r\n@@ -956,7 +956,7 @@ static RPCHelpMan addpeeraddress()\r\n         if (node.addrman->Add({address}, address)) {\r\n             success = true;\r\n             if (tried) {\r\n-                // Mark entry as good and possibly move it to the \"tried\" addresses table.\r\n+                // Attempt to move the address to the tried addresses table.\r\n                 node.addrman->Good(address);\r\n             }\r\n         }\r\ndiff --git a/test/functional/feature_asmap.py b/test/functional/feature_asmap.py\r\nindex 46d55077d7..2dc1e3a7cb 100755\r\n--- a/test/functional/feature_asmap.py\r\n+++ b/test/functional/feature_asmap.py\r\n@@ -14,7 +14,7 @@ Verify node behaviour and debug log when launching bitcoind in these cases:\r\n \r\n 4. `bitcoind -asmap/-asmap=` with no file specified, using the default asmap\r\n \r\n-5. `bitcoind -asmap` with an addrman containing new and tried entries\r\n+5. `bitcoind -asmap` restart with an addrman containing new and tried entries\r\n \r\n 6. `bitcoind -asmap` with no file specified and a missing default asmap file\r\n \r\n@@ -42,8 +42,8 @@ class AsmapTest(BitcoinTestFramework):\r\n         self.extra_args = [[\"-checkaddrman=1\"]]  # Do addrman checks on all operations.\r\n \r\n     def fill_addrman(self, node_id):\r\n-        \"\"\"Add 2 new addresses and 2 tried addresses to the addrman.\"\"\"\r\n-        for addr, tried in [[0, False], [1, False], [2, True], [3, True]]:\r\n+        \"\"\"Add 2 tried addresses to the addrman, followed by 2 new addresses.\"\"\"\r\n+        for addr, tried in [[0, True], [1, True], [2, False], [3, False]]:\r\n             self.nodes[node_id].addpeeraddress(address=f\"101.{addr}.0.0\", tried=tried, port=8333)\r\n \r\n     def test_without_asmap_arg(self):\r\n@@ -81,13 +81,18 @@ class AsmapTest(BitcoinTestFramework):\r\n         os.remove(self.default_asmap)\r\n \r\n     def test_asmap_interaction_with_addrman_containing_entries(self):\r\n-        self.log.info(\"Test bitcoind -asmap with an addrman containing new and tried entries\")\r\n+        self.log.info(\"Test bitcoind -asmap restart with addrman containing new and tried entries\")\r\n         self.stop_node(0)\r\n         shutil.copyfile(self.asmap_raw, self.default_asmap)\r\n         self.start_node(0, [\"-asmap\", \"-checkaddrman=1\"])\r\n         self.fill_addrman(node_id=0)\r\n         self.restart_node(0, [\"-asmap\", \"-checkaddrman=1\"])\r\n-        with self.node.assert_debug_log(expected_msgs=[\"Addrman checks started: new 2, tried 2, total 4\"]):\r\n+        with self.node.assert_debug_log(\r\n+            expected_msgs=[\r\n+                \"Addrman checks started: new 2, tried 2, total 4\",\r\n+                \"Addrman checks completed successfully\",\r\n+            ]\r\n+        ):\r\n             self.node.getnodeaddresses()  # getnodeaddresses re-runs the addrman checks\r\n         os.remove(self.default_asmap)\r\n \r\ndiff --git a/test/functional/rpc_net.py b/test/functional/rpc_net.py\r\nindex e2dfa3ea23..4f5d8ce241 100755\r\n--- a/test/functional/rpc_net.py\r\n+++ b/test/functional/rpc_net.py\r\n@@ -239,6 +239,14 @@ class NetTest(BitcoinTestFramework):\r\n         assert_raises_rpc_error(-8, \"Network not recognized: Foo\", self.nodes[0].getnodeaddresses, 1, \"Foo\")\r\n \r\n     def test_addpeeraddress(self):\r\n+        \"\"\"RPC addpeeraddress sets the source address equal to the destination address.\r\n+        If an address with the same /16 as an existing new entry is passed, it will be\r\n+        placed in the same new bucket and have a 1/64 chance of the bucket positions\r\n+        colliding (depending on the value of nKey in the addrman), in which case the\r\n+        new address won't be added.  The probability of collision can be reduced to\r\n+        1/2^16 = 1/65536 by using an address from a different /16.  We avoid this here\r\n+        by first testing adding a tried table entry before testing adding a new table one.\r\n+        \"\"\"\r\n         self.log.info(\"Test addpeeraddress\")\r\n         self.restart_node(1, [\"-checkaddrman=1\"])\r\n         node = self.nodes[1]\r\n@@ -252,19 +260,21 @@ class NetTest(BitcoinTestFramework):\r\n         assert_equal(node.addpeeraddress(address=\"\", port=8333), {\"success\": False})\r\n         assert_equal(node.getnodeaddresses(count=0), [])\r\n \r\n-        self.log.debug(\"Test that adding a valid address succeeds\")\r\n-        assert_equal(node.addpeeraddress(address=\"1.2.3.4\", port=8333), {\"success\": True})\r\n-        addrs = node.getnodeaddresses(count=0)\r\n-        assert_equal(len(addrs), 1)\r\n-        assert_equal(addrs[0][\"address\"], \"1.2.3.4\")\r\n-        assert_equal(addrs[0][\"port\"], 8333)\r\n+        self.log.debug(\"Test that adding a valid address to the tried table succeeds\")\r\n+        assert_equal(node.addpeeraddress(address=\"1.2.3.4\", tried=True, port=8333), {\"success\": True})\r\n+        with node.assert_debug_log(expected_msgs=[\"Addrman checks started: new 0, tried 1, total 1\"]):\r\n+            addrs = node.getnodeaddresses(count=0)  # getnodeaddresses re-runs the addrman checks\r\n+            assert_equal(len(addrs), 1)\r\n+            assert_equal(addrs[0][\"address\"], \"1.2.3.4\")\r\n+            assert_equal(addrs[0][\"port\"], 8333)\r\n \r\n-        self.log.debug(\"Test that adding the same address again when already present fails\")\r\n-        assert_equal(node.addpeeraddress(address=\"1.2.3.4\", port=8333), {\"success\": False})\r\n+        self.log.debug(\"Test that adding an already-present tried address to the new and tried tables fails\")\r\n+        for value in [True, False]:\r\n+            assert_equal(node.addpeeraddress(address=\"1.2.3.4\", tried=value, port=8333), {\"success\": False})\r\n         assert_equal(len(node.getnodeaddresses(count=0)), 1)\r\n \r\n-        self.log.debug(\"Test adding a second address (with a different /16) to the tried table\")\r\n-        assert_equal(node.addpeeraddress(address=\"2.0.0.0\", port=8333, tried=True), {\"success\": True})\r\n+        self.log.debug(\"Test that adding a second address, this time to the new table, succeeds\")\r\n+        assert_equal(node.addpeeraddress(address=\"2.0.0.0\", port=8333), {\"success\": True})\r\n         with node.assert_debug_log(expected_msgs=[\"Addrman checks started: new 1, tried 1, total 2\"]):\r\n             addrs = node.getnodeaddresses(count=0)  # getnodeaddresses re-runs the addrman checks\r\n```\r\n</p></details>\r\n",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#issuecomment-920084245",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22831"
    },
    {
      "event": "commented",
      "id": 920199755,
      "node_id": "IC_kwDOABII58422SJL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/920199755",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-15T16:57:07Z",
      "updated_at": "2021-09-15T16:57:07Z",
      "author_association": "MEMBER",
      "body": "utACK cdaab90662a54e331de0e49a89596bbb94a8ac45\r\n\r\nThis isn't a blocker, but I've never liked relying too heavily on the `assert_debug_log()` pattern in the functional tests. It's essentially asserting that a specific line of code is hit, which couples the functional tests very closely with the implementation. Ideally, the functional tests would test the functionality, and the implementation could be changed without having to update the tests.\r\n\r\nIn this case, we could extend the `getnodeaddresses` RPC to return whether the address is in the tried or new table, and (if it's in the new table) its refcount. That'd allow us to more closely test the contents of the addrman using a public interface.\r\n\r\nLike I said, not a blocker for this PR, but perhaps something to consider as a potential follow-up.",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#issuecomment-920199755",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22831"
    },
    {
      "event": "commented",
      "id": 920214881,
      "node_id": "IC_kwDOABII58422V1h",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/920214881",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-15T17:18:40Z",
      "updated_at": "2021-09-19T14:40:09Z",
      "author_association": "MEMBER",
      "body": "@jnewbery Agree--that sounds like a good idea for a possible follow-up.  Edit: proposed in #23035.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#issuecomment-920214881",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22831"
    },
    {
      "event": "mentioned",
      "id": 5307445658,
      "node_id": "MEE_lADOABII5846iuygzwAAAAE8WTGa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5307445658",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-15T17:18:41Z"
    },
    {
      "event": "subscribed",
      "id": 5307445663,
      "node_id": "SE_lADOABII5846iuygzwAAAAE8WTGf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5307445663",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-15T17:18:41Z"
    },
    {
      "event": "reviewed",
      "id": 757247685,
      "node_id": "PRR_kwDOABII584tIq7F",
      "url": null,
      "actor": null,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK cdaab90662a54e331de0e49a89596bbb94a8ac45\r\n\r\nThe new test `Test bitcoind -asmap restart with addrman containing new and tried entries` fails before the fix (`50fd77045e~`) and passes with the fix (`50fd77045e`).",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#pullrequestreview-757247685",
      "submitted_at": "2021-09-17T11:57:14Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
    },
    {
      "event": "commented",
      "id": 923081352,
      "node_id": "IC_kwDOABII5843BRqI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/923081352",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-20T16:24:45Z",
      "updated_at": "2021-09-20T16:24:45Z",
      "author_association": "MEMBER",
      "body": "This seems ready for merge.",
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#issuecomment-923081352",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22831"
    },
    {
      "event": "commented",
      "id": 923124016,
      "node_id": "IC_kwDOABII5843BcEw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/923124016",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-20T17:19:12Z",
      "updated_at": "2021-09-20T17:19:12Z",
      "author_association": "MEMBER",
      "body": "re-ACK cdaab90662a54e331de0e49a89596bbb94a8ac45 (based on code review of diff to d586817)",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#issuecomment-923124016",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22831"
    },
    {
      "event": "commented",
      "id": 923207453,
      "node_id": "IC_kwDOABII5843Bwcd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/923207453",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-20T19:16:30Z",
      "updated_at": "2021-09-20T19:16:30Z",
      "author_association": "MEMBER",
      "body": "> Therefore, #22791 fixed not just the proximal cause of the bug (initialization order), but also the ultimate cause (bad encapsulation and partially-initalized objects) by making that member const and private. Just changing the initialization order would be a partial fix, rather than eliminating a whole class of bugs.\r\n\r\nI don't want to belabor drama here, but there is a categorical difference between (i) extant bugs and (ii) footgun conditions that might lead to a bug. One case requires a clear and immediate fix (and if feasible an accompanying test) and the other can be responsibly treated in a number of ways with varying rapidity.\r\n\r\n> I'd encourage everyone to take a deep breath and remember that we're all on the same team, and everyone is here to improve the project.\r\n\r\nWhile I appreciate the sentiment here, this is a controversial, security-critical project that is likely to someday experience subversion, overt or otherwise. Consequently we should be eager to recognize and address process failures, and we should certainly not be gunshy about adding test coverage, whether or not its implementation is ideal.",
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#issuecomment-923207453",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22831"
    },
    {
      "event": "commented",
      "id": 923717891,
      "node_id": "IC_kwDOABII5843DtED",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/923717891",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-21T07:34:13Z",
      "updated_at": "2021-09-21T07:34:13Z",
      "author_association": "MEMBER",
      "body": "Thanks for adjusting this to use `addpeeraddress` (and hashing out the non-determinism issues that came with it).\r\n\r\nConcept ACK (didn't re-review)",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#issuecomment-923717891",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22831"
    },
    {
      "event": "merged",
      "id": 5333432157,
      "node_id": "ME_lADOABII5846iuygzwAAAAE95bdd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5333432157",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "223ad2fd0d355a9caf3c12fe2a286030d7f3190f",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/223ad2fd0d355a9caf3c12fe2a286030d7f3190f",
      "created_at": "2021-09-21T07:36:07Z"
    },
    {
      "event": "closed",
      "id": 5333432180,
      "node_id": "CE_lADOABII5846iuygzwAAAAE95bd0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5333432180",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-21T07:36:07Z"
    },
    {
      "event": "head_ref_deleted",
      "id": 5333447037,
      "node_id": "HRDE_lADOABII5846iuygzwAAAAE95fF9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5333447037",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-21T07:39:01Z"
    },
    {
      "event": "commented",
      "id": 923753972,
      "node_id": "IC_kwDOABII5843D130",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/923753972",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-21T08:25:06Z",
      "updated_at": "2021-09-21T08:25:06Z",
      "author_association": "MEMBER",
      "body": "@jamesob - I'm not going to continue the discussion of process in this PR, since I think we're basically going in circles at this point. However, I do want to respond to your final point:\r\n\r\n> we should certainly not be gunshy about adding test coverage, whether or not its implementation is ideal.\r\n\r\nI totally disagree with this. Our standards for test code should be as high as for code in the product itself, since all code (test or production) carries an ongoing maintenance cost. If a proposed test [introduces difficult-to-maintain binary files](https://github.com/bitcoin/bitcoin/pull/22831#discussion_r704550576) or [intermittently fails](https://github.com/bitcoin/bitcoin/pull/22831#discussion_r708302639), then those issues absolutely should be brought up in review and resolved before merge. I agree with @fanquake's assessment here:\r\n\r\n> I think this perspective is important because it can determine how we fix bugs. In this case, the bug is already fixed, and this PR is adding regression testing (which is important!). However given the impact and scope are low, there isn't any sort of rush to get this regression testing added that we can't do it \"right\" the first time.\r\n\r\nThere's no rush here. A merge-first-fix-later attitude increases the overall cost of this code and transfers that cost onto developers who'll have to maintain/modify the tests later.",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#issuecomment-923753972",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22831"
    },
    {
      "event": "mentioned",
      "id": 5333716614,
      "node_id": "MEE_lADOABII5846iuygzwAAAAE96g6G",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5333716614",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-21T08:25:06Z"
    },
    {
      "event": "subscribed",
      "id": 5333716617,
      "node_id": "SE_lADOABII5846iuygzwAAAAE96g6J",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5333716617",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-21T08:25:06Z"
    },
    {
      "event": "mentioned",
      "id": 5333716625,
      "node_id": "MEE_lADOABII5846iuygzwAAAAE96g6R",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5333716625",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-21T08:25:06Z"
    },
    {
      "event": "subscribed",
      "id": 5333716631,
      "node_id": "SE_lADOABII5846iuygzwAAAAE96g6X",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5333716631",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-21T08:25:06Z"
    },
    {
      "event": "referenced",
      "id": 5337126160,
      "node_id": "REFE_lADOABII5846iuygzwAAAAE-HhUQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5337126160",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "e7cc3a2168058c17b1d0b840ebef5409ec784e14",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/e7cc3a2168058c17b1d0b840ebef5409ec784e14",
      "created_at": "2021-09-21T16:45:15Z"
    },
    {
      "event": "referenced",
      "id": 7628027428,
      "node_id": "REFE_lADOABII5846iuygzwAAAAHGqnYk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7628027428",
      "actor": {
        "login": "Fabcien",
        "id": 44533924,
        "node_id": "MDQ6VXNlcjQ0NTMzOTI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/44533924?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Fabcien",
        "html_url": "https://github.com/Fabcien",
        "followers_url": "https://api.github.com/users/Fabcien/followers",
        "following_url": "https://api.github.com/users/Fabcien/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Fabcien/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Fabcien/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Fabcien/subscriptions",
        "organizations_url": "https://api.github.com/users/Fabcien/orgs",
        "repos_url": "https://api.github.com/users/Fabcien/repos",
        "events_url": "https://api.github.com/users/Fabcien/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Fabcien/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "db2ebc85a4e464d32f14558de7316e7de4384a5a",
      "commit_url": "https://api.github.com/repos/Bitcoin-ABC/bitcoin-abc/commits/db2ebc85a4e464d32f14558de7316e7de4384a5a",
      "created_at": "2022-10-20T07:15:59Z"
    },
    {
      "event": "locked",
      "id": 7699631275,
      "node_id": "LOE_lADOABII5846iuygzwAAAAHK7wyr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7699631275",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-30T19:09:27Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/698233066",
      "pull_request_review_id": 741320625,
      "id": 698233066,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5ODIzMzA2Ng==",
      "diff_hunk": "@@ -38,6 +41,10 @@ class AsmapTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 1\n \n+    def set_peers_dat(self):\n+        peers_data = os.path.join(os.path.dirname(os.path.realpath(__file__)), 'data/peers.dat')\n+        shutil.copyfile(peers_data, os.path.join(self.datadir, 'peers.dat'))",
      "path": "test/functional/feature_asmap.py",
      "position": null,
      "original_position": 18,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "6d9da9bc9695ba262d36d444bffce87e0f2481cc",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The file is .2 MB, so I am wondering if there is a way to generate it with a few lines of python? Can `addpeeraddress` fill the tried table?",
      "created_at": "2021-08-30T06:45:27Z",
      "updated_at": "2021-08-30T06:45:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r698233066",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/698233066"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 45,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/698235542",
      "pull_request_review_id": 741323656,
      "id": 698235542,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5ODIzNTU0Mg==",
      "diff_hunk": "@@ -38,6 +41,10 @@ class AsmapTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 1\n \n+    def set_peers_dat(self):\n+        peers_data = os.path.join(os.path.dirname(os.path.realpath(__file__)), 'data/peers.dat')\n+        shutil.copyfile(peers_data, os.path.join(self.datadir, 'peers.dat'))",
      "path": "test/functional/feature_asmap.py",
      "position": null,
      "original_position": 18,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "6d9da9bc9695ba262d36d444bffce87e0f2481cc",
      "in_reply_to_id": 698233066,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Didn't immediately see how to add tried entries programmatically but I think the file can be much smaller if concept ack.",
      "created_at": "2021-08-30T06:50:22Z",
      "updated_at": "2021-08-30T06:50:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r698235542",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/698235542"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 45,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/698262027",
      "pull_request_review_id": 741358818,
      "id": 698262027,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5ODI2MjAyNw==",
      "diff_hunk": "@@ -38,6 +41,10 @@ class AsmapTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 1\n \n+    def set_peers_dat(self):\n+        peers_data = os.path.join(os.path.dirname(os.path.realpath(__file__)), 'data/peers.dat')\n+        shutil.copyfile(peers_data, os.path.join(self.datadir, 'peers.dat'))",
      "path": "test/functional/feature_asmap.py",
      "position": null,
      "original_position": 18,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "6d9da9bc9695ba262d36d444bffce87e0f2481cc",
      "in_reply_to_id": 698233066,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "An alternative is always to add the data to https://github.com/bitcoin-core/qa-assets, which doesn't slow down the main repo clone at all.",
      "created_at": "2021-08-30T07:36:54Z",
      "updated_at": "2021-08-30T07:37:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r698262027",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/698262027"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 45,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/698317771",
      "pull_request_review_id": 741430423,
      "id": 698317771,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5ODMxNzc3MQ==",
      "diff_hunk": "@@ -38,6 +41,10 @@ class AsmapTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 1\n \n+    def set_peers_dat(self):\n+        peers_data = os.path.join(os.path.dirname(os.path.realpath(__file__)), 'data/peers.dat')\n+        shutil.copyfile(peers_data, os.path.join(self.datadir, 'peers.dat'))",
      "path": "test/functional/feature_asmap.py",
      "position": null,
      "original_position": 18,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "6d9da9bc9695ba262d36d444bffce87e0f2481cc",
      "in_reply_to_id": 698233066,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Reduced the `peers.dat` size 20x while still ensuring the test passes/fails\r\n\r\nbefore\r\n```\r\n236 KB\r\nAddrman checks started: new 3157, tried 96, total 3253\r\n```\r\nafter\r\n```\r\n11.9 KB\r\nAddrman checks started: new 95, tried 3, total 98\r\n```\r\n\r\nFiles in `test/functional/data` for me locally\r\n```\r\n$ ls -l test/functional/data\r\n-rw-r--r-- 1 88238 Jun  5 16:07 blockheader_testnet3.hex\r\n-rw-r--r-- 1  8056 Aug 28 23:27 invalid_txs.py\r\n-rw-r--r-- 1 12137 Aug 30 11:12 peers.dat\r\ndrwxr-xr-x 2  4096 Aug 19 14:46 __pycache__\r\n-rw-r--r-- 1  3431 Jun  5 16:07 rpc_bip67.json\r\n-rw-r--r-- 1 57899 Jun  5 16:07 rpc_getblockstats.json\r\n-rw-r--r-- 1 47236 Jun  5 16:07 rpc_psbt.json\r\n```\r\n\r\n",
      "created_at": "2021-08-30T09:01:19Z",
      "updated_at": "2021-08-30T09:17:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r698317771",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/698317771"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 45,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/698318885",
      "pull_request_review_id": 741431851,
      "id": 698318885,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5ODMxODg4NQ==",
      "diff_hunk": "@@ -38,6 +41,10 @@ class AsmapTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 1\n \n+    def set_peers_dat(self):\n+        peers_data = os.path.join(os.path.dirname(os.path.realpath(__file__)), 'data/peers.dat')\n+        shutil.copyfile(peers_data, os.path.join(self.datadir, 'peers.dat'))",
      "path": "test/functional/feature_asmap.py",
      "position": null,
      "original_position": 18,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "6d9da9bc9695ba262d36d444bffce87e0f2481cc",
      "in_reply_to_id": 698233066,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "(The new -checkaddrman option and logging is super helpful :)",
      "created_at": "2021-08-30T09:02:58Z",
      "updated_at": "2021-08-30T09:02:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r698318885",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/698318885"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 45,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/701895523",
      "pull_request_review_id": 746112693,
      "id": 701895523,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcwMTg5NTUyMw==",
      "diff_hunk": "@@ -1184,10 +1213,12 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         } else {\n             // Addrman can be in an inconsistent state after failure, reset it\n             node.addrman = std::make_unique<CAddrMan>(/* deterministic */ false, /* consistency_check_ratio */ check_addrman);\n+            node.addrman->m_asmap = asmap;",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 47,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "0cdfe7fc9040bcecc6cb71c455b386659a8340fa",
      "in_reply_to_id": null,
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why making this assignment twice? The line `node.addrman->m_asmap = asmap;` is literally repeated? I think it could be done afterwards?",
      "created_at": "2021-09-03T13:33:51Z",
      "updated_at": "2021-09-03T13:33:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r701895523",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/701895523"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1216,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/701896544",
      "pull_request_review_id": 746114121,
      "id": 701896544,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcwMTg5NjU0NA==",
      "diff_hunk": "@@ -1184,10 +1213,12 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         } else {\n             // Addrman can be in an inconsistent state after failure, reset it\n             node.addrman = std::make_unique<CAddrMan>(/* deterministic */ false, /* consistency_check_ratio */ check_addrman);\n+            node.addrman->m_asmap = asmap;",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 47,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "0cdfe7fc9040bcecc6cb71c455b386659a8340fa",
      "in_reply_to_id": 701895523,
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ah, I realized that's the whole point of this commit.",
      "created_at": "2021-09-03T13:35:14Z",
      "updated_at": "2021-09-03T13:35:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r701896544",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/701896544"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1216,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/704550576",
      "pull_request_review_id": 749323336,
      "id": 704550576,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcwNDU1MDU3Ng==",
      "diff_hunk": "@@ -0,0 +1,184 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020-2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test addrman/checkaddrman/asmap functionality.\"\"\"\n+\n+import os\n+import shutil\n+import struct\n+\n+from test_framework.messages import ser_uint256, hash256\n+from test_framework.p2p import MAGIC_BYTES\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+\n+\n+DEFAULT_ASMAP_FILENAME = \"ip_asn.map\"  # defined in src/init.cpp\n+ASMAP = \"../../src/test/data/asmap.raw\"  # path to unit test skeleton asmap\n+VERSION = \"fec61fa21a9f46f3b17bdcd660d7f4cd90b966aad3aec593c99b35f0aca15853\"\n+\n+\n+def expected_messages(filename):\n+    return [\n+        f'Opened asmap file \"{filename}\" (59 bytes) from disk',\n+        f\"Using asmap version {VERSION} for IP bucketing\",\n+    ]\n+\n+\n+def serialize_addrman(*, format=1, lowest_compatible=3):\n+    new = []\n+    tried = []\n+    INCOMPATIBILITY_BASE = 32\n+    r = MAGIC_BYTES[\"regtest\"]\n+    r += struct.pack(\"B\", format)\n+    r += struct.pack(\"B\", INCOMPATIBILITY_BASE + lowest_compatible)\n+    r += ser_uint256(1)\n+    r += struct.pack(\"i\", len(new))\n+    r += struct.pack(\"i\", len(tried))\n+    ADDRMAN_NEW_BUCKET_COUNT = 1 << 10\n+    r += struct.pack(\"i\", ADDRMAN_NEW_BUCKET_COUNT ^ (1 << 30))\n+    for _ in range(ADDRMAN_NEW_BUCKET_COUNT):\n+        r += struct.pack(\"i\", 0)\n+    checksum = hash256(r)\n+    r += checksum\n+    return r\n+\n+\n+def write_addrman(peers_dat, **kwargs):\n+    with open(peers_dat, \"wb\") as f:\n+        f.write(serialize_addrman(**kwargs))\n+\n+\n+class AddrmanAsmapTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+\n+    def set_peers_dat(self):\n+        \"\"\"Copy a peers.dat containing tried table entries into the data directory.\"\"\"\n+        peers_data = os.path.join(os.path.dirname(os.path.realpath(__file__)), \"data/peers.dat\")",
      "path": "test/functional/feature_addrman_asmap.py",
      "position": null,
      "original_position": 59,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "4cda5cf42118bcaf15ea3951d5189af8db6aa365",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "An alternative to adding a binary file would be to hack something together with the `serialize_addrman` function in this file",
      "created_at": "2021-09-08T15:48:01Z",
      "updated_at": "2021-09-08T15:48:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r704550576",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/704550576"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 59,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/705086054",
      "pull_request_review_id": 750010565,
      "id": 705086054,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcwNTA4NjA1NA==",
      "diff_hunk": "@@ -0,0 +1,184 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020-2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test addrman/checkaddrman/asmap functionality.\"\"\"\n+\n+import os\n+import shutil\n+import struct\n+\n+from test_framework.messages import ser_uint256, hash256\n+from test_framework.p2p import MAGIC_BYTES\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+\n+\n+DEFAULT_ASMAP_FILENAME = \"ip_asn.map\"  # defined in src/init.cpp\n+ASMAP = \"../../src/test/data/asmap.raw\"  # path to unit test skeleton asmap\n+VERSION = \"fec61fa21a9f46f3b17bdcd660d7f4cd90b966aad3aec593c99b35f0aca15853\"\n+\n+\n+def expected_messages(filename):\n+    return [\n+        f'Opened asmap file \"{filename}\" (59 bytes) from disk',\n+        f\"Using asmap version {VERSION} for IP bucketing\",\n+    ]\n+\n+\n+def serialize_addrman(*, format=1, lowest_compatible=3):\n+    new = []\n+    tried = []\n+    INCOMPATIBILITY_BASE = 32\n+    r = MAGIC_BYTES[\"regtest\"]\n+    r += struct.pack(\"B\", format)\n+    r += struct.pack(\"B\", INCOMPATIBILITY_BASE + lowest_compatible)\n+    r += ser_uint256(1)\n+    r += struct.pack(\"i\", len(new))\n+    r += struct.pack(\"i\", len(tried))\n+    ADDRMAN_NEW_BUCKET_COUNT = 1 << 10\n+    r += struct.pack(\"i\", ADDRMAN_NEW_BUCKET_COUNT ^ (1 << 30))\n+    for _ in range(ADDRMAN_NEW_BUCKET_COUNT):\n+        r += struct.pack(\"i\", 0)\n+    checksum = hash256(r)\n+    r += checksum\n+    return r\n+\n+\n+def write_addrman(peers_dat, **kwargs):\n+    with open(peers_dat, \"wb\") as f:\n+        f.write(serialize_addrman(**kwargs))\n+\n+\n+class AddrmanAsmapTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+\n+    def set_peers_dat(self):\n+        \"\"\"Copy a peers.dat containing tried table entries into the data directory.\"\"\"\n+        peers_data = os.path.join(os.path.dirname(os.path.realpath(__file__)), \"data/peers.dat\")",
      "path": "test/functional/feature_addrman_asmap.py",
      "position": null,
      "original_position": 59,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "4cda5cf42118bcaf15ea3951d5189af8db6aa365",
      "in_reply_to_id": 704550576,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I agree, it would be a logical next step if this is merged but this can do the job for now.\r\n\r\n(For now I think it's fundamental to have these regression tests in place quickly, given the number of recent bugs that escaped review, the reproducible criticality of the last bug that this adds a test for, and the addrman/asmap refactoring taking place.)",
      "created_at": "2021-09-09T08:01:33Z",
      "updated_at": "2021-09-09T08:01:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r705086054",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/705086054"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 59,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/706154132",
      "pull_request_review_id": 751374672,
      "id": 706154132,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcwNjE1NDEzMg==",
      "diff_hunk": "@@ -12,7 +12,10 @@\n \n 3. `bitcoind -asmap=<relative path>`, using the unit test skeleton asmap\n \n-4. `bitcoind -asmap/-asmap=` with no file specified, using the default asmap\n+4. `bitcoind -asmap/-asmap=` with no file specified, using the default asmap,\n+    combined with `-checkaddrman=1` as a regression test to ensure the correct\n+    order of asmap/addrman initialization on bitcoind startup, failing which\n+    the addrman tried table became corrupted and CAddrman::Check() aborted.",
      "path": "test/functional/feature_asmap.py",
      "position": null,
      "original_position": 8,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "916d54ac4569a9d462c40224724bf6027c349963",
      "in_reply_to_id": null,
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'm not sure mentioning initialization order here is needed/wanted, as `-checkaddrman` is just a generic check for corruption. I also don't think we should leak implementation details like `CAddrman::Check()`. Naming the function doesn't add value, and it's the kind of thing that just becomes outdated / needs changing again in a change like #22872.",
      "created_at": "2021-09-10T12:50:20Z",
      "updated_at": "2021-09-10T13:19:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r706154132",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/706154132"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/706167603",
      "pull_request_review_id": 751374672,
      "id": 706167603,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcwNjE2NzYwMw==",
      "diff_hunk": "@@ -98,6 +100,14 @@ def test_empty_asmap(self):\n         self.node.assert_start_raises_init_error(extra_args=['-asmap'], expected_msg=msg)\n         os.remove(self.default_asmap)\n \n+    def test_missing_peers_dat_with_addrman_checks(self):",
      "path": "test/functional/feature_asmap.py",
      "position": null,
      "original_position": 13,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "0ab75d87b7ff1cb6ebb69ffe68342b88403230b9",
      "in_reply_to_id": null,
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 0ab75d87b7ff1cb6ebb69ffe68342b88403230b9: This commit is confusing because it adds an addrman test to `feature_asmap.py`, which from what I can see is basically the same test that is [already in feature_addrman.py](https://github.com/bitcoin/bitcoin/blob/053a5fc7d912d597cd6dc7376b479420d1eae1c0/test/functional/feature_addrman.py#L82), with the addition of `-checkaddrman`, so isn't actually asmap specific? Later in this PR the two files get merged together, so either this new version or the existing version essentially gets deleted. Why not just add `-checkaddrman` to the existing test after the merge, rather than another commit which is essentially duplicate code.",
      "created_at": "2021-09-10T13:09:31Z",
      "updated_at": "2021-09-10T13:19:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r706167603",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/706167603"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 103,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/706184008",
      "pull_request_review_id": 751414503,
      "id": 706184008,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcwNjE4NDAwOA==",
      "diff_hunk": "@@ -98,6 +100,14 @@ def test_empty_asmap(self):\n         self.node.assert_start_raises_init_error(extra_args=['-asmap'], expected_msg=msg)\n         os.remove(self.default_asmap)\n \n+    def test_missing_peers_dat_with_addrman_checks(self):",
      "path": "test/functional/feature_asmap.py",
      "position": null,
      "original_position": 13,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "0ab75d87b7ff1cb6ebb69ffe68342b88403230b9",
      "in_reply_to_id": 706167603,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This commit was earlier.\r\n\r\nThe goal was to have minimum regression tests in place before the fix, or all the refactoring, or at least as soon as possible, to reduce the chance of accidentally adding more critical bugs.\r\n\r\nI'm trying to catch up to a moving target and may slim this back down to just the first regression test.",
      "created_at": "2021-09-10T13:31:27Z",
      "updated_at": "2021-09-10T13:31:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r706184008",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/706184008"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 103,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/706190957",
      "pull_request_review_id": 751423973,
      "id": 706190957,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcwNjE5MDk1Nw==",
      "diff_hunk": "@@ -12,7 +12,10 @@\n \n 3. `bitcoind -asmap=<relative path>`, using the unit test skeleton asmap\n \n-4. `bitcoind -asmap/-asmap=` with no file specified, using the default asmap\n+4. `bitcoind -asmap/-asmap=` with no file specified, using the default asmap,\n+    combined with `-checkaddrman=1` as a regression test to ensure the correct\n+    order of asmap/addrman initialization on bitcoind startup, failing which\n+    the addrman tried table became corrupted and CAddrman::Check() aborted.",
      "path": "test/functional/feature_asmap.py",
      "position": null,
      "original_position": 8,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "916d54ac4569a9d462c40224724bf6027c349963",
      "in_reply_to_id": 706154132,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I agree, and all this is removed in the commit that consolidates the tests.",
      "created_at": "2021-09-10T13:40:37Z",
      "updated_at": "2021-09-10T13:40:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r706190957",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/706190957"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/706229663",
      "pull_request_review_id": 751476541,
      "id": 706229663,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcwNjIyOTY2Mw==",
      "diff_hunk": "@@ -12,7 +12,10 @@\n \n 3. `bitcoind -asmap=<relative path>`, using the unit test skeleton asmap\n \n-4. `bitcoind -asmap/-asmap=` with no file specified, using the default asmap\n+4. `bitcoind -asmap/-asmap=` with no file specified, using the default asmap,\n+    combined with `-checkaddrman=1` as a regression test to ensure the correct\n+    order of asmap/addrman initialization on bitcoind startup, failing which\n+    the addrman tried table became corrupted and CAddrman::Check() aborted.",
      "path": "test/functional/feature_asmap.py",
      "position": null,
      "original_position": 8,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "916d54ac4569a9d462c40224724bf6027c349963",
      "in_reply_to_id": 706154132,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done, slimmed down the doc.\r\n\r\n```diff\r\n 4. `bitcoind -asmap/-asmap=` with no file specified, using the default asmap\r\n+    combined with `-checkaddrman=1`\r\n```\r\n",
      "created_at": "2021-09-10T14:29:49Z",
      "updated_at": "2021-09-10T14:29:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r706229663",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/706229663"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/706229906",
      "pull_request_review_id": 751476834,
      "id": 706229906,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcwNjIyOTkwNg==",
      "diff_hunk": "@@ -98,6 +100,14 @@ def test_empty_asmap(self):\n         self.node.assert_start_raises_init_error(extra_args=['-asmap'], expected_msg=msg)\n         os.remove(self.default_asmap)\n \n+    def test_missing_peers_dat_with_addrman_checks(self):",
      "path": "test/functional/feature_asmap.py",
      "position": null,
      "original_position": 13,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "0ab75d87b7ff1cb6ebb69ffe68342b88403230b9",
      "in_reply_to_id": 706167603,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Dropped",
      "created_at": "2021-09-10T14:30:04Z",
      "updated_at": "2021-09-10T14:30:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r706229906",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/706229906"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 103,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/706261953",
      "pull_request_review_id": 751520000,
      "id": 706261953,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcwNjI2MTk1Mw==",
      "diff_hunk": "@@ -0,0 +1,184 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020-2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test addrman/checkaddrman/asmap functionality.\"\"\"\n+\n+import os\n+import shutil\n+import struct\n+\n+from test_framework.messages import ser_uint256, hash256\n+from test_framework.p2p import MAGIC_BYTES\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+\n+\n+DEFAULT_ASMAP_FILENAME = \"ip_asn.map\"  # defined in src/init.cpp\n+ASMAP = \"../../src/test/data/asmap.raw\"  # path to unit test skeleton asmap\n+VERSION = \"fec61fa21a9f46f3b17bdcd660d7f4cd90b966aad3aec593c99b35f0aca15853\"\n+\n+\n+def expected_messages(filename):\n+    return [\n+        f'Opened asmap file \"{filename}\" (59 bytes) from disk',\n+        f\"Using asmap version {VERSION} for IP bucketing\",\n+    ]\n+\n+\n+def serialize_addrman(*, format=1, lowest_compatible=3):\n+    new = []\n+    tried = []\n+    INCOMPATIBILITY_BASE = 32\n+    r = MAGIC_BYTES[\"regtest\"]\n+    r += struct.pack(\"B\", format)\n+    r += struct.pack(\"B\", INCOMPATIBILITY_BASE + lowest_compatible)\n+    r += ser_uint256(1)\n+    r += struct.pack(\"i\", len(new))\n+    r += struct.pack(\"i\", len(tried))\n+    ADDRMAN_NEW_BUCKET_COUNT = 1 << 10\n+    r += struct.pack(\"i\", ADDRMAN_NEW_BUCKET_COUNT ^ (1 << 30))\n+    for _ in range(ADDRMAN_NEW_BUCKET_COUNT):\n+        r += struct.pack(\"i\", 0)\n+    checksum = hash256(r)\n+    r += checksum\n+    return r\n+\n+\n+def write_addrman(peers_dat, **kwargs):\n+    with open(peers_dat, \"wb\") as f:\n+        f.write(serialize_addrman(**kwargs))\n+\n+\n+class AddrmanAsmapTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+\n+    def set_peers_dat(self):\n+        \"\"\"Copy a peers.dat containing tried table entries into the data directory.\"\"\"\n+        peers_data = os.path.join(os.path.dirname(os.path.realpath(__file__)), \"data/peers.dat\")",
      "path": "test/functional/feature_addrman_asmap.py",
      "position": null,
      "original_position": 59,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "4cda5cf42118bcaf15ea3951d5189af8db6aa365",
      "in_reply_to_id": 704550576,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Obviously not a blocker, but if the file is removed after this is merged, then it would be better to not commit it in the first place and use `serialize_addrman` (or similar) from the beginning.",
      "created_at": "2021-09-10T15:10:57Z",
      "updated_at": "2021-09-10T15:10:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r706261953",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/706261953"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 59,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/706272259",
      "pull_request_review_id": 751533679,
      "id": 706272259,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcwNjI3MjI1OQ==",
      "diff_hunk": "@@ -0,0 +1,184 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020-2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test addrman/checkaddrman/asmap functionality.\"\"\"\n+\n+import os\n+import shutil\n+import struct\n+\n+from test_framework.messages import ser_uint256, hash256\n+from test_framework.p2p import MAGIC_BYTES\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+\n+\n+DEFAULT_ASMAP_FILENAME = \"ip_asn.map\"  # defined in src/init.cpp\n+ASMAP = \"../../src/test/data/asmap.raw\"  # path to unit test skeleton asmap\n+VERSION = \"fec61fa21a9f46f3b17bdcd660d7f4cd90b966aad3aec593c99b35f0aca15853\"\n+\n+\n+def expected_messages(filename):\n+    return [\n+        f'Opened asmap file \"{filename}\" (59 bytes) from disk',\n+        f\"Using asmap version {VERSION} for IP bucketing\",\n+    ]\n+\n+\n+def serialize_addrman(*, format=1, lowest_compatible=3):\n+    new = []\n+    tried = []\n+    INCOMPATIBILITY_BASE = 32\n+    r = MAGIC_BYTES[\"regtest\"]\n+    r += struct.pack(\"B\", format)\n+    r += struct.pack(\"B\", INCOMPATIBILITY_BASE + lowest_compatible)\n+    r += ser_uint256(1)\n+    r += struct.pack(\"i\", len(new))\n+    r += struct.pack(\"i\", len(tried))\n+    ADDRMAN_NEW_BUCKET_COUNT = 1 << 10\n+    r += struct.pack(\"i\", ADDRMAN_NEW_BUCKET_COUNT ^ (1 << 30))\n+    for _ in range(ADDRMAN_NEW_BUCKET_COUNT):\n+        r += struct.pack(\"i\", 0)\n+    checksum = hash256(r)\n+    r += checksum\n+    return r\n+\n+\n+def write_addrman(peers_dat, **kwargs):\n+    with open(peers_dat, \"wb\") as f:\n+        f.write(serialize_addrman(**kwargs))\n+\n+\n+class AddrmanAsmapTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+\n+    def set_peers_dat(self):\n+        \"\"\"Copy a peers.dat containing tried table entries into the data directory.\"\"\"\n+        peers_data = os.path.join(os.path.dirname(os.path.realpath(__file__)), \"data/peers.dat\")",
      "path": "test/functional/feature_addrman_asmap.py",
      "position": null,
      "original_position": 59,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "4cda5cf42118bcaf15ea3951d5189af8db6aa365",
      "in_reply_to_id": 704550576,
      "user": {
        "login": "amitiuttarwar",
        "id": 1500952,
        "node_id": "MDQ6VXNlcjE1MDA5NTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amitiuttarwar",
        "html_url": "https://github.com/amitiuttarwar",
        "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
        "following_url": "https://api.github.com/users/amitiuttarwar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/amitiuttarwar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/amitiuttarwar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
        "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
        "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
        "events_url": "https://api.github.com/users/amitiuttarwar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "+1 to approach of `serialize_addrman` function.",
      "created_at": "2021-09-10T15:24:42Z",
      "updated_at": "2021-09-10T15:24:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r706272259",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/706272259"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 59,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/706283142",
      "pull_request_review_id": 751547894,
      "id": 706283142,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcwNjI4MzE0Mg==",
      "diff_hunk": "@@ -0,0 +1,184 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020-2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test addrman/checkaddrman/asmap functionality.\"\"\"\n+\n+import os\n+import shutil\n+import struct\n+\n+from test_framework.messages import ser_uint256, hash256\n+from test_framework.p2p import MAGIC_BYTES\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+\n+\n+DEFAULT_ASMAP_FILENAME = \"ip_asn.map\"  # defined in src/init.cpp\n+ASMAP = \"../../src/test/data/asmap.raw\"  # path to unit test skeleton asmap\n+VERSION = \"fec61fa21a9f46f3b17bdcd660d7f4cd90b966aad3aec593c99b35f0aca15853\"\n+\n+\n+def expected_messages(filename):\n+    return [\n+        f'Opened asmap file \"{filename}\" (59 bytes) from disk',\n+        f\"Using asmap version {VERSION} for IP bucketing\",\n+    ]\n+\n+\n+def serialize_addrman(*, format=1, lowest_compatible=3):\n+    new = []\n+    tried = []\n+    INCOMPATIBILITY_BASE = 32\n+    r = MAGIC_BYTES[\"regtest\"]\n+    r += struct.pack(\"B\", format)\n+    r += struct.pack(\"B\", INCOMPATIBILITY_BASE + lowest_compatible)\n+    r += ser_uint256(1)\n+    r += struct.pack(\"i\", len(new))\n+    r += struct.pack(\"i\", len(tried))\n+    ADDRMAN_NEW_BUCKET_COUNT = 1 << 10\n+    r += struct.pack(\"i\", ADDRMAN_NEW_BUCKET_COUNT ^ (1 << 30))\n+    for _ in range(ADDRMAN_NEW_BUCKET_COUNT):\n+        r += struct.pack(\"i\", 0)\n+    checksum = hash256(r)\n+    r += checksum\n+    return r\n+\n+\n+def write_addrman(peers_dat, **kwargs):\n+    with open(peers_dat, \"wb\") as f:\n+        f.write(serialize_addrman(**kwargs))\n+\n+\n+class AddrmanAsmapTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+\n+    def set_peers_dat(self):\n+        \"\"\"Copy a peers.dat containing tried table entries into the data directory.\"\"\"\n+        peers_data = os.path.join(os.path.dirname(os.path.realpath(__file__)), \"data/peers.dat\")",
      "path": "test/functional/feature_addrman_asmap.py",
      "position": null,
      "original_position": 59,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "4cda5cf42118bcaf15ea3951d5189af8db6aa365",
      "in_reply_to_id": 704550576,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Happy to look at it as a follow-up (or leave it for someone), but this does the job and by common sense ought to have been the first step in a responsible fix (or at least part of it), rather than ignored after https://github.com/bitcoin/bitcoin/pull/22791#issuecomment-907856179 while embarking on many refactoring and changes, no matter how desirable they may have been. Foot-dragging and bikeshedding doesn't seem appropriate here compared to the gravity of the bug that is covered.",
      "created_at": "2021-09-10T15:39:27Z",
      "updated_at": "2021-09-10T15:39:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r706283142",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/706283142"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 59,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/706299669",
      "pull_request_review_id": 751569373,
      "id": 706299669,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcwNjI5OTY2OQ==",
      "diff_hunk": "@@ -0,0 +1,184 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020-2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test addrman/checkaddrman/asmap functionality.\"\"\"\n+\n+import os\n+import shutil\n+import struct\n+\n+from test_framework.messages import ser_uint256, hash256\n+from test_framework.p2p import MAGIC_BYTES\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+\n+\n+DEFAULT_ASMAP_FILENAME = \"ip_asn.map\"  # defined in src/init.cpp\n+ASMAP = \"../../src/test/data/asmap.raw\"  # path to unit test skeleton asmap\n+VERSION = \"fec61fa21a9f46f3b17bdcd660d7f4cd90b966aad3aec593c99b35f0aca15853\"\n+\n+\n+def expected_messages(filename):\n+    return [\n+        f'Opened asmap file \"{filename}\" (59 bytes) from disk',\n+        f\"Using asmap version {VERSION} for IP bucketing\",\n+    ]\n+\n+\n+def serialize_addrman(*, format=1, lowest_compatible=3):\n+    new = []\n+    tried = []\n+    INCOMPATIBILITY_BASE = 32\n+    r = MAGIC_BYTES[\"regtest\"]\n+    r += struct.pack(\"B\", format)\n+    r += struct.pack(\"B\", INCOMPATIBILITY_BASE + lowest_compatible)\n+    r += ser_uint256(1)\n+    r += struct.pack(\"i\", len(new))\n+    r += struct.pack(\"i\", len(tried))\n+    ADDRMAN_NEW_BUCKET_COUNT = 1 << 10\n+    r += struct.pack(\"i\", ADDRMAN_NEW_BUCKET_COUNT ^ (1 << 30))\n+    for _ in range(ADDRMAN_NEW_BUCKET_COUNT):\n+        r += struct.pack(\"i\", 0)\n+    checksum = hash256(r)\n+    r += checksum\n+    return r\n+\n+\n+def write_addrman(peers_dat, **kwargs):\n+    with open(peers_dat, \"wb\") as f:\n+        f.write(serialize_addrman(**kwargs))\n+\n+\n+class AddrmanAsmapTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+\n+    def set_peers_dat(self):\n+        \"\"\"Copy a peers.dat containing tried table entries into the data directory.\"\"\"\n+        peers_data = os.path.join(os.path.dirname(os.path.realpath(__file__)), \"data/peers.dat\")",
      "path": "test/functional/feature_addrman_asmap.py",
      "position": null,
      "original_position": 59,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "4cda5cf42118bcaf15ea3951d5189af8db6aa365",
      "in_reply_to_id": 704550576,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> Happy to look at it as a follow-up (or leave it for someone)\r\n\r\nHappy to propose an alternative that uses `serialize_addrman`, if you don't want to do it here. I just think that we shouldn't be adding binary files to the git repo, especially short-lived ones, when it can be avoided. Personally I'd like to see both approaches, so that they can be compared and the best one be picked. Though, again, not a blocker. If this gets review, I am happy to merge nonetheless.\r\n\r\n> while embarking on many refactoring\r\n\r\nI am not aware of any refactoring changes that have been merged in the meantime after the bug was discovered.\r\n\r\n> gravity of the bug that is covered\r\n\r\nI agree that test coverage for that is badly needed. However, the existence of a regression test doesn't mean it should be merged without review. (At least I couldn't find any review ACKs on this pull). \r\n\r\n",
      "created_at": "2021-09-10T16:02:41Z",
      "updated_at": "2021-09-10T16:02:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r706299669",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/706299669"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 59,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/706313089",
      "pull_request_review_id": 751587226,
      "id": 706313089,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcwNjMxMzA4OQ==",
      "diff_hunk": "@@ -0,0 +1,184 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020-2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test addrman/checkaddrman/asmap functionality.\"\"\"\n+\n+import os\n+import shutil\n+import struct\n+\n+from test_framework.messages import ser_uint256, hash256\n+from test_framework.p2p import MAGIC_BYTES\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+\n+\n+DEFAULT_ASMAP_FILENAME = \"ip_asn.map\"  # defined in src/init.cpp\n+ASMAP = \"../../src/test/data/asmap.raw\"  # path to unit test skeleton asmap\n+VERSION = \"fec61fa21a9f46f3b17bdcd660d7f4cd90b966aad3aec593c99b35f0aca15853\"\n+\n+\n+def expected_messages(filename):\n+    return [\n+        f'Opened asmap file \"{filename}\" (59 bytes) from disk',\n+        f\"Using asmap version {VERSION} for IP bucketing\",\n+    ]\n+\n+\n+def serialize_addrman(*, format=1, lowest_compatible=3):\n+    new = []\n+    tried = []\n+    INCOMPATIBILITY_BASE = 32\n+    r = MAGIC_BYTES[\"regtest\"]\n+    r += struct.pack(\"B\", format)\n+    r += struct.pack(\"B\", INCOMPATIBILITY_BASE + lowest_compatible)\n+    r += ser_uint256(1)\n+    r += struct.pack(\"i\", len(new))\n+    r += struct.pack(\"i\", len(tried))\n+    ADDRMAN_NEW_BUCKET_COUNT = 1 << 10\n+    r += struct.pack(\"i\", ADDRMAN_NEW_BUCKET_COUNT ^ (1 << 30))\n+    for _ in range(ADDRMAN_NEW_BUCKET_COUNT):\n+        r += struct.pack(\"i\", 0)\n+    checksum = hash256(r)\n+    r += checksum\n+    return r\n+\n+\n+def write_addrman(peers_dat, **kwargs):\n+    with open(peers_dat, \"wb\") as f:\n+        f.write(serialize_addrman(**kwargs))\n+\n+\n+class AddrmanAsmapTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+\n+    def set_peers_dat(self):\n+        \"\"\"Copy a peers.dat containing tried table entries into the data directory.\"\"\"\n+        peers_data = os.path.join(os.path.dirname(os.path.realpath(__file__)), \"data/peers.dat\")",
      "path": "test/functional/feature_addrman_asmap.py",
      "position": null,
      "original_position": 59,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "4cda5cf42118bcaf15ea3951d5189af8db6aa365",
      "in_reply_to_id": 704550576,
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> I am not aware of any refactoring changes that have been merged in the meantime after the bug was discovered.\r\n\r\nInstead of a straight revert, or simple reordering, #22791 was a larger than necessary diff with no accompanying tests.",
      "created_at": "2021-09-10T16:23:21Z",
      "updated_at": "2021-09-10T16:23:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r706313089",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/706313089"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 59,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708255435",
      "pull_request_review_id": 753926434,
      "id": 708255435,
      "node_id": "PRRC_kwDOABII584qNx7L",
      "diff_hunk": "@@ -262,6 +263,12 @@ def test_addpeeraddress(self):\n         assert_equal(node.addpeeraddress(address=\"1.2.3.4\", port=8333), {\"success\": False})\n         assert_equal(len(node.getnodeaddresses(count=0)), 1)\n \n+        self.log.debug('Test adding a second address to the tried table')\n+        assert_equal(node.addpeeraddress(address=\"1.2.3.0\", port=8333, tried=True), {\"success\": True})\n+        with node.assert_debug_log(expected_msgs=[\"new 1, tried 1, total 2\"]):",
      "path": "test/functional/rpc_net.py",
      "position": null,
      "original_position": 14,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "8c41132419c9ab4a70a15d967366bb6fb22b2642",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit in the second commit:\r\n\r\nMaybe assert on the longer string \"Addrman checks started: new 1, tried 1, total 2\" to clarify that this is triggered by the addrman check? Either in addition or as replacement for the comment below, which is not verified by the test itself.",
      "created_at": "2021-09-14T13:13:45Z",
      "updated_at": "2021-09-14T13:17:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r708255435",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708255435"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 268,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708257988",
      "pull_request_review_id": 753926434,
      "id": 708257988,
      "node_id": "PRRC_kwDOABII584qNyjE",
      "diff_hunk": "@@ -72,6 +80,15 @@ def test_default_asmap(self):\n                 self.start_node(0, [arg])\n         os.remove(self.default_asmap)\n \n+    def test_asmap_interaction_with_addrman_containing_entries(self):\n+        self.log.info('Test bitcoind -asmap with an addrman containing new and tried entries')\n+        self.fill_addrman(node_id=0)\n+        self.stop_node(0)\n+        shutil.copyfile(self.asmap_raw, self.default_asmap)\n+        self.start_node(0, [\"-asmap\", \"-checkaddrman=1\"])\n+        self.node.getnodeaddresses()  # getnodeaddresses re-runs the addrman checks",
      "path": "test/functional/feature_asmap.py",
      "position": null,
      "original_position": 37,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "55d1411a161d17757b61270a85626a62c3d63085",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit in the last commit:\r\n\r\nMaybe the same here with \"Addrman checks started: new 2, tried 2, total 4\"",
      "created_at": "2021-09-14T13:16:40Z",
      "updated_at": "2021-09-14T13:17:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r708257988",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708257988"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 89,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708262037",
      "pull_request_review_id": 753935728,
      "id": 708262037,
      "node_id": "PRRC_kwDOABII584qNziV",
      "diff_hunk": "@@ -262,6 +263,12 @@ def test_addpeeraddress(self):\n         assert_equal(node.addpeeraddress(address=\"1.2.3.4\", port=8333), {\"success\": False})\n         assert_equal(len(node.getnodeaddresses(count=0)), 1)\n \n+        self.log.debug('Test adding a second address to the tried table')\n+        assert_equal(node.addpeeraddress(address=\"1.2.3.0\", port=8333, tried=True), {\"success\": True})\n+        with node.assert_debug_log(expected_msgs=[\"new 1, tried 1, total 2\"]):",
      "path": "test/functional/rpc_net.py",
      "position": null,
      "original_position": 14,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "8c41132419c9ab4a70a15d967366bb6fb22b2642",
      "in_reply_to_id": 708255435,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I held off because that aspect of the logging may change in #22872, but that pull can update the test too, so ok taking your feedback.",
      "created_at": "2021-09-14T13:21:03Z",
      "updated_at": "2021-09-14T13:21:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r708262037",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708262037"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 268,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708269446",
      "pull_request_review_id": 753945815,
      "id": 708269446,
      "node_id": "PRRC_kwDOABII584qN1WG",
      "diff_hunk": "@@ -941,6 +942,7 @@ static RPCHelpMan addpeeraddress()\n \n     const std::string& addr_string{request.params[0].get_str()};\n     const uint16_t port{static_cast<uint16_t>(request.params[1].get_int())};\n+    const bool tried{request.params[2].isTrue()};",
      "path": "src/rpc/net.cpp",
      "position": 23,
      "original_position": 23,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "55d1411a161d17757b61270a85626a62c3d63085",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Nit: there's nothing wrong with declaring and setting a local `tried` variable at the top of the function, but standard best practice would be to declare the variable where it's needed (https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Res-introduce / https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Rnr-top), or better yet, don't even use a local variable and just test `request.params[2].isTrue()` directly below.",
      "created_at": "2021-09-14T13:28:41Z",
      "updated_at": "2021-09-14T13:41:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r708269446",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708269446"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 945,
      "original_line": 945,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708273009",
      "pull_request_review_id": 753950763,
      "id": 708273009,
      "node_id": "PRRC_kwDOABII584qN2Nx",
      "diff_hunk": "@@ -72,6 +80,15 @@ def test_default_asmap(self):\n                 self.start_node(0, [arg])\n         os.remove(self.default_asmap)\n \n+    def test_asmap_interaction_with_addrman_containing_entries(self):\n+        self.log.info('Test bitcoind -asmap with an addrman containing new and tried entries')\n+        self.fill_addrman(node_id=0)\n+        self.stop_node(0)\n+        shutil.copyfile(self.asmap_raw, self.default_asmap)\n+        self.start_node(0, [\"-asmap\", \"-checkaddrman=1\"])\n+        self.node.getnodeaddresses()  # getnodeaddresses re-runs the addrman checks",
      "path": "test/functional/feature_asmap.py",
      "position": null,
      "original_position": 37,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "55d1411a161d17757b61270a85626a62c3d63085",
      "in_reply_to_id": 708257988,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "done",
      "created_at": "2021-09-14T13:32:25Z",
      "updated_at": "2021-09-14T13:32:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r708273009",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708273009"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 89,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708273165",
      "pull_request_review_id": 753950958,
      "id": 708273165,
      "node_id": "PRRC_kwDOABII584qN2QN",
      "diff_hunk": "@@ -262,6 +263,12 @@ def test_addpeeraddress(self):\n         assert_equal(node.addpeeraddress(address=\"1.2.3.4\", port=8333), {\"success\": False})\n         assert_equal(len(node.getnodeaddresses(count=0)), 1)\n \n+        self.log.debug('Test adding a second address to the tried table')\n+        assert_equal(node.addpeeraddress(address=\"1.2.3.0\", port=8333, tried=True), {\"success\": True})\n+        with node.assert_debug_log(expected_msgs=[\"new 1, tried 1, total 2\"]):",
      "path": "test/functional/rpc_net.py",
      "position": null,
      "original_position": 14,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "8c41132419c9ab4a70a15d967366bb6fb22b2642",
      "in_reply_to_id": 708255435,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "done",
      "created_at": "2021-09-14T13:32:33Z",
      "updated_at": "2021-09-14T13:32:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r708273165",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708273165"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 268,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708277493",
      "pull_request_review_id": 753945815,
      "id": 708277493,
      "node_id": "PRRC_kwDOABII584qN3T1",
      "diff_hunk": "@@ -72,6 +80,15 @@ def test_default_asmap(self):\n                 self.start_node(0, [arg])\n         os.remove(self.default_asmap)\n \n+    def test_asmap_interaction_with_addrman_containing_entries(self):\n+        self.log.info('Test bitcoind -asmap with an addrman containing new and tried entries')\n+        self.fill_addrman(node_id=0)",
      "path": "test/functional/feature_asmap.py",
      "position": null,
      "original_position": 33,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "55d1411a161d17757b61270a85626a62c3d63085",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Note that the addresses will get added to the new/tried table according to the asmap that was loaded in the previous subtest, which is currently `test_default_asmap()`. If the ordering of the tests changes, then the asmap used for the previous test may be different from this, and the addresses wouldn't necessarily be rebucketed in the same locations.",
      "created_at": "2021-09-14T13:37:00Z",
      "updated_at": "2021-09-14T13:38:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r708277493",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708277493"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 85,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708284288",
      "pull_request_review_id": 753966429,
      "id": 708284288,
      "node_id": "PRRC_kwDOABII584qN4-A",
      "diff_hunk": "@@ -72,6 +80,15 @@ def test_default_asmap(self):\n                 self.start_node(0, [arg])\n         os.remove(self.default_asmap)\n \n+    def test_asmap_interaction_with_addrman_containing_entries(self):\n+        self.log.info('Test bitcoind -asmap with an addrman containing new and tried entries')\n+        self.fill_addrman(node_id=0)",
      "path": "test/functional/feature_asmap.py",
      "position": null,
      "original_position": 33,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "55d1411a161d17757b61270a85626a62c3d63085",
      "in_reply_to_id": 708277493,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Good point. Do you think this would be worthwhile?\r\n```diff\r\n     def test_asmap_interaction_with_addrman_containing_entries(self):\r\n         self.log.info(\"Test bitcoind -asmap with an addrman containing new and tried entries\")\r\n-        self.fill_addrman(node_id=0)\r\n         self.stop_node(0)\r\n         shutil.copyfile(self.asmap_raw, self.default_asmap)\r\n         self.start_node(0, [\"-asmap\", \"-checkaddrman=1\"])\r\n+        self.fill_addrman(node_id=0)\r\n+        self.restart_node(0, [\"-asmap\", \"-checkaddrman=1\"])\r\n         with self.node.assert_debug_log(expected_msgs=[\"Addrman checks started: new 2, tried 2, total 4\"]):\r\n             self.node.getnodeaddresses()  # getnodeaddresses re-runs the addrman checks\r\n```\r\n",
      "created_at": "2021-09-14T13:43:59Z",
      "updated_at": "2021-09-14T14:25:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r708284288",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708284288"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 85,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708289804",
      "pull_request_review_id": 753973898,
      "id": 708289804,
      "node_id": "PRRC_kwDOABII584qN6UM",
      "diff_hunk": "@@ -941,6 +942,7 @@ static RPCHelpMan addpeeraddress()\n \n     const std::string& addr_string{request.params[0].get_str()};\n     const uint16_t port{static_cast<uint16_t>(request.params[1].get_int())};\n+    const bool tried{request.params[2].isTrue()};",
      "path": "src/rpc/net.cpp",
      "position": 23,
      "original_position": 23,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "55d1411a161d17757b61270a85626a62c3d63085",
      "in_reply_to_id": 708269446,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "That's true. It's subjective, but giving each of the params a name together in one place seems to make the code easier to understand in this case.",
      "created_at": "2021-09-14T13:49:30Z",
      "updated_at": "2021-09-14T13:49:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r708289804",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708289804"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 945,
      "original_line": 945,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708302639",
      "pull_request_review_id": 753991370,
      "id": 708302639,
      "node_id": "PRRC_kwDOABII584qN9cv",
      "diff_hunk": "@@ -262,6 +263,12 @@ def test_addpeeraddress(self):\n         assert_equal(node.addpeeraddress(address=\"1.2.3.4\", port=8333), {\"success\": False})\n         assert_equal(len(node.getnodeaddresses(count=0)), 1)\n \n+        self.log.debug(\"Test adding a second address to the tried table\")\n+        assert_equal(node.addpeeraddress(address=\"1.2.3.0\", port=8333, tried=True), {\"success\": True})\n+        with node.assert_debug_log(expected_msgs=[\"Addrman checks started: new 1, tried 1, total 2\"]):\n+            addrs = node.getnodeaddresses(count=0)  # getnodeaddresses re-runs the addrman checks\n+            assert_equal(len(addrs), 2)",
      "path": "test/functional/rpc_net.py",
      "position": 47,
      "original_position": 16,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "4de3271b1cb65111ea4b37d8fa9791aa0cd63b81",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'm mildly worried this assert could be racy. Saw it fail once with 2 != 1 today. At the same time, it would be nice to assert on something in addition to the logging.",
      "created_at": "2021-09-14T14:02:11Z",
      "updated_at": "2021-09-14T14:04:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r708302639",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708302639"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 280,
      "original_line": 280,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708331770",
      "pull_request_review_id": 754031338,
      "id": 708331770,
      "node_id": "PRRC_kwDOABII584qOEj6",
      "diff_hunk": "@@ -72,6 +80,15 @@ def test_default_asmap(self):\n                 self.start_node(0, [arg])\n         os.remove(self.default_asmap)\n \n+    def test_asmap_interaction_with_addrman_containing_entries(self):\n+        self.log.info('Test bitcoind -asmap with an addrman containing new and tried entries')\n+        self.fill_addrman(node_id=0)",
      "path": "test/functional/feature_asmap.py",
      "position": null,
      "original_position": 33,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "55d1411a161d17757b61270a85626a62c3d63085",
      "in_reply_to_id": 708277493,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "updated",
      "created_at": "2021-09-14T14:30:38Z",
      "updated_at": "2021-09-14T14:30:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r708331770",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708331770"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 85,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708343343",
      "pull_request_review_id": 754046944,
      "id": 708343343,
      "node_id": "PRRC_kwDOABII584qOHYv",
      "diff_hunk": "@@ -941,6 +942,7 @@ static RPCHelpMan addpeeraddress()\n \n     const std::string& addr_string{request.params[0].get_str()};\n     const uint16_t port{static_cast<uint16_t>(request.params[1].get_int())};\n+    const bool tried{request.params[2].isTrue()};",
      "path": "src/rpc/net.cpp",
      "position": 23,
      "original_position": 23,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "55d1411a161d17757b61270a85626a62c3d63085",
      "in_reply_to_id": 708269446,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Sure. It's a style nit. Feel free to ignore.",
      "created_at": "2021-09-14T14:42:17Z",
      "updated_at": "2021-09-14T14:42:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r708343343",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708343343"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 945,
      "original_line": 945,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708344003",
      "pull_request_review_id": 754047885,
      "id": 708344003,
      "node_id": "PRRC_kwDOABII584qOHjD",
      "diff_hunk": "@@ -72,6 +80,15 @@ def test_default_asmap(self):\n                 self.start_node(0, [arg])\n         os.remove(self.default_asmap)\n \n+    def test_asmap_interaction_with_addrman_containing_entries(self):\n+        self.log.info('Test bitcoind -asmap with an addrman containing new and tried entries')\n+        self.fill_addrman(node_id=0)",
      "path": "test/functional/feature_asmap.py",
      "position": null,
      "original_position": 33,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "55d1411a161d17757b61270a85626a62c3d63085",
      "in_reply_to_id": 708277493,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": ":+1: that would make the subtests independent",
      "created_at": "2021-09-14T14:42:59Z",
      "updated_at": "2021-09-14T14:43:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r708344003",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708344003"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 85,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708352287",
      "pull_request_review_id": 754058779,
      "id": 708352287,
      "node_id": "PRRC_kwDOABII584qOJkf",
      "diff_hunk": "@@ -262,6 +263,12 @@ def test_addpeeraddress(self):\n         assert_equal(node.addpeeraddress(address=\"1.2.3.4\", port=8333), {\"success\": False})\n         assert_equal(len(node.getnodeaddresses(count=0)), 1)\n \n+        self.log.debug(\"Test adding a second address to the tried table\")\n+        assert_equal(node.addpeeraddress(address=\"1.2.3.0\", port=8333, tried=True), {\"success\": True})\n+        with node.assert_debug_log(expected_msgs=[\"Addrman checks started: new 1, tried 1, total 2\"]):\n+            addrs = node.getnodeaddresses(count=0)  # getnodeaddresses re-runs the addrman checks\n+            assert_equal(len(addrs), 2)",
      "path": "test/functional/rpc_net.py",
      "position": 47,
      "original_position": 16,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "4de3271b1cb65111ea4b37d8fa9791aa0cd63b81",
      "in_reply_to_id": 708302639,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`1.2.3.0` is the same /16 as `1.2.3.4`, and when using `addpeeraddress()`, the source address is set to the destination address. That means that `1.2.3.0` will be placed in the same new bucket as `1.2.3.4`, and has a 1/64 chance of the bucket position colliding (depending on what addrman's nKey has been set to). If that happens, then `1.2.3.0` won't be added to addrman.\r\n\r\nYou can reduce the chance of a collision by using an address from a different /16.",
      "created_at": "2021-09-14T14:51:16Z",
      "updated_at": "2021-09-14T14:51:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r708352287",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708352287"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 280,
      "original_line": 280,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708355795",
      "pull_request_review_id": 754063504,
      "id": 708355795,
      "node_id": "PRRC_kwDOABII584qOKbT",
      "diff_hunk": "@@ -262,6 +263,12 @@ def test_addpeeraddress(self):\n         assert_equal(node.addpeeraddress(address=\"1.2.3.4\", port=8333), {\"success\": False})\n         assert_equal(len(node.getnodeaddresses(count=0)), 1)\n \n+        self.log.debug(\"Test adding a second address to the tried table\")\n+        assert_equal(node.addpeeraddress(address=\"1.2.3.0\", port=8333, tried=True), {\"success\": True})\n+        with node.assert_debug_log(expected_msgs=[\"Addrman checks started: new 1, tried 1, total 2\"]):\n+            addrs = node.getnodeaddresses(count=0)  # getnodeaddresses re-runs the addrman checks\n+            assert_equal(len(addrs), 2)",
      "path": "test/functional/rpc_net.py",
      "position": 47,
      "original_position": 16,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "4de3271b1cb65111ea4b37d8fa9791aa0cd63b81",
      "in_reply_to_id": 708302639,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Excellent, thank you! Updating.",
      "created_at": "2021-09-14T14:54:47Z",
      "updated_at": "2021-09-14T14:54:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r708355795",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708355795"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 280,
      "original_line": 280,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708739832",
      "pull_request_review_id": 754550579,
      "id": 708739832,
      "node_id": "PRRC_kwDOABII584qPoL4",
      "diff_hunk": "@@ -951,7 +953,13 @@ static RPCHelpMan addpeeraddress()\n         address.nTime = GetAdjustedTime();\n         // The source address is set equal to the address. This is equivalent to the peer\n         // announcing itself.\n-        if (node.addrman->Add({address}, address)) success = true;\n+        if (node.addrman->Add({address}, address)) {\n+            success = true;\n+            if (tried) {\n+                // Mark entry as good and possibly move it to the \"tried\" addresses table.",
      "path": "src/rpc/net.cpp",
      "position": null,
      "original_position": 35,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "d58681743a3ea99814c2c77ad8b7a4ea6ca3e14b",
      "in_reply_to_id": null,
      "user": {
        "login": "amitiuttarwar",
        "id": 1500952,
        "node_id": "MDQ6VXNlcjE1MDA5NTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amitiuttarwar",
        "html_url": "https://github.com/amitiuttarwar",
        "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
        "following_url": "https://api.github.com/users/amitiuttarwar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/amitiuttarwar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/amitiuttarwar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
        "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
        "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
        "events_url": "https://api.github.com/users/amitiuttarwar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "just a suggestion, the first part of the comment doesn't add much\r\n\r\n```suggestion\r\n                // Attempt to move the address to the \"tried\" table.\r\n```",
      "created_at": "2021-09-14T23:58:53Z",
      "updated_at": "2021-09-15T00:18:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r708739832",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708739832"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 959,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708744420",
      "pull_request_review_id": 754550579,
      "id": 708744420,
      "node_id": "PRRC_kwDOABII584qPpTk",
      "diff_hunk": "@@ -262,6 +263,12 @@ def test_addpeeraddress(self):\n         assert_equal(node.addpeeraddress(address=\"1.2.3.4\", port=8333), {\"success\": False})\n         assert_equal(len(node.getnodeaddresses(count=0)), 1)\n \n+        self.log.debug(\"Test adding a second address (with a different /16) to the tried table\")",
      "path": "test/functional/rpc_net.py",
      "position": null,
      "original_position": 12,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "d58681743a3ea99814c2c77ad8b7a4ea6ca3e14b",
      "in_reply_to_id": null,
      "user": {
        "login": "amitiuttarwar",
        "id": 1500952,
        "node_id": "MDQ6VXNlcjE1MDA5NTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amitiuttarwar",
        "html_url": "https://github.com/amitiuttarwar",
        "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
        "following_url": "https://api.github.com/users/amitiuttarwar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/amitiuttarwar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/amitiuttarwar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
        "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
        "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
        "events_url": "https://api.github.com/users/amitiuttarwar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "could be nice to pull out the `(with a different /16)` from the log & add a comment with the reasoning of why (so it maps to a different bucket) as described in https://github.com/bitcoin/bitcoin/pull/22831#discussion_r708352287",
      "created_at": "2021-09-15T00:12:48Z",
      "updated_at": "2021-09-15T00:18:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r708744420",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708744420"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 266,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709144653",
      "pull_request_review_id": 755063184,
      "id": 709144653,
      "node_id": "PRRC_kwDOABII584qRLBN",
      "diff_hunk": "@@ -262,6 +263,12 @@ def test_addpeeraddress(self):\n         assert_equal(node.addpeeraddress(address=\"1.2.3.4\", port=8333), {\"success\": False})\n         assert_equal(len(node.getnodeaddresses(count=0)), 1)\n \n+        self.log.debug(\"Test adding a second address to the tried table\")\n+        assert_equal(node.addpeeraddress(address=\"1.2.3.0\", port=8333, tried=True), {\"success\": True})\n+        with node.assert_debug_log(expected_msgs=[\"Addrman checks started: new 1, tried 1, total 2\"]):\n+            addrs = node.getnodeaddresses(count=0)  # getnodeaddresses re-runs the addrman checks\n+            assert_equal(len(addrs), 2)",
      "path": "test/functional/rpc_net.py",
      "position": 47,
      "original_position": 16,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "4de3271b1cb65111ea4b37d8fa9791aa0cd63b81",
      "in_reply_to_id": 708302639,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think this may still fail with a probability of 1/2^16 = 1/65536 since there could still be bucket/position collisions.",
      "created_at": "2021-09-15T12:40:32Z",
      "updated_at": "2021-09-15T12:40:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r709144653",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709144653"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 280,
      "original_line": 280,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709171663",
      "pull_request_review_id": 755099466,
      "id": 709171663,
      "node_id": "PRRC_kwDOABII584qRRnP",
      "diff_hunk": "@@ -262,6 +263,12 @@ def test_addpeeraddress(self):\n         assert_equal(node.addpeeraddress(address=\"1.2.3.4\", port=8333), {\"success\": False})\n         assert_equal(len(node.getnodeaddresses(count=0)), 1)\n \n+        self.log.debug(\"Test adding a second address to the tried table\")\n+        assert_equal(node.addpeeraddress(address=\"1.2.3.0\", port=8333, tried=True), {\"success\": True})\n+        with node.assert_debug_log(expected_msgs=[\"Addrman checks started: new 1, tried 1, total 2\"]):\n+            addrs = node.getnodeaddresses(count=0)  # getnodeaddresses re-runs the addrman checks\n+            assert_equal(len(addrs), 2)",
      "path": "test/functional/rpc_net.py",
      "position": 47,
      "original_position": 16,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "4de3271b1cb65111ea4b37d8fa9791aa0cd63b81",
      "in_reply_to_id": 708302639,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Sounds good. WDYT:\r\n```diff\r\ndiff --git a/src/rpc/net.cpp b/src/rpc/net.cpp\r\nindex f7b6a2a333..227eec722f 100644\r\n--- a/src/rpc/net.cpp\r\n+++ b/src/rpc/net.cpp\r\n@@ -956,7 +956,7 @@ static RPCHelpMan addpeeraddress()\r\n         if (node.addrman->Add({address}, address)) {\r\n             success = true;\r\n             if (tried) {\r\n-                // Mark entry as good and possibly move it to the \"tried\" addresses table.\r\n+                // Attempt to move the address to the tried addresses table.\r\n                 node.addrman->Good(address);\r\n             }\r\n         }\r\ndiff --git a/test/functional/rpc_net.py b/test/functional/rpc_net.py\r\nindex e2dfa3ea23..1b468aec22 100755\r\n--- a/test/functional/rpc_net.py\r\n+++ b/test/functional/rpc_net.py\r\n@@ -254,16 +254,24 @@ class NetTest(BitcoinTestFramework):\r\n \r\n         self.log.debug(\"Test that adding a valid address succeeds\")\r\n         assert_equal(node.addpeeraddress(address=\"1.2.3.4\", port=8333), {\"success\": True})\r\n-        addrs = node.getnodeaddresses(count=0)\r\n-        assert_equal(len(addrs), 1)\r\n-        assert_equal(addrs[0][\"address\"], \"1.2.3.4\")\r\n-        assert_equal(addrs[0][\"port\"], 8333)\r\n+        with node.assert_debug_log(expected_msgs=[\"Addrman checks started: new 1, tried 0, total 1\"]):\r\n+            addrs = node.getnodeaddresses(count=0)\r\n+            assert_equal(len(addrs), 1)\r\n+            assert_equal(addrs[0][\"address\"], \"1.2.3.4\")\r\n+            assert_equal(addrs[0][\"port\"], 8333)\r\n \r\n         self.log.debug(\"Test that adding the same address again when already present fails\")\r\n         assert_equal(node.addpeeraddress(address=\"1.2.3.4\", port=8333), {\"success\": False})\r\n         assert_equal(len(node.getnodeaddresses(count=0)), 1)\r\n \r\n-        self.log.debug(\"Test adding a second address (with a different /16) to the tried table\")\r\n+        # RPC addpeeraddress sets the source address equal to the destination address.\r\n+        # If addresses with the same /16 are passed to it, they will be placed in the\r\n+        # same new bucket and have a 1/64 chance of the bucket positions colliding\r\n+        # (depending on the value of nKey in the addrman), in which case the new\r\n+        # address won't be added to the addrman.  Therefore, reduce the chance of a\r\n+        # collision by using an address from a different /16.  There may still remain\r\n+        # a 1/2^16 = 1/65536 probability of bucket/position collisions.\r\n+        self.log.debug(\"Test adding a second address to the tried table\")\r\n         assert_equal(node.addpeeraddress(address=\"2.0.0.0\", port=8333, tried=True), {\"success\": True})\r\n         with node.assert_debug_log(expected_msgs=[\"Addrman checks started: new 1, tried 1, total 2\"]):\r\n             addrs = node.getnodeaddresses(count=0)  # getnodeaddresses re-runs the addrman checks\r\n```\r\n",
      "created_at": "2021-09-15T13:12:01Z",
      "updated_at": "2021-09-15T13:12:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r709171663",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709171663"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 280,
      "original_line": 280,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709174093",
      "pull_request_review_id": 755102800,
      "id": 709174093,
      "node_id": "PRRC_kwDOABII584qRSNN",
      "diff_hunk": "@@ -262,6 +263,12 @@ def test_addpeeraddress(self):\n         assert_equal(node.addpeeraddress(address=\"1.2.3.4\", port=8333), {\"success\": False})\n         assert_equal(len(node.getnodeaddresses(count=0)), 1)\n \n+        self.log.debug(\"Test adding a second address (with a different /16) to the tried table\")",
      "path": "test/functional/rpc_net.py",
      "position": null,
      "original_position": 12,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "d58681743a3ea99814c2c77ad8b7a4ea6ca3e14b",
      "in_reply_to_id": 708744420,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Oops, meant to post it here. SGTM, what do you think: https://github.com/bitcoin/bitcoin/pull/22831#discussion_r709171663",
      "created_at": "2021-09-15T13:14:43Z",
      "updated_at": "2021-09-15T13:14:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r709174093",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709174093"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 266,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709174486",
      "pull_request_review_id": 755103316,
      "id": 709174486,
      "node_id": "PRRC_kwDOABII584qRSTW",
      "diff_hunk": "@@ -951,7 +953,13 @@ static RPCHelpMan addpeeraddress()\n         address.nTime = GetAdjustedTime();\n         // The source address is set equal to the address. This is equivalent to the peer\n         // announcing itself.\n-        if (node.addrman->Add({address}, address)) success = true;\n+        if (node.addrman->Add({address}, address)) {\n+            success = true;\n+            if (tried) {\n+                // Mark entry as good and possibly move it to the \"tried\" addresses table.",
      "path": "src/rpc/net.cpp",
      "position": null,
      "original_position": 35,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "d58681743a3ea99814c2c77ad8b7a4ea6ca3e14b",
      "in_reply_to_id": 708739832,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "thanks for the feedback, done",
      "created_at": "2021-09-15T13:15:07Z",
      "updated_at": "2021-09-15T13:15:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r709174486",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709174486"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 959,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709175866",
      "pull_request_review_id": 755105199,
      "id": 709175866,
      "node_id": "PRRC_kwDOABII584qRSo6",
      "diff_hunk": "@@ -262,6 +263,12 @@ def test_addpeeraddress(self):\n         assert_equal(node.addpeeraddress(address=\"1.2.3.4\", port=8333), {\"success\": False})\n         assert_equal(len(node.getnodeaddresses(count=0)), 1)\n \n+        self.log.debug(\"Test adding a second address to the tried table\")\n+        assert_equal(node.addpeeraddress(address=\"1.2.3.0\", port=8333, tried=True), {\"success\": True})\n+        with node.assert_debug_log(expected_msgs=[\"Addrman checks started: new 1, tried 1, total 2\"]):\n+            addrs = node.getnodeaddresses(count=0)  # getnodeaddresses re-runs the addrman checks\n+            assert_equal(len(addrs), 2)",
      "path": "test/functional/rpc_net.py",
      "position": 47,
      "original_position": 16,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "4de3271b1cb65111ea4b37d8fa9791aa0cd63b81",
      "in_reply_to_id": 708302639,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "(an alternative could be to merge the first valid address test with the \"tried\" test) ",
      "created_at": "2021-09-15T13:16:39Z",
      "updated_at": "2021-09-15T13:16:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r709175866",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709175866"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 280,
      "original_line": 280,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709175988",
      "pull_request_review_id": 755105376,
      "id": 709175988,
      "node_id": "PRRC_kwDOABII584qRSq0",
      "diff_hunk": "@@ -262,6 +263,12 @@ def test_addpeeraddress(self):\n         assert_equal(node.addpeeraddress(address=\"1.2.3.4\", port=8333), {\"success\": False})\n         assert_equal(len(node.getnodeaddresses(count=0)), 1)\n \n+        self.log.debug(\"Test adding a second address to the tried table\")\n+        assert_equal(node.addpeeraddress(address=\"1.2.3.0\", port=8333, tried=True), {\"success\": True})\n+        with node.assert_debug_log(expected_msgs=[\"Addrman checks started: new 1, tried 1, total 2\"]):\n+            addrs = node.getnodeaddresses(count=0)  # getnodeaddresses re-runs the addrman checks\n+            assert_equal(len(addrs), 2)",
      "path": "test/functional/rpc_net.py",
      "position": 47,
      "original_position": 16,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "4de3271b1cb65111ea4b37d8fa9791aa0cd63b81",
      "in_reply_to_id": 708302639,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "or maybe first add an addr to tried, and the next one to new - then new collisions wouldn't be an issue.",
      "created_at": "2021-09-15T13:16:47Z",
      "updated_at": "2021-09-15T13:16:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r709175988",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709175988"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 280,
      "original_line": 280,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709183857",
      "pull_request_review_id": 755116035,
      "id": 709183857,
      "node_id": "PRRC_kwDOABII584qRUlx",
      "diff_hunk": "@@ -262,6 +263,12 @@ def test_addpeeraddress(self):\n         assert_equal(node.addpeeraddress(address=\"1.2.3.4\", port=8333), {\"success\": False})\n         assert_equal(len(node.getnodeaddresses(count=0)), 1)\n \n+        self.log.debug(\"Test adding a second address to the tried table\")\n+        assert_equal(node.addpeeraddress(address=\"1.2.3.0\", port=8333, tried=True), {\"success\": True})\n+        with node.assert_debug_log(expected_msgs=[\"Addrman checks started: new 1, tried 1, total 2\"]):\n+            addrs = node.getnodeaddresses(count=0)  # getnodeaddresses re-runs the addrman checks\n+            assert_equal(len(addrs), 2)",
      "path": "test/functional/rpc_net.py",
      "position": 47,
      "original_position": 16,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "4de3271b1cb65111ea4b37d8fa9791aa0cd63b81",
      "in_reply_to_id": 708302639,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "@mzumsande done",
      "created_at": "2021-09-15T13:25:19Z",
      "updated_at": "2021-09-15T13:25:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r709183857",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709183857"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 280,
      "original_line": 280,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709214655",
      "pull_request_review_id": 755157596,
      "id": 709214655,
      "node_id": "PRRC_kwDOABII584qRcG_",
      "diff_hunk": "@@ -262,6 +263,12 @@ def test_addpeeraddress(self):\n         assert_equal(node.addpeeraddress(address=\"1.2.3.4\", port=8333), {\"success\": False})\n         assert_equal(len(node.getnodeaddresses(count=0)), 1)\n \n+        self.log.debug(\"Test adding a second address to the tried table\")\n+        assert_equal(node.addpeeraddress(address=\"1.2.3.0\", port=8333, tried=True), {\"success\": True})\n+        with node.assert_debug_log(expected_msgs=[\"Addrman checks started: new 1, tried 1, total 2\"]):\n+            addrs = node.getnodeaddresses(count=0)  # getnodeaddresses re-runs the addrman checks\n+            assert_equal(len(addrs), 2)",
      "path": "test/functional/rpc_net.py",
      "position": 47,
      "original_position": 16,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "4de3271b1cb65111ea4b37d8fa9791aa0cd63b81",
      "in_reply_to_id": 708302639,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Hmm, unfortunately this issue also seems to be possible in the regression test commit where 4 addrs are added. ",
      "created_at": "2021-09-15T13:56:56Z",
      "updated_at": "2021-09-15T13:57:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r709214655",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709214655"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 280,
      "original_line": 280,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709256205",
      "pull_request_review_id": 755215075,
      "id": 709256205,
      "node_id": "PRRC_kwDOABII584qRmQN",
      "diff_hunk": "@@ -262,6 +263,12 @@ def test_addpeeraddress(self):\n         assert_equal(node.addpeeraddress(address=\"1.2.3.4\", port=8333), {\"success\": False})\n         assert_equal(len(node.getnodeaddresses(count=0)), 1)\n \n+        self.log.debug(\"Test adding a second address to the tried table\")\n+        assert_equal(node.addpeeraddress(address=\"1.2.3.0\", port=8333, tried=True), {\"success\": True})\n+        with node.assert_debug_log(expected_msgs=[\"Addrman checks started: new 1, tried 1, total 2\"]):\n+            addrs = node.getnodeaddresses(count=0)  # getnodeaddresses re-runs the addrman checks\n+            assert_equal(len(addrs), 2)",
      "path": "test/functional/rpc_net.py",
      "position": 47,
      "original_position": 16,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "4de3271b1cb65111ea4b37d8fa9791aa0cd63b81",
      "in_reply_to_id": 708302639,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Good catch -- inversed the order.",
      "created_at": "2021-09-15T14:39:21Z",
      "updated_at": "2021-09-15T14:39:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r709256205",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709256205"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 280,
      "original_line": 280,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709260434",
      "pull_request_review_id": 755220887,
      "id": 709260434,
      "node_id": "PRRC_kwDOABII584qRnSS",
      "diff_hunk": "@@ -262,6 +263,12 @@ def test_addpeeraddress(self):\n         assert_equal(node.addpeeraddress(address=\"1.2.3.4\", port=8333), {\"success\": False})\n         assert_equal(len(node.getnodeaddresses(count=0)), 1)\n \n+        self.log.debug(\"Test adding a second address (with a different /16) to the tried table\")",
      "path": "test/functional/rpc_net.py",
      "position": null,
      "original_position": 12,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "d58681743a3ea99814c2c77ad8b7a4ea6ca3e14b",
      "in_reply_to_id": 708744420,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "done!",
      "created_at": "2021-09-15T14:43:42Z",
      "updated_at": "2021-09-15T14:43:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r709260434",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709260434"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 266,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/710894714",
      "pull_request_review_id": 757247685,
      "id": 710894714,
      "node_id": "PRRC_kwDOABII584qX2R6",
      "diff_hunk": "@@ -239,7 +239,16 @@ def test_getnodeaddresses(self):\n         assert_raises_rpc_error(-8, \"Network not recognized: Foo\", self.nodes[0].getnodeaddresses, 1, \"Foo\")\n \n     def test_addpeeraddress(self):\n+        \"\"\"RPC addpeeraddress sets the source address equal to the destination address.\n+        If an address with the same /16 as an existing new entry is passed, it will be\n+        placed in the same new bucket and have a 1/64 chance of the bucket positions\n+        colliding (depending on the value of nKey in the addrman), in which case the\n+        new address won't be added.  The probability of collision can be reduced to\n+        1/2^16 = 1/65536 by using an address from a different /16.  We avoid this here\n+        by first testing adding a tried table entry before testing adding a new table one.\n+        \"\"\"",
      "path": "test/functional/rpc_net.py",
      "position": 11,
      "original_position": 11,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "If this nondeterminism turns out to be a problem also in other cases, then I guess a new option `bitcoind -addrmandeterministic` could be introduced which creates a deterministic addrman.",
      "created_at": "2021-09-17T09:17:55Z",
      "updated_at": "2021-09-17T11:57:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r710894714",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/710894714"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": 242,
      "original_start_line": 242,
      "start_side": "RIGHT",
      "line": 249,
      "original_line": 249,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/710899130",
      "pull_request_review_id": 757247685,
      "id": 710899130,
      "node_id": "PRRC_kwDOABII584qX3W6",
      "diff_hunk": "@@ -251,17 +260,25 @@ def test_addpeeraddress(self):\n         assert_equal(node.addpeeraddress(address=\"\", port=8333), {\"success\": False})\n         assert_equal(node.getnodeaddresses(count=0), [])\n \n-        self.log.debug(\"Test that adding a valid address succeeds\")\n-        assert_equal(node.addpeeraddress(address=\"1.2.3.4\", port=8333), {\"success\": True})\n-        addrs = node.getnodeaddresses(count=0)\n-        assert_equal(len(addrs), 1)\n-        assert_equal(addrs[0][\"address\"], \"1.2.3.4\")\n-        assert_equal(addrs[0][\"port\"], 8333)\n-\n-        self.log.debug(\"Test that adding the same address again when already present fails\")\n-        assert_equal(node.addpeeraddress(address=\"1.2.3.4\", port=8333), {\"success\": False})\n+        self.log.debug(\"Test that adding a valid address to the tried table succeeds\")\n+        assert_equal(node.addpeeraddress(address=\"1.2.3.4\", tried=True, port=8333), {\"success\": True})\n+        with node.assert_debug_log(expected_msgs=[\"Addrman checks started: new 0, tried 1, total 1\"]):\n+            addrs = node.getnodeaddresses(count=0)  # getnodeaddresses re-runs the addrman checks\n+            assert_equal(len(addrs), 1)\n+            assert_equal(addrs[0][\"address\"], \"1.2.3.4\")\n+            assert_equal(addrs[0][\"port\"], 8333)\n+\n+        self.log.debug(\"Test that adding an already-present tried address to the new and tried tables fails\")\n+        for value in [True, False]:\n+            assert_equal(node.addpeeraddress(address=\"1.2.3.4\", tried=value, port=8333), {\"success\": False})\n         assert_equal(len(node.getnodeaddresses(count=0)), 1)\n \n+        self.log.debug(\"Test that adding a second address, this time to the new table, succeeds\")\n+        assert_equal(node.addpeeraddress(address=\"2.0.0.0\", port=8333), {\"success\": True})\n+        with node.assert_debug_log(expected_msgs=[\"Addrman checks started: new 1, tried 1, total 2\"]):\n+            addrs = node.getnodeaddresses(count=0)  # getnodeaddresses re-runs the addrman checks\n+            assert_equal(len(addrs), 2)",
      "path": "test/functional/rpc_net.py",
      "position": 47,
      "original_position": 47,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "We don't check the contents of `addrs[]` here, but checked it above. If the reason for this is that the order is undeterministic, then I guess it can be sorted and then checked that it contains `1.2.3.4` and `2.0.0.0`.",
      "created_at": "2021-09-17T09:24:15Z",
      "updated_at": "2021-09-17T11:57:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r710899130",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/710899130"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": 278,
      "original_start_line": 278,
      "start_side": "RIGHT",
      "line": 280,
      "original_line": 280,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/711755108",
      "pull_request_review_id": 758156688,
      "id": 711755108,
      "node_id": "PRRC_kwDOABII584qbIVk",
      "diff_hunk": "@@ -251,17 +260,25 @@ def test_addpeeraddress(self):\n         assert_equal(node.addpeeraddress(address=\"\", port=8333), {\"success\": False})\n         assert_equal(node.getnodeaddresses(count=0), [])\n \n-        self.log.debug(\"Test that adding a valid address succeeds\")\n-        assert_equal(node.addpeeraddress(address=\"1.2.3.4\", port=8333), {\"success\": True})\n-        addrs = node.getnodeaddresses(count=0)\n-        assert_equal(len(addrs), 1)\n-        assert_equal(addrs[0][\"address\"], \"1.2.3.4\")\n-        assert_equal(addrs[0][\"port\"], 8333)\n-\n-        self.log.debug(\"Test that adding the same address again when already present fails\")\n-        assert_equal(node.addpeeraddress(address=\"1.2.3.4\", port=8333), {\"success\": False})\n+        self.log.debug(\"Test that adding a valid address to the tried table succeeds\")\n+        assert_equal(node.addpeeraddress(address=\"1.2.3.4\", tried=True, port=8333), {\"success\": True})\n+        with node.assert_debug_log(expected_msgs=[\"Addrman checks started: new 0, tried 1, total 1\"]):\n+            addrs = node.getnodeaddresses(count=0)  # getnodeaddresses re-runs the addrman checks\n+            assert_equal(len(addrs), 1)\n+            assert_equal(addrs[0][\"address\"], \"1.2.3.4\")\n+            assert_equal(addrs[0][\"port\"], 8333)\n+\n+        self.log.debug(\"Test that adding an already-present tried address to the new and tried tables fails\")\n+        for value in [True, False]:\n+            assert_equal(node.addpeeraddress(address=\"1.2.3.4\", tried=value, port=8333), {\"success\": False})\n         assert_equal(len(node.getnodeaddresses(count=0)), 1)\n \n+        self.log.debug(\"Test that adding a second address, this time to the new table, succeeds\")\n+        assert_equal(node.addpeeraddress(address=\"2.0.0.0\", port=8333), {\"success\": True})\n+        with node.assert_debug_log(expected_msgs=[\"Addrman checks started: new 1, tried 1, total 2\"]):\n+            addrs = node.getnodeaddresses(count=0)  # getnodeaddresses re-runs the addrman checks\n+            assert_equal(len(addrs), 2)",
      "path": "test/functional/rpc_net.py",
      "position": 47,
      "original_position": 47,
      "commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "original_commit_id": "cdaab90662a54e331de0e49a89596bbb94a8ac45",
      "in_reply_to_id": 710899130,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done in #23035.",
      "created_at": "2021-09-19T14:39:46Z",
      "updated_at": "2021-09-19T14:39:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22831#discussion_r711755108",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/711755108"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22831"
        }
      },
      "start_line": 278,
      "original_start_line": 278,
      "start_side": "RIGHT",
      "line": 280,
      "original_line": 280,
      "side": "RIGHT"
    }
  ]
}