{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6402",
    "id": 39544737,
    "node_id": "MDExOlB1bGxSZXF1ZXN0Mzk1NDQ3Mzc=",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/6402",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/6402.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/6402.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6402",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6402/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6402/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6402/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/6c449bdcfe73526f09df8f3ad581f49467f7b2dd",
    "number": 6402,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "Floating network relay fee increase, if memory pool grows too large.",
    "user": {
      "login": "jgarzik",
      "id": 494411,
      "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/494411?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jgarzik",
      "html_url": "https://github.com/jgarzik",
      "followers_url": "https://api.github.com/users/jgarzik/followers",
      "following_url": "https://api.github.com/users/jgarzik/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/jgarzik/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/jgarzik/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
      "organizations_url": "https://api.github.com/users/jgarzik/orgs",
      "repos_url": "https://api.github.com/users/jgarzik/repos",
      "events_url": "https://api.github.com/users/jgarzik/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/jgarzik/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Create a relay fee that adjusts to floods which cause the memory pool to\ngrow too large (and thus crash the node).  A periodic memory pool janitor runs, scanning the\nmemory pool total byte size.\n\nIf the memory pool is below a \"low water\" byte size limit, the\n-minrelaytxfee minimum relay fee setting is used.\n\nIf the memory pool is above a \"high water\" byte size limit, the\nminimum relay fee setting is increased according to the following\nalgorithm:\n- take the top half of the mempool in terms of fee/kb - fee rate\n- take the lowest fee rate as the minimum relay fee\n\nThe memory pool may continue to grow beyond the high water mark, though\nfees to further fill memory pools become increasingly more expensive,\nuntil new blocks reduce the pressure.\n\nThe newly increased relay fee remains intact until the memory pool\nsize falls below the \"low water\" limit.\n\nThe default \"low water\" limit is 1/2 of the supplied \"high water\" limit.\n",
    "labels": [
      {
        "id": 164208572,
        "node_id": "MDU6TGFiZWwxNjQyMDg1NzI=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Mempool",
        "name": "Mempool",
        "color": "fef2c0",
        "default": false
      }
    ],
    "active_lock_reason": "resolved",
    "created_at": "2015-07-09T03:18:13Z",
    "updated_at": "2021-09-08T11:17:30Z",
    "closed_at": "2015-09-15T01:07:24Z",
    "mergeable": false,
    "mergeable_state": "dirty",
    "merge_commit_sha": "44058f97b7f716f25c901accce25886a985b66cb",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": false,
    "head": {
      "label": "jgarzik:2015_relayfee",
      "ref": "2015_relayfee",
      "sha": "6c449bdcfe73526f09df8f3ad581f49467f7b2dd",
      "user": {
        "login": "jgarzik",
        "id": 494411,
        "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/494411?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jgarzik",
        "html_url": "https://github.com/jgarzik",
        "followers_url": "https://api.github.com/users/jgarzik/followers",
        "following_url": "https://api.github.com/users/jgarzik/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jgarzik/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jgarzik/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
        "organizations_url": "https://api.github.com/users/jgarzik/orgs",
        "repos_url": "https://api.github.com/users/jgarzik/repos",
        "events_url": "https://api.github.com/users/jgarzik/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jgarzik/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 1183300,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgzMzAw",
        "name": "bitcoin",
        "full_name": "jgarzik/bitcoin",
        "owner": {
          "login": "jgarzik",
          "id": 494411,
          "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
          "avatar_url": "https://avatars.githubusercontent.com/u/494411?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/jgarzik",
          "html_url": "https://github.com/jgarzik",
          "followers_url": "https://api.github.com/users/jgarzik/followers",
          "following_url": "https://api.github.com/users/jgarzik/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/jgarzik/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/jgarzik/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
          "organizations_url": "https://api.github.com/users/jgarzik/orgs",
          "repos_url": "https://api.github.com/users/jgarzik/repos",
          "events_url": "https://api.github.com/users/jgarzik/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/jgarzik/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/jgarzik/bitcoin",
        "description": "Bitcoin integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/jgarzik/bitcoin",
        "archive_url": "https://api.github.com/repos/jgarzik/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/jgarzik/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/jgarzik/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/jgarzik/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/jgarzik/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/jgarzik/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/jgarzik/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/jgarzik/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/jgarzik/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/jgarzik/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/jgarzik/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/jgarzik/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/jgarzik/bitcoin/events",
        "forks_url": "https://api.github.com/repos/jgarzik/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/jgarzik/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/jgarzik/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/jgarzik/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/jgarzik/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/jgarzik/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/jgarzik/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/jgarzik/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/jgarzik/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/jgarzik/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/jgarzik/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/jgarzik/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/jgarzik/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/jgarzik/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/jgarzik/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/jgarzik/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:jgarzik/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/jgarzik/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/jgarzik/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/jgarzik/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/jgarzik/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/jgarzik/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/jgarzik/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/jgarzik/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/jgarzik/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/jgarzik/bitcoin/hooks",
        "svn_url": "https://github.com/jgarzik/bitcoin",
        "homepage": "http://www.bitcoin.org",
        "language": "C++",
        "forks_count": 6,
        "stargazers_count": 27,
        "watchers_count": 27,
        "size": 86087,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2017-10-12T00:43:41Z",
        "created_at": "2010-12-20T03:27:16Z",
        "updated_at": "2023-03-20T18:12:28Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "11edb0de5b2b14ef2108bae41e1eae4ad51a3efe",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34323,
        "stargazers_count": 69817,
        "watchers_count": 69817,
        "size": 233879,
        "default_branch": "master",
        "open_issues_count": 627,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-06T19:05:23Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-06-06T18:57:56Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6402"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 132,
    "deletions": 0,
    "changed_files": 6,
    "commits": 2,
    "review_comments": 28,
    "comments": 20
  },
  "events": [
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzplNDU5Nzk4YTNjOTRlNDNjNDAzMjU0MDNkNjQ4ZWYxZWM0MDMxODg4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e459798a3c94e43c40325403d648ef1ec4031888",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e459798a3c94e43c40325403d648ef1ec4031888",
      "tree": {
        "sha": "e64caf2e958941207a40ec29785220d369cece13",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e64caf2e958941207a40ec29785220d369cece13"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/11576a57d2ee37aa421e0fce69e70751b5af9a61",
          "sha": "11576a57d2ee37aa421e0fce69e70751b5af9a61",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/11576a57d2ee37aa421e0fce69e70751b5af9a61"
        }
      ],
      "message": "Floating network relay fee increase, if memory pool grows too large.\n\nCreate a relay fee that adjusts to floods which cause the memory pool to\ngrow too large.  A periodic memory pool janitor runs, scanning the\nmemory pool total byte size.\n\nIf the memory pool is below a \"low water\" byte size limit, the\n-minrelaytxfee minimum relay fee setting is used.\n\nIf the memory pool is above a \"high water\" byte size limit, the\nminimum relay fee setting is increased according to the following\nalgorithm:\n- take the top half of the mempool in terms of fee/kb - fee rate\n- take the lowest fee rate as the minimum relay fee\n\nThe memory pool may continue to grow beyond the high water mark, though\nfees to further fill memory pools become increasingly more expensive,\nuntil new blocks reduce the pressure.\n\nThe newly increased relay fee remains intact until the memory pool\nsize falls below the \"low water\" limit.\n\nThe default \"low water\" limit is 1/2 of the supplied \"high water\" limit.",
      "committer": {
        "name": "Jeff Garzik",
        "email": "jgarzik@bitpay.com",
        "date": "2015-07-09T03:03:48Z"
      },
      "author": {
        "name": "Jeff Garzik",
        "email": "jgarzik@bitpay.com",
        "date": "2015-07-09T03:03:48Z"
      },
      "sha": "e459798a3c94e43c40325403d648ef1ec4031888"
    },
    {
      "event": "commented",
      "id": 119803941,
      "node_id": "MDEyOklzc3VlQ29tbWVudDExOTgwMzk0MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/119803941",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-09T03:27:32Z",
      "updated_at": "2015-07-09T03:27:32Z",
      "author_association": "MEMBER",
      "body": "Concept ACK, but why run on a schedule rather than after/before accepting new txns?\n",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#issuecomment-119803941",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6402"
    },
    {
      "event": "commented",
      "id": 119817888,
      "node_id": "MDEyOklzc3VlQ29tbWVudDExOTgxNzg4OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/119817888",
      "actor": {
        "login": "jgarzik",
        "id": 494411,
        "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/494411?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jgarzik",
        "html_url": "https://github.com/jgarzik",
        "followers_url": "https://api.github.com/users/jgarzik/followers",
        "following_url": "https://api.github.com/users/jgarzik/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jgarzik/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jgarzik/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
        "organizations_url": "https://api.github.com/users/jgarzik/orgs",
        "repos_url": "https://api.github.com/users/jgarzik/repos",
        "events_url": "https://api.github.com/users/jgarzik/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jgarzik/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-09T04:58:29Z",
      "updated_at": "2015-07-09T04:58:29Z",
      "author_association": "CONTRIBUTOR",
      "body": "It takes a while for the condition to clear once noticed.  You don't want to run it too frequently.\n",
      "user": {
        "login": "jgarzik",
        "id": 494411,
        "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/494411?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jgarzik",
        "html_url": "https://github.com/jgarzik",
        "followers_url": "https://api.github.com/users/jgarzik/followers",
        "following_url": "https://api.github.com/users/jgarzik/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jgarzik/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jgarzik/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
        "organizations_url": "https://api.github.com/users/jgarzik/orgs",
        "repos_url": "https://api.github.com/users/jgarzik/repos",
        "events_url": "https://api.github.com/users/jgarzik/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jgarzik/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#issuecomment-119817888",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6402"
    },
    {
      "event": "commented",
      "id": 119820386,
      "node_id": "MDEyOklzc3VlQ29tbWVudDExOTgyMDM4Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/119820386",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-09T05:05:59Z",
      "updated_at": "2015-07-09T05:05:59Z",
      "author_association": "MEMBER",
      "body": "I mean for setting the condition and increasing the minimum fee.. otherwise someone just needs to flood you as fast as they can before it kicks in, right?\n",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#issuecomment-119820386",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6402"
    },
    {
      "event": "commented",
      "id": 119830044,
      "node_id": "MDEyOklzc3VlQ29tbWVudDExOTgzMDA0NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/119830044",
      "actor": {
        "login": "jgarzik",
        "id": 494411,
        "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/494411?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jgarzik",
        "html_url": "https://github.com/jgarzik",
        "followers_url": "https://api.github.com/users/jgarzik/followers",
        "following_url": "https://api.github.com/users/jgarzik/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jgarzik/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jgarzik/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
        "organizations_url": "https://api.github.com/users/jgarzik/orgs",
        "repos_url": "https://api.github.com/users/jgarzik/repos",
        "events_url": "https://api.github.com/users/jgarzik/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jgarzik/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-09T06:03:46Z",
      "updated_at": "2015-07-09T06:03:46Z",
      "author_association": "CONTRIBUTOR",
      "body": "@luke-jr That is the ideal, but it requires a bit more effort.  Must avoid adding too much code to the per-tx fast path.\n\nA likely solution is perform inexpensive per-tx checks on total mempool size, then trigger some background action.  Such a solution would trigger upon the first tx exceeding high water limit.\n",
      "user": {
        "login": "jgarzik",
        "id": 494411,
        "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/494411?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jgarzik",
        "html_url": "https://github.com/jgarzik",
        "followers_url": "https://api.github.com/users/jgarzik/followers",
        "following_url": "https://api.github.com/users/jgarzik/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jgarzik/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jgarzik/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
        "organizations_url": "https://api.github.com/users/jgarzik/orgs",
        "repos_url": "https://api.github.com/users/jgarzik/repos",
        "events_url": "https://api.github.com/users/jgarzik/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jgarzik/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#issuecomment-119830044",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6402"
    },
    {
      "event": "mentioned",
      "id": 351522014,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzUxNTIyMDE0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/351522014",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-09T06:03:46Z"
    },
    {
      "event": "subscribed",
      "id": 351522015,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM1MTUyMjAxNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/351522015",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-09T06:03:46Z"
    },
    {
      "event": "commented",
      "id": 119830846,
      "node_id": "MDEyOklzc3VlQ29tbWVudDExOTgzMDg0Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/119830846",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-09T06:07:22Z",
      "updated_at": "2015-07-09T06:07:22Z",
      "author_association": "MEMBER",
      "body": "First tx exceeding the limit trigger SGTM\n",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#issuecomment-119830846",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6402"
    },
    {
      "event": "commented",
      "id": 119856632,
      "node_id": "MDEyOklzc3VlQ29tbWVudDExOTg1NjYzMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/119856632",
      "actor": {
        "login": "randy-waterhouse",
        "id": 637706,
        "node_id": "MDQ6VXNlcjYzNzcwNg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/637706?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/randy-waterhouse",
        "html_url": "https://github.com/randy-waterhouse",
        "followers_url": "https://api.github.com/users/randy-waterhouse/followers",
        "following_url": "https://api.github.com/users/randy-waterhouse/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/randy-waterhouse/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/randy-waterhouse/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/randy-waterhouse/subscriptions",
        "organizations_url": "https://api.github.com/users/randy-waterhouse/orgs",
        "repos_url": "https://api.github.com/users/randy-waterhouse/repos",
        "events_url": "https://api.github.com/users/randy-waterhouse/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/randy-waterhouse/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-09T07:33:15Z",
      "updated_at": "2015-07-09T07:33:15Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK. Nice work Jeff.\n",
      "user": {
        "login": "randy-waterhouse",
        "id": 637706,
        "node_id": "MDQ6VXNlcjYzNzcwNg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/637706?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/randy-waterhouse",
        "html_url": "https://github.com/randy-waterhouse",
        "followers_url": "https://api.github.com/users/randy-waterhouse/followers",
        "following_url": "https://api.github.com/users/randy-waterhouse/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/randy-waterhouse/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/randy-waterhouse/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/randy-waterhouse/subscriptions",
        "organizations_url": "https://api.github.com/users/randy-waterhouse/orgs",
        "repos_url": "https://api.github.com/users/randy-waterhouse/repos",
        "events_url": "https://api.github.com/users/randy-waterhouse/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/randy-waterhouse/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#issuecomment-119856632",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6402"
    },
    {
      "event": "commented",
      "id": 119903967,
      "node_id": "MDEyOklzc3VlQ29tbWVudDExOTkwMzk2Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/119903967",
      "actor": {
        "login": "ashleyholman",
        "id": 549484,
        "node_id": "MDQ6VXNlcjU0OTQ4NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/549484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ashleyholman",
        "html_url": "https://github.com/ashleyholman",
        "followers_url": "https://api.github.com/users/ashleyholman/followers",
        "following_url": "https://api.github.com/users/ashleyholman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ashleyholman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ashleyholman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ashleyholman/subscriptions",
        "organizations_url": "https://api.github.com/users/ashleyholman/orgs",
        "repos_url": "https://api.github.com/users/ashleyholman/repos",
        "events_url": "https://api.github.com/users/ashleyholman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ashleyholman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-09T10:31:25Z",
      "updated_at": "2015-07-09T10:31:25Z",
      "author_association": "CONTRIBUTOR",
      "body": "Let's imagine the memory pool hits the low watermark and at that time it consists of 80% spam transactions at 100 bits/kb.  Then the lowest fee rate in the top half will be 100bits/kb and so further spam at the same rate will still enter the pool?  This will continue so long as the spammer can produce >50% of the transactions arriving at the node.\n",
      "user": {
        "login": "ashleyholman",
        "id": 549484,
        "node_id": "MDQ6VXNlcjU0OTQ4NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/549484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ashleyholman",
        "html_url": "https://github.com/ashleyholman",
        "followers_url": "https://api.github.com/users/ashleyholman/followers",
        "following_url": "https://api.github.com/users/ashleyholman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ashleyholman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ashleyholman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ashleyholman/subscriptions",
        "organizations_url": "https://api.github.com/users/ashleyholman/orgs",
        "repos_url": "https://api.github.com/users/ashleyholman/repos",
        "events_url": "https://api.github.com/users/ashleyholman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ashleyholman/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#issuecomment-119903967",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6402"
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwNTE0MTU6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwNTE0MTk6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwNTE0MjM6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwNTE0MjY6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwNTE0Mjk6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwNTE0MzM6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwNTE0MzY6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "commented",
      "id": 119942020,
      "node_id": "MDEyOklzc3VlQ29tbWVudDExOTk0MjAyMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/119942020",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-09T12:23:32Z",
      "updated_at": "2015-07-09T12:23:32Z",
      "author_association": "CONTRIBUTOR",
      "body": "Tested a bit. Had to add three commits to get it running: https://github.com/jonasschnelli/bitcoin/commits/2015/07/mempool_janitor\n\n**Nice work!**\n\nI'm not sure but it feels that it somehow doesn't prevent from flooded mempools.\nExample: if someone is flooding your node with 1tx/s with a correct minRelayTxFee (lets assume 1000/kb), the janitor will always keep the minRelayTxFee at 1000/kb, because the back of the vector of all feerates / 2 will very likely to still be 1000/kb.\n\nI have set up a test: https://github.com/jonasschnelli/bitcoin/commit/086a59fc2084126dfbf8c28829cc236bfd3635f2\n\nSure this is not a real world example, but i would say even if <1/2 of the tx would contain higher fees, the floating relay fee would still stick at 1000/kb.\n\nMaybe it should somehow take the mempool size into the calculation (correlated with the block size).\n",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#issuecomment-119942020",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6402"
    },
    {
      "event": "commented",
      "id": 120018354,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEyMDAxODM1NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/120018354",
      "actor": {
        "login": "m-schmoock",
        "id": 4090425,
        "node_id": "MDQ6VXNlcjQwOTA0MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4090425?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/m-schmoock",
        "html_url": "https://github.com/m-schmoock",
        "followers_url": "https://api.github.com/users/m-schmoock/followers",
        "following_url": "https://api.github.com/users/m-schmoock/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/m-schmoock/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/m-schmoock/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/m-schmoock/subscriptions",
        "organizations_url": "https://api.github.com/users/m-schmoock/orgs",
        "repos_url": "https://api.github.com/users/m-schmoock/repos",
        "events_url": "https://api.github.com/users/m-schmoock/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/m-schmoock/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-09T15:04:39Z",
      "updated_at": "2015-07-09T15:04:39Z",
      "author_association": "NONE",
      "body": "@jgarzik \n[quote luke]Concept ACK, but why run on a schedule rather than after/before accepting new txns? [/quote] \n[quote jgarzik ] It takes a while for the condition to clear once noticed. You don't want to run it too frequently. [/quote] \n\nIsn't a integer set and compare per transaction that keeps track of the mempool size a very, very fast operation? Using scheduling for this seems overkill to me.\n",
      "user": {
        "login": "m-schmoock",
        "id": 4090425,
        "node_id": "MDQ6VXNlcjQwOTA0MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4090425?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/m-schmoock",
        "html_url": "https://github.com/m-schmoock",
        "followers_url": "https://api.github.com/users/m-schmoock/followers",
        "following_url": "https://api.github.com/users/m-schmoock/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/m-schmoock/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/m-schmoock/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/m-schmoock/subscriptions",
        "organizations_url": "https://api.github.com/users/m-schmoock/orgs",
        "repos_url": "https://api.github.com/users/m-schmoock/repos",
        "events_url": "https://api.github.com/users/m-schmoock/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/m-schmoock/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#issuecomment-120018354",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6402"
    },
    {
      "event": "mentioned",
      "id": 351974392,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzUxOTc0Mzky",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/351974392",
      "actor": {
        "login": "jgarzik",
        "id": 494411,
        "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/494411?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jgarzik",
        "html_url": "https://github.com/jgarzik",
        "followers_url": "https://api.github.com/users/jgarzik/followers",
        "following_url": "https://api.github.com/users/jgarzik/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jgarzik/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jgarzik/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
        "organizations_url": "https://api.github.com/users/jgarzik/orgs",
        "repos_url": "https://api.github.com/users/jgarzik/repos",
        "events_url": "https://api.github.com/users/jgarzik/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jgarzik/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-09T15:04:39Z"
    },
    {
      "event": "subscribed",
      "id": 351974393,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM1MTk3NDM5Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/351974393",
      "actor": {
        "login": "jgarzik",
        "id": 494411,
        "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/494411?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jgarzik",
        "html_url": "https://github.com/jgarzik",
        "followers_url": "https://api.github.com/users/jgarzik/followers",
        "following_url": "https://api.github.com/users/jgarzik/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jgarzik/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jgarzik/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
        "organizations_url": "https://api.github.com/users/jgarzik/orgs",
        "repos_url": "https://api.github.com/users/jgarzik/repos",
        "events_url": "https://api.github.com/users/jgarzik/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jgarzik/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-09T15:04:39Z"
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwNTE0Mzg6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "commented",
      "id": 120093845,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEyMDA5Mzg0NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/120093845",
      "actor": {
        "login": "andreas-cubits",
        "id": 10465353,
        "node_id": "MDQ6VXNlcjEwNDY1MzUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/10465353?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andreas-cubits",
        "html_url": "https://github.com/andreas-cubits",
        "followers_url": "https://api.github.com/users/andreas-cubits/followers",
        "following_url": "https://api.github.com/users/andreas-cubits/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andreas-cubits/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andreas-cubits/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andreas-cubits/subscriptions",
        "organizations_url": "https://api.github.com/users/andreas-cubits/orgs",
        "repos_url": "https://api.github.com/users/andreas-cubits/repos",
        "events_url": "https://api.github.com/users/andreas-cubits/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andreas-cubits/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-09T18:20:43Z",
      "updated_at": "2015-07-09T18:20:43Z",
      "author_association": "NONE",
      "body": "@jonasschnelli You are correct that this patch would not effectively prevent mempool flooding if the spam transactions all have the same fee/kb and make up for more than half of the mempool. Sorting by unique fee/kb values and then using the lowest entry of the top half as minRelayTxFee would however seem to fix this.\n",
      "user": {
        "login": "andreas-cubits",
        "id": 10465353,
        "node_id": "MDQ6VXNlcjEwNDY1MzUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/10465353?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andreas-cubits",
        "html_url": "https://github.com/andreas-cubits",
        "followers_url": "https://api.github.com/users/andreas-cubits/followers",
        "following_url": "https://api.github.com/users/andreas-cubits/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andreas-cubits/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andreas-cubits/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andreas-cubits/subscriptions",
        "organizations_url": "https://api.github.com/users/andreas-cubits/orgs",
        "repos_url": "https://api.github.com/users/andreas-cubits/repos",
        "events_url": "https://api.github.com/users/andreas-cubits/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andreas-cubits/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#issuecomment-120093845",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6402"
    },
    {
      "event": "mentioned",
      "id": 352176334,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzUyMTc2MzM0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/352176334",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-09T18:20:43Z"
    },
    {
      "event": "subscribed",
      "id": 352176335,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM1MjE3NjMzNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/352176335",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-09T18:20:43Z"
    },
    {
      "event": "commented",
      "id": 120121188,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEyMDEyMTE4OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/120121188",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-09T19:35:26Z",
      "updated_at": "2015-07-09T19:35:26Z",
      "author_association": "MEMBER",
      "body": "I'm not a big fan of increasing the dust limit dynamically as a part of this. I'd much prefer to only increase the relay fee itself and not touch dust. Still, it seems the majority of what this patch rejects are dust transactions, not rejecting free transactions using the rate limiter.\n",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#issuecomment-120121188",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6402"
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwNTE0NDI6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwNTE0NDM6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwNTE0NDQ6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "commented",
      "id": 120128114,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEyMDEyODExNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/120128114",
      "actor": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-09T19:59:39Z",
      "updated_at": "2015-07-09T19:59:39Z",
      "author_association": "CONTRIBUTOR",
      "body": "Apart from the nits, I wonder if this could be integrated with the fee estimator in policy/fees.o\n",
      "user": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#issuecomment-120128114",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6402"
    },
    {
      "event": "commented",
      "id": 120149184,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEyMDE0OTE4NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/120149184",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-09T21:29:04Z",
      "updated_at": "2015-07-09T21:29:19Z",
      "author_association": "MEMBER",
      "body": "@jtimon You mean like https://github.com/TheBlueMatt/bitcoin/commit/e68aee1e93d82ccb4c7310149581c8c5d738cd4a ? :p\nCurrently limits mempool to only a few MBs\n",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#issuecomment-120149184",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6402"
    },
    {
      "event": "mentioned",
      "id": 352349859,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzUyMzQ5ODU5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/352349859",
      "actor": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-09T21:29:04Z"
    },
    {
      "event": "subscribed",
      "id": 352349860,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM1MjM0OTg2MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/352349860",
      "actor": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-09T21:29:04Z"
    },
    {
      "event": "commented",
      "id": 120186863,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEyMDE4Njg2Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/120186863",
      "actor": {
        "login": "randy-waterhouse",
        "id": 637706,
        "node_id": "MDQ6VXNlcjYzNzcwNg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/637706?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/randy-waterhouse",
        "html_url": "https://github.com/randy-waterhouse",
        "followers_url": "https://api.github.com/users/randy-waterhouse/followers",
        "following_url": "https://api.github.com/users/randy-waterhouse/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/randy-waterhouse/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/randy-waterhouse/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/randy-waterhouse/subscriptions",
        "organizations_url": "https://api.github.com/users/randy-waterhouse/orgs",
        "repos_url": "https://api.github.com/users/randy-waterhouse/repos",
        "events_url": "https://api.github.com/users/randy-waterhouse/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/randy-waterhouse/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-10T00:45:08Z",
      "updated_at": "2015-07-10T00:45:08Z",
      "author_association": "CONTRIBUTOR",
      "body": "@jtimon @TheBlueMatt integrating fee estimation with mempool management risks integrating wallet function with network function of the node.\n",
      "user": {
        "login": "randy-waterhouse",
        "id": 637706,
        "node_id": "MDQ6VXNlcjYzNzcwNg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/637706?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/randy-waterhouse",
        "html_url": "https://github.com/randy-waterhouse",
        "followers_url": "https://api.github.com/users/randy-waterhouse/followers",
        "following_url": "https://api.github.com/users/randy-waterhouse/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/randy-waterhouse/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/randy-waterhouse/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/randy-waterhouse/subscriptions",
        "organizations_url": "https://api.github.com/users/randy-waterhouse/orgs",
        "repos_url": "https://api.github.com/users/randy-waterhouse/repos",
        "events_url": "https://api.github.com/users/randy-waterhouse/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/randy-waterhouse/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#issuecomment-120186863",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6402"
    },
    {
      "event": "mentioned",
      "id": 352463986,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzUyNDYzOTg2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/352463986",
      "actor": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-10T00:45:08Z"
    },
    {
      "event": "subscribed",
      "id": 352463987,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM1MjQ2Mzk4Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/352463987",
      "actor": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-10T00:45:08Z"
    },
    {
      "event": "mentioned",
      "id": 352463988,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzUyNDYzOTg4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/352463988",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-10T00:45:08Z"
    },
    {
      "event": "subscribed",
      "id": 352463989,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM1MjQ2Mzk4OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/352463989",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-10T00:45:08Z"
    },
    {
      "event": "commented",
      "id": 120187640,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEyMDE4NzY0MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/120187640",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-10T00:49:24Z",
      "updated_at": "2015-07-10T00:50:02Z",
      "author_association": "MEMBER",
      "body": "@randy-waterhouse Huh? fee estimation code is managed by mempool...it is called by the wallet, but it is not a \"wallet function\". (dunno if it makes sense to use it to manage minimum tx fee, though, it may not work so great when looking at many-block confirmations, I havent dug into it much)\n",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#issuecomment-120187640",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6402"
    },
    {
      "event": "mentioned",
      "id": 352465790,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzUyNDY1Nzkw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/352465790",
      "actor": {
        "login": "randy-waterhouse",
        "id": 637706,
        "node_id": "MDQ6VXNlcjYzNzcwNg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/637706?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/randy-waterhouse",
        "html_url": "https://github.com/randy-waterhouse",
        "followers_url": "https://api.github.com/users/randy-waterhouse/followers",
        "following_url": "https://api.github.com/users/randy-waterhouse/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/randy-waterhouse/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/randy-waterhouse/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/randy-waterhouse/subscriptions",
        "organizations_url": "https://api.github.com/users/randy-waterhouse/orgs",
        "repos_url": "https://api.github.com/users/randy-waterhouse/repos",
        "events_url": "https://api.github.com/users/randy-waterhouse/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/randy-waterhouse/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-10T00:49:24Z"
    },
    {
      "event": "subscribed",
      "id": 352465792,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM1MjQ2NTc5Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/352465792",
      "actor": {
        "login": "randy-waterhouse",
        "id": 637706,
        "node_id": "MDQ6VXNlcjYzNzcwNg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/637706?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/randy-waterhouse",
        "html_url": "https://github.com/randy-waterhouse",
        "followers_url": "https://api.github.com/users/randy-waterhouse/followers",
        "following_url": "https://api.github.com/users/randy-waterhouse/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/randy-waterhouse/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/randy-waterhouse/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/randy-waterhouse/subscriptions",
        "organizations_url": "https://api.github.com/users/randy-waterhouse/orgs",
        "repos_url": "https://api.github.com/users/randy-waterhouse/repos",
        "events_url": "https://api.github.com/users/randy-waterhouse/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/randy-waterhouse/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-10T00:49:24Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2YzQ0OWJkY2ZlNzM1MjZmMDlkZjhmM2FkNTgxZjQ5NDY3ZjdiMmRk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6c449bdcfe73526f09df8f3ad581f49467f7b2dd",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6c449bdcfe73526f09df8f3ad581f49467f7b2dd",
      "tree": {
        "sha": "1a8e7ad8a05878b00ea086fffe183746ea353a19",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1a8e7ad8a05878b00ea086fffe183746ea353a19"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e459798a3c94e43c40325403d648ef1ec4031888",
          "sha": "e459798a3c94e43c40325403d648ef1ec4031888",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/e459798a3c94e43c40325403d648ef1ec4031888"
        }
      ],
      "message": "poolman: fix minor nits [squashme]",
      "committer": {
        "name": "Jeff Garzik",
        "email": "jgarzik@bitpay.com",
        "date": "2015-07-10T04:32:09Z"
      },
      "author": {
        "name": "Jeff Garzik",
        "email": "jgarzik@bitpay.com",
        "date": "2015-07-10T04:32:09Z"
      },
      "sha": "6c449bdcfe73526f09df8f3ad581f49467f7b2dd"
    },
    {
      "event": "commented",
      "id": 120222453,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEyMDIyMjQ1Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/120222453",
      "actor": {
        "login": "jgarzik",
        "id": 494411,
        "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/494411?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jgarzik",
        "html_url": "https://github.com/jgarzik",
        "followers_url": "https://api.github.com/users/jgarzik/followers",
        "following_url": "https://api.github.com/users/jgarzik/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jgarzik/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jgarzik/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
        "organizations_url": "https://api.github.com/users/jgarzik/orgs",
        "repos_url": "https://api.github.com/users/jgarzik/repos",
        "events_url": "https://api.github.com/users/jgarzik/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jgarzik/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-10T04:33:57Z",
      "updated_at": "2015-07-10T04:33:57Z",
      "author_association": "CONTRIBUTOR",
      "body": "Fixed bug found by @jonasschnelli and some minor nits.\n\nWill address the @luke-jr feedback RE triggering next.\n",
      "user": {
        "login": "jgarzik",
        "id": 494411,
        "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/494411?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jgarzik",
        "html_url": "https://github.com/jgarzik",
        "followers_url": "https://api.github.com/users/jgarzik/followers",
        "following_url": "https://api.github.com/users/jgarzik/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jgarzik/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jgarzik/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
        "organizations_url": "https://api.github.com/users/jgarzik/orgs",
        "repos_url": "https://api.github.com/users/jgarzik/repos",
        "events_url": "https://api.github.com/users/jgarzik/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jgarzik/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#issuecomment-120222453",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6402"
    },
    {
      "event": "mentioned",
      "id": 352560794,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzUyNTYwNzk0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/352560794",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-10T04:33:57Z"
    },
    {
      "event": "subscribed",
      "id": 352560795,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM1MjU2MDc5NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/352560795",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-10T04:33:57Z"
    },
    {
      "event": "mentioned",
      "id": 352560796,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzUyNTYwNzk2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/352560796",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-10T04:33:57Z"
    },
    {
      "event": "subscribed",
      "id": 352560797,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM1MjU2MDc5Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/352560797",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-10T04:33:57Z"
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwNTE0NDU6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "commented",
      "id": 120287415,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEyMDI4NzQxNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/120287415",
      "actor": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-10T08:17:01Z",
      "updated_at": "2015-07-10T08:17:01Z",
      "author_association": "CONTRIBUTOR",
      "body": "> @jtimon @TheBlueMatt integrating fee estimation with mempool management risks integrating wallet function with network function of the node.\n\nThis (and the estimator) are policy code. Assuming #6068 ever gets merged, I plan to:\n\n1) Turn minRelayTxFee global into a CStandardPolicy attribute (decoupling the mempool from that global, but coupling it to CPolicy [which now returns a ref to the estimator]).\n2) Decouple the mempool from CPolicy.\n\nIn fact I've already done this, but it is bitrotten.\nIf the new globals introduced here were attributes of the estimator my plan would probably be easier to execute.\nIf #6068 gets merged, this can be moved to policy/policy instead of policy/fees, whatever makes more sense. At some point we need to stop producing new policy-related globals...\n\n@morcos may be interested in this PR too.\n",
      "user": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#issuecomment-120287415",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6402"
    },
    {
      "event": "mentioned",
      "id": 352691543,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzUyNjkxNTQz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/352691543",
      "actor": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-10T08:17:01Z"
    },
    {
      "event": "subscribed",
      "id": 352691544,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM1MjY5MTU0NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/352691544",
      "actor": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-10T08:17:01Z"
    },
    {
      "event": "mentioned",
      "id": 352691545,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzUyNjkxNTQ1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/352691545",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-10T08:17:01Z"
    },
    {
      "event": "subscribed",
      "id": 352691546,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM1MjY5MTU0Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/352691546",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-10T08:17:01Z"
    },
    {
      "event": "mentioned",
      "id": 352691547,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzUyNjkxNTQ3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/352691547",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-10T08:17:01Z"
    },
    {
      "event": "subscribed",
      "id": 352691548,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM1MjY5MTU0OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/352691548",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-10T08:17:01Z"
    },
    {
      "event": "commented",
      "id": 120387395,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEyMDM4NzM5NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/120387395",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-10T11:16:22Z",
      "updated_at": "2015-07-10T11:16:22Z",
      "author_association": "MEMBER",
      "body": "@jgarzik I saw some of your conversation with @pstratem on -dev IRC last night.  \nI now agree with you that expiration by age makes the most sense.  But I wonder if there is an edge case where somehow the mempool is able to be flooded quickly with mostly low fee transactions that will cause recent (but still oldest) high fee transactions to get booted.  Perhaps an age check could trigger booting by fees as well..\n\nRegardless, I think its important to keep the mempool sorted by fees.  Fee estimation is badly in need of an improvement which would let it walk the mempool to see how many blocks worth of transactions are already in queue with higher fees.  This is the only way to reasonably respond to momentary spikes in transaction volume.  What do you think about using #6331 as a framework to add these other improvements...\n",
      "user": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#issuecomment-120387395",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6402"
    },
    {
      "event": "mentioned",
      "id": 352855350,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzUyODU1MzUw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/352855350",
      "actor": {
        "login": "jgarzik",
        "id": 494411,
        "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/494411?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jgarzik",
        "html_url": "https://github.com/jgarzik",
        "followers_url": "https://api.github.com/users/jgarzik/followers",
        "following_url": "https://api.github.com/users/jgarzik/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jgarzik/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jgarzik/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
        "organizations_url": "https://api.github.com/users/jgarzik/orgs",
        "repos_url": "https://api.github.com/users/jgarzik/repos",
        "events_url": "https://api.github.com/users/jgarzik/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jgarzik/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-10T11:16:22Z"
    },
    {
      "event": "subscribed",
      "id": 352855351,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM1Mjg1NTM1MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/352855351",
      "actor": {
        "login": "jgarzik",
        "id": 494411,
        "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/494411?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jgarzik",
        "html_url": "https://github.com/jgarzik",
        "followers_url": "https://api.github.com/users/jgarzik/followers",
        "following_url": "https://api.github.com/users/jgarzik/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jgarzik/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jgarzik/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
        "organizations_url": "https://api.github.com/users/jgarzik/orgs",
        "repos_url": "https://api.github.com/users/jgarzik/repos",
        "events_url": "https://api.github.com/users/jgarzik/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jgarzik/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-10T11:16:22Z"
    },
    {
      "event": "mentioned",
      "id": 352855352,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzUyODU1MzUy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/352855352",
      "actor": {
        "login": "pstratem",
        "id": 620611,
        "node_id": "MDQ6VXNlcjYyMDYxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/620611?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pstratem",
        "html_url": "https://github.com/pstratem",
        "followers_url": "https://api.github.com/users/pstratem/followers",
        "following_url": "https://api.github.com/users/pstratem/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pstratem/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pstratem/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pstratem/subscriptions",
        "organizations_url": "https://api.github.com/users/pstratem/orgs",
        "repos_url": "https://api.github.com/users/pstratem/repos",
        "events_url": "https://api.github.com/users/pstratem/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pstratem/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-10T11:16:22Z"
    },
    {
      "event": "subscribed",
      "id": 352855353,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM1Mjg1NTM1Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/352855353",
      "actor": {
        "login": "pstratem",
        "id": 620611,
        "node_id": "MDQ6VXNlcjYyMDYxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/620611?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pstratem",
        "html_url": "https://github.com/pstratem",
        "followers_url": "https://api.github.com/users/pstratem/followers",
        "following_url": "https://api.github.com/users/pstratem/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pstratem/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pstratem/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pstratem/subscriptions",
        "organizations_url": "https://api.github.com/users/pstratem/orgs",
        "repos_url": "https://api.github.com/users/pstratem/repos",
        "events_url": "https://api.github.com/users/pstratem/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pstratem/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-10T11:16:22Z"
    },
    {
      "event": "mentioned",
      "id": 353426539,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzUzNDI2NTM5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/353426539",
      "actor": {
        "login": "jgarzik",
        "id": 494411,
        "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/494411?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jgarzik",
        "html_url": "https://github.com/jgarzik",
        "followers_url": "https://api.github.com/users/jgarzik/followers",
        "following_url": "https://api.github.com/users/jgarzik/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jgarzik/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jgarzik/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
        "organizations_url": "https://api.github.com/users/jgarzik/orgs",
        "repos_url": "https://api.github.com/users/jgarzik/repos",
        "events_url": "https://api.github.com/users/jgarzik/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jgarzik/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-11T00:31:50Z"
    },
    {
      "event": "subscribed",
      "id": 353426540,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM1MzQyNjU0MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/353426540",
      "actor": {
        "login": "jgarzik",
        "id": 494411,
        "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/494411?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jgarzik",
        "html_url": "https://github.com/jgarzik",
        "followers_url": "https://api.github.com/users/jgarzik/followers",
        "following_url": "https://api.github.com/users/jgarzik/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jgarzik/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jgarzik/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
        "organizations_url": "https://api.github.com/users/jgarzik/orgs",
        "repos_url": "https://api.github.com/users/jgarzik/repos",
        "events_url": "https://api.github.com/users/jgarzik/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jgarzik/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-11T00:31:50Z"
    },
    {
      "event": "labeled",
      "id": 354190547,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDM1NDE5MDU0Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/354190547",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-13T09:57:36Z",
      "label": {
        "name": "Mempool",
        "color": "fef2c0"
      }
    },
    {
      "event": "commented",
      "id": 121126371,
      "node_id": "MDEyOklzc3VlQ29tbWVudDEyMTEyNjM3MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/121126371",
      "actor": {
        "login": "ABISprotocol",
        "id": 4469280,
        "node_id": "MDQ6VXNlcjQ0NjkyODA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4469280?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ABISprotocol",
        "html_url": "https://github.com/ABISprotocol",
        "followers_url": "https://api.github.com/users/ABISprotocol/followers",
        "following_url": "https://api.github.com/users/ABISprotocol/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ABISprotocol/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ABISprotocol/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ABISprotocol/subscriptions",
        "organizations_url": "https://api.github.com/users/ABISprotocol/orgs",
        "repos_url": "https://api.github.com/users/ABISprotocol/repos",
        "events_url": "https://api.github.com/users/ABISprotocol/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ABISprotocol/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-14T03:57:46Z",
      "updated_at": "2015-07-14T03:57:46Z",
      "author_association": "NONE",
      "body": "If I understand this right, this pull request would reject many dust transactions, not rejecting free transactions; above 'high water' byte size limit for memory pool, fees to further fill memory pools become increasingly more expensive, making it dynamic.  I would like to see this amended such that dust can be handled differently, managed better, and accepted more (once an hour, or randomly, or sent to an external handler, see for example @petertodd's [repo for handling dust](https://github.com/petertodd/dust-b-gone)).  Rather than viewing this as \"dust problems,\" I suggest that this be re-examined as an opportunity to look at the dust in the context of microgiving.  Thank you for reading.\n\nABISprotocol\nhttp://abis.io\n",
      "user": {
        "login": "ABISprotocol",
        "id": 4469280,
        "node_id": "MDQ6VXNlcjQ0NjkyODA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4469280?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ABISprotocol",
        "html_url": "https://github.com/ABISprotocol",
        "followers_url": "https://api.github.com/users/ABISprotocol/followers",
        "following_url": "https://api.github.com/users/ABISprotocol/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ABISprotocol/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ABISprotocol/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ABISprotocol/subscriptions",
        "organizations_url": "https://api.github.com/users/ABISprotocol/orgs",
        "repos_url": "https://api.github.com/users/ABISprotocol/repos",
        "events_url": "https://api.github.com/users/ABISprotocol/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ABISprotocol/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#issuecomment-121126371",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6402"
    },
    {
      "event": "mentioned",
      "id": 355004797,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzU1MDA0Nzk3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/355004797",
      "actor": {
        "login": "petertodd",
        "id": 7042,
        "node_id": "MDQ6VXNlcjcwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/petertodd",
        "html_url": "https://github.com/petertodd",
        "followers_url": "https://api.github.com/users/petertodd/followers",
        "following_url": "https://api.github.com/users/petertodd/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/petertodd/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/petertodd/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/petertodd/subscriptions",
        "organizations_url": "https://api.github.com/users/petertodd/orgs",
        "repos_url": "https://api.github.com/users/petertodd/repos",
        "events_url": "https://api.github.com/users/petertodd/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/petertodd/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-14T03:57:46Z"
    },
    {
      "event": "subscribed",
      "id": 355004798,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM1NTAwNDc5OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/355004798",
      "actor": {
        "login": "petertodd",
        "id": 7042,
        "node_id": "MDQ6VXNlcjcwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/petertodd",
        "html_url": "https://github.com/petertodd",
        "followers_url": "https://api.github.com/users/petertodd/followers",
        "following_url": "https://api.github.com/users/petertodd/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/petertodd/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/petertodd/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/petertodd/subscriptions",
        "organizations_url": "https://api.github.com/users/petertodd/orgs",
        "repos_url": "https://api.github.com/users/petertodd/repos",
        "events_url": "https://api.github.com/users/petertodd/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/petertodd/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-07-14T03:57:46Z"
    },
    {
      "event": "commented",
      "id": 140244879,
      "node_id": "MDEyOklzc3VlQ29tbWVudDE0MDI0NDg3OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/140244879",
      "actor": {
        "login": "jgarzik",
        "id": 494411,
        "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/494411?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jgarzik",
        "html_url": "https://github.com/jgarzik",
        "followers_url": "https://api.github.com/users/jgarzik/followers",
        "following_url": "https://api.github.com/users/jgarzik/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jgarzik/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jgarzik/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
        "organizations_url": "https://api.github.com/users/jgarzik/orgs",
        "repos_url": "https://api.github.com/users/jgarzik/repos",
        "events_url": "https://api.github.com/users/jgarzik/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jgarzik/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-09-15T01:07:24Z",
      "updated_at": "2015-09-15T01:07:24Z",
      "author_association": "CONTRIBUTOR",
      "body": "Closing\n",
      "user": {
        "login": "jgarzik",
        "id": 494411,
        "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/494411?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jgarzik",
        "html_url": "https://github.com/jgarzik",
        "followers_url": "https://api.github.com/users/jgarzik/followers",
        "following_url": "https://api.github.com/users/jgarzik/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jgarzik/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jgarzik/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
        "organizations_url": "https://api.github.com/users/jgarzik/orgs",
        "repos_url": "https://api.github.com/users/jgarzik/repos",
        "events_url": "https://api.github.com/users/jgarzik/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jgarzik/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#issuecomment-140244879",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6402"
    },
    {
      "event": "closed",
      "id": 409294475,
      "node_id": "MDExOkNsb3NlZEV2ZW50NDA5Mjk0NDc1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/409294475",
      "actor": {
        "login": "jgarzik",
        "id": 494411,
        "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/494411?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jgarzik",
        "html_url": "https://github.com/jgarzik",
        "followers_url": "https://api.github.com/users/jgarzik/followers",
        "following_url": "https://api.github.com/users/jgarzik/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jgarzik/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jgarzik/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
        "organizations_url": "https://api.github.com/users/jgarzik/orgs",
        "repos_url": "https://api.github.com/users/jgarzik/repos",
        "events_url": "https://api.github.com/users/jgarzik/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jgarzik/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-09-15T01:07:24Z"
    },
    {
      "event": "locked",
      "id": 5271625854,
      "node_id": "LOE_lADOABII584FmXXFzwAAAAE6NqB-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5271625854",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-08T11:17:30Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34245304",
      "pull_request_review_id": null,
      "id": 34245304,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MjQ1MzA0",
      "diff_hunk": "@@ -0,0 +1,96 @@\n+\n+#include <algorithm>\n+#include <vector>\n+#include \"poolman.h\"\n+#include \"main.h\"\n+#include \"util.h\"\n+#include \"amount.h\"\n+#include \"utiltime.h\"\n+\n+using namespace std;\n+\n+static int64_t PoolmanLowWater, PoolmanHighWater;\n+static bool janitorInit = false;\n+static bool floatingFee = false;\n+static CFeeRate origTxFee;\n+\n+void TxMempoolJanitor()\n+{\n+    int64_t nStart = GetTimeMillis();\n+\n+    // remember original minimum tx fee\n+    if (!janitorInit) {\n+        janitorInit = true;\n+        origTxFee = ::minRelayTxFee;\n+    }\n+\n+    // query mempool stats\n+    unsigned long totalTx = mempool.size();\n+    int64_t totalSize = mempool.GetTotalTxSize();\n+\n+    // if below low water, disable janitor\n+    if (totalSize < PoolmanLowWater || totalTx < 2) {\n+        if (floatingFee) {\n+            floatingFee = false;\n+            ::minRelayTxFee = origTxFee;\n+        }\n+        LogPrint(\"mempool\", \"mempool level low, run complete,  %dms\\n\",\n+                 GetTimeMillis() - nStart);\n+        return;\n+    }\n+\n+    // if below high water, no more work.  floating fee might be active.\n+    if ((int64_t)mempool.GetTotalTxSize() < PoolmanHighWater) {\n+        LogPrint(\"mempool\", \"mempool level %s, run complete,  %dms\\n\",\n+                 floatingFee ? \"draining\" : \"adequate\",\n+                 GetTimeMillis() - nStart);\n+        return;\n+    }\n+\n+    // we are above high water.  float relay fee in response.\n+    floatingFee = true;\n+\n+    // get sorted list of fees in mempool\n+    vector<CFeeRate> vfees;\n+    mempool.queryFees(vfees);\n+    std::sort(vfees.begin(), vfees.end());\n+    std::reverse(vfees.begin(), vfees.end());\n+    vfees.resize(vfees.size() / 2);\n+\n+    // set relay fee to lowest rate of top half of mempool\n+    ::minRelayTxFee = vfees.back();\n+\n+    LogPrint(\"mempool\", \"mempool janitor run complete, fee rate %s, %dms\\n\",\n+             ::minRelayTxFee.ToString(),\n+             GetTimeMillis() - nStart);\n+}\n+\n+void InitTxMempoolJanitor(CScheduler& scheduler)\n+{\n+    // mempool janitor execution interval.  default interval: 10 min\n+    int janitorInterval = GetArg(\"-janitorinterval\", (60 * 10));\n+\n+    // mempool janitor low water, high water marks\n+    PoolmanHighWater = GetArg(\"-mempoolhighwater\", 0);\n+    if (PoolmanHighWater <= 0)\n+        PoolmanLowWater = -1;\n+    else {\n+        PoolmanLowWater = GetArg(\"-mempoollowwater\", -1);\n+        if (PoolmanLowWater < 0 || PoolmanLowWater > PoolmanHighWater)\n+            PoolmanLowWater = PoolmanHighWater / 2;\n+    }\n+\n+    // if interval too small or zero, janitor is disabled\n+    static const int janitorSaneInterval = 10;\n+    if ((janitorInterval < janitorSaneInterval) ||\n+        (PoolmanHighWater <= 0)) {",
      "path": "src/poolman.cpp",
      "position": 87,
      "original_position": 86,
      "commit_id": "6c449bdcfe73526f09df8f3ad581f49467f7b2dd",
      "original_commit_id": "e459798a3c94e43c40325403d648ef1ec4031888",
      "in_reply_to_id": null,
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Just ran into this sane check (while testing with 5s interval). Maybe it would be worth to add a `LogPrint(\"mempool\", \"Janitor has been disabled because of insane interval\")` or similar.\n",
      "created_at": "2015-07-09T11:21:39Z",
      "updated_at": "2015-07-10T04:33:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#discussion_r34245304",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34245304"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6402"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 87,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34245390",
      "pull_request_review_id": null,
      "id": 34245390,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MjQ1Mzkw",
      "diff_hunk": "@@ -0,0 +1,96 @@\n+\n+#include <algorithm>\n+#include <vector>\n+#include \"poolman.h\"\n+#include \"main.h\"\n+#include \"util.h\"\n+#include \"amount.h\"\n+#include \"utiltime.h\"\n+\n+using namespace std;\n+\n+static int64_t PoolmanLowWater, PoolmanHighWater;\n+static bool janitorInit = false;\n+static bool floatingFee = false;\n+static CFeeRate origTxFee;\n+\n+void TxMempoolJanitor()\n+{\n+    int64_t nStart = GetTimeMillis();\n+\n+    // remember original minimum tx fee\n+    if (!janitorInit) {\n+        janitorInit = true;\n+        origTxFee = ::minRelayTxFee;\n+    }\n+\n+    // query mempool stats\n+    unsigned long totalTx = mempool.size();\n+    int64_t totalSize = mempool.GetTotalTxSize();\n+\n+    // if below low water, disable janitor\n+    if (totalSize < PoolmanLowWater || totalTx < 2) {\n+        if (floatingFee) {\n+            floatingFee = false;\n+            ::minRelayTxFee = origTxFee;\n+        }\n+        LogPrint(\"mempool\", \"mempool level low, run complete,  %dms\\n\",\n+                 GetTimeMillis() - nStart);\n+        return;\n+    }\n+\n+    // if below high water, no more work.  floating fee might be active.\n+    if ((int64_t)mempool.GetTotalTxSize() < PoolmanHighWater) {\n+        LogPrint(\"mempool\", \"mempool level %s, run complete,  %dms\\n\",\n+                 floatingFee ? \"draining\" : \"adequate\",\n+                 GetTimeMillis() - nStart);\n+        return;\n+    }\n+\n+    // we are above high water.  float relay fee in response.\n+    floatingFee = true;\n+\n+    // get sorted list of fees in mempool\n+    vector<CFeeRate> vfees;\n+    mempool.queryFees(vfees);\n+    std::sort(vfees.begin(), vfees.end());\n+    std::reverse(vfees.begin(), vfees.end());\n+    vfees.resize(vfees.size() / 2);\n+\n+    // set relay fee to lowest rate of top half of mempool\n+    ::minRelayTxFee = vfees.back();\n+\n+    LogPrint(\"mempool\", \"mempool janitor run complete, fee rate %s, %dms\\n\",\n+             ::minRelayTxFee.ToString(),\n+             GetTimeMillis() - nStart);\n+}\n+\n+void InitTxMempoolJanitor(CScheduler& scheduler)\n+{\n+    // mempool janitor execution interval.  default interval: 10 min\n+    int janitorInterval = GetArg(\"-janitorinterval\", (60 * 10));\n+\n+    // mempool janitor low water, high water marks\n+    PoolmanHighWater = GetArg(\"-mempoolhighwater\", 0);\n+    if (PoolmanHighWater <= 0)\n+        PoolmanLowWater = -1;\n+    else {\n+        PoolmanLowWater = GetArg(\"-mempoollowwater\", -1);\n+        if (PoolmanLowWater < 0 || PoolmanLowWater > PoolmanHighWater)\n+            PoolmanLowWater = PoolmanHighWater / 2;\n+    }\n+\n+    // if interval too small or zero, janitor is disabled\n+    static const int janitorSaneInterval = 10;\n+    if ((janitorInterval < janitorSaneInterval) ||\n+        (PoolmanHighWater <= 0)) {\n+        janitorInterval = 0;\n+        PoolmanLowWater = -1;\n+        PoolmanHighWater = 0;\n+    }\n+\n+    // start mempool janitor\n+    if (janitorInterval > 0)\n+        scheduler.scheduleEvery(&TxMempoolJanitor, janitorInterval * 1000);",
      "path": "src/poolman.cpp",
      "position": null,
      "original_position": 94,
      "commit_id": "6c449bdcfe73526f09df8f3ad581f49467f7b2dd",
      "original_commit_id": "e459798a3c94e43c40325403d648ef1ec4031888",
      "in_reply_to_id": null,
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "rm *1000?\n",
      "created_at": "2015-07-09T11:23:33Z",
      "updated_at": "2015-07-10T04:33:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#discussion_r34245390",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34245390"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6402"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34245882",
      "pull_request_review_id": null,
      "id": 34245882,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MjQ1ODgy",
      "diff_hunk": "@@ -281,8 +282,11 @@ std::string HelpMessage(HelpMessageMode mode)\n     }\n     strUsage += HelpMessageOpt(\"-datadir=<dir>\", _(\"Specify data directory\"));\n     strUsage += HelpMessageOpt(\"-dbcache=<n>\", strprintf(_(\"Set database cache size in megabytes (%d to %d, default: %d)\"), nMinDbCache, nMaxDbCache, nDefaultDbCache));\n+    strUsage += HelpMessageOpt(\"-janitorinterval=<n>\", _(\"Number of seconds between each mempool janitor run (default: 10 minutes, 0=disable)\"));",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 12,
      "commit_id": "6c449bdcfe73526f09df8f3ad581f49467f7b2dd",
      "original_commit_id": "e459798a3c94e43c40325403d648ef1ec4031888",
      "in_reply_to_id": null,
      "user": {
        "login": "Diapolo",
        "id": 1419649,
        "node_id": "MDQ6VXNlcjE0MTk2NDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Diapolo",
        "html_url": "https://github.com/Diapolo",
        "followers_url": "https://api.github.com/users/Diapolo/followers",
        "following_url": "https://api.github.com/users/Diapolo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Diapolo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Diapolo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
        "organizations_url": "https://api.github.com/users/Diapolo/orgs",
        "repos_url": "https://api.github.com/users/Diapolo/repos",
        "events_url": "https://api.github.com/users/Diapolo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Diapolo/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This should be flexible, so please use something like above with -dbcache. Also update to `0 = disable` (spaces usage), while you are on it.\n\nAlso true for the other 2 options!\n",
      "created_at": "2015-07-09T11:32:19Z",
      "updated_at": "2015-07-10T04:33:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#discussion_r34245882",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34245882"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6402"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34246813",
      "pull_request_review_id": null,
      "id": 34246813,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MjQ2ODEz",
      "diff_hunk": "@@ -0,0 +1,96 @@\n+",
      "path": "src/poolman.cpp",
      "position": 4,
      "original_position": 1,
      "commit_id": "6c449bdcfe73526f09df8f3ad581f49467f7b2dd",
      "original_commit_id": "e459798a3c94e43c40325403d648ef1ec4031888",
      "in_reply_to_id": null,
      "user": {
        "login": "Diapolo",
        "id": 1419649,
        "node_id": "MDQ6VXNlcjE0MTk2NDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Diapolo",
        "html_url": "https://github.com/Diapolo",
        "followers_url": "https://api.github.com/users/Diapolo/followers",
        "following_url": "https://api.github.com/users/Diapolo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Diapolo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Diapolo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
        "organizations_url": "https://api.github.com/users/Diapolo/orgs",
        "repos_url": "https://api.github.com/users/Diapolo/repos",
        "events_url": "https://api.github.com/users/Diapolo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Diapolo/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Nit: Missing license, missing header group ordering and also std namespace polution.\n",
      "created_at": "2015-07-09T11:48:21Z",
      "updated_at": "2015-07-10T04:33:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#discussion_r34246813",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34246813"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6402"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 4,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34246854",
      "pull_request_review_id": null,
      "id": 34246854,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MjQ2ODU0",
      "diff_hunk": "@@ -0,0 +1,8 @@\n+#ifndef __BITCOIN_POOLMAN_H__",
      "path": "src/poolman.h",
      "position": null,
      "original_position": 1,
      "commit_id": "6c449bdcfe73526f09df8f3ad581f49467f7b2dd",
      "original_commit_id": "e459798a3c94e43c40325403d648ef1ec4031888",
      "in_reply_to_id": null,
      "user": {
        "login": "Diapolo",
        "id": 1419649,
        "node_id": "MDQ6VXNlcjE0MTk2NDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Diapolo",
        "html_url": "https://github.com/Diapolo",
        "followers_url": "https://api.github.com/users/Diapolo/followers",
        "following_url": "https://api.github.com/users/Diapolo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Diapolo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Diapolo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
        "organizations_url": "https://api.github.com/users/Diapolo/orgs",
        "repos_url": "https://api.github.com/users/Diapolo/repos",
        "events_url": "https://api.github.com/users/Diapolo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Diapolo/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Nit: Missing license header and wrong header naming string, should be `BITCOIN_POOLMAN_H` here and at the header end.\n",
      "created_at": "2015-07-09T11:49:16Z",
      "updated_at": "2015-07-10T04:33:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#discussion_r34246854",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34246854"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6402"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34246924",
      "pull_request_review_id": null,
      "id": 34246924,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MjQ2OTI0",
      "diff_hunk": "@@ -311,6 +311,19 @@ void CTxMemPool::queryHashes(vector<uint256>& vtxid)\n         vtxid.push_back((*mi).first);\n }\n \n+void CTxMemPool::queryFees(vector<CFeeRate>& vfees)\n+{\n+    vfees.clear();",
      "path": "src/txmempool.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "6c449bdcfe73526f09df8f3ad581f49467f7b2dd",
      "original_commit_id": "e459798a3c94e43c40325403d648ef1ec4031888",
      "in_reply_to_id": null,
      "user": {
        "login": "Diapolo",
        "id": 1419649,
        "node_id": "MDQ6VXNlcjE0MTk2NDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Diapolo",
        "html_url": "https://github.com/Diapolo",
        "followers_url": "https://api.github.com/users/Diapolo/followers",
        "following_url": "https://api.github.com/users/Diapolo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Diapolo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Diapolo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
        "organizations_url": "https://api.github.com/users/Diapolo/orgs",
        "repos_url": "https://api.github.com/users/Diapolo/repos",
        "events_url": "https://api.github.com/users/Diapolo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Diapolo/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The `.clear()` doesn't need a lock?\n",
      "created_at": "2015-07-09T11:50:44Z",
      "updated_at": "2015-07-10T04:33:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#discussion_r34246924",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34246924"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6402"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 316,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34246957",
      "pull_request_review_id": null,
      "id": 34246957,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MjQ2OTU3",
      "diff_hunk": "@@ -0,0 +1,96 @@\n+\n+#include <algorithm>\n+#include <vector>\n+#include \"poolman.h\"\n+#include \"main.h\"\n+#include \"util.h\"\n+#include \"amount.h\"\n+#include \"utiltime.h\"\n+\n+using namespace std;\n+\n+static int64_t PoolmanLowWater, PoolmanHighWater;\n+static bool janitorInit = false;\n+static bool floatingFee = false;\n+static CFeeRate origTxFee;\n+\n+void TxMempoolJanitor()\n+{\n+    int64_t nStart = GetTimeMillis();\n+\n+    // remember original minimum tx fee\n+    if (!janitorInit) {\n+        janitorInit = true;\n+        origTxFee = ::minRelayTxFee;\n+    }\n+\n+    // query mempool stats\n+    unsigned long totalTx = mempool.size();",
      "path": "src/poolman.cpp",
      "position": 29,
      "original_position": 28,
      "commit_id": "6c449bdcfe73526f09df8f3ad581f49467f7b2dd",
      "original_commit_id": "e459798a3c94e43c40325403d648ef1ec4031888",
      "in_reply_to_id": null,
      "user": {
        "login": "Diapolo",
        "id": 1419649,
        "node_id": "MDQ6VXNlcjE0MTk2NDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Diapolo",
        "html_url": "https://github.com/Diapolo",
        "followers_url": "https://api.github.com/users/Diapolo/followers",
        "following_url": "https://api.github.com/users/Diapolo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Diapolo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Diapolo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
        "organizations_url": "https://api.github.com/users/Diapolo/orgs",
        "repos_url": "https://api.github.com/users/Diapolo/repos",
        "events_url": "https://api.github.com/users/Diapolo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Diapolo/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Nit: `size_t`?\n",
      "created_at": "2015-07-09T11:51:20Z",
      "updated_at": "2015-07-10T04:33:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#discussion_r34246957",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34246957"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6402"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 29,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34247358",
      "pull_request_review_id": null,
      "id": 34247358,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MjQ3MzU4",
      "diff_hunk": "@@ -311,6 +311,19 @@ void CTxMemPool::queryHashes(vector<uint256>& vtxid)\n         vtxid.push_back((*mi).first);\n }\n \n+void CTxMemPool::queryFees(vector<CFeeRate>& vfees)\n+{\n+    vfees.clear();",
      "path": "src/txmempool.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "6c449bdcfe73526f09df8f3ad581f49467f7b2dd",
      "original_commit_id": "e459798a3c94e43c40325403d648ef1ec4031888",
      "in_reply_to_id": null,
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "No. It doesn't.\n",
      "created_at": "2015-07-09T11:57:13Z",
      "updated_at": "2015-07-10T04:33:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#discussion_r34247358",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34247358"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6402"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 316,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34247406",
      "pull_request_review_id": null,
      "id": 34247406,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MjQ3NDA2",
      "diff_hunk": "@@ -0,0 +1,96 @@\n+\n+#include <algorithm>\n+#include <vector>\n+#include \"poolman.h\"\n+#include \"main.h\"\n+#include \"util.h\"\n+#include \"amount.h\"\n+#include \"utiltime.h\"\n+\n+using namespace std;\n+\n+static int64_t PoolmanLowWater, PoolmanHighWater;\n+static bool janitorInit = false;\n+static bool floatingFee = false;\n+static CFeeRate origTxFee;\n+\n+void TxMempoolJanitor()\n+{\n+    int64_t nStart = GetTimeMillis();\n+\n+    // remember original minimum tx fee\n+    if (!janitorInit) {\n+        janitorInit = true;\n+        origTxFee = ::minRelayTxFee;\n+    }\n+\n+    // query mempool stats\n+    unsigned long totalTx = mempool.size();",
      "path": "src/poolman.cpp",
      "position": 29,
      "original_position": 28,
      "commit_id": "6c449bdcfe73526f09df8f3ad581f49467f7b2dd",
      "original_commit_id": "e459798a3c94e43c40325403d648ef1ec4031888",
      "in_reply_to_id": null,
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "IMO okay because: `unsigned long CTxMemPool::size()`\n",
      "created_at": "2015-07-09T11:58:11Z",
      "updated_at": "2015-07-10T04:33:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#discussion_r34247406",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34247406"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6402"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 29,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34274319",
      "pull_request_review_id": null,
      "id": 34274319,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0Mjc0MzE5",
      "diff_hunk": "@@ -0,0 +1,96 @@\n+\n+#include <algorithm>\n+#include <vector>\n+#include \"poolman.h\"\n+#include \"main.h\"\n+#include \"util.h\"\n+#include \"amount.h\"\n+#include \"utiltime.h\"\n+\n+using namespace std;\n+\n+static int64_t PoolmanLowWater, PoolmanHighWater;\n+static bool janitorInit = false;\n+static bool floatingFee = false;\n+static CFeeRate origTxFee;\n+\n+void TxMempoolJanitor()\n+{\n+    int64_t nStart = GetTimeMillis();\n+\n+    // remember original minimum tx fee\n+    if (!janitorInit) {\n+        janitorInit = true;\n+        origTxFee = ::minRelayTxFee;\n+    }\n+\n+    // query mempool stats\n+    unsigned long totalTx = mempool.size();\n+    int64_t totalSize = mempool.GetTotalTxSize();\n+\n+    // if below low water, disable janitor\n+    if (totalSize < PoolmanLowWater || totalTx < 2) {\n+        if (floatingFee) {\n+            floatingFee = false;\n+            ::minRelayTxFee = origTxFee;\n+        }\n+        LogPrint(\"mempool\", \"mempool level low, run complete,  %dms\\n\",\n+                 GetTimeMillis() - nStart);\n+        return;\n+    }\n+\n+    // if below high water, no more work.  floating fee might be active.\n+    if ((int64_t)mempool.GetTotalTxSize() < PoolmanHighWater) {\n+        LogPrint(\"mempool\", \"mempool level %s, run complete,  %dms\\n\",\n+                 floatingFee ? \"draining\" : \"adequate\",\n+                 GetTimeMillis() - nStart);\n+        return;\n+    }\n+\n+    // we are above high water.  float relay fee in response.\n+    floatingFee = true;\n+\n+    // get sorted list of fees in mempool\n+    vector<CFeeRate> vfees;\n+    mempool.queryFees(vfees);\n+    std::sort(vfees.begin(), vfees.end());\n+    std::reverse(vfees.begin(), vfees.end());\n+    vfees.resize(vfees.size() / 2);\n+\n+    // set relay fee to lowest rate of top half of mempool\n+    ::minRelayTxFee = vfees.back();\n+\n+    LogPrint(\"mempool\", \"mempool janitor run complete, fee rate %s, %dms\\n\",\n+             ::minRelayTxFee.ToString(),\n+             GetTimeMillis() - nStart);\n+}\n+\n+void InitTxMempoolJanitor(CScheduler& scheduler)\n+{\n+    // mempool janitor execution interval.  default interval: 10 min\n+    int janitorInterval = GetArg(\"-janitorinterval\", (60 * 10));\n+\n+    // mempool janitor low water, high water marks\n+    PoolmanHighWater = GetArg(\"-mempoolhighwater\", 0);\n+    if (PoolmanHighWater <= 0)",
      "path": "src/poolman.cpp",
      "position": 76,
      "original_position": 75,
      "commit_id": "6c449bdcfe73526f09df8f3ad581f49467f7b2dd",
      "original_commit_id": "e459798a3c94e43c40325403d648ef1ec4031888",
      "in_reply_to_id": null,
      "user": {
        "login": "dgenr8",
        "id": 4284124,
        "node_id": "MDQ6VXNlcjQyODQxMjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4284124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dgenr8",
        "html_url": "https://github.com/dgenr8",
        "followers_url": "https://api.github.com/users/dgenr8/followers",
        "following_url": "https://api.github.com/users/dgenr8/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dgenr8/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dgenr8/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dgenr8/subscriptions",
        "organizations_url": "https://api.github.com/users/dgenr8/orgs",
        "repos_url": "https://api.github.com/users/dgenr8/repos",
        "events_url": "https://api.github.com/users/dgenr8/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dgenr8/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Don't allow janitor to compete with confirmation.  Minimum highwater should be something like 1 hour of maximum confirmation bytes.\n",
      "created_at": "2015-07-09T16:31:46Z",
      "updated_at": "2015-07-11T19:15:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#discussion_r34274319",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34274319"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6402"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 76,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34292756",
      "pull_request_review_id": null,
      "id": 34292756,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MjkyNzU2",
      "diff_hunk": "@@ -0,0 +1,96 @@\n+\n+#include <algorithm>\n+#include <vector>\n+#include \"poolman.h\"\n+#include \"main.h\"\n+#include \"util.h\"\n+#include \"amount.h\"\n+#include \"utiltime.h\"\n+\n+using namespace std;\n+\n+static int64_t PoolmanLowWater, PoolmanHighWater;\n+static bool janitorInit = false;\n+static bool floatingFee = false;\n+static CFeeRate origTxFee;\n+\n+void TxMempoolJanitor()\n+{\n+    int64_t nStart = GetTimeMillis();\n+\n+    // remember original minimum tx fee\n+    if (!janitorInit) {\n+        janitorInit = true;\n+        origTxFee = ::minRelayTxFee;\n+    }\n+\n+    // query mempool stats\n+    unsigned long totalTx = mempool.size();\n+    int64_t totalSize = mempool.GetTotalTxSize();\n+\n+    // if below low water, disable janitor\n+    if (totalSize < PoolmanLowWater || totalTx < 2) {\n+        if (floatingFee) {\n+            floatingFee = false;\n+            ::minRelayTxFee = origTxFee;\n+        }\n+        LogPrint(\"mempool\", \"mempool level low, run complete,  %dms\\n\",\n+                 GetTimeMillis() - nStart);\n+        return;\n+    }\n+\n+    // if below high water, no more work.  floating fee might be active.\n+    if ((int64_t)mempool.GetTotalTxSize() < PoolmanHighWater) {\n+        LogPrint(\"mempool\", \"mempool level %s, run complete,  %dms\\n\",\n+                 floatingFee ? \"draining\" : \"adequate\",\n+                 GetTimeMillis() - nStart);\n+        return;\n+    }\n+\n+    // we are above high water.  float relay fee in response.\n+    floatingFee = true;\n+\n+    // get sorted list of fees in mempool\n+    vector<CFeeRate> vfees;\n+    mempool.queryFees(vfees);\n+    std::sort(vfees.begin(), vfees.end());\n+    std::reverse(vfees.begin(), vfees.end());\n+    vfees.resize(vfees.size() / 2);\n+\n+    // set relay fee to lowest rate of top half of mempool\n+    ::minRelayTxFee = vfees.back();\n+\n+    LogPrint(\"mempool\", \"mempool janitor run complete, fee rate %s, %dms\\n\",\n+             ::minRelayTxFee.ToString(),\n+             GetTimeMillis() - nStart);\n+}\n+\n+void InitTxMempoolJanitor(CScheduler& scheduler)\n+{\n+    // mempool janitor execution interval.  default interval: 10 min\n+    int janitorInterval = GetArg(\"-janitorinterval\", (60 * 10));\n+\n+    // mempool janitor low water, high water marks\n+    PoolmanHighWater = GetArg(\"-mempoolhighwater\", 0);\n+    if (PoolmanHighWater <= 0)\n+        PoolmanLowWater = -1;\n+    else {\n+        PoolmanLowWater = GetArg(\"-mempoollowwater\", -1);\n+        if (PoolmanLowWater < 0 || PoolmanLowWater > PoolmanHighWater)\n+            PoolmanLowWater = PoolmanHighWater / 2;\n+    }\n+\n+    // if interval too small or zero, janitor is disabled\n+    static const int janitorSaneInterval = 10;\n+    if ((janitorInterval < janitorSaneInterval) ||\n+        (PoolmanHighWater <= 0)) {\n+        janitorInterval = 0;\n+        PoolmanLowWater = -1;\n+        PoolmanHighWater = 0;\n+    }\n+\n+    // start mempool janitor\n+    if (janitorInterval > 0)\n+        scheduler.scheduleEvery(&TxMempoolJanitor, janitorInterval * 1000);",
      "path": "src/poolman.cpp",
      "position": null,
      "original_position": 94,
      "commit_id": "6c449bdcfe73526f09df8f3ad581f49467f7b2dd",
      "original_commit_id": "e459798a3c94e43c40325403d648ef1ec4031888",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yea, scheduleEvery's second arg is seconds, not millis.\n",
      "created_at": "2015-07-09T19:21:04Z",
      "updated_at": "2015-07-10T04:33:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#discussion_r34292756",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34292756"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6402"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34296187",
      "pull_request_review_id": null,
      "id": 34296187,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0Mjk2MTg3",
      "diff_hunk": "@@ -0,0 +1,96 @@\n+\n+#include <algorithm>\n+#include <vector>\n+#include \"poolman.h\"\n+#include \"main.h\"",
      "path": "src/poolman.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "6c449bdcfe73526f09df8f3ad581f49467f7b2dd",
      "original_commit_id": "e459798a3c94e43c40325403d648ef1ec4031888",
      "in_reply_to_id": null,
      "user": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "what do you need from main?\n",
      "created_at": "2015-07-09T19:55:40Z",
      "updated_at": "2015-07-10T04:33:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#discussion_r34296187",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34296187"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6402"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 8,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34296284",
      "pull_request_review_id": null,
      "id": 34296284,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0Mjk2Mjg0",
      "diff_hunk": "@@ -0,0 +1,96 @@\n+\n+#include <algorithm>\n+#include <vector>\n+#include \"poolman.h\"\n+#include \"main.h\"\n+#include \"util.h\"\n+#include \"amount.h\"\n+#include \"utiltime.h\"\n+\n+using namespace std;\n+\n+static int64_t PoolmanLowWater, PoolmanHighWater;\n+static bool janitorInit = false;\n+static bool floatingFee = false;\n+static CFeeRate origTxFee;",
      "path": "src/poolman.cpp",
      "position": 16,
      "original_position": 15,
      "commit_id": "6c449bdcfe73526f09df8f3ad581f49467f7b2dd",
      "original_commit_id": "e459798a3c94e43c40325403d648ef1ec4031888",
      "in_reply_to_id": null,
      "user": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Can't these be attributes of the class?\n",
      "created_at": "2015-07-09T19:56:26Z",
      "updated_at": "2015-07-10T04:33:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#discussion_r34296284",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34296284"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6402"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 16,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34296390",
      "pull_request_review_id": null,
      "id": 34296390,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0Mjk2Mzkw",
      "diff_hunk": "@@ -0,0 +1,96 @@\n+\n+#include <algorithm>\n+#include <vector>\n+#include \"poolman.h\"\n+#include \"main.h\"\n+#include \"util.h\"\n+#include \"amount.h\"\n+#include \"utiltime.h\"\n+\n+using namespace std;\n+\n+static int64_t PoolmanLowWater, PoolmanHighWater;\n+static bool janitorInit = false;\n+static bool floatingFee = false;\n+static CFeeRate origTxFee;\n+\n+void TxMempoolJanitor()\n+{\n+    int64_t nStart = GetTimeMillis();\n+\n+    // remember original minimum tx fee\n+    if (!janitorInit) {\n+        janitorInit = true;\n+        origTxFee = ::minRelayTxFee;\n+    }\n+\n+    // query mempool stats\n+    unsigned long totalTx = mempool.size();\n+    int64_t totalSize = mempool.GetTotalTxSize();\n+\n+    // if below low water, disable janitor\n+    if (totalSize < PoolmanLowWater || totalTx < 2) {\n+        if (floatingFee) {\n+            floatingFee = false;\n+            ::minRelayTxFee = origTxFee;\n+        }\n+        LogPrint(\"mempool\", \"mempool level low, run complete,  %dms\\n\",\n+                 GetTimeMillis() - nStart);\n+        return;\n+    }\n+\n+    // if below high water, no more work.  floating fee might be active.\n+    if ((int64_t)mempool.GetTotalTxSize() < PoolmanHighWater) {\n+        LogPrint(\"mempool\", \"mempool level %s, run complete,  %dms\\n\",\n+                 floatingFee ? \"draining\" : \"adequate\",\n+                 GetTimeMillis() - nStart);\n+        return;\n+    }\n+\n+    // we are above high water.  float relay fee in response.\n+    floatingFee = true;\n+\n+    // get sorted list of fees in mempool\n+    vector<CFeeRate> vfees;\n+    mempool.queryFees(vfees);\n+    std::sort(vfees.begin(), vfees.end());\n+    std::reverse(vfees.begin(), vfees.end());\n+    vfees.resize(vfees.size() / 2);\n+\n+    // set relay fee to lowest rate of top half of mempool\n+    ::minRelayTxFee = vfees.back();\n+\n+    LogPrint(\"mempool\", \"mempool janitor run complete, fee rate %s, %dms\\n\",\n+             ::minRelayTxFee.ToString(),\n+             GetTimeMillis() - nStart);\n+}\n+\n+void InitTxMempoolJanitor(CScheduler& scheduler)\n+{\n+    // mempool janitor execution interval.  default interval: 10 min\n+    int janitorInterval = GetArg(\"-janitorinterval\", (60 * 10));\n+\n+    // mempool janitor low water, high water marks\n+    PoolmanHighWater = GetArg(\"-mempoolhighwater\", 0);\n+    if (PoolmanHighWater <= 0)\n+        PoolmanLowWater = -1;\n+    else {\n+        PoolmanLowWater = GetArg(\"-mempoollowwater\", -1);",
      "path": "src/poolman.cpp",
      "position": 79,
      "original_position": 78,
      "commit_id": "6c449bdcfe73526f09df8f3ad581f49467f7b2dd",
      "original_commit_id": "e459798a3c94e43c40325403d648ef1ec4031888",
      "in_reply_to_id": null,
      "user": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Can't all GetArg() calls be made from a function/method that is only called from init? \n",
      "created_at": "2015-07-09T19:57:27Z",
      "updated_at": "2015-07-10T04:33:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#discussion_r34296390",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34296390"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6402"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 79,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34299281",
      "pull_request_review_id": null,
      "id": 34299281,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0Mjk5Mjgx",
      "diff_hunk": "@@ -0,0 +1,96 @@\n+\n+#include <algorithm>\n+#include <vector>\n+#include \"poolman.h\"\n+#include \"main.h\"",
      "path": "src/poolman.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "6c449bdcfe73526f09df8f3ad581f49467f7b2dd",
      "original_commit_id": "e459798a3c94e43c40325403d648ef1ec4031888",
      "in_reply_to_id": null,
      "user": {
        "login": "jgarzik",
        "id": 494411,
        "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/494411?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jgarzik",
        "html_url": "https://github.com/jgarzik",
        "followers_url": "https://api.github.com/users/jgarzik/followers",
        "following_url": "https://api.github.com/users/jgarzik/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jgarzik/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jgarzik/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
        "organizations_url": "https://api.github.com/users/jgarzik/orgs",
        "repos_url": "https://api.github.com/users/jgarzik/repos",
        "events_url": "https://api.github.com/users/jgarzik/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jgarzik/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The minimum relay fee global\n",
      "created_at": "2015-07-09T20:23:02Z",
      "updated_at": "2015-07-10T04:33:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#discussion_r34299281",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34299281"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6402"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 8,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34299340",
      "pull_request_review_id": null,
      "id": 34299340,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0Mjk5MzQw",
      "diff_hunk": "@@ -0,0 +1,96 @@\n+\n+#include <algorithm>\n+#include <vector>\n+#include \"poolman.h\"\n+#include \"main.h\"\n+#include \"util.h\"\n+#include \"amount.h\"\n+#include \"utiltime.h\"\n+\n+using namespace std;\n+\n+static int64_t PoolmanLowWater, PoolmanHighWater;\n+static bool janitorInit = false;\n+static bool floatingFee = false;\n+static CFeeRate origTxFee;",
      "path": "src/poolman.cpp",
      "position": 16,
      "original_position": 15,
      "commit_id": "6c449bdcfe73526f09df8f3ad581f49467f7b2dd",
      "original_commit_id": "e459798a3c94e43c40325403d648ef1ec4031888",
      "in_reply_to_id": null,
      "user": {
        "login": "jgarzik",
        "id": 494411,
        "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/494411?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jgarzik",
        "html_url": "https://github.com/jgarzik",
        "followers_url": "https://api.github.com/users/jgarzik/followers",
        "following_url": "https://api.github.com/users/jgarzik/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jgarzik/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jgarzik/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
        "organizations_url": "https://api.github.com/users/jgarzik/orgs",
        "repos_url": "https://api.github.com/users/jgarzik/repos",
        "events_url": "https://api.github.com/users/jgarzik/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jgarzik/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "which class?\n",
      "created_at": "2015-07-09T20:23:13Z",
      "updated_at": "2015-07-10T04:33:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#discussion_r34299340",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34299340"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6402"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 16,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34299393",
      "pull_request_review_id": null,
      "id": 34299393,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0Mjk5Mzkz",
      "diff_hunk": "@@ -0,0 +1,96 @@\n+\n+#include <algorithm>\n+#include <vector>\n+#include \"poolman.h\"\n+#include \"main.h\"\n+#include \"util.h\"\n+#include \"amount.h\"\n+#include \"utiltime.h\"\n+\n+using namespace std;\n+\n+static int64_t PoolmanLowWater, PoolmanHighWater;\n+static bool janitorInit = false;\n+static bool floatingFee = false;\n+static CFeeRate origTxFee;\n+\n+void TxMempoolJanitor()\n+{\n+    int64_t nStart = GetTimeMillis();\n+\n+    // remember original minimum tx fee\n+    if (!janitorInit) {\n+        janitorInit = true;\n+        origTxFee = ::minRelayTxFee;\n+    }\n+\n+    // query mempool stats\n+    unsigned long totalTx = mempool.size();\n+    int64_t totalSize = mempool.GetTotalTxSize();\n+\n+    // if below low water, disable janitor\n+    if (totalSize < PoolmanLowWater || totalTx < 2) {\n+        if (floatingFee) {\n+            floatingFee = false;\n+            ::minRelayTxFee = origTxFee;\n+        }\n+        LogPrint(\"mempool\", \"mempool level low, run complete,  %dms\\n\",\n+                 GetTimeMillis() - nStart);\n+        return;\n+    }\n+\n+    // if below high water, no more work.  floating fee might be active.\n+    if ((int64_t)mempool.GetTotalTxSize() < PoolmanHighWater) {\n+        LogPrint(\"mempool\", \"mempool level %s, run complete,  %dms\\n\",\n+                 floatingFee ? \"draining\" : \"adequate\",\n+                 GetTimeMillis() - nStart);\n+        return;\n+    }\n+\n+    // we are above high water.  float relay fee in response.\n+    floatingFee = true;\n+\n+    // get sorted list of fees in mempool\n+    vector<CFeeRate> vfees;\n+    mempool.queryFees(vfees);\n+    std::sort(vfees.begin(), vfees.end());\n+    std::reverse(vfees.begin(), vfees.end());\n+    vfees.resize(vfees.size() / 2);\n+\n+    // set relay fee to lowest rate of top half of mempool\n+    ::minRelayTxFee = vfees.back();\n+\n+    LogPrint(\"mempool\", \"mempool janitor run complete, fee rate %s, %dms\\n\",\n+             ::minRelayTxFee.ToString(),\n+             GetTimeMillis() - nStart);\n+}\n+\n+void InitTxMempoolJanitor(CScheduler& scheduler)\n+{\n+    // mempool janitor execution interval.  default interval: 10 min\n+    int janitorInterval = GetArg(\"-janitorinterval\", (60 * 10));\n+\n+    // mempool janitor low water, high water marks\n+    PoolmanHighWater = GetArg(\"-mempoolhighwater\", 0);\n+    if (PoolmanHighWater <= 0)\n+        PoolmanLowWater = -1;\n+    else {\n+        PoolmanLowWater = GetArg(\"-mempoollowwater\", -1);",
      "path": "src/poolman.cpp",
      "position": 79,
      "original_position": 78,
      "commit_id": "6c449bdcfe73526f09df8f3ad581f49467f7b2dd",
      "original_commit_id": "e459798a3c94e43c40325403d648ef1ec4031888",
      "in_reply_to_id": null,
      "user": {
        "login": "jgarzik",
        "id": 494411,
        "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/494411?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jgarzik",
        "html_url": "https://github.com/jgarzik",
        "followers_url": "https://api.github.com/users/jgarzik/followers",
        "following_url": "https://api.github.com/users/jgarzik/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jgarzik/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jgarzik/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
        "organizations_url": "https://api.github.com/users/jgarzik/orgs",
        "repos_url": "https://api.github.com/users/jgarzik/repos",
        "events_url": "https://api.github.com/users/jgarzik/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jgarzik/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Um, it is made from a function that is only called from init.\n",
      "created_at": "2015-07-09T20:23:41Z",
      "updated_at": "2015-07-10T04:33:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#discussion_r34299393",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34299393"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6402"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 79,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34299907",
      "pull_request_review_id": null,
      "id": 34299907,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0Mjk5OTA3",
      "diff_hunk": "@@ -0,0 +1,96 @@\n+\n+#include <algorithm>\n+#include <vector>\n+#include \"poolman.h\"\n+#include \"main.h\"",
      "path": "src/poolman.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "6c449bdcfe73526f09df8f3ad581f49467f7b2dd",
      "original_commit_id": "e459798a3c94e43c40325403d648ef1ec4031888",
      "in_reply_to_id": null,
      "user": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Oh, sure, it is still not an attribute of CStandardPolicy...nevermind then.\n",
      "created_at": "2015-07-09T20:28:51Z",
      "updated_at": "2015-07-10T04:33:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#discussion_r34299907",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34299907"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6402"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 8,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34299974",
      "pull_request_review_id": null,
      "id": 34299974,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0Mjk5OTc0",
      "diff_hunk": "@@ -0,0 +1,96 @@\n+\n+#include <algorithm>\n+#include <vector>\n+#include \"poolman.h\"\n+#include \"main.h\"\n+#include \"util.h\"\n+#include \"amount.h\"\n+#include \"utiltime.h\"\n+\n+using namespace std;\n+\n+static int64_t PoolmanLowWater, PoolmanHighWater;\n+static bool janitorInit = false;\n+static bool floatingFee = false;\n+static CFeeRate origTxFee;\n+\n+void TxMempoolJanitor()\n+{\n+    int64_t nStart = GetTimeMillis();\n+\n+    // remember original minimum tx fee\n+    if (!janitorInit) {\n+        janitorInit = true;\n+        origTxFee = ::minRelayTxFee;\n+    }\n+\n+    // query mempool stats\n+    unsigned long totalTx = mempool.size();\n+    int64_t totalSize = mempool.GetTotalTxSize();\n+\n+    // if below low water, disable janitor\n+    if (totalSize < PoolmanLowWater || totalTx < 2) {\n+        if (floatingFee) {\n+            floatingFee = false;\n+            ::minRelayTxFee = origTxFee;\n+        }\n+        LogPrint(\"mempool\", \"mempool level low, run complete,  %dms\\n\",\n+                 GetTimeMillis() - nStart);\n+        return;\n+    }\n+\n+    // if below high water, no more work.  floating fee might be active.\n+    if ((int64_t)mempool.GetTotalTxSize() < PoolmanHighWater) {\n+        LogPrint(\"mempool\", \"mempool level %s, run complete,  %dms\\n\",\n+                 floatingFee ? \"draining\" : \"adequate\",\n+                 GetTimeMillis() - nStart);\n+        return;\n+    }\n+\n+    // we are above high water.  float relay fee in response.\n+    floatingFee = true;\n+\n+    // get sorted list of fees in mempool\n+    vector<CFeeRate> vfees;\n+    mempool.queryFees(vfees);\n+    std::sort(vfees.begin(), vfees.end());\n+    std::reverse(vfees.begin(), vfees.end());\n+    vfees.resize(vfees.size() / 2);\n+\n+    // set relay fee to lowest rate of top half of mempool\n+    ::minRelayTxFee = vfees.back();\n+\n+    LogPrint(\"mempool\", \"mempool janitor run complete, fee rate %s, %dms\\n\",\n+             ::minRelayTxFee.ToString(),\n+             GetTimeMillis() - nStart);\n+}\n+\n+void InitTxMempoolJanitor(CScheduler& scheduler)\n+{\n+    // mempool janitor execution interval.  default interval: 10 min\n+    int janitorInterval = GetArg(\"-janitorinterval\", (60 * 10));\n+\n+    // mempool janitor low water, high water marks\n+    PoolmanHighWater = GetArg(\"-mempoolhighwater\", 0);\n+    if (PoolmanHighWater <= 0)\n+        PoolmanLowWater = -1;\n+    else {\n+        PoolmanLowWater = GetArg(\"-mempoollowwater\", -1);",
      "path": "src/poolman.cpp",
      "position": 79,
      "original_position": 78,
      "commit_id": "6c449bdcfe73526f09df8f3ad581f49467f7b2dd",
      "original_commit_id": "e459798a3c94e43c40325403d648ef1ec4031888",
      "in_reply_to_id": null,
      "user": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, sorry. Fast read.\n",
      "created_at": "2015-07-09T20:29:24Z",
      "updated_at": "2015-07-10T04:33:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#discussion_r34299974",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34299974"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6402"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 79,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34300186",
      "pull_request_review_id": null,
      "id": 34300186,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MzAwMTg2",
      "diff_hunk": "@@ -0,0 +1,96 @@\n+\n+#include <algorithm>\n+#include <vector>\n+#include \"poolman.h\"\n+#include \"main.h\"\n+#include \"util.h\"\n+#include \"amount.h\"\n+#include \"utiltime.h\"\n+\n+using namespace std;\n+\n+static int64_t PoolmanLowWater, PoolmanHighWater;\n+static bool janitorInit = false;\n+static bool floatingFee = false;\n+static CFeeRate origTxFee;",
      "path": "src/poolman.cpp",
      "position": 16,
      "original_position": 15,
      "commit_id": "6c449bdcfe73526f09df8f3ad581f49467f7b2dd",
      "original_commit_id": "e459798a3c94e43c40325403d648ef1ec4031888",
      "in_reply_to_id": null,
      "user": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "A new class could be created to avoid new globals here. Or as said, this could be incorporated to the fee estimator.\n",
      "created_at": "2015-07-09T20:31:37Z",
      "updated_at": "2015-07-10T04:33:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#discussion_r34300186",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34300186"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6402"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 16,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34326956",
      "pull_request_review_id": null,
      "id": 34326956,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MzI2OTU2",
      "diff_hunk": "@@ -0,0 +1,96 @@\n+\n+#include <algorithm>\n+#include <vector>\n+#include \"poolman.h\"\n+#include \"main.h\"\n+#include \"util.h\"\n+#include \"amount.h\"\n+#include \"utiltime.h\"\n+\n+using namespace std;\n+\n+static int64_t PoolmanLowWater, PoolmanHighWater;\n+static bool janitorInit = false;\n+static bool floatingFee = false;\n+static CFeeRate origTxFee;\n+\n+void TxMempoolJanitor()\n+{\n+    int64_t nStart = GetTimeMillis();\n+\n+    // remember original minimum tx fee\n+    if (!janitorInit) {\n+        janitorInit = true;\n+        origTxFee = ::minRelayTxFee;\n+    }\n+\n+    // query mempool stats\n+    unsigned long totalTx = mempool.size();\n+    int64_t totalSize = mempool.GetTotalTxSize();\n+\n+    // if below low water, disable janitor\n+    if (totalSize < PoolmanLowWater || totalTx < 2) {\n+        if (floatingFee) {\n+            floatingFee = false;\n+            ::minRelayTxFee = origTxFee;\n+        }\n+        LogPrint(\"mempool\", \"mempool level low, run complete,  %dms\\n\",\n+                 GetTimeMillis() - nStart);\n+        return;\n+    }\n+\n+    // if below high water, no more work.  floating fee might be active.\n+    if ((int64_t)mempool.GetTotalTxSize() < PoolmanHighWater) {\n+        LogPrint(\"mempool\", \"mempool level %s, run complete,  %dms\\n\",\n+                 floatingFee ? \"draining\" : \"adequate\",\n+                 GetTimeMillis() - nStart);\n+        return;\n+    }\n+\n+    // we are above high water.  float relay fee in response.\n+    floatingFee = true;\n+\n+    // get sorted list of fees in mempool\n+    vector<CFeeRate> vfees;\n+    mempool.queryFees(vfees);\n+    std::sort(vfees.begin(), vfees.end());\n+    std::reverse(vfees.begin(), vfees.end());\n+    vfees.resize(vfees.size() / 2);\n+\n+    // set relay fee to lowest rate of top half of mempool\n+    ::minRelayTxFee = vfees.back();\n+\n+    LogPrint(\"mempool\", \"mempool janitor run complete, fee rate %s, %dms\\n\",\n+             ::minRelayTxFee.ToString(),\n+             GetTimeMillis() - nStart);\n+}\n+\n+void InitTxMempoolJanitor(CScheduler& scheduler)\n+{\n+    // mempool janitor execution interval.  default interval: 10 min\n+    int janitorInterval = GetArg(\"-janitorinterval\", (60 * 10));\n+\n+    // mempool janitor low water, high water marks\n+    PoolmanHighWater = GetArg(\"-mempoolhighwater\", 0);\n+    if (PoolmanHighWater <= 0)",
      "path": "src/poolman.cpp",
      "position": 76,
      "original_position": 75,
      "commit_id": "6c449bdcfe73526f09df8f3ad581f49467f7b2dd",
      "original_commit_id": "e459798a3c94e43c40325403d648ef1ec4031888",
      "in_reply_to_id": null,
      "user": {
        "login": "jgarzik",
        "id": 494411,
        "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/494411?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jgarzik",
        "html_url": "https://github.com/jgarzik",
        "followers_url": "https://api.github.com/users/jgarzik/followers",
        "following_url": "https://api.github.com/users/jgarzik/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jgarzik/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jgarzik/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
        "organizations_url": "https://api.github.com/users/jgarzik/orgs",
        "repos_url": "https://api.github.com/users/jgarzik/repos",
        "events_url": "https://api.github.com/users/jgarzik/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jgarzik/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The scanning interval and the high water mark are two very different things.  Presumably the high water mark should be ~2 days, less a small factor.\n",
      "created_at": "2015-07-10T04:26:44Z",
      "updated_at": "2015-07-10T04:33:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#discussion_r34326956",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34326956"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6402"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 76,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34327056",
      "pull_request_review_id": null,
      "id": 34327056,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MzI3MDU2",
      "diff_hunk": "@@ -281,8 +282,11 @@ std::string HelpMessage(HelpMessageMode mode)\n     }\n     strUsage += HelpMessageOpt(\"-datadir=<dir>\", _(\"Specify data directory\"));\n     strUsage += HelpMessageOpt(\"-dbcache=<n>\", strprintf(_(\"Set database cache size in megabytes (%d to %d, default: %d)\"), nMinDbCache, nMaxDbCache, nDefaultDbCache));\n+    strUsage += HelpMessageOpt(\"-janitorinterval=<n>\", _(\"Number of seconds between each mempool janitor run (default: 10 minutes, 0=disable)\"));",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 12,
      "commit_id": "6c449bdcfe73526f09df8f3ad581f49467f7b2dd",
      "original_commit_id": "e459798a3c94e43c40325403d648ef1ec4031888",
      "in_reply_to_id": null,
      "user": {
        "login": "jgarzik",
        "id": 494411,
        "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/494411?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jgarzik",
        "html_url": "https://github.com/jgarzik",
        "followers_url": "https://api.github.com/users/jgarzik/followers",
        "following_url": "https://api.github.com/users/jgarzik/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jgarzik/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jgarzik/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
        "organizations_url": "https://api.github.com/users/jgarzik/orgs",
        "repos_url": "https://api.github.com/users/jgarzik/repos",
        "events_url": "https://api.github.com/users/jgarzik/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jgarzik/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Added some whitespace.  It does not make sense to use strprintf() in these cases, however.\n",
      "created_at": "2015-07-10T04:30:43Z",
      "updated_at": "2015-07-10T04:33:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#discussion_r34327056",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34327056"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6402"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34327148",
      "pull_request_review_id": null,
      "id": 34327148,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MzI3MTQ4",
      "diff_hunk": "@@ -0,0 +1,96 @@\n+\n+#include <algorithm>\n+#include <vector>\n+#include \"poolman.h\"\n+#include \"main.h\"\n+#include \"util.h\"\n+#include \"amount.h\"\n+#include \"utiltime.h\"\n+\n+using namespace std;\n+\n+static int64_t PoolmanLowWater, PoolmanHighWater;\n+static bool janitorInit = false;\n+static bool floatingFee = false;\n+static CFeeRate origTxFee;\n+\n+void TxMempoolJanitor()\n+{\n+    int64_t nStart = GetTimeMillis();\n+\n+    // remember original minimum tx fee\n+    if (!janitorInit) {\n+        janitorInit = true;\n+        origTxFee = ::minRelayTxFee;\n+    }\n+\n+    // query mempool stats\n+    unsigned long totalTx = mempool.size();\n+    int64_t totalSize = mempool.GetTotalTxSize();\n+\n+    // if below low water, disable janitor\n+    if (totalSize < PoolmanLowWater || totalTx < 2) {\n+        if (floatingFee) {\n+            floatingFee = false;\n+            ::minRelayTxFee = origTxFee;\n+        }\n+        LogPrint(\"mempool\", \"mempool level low, run complete,  %dms\\n\",\n+                 GetTimeMillis() - nStart);\n+        return;\n+    }\n+\n+    // if below high water, no more work.  floating fee might be active.\n+    if ((int64_t)mempool.GetTotalTxSize() < PoolmanHighWater) {\n+        LogPrint(\"mempool\", \"mempool level %s, run complete,  %dms\\n\",\n+                 floatingFee ? \"draining\" : \"adequate\",\n+                 GetTimeMillis() - nStart);\n+        return;\n+    }\n+\n+    // we are above high water.  float relay fee in response.\n+    floatingFee = true;\n+\n+    // get sorted list of fees in mempool\n+    vector<CFeeRate> vfees;\n+    mempool.queryFees(vfees);\n+    std::sort(vfees.begin(), vfees.end());\n+    std::reverse(vfees.begin(), vfees.end());\n+    vfees.resize(vfees.size() / 2);\n+\n+    // set relay fee to lowest rate of top half of mempool\n+    ::minRelayTxFee = vfees.back();\n+\n+    LogPrint(\"mempool\", \"mempool janitor run complete, fee rate %s, %dms\\n\",\n+             ::minRelayTxFee.ToString(),\n+             GetTimeMillis() - nStart);\n+}\n+\n+void InitTxMempoolJanitor(CScheduler& scheduler)\n+{\n+    // mempool janitor execution interval.  default interval: 10 min\n+    int janitorInterval = GetArg(\"-janitorinterval\", (60 * 10));\n+\n+    // mempool janitor low water, high water marks\n+    PoolmanHighWater = GetArg(\"-mempoolhighwater\", 0);\n+    if (PoolmanHighWater <= 0)\n+        PoolmanLowWater = -1;\n+    else {\n+        PoolmanLowWater = GetArg(\"-mempoollowwater\", -1);\n+        if (PoolmanLowWater < 0 || PoolmanLowWater > PoolmanHighWater)\n+            PoolmanLowWater = PoolmanHighWater / 2;\n+    }\n+\n+    // if interval too small or zero, janitor is disabled\n+    static const int janitorSaneInterval = 10;\n+    if ((janitorInterval < janitorSaneInterval) ||\n+        (PoolmanHighWater <= 0)) {",
      "path": "src/poolman.cpp",
      "position": 87,
      "original_position": 86,
      "commit_id": "6c449bdcfe73526f09df8f3ad581f49467f7b2dd",
      "original_commit_id": "e459798a3c94e43c40325403d648ef1ec4031888",
      "in_reply_to_id": null,
      "user": {
        "login": "jgarzik",
        "id": 494411,
        "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/494411?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jgarzik",
        "html_url": "https://github.com/jgarzik",
        "followers_url": "https://api.github.com/users/jgarzik/followers",
        "following_url": "https://api.github.com/users/jgarzik/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jgarzik/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jgarzik/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
        "organizations_url": "https://api.github.com/users/jgarzik/orgs",
        "repos_url": "https://api.github.com/users/jgarzik/repos",
        "events_url": "https://api.github.com/users/jgarzik/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jgarzik/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "leaning towards no, but will consider...  need a conditional inside that code block as the 0=disabled case should not trigger a message about insanity :)\n",
      "created_at": "2015-07-10T04:35:20Z",
      "updated_at": "2015-07-10T04:35:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#discussion_r34327148",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34327148"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6402"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 87,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34335040",
      "pull_request_review_id": null,
      "id": 34335040,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MzM1MDQw",
      "diff_hunk": "@@ -0,0 +1,97 @@\n+// Copyright (c) 2015 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <algorithm>\n+#include <vector>\n+#include \"amount.h\"\n+#include \"main.h\"\n+#include \"poolman.h\"\n+#include \"util.h\"\n+#include \"utiltime.h\"\n+\n+static int64_t PoolmanLowWater, PoolmanHighWater;\n+static bool janitorInit = false;\n+static bool floatingFee = false;\n+static CFeeRate origTxFee;\n+\n+void TxMempoolJanitor()\n+{\n+    int64_t nStart = GetTimeMillis();\n+\n+    // remember original minimum tx fee\n+    if (!janitorInit) {\n+        janitorInit = true;\n+        origTxFee = ::minRelayTxFee;\n+    }\n+\n+    // query mempool stats\n+    unsigned long totalTx = mempool.size();\n+    int64_t totalSize = mempool.GetTotalTxSize();",
      "path": "src/poolman.cpp",
      "position": 30,
      "original_position": 30,
      "commit_id": "6c449bdcfe73526f09df8f3ad581f49467f7b2dd",
      "original_commit_id": "6c449bdcfe73526f09df8f3ad581f49467f7b2dd",
      "in_reply_to_id": null,
      "user": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jtimon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jtimon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Can the mempool be passed as a parameter to TxMempoolJanitor() instead of using main.o's global?\n",
      "created_at": "2015-07-10T08:12:59Z",
      "updated_at": "2015-07-10T08:12:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#discussion_r34335040",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34335040"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6402"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 30,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34406990",
      "pull_request_review_id": null,
      "id": 34406990,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0NDA2OTkw",
      "diff_hunk": "@@ -0,0 +1,96 @@\n+\n+#include <algorithm>\n+#include <vector>\n+#include \"poolman.h\"\n+#include \"main.h\"\n+#include \"util.h\"\n+#include \"amount.h\"\n+#include \"utiltime.h\"\n+\n+using namespace std;\n+\n+static int64_t PoolmanLowWater, PoolmanHighWater;\n+static bool janitorInit = false;\n+static bool floatingFee = false;\n+static CFeeRate origTxFee;\n+\n+void TxMempoolJanitor()\n+{\n+    int64_t nStart = GetTimeMillis();\n+\n+    // remember original minimum tx fee\n+    if (!janitorInit) {\n+        janitorInit = true;\n+        origTxFee = ::minRelayTxFee;\n+    }\n+\n+    // query mempool stats\n+    unsigned long totalTx = mempool.size();\n+    int64_t totalSize = mempool.GetTotalTxSize();\n+\n+    // if below low water, disable janitor\n+    if (totalSize < PoolmanLowWater || totalTx < 2) {\n+        if (floatingFee) {\n+            floatingFee = false;\n+            ::minRelayTxFee = origTxFee;\n+        }\n+        LogPrint(\"mempool\", \"mempool level low, run complete,  %dms\\n\",\n+                 GetTimeMillis() - nStart);\n+        return;\n+    }\n+\n+    // if below high water, no more work.  floating fee might be active.\n+    if ((int64_t)mempool.GetTotalTxSize() < PoolmanHighWater) {\n+        LogPrint(\"mempool\", \"mempool level %s, run complete,  %dms\\n\",\n+                 floatingFee ? \"draining\" : \"adequate\",\n+                 GetTimeMillis() - nStart);\n+        return;\n+    }\n+\n+    // we are above high water.  float relay fee in response.\n+    floatingFee = true;\n+\n+    // get sorted list of fees in mempool\n+    vector<CFeeRate> vfees;\n+    mempool.queryFees(vfees);\n+    std::sort(vfees.begin(), vfees.end());\n+    std::reverse(vfees.begin(), vfees.end());\n+    vfees.resize(vfees.size() / 2);\n+\n+    // set relay fee to lowest rate of top half of mempool\n+    ::minRelayTxFee = vfees.back();\n+\n+    LogPrint(\"mempool\", \"mempool janitor run complete, fee rate %s, %dms\\n\",\n+             ::minRelayTxFee.ToString(),\n+             GetTimeMillis() - nStart);\n+}\n+\n+void InitTxMempoolJanitor(CScheduler& scheduler)\n+{\n+    // mempool janitor execution interval.  default interval: 10 min\n+    int janitorInterval = GetArg(\"-janitorinterval\", (60 * 10));\n+\n+    // mempool janitor low water, high water marks\n+    PoolmanHighWater = GetArg(\"-mempoolhighwater\", 0);\n+    if (PoolmanHighWater <= 0)",
      "path": "src/poolman.cpp",
      "position": 76,
      "original_position": 75,
      "commit_id": "6c449bdcfe73526f09df8f3ad581f49467f7b2dd",
      "original_commit_id": "e459798a3c94e43c40325403d648ef1ec4031888",
      "in_reply_to_id": null,
      "user": {
        "login": "dgenr8",
        "id": 4284124,
        "node_id": "MDQ6VXNlcjQyODQxMjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4284124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dgenr8",
        "html_url": "https://github.com/dgenr8",
        "followers_url": "https://api.github.com/users/dgenr8/followers",
        "following_url": "https://api.github.com/users/dgenr8/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dgenr8/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dgenr8/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dgenr8/subscriptions",
        "organizations_url": "https://api.github.com/users/dgenr8/orgs",
        "repos_url": "https://api.github.com/users/dgenr8/repos",
        "events_url": "https://api.github.com/users/dgenr8/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dgenr8/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "@jgarzik Suppose highwater and max_blocksize are 1MB, and transaction flow is exactly 1MB/10min.  Whenever you get a slow block, you're going end up raising minrelayfee.  So 0 is too low a minimum ... it needs to be high enough that the adjustment is not triggered for reasonably slow blocks.\n",
      "created_at": "2015-07-11T00:31:50Z",
      "updated_at": "2015-07-11T00:34:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#discussion_r34406990",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34406990"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6402"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 76,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34409294",
      "pull_request_review_id": null,
      "id": 34409294,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0NDA5Mjk0",
      "diff_hunk": "@@ -0,0 +1,96 @@\n+\n+#include <algorithm>\n+#include <vector>\n+#include \"poolman.h\"\n+#include \"main.h\"\n+#include \"util.h\"\n+#include \"amount.h\"\n+#include \"utiltime.h\"\n+\n+using namespace std;\n+\n+static int64_t PoolmanLowWater, PoolmanHighWater;\n+static bool janitorInit = false;\n+static bool floatingFee = false;\n+static CFeeRate origTxFee;\n+\n+void TxMempoolJanitor()\n+{\n+    int64_t nStart = GetTimeMillis();\n+\n+    // remember original minimum tx fee\n+    if (!janitorInit) {\n+        janitorInit = true;\n+        origTxFee = ::minRelayTxFee;\n+    }\n+\n+    // query mempool stats\n+    unsigned long totalTx = mempool.size();\n+    int64_t totalSize = mempool.GetTotalTxSize();\n+\n+    // if below low water, disable janitor\n+    if (totalSize < PoolmanLowWater || totalTx < 2) {\n+        if (floatingFee) {\n+            floatingFee = false;\n+            ::minRelayTxFee = origTxFee;\n+        }\n+        LogPrint(\"mempool\", \"mempool level low, run complete,  %dms\\n\",\n+                 GetTimeMillis() - nStart);\n+        return;\n+    }\n+\n+    // if below high water, no more work.  floating fee might be active.\n+    if ((int64_t)mempool.GetTotalTxSize() < PoolmanHighWater) {\n+        LogPrint(\"mempool\", \"mempool level %s, run complete,  %dms\\n\",\n+                 floatingFee ? \"draining\" : \"adequate\",\n+                 GetTimeMillis() - nStart);\n+        return;\n+    }\n+\n+    // we are above high water.  float relay fee in response.\n+    floatingFee = true;\n+\n+    // get sorted list of fees in mempool\n+    vector<CFeeRate> vfees;\n+    mempool.queryFees(vfees);\n+    std::sort(vfees.begin(), vfees.end());\n+    std::reverse(vfees.begin(), vfees.end());\n+    vfees.resize(vfees.size() / 2);\n+\n+    // set relay fee to lowest rate of top half of mempool\n+    ::minRelayTxFee = vfees.back();\n+\n+    LogPrint(\"mempool\", \"mempool janitor run complete, fee rate %s, %dms\\n\",\n+             ::minRelayTxFee.ToString(),\n+             GetTimeMillis() - nStart);\n+}\n+\n+void InitTxMempoolJanitor(CScheduler& scheduler)\n+{\n+    // mempool janitor execution interval.  default interval: 10 min\n+    int janitorInterval = GetArg(\"-janitorinterval\", (60 * 10));\n+\n+    // mempool janitor low water, high water marks\n+    PoolmanHighWater = GetArg(\"-mempoolhighwater\", 0);\n+    if (PoolmanHighWater <= 0)",
      "path": "src/poolman.cpp",
      "position": 76,
      "original_position": 75,
      "commit_id": "6c449bdcfe73526f09df8f3ad581f49467f7b2dd",
      "original_commit_id": "e459798a3c94e43c40325403d648ef1ec4031888",
      "in_reply_to_id": null,
      "user": {
        "login": "jgarzik",
        "id": 494411,
        "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/494411?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jgarzik",
        "html_url": "https://github.com/jgarzik",
        "followers_url": "https://api.github.com/users/jgarzik/followers",
        "following_url": "https://api.github.com/users/jgarzik/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jgarzik/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jgarzik/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
        "organizations_url": "https://api.github.com/users/jgarzik/orgs",
        "repos_url": "https://api.github.com/users/jgarzik/repos",
        "events_url": "https://api.github.com/users/jgarzik/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jgarzik/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "\"0 is too low a minimum\"   I have no idea what this is talking about, sorry...\n\nAnd your highwater value should be quite larger than 1MB.\n",
      "created_at": "2015-07-11T03:43:22Z",
      "updated_at": "2015-07-11T03:43:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#discussion_r34409294",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34409294"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6402"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 76,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34409525",
      "pull_request_review_id": null,
      "id": 34409525,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0NDA5NTI1",
      "diff_hunk": "@@ -0,0 +1,96 @@\n+\n+#include <algorithm>\n+#include <vector>\n+#include \"poolman.h\"\n+#include \"main.h\"\n+#include \"util.h\"\n+#include \"amount.h\"\n+#include \"utiltime.h\"\n+\n+using namespace std;\n+\n+static int64_t PoolmanLowWater, PoolmanHighWater;\n+static bool janitorInit = false;\n+static bool floatingFee = false;\n+static CFeeRate origTxFee;\n+\n+void TxMempoolJanitor()\n+{\n+    int64_t nStart = GetTimeMillis();\n+\n+    // remember original minimum tx fee\n+    if (!janitorInit) {\n+        janitorInit = true;\n+        origTxFee = ::minRelayTxFee;\n+    }\n+\n+    // query mempool stats\n+    unsigned long totalTx = mempool.size();\n+    int64_t totalSize = mempool.GetTotalTxSize();\n+\n+    // if below low water, disable janitor\n+    if (totalSize < PoolmanLowWater || totalTx < 2) {\n+        if (floatingFee) {\n+            floatingFee = false;\n+            ::minRelayTxFee = origTxFee;\n+        }\n+        LogPrint(\"mempool\", \"mempool level low, run complete,  %dms\\n\",\n+                 GetTimeMillis() - nStart);\n+        return;\n+    }\n+\n+    // if below high water, no more work.  floating fee might be active.\n+    if ((int64_t)mempool.GetTotalTxSize() < PoolmanHighWater) {\n+        LogPrint(\"mempool\", \"mempool level %s, run complete,  %dms\\n\",\n+                 floatingFee ? \"draining\" : \"adequate\",\n+                 GetTimeMillis() - nStart);\n+        return;\n+    }\n+\n+    // we are above high water.  float relay fee in response.\n+    floatingFee = true;\n+\n+    // get sorted list of fees in mempool\n+    vector<CFeeRate> vfees;\n+    mempool.queryFees(vfees);\n+    std::sort(vfees.begin(), vfees.end());\n+    std::reverse(vfees.begin(), vfees.end());\n+    vfees.resize(vfees.size() / 2);\n+\n+    // set relay fee to lowest rate of top half of mempool\n+    ::minRelayTxFee = vfees.back();\n+\n+    LogPrint(\"mempool\", \"mempool janitor run complete, fee rate %s, %dms\\n\",\n+             ::minRelayTxFee.ToString(),\n+             GetTimeMillis() - nStart);\n+}\n+\n+void InitTxMempoolJanitor(CScheduler& scheduler)\n+{\n+    // mempool janitor execution interval.  default interval: 10 min\n+    int janitorInterval = GetArg(\"-janitorinterval\", (60 * 10));\n+\n+    // mempool janitor low water, high water marks\n+    PoolmanHighWater = GetArg(\"-mempoolhighwater\", 0);\n+    if (PoolmanHighWater <= 0)",
      "path": "src/poolman.cpp",
      "position": 76,
      "original_position": 75,
      "commit_id": "6c449bdcfe73526f09df8f3ad581f49467f7b2dd",
      "original_commit_id": "e459798a3c94e43c40325403d648ef1ec4031888",
      "in_reply_to_id": null,
      "user": {
        "login": "randy-waterhouse",
        "id": 637706,
        "node_id": "MDQ6VXNlcjYzNzcwNg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/637706?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/randy-waterhouse",
        "html_url": "https://github.com/randy-waterhouse",
        "followers_url": "https://api.github.com/users/randy-waterhouse/followers",
        "following_url": "https://api.github.com/users/randy-waterhouse/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/randy-waterhouse/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/randy-waterhouse/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/randy-waterhouse/subscriptions",
        "organizations_url": "https://api.github.com/users/randy-waterhouse/orgs",
        "repos_url": "https://api.github.com/users/randy-waterhouse/repos",
        "events_url": "https://api.github.com/users/randy-waterhouse/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/randy-waterhouse/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> The scanning interval and the high water mark are two very different things. Presumably the high water mark should be ~2 days, less a small factor.\n\nSo default highwater ~ `288*max_block_size` gives a buffer of 2 days of TX, less small factor, say `256*max_block_size`. Then janitor on 2 day TX expiry and minrelaytxfee float are targetting similar time/space constraints when system is at max capacity.\n",
      "created_at": "2015-07-11T04:24:57Z",
      "updated_at": "2015-07-11T07:18:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#discussion_r34409525",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34409525"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6402"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 76,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34415614",
      "pull_request_review_id": null,
      "id": 34415614,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0NDE1NjE0",
      "diff_hunk": "@@ -0,0 +1,96 @@\n+\n+#include <algorithm>\n+#include <vector>\n+#include \"poolman.h\"\n+#include \"main.h\"\n+#include \"util.h\"\n+#include \"amount.h\"\n+#include \"utiltime.h\"\n+\n+using namespace std;\n+\n+static int64_t PoolmanLowWater, PoolmanHighWater;\n+static bool janitorInit = false;\n+static bool floatingFee = false;\n+static CFeeRate origTxFee;\n+\n+void TxMempoolJanitor()\n+{\n+    int64_t nStart = GetTimeMillis();\n+\n+    // remember original minimum tx fee\n+    if (!janitorInit) {\n+        janitorInit = true;\n+        origTxFee = ::minRelayTxFee;\n+    }\n+\n+    // query mempool stats\n+    unsigned long totalTx = mempool.size();\n+    int64_t totalSize = mempool.GetTotalTxSize();\n+\n+    // if below low water, disable janitor\n+    if (totalSize < PoolmanLowWater || totalTx < 2) {\n+        if (floatingFee) {\n+            floatingFee = false;\n+            ::minRelayTxFee = origTxFee;\n+        }\n+        LogPrint(\"mempool\", \"mempool level low, run complete,  %dms\\n\",\n+                 GetTimeMillis() - nStart);\n+        return;\n+    }\n+\n+    // if below high water, no more work.  floating fee might be active.\n+    if ((int64_t)mempool.GetTotalTxSize() < PoolmanHighWater) {\n+        LogPrint(\"mempool\", \"mempool level %s, run complete,  %dms\\n\",\n+                 floatingFee ? \"draining\" : \"adequate\",\n+                 GetTimeMillis() - nStart);\n+        return;\n+    }\n+\n+    // we are above high water.  float relay fee in response.\n+    floatingFee = true;\n+\n+    // get sorted list of fees in mempool\n+    vector<CFeeRate> vfees;\n+    mempool.queryFees(vfees);\n+    std::sort(vfees.begin(), vfees.end());\n+    std::reverse(vfees.begin(), vfees.end());\n+    vfees.resize(vfees.size() / 2);\n+\n+    // set relay fee to lowest rate of top half of mempool\n+    ::minRelayTxFee = vfees.back();\n+\n+    LogPrint(\"mempool\", \"mempool janitor run complete, fee rate %s, %dms\\n\",\n+             ::minRelayTxFee.ToString(),\n+             GetTimeMillis() - nStart);\n+}\n+\n+void InitTxMempoolJanitor(CScheduler& scheduler)\n+{\n+    // mempool janitor execution interval.  default interval: 10 min\n+    int janitorInterval = GetArg(\"-janitorinterval\", (60 * 10));\n+\n+    // mempool janitor low water, high water marks\n+    PoolmanHighWater = GetArg(\"-mempoolhighwater\", 0);\n+    if (PoolmanHighWater <= 0)",
      "path": "src/poolman.cpp",
      "position": 76,
      "original_position": 75,
      "commit_id": "6c449bdcfe73526f09df8f3ad581f49467f7b2dd",
      "original_commit_id": "e459798a3c94e43c40325403d648ef1ec4031888",
      "in_reply_to_id": null,
      "user": {
        "login": "dgenr8",
        "id": 4284124,
        "node_id": "MDQ6VXNlcjQyODQxMjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4284124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dgenr8",
        "html_url": "https://github.com/dgenr8",
        "followers_url": "https://api.github.com/users/dgenr8/followers",
        "following_url": "https://api.github.com/users/dgenr8/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dgenr8/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dgenr8/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dgenr8/subscriptions",
        "organizations_url": "https://api.github.com/users/dgenr8/orgs",
        "repos_url": "https://api.github.com/users/dgenr8/repos",
        "events_url": "https://api.github.com/users/dgenr8/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dgenr8/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> And your highwater value should be quite larger than 1MB.\n\nThat's what I mean\n\n``` c++\n     PoolmanHighWater = GetArg(\"-mempoolhighwater\", 0);\n-    if (PoolmanHighWater <= 0)\n+    // Protect from taking action in response to mempool size variation\n+    // resulting from normal block interval variation\n+    if (PoolmanHighWater < 6 * MAX_BLOCK_SIZE) {\n+        PoolmanHighWater = 0;\n         PoolmanLowWater = -1;\n-    else {\n+    } else {\n         PoolmanLowWater = GetArg(\"-mempoollowwater\", -1);\n```\n",
      "created_at": "2015-07-11T19:37:47Z",
      "updated_at": "2015-07-11T19:37:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/6402#discussion_r34415614",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34415614"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6402"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 76,
      "original_line": null,
      "side": "RIGHT"
    }
  ]
}