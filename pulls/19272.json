{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272",
    "id": 434133128,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NDM0MTMzMTI4",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19272",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/19272.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/19272.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19272",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19272/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
    "number": 19272,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "net, test: invalid p2p messages and test framework improvements",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "...seen while reviewing #19264, #19252, #19304 and #19107:\r\n\r\nin `net_processing.cpp`\r\n- make the debug logging for oversized message size misbehavior the same for `addr`, `getdata`, `headers` and `inv` messages\r\n\r\nin `p2p_invalid_messages`\r\n- add missing logging\r\n- improve assertions/message sends, move cleanup disconnections outside the assertion scopes\r\n- split a slowish 3-part test into 3 order-independent tests\r\n- add a few p2p constants to the test framework",
    "labels": [
      {
        "id": 62963516,
        "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
        "name": "Tests",
        "color": "d4c5f9",
        "default": false
      }
    ],
    "active_lock_reason": "resolved",
    "created_at": "2020-06-14T11:48:06Z",
    "updated_at": "2022-02-15T10:32:49Z",
    "closed_at": "2020-06-24T19:58:49Z",
    "mergeable_state": "unknown",
    "merged_at": "2020-06-24T19:58:49Z",
    "merge_commit_sha": "67881de0e3b1cef1d0f978582765a8aeeb09c21a",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "requested_teams": [],
    "head": {
      "label": "jonatack:improve-p2p_invalid_messages",
      "ref": "improve-p2p_invalid_messages",
      "sha": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 173103842,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNzMxMDM4NDI=",
        "name": "bitcoin",
        "full_name": "jonatack/bitcoin",
        "owner": {
          "login": "jonatack",
          "id": 2415484,
          "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
          "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/jonatack",
          "html_url": "https://github.com/jonatack",
          "followers_url": "https://api.github.com/users/jonatack/followers",
          "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
          "organizations_url": "https://api.github.com/users/jonatack/orgs",
          "repos_url": "https://api.github.com/users/jonatack/repos",
          "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/jonatack/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/jonatack/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/jonatack/bitcoin",
        "archive_url": "https://api.github.com/repos/jonatack/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/jonatack/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/jonatack/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/jonatack/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/jonatack/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/jonatack/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/jonatack/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/jonatack/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/jonatack/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/jonatack/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/jonatack/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/jonatack/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/jonatack/bitcoin/events",
        "forks_url": "https://api.github.com/repos/jonatack/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/jonatack/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/jonatack/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/jonatack/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/jonatack/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/jonatack/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/jonatack/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/jonatack/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/jonatack/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/jonatack/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/jonatack/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/jonatack/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/jonatack/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/jonatack/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/jonatack/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/jonatack/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:jonatack/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/jonatack/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/jonatack/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/jonatack/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/jonatack/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/jonatack/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/jonatack/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/jonatack/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/jonatack/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/jonatack/bitcoin/hooks",
        "svn_url": "https://github.com/jonatack/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 1,
        "watchers_count": 1,
        "size": 217428,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-05-31T14:39:25Z",
        "created_at": "2019-02-28T11:57:18Z",
        "updated_at": "2023-01-03T22:00:49Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "5f72ddb7ee4cc177de31f43c69390ee72687222a",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34324,
        "stargazers_count": 69818,
        "watchers_count": 69818,
        "size": 233879,
        "default_branch": "master",
        "open_issues_count": 627,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-06T22:42:00Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-06-07T03:51:27Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 56,
    "deletions": 37,
    "changed_files": 5,
    "commits": 5,
    "review_comments": 38,
    "comments": 16
  },
  "events": [
    {
      "event": "reviewed",
      "id": 430212838,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwMjEyODM4",
      "url": null,
      "actor": null,
      "commit_id": "bc42270f216454fb9fb79183cb4a159d0f92f9c1",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#pullrequestreview-430212838",
      "submitted_at": "2020-06-14T11:59:37Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
    },
    {
      "event": "labeled",
      "id": 3441659364,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDM0NDE2NTkzNjQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3441659364",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-14T12:44:49Z",
      "label": {
        "name": "Tests",
        "color": "d4c5f9"
      }
    },
    {
      "event": "commented",
      "id": 643800731,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0MzgwMDczMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/643800731",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-14T18:01:39Z",
      "updated_at": "2020-06-19T20:25:19Z",
      "author_association": "MEMBER",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19145 (Add hash_type options for gettxoutsetinfo by fjahr)\n* #19107 (p2p: Refactor, move all header verification into the network layer, without changing behavior by troygiorshev)\n* #18642 (Use std::chrono for the time to rotate destination of addr messages + tests by naumenkogs)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#issuecomment-643800731",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19272"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3441984773,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzQ0MTk4NDc3Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3441984773",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-14T19:48:04Z"
    },
    {
      "event": "commented",
      "id": 644499712,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0NDQ5OTcxMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/644499712",
      "actor": {
        "login": "troygiorshev",
        "id": 5553787,
        "node_id": "MDQ6VXNlcjU1NTM3ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5553787?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/troygiorshev",
        "html_url": "https://github.com/troygiorshev",
        "followers_url": "https://api.github.com/users/troygiorshev/followers",
        "following_url": "https://api.github.com/users/troygiorshev/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/troygiorshev/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/troygiorshev/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/troygiorshev/subscriptions",
        "organizations_url": "https://api.github.com/users/troygiorshev/orgs",
        "repos_url": "https://api.github.com/users/troygiorshev/repos",
        "events_url": "https://api.github.com/users/troygiorshev/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/troygiorshev/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-16T02:51:37Z",
      "updated_at": "2020-06-16T02:51:37Z",
      "author_association": "CONTRIBUTOR",
      "body": "ACK 6b18bfefed402a904db45a19b9cd8c1cb5d4c337",
      "user": {
        "login": "troygiorshev",
        "id": 5553787,
        "node_id": "MDQ6VXNlcjU1NTM3ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5553787?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/troygiorshev",
        "html_url": "https://github.com/troygiorshev",
        "followers_url": "https://api.github.com/users/troygiorshev/followers",
        "following_url": "https://api.github.com/users/troygiorshev/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/troygiorshev/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/troygiorshev/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/troygiorshev/subscriptions",
        "organizations_url": "https://api.github.com/users/troygiorshev/orgs",
        "repos_url": "https://api.github.com/users/troygiorshev/repos",
        "events_url": "https://api.github.com/users/troygiorshev/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/troygiorshev/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#issuecomment-644499712",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19272"
    },
    {
      "event": "reviewed",
      "id": 431094873,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxMDk0ODcz",
      "url": null,
      "actor": null,
      "commit_id": "6b18bfefed402a904db45a19b9cd8c1cb5d4c337",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Reviewed and ran all tests. Just one suggestion if you plan on making any changes.",
      "user": {
        "login": "troygiorshev",
        "id": 5553787,
        "node_id": "MDQ6VXNlcjU1NTM3ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5553787?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/troygiorshev",
        "html_url": "https://github.com/troygiorshev",
        "followers_url": "https://api.github.com/users/troygiorshev/followers",
        "following_url": "https://api.github.com/users/troygiorshev/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/troygiorshev/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/troygiorshev/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/troygiorshev/subscriptions",
        "organizations_url": "https://api.github.com/users/troygiorshev/orgs",
        "repos_url": "https://api.github.com/users/troygiorshev/repos",
        "events_url": "https://api.github.com/users/troygiorshev/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/troygiorshev/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#pullrequestreview-431094873",
      "submitted_at": "2020-06-16T02:52:06Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3447758108,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzQ0Nzc1ODEwOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3447758108",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-16T08:08:22Z"
    },
    {
      "event": "commented",
      "id": 644607169,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0NDYwNzE2OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/644607169",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-16T08:10:03Z",
      "updated_at": "2020-06-16T08:10:03Z",
      "author_association": "MEMBER",
      "body": "Thanks for reviewing @troygiorshev. Took your suggestion and also removed an unnecessary `disconnect_p2ps()` call in `test_oversized_msg()`.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#issuecomment-644607169",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19272"
    },
    {
      "event": "mentioned",
      "id": 3447764607,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzQ0Nzc2NDYwNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3447764607",
      "actor": {
        "login": "troygiorshev",
        "id": 5553787,
        "node_id": "MDQ6VXNlcjU1NTM3ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5553787?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/troygiorshev",
        "html_url": "https://github.com/troygiorshev",
        "followers_url": "https://api.github.com/users/troygiorshev/followers",
        "following_url": "https://api.github.com/users/troygiorshev/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/troygiorshev/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/troygiorshev/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/troygiorshev/subscriptions",
        "organizations_url": "https://api.github.com/users/troygiorshev/orgs",
        "repos_url": "https://api.github.com/users/troygiorshev/repos",
        "events_url": "https://api.github.com/users/troygiorshev/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/troygiorshev/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-16T08:10:03Z"
    },
    {
      "event": "subscribed",
      "id": 3447764615,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM0NDc3NjQ2MTU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3447764615",
      "actor": {
        "login": "troygiorshev",
        "id": 5553787,
        "node_id": "MDQ6VXNlcjU1NTM3ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5553787?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/troygiorshev",
        "html_url": "https://github.com/troygiorshev",
        "followers_url": "https://api.github.com/users/troygiorshev/followers",
        "following_url": "https://api.github.com/users/troygiorshev/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/troygiorshev/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/troygiorshev/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/troygiorshev/subscriptions",
        "organizations_url": "https://api.github.com/users/troygiorshev/orgs",
        "repos_url": "https://api.github.com/users/troygiorshev/repos",
        "events_url": "https://api.github.com/users/troygiorshev/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/troygiorshev/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-16T08:10:03Z"
    },
    {
      "event": "reviewed",
      "id": 431924124,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxOTI0MTI0",
      "url": null,
      "actor": null,
      "commit_id": "beecd6b5ef454f240510c690ea301cf679b299a6",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK\r\nMentioned this elsewhere but my edit is already outdated. Small suggestion for p2p_invalid_messages.py, feel free to ignore: \r\nIf you replace the 3 (specifically, `test_checksum`, `test_size`, and `test_msgtype`)  `self.nodes[0].p2p` with `conn`, all of the subtest `disconnect_p2ps` can also be removed. The only reason they need it now is to clear `p2ps`.",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#pullrequestreview-431924124",
      "submitted_at": "2020-06-16T22:19:59Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3452857231,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzQ1Mjg1NzIzMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3452857231",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-17T10:09:42Z"
    },
    {
      "event": "commented",
      "id": 645285506,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0NTI4NTUwNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/645285506",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-17T10:14:47Z",
      "updated_at": "2020-06-17T10:14:47Z",
      "author_association": "MEMBER",
      "body": "Thank you for reviewing, @gzhao408. Took your suggestion and credited you as co-author in the commit.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#issuecomment-645285506",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19272"
    },
    {
      "event": "mentioned",
      "id": 3452876433,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzQ1Mjg3NjQzMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3452876433",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-17T10:14:47Z"
    },
    {
      "event": "subscribed",
      "id": 3452876438,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM0NTI4NzY0Mzg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3452876438",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-17T10:14:47Z"
    },
    {
      "event": "commented",
      "id": 645462753,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0NTQ2Mjc1Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/645462753",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-17T15:57:39Z",
      "updated_at": "2020-06-17T15:57:39Z",
      "author_association": "MEMBER",
      "body": "I don't think we should be removing the `disconnect_p2ps` calls at the end of each subtest. Ideally the subtest finishes by leaving the node and fixture in as close a state to they were in originally. See https://github.com/bitcoin/bitcoin/pull/19304#discussion_r441643412",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#issuecomment-645462753",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19272"
    },
    {
      "event": "commented",
      "id": 645494091,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0NTQ5NDA5MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/645494091",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-17T16:53:13Z",
      "updated_at": "2020-06-17T19:08:35Z",
      "author_association": "MEMBER",
      "body": "@jnewbery good point... \r\n> Ideally the subtest finishes by leaving the node and fixture in as close a state to they were in originally\r\n\r\nIn terms of state, I'm thinking state = (1) the `test_node.p2ps` array and (2) the connections between the node and its peers. \r\n\r\n(1) I think it's ok if the array has an extra entry if we're not using the `.p2p` property? Would you agree? If not, then yeah, we need to put `disconnect_p2ps()` back 😄 .\r\n\r\n(2) For connections: Definitely agree that subtests should disconnect peers to clean up after themselves. Either `node.disconnect_p2ps` or `peer.peer_disconnect` Some of the subtests call `wait_for_disconnect` which makes sure that they are disconnected from the peer's POV (no peer._transport). With #19252,`disconnect_p2ps` waits for node's POV (not in node.getpeerinfo()). \r\n\r\nI'm not sure if disconnected from peer's POV  == disconnected from the node's POV. If they're effectively the same, I'd say it's unnecessary to call `disconnect_p2ps` after `wait_for_disconnect`.\r\n\r\nI might be overthinking this haha, I dug into this when I thought superfluous `disconnect_p2ps` would cause performance problems 😅 .",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#issuecomment-645494091",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19272"
    },
    {
      "event": "mentioned",
      "id": 3454527366,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzQ1NDUyNzM2Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3454527366",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-17T16:53:13Z"
    },
    {
      "event": "subscribed",
      "id": 3454527370,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM0NTQ1MjczNzA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3454527370",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-17T16:53:13Z"
    },
    {
      "event": "commented",
      "id": 645771410,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0NTc3MTQxMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/645771410",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-18T04:53:24Z",
      "updated_at": "2020-06-18T04:53:24Z",
      "author_association": "MEMBER",
      "body": "AFAICT the tests are order-independent with this PR, and I checked that this passes when rebased to current master:\r\n```diff\r\n+from test_framework.util import assert_equal\r\n  \r\n+    def assert_no_connected_peers(self):\r\n+        assert_equal(self.nodes[0].num_connected_mininodes(), 0)\r\n+\r\n     def run_test(self):\r\n         self.test_magic_bytes()\r\n+        self.assert_no_connected_peers()\r\n         self.test_checksum()\r\n+        self.assert_no_connected_peers()\r\n         self.test_size()\r\n+        self.assert_no_connected_peers()\r\n         self.test_msgtype()\r\n+        self.assert_no_connected_peers()\r\n         self.test_oversized_inv_msg()\r\n+        self.assert_no_connected_peers()\r\n         self.test_oversized_getdata_msg()\r\n+        self.assert_no_connected_peers()\r\n         self.test_oversized_headers_msg()\r\n+        self.assert_no_connected_peers()\r\n         self.test_resource_exhaustion()\r\n+        self.assert_no_connected_peers()\r\n```\r\n\r\n",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#issuecomment-645771410",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19272"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3456382253,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzQ1NjM4MjI1Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3456382253",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-18T05:12:10Z"
    },
    {
      "event": "commented",
      "id": 645777808,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0NTc3NzgwOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/645777808",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-18T05:14:39Z",
      "updated_at": "2020-06-18T10:37:59Z",
      "author_association": "MEMBER",
      "body": "Anyway, removed the removal of `disconnect_p2ps`, and rebased to master to be sure all is well with the latest version of `disconnect_p2ps`. Edit: Improved the logging and the assertions with new ideas after reviewing #19107.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#issuecomment-645777808",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19272"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3457490975,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzQ1NzQ5MDk3NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3457490975",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-18T10:36:41Z"
    },
    {
      "event": "referenced",
      "id": 3457715497,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDM0NTc3MTU0OTc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3457715497",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "343c0bfbf1e56dd4b2919bc98215367922926f3c",
      "commit_url": "https://api.github.com/repos/MarcoFalke/b-c/commits/343c0bfbf1e56dd4b2919bc98215367922926f3c",
      "created_at": "2020-06-18T11:41:42Z"
    },
    {
      "event": "commented",
      "id": 645964504,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0NTk2NDUwNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/645964504",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-18T11:47:06Z",
      "updated_at": "2020-06-18T11:47:06Z",
      "author_association": "MEMBER",
      "body": "@MarcoFalke several PRs on this test have been merged but no approval from you on this one. I think they are good improvements but feel free to close it if you disagree; it will save me from spinning my wheels.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#issuecomment-645964504",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19272"
    },
    {
      "event": "mentioned",
      "id": 3457733276,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzQ1NzczMzI3Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3457733276",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-18T11:47:06Z"
    },
    {
      "event": "subscribed",
      "id": 3457733283,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM0NTc3MzMyODM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3457733283",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-18T11:47:06Z"
    },
    {
      "event": "commented",
      "id": 645968808,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0NTk2ODgwOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/645968808",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-18T11:56:48Z",
      "updated_at": "2020-06-18T11:56:48Z",
      "author_association": "MEMBER",
      "body": "I generally use the conflicts list of DrahtBot to see which pr has the most reviews and is the most ready to merge and then get them in one by one if they have received their ACKs.\r\n\r\nWill take another look here. One sec",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#issuecomment-645968808",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19272"
    },
    {
      "event": "reviewed",
      "id": 433212471,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzMjEyNDcx",
      "url": null,
      "actor": null,
      "commit_id": "efb9a952723d38312540ca4ce0fa2495b7fcbe52",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Fine with me",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#pullrequestreview-433212471",
      "submitted_at": "2020-06-18T12:04:00Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3457881166,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzQ1Nzg4MTE2Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3457881166",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-18T12:28:37Z"
    },
    {
      "event": "commented",
      "id": 645999775,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0NTk5OTc3NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/645999775",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-18T12:57:04Z",
      "updated_at": "2020-06-18T13:11:30Z",
      "author_association": "MEMBER",
      "body": "Rebased for merged #19304, reverted the chain setting, and removed a line left over from the last change (thanks Marco).\r\n\r\n```diff\r\n-MSG_LIMIT = 4 * 1000 * 1000  # 4MB, per MAX_PROTOCOL_MESSAGE_LENGTH\r\nVALID_DATA_LIMIT = MAX_PROTOCOL_MESSAGE_LENGTH - 5  # Account for the 5-byte length prefix\r\n\r\n-        self.setup_clean_chain = False\r\n+        self.setup_clean_chain = True\r\n```\r\n",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#issuecomment-645999775",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19272"
    },
    {
      "event": "reviewed",
      "id": 433393267,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzMzkzMjY3",
      "url": null,
      "actor": null,
      "commit_id": "255fbcaee556e743fc41532c13d80edd25941d50",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Nice changes, Jon. I've left a few minor comments inline.",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#pullrequestreview-433393267",
      "submitted_at": "2020-06-18T15:25:45Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3459102484,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzQ1OTEwMjQ4NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3459102484",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-18T16:46:21Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3459297813,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzQ1OTI5NzgxMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3459297813",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-18T17:25:13Z"
    },
    {
      "event": "renamed",
      "id": 3459326267,
      "node_id": "MDE3OlJlbmFtZWRUaXRsZUV2ZW50MzQ1OTMyNjI2Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3459326267",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-18T17:30:58Z",
      "rename": {
        "from": "test: p2p_invalid_messages and test framework improvements",
        "to": "net, test: p2p_invalid_messages and test framework improvements"
      }
    },
    {
      "event": "renamed",
      "id": 3459328850,
      "node_id": "MDE3OlJlbmFtZWRUaXRsZUV2ZW50MzQ1OTMyODg1MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3459328850",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-18T17:31:31Z",
      "rename": {
        "from": "net, test: p2p_invalid_messages and test framework improvements",
        "to": "net, test: invalid p2p messages and test framework improvements"
      }
    },
    {
      "event": "commented",
      "id": 646212014,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0NjIxMjAxNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/646212014",
      "actor": {
        "login": "troygiorshev",
        "id": 5553787,
        "node_id": "MDQ6VXNlcjU1NTM3ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5553787?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/troygiorshev",
        "html_url": "https://github.com/troygiorshev",
        "followers_url": "https://api.github.com/users/troygiorshev/followers",
        "following_url": "https://api.github.com/users/troygiorshev/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/troygiorshev/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/troygiorshev/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/troygiorshev/subscriptions",
        "organizations_url": "https://api.github.com/users/troygiorshev/orgs",
        "repos_url": "https://api.github.com/users/troygiorshev/repos",
        "events_url": "https://api.github.com/users/troygiorshev/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/troygiorshev/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-18T17:44:26Z",
      "updated_at": "2020-06-18T17:44:26Z",
      "author_association": "CONTRIBUTOR",
      "body": "reACK ca658361c7e6a137d1ee8be8a005b35ad0426fa3\r\n\r\nReviewed and stepped through each test.  Verified that none of these changes caused linting errors.",
      "user": {
        "login": "troygiorshev",
        "id": 5553787,
        "node_id": "MDQ6VXNlcjU1NTM3ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5553787?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/troygiorshev",
        "html_url": "https://github.com/troygiorshev",
        "followers_url": "https://api.github.com/users/troygiorshev/followers",
        "following_url": "https://api.github.com/users/troygiorshev/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/troygiorshev/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/troygiorshev/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/troygiorshev/subscriptions",
        "organizations_url": "https://api.github.com/users/troygiorshev/orgs",
        "repos_url": "https://api.github.com/users/troygiorshev/repos",
        "events_url": "https://api.github.com/users/troygiorshev/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/troygiorshev/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#issuecomment-646212014",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19272"
    },
    {
      "event": "reviewed",
      "id": 433518548,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzNTE4NTQ4",
      "url": null,
      "actor": null,
      "commit_id": "cb71adbf9338c8a3f8348c936d4c1caa1086a33f",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "c6e7519647ef8736aaa5d8e7f804d0340a36029a",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#pullrequestreview-433518548",
      "submitted_at": "2020-06-18T18:13:41Z",
      "state": "CHANGES_REQUESTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3459901032,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzQ1OTkwMTAzMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3459901032",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-18T20:17:32Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3459973811,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzQ1OTk3MzgxMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3459973811",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-18T20:39:28Z"
    },
    {
      "event": "commented",
      "id": 646307936,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0NjMwNzkzNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/646307936",
      "actor": {
        "login": "troygiorshev",
        "id": 5553787,
        "node_id": "MDQ6VXNlcjU1NTM3ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5553787?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/troygiorshev",
        "html_url": "https://github.com/troygiorshev",
        "followers_url": "https://api.github.com/users/troygiorshev/followers",
        "following_url": "https://api.github.com/users/troygiorshev/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/troygiorshev/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/troygiorshev/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/troygiorshev/subscriptions",
        "organizations_url": "https://api.github.com/users/troygiorshev/orgs",
        "repos_url": "https://api.github.com/users/troygiorshev/repos",
        "events_url": "https://api.github.com/users/troygiorshev/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/troygiorshev/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-18T21:11:30Z",
      "updated_at": "2020-06-18T21:11:30Z",
      "author_association": "CONTRIBUTOR",
      "body": "reACK 98af0f02055409af7f3d1a5df06d315f36b0b856",
      "user": {
        "login": "troygiorshev",
        "id": 5553787,
        "node_id": "MDQ6VXNlcjU1NTM3ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5553787?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/troygiorshev",
        "html_url": "https://github.com/troygiorshev",
        "followers_url": "https://api.github.com/users/troygiorshev/followers",
        "following_url": "https://api.github.com/users/troygiorshev/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/troygiorshev/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/troygiorshev/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/troygiorshev/subscriptions",
        "organizations_url": "https://api.github.com/users/troygiorshev/orgs",
        "repos_url": "https://api.github.com/users/troygiorshev/repos",
        "events_url": "https://api.github.com/users/troygiorshev/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/troygiorshev/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#issuecomment-646307936",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19272"
    },
    {
      "event": "labeled",
      "id": 3461877704,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDM0NjE4Nzc3MDQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3461877704",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-19T10:24:04Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5ZmE0OTRkYzA5NjljNjFkNWVmMzM3MDhhMDg5MjNjY2ExOWNlMDkx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9fa494dc0969c61d5ef33708a08923cca19ce091",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/9fa494dc0969c61d5ef33708a08923cca19ce091",
      "tree": {
        "sha": "51e793a84110f1b77b945aafdb5c19f8e69cb1ce",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/51e793a84110f1b77b945aafdb5c19f8e69cb1ce"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 51e793a84110f1b77b945aafdb5c19f8e69cb1ce\nparent 5f72ddb7ee4cc177de31f43c69390ee72687222a\nauthor Jon Atack <jon@atack.com> 1592384936 +0200\ncommitter Jon Atack <jon@atack.com> 1592568856 +0200\n\nnet: update misbehavior logging for oversized messages\n\nso that oversized ADDR, GETDATA, HEADERS and INV messages print\nthe same consistent debug logs.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAl7srB0ACgkQT1chs9Dj\nkh1pGhAAmDa/d6LwUk5OwXNN42l0icDUakCoXs0gsO87qTqqAv5ojjO9n1tkzElg\nvd4qlaRIcjG3lcjtLikvBKPJtwvehSrjmVW0ZRaqVDXAefnmvdJduKCz6TT4N/RG\ne98WtBsUtsOv8CcZ2GgkwRWqzj68Zcwado/ft59/M3U9/jT5QnP+x3NDRIP7Ckk/\npWVBPSXXV6Vt8yfW/eOL31HuuBKq+Z9yX2/ocoDuGt0KAufjbD8nF0h/eHWfiF/c\nq1MJuiX2rzMiy+BCEAS3fP52S4R+iKmWx/eFu7/12BYr6ciIzqrXn4p7SiX1ikH+\n09R3U7Xu4dtQ8vdBJ1ZfnEVdh0xh0+EQj451WKGHdCeAhReE4/zUZIwdM4FspGGc\ntfBpkal3VCCz3C5rTPnEQTDRFE1i6w56di8+6tTEfeUJ8NpbLOQ2uz8nF6865anr\ngVYob7orlSjoCMBrPve46jvqUoAStxSnbveqpSeh2+P7CyH2C8Bf+EyHtKV2fHHb\nm+1NRyyfbax81sFDUOdNqIs+j/yGI5uhW/TQ8QXHqDzPzc+aKEwQH6A44avVCtAh\nPdyidik+qnqtBSFLRm8n8aZxgmIjJ6V2g45V1XIZqUu8hjmtR5AOAo6HUrM3GYDj\nS/kCvHs/hS5HLnvYvApkRAc5y2oqx5mlz/x0Au/jXVbYsVcwLjQ=\n=8dtr\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwINy1kfU6Yr+pjBjIYwOuqH/EwPrLAGasGqKvCojG1UfWCP/wEDQWrQg+oN+q\n3U2+FGaZufMI8QRe7Kwg8AiNQYgUYCvlaQCD3+MNLvkMji4taHR0cHM6Ly9hbGlj\nZS5idGMuY2FsZW5kYXIub3BlbnRpbWVzdGFtcHMub3Jn//AQeuysc69E973zsYC+\n2NL2egjxBF7srB/wCLkq1Q0zC9FwAIPf4w0u+QyOLCtodHRwczovL2JvYi5idGMu\nY2FsZW5kYXIub3BlbnRpbWVzdGFtcHMub3Jn//AQkQbY22nFBRUbjb+hjwPcSgjx\nBF7srCDwCMjEo9ZnPCDyAIPf4w0u+QyOKShodHRwczovL2Zpbm5leS5jYWxlbmRh\nci5ldGVybml0eXdhbGwuY29t8BDd4SmVtarXyGR3br+oRGvvCPEEXuysIPAIYQBq\nrCouDYYAg9/jDS75DI4jImh0dHBzOi8vYnRjLmNhbGVuZGFyLmNhdGFsbGF4eS5j\nb20=\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5f72ddb7ee4cc177de31f43c69390ee72687222a",
          "sha": "5f72ddb7ee4cc177de31f43c69390ee72687222a",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5f72ddb7ee4cc177de31f43c69390ee72687222a"
        }
      ],
      "message": "net: update misbehavior logging for oversized messages\n\nso that oversized ADDR, GETDATA, HEADERS and INV messages print\nthe same consistent debug logs.",
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-06-19T12:14:16Z"
      },
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-06-17T09:08:56Z"
      },
      "sha": "9fa494dc0969c61d5ef33708a08923cca19ce091"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzplMmIyMWQ4YTU5N2M1MzZhODYxNzQwOGQ0Mzk1OGJmZTlmOThhNDQy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e2b21d8a597c536a8617408d43958bfe9f98a442",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e2b21d8a597c536a8617408d43958bfe9f98a442",
      "tree": {
        "sha": "5a1bdc445a1ebb3bf1474a2c6289dd0dda9781d6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5a1bdc445a1ebb3bf1474a2c6289dd0dda9781d6"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 5a1bdc445a1ebb3bf1474a2c6289dd0dda9781d6\nparent 9fa494dc0969c61d5ef33708a08923cca19ce091\nauthor Jon Atack <jon@atack.com> 1592131124 +0200\ncommitter Jon Atack <jon@atack.com> 1592568865 +0200\n\ntest: add p2p_invalid_messages logging\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAl7srCEACgkQT1chs9Dj\nkh1WAw//TG0IgUSqUjkqkzPXPDHtBuwfPhdsyu8dYXK5Np/+gSaPTknceWIsHTGO\nHxQriphe6FPIGhC86NaK7c80Q6kbx4eAS9rY3B+Ohx6QeorkqndKcRko0p0tKiI8\nGPthSc1UwisqX0s76n8oKGcVZ4R2amdSJodrqYy2ztZ7Ybh9fNmUvenpxt0xTGG7\ncwmiLp7bctzgAxIgkClUDhwAQbp2BHrVGL1cZXEuF0H6MZ8MNDlic0r1cUn7p5ip\n/LxlJy8iBJ8ifIsYa52hDvZgtvKz1aXDn0cg6xZOLlAaMsMVvQuNAIfkojxQjeeG\n4DJLjRilqw2FlHhzvotTctuQwjPyICUk9Zgvaf/K6Jt6tS21pi3yYIt6l3CQF5Ja\ntG0+xxzccQ6lG6Q8a/dcNvCd3vIU0CbHpMcDldWdM1ZN7Q0Xd+EZWXLFlHlnzWpi\nJX3aRI+nODpv01G1bK+6zvzg8Cz1zCx+/9Eu2Nt++UJitpR7+/UgWUFigdR4JrT+\n7SmziBN75LL0hzSYmMcGMcy3VJTa83mwWr3WEL8k06rgHFi6bl5ODxpw4N15GPp9\nsX+vgQmWF2q2wUtcAWe+UVL4l/co+obW0F/CJdsESR4EfN0ZkwjgmAViS//sJUZP\nllJcmUm6Sozur2fSOhhFi27tuS20Fk5xDhDjI1Bw+AIYx2GGwSM=\n=i/Ee\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwICWOM0eZ+J+Clxk0rPWLJUYbDskfsZqmxB18/+W2MB4DCP/wEBl153OgLvrx\nbXy2qU/wj8sI8QRe7Kwk8AhVM+fHSJt+3gCD3+MNLvkMjikoaHR0cHM6Ly9maW5u\nZXkuY2FsZW5kYXIuZXRlcm5pdHl3YWxsLmNvbf/wEFhAiJkfhjGhhM8AedDwNL8I\n8CDD8qRgc03uyeStM+Kb5zVSXs0GlyuZifzkz12GFN+w2gjxBF7srCPwCL/4uLOe\n8cotAIPf4w0u+QyOLCtodHRwczovL2JvYi5idGMuY2FsZW5kYXIub3BlbnRpbWVz\ndGFtcHMub3Jn//AQjVf4g7w0KyvV1S9KlaVBGQjxBF7srCTwCM7PY7pG2WmFAIPf\n4w0u+QyOIyJodHRwczovL2J0Yy5jYWxlbmRhci5jYXRhbGxheHkuY29t8BDxGzHq\ntJEF5gJlGqM/cuSvCPEEXuysI/AIGxJBJtfuGpoAg9/jDS75DI4uLWh0dHBzOi8v\nYWxpY2UuYnRjLmNhbGVuZGFyLm9wZW50aW1lc3RhbXBzLm9yZw==\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9fa494dc0969c61d5ef33708a08923cca19ce091",
          "sha": "9fa494dc0969c61d5ef33708a08923cca19ce091",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/9fa494dc0969c61d5ef33708a08923cca19ce091"
        }
      ],
      "message": "test: add p2p_invalid_messages logging",
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-06-19T12:14:25Z"
      },
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-06-14T10:38:44Z"
      },
      "sha": "e2b21d8a597c536a8617408d43958bfe9f98a442"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1Nzk2MDE5MmE1MzYyZmYxYTdiOTk2OTk1MzMyNTM1ZjRjMmEyNWMz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/57960192a5362ff1a7b996995332535f4c2a25c3",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/57960192a5362ff1a7b996995332535f4c2a25c3",
      "tree": {
        "sha": "ae52992f4c5cedb9ec7c2b4d9c9a247b01478cb6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ae52992f4c5cedb9ec7c2b4d9c9a247b01478cb6"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree ae52992f4c5cedb9ec7c2b4d9c9a247b01478cb6\nparent e2b21d8a597c536a8617408d43958bfe9f98a442\nauthor Jon Atack <jon@atack.com> 1592131437 +0200\ncommitter Jon Atack <jon@atack.com> 1592568869 +0200\n\ntest: refactor test_large_inv() into 3 tests with common method\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAl7srCUACgkQT1chs9Dj\nkh3WBA//SDrLry94B0xrxl7Z+/yQuhokcy0qUeXhGUvjpBAr7pZVxlFTyn1cE4XV\ne5QfcPqPbfRjleSXbeeDa/N/OULB7NBHZhTMhapYHu8WfbNLZEzOSz5s+qi2cZfD\nwScrFG8lGHhtgLDu/hkuNYqkTGEmtTGKNNV7iXpgAFku4LjOltgb5y4oblpU11Da\nCYAFonkQYhD8IV8hG37Ipplk5Wyww+zu6O9QZ5XNYuOLwWWihL/vUd1zGwPIwU3V\nGS7QeC+LDh29P9XUG22sWmv+Df+Ns1vOKbvD3zVWiCcxyKsc3C/YdUbfOsQg/HaA\nASg9lkT5Plm+0HFVLscj1MCce/UDh4xl1xQ7KwTqcJ3Y+Urv+5B2nm0Z6/Lp2TOL\n5nwhevErDwBiuM2m65WN4O2YVFFG8VqZImRgNNeJW021fpv3jpiyNed1bfUU9eSs\nlIwvt4PBA23rAf+aFVWi7YJCXWGmdHPttCJVCFfVbBO+YGdT7vxio+57SwmqnDiB\ng7mp9WP/Ft2OBWFRbf45EJjz2y8bMOf9B29LNh9PShHWRVuwf9ld2U7Okos4GrvD\nXIpcqzPLEW7qXVqypW+pq1R1WZf/Kl1UYJAkU0NJPH9anSKQlRTZ8NEIBks4aZd3\nJEGkZP8uA6+gAxOuwOxRNvYS88q5CKL5CMyK0PGKDfs5X5u1ztI=\n=F6Q8\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIKn0a8ZgnvnpaIdoBqu1JrHIf+DMEzqMQRXye/Di0q/FCP/wEAwVARVhjFIa\nBeScPkXZYpEI8QRe7Kwo8AiDQltA9tw0OACD3+MNLvkMjiMiaHR0cHM6Ly9idGMu\nY2FsZW5kYXIuY2F0YWxsYXh5LmNvbf/wEDffyQ9ynII8brs0JHNCfQEI8QRe7Kwo\n8AhXvro3paaYdgCD3+MNLvkMjikoaHR0cHM6Ly9maW5uZXkuY2FsZW5kYXIuZXRl\ncm5pdHl3YWxsLmNvbf/wEL9iheF/TBE3f4A3VjhbmgAI8QRe7Kwm8AhpQEwCM00J\nawCD3+MNLvkMjiwraHR0cHM6Ly9ib2IuYnRjLmNhbGVuZGFyLm9wZW50aW1lc3Rh\nbXBzLm9yZ/AQ4rKtf1xoT7eXJvd3mK4h2AjxBF7srCfwCFVNT2hr4eDXAIPf4w0u\n+QyOLi1odHRwczovL2FsaWNlLmJ0Yy5jYWxlbmRhci5vcGVudGltZXN0YW1wcy5v\ncmc=\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e2b21d8a597c536a8617408d43958bfe9f98a442",
          "sha": "e2b21d8a597c536a8617408d43958bfe9f98a442",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/e2b21d8a597c536a8617408d43958bfe9f98a442"
        }
      ],
      "message": "test: refactor test_large_inv() into 3 tests with common method",
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-06-19T12:14:29Z"
      },
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-06-14T10:43:57Z"
      },
      "sha": "57960192a5362ff1a7b996995332535f4c2a25c3"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3NTQ0N2YwODkzZjlhZDliZjgzZDE4MmIzMDFkMTM5NDMwZDhkZTFj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/75447f0893f9ad9bf83d182b301d139430d8de1c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/75447f0893f9ad9bf83d182b301d139430d8de1c",
      "tree": {
        "sha": "33f1bc746720a21b7a55e56cf1f600f2ace23963",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/33f1bc746720a21b7a55e56cf1f600f2ace23963"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 33f1bc746720a21b7a55e56cf1f600f2ace23963\nparent 57960192a5362ff1a7b996995332535f4c2a25c3\nauthor Jon Atack <jon@atack.com> 1592132907 +0200\ncommitter Jon Atack <jon@atack.com> 1592568872 +0200\n\ntest: improve msg sends and p2p disconnections in p2p_invalid_messages\n\n- call disconnect_p2ps() outside of the assert_debug_log scopes\n- send messages directly from the p2p conn rather than via nodes[0].p2p\n- add an assertion\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAl7srCgACgkQT1chs9Dj\nkh3Hew//fcJuQ9eVMQpCp6gcOhaBLd2k/c24KbPBWrZ6MVETAJ7+nTBLDwBDjbQz\nCou1bx8ZmamiIZX3twW6rCvTXZqkeK4a1r8moKhAUcA0bNINDNOGew0pgXrpG1qw\nRPNY2meoaO/5l7pxrXHxl71nuOA+s7fob+WeYF3DMWhoIaGhPIF7jKV6ZTfDrR9P\nqSoMC/hBPJvFDF3x9cTiYkA+0VWiu/V73pWfDthblNEjUpHaUG5TA7esIA0saDnn\nYUggbUk3U+rLeq0vfiRFl7b7TtXDiw8idSyZoDA65WsAuoSN10qHS9xucC5NJEw8\nnyzNY3vlI6jyuWgQzHKKFw5uncrTyzwjhonYL0DJsDMbHDhZtN0cz6g3I2FXRmTD\nvGkytr8OiPEVWZ6DN1Pwl6Zch0y+vHGtXXR9ftGXXGB7tym/uTa6aXSB9FOOqU6W\nqseShbAHArIZ49p3b2rdaXjw40zlTqZCYGOVjIHFkTarU4haLxkNultDS+hix1P+\nUJ3C4FmCC88hogPFZ+tsohNUAeGXXAsPB7Pk0QPjIP+lC3tzvY5x16x8NANyRgA/\nUJdeh00p2HmdQBMzK8hoQhfC1DDNmpEaei609PHI2A2UcrKnRatprXQm8jmEEthv\n1kxbJ0amS+S+79QE4VExOoDW0knbd/qim377+UGEjPs0c+gNsnc=\n=0p/G\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIOhhDBX34uI5TWrpjPoZRkmOKbmOG9HmFigJSeFDFj+gCP/wEGFxP9oUa9IO\np7rqNZ39FdMI8QRe7Kwr8AidmaxO0AnDIACD3+MNLvkMjikoaHR0cHM6Ly9maW5u\nZXkuY2FsZW5kYXIuZXRlcm5pdHl3YWxsLmNvbf/wEH4hxydFxqUH8yfiN/EoX1sI\n8QRe7Kwq8AhbpYIrXNkEyQCD3+MNLvkMji4taHR0cHM6Ly9hbGljZS5idGMuY2Fs\nZW5kYXIub3BlbnRpbWVzdGFtcHMub3Jn//AQnM20Yt41d3PD9W3Pbnp7/AjxBF7s\nrCvwCNnwqm8n6kEnAIPf4w0u+QyOIyJodHRwczovL2J0Yy5jYWxlbmRhci5jYXRh\nbGxheHkuY29t8BDzFNpxlCW2wQqIWJZLDmd2CPEEXuysKvAITGrQEsTAaWkAg9/j\nDS75DI4sK2h0dHBzOi8vYm9iLmJ0Yy5jYWxlbmRhci5vcGVudGltZXN0YW1wcy5v\ncmc=\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/57960192a5362ff1a7b996995332535f4c2a25c3",
          "sha": "57960192a5362ff1a7b996995332535f4c2a25c3",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/57960192a5362ff1a7b996995332535f4c2a25c3"
        }
      ],
      "message": "test: improve msg sends and p2p disconnections in p2p_invalid_messages\n\n- call disconnect_p2ps() outside of the assert_debug_log scopes\n- send messages directly from the p2p conn rather than via nodes[0].p2p\n- add an assertion",
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-06-19T12:14:32Z"
      },
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-06-14T11:08:27Z"
      },
      "sha": "75447f0893f9ad9bf83d182b301d139430d8de1c"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1NjAxMGY5MjU2NGE5NGIwY2E2YzAwOGMwZTZmNzRhMTlmYWQ0YTJh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "tree": {
        "sha": "3f4ea1c0198ab6a5e688c98cc39148fd5d2df870",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3f4ea1c0198ab6a5e688c98cc39148fd5d2df870"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 3f4ea1c0198ab6a5e688c98cc39148fd5d2df870\nparent 75447f0893f9ad9bf83d182b301d139430d8de1c\nauthor Jon Atack <jon@atack.com> 1592132077 +0200\ncommitter Jon Atack <jon@atack.com> 1592568875 +0200\n\ntest: hoist p2p values to test framework constants\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAl7srCsACgkQT1chs9Dj\nkh0iqRAAx+pj0yTa5WQzeCeggqqaLYqFYfyHxUzvNmFs7nLBXqWTiQhD/7tDtZrj\n+XdZWhQIaQ+LhtJQzzLBY/6RlVECQS6hZWss8oq2KqDTbINViVsnKzhN+z+57jL0\nADshPO0L/GM0oRKJGOhiSOx4gcQGtvphNJnL/JTy1P80gNiwVE8tLBhe+ayE5uod\nD305MZ+0vqq54N8ZcIV4etTIZYCFwPMudyjcoBYfXId2V2LrsW40nn8qTHVuqjWD\nGLkbU2urCVykcxnC0alOlvxaetV+cHFjL+i6IzZTIErKrHirz3a/ZyyRUxdz6TeM\ni4A7y7BhI7kQ8ia9+pIVUjpv4U/FyvemgP1MXDCkfT+A2/SJJbuEPGSnUxxRGlvp\nCFowA0pfsS7Zaxnno6sYBuczS4CQexgxWp1Q5VW/1B3wCQT064Yq4iv2wZPLcXPf\nVs34qwcDjX5b9W2V68weEK2N/lgjmKBr/LOHMIjoSqauPVXdUOhoiKCtgAjRprdh\nhCs0j8gR5H73DPnrUmeP1YaiYaMlrN0YLwSvji8kjXy9cpgjkGsETEdNvoRACvBf\naBB/V0rac7E9aw6D+f7KBpzkN5wEnkz9AwIyhhBf6ebLKicEDZ3nY7oP23qIZ8ed\nA1IFtP3avwDBkFQ0ZWb2r50d+gPXsHg3HEMK8/rTvqUCZvoZw+k=\n=0GK8\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIAXDJWEdfpFGaHWXMDBidtpZzCLLePG4YXw1h8C0J+6NCP/wED77rPQE4cnm\n3Cf0Qa7xxQoI8QRe7Kwu8AjU2KEPhTjJDgCD3+MNLvkMjikoaHR0cHM6Ly9maW5u\nZXkuY2FsZW5kYXIuZXRlcm5pdHl3YWxsLmNvbf/wEE1A+OXoQd+Xdq/6xWNQnF4I\n8QRe7Kwu8Ahzf7/25i86vQCD3+MNLvkMjiMiaHR0cHM6Ly9idGMuY2FsZW5kYXIu\nY2F0YWxsYXh5LmNvbf/wEJpbKdedFHrH1pxo5b6l5e4I8QRe7Kwt8AiV2/QLYflC\nlACD3+MNLvkMji4taHR0cHM6Ly9hbGljZS5idGMuY2FsZW5kYXIub3BlbnRpbWVz\ndGFtcHMub3Jn8BD5+74C+y6lTuwLhIRbkzSSCPEEXuysLfAI+dq6ipdezx4Ag9/j\nDS75DI4sK2h0dHBzOi8vYm9iLmJ0Yy5jYWxlbmRhci5vcGVudGltZXN0YW1wcy5v\ncmc=\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/75447f0893f9ad9bf83d182b301d139430d8de1c",
          "sha": "75447f0893f9ad9bf83d182b301d139430d8de1c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/75447f0893f9ad9bf83d182b301d139430d8de1c"
        }
      ],
      "message": "test: hoist p2p values to test framework constants",
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-06-19T12:14:35Z"
      },
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-06-14T10:54:37Z"
      },
      "sha": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3462256874,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzQ2MjI1Njg3NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3462256874",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-19T12:28:12Z"
    },
    {
      "event": "unlabeled",
      "id": 3462720018,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50MzQ2MjcyMDAxOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3462720018",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-19T14:33:49Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 647543895,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0NzU0Mzg5NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/647543895",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-22T14:10:07Z",
      "updated_at": "2020-06-24T19:58:02Z",
      "author_association": "MEMBER",
      "body": "Rebased, no changes. Thank you for ACKing @troygiorshev! Should be trivial to re-ack with `git range-diff 8ef15e8 98af0f0 56010f9`",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#issuecomment-647543895",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19272"
    },
    {
      "event": "mentioned",
      "id": 3468555187,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzQ2ODU1NTE4Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3468555187",
      "actor": {
        "login": "troygiorshev",
        "id": 5553787,
        "node_id": "MDQ6VXNlcjU1NTM3ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5553787?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/troygiorshev",
        "html_url": "https://github.com/troygiorshev",
        "followers_url": "https://api.github.com/users/troygiorshev/followers",
        "following_url": "https://api.github.com/users/troygiorshev/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/troygiorshev/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/troygiorshev/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/troygiorshev/subscriptions",
        "organizations_url": "https://api.github.com/users/troygiorshev/orgs",
        "repos_url": "https://api.github.com/users/troygiorshev/repos",
        "events_url": "https://api.github.com/users/troygiorshev/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/troygiorshev/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-22T14:10:07Z"
    },
    {
      "event": "subscribed",
      "id": 3468555192,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM0Njg1NTUxOTI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3468555192",
      "actor": {
        "login": "troygiorshev",
        "id": 5553787,
        "node_id": "MDQ6VXNlcjU1NTM3ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5553787?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/troygiorshev",
        "html_url": "https://github.com/troygiorshev",
        "followers_url": "https://api.github.com/users/troygiorshev/followers",
        "following_url": "https://api.github.com/users/troygiorshev/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/troygiorshev/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/troygiorshev/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/troygiorshev/subscriptions",
        "organizations_url": "https://api.github.com/users/troygiorshev/orgs",
        "repos_url": "https://api.github.com/users/troygiorshev/repos",
        "events_url": "https://api.github.com/users/troygiorshev/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/troygiorshev/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-22T14:10:07Z"
    },
    {
      "event": "review_requested",
      "id": 3471086823,
      "node_id": "MDIwOlJldmlld1JlcXVlc3RlZEV2ZW50MzQ3MTA4NjgyMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3471086823",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-23T04:36:58Z",
      "requested_reviewer": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "commented",
      "id": 648531842,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0ODUzMTg0Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/648531842",
      "actor": {
        "login": "troygiorshev",
        "id": 5553787,
        "node_id": "MDQ6VXNlcjU1NTM3ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5553787?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/troygiorshev",
        "html_url": "https://github.com/troygiorshev",
        "followers_url": "https://api.github.com/users/troygiorshev/followers",
        "following_url": "https://api.github.com/users/troygiorshev/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/troygiorshev/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/troygiorshev/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/troygiorshev/subscriptions",
        "organizations_url": "https://api.github.com/users/troygiorshev/orgs",
        "repos_url": "https://api.github.com/users/troygiorshev/repos",
        "events_url": "https://api.github.com/users/troygiorshev/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/troygiorshev/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-24T01:41:43Z",
      "updated_at": "2020-06-24T01:41:43Z",
      "author_association": "CONTRIBUTOR",
      "body": "reACK 56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "user": {
        "login": "troygiorshev",
        "id": 5553787,
        "node_id": "MDQ6VXNlcjU1NTM3ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5553787?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/troygiorshev",
        "html_url": "https://github.com/troygiorshev",
        "followers_url": "https://api.github.com/users/troygiorshev/followers",
        "following_url": "https://api.github.com/users/troygiorshev/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/troygiorshev/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/troygiorshev/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/troygiorshev/subscriptions",
        "organizations_url": "https://api.github.com/users/troygiorshev/orgs",
        "repos_url": "https://api.github.com/users/troygiorshev/repos",
        "events_url": "https://api.github.com/users/troygiorshev/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/troygiorshev/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#issuecomment-648531842",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19272"
    },
    {
      "event": "reviewed",
      "id": 436698677,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM2Njk4Njc3",
      "url": null,
      "actor": null,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK. Nice changes, easy to review. Compiled without issue, verified all unit and functions tests passing.\r\nBelow are a nonblocking nit and a question for explanation.",
      "user": {
        "login": "rajarshimaitra",
        "id": 36541669,
        "node_id": "MDQ6VXNlcjM2NTQxNjY5",
        "avatar_url": "https://avatars.githubusercontent.com/u/36541669?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rajarshimaitra",
        "html_url": "https://github.com/rajarshimaitra",
        "followers_url": "https://api.github.com/users/rajarshimaitra/followers",
        "following_url": "https://api.github.com/users/rajarshimaitra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rajarshimaitra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rajarshimaitra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rajarshimaitra/subscriptions",
        "organizations_url": "https://api.github.com/users/rajarshimaitra/orgs",
        "repos_url": "https://api.github.com/users/rajarshimaitra/repos",
        "events_url": "https://api.github.com/users/rajarshimaitra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rajarshimaitra/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#pullrequestreview-436698677",
      "submitted_at": "2020-06-24T15:46:26Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
    },
    {
      "event": "commented",
      "id": 649036276,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0OTAzNjI3Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/649036276",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-24T19:54:01Z",
      "updated_at": "2020-06-24T19:54:01Z",
      "author_association": "MEMBER",
      "body": "ACK 56010f9256 🎛\r\n\r\n<details><summary>Show signature and timestamp</summary>\r\n\r\nSignature:\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nACK 56010f9256 🎛\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\r\npUicWwv+KIsi9o22/6uZbUTRM0UsyIPesQTV0ZcUzpXX8Sz27WY/psDv60xlD3+W\r\neUGgldLLYL1EBH8wWRbyMWsQ4WFQJILWXl6+8Cr2b8Lv9N1NhJ/z+u+FLfHHMlXt\r\ndRxOMXXsytLgH8g3eW8f7zWbH0RaHtre+gcBiYqWAEbzq4i8D8h4lEO8ggA5c9TC\r\niGgj4ACk04YvOXDTOOgfF4DJQXIn3CuHrh7y55zo5X7+hZp43YEDRaVtKnggLTiM\r\ndXZ3r3p+6i4Wqn2uFiZuw06rJN6PtSPEcBa8T3dmGVHixzPlXV5W3aILjU9TUGSV\r\ntMoysA6J0N/RPZVEL0pucUOjrJPB3l6ULSEnl4anjC9rvURvaWJogqwJ5Fa/73Tq\r\nOAFMkcO5iZod95zCDr6Alt34VI7nsJ//rej6/qpkeOSNc6vhQFbuSPaj5QNo/2Sc\r\nBF2ySsHCMluT0JrkGY8EYvMUJka5cO7D894tRvaudfhn6wWT2mNc/E+95LTsGflG\r\nEWs3YKPd\r\n=Yt/T\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\n[Timestamp of file with hash `937d2e5bea5f5ff38ae343e4664be89319c7ac06458b75aca1a579bbd3abbcd1  -`](https://opentimestamps.org/info/?004f70656e54696d657374616d7073000050726f6f6600bf89e2e884e892940108937d2e5bea5f5ff38ae343e4664be89319c7ac06458b75aca1a579bbd3abbcd1f0102b1b41f1e5f0b64c1d09c95363978a9908fff01045f90d52f670c538a5bda1949651430208f1204bf312dcf8baa34258f9e9b8005e1055b20f6470a242c56ad7f88bc3a186139b08f1045ef3af44f0089f54ff4fefbb29080083dfe30d2ef90c8e292868747470733a2f2f66696e6e65792e63616c656e6461722e657465726e69747977616c6c2e636f6dfff0104c45f01c2e4bb0ad5eb0f01c80a7981008f0208e3707d6e366ac7eb1843df3600434f5f390219b1a4c15483245c7f2691c9c8308f1045ef3af43f008d797f720ecc915180083dfe30d2ef90c8e232268747470733a2f2f6274632e63616c656e6461722e636174616c6c6178792e636f6df010b6b9f4ae5b94e8db586f114c63b4df0308f020a50b3180783133877baa12ebfcac622aa6e763393fccf5a56edc6df9ef3ca0f608f1045ef3af43f0083e890a2a6bcd23fa0083dfe30d2ef90c8e2c2b68747470733a2f2f626f622e6274632e63616c656e6461722e6f70656e74696d657374616d70732e6f7267)\r\n\r\n</details>\r\n",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#issuecomment-649036276",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19272"
    },
    {
      "event": "merged",
      "id": 3479113583,
      "node_id": "MDExOk1lcmdlZEV2ZW50MzQ3OTExMzU4Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3479113583",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "67881de0e3b1cef1d0f978582765a8aeeb09c21a",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/67881de0e3b1cef1d0f978582765a8aeeb09c21a",
      "created_at": "2020-06-24T19:58:49Z"
    },
    {
      "event": "closed",
      "id": 3479113593,
      "node_id": "MDExOkNsb3NlZEV2ZW50MzQ3OTExMzU5Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3479113593",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-24T19:58:49Z"
    },
    {
      "event": "head_ref_deleted",
      "id": 3480774120,
      "node_id": "MDE5OkhlYWRSZWZEZWxldGVkRXZlbnQzNDgwNzc0MTIw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3480774120",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-25T07:13:46Z"
    },
    {
      "event": "referenced",
      "id": 4755482198,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ3NTU0ODIxOTg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4755482198",
      "actor": {
        "login": "deadalnix",
        "id": 854121,
        "node_id": "MDQ6VXNlcjg1NDEyMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/854121?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/deadalnix",
        "html_url": "https://github.com/deadalnix",
        "followers_url": "https://api.github.com/users/deadalnix/followers",
        "following_url": "https://api.github.com/users/deadalnix/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/deadalnix/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/deadalnix/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/deadalnix/subscriptions",
        "organizations_url": "https://api.github.com/users/deadalnix/orgs",
        "repos_url": "https://api.github.com/users/deadalnix/repos",
        "events_url": "https://api.github.com/users/deadalnix/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/deadalnix/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "21970f454c3bd2528021b4c904d878d7bf122a4d",
      "commit_url": "https://api.github.com/repos/Bitcoin-ABC/bitcoin-abc/commits/21970f454c3bd2528021b4c904d878d7bf122a4d",
      "created_at": "2021-05-17T15:50:09Z"
    },
    {
      "event": "locked",
      "id": 6073799975,
      "node_id": "LOE_lADOABII584mDD3jzwAAAAFqBtUn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6073799975",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-02-15T10:32:49Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439822415",
      "pull_request_review_id": 430212838,
      "id": 439822415,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTgyMjQxNQ==",
      "diff_hunk": "@@ -93,40 +101,47 @@ def test_msgtype(self):\n             conn.sync_with_ping(timeout=1)\n             self.nodes[0].disconnect_p2ps()\n \n-    def test_large_inv(self):\n-        conn = self.nodes[0].add_p2p_connection(P2PInterface())\n-        with self.nodes[0].assert_debug_log(['Misbehaving', 'peer=4 (0 -> 20): message inv size() = 50001']):\n-            msg = msg_inv([CInv(MSG_TX, 1)] * 50001)\n-            conn.send_and_ping(msg)\n-        with self.nodes[0].assert_debug_log(['Misbehaving', 'peer=4 (20 -> 40): message getdata size() = 50001']):\n-            msg = msg_getdata([CInv(MSG_TX, 1)] * 50001)\n-            conn.send_and_ping(msg)\n-        with self.nodes[0].assert_debug_log(['Misbehaving', 'peer=4 (40 -> 60): headers message size = 2001']):\n-            msg = msg_headers([CBlockHeader()] * 2001)\n-            conn.send_and_ping(msg)\n+    def test_oversized(self, msg_type, msg, size):\n+        self.log.info(\"Test {} message of size {} is logged as misbehaving\".format(msg_type, size))\n+        with self.nodes[0].assert_debug_log(['Misbehaving', msg_type, str(size)]):",
      "path": "test/functional/p2p_invalid_messages.py",
      "position": null,
      "original_position": 79,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "bc42270f216454fb9fb79183cb4a159d0f92f9c1",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "splitting up msg_type and size could match them on different lines, while we want to match both on the same line",
      "created_at": "2020-06-14T11:59:37Z",
      "updated_at": "2020-06-19T12:28:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r439822415",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439822415"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 106,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439861808",
      "pull_request_review_id": 430246154,
      "id": 439861808,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTg2MTgwOA==",
      "diff_hunk": "@@ -93,40 +101,47 @@ def test_msgtype(self):\n             conn.sync_with_ping(timeout=1)\n             self.nodes[0].disconnect_p2ps()\n \n-    def test_large_inv(self):\n-        conn = self.nodes[0].add_p2p_connection(P2PInterface())\n-        with self.nodes[0].assert_debug_log(['Misbehaving', 'peer=4 (0 -> 20): message inv size() = 50001']):\n-            msg = msg_inv([CInv(MSG_TX, 1)] * 50001)\n-            conn.send_and_ping(msg)\n-        with self.nodes[0].assert_debug_log(['Misbehaving', 'peer=4 (20 -> 40): message getdata size() = 50001']):\n-            msg = msg_getdata([CInv(MSG_TX, 1)] * 50001)\n-            conn.send_and_ping(msg)\n-        with self.nodes[0].assert_debug_log(['Misbehaving', 'peer=4 (40 -> 60): headers message size = 2001']):\n-            msg = msg_headers([CBlockHeader()] * 2001)\n-            conn.send_and_ping(msg)\n+    def test_oversized(self, msg_type, msg, size):\n+        self.log.info(\"Test {} message of size {} is logged as misbehaving\".format(msg_type, size))\n+        with self.nodes[0].assert_debug_log(['Misbehaving', msg_type, str(size)]):",
      "path": "test/functional/p2p_invalid_messages.py",
      "position": null,
      "original_position": 79,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "bc42270f216454fb9fb79183cb4a159d0f92f9c1",
      "in_reply_to_id": 439822415,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Good point! Fixed. This made it apparent that in `net_processing.cpp` the debug logging for misbehaving from `headers` message size was a bit different from the equivalent misbehavior logging for `inv`, `getdata`, and `addr` message sizes. Fixed. If we don't want to touch it, we can also have each test pass in their own debug log message to test for.",
      "created_at": "2020-06-14T19:47:42Z",
      "updated_at": "2020-06-19T12:28:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r439861808",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439861808"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 106,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/440531901",
      "pull_request_review_id": 431094873,
      "id": 440531901,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDUzMTkwMQ==",
      "diff_hunk": "@@ -93,40 +101,47 @@ def test_msgtype(self):\n             conn.sync_with_ping(timeout=1)\n             self.nodes[0].disconnect_p2ps()\n \n-    def test_large_inv(self):\n-        conn = self.nodes[0].add_p2p_connection(P2PInterface())\n-        with self.nodes[0].assert_debug_log(['Misbehaving', 'peer=4 (0 -> 20): message inv size() = 50001']):\n-            msg = msg_inv([CInv(MSG_TX, 1)] * 50001)\n-            conn.send_and_ping(msg)\n-        with self.nodes[0].assert_debug_log(['Misbehaving', 'peer=4 (20 -> 40): message getdata size() = 50001']):\n-            msg = msg_getdata([CInv(MSG_TX, 1)] * 50001)\n-            conn.send_and_ping(msg)\n-        with self.nodes[0].assert_debug_log(['Misbehaving', 'peer=4 (40 -> 60): headers message size = 2001']):\n-            msg = msg_headers([CBlockHeader()] * 2001)\n-            conn.send_and_ping(msg)\n+    def test_oversized(self, msg_type, msg, size):\n+        self.log.info(\"Test {} message of size {} is logged as misbehaving\".format(msg_type, size))\n+        with self.nodes[0].assert_debug_log(['Misbehaving', 'message {} size() = {}'.format(msg_type, size)]):\n+            self.nodes[0].add_p2p_connection(P2PInterface()).send_and_ping(msg)\n         self.nodes[0].disconnect_p2ps()\n \n+    def test_oversized_inv(self):\n+        size = MAX_INV_SIZE + 1\n+        self.test_oversized('inv', msg_inv([CInv(MSG_TX, 1)] * size), size)\n+\n+    def test_oversized_getdata(self):\n+        size = MAX_INV_SIZE + 1\n+        self.test_oversized('getdata', msg_getdata([CInv(MSG_TX, 1)] * size), size)\n+\n+    def test_oversized_headers(self):\n+        size = MAX_HEADERS_RESULTS + 1\n+        self.test_oversized('headers', msg_headers([CBlockHeader()] * size), size)\n+\n     def test_resource_exhaustion(self):\n+        self.log.info(\"Test serving many large junk messages\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n         conn2 = self.nodes[0].add_p2p_connection(P2PDataStore())\n         msg_at_size = msg_unrecognized(str_data=\"b\" * VALID_DATA_LIMIT)\n-        assert len(msg_at_size.serialize()) == MSG_LIMIT\n+        assert len(msg_at_size.serialize()) == MAX_PROTOCOL_MESSAGE_LENGTH\n \n-        self.log.info(\"Sending a bunch of large, junk messages to test memory exhaustion. May take a bit...\")\n-\n-        # Run a bunch of times to test for memory exhaustion.\n+        self.log.info(\"(a) Send 80 messages of max data size 4MB to test for memory exhaustion\")\n         for _ in range(80):\n             conn.send_message(msg_at_size)\n \n         # Check that, even though the node is being hammered by nonsense from one\n         # connection, it can still service other peers in a timely way.\n+        self.log.info(\"(b) Check node still services peer in a timely way\")",
      "path": "test/functional/p2p_invalid_messages.py",
      "position": null,
      "original_position": 112,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "6b18bfefed402a904db45a19b9cd8c1cb5d4c337",
      "in_reply_to_id": null,
      "user": {
        "login": "troygiorshev",
        "id": 5553787,
        "node_id": "MDQ6VXNlcjU1NTM3ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5553787?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/troygiorshev",
        "html_url": "https://github.com/troygiorshev",
        "followers_url": "https://api.github.com/users/troygiorshev/followers",
        "following_url": "https://api.github.com/users/troygiorshev/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/troygiorshev/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/troygiorshev/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/troygiorshev/subscriptions",
        "organizations_url": "https://api.github.com/users/troygiorshev/orgs",
        "repos_url": "https://api.github.com/users/troygiorshev/repos",
        "events_url": "https://api.github.com/users/troygiorshev/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/troygiorshev/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Maybe this should specify \"other peers\"?  As it stands someone may miss the difference between `conn` and `conn2`.\r\n```suggestion\r\n        self.log.info(\"(b) Check node still services other peers in a timely way\")\r\n```",
      "created_at": "2020-06-16T01:18:11Z",
      "updated_at": "2020-06-19T12:28:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r440531901",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/440531901"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 135,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/440664439",
      "pull_request_review_id": 431259474,
      "id": 440664439,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDY2NDQzOQ==",
      "diff_hunk": "@@ -93,40 +101,47 @@ def test_msgtype(self):\n             conn.sync_with_ping(timeout=1)\n             self.nodes[0].disconnect_p2ps()\n \n-    def test_large_inv(self):\n-        conn = self.nodes[0].add_p2p_connection(P2PInterface())\n-        with self.nodes[0].assert_debug_log(['Misbehaving', 'peer=4 (0 -> 20): message inv size() = 50001']):\n-            msg = msg_inv([CInv(MSG_TX, 1)] * 50001)\n-            conn.send_and_ping(msg)\n-        with self.nodes[0].assert_debug_log(['Misbehaving', 'peer=4 (20 -> 40): message getdata size() = 50001']):\n-            msg = msg_getdata([CInv(MSG_TX, 1)] * 50001)\n-            conn.send_and_ping(msg)\n-        with self.nodes[0].assert_debug_log(['Misbehaving', 'peer=4 (40 -> 60): headers message size = 2001']):\n-            msg = msg_headers([CBlockHeader()] * 2001)\n-            conn.send_and_ping(msg)\n+    def test_oversized(self, msg_type, msg, size):\n+        self.log.info(\"Test {} message of size {} is logged as misbehaving\".format(msg_type, size))\n+        with self.nodes[0].assert_debug_log(['Misbehaving', 'message {} size() = {}'.format(msg_type, size)]):\n+            self.nodes[0].add_p2p_connection(P2PInterface()).send_and_ping(msg)\n         self.nodes[0].disconnect_p2ps()\n \n+    def test_oversized_inv(self):\n+        size = MAX_INV_SIZE + 1\n+        self.test_oversized('inv', msg_inv([CInv(MSG_TX, 1)] * size), size)\n+\n+    def test_oversized_getdata(self):\n+        size = MAX_INV_SIZE + 1\n+        self.test_oversized('getdata', msg_getdata([CInv(MSG_TX, 1)] * size), size)\n+\n+    def test_oversized_headers(self):\n+        size = MAX_HEADERS_RESULTS + 1\n+        self.test_oversized('headers', msg_headers([CBlockHeader()] * size), size)\n+\n     def test_resource_exhaustion(self):\n+        self.log.info(\"Test serving many large junk messages\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n         conn2 = self.nodes[0].add_p2p_connection(P2PDataStore())\n         msg_at_size = msg_unrecognized(str_data=\"b\" * VALID_DATA_LIMIT)\n-        assert len(msg_at_size.serialize()) == MSG_LIMIT\n+        assert len(msg_at_size.serialize()) == MAX_PROTOCOL_MESSAGE_LENGTH\n \n-        self.log.info(\"Sending a bunch of large, junk messages to test memory exhaustion. May take a bit...\")\n-\n-        # Run a bunch of times to test for memory exhaustion.\n+        self.log.info(\"(a) Send 80 messages of max data size 4MB to test for memory exhaustion\")\n         for _ in range(80):\n             conn.send_message(msg_at_size)\n \n         # Check that, even though the node is being hammered by nonsense from one\n         # connection, it can still service other peers in a timely way.\n+        self.log.info(\"(b) Check node still services peer in a timely way\")",
      "path": "test/functional/p2p_invalid_messages.py",
      "position": null,
      "original_position": 112,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "6b18bfefed402a904db45a19b9cd8c1cb5d4c337",
      "in_reply_to_id": 440531901,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2020-06-16T08:08:06Z",
      "updated_at": "2020-06-19T12:28:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r440664439",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/440664439"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 135,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442174152",
      "pull_request_review_id": 433212471,
      "id": 442174152,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjE3NDE1Mg==",
      "diff_hunk": "@@ -39,19 +43,22 @@ def __repr__(self):\n class InvalidMessagesTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 1\n-        self.setup_clean_chain = True\n+        self.setup_clean_chain = False",
      "path": "test/functional/p2p_invalid_messages.py",
      "position": null,
      "original_position": 25,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "efb9a952723d38312540ca4ce0fa2495b7fcbe52",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "why is this changed?",
      "created_at": "2020-06-18T12:02:35Z",
      "updated_at": "2020-06-19T12:28:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442174152",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442174152"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 46,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442174257",
      "pull_request_review_id": 433212471,
      "id": 442174257,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjE3NDI1Nw==",
      "diff_hunk": "@@ -19,7 +22,8 @@\n from test_framework.test_framework import BitcoinTestFramework\n \n MSG_LIMIT = 4 * 1000 * 1000  # 4MB, per MAX_PROTOCOL_MESSAGE_LENGTH",
      "path": "test/functional/p2p_invalid_messages.py",
      "position": null,
      "original_position": 13,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "efb9a952723d38312540ca4ce0fa2495b7fcbe52",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\nMSG_LIMIT = MAX_PROTOCOL_MESSAGE_LENGTH\r\n```",
      "created_at": "2020-06-18T12:02:49Z",
      "updated_at": "2020-06-19T12:28:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442174257",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442174257"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 27,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442177051",
      "pull_request_review_id": 433216288,
      "id": 442177051,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjE3NzA1MQ==",
      "diff_hunk": "@@ -39,19 +43,22 @@ def __repr__(self):\n class InvalidMessagesTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 1\n-        self.setup_clean_chain = True\n+        self.setup_clean_chain = False",
      "path": "test/functional/p2p_invalid_messages.py",
      "position": null,
      "original_position": 25,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "efb9a952723d38312540ca4ce0fa2495b7fcbe52",
      "in_reply_to_id": 442174152,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "i thought it was faster but can revert that change while rebasing",
      "created_at": "2020-06-18T12:08:15Z",
      "updated_at": "2020-06-19T12:28:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442177051",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442177051"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 46,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442177573",
      "pull_request_review_id": 433217003,
      "id": 442177573,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjE3NzU3Mw==",
      "diff_hunk": "@@ -39,19 +43,22 @@ def __repr__(self):\n class InvalidMessagesTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 1\n-        self.setup_clean_chain = True\n+        self.setup_clean_chain = False",
      "path": "test/functional/p2p_invalid_messages.py",
      "position": null,
      "original_position": 25,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "efb9a952723d38312540ca4ce0fa2495b7fcbe52",
      "in_reply_to_id": 442174152,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "why would it be faster to copy the blocksdir as opposed to copy nothing?",
      "created_at": "2020-06-18T12:09:19Z",
      "updated_at": "2020-06-19T12:28:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442177573",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442177573"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 46,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442177828",
      "pull_request_review_id": 433217378,
      "id": 442177828,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjE3NzgyOA==",
      "diff_hunk": "@@ -19,7 +22,8 @@\n from test_framework.test_framework import BitcoinTestFramework\n \n MSG_LIMIT = 4 * 1000 * 1000  # 4MB, per MAX_PROTOCOL_MESSAGE_LENGTH",
      "path": "test/functional/p2p_invalid_messages.py",
      "position": null,
      "original_position": 13,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "efb9a952723d38312540ca4ce0fa2495b7fcbe52",
      "in_reply_to_id": 442174257,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Good eye; that's an error introduced this morning in my last rebase, will fix",
      "created_at": "2020-06-18T12:09:47Z",
      "updated_at": "2020-06-19T12:28:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442177828",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442177828"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 27,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442202120",
      "pull_request_review_id": 433250342,
      "id": 442202120,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjIwMjEyMA==",
      "diff_hunk": "@@ -19,7 +22,8 @@\n from test_framework.test_framework import BitcoinTestFramework\n \n MSG_LIMIT = 4 * 1000 * 1000  # 4MB, per MAX_PROTOCOL_MESSAGE_LENGTH",
      "path": "test/functional/p2p_invalid_messages.py",
      "position": null,
      "original_position": 13,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "efb9a952723d38312540ca4ce0fa2495b7fcbe52",
      "in_reply_to_id": 442174257,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Removed the line.",
      "created_at": "2020-06-18T12:52:11Z",
      "updated_at": "2020-06-19T12:28:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442202120",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442202120"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 27,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442204131",
      "pull_request_review_id": 433253093,
      "id": 442204131,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjIwNDEzMQ==",
      "diff_hunk": "@@ -39,19 +43,22 @@ def __repr__(self):\n class InvalidMessagesTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 1\n-        self.setup_clean_chain = True\n+        self.setup_clean_chain = False",
      "path": "test/functional/p2p_invalid_messages.py",
      "position": null,
      "original_position": 25,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "efb9a952723d38312540ca4ce0fa2495b7fcbe52",
      "in_reply_to_id": 442174152,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I (mis)understood(?) the discussions to say that using the cached chain was faster than spinning up a new one. Reverted.",
      "created_at": "2020-06-18T12:55:36Z",
      "updated_at": "2020-06-19T12:28:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442204131",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442204131"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 46,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442205896",
      "pull_request_review_id": 433255430,
      "id": 442205896,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjIwNTg5Ng==",
      "diff_hunk": "@@ -39,19 +43,22 @@ def __repr__(self):\n class InvalidMessagesTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 1\n-        self.setup_clean_chain = True\n+        self.setup_clean_chain = False",
      "path": "test/functional/p2p_invalid_messages.py",
      "position": null,
      "original_position": 25,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "efb9a952723d38312540ca4ce0fa2495b7fcbe52",
      "in_reply_to_id": 442174152,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "There is no new chain generated in this test:\r\n\r\n```\r\n$ git grep generate 'test/functional/p2p_invalid_messages.py'\r\n$",
      "created_at": "2020-06-18T12:58:20Z",
      "updated_at": "2020-06-19T12:28:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442205896",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442205896"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 46,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442308344",
      "pull_request_review_id": 433393267,
      "id": 442308344,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjMwODM0NA==",
      "diff_hunk": "@@ -3245,7 +3245,7 @@ bool ProcessMessage(CNode& pfrom, const std::string& msg_type, CDataStream& vRec\n         unsigned int nCount = ReadCompactSize(vRecv);\n         if (nCount > MAX_HEADERS_RESULTS) {\n             LOCK(cs_main);\n-            Misbehaving(pfrom.GetId(), 20, strprintf(\"headers message size = %u\", nCount));\n+            Misbehaving(pfrom.GetId(), 20, strprintf(\"message headers size() = %u\", nCount));",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "255fbcaee556e743fc41532c13d80edd25941d50",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I don't understand this change. This is a \"headers\" message, so the original log seems correct - that it's a headers message of size x.",
      "created_at": "2020-06-18T15:21:23Z",
      "updated_at": "2020-06-19T12:28:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442308344",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442308344"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3248,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442309750",
      "pull_request_review_id": 433393267,
      "id": 442309750,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjMwOTc1MA==",
      "diff_hunk": "@@ -86,73 +92,83 @@ def test_magic_bytes(self):\n             self.nodes[0].disconnect_p2ps()\n \n     def test_checksum(self):\n+        self.log.info(\"Test message with invalid checksum disconnects peer\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n-        with self.nodes[0].assert_debug_log(['CHECKSUM ERROR (badmsg, 2 bytes), expected 78df0a04 was ffffffff']):\n+        msgs = ['CHECKSUM ERROR (badmsg, 2 bytes), expected 78df0a04 was ffffffff', DISCONNECTING]\n+        with self.nodes[0].assert_debug_log(msgs):\n             msg = conn.build_message(msg_unrecognized(str_data=\"d\"))\n             # Checksum is after start bytes (4B), message type (12B), len (4B)\n             cut_len = 4 + 12 + 4\n             # modify checksum\n             msg = msg[:cut_len] + b'\\xff' * 4 + msg[cut_len + 4:]\n-            self.nodes[0].p2p.send_raw_message(msg)\n+            conn.send_raw_message(msg)\n             conn.sync_with_ping(timeout=1)\n             self.nodes[0].disconnect_p2ps()\n \n     def test_size(self):\n+        self.log.info(\"Test message with oversized payload disconnects peer\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n-        with self.nodes[0].assert_debug_log(['']):\n-            # Create a message with oversized payload\n+        with self.nodes[0].assert_debug_log([DISCONNECTING]):\n             msg = msg_unrecognized(str_data=\"d\" * (VALID_DATA_LIMIT + 1))\n             msg = conn.build_message(msg)\n-            self.nodes[0].p2p.send_raw_message(msg)\n+            conn.send_raw_message(msg)\n             conn.wait_for_disconnect(timeout=1)\n             self.nodes[0].disconnect_p2ps()\n \n     def test_msgtype(self):\n+        self.log.info(\"Test message with invalid message type disconnects peer\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n-        with self.nodes[0].assert_debug_log(['PROCESSMESSAGE: ERRORS IN HEADER']):\n+        with self.nodes[0].assert_debug_log(['PROCESSMESSAGE: ERRORS IN HEADER  peer=', DISCONNECTING]):\n             msg = msg_unrecognized(str_data=\"d\")\n             msg.msgtype = b'\\xff' * 12\n             msg = conn.build_message(msg)\n             # Modify msgtype\n             msg = msg[:7] + b'\\x00' + msg[7 + 1:]\n-            self.nodes[0].p2p.send_raw_message(msg)\n+            conn.send_raw_message(msg)\n             conn.sync_with_ping(timeout=1)\n             self.nodes[0].disconnect_p2ps()\n \n-    def test_large_inv(self):\n-        conn = self.nodes[0].add_p2p_connection(P2PInterface())\n-        with self.nodes[0].assert_debug_log(['Misbehaving', '(0 -> 20): message inv size() = 50001']):\n-            msg = msg_inv([CInv(MSG_TX, 1)] * 50001)\n-            conn.send_and_ping(msg)\n-        with self.nodes[0].assert_debug_log(['Misbehaving', '(20 -> 40): message getdata size() = 50001']):\n-            msg = msg_getdata([CInv(MSG_TX, 1)] * 50001)\n-            conn.send_and_ping(msg)\n-        with self.nodes[0].assert_debug_log(['Misbehaving', '(40 -> 60): headers message size = 2001']):\n-            msg = msg_headers([CBlockHeader()] * 2001)\n-            conn.send_and_ping(msg)\n+    def test_oversized_msg(self, msg_type, msg, size):\n+        self.log.info(\"Test {} message of size {} is logged as misbehaving\".format(msg_type, size))\n+        with self.nodes[0].assert_debug_log(['Misbehaving', 'message {} size() = {}'.format(msg_type, size)]):\n+            self.nodes[0].add_p2p_connection(P2PInterface()).send_and_ping(msg)\n         self.nodes[0].disconnect_p2ps()\n \n+    def test_oversized_inv_msg(self):\n+        size = MAX_INV_SIZE + 1\n+        self.test_oversized_msg('inv', msg_inv([CInv(MSG_TX, 1)] * size), size)\n+\n+    def test_oversized_getdata_msg(self):\n+        size = MAX_INV_SIZE + 1\n+        self.test_oversized_msg('getdata', msg_getdata([CInv(MSG_TX, 1)] * size), size)\n+\n+    def test_oversized_headers_msg(self):\n+        size = MAX_HEADERS_RESULTS + 1\n+        self.test_oversized_msg('headers', msg_headers([CBlockHeader()] * size), size)\n+\n     def test_resource_exhaustion(self):\n+        self.log.info(\"Test node stays up despite many large junk messages\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n         conn2 = self.nodes[0].add_p2p_connection(P2PDataStore())\n         msg_at_size = msg_unrecognized(str_data=\"b\" * VALID_DATA_LIMIT)\n-        assert len(msg_at_size.serialize()) == MSG_LIMIT\n+        assert len(msg_at_size.serialize()) == MAX_PROTOCOL_MESSAGE_LENGTH\n \n-        self.log.info(\"Sending a bunch of large, junk messages to test memory exhaustion. May take a bit...\")\n-\n-        # Run a bunch of times to test for memory exhaustion.\n+        self.log.info(\"(a) Send 80 messages of max data size 4MB to test for memory exhaustion\")",
      "path": "test/functional/p2p_invalid_messages.py",
      "position": null,
      "original_position": 130,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "255fbcaee556e743fc41532c13d80edd25941d50",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This comment \"test for memory exhaustion\" is no longer relevant. When the test was written, it tested the node's memory usage before and after sending the messages and asserted that it hadn't gone up. That was an unreliable test and so the memory checking was removed.",
      "created_at": "2020-06-18T15:23:24Z",
      "updated_at": "2020-06-19T12:28:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442309750",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442309750"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 156,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442311096",
      "pull_request_review_id": 433393267,
      "id": 442311096,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjMxMTA5Ng==",
      "diff_hunk": "@@ -24,8 +27,8 @@\n     wait_until,\n )\n \n-MSG_LIMIT = 4 * 1000 * 1000  # 4MB, per MAX_PROTOCOL_MESSAGE_LENGTH\n-VALID_DATA_LIMIT = MSG_LIMIT - 5  # Account for the 5-byte length prefix\n+VALID_DATA_LIMIT = MAX_PROTOCOL_MESSAGE_LENGTH - 5  # Account for the 5-byte length prefix\n+DISCONNECTING = 'disconnecting peer='",
      "path": "test/functional/p2p_invalid_messages.py",
      "position": null,
      "original_position": 17,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "255fbcaee556e743fc41532c13d80edd25941d50",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "My preference is not to test the debug log for actions that we can test directly. Here, we can directly test that the peer has been disconnected, so I don't think we need to test for this message in the debug log.",
      "created_at": "2020-06-18T15:25:20Z",
      "updated_at": "2020-06-19T12:28:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442311096",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442311096"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 31,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442315686",
      "pull_request_review_id": 433403255,
      "id": 442315686,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjMxNTY4Ng==",
      "diff_hunk": "@@ -86,73 +92,83 @@ def test_magic_bytes(self):\n             self.nodes[0].disconnect_p2ps()\n \n     def test_checksum(self):\n+        self.log.info(\"Test message with invalid checksum disconnects peer\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n-        with self.nodes[0].assert_debug_log(['CHECKSUM ERROR (badmsg, 2 bytes), expected 78df0a04 was ffffffff']):\n+        msgs = ['CHECKSUM ERROR (badmsg, 2 bytes), expected 78df0a04 was ffffffff', DISCONNECTING]\n+        with self.nodes[0].assert_debug_log(msgs):\n             msg = conn.build_message(msg_unrecognized(str_data=\"d\"))\n             # Checksum is after start bytes (4B), message type (12B), len (4B)\n             cut_len = 4 + 12 + 4\n             # modify checksum\n             msg = msg[:cut_len] + b'\\xff' * 4 + msg[cut_len + 4:]\n-            self.nodes[0].p2p.send_raw_message(msg)\n+            conn.send_raw_message(msg)\n             conn.sync_with_ping(timeout=1)\n             self.nodes[0].disconnect_p2ps()\n \n     def test_size(self):\n+        self.log.info(\"Test message with oversized payload disconnects peer\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n-        with self.nodes[0].assert_debug_log(['']):\n-            # Create a message with oversized payload\n+        with self.nodes[0].assert_debug_log([DISCONNECTING]):\n             msg = msg_unrecognized(str_data=\"d\" * (VALID_DATA_LIMIT + 1))\n             msg = conn.build_message(msg)\n-            self.nodes[0].p2p.send_raw_message(msg)\n+            conn.send_raw_message(msg)\n             conn.wait_for_disconnect(timeout=1)\n             self.nodes[0].disconnect_p2ps()\n \n     def test_msgtype(self):\n+        self.log.info(\"Test message with invalid message type disconnects peer\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n-        with self.nodes[0].assert_debug_log(['PROCESSMESSAGE: ERRORS IN HEADER']):\n+        with self.nodes[0].assert_debug_log(['PROCESSMESSAGE: ERRORS IN HEADER  peer=', DISCONNECTING]):\n             msg = msg_unrecognized(str_data=\"d\")\n             msg.msgtype = b'\\xff' * 12\n             msg = conn.build_message(msg)\n             # Modify msgtype\n             msg = msg[:7] + b'\\x00' + msg[7 + 1:]\n-            self.nodes[0].p2p.send_raw_message(msg)\n+            conn.send_raw_message(msg)\n             conn.sync_with_ping(timeout=1)\n             self.nodes[0].disconnect_p2ps()\n \n-    def test_large_inv(self):\n-        conn = self.nodes[0].add_p2p_connection(P2PInterface())\n-        with self.nodes[0].assert_debug_log(['Misbehaving', '(0 -> 20): message inv size() = 50001']):\n-            msg = msg_inv([CInv(MSG_TX, 1)] * 50001)\n-            conn.send_and_ping(msg)\n-        with self.nodes[0].assert_debug_log(['Misbehaving', '(20 -> 40): message getdata size() = 50001']):\n-            msg = msg_getdata([CInv(MSG_TX, 1)] * 50001)\n-            conn.send_and_ping(msg)\n-        with self.nodes[0].assert_debug_log(['Misbehaving', '(40 -> 60): headers message size = 2001']):\n-            msg = msg_headers([CBlockHeader()] * 2001)\n-            conn.send_and_ping(msg)\n+    def test_oversized_msg(self, msg_type, msg, size):\n+        self.log.info(\"Test {} message of size {} is logged as misbehaving\".format(msg_type, size))\n+        with self.nodes[0].assert_debug_log(['Misbehaving', 'message {} size() = {}'.format(msg_type, size)]):\n+            self.nodes[0].add_p2p_connection(P2PInterface()).send_and_ping(msg)\n         self.nodes[0].disconnect_p2ps()\n \n+    def test_oversized_inv_msg(self):\n+        size = MAX_INV_SIZE + 1\n+        self.test_oversized_msg('inv', msg_inv([CInv(MSG_TX, 1)] * size), size)\n+\n+    def test_oversized_getdata_msg(self):\n+        size = MAX_INV_SIZE + 1\n+        self.test_oversized_msg('getdata', msg_getdata([CInv(MSG_TX, 1)] * size), size)\n+\n+    def test_oversized_headers_msg(self):\n+        size = MAX_HEADERS_RESULTS + 1\n+        self.test_oversized_msg('headers', msg_headers([CBlockHeader()] * size), size)\n+\n     def test_resource_exhaustion(self):\n+        self.log.info(\"Test node stays up despite many large junk messages\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n         conn2 = self.nodes[0].add_p2p_connection(P2PDataStore())\n         msg_at_size = msg_unrecognized(str_data=\"b\" * VALID_DATA_LIMIT)\n-        assert len(msg_at_size.serialize()) == MSG_LIMIT\n+        assert len(msg_at_size.serialize()) == MAX_PROTOCOL_MESSAGE_LENGTH\n \n-        self.log.info(\"Sending a bunch of large, junk messages to test memory exhaustion. May take a bit...\")\n-\n-        # Run a bunch of times to test for memory exhaustion.\n+        self.log.info(\"(a) Send 80 messages of max data size 4MB to test for memory exhaustion\")",
      "path": "test/functional/p2p_invalid_messages.py",
      "position": null,
      "original_position": 130,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "255fbcaee556e743fc41532c13d80edd25941d50",
      "in_reply_to_id": 442309750,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks @jnewbery, what change would you suggest instead?",
      "created_at": "2020-06-18T15:31:57Z",
      "updated_at": "2020-06-19T12:28:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442315686",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442315686"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 156,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442318053",
      "pull_request_review_id": 433406342,
      "id": 442318053,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjMxODA1Mw==",
      "diff_hunk": "@@ -24,8 +27,8 @@\n     wait_until,\n )\n \n-MSG_LIMIT = 4 * 1000 * 1000  # 4MB, per MAX_PROTOCOL_MESSAGE_LENGTH\n-VALID_DATA_LIMIT = MSG_LIMIT - 5  # Account for the 5-byte length prefix\n+VALID_DATA_LIMIT = MAX_PROTOCOL_MESSAGE_LENGTH - 5  # Account for the 5-byte length prefix\n+DISCONNECTING = 'disconnecting peer='",
      "path": "test/functional/p2p_invalid_messages.py",
      "position": null,
      "original_position": 17,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "255fbcaee556e743fc41532c13d80edd25941d50",
      "in_reply_to_id": 442311096,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I added this after noticing both here and in the #19107 that some of the tests aren't testing for the disconnection, and it's a free additional check. If a change made one of these disconnections no longer happen or be logged without warning, and no test needing to be changed, ISTM that could be a regression. ",
      "created_at": "2020-06-18T15:35:19Z",
      "updated_at": "2020-06-19T12:28:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442318053",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442318053"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 31,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442321180",
      "pull_request_review_id": 433410643,
      "id": 442321180,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjMyMTE4MA==",
      "diff_hunk": "@@ -3245,7 +3245,7 @@ bool ProcessMessage(CNode& pfrom, const std::string& msg_type, CDataStream& vRec\n         unsigned int nCount = ReadCompactSize(vRecv);\n         if (nCount > MAX_HEADERS_RESULTS) {\n             LOCK(cs_main);\n-            Misbehaving(pfrom.GetId(), 20, strprintf(\"headers message size = %u\", nCount));\n+            Misbehaving(pfrom.GetId(), 20, strprintf(\"message headers size() = %u\", nCount));",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "255fbcaee556e743fc41532c13d80edd25941d50",
      "in_reply_to_id": 442308344,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I don't disagree but opted for the smallest change. Do you think the `inv`, `getdata`, and `addr` oversized messages misbehavior logging should be changed instead? Or are they all good as-is (in which case the `headers` one remains different, and each specific one can be passed into the `test_oversized_msg()` assertion function from the caller.)",
      "created_at": "2020-06-18T15:39:58Z",
      "updated_at": "2020-06-19T12:28:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442321180",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442321180"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3248,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442322742",
      "pull_request_review_id": 433412730,
      "id": 442322742,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjMyMjc0Mg==",
      "diff_hunk": "@@ -86,73 +92,83 @@ def test_magic_bytes(self):\n             self.nodes[0].disconnect_p2ps()\n \n     def test_checksum(self):\n+        self.log.info(\"Test message with invalid checksum disconnects peer\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n-        with self.nodes[0].assert_debug_log(['CHECKSUM ERROR (badmsg, 2 bytes), expected 78df0a04 was ffffffff']):\n+        msgs = ['CHECKSUM ERROR (badmsg, 2 bytes), expected 78df0a04 was ffffffff', DISCONNECTING]\n+        with self.nodes[0].assert_debug_log(msgs):\n             msg = conn.build_message(msg_unrecognized(str_data=\"d\"))\n             # Checksum is after start bytes (4B), message type (12B), len (4B)\n             cut_len = 4 + 12 + 4\n             # modify checksum\n             msg = msg[:cut_len] + b'\\xff' * 4 + msg[cut_len + 4:]\n-            self.nodes[0].p2p.send_raw_message(msg)\n+            conn.send_raw_message(msg)\n             conn.sync_with_ping(timeout=1)\n             self.nodes[0].disconnect_p2ps()\n \n     def test_size(self):\n+        self.log.info(\"Test message with oversized payload disconnects peer\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n-        with self.nodes[0].assert_debug_log(['']):\n-            # Create a message with oversized payload\n+        with self.nodes[0].assert_debug_log([DISCONNECTING]):\n             msg = msg_unrecognized(str_data=\"d\" * (VALID_DATA_LIMIT + 1))\n             msg = conn.build_message(msg)\n-            self.nodes[0].p2p.send_raw_message(msg)\n+            conn.send_raw_message(msg)\n             conn.wait_for_disconnect(timeout=1)\n             self.nodes[0].disconnect_p2ps()\n \n     def test_msgtype(self):\n+        self.log.info(\"Test message with invalid message type disconnects peer\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n-        with self.nodes[0].assert_debug_log(['PROCESSMESSAGE: ERRORS IN HEADER']):\n+        with self.nodes[0].assert_debug_log(['PROCESSMESSAGE: ERRORS IN HEADER  peer=', DISCONNECTING]):\n             msg = msg_unrecognized(str_data=\"d\")\n             msg.msgtype = b'\\xff' * 12\n             msg = conn.build_message(msg)\n             # Modify msgtype\n             msg = msg[:7] + b'\\x00' + msg[7 + 1:]\n-            self.nodes[0].p2p.send_raw_message(msg)\n+            conn.send_raw_message(msg)\n             conn.sync_with_ping(timeout=1)\n             self.nodes[0].disconnect_p2ps()\n \n-    def test_large_inv(self):\n-        conn = self.nodes[0].add_p2p_connection(P2PInterface())\n-        with self.nodes[0].assert_debug_log(['Misbehaving', '(0 -> 20): message inv size() = 50001']):\n-            msg = msg_inv([CInv(MSG_TX, 1)] * 50001)\n-            conn.send_and_ping(msg)\n-        with self.nodes[0].assert_debug_log(['Misbehaving', '(20 -> 40): message getdata size() = 50001']):\n-            msg = msg_getdata([CInv(MSG_TX, 1)] * 50001)\n-            conn.send_and_ping(msg)\n-        with self.nodes[0].assert_debug_log(['Misbehaving', '(40 -> 60): headers message size = 2001']):\n-            msg = msg_headers([CBlockHeader()] * 2001)\n-            conn.send_and_ping(msg)\n+    def test_oversized_msg(self, msg_type, msg, size):\n+        self.log.info(\"Test {} message of size {} is logged as misbehaving\".format(msg_type, size))\n+        with self.nodes[0].assert_debug_log(['Misbehaving', 'message {} size() = {}'.format(msg_type, size)]):\n+            self.nodes[0].add_p2p_connection(P2PInterface()).send_and_ping(msg)\n         self.nodes[0].disconnect_p2ps()\n \n+    def test_oversized_inv_msg(self):\n+        size = MAX_INV_SIZE + 1\n+        self.test_oversized_msg('inv', msg_inv([CInv(MSG_TX, 1)] * size), size)\n+\n+    def test_oversized_getdata_msg(self):\n+        size = MAX_INV_SIZE + 1\n+        self.test_oversized_msg('getdata', msg_getdata([CInv(MSG_TX, 1)] * size), size)\n+\n+    def test_oversized_headers_msg(self):\n+        size = MAX_HEADERS_RESULTS + 1\n+        self.test_oversized_msg('headers', msg_headers([CBlockHeader()] * size), size)\n+\n     def test_resource_exhaustion(self):\n+        self.log.info(\"Test node stays up despite many large junk messages\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n         conn2 = self.nodes[0].add_p2p_connection(P2PDataStore())\n         msg_at_size = msg_unrecognized(str_data=\"b\" * VALID_DATA_LIMIT)\n-        assert len(msg_at_size.serialize()) == MSG_LIMIT\n+        assert len(msg_at_size.serialize()) == MAX_PROTOCOL_MESSAGE_LENGTH\n \n-        self.log.info(\"Sending a bunch of large, junk messages to test memory exhaustion. May take a bit...\")\n-\n-        # Run a bunch of times to test for memory exhaustion.\n+        self.log.info(\"(a) Send 80 messages of max data size 4MB to test for memory exhaustion\")",
      "path": "test/functional/p2p_invalid_messages.py",
      "position": null,
      "original_position": 130,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "255fbcaee556e743fc41532c13d80edd25941d50",
      "in_reply_to_id": 442309750,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "We could just remove \"to test for memory exhaustion\" but saying why could be good here.",
      "created_at": "2020-06-18T15:42:15Z",
      "updated_at": "2020-06-19T12:28:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442322742",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442322742"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 156,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442323055",
      "pull_request_review_id": 433413153,
      "id": 442323055,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjMyMzA1NQ==",
      "diff_hunk": "@@ -24,8 +27,8 @@\n     wait_until,\n )\n \n-MSG_LIMIT = 4 * 1000 * 1000  # 4MB, per MAX_PROTOCOL_MESSAGE_LENGTH\n-VALID_DATA_LIMIT = MSG_LIMIT - 5  # Account for the 5-byte length prefix\n+VALID_DATA_LIMIT = MAX_PROTOCOL_MESSAGE_LENGTH - 5  # Account for the 5-byte length prefix\n+DISCONNECTING = 'disconnecting peer='",
      "path": "test/functional/p2p_invalid_messages.py",
      "position": null,
      "original_position": 17,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "255fbcaee556e743fc41532c13d80edd25941d50",
      "in_reply_to_id": 442311096,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Right - I think the fix is to test for disconnection, not to test for the log message that accompanies disconnection.",
      "created_at": "2020-06-18T15:42:42Z",
      "updated_at": "2020-06-19T12:28:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442323055",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442323055"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 31,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442327769",
      "pull_request_review_id": 433419276,
      "id": 442327769,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjMyNzc2OQ==",
      "diff_hunk": "@@ -3245,7 +3245,7 @@ bool ProcessMessage(CNode& pfrom, const std::string& msg_type, CDataStream& vRec\n         unsigned int nCount = ReadCompactSize(vRecv);\n         if (nCount > MAX_HEADERS_RESULTS) {\n             LOCK(cs_main);\n-            Misbehaving(pfrom.GetId(), 20, strprintf(\"headers message size = %u\", nCount));\n+            Misbehaving(pfrom.GetId(), 20, strprintf(\"message headers size() = %u\", nCount));",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "255fbcaee556e743fc41532c13d80edd25941d50",
      "in_reply_to_id": 442308344,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "ah ok, it's to be consistent with the other logs. That's fine.",
      "created_at": "2020-06-18T15:49:24Z",
      "updated_at": "2020-06-19T12:28:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442327769",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442327769"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3248,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442328131",
      "pull_request_review_id": 433419764,
      "id": 442328131,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjMyODEzMQ==",
      "diff_hunk": "@@ -86,73 +92,83 @@ def test_magic_bytes(self):\n             self.nodes[0].disconnect_p2ps()\n \n     def test_checksum(self):\n+        self.log.info(\"Test message with invalid checksum disconnects peer\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n-        with self.nodes[0].assert_debug_log(['CHECKSUM ERROR (badmsg, 2 bytes), expected 78df0a04 was ffffffff']):\n+        msgs = ['CHECKSUM ERROR (badmsg, 2 bytes), expected 78df0a04 was ffffffff', DISCONNECTING]\n+        with self.nodes[0].assert_debug_log(msgs):\n             msg = conn.build_message(msg_unrecognized(str_data=\"d\"))\n             # Checksum is after start bytes (4B), message type (12B), len (4B)\n             cut_len = 4 + 12 + 4\n             # modify checksum\n             msg = msg[:cut_len] + b'\\xff' * 4 + msg[cut_len + 4:]\n-            self.nodes[0].p2p.send_raw_message(msg)\n+            conn.send_raw_message(msg)\n             conn.sync_with_ping(timeout=1)\n             self.nodes[0].disconnect_p2ps()\n \n     def test_size(self):\n+        self.log.info(\"Test message with oversized payload disconnects peer\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n-        with self.nodes[0].assert_debug_log(['']):\n-            # Create a message with oversized payload\n+        with self.nodes[0].assert_debug_log([DISCONNECTING]):\n             msg = msg_unrecognized(str_data=\"d\" * (VALID_DATA_LIMIT + 1))\n             msg = conn.build_message(msg)\n-            self.nodes[0].p2p.send_raw_message(msg)\n+            conn.send_raw_message(msg)\n             conn.wait_for_disconnect(timeout=1)\n             self.nodes[0].disconnect_p2ps()\n \n     def test_msgtype(self):\n+        self.log.info(\"Test message with invalid message type disconnects peer\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n-        with self.nodes[0].assert_debug_log(['PROCESSMESSAGE: ERRORS IN HEADER']):\n+        with self.nodes[0].assert_debug_log(['PROCESSMESSAGE: ERRORS IN HEADER  peer=', DISCONNECTING]):\n             msg = msg_unrecognized(str_data=\"d\")\n             msg.msgtype = b'\\xff' * 12\n             msg = conn.build_message(msg)\n             # Modify msgtype\n             msg = msg[:7] + b'\\x00' + msg[7 + 1:]\n-            self.nodes[0].p2p.send_raw_message(msg)\n+            conn.send_raw_message(msg)\n             conn.sync_with_ping(timeout=1)\n             self.nodes[0].disconnect_p2ps()\n \n-    def test_large_inv(self):\n-        conn = self.nodes[0].add_p2p_connection(P2PInterface())\n-        with self.nodes[0].assert_debug_log(['Misbehaving', '(0 -> 20): message inv size() = 50001']):\n-            msg = msg_inv([CInv(MSG_TX, 1)] * 50001)\n-            conn.send_and_ping(msg)\n-        with self.nodes[0].assert_debug_log(['Misbehaving', '(20 -> 40): message getdata size() = 50001']):\n-            msg = msg_getdata([CInv(MSG_TX, 1)] * 50001)\n-            conn.send_and_ping(msg)\n-        with self.nodes[0].assert_debug_log(['Misbehaving', '(40 -> 60): headers message size = 2001']):\n-            msg = msg_headers([CBlockHeader()] * 2001)\n-            conn.send_and_ping(msg)\n+    def test_oversized_msg(self, msg_type, msg, size):\n+        self.log.info(\"Test {} message of size {} is logged as misbehaving\".format(msg_type, size))\n+        with self.nodes[0].assert_debug_log(['Misbehaving', 'message {} size() = {}'.format(msg_type, size)]):\n+            self.nodes[0].add_p2p_connection(P2PInterface()).send_and_ping(msg)\n         self.nodes[0].disconnect_p2ps()\n \n+    def test_oversized_inv_msg(self):\n+        size = MAX_INV_SIZE + 1\n+        self.test_oversized_msg('inv', msg_inv([CInv(MSG_TX, 1)] * size), size)\n+\n+    def test_oversized_getdata_msg(self):\n+        size = MAX_INV_SIZE + 1\n+        self.test_oversized_msg('getdata', msg_getdata([CInv(MSG_TX, 1)] * size), size)\n+\n+    def test_oversized_headers_msg(self):\n+        size = MAX_HEADERS_RESULTS + 1\n+        self.test_oversized_msg('headers', msg_headers([CBlockHeader()] * size), size)\n+\n     def test_resource_exhaustion(self):\n+        self.log.info(\"Test node stays up despite many large junk messages\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n         conn2 = self.nodes[0].add_p2p_connection(P2PDataStore())\n         msg_at_size = msg_unrecognized(str_data=\"b\" * VALID_DATA_LIMIT)\n-        assert len(msg_at_size.serialize()) == MSG_LIMIT\n+        assert len(msg_at_size.serialize()) == MAX_PROTOCOL_MESSAGE_LENGTH\n \n-        self.log.info(\"Sending a bunch of large, junk messages to test memory exhaustion. May take a bit...\")\n-\n-        # Run a bunch of times to test for memory exhaustion.\n+        self.log.info(\"(a) Send 80 messages of max data size 4MB to test for memory exhaustion\")",
      "path": "test/functional/p2p_invalid_messages.py",
      "position": null,
      "original_position": 130,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "255fbcaee556e743fc41532c13d80edd25941d50",
      "in_reply_to_id": 442309750,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, I suggest removing \"to test for memory exhaustion\" because the test isn't doing that.",
      "created_at": "2020-06-18T15:49:56Z",
      "updated_at": "2020-06-19T12:28:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442328131",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442328131"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 156,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442328340",
      "pull_request_review_id": 433420007,
      "id": 442328340,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjMyODM0MA==",
      "diff_hunk": "@@ -3245,7 +3245,7 @@ bool ProcessMessage(CNode& pfrom, const std::string& msg_type, CDataStream& vRec\n         unsigned int nCount = ReadCompactSize(vRecv);\n         if (nCount > MAX_HEADERS_RESULTS) {\n             LOCK(cs_main);\n-            Misbehaving(pfrom.GetId(), 20, strprintf(\"headers message size = %u\", nCount));\n+            Misbehaving(pfrom.GetId(), 20, strprintf(\"message headers size() = %u\", nCount));",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "255fbcaee556e743fc41532c13d80edd25941d50",
      "in_reply_to_id": 442308344,
      "user": {
        "login": "troygiorshev",
        "id": 5553787,
        "node_id": "MDQ6VXNlcjU1NTM3ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5553787?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/troygiorshev",
        "html_url": "https://github.com/troygiorshev",
        "followers_url": "https://api.github.com/users/troygiorshev/followers",
        "following_url": "https://api.github.com/users/troygiorshev/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/troygiorshev/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/troygiorshev/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/troygiorshev/subscriptions",
        "organizations_url": "https://api.github.com/users/troygiorshev/orgs",
        "repos_url": "https://api.github.com/users/troygiorshev/repos",
        "events_url": "https://api.github.com/users/troygiorshev/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/troygiorshev/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "IMO they should all be changed to `<type> message size = %u`.  `<type> message` because that sounds better to my ear, and `size` as opposed to `size()` because we're talking about the value of the function, not the function itself.\r\n\r\nThat said, I'll ACK anything that's consistent among these 4 logs.",
      "created_at": "2020-06-18T15:50:13Z",
      "updated_at": "2020-06-19T12:28:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442328340",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442328340"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3248,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442342711",
      "pull_request_review_id": 433438848,
      "id": 442342711,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjM0MjcxMQ==",
      "diff_hunk": "@@ -24,8 +27,8 @@\n     wait_until,\n )\n \n-MSG_LIMIT = 4 * 1000 * 1000  # 4MB, per MAX_PROTOCOL_MESSAGE_LENGTH\n-VALID_DATA_LIMIT = MSG_LIMIT - 5  # Account for the 5-byte length prefix\n+VALID_DATA_LIMIT = MAX_PROTOCOL_MESSAGE_LENGTH - 5  # Account for the 5-byte length prefix\n+DISCONNECTING = 'disconnecting peer='",
      "path": "test/functional/p2p_invalid_messages.py",
      "position": null,
      "original_position": 17,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "255fbcaee556e743fc41532c13d80edd25941d50",
      "in_reply_to_id": 442311096,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ok, in 4 cases it was only logging the disconnection because `disconnect_p2ps()` was previously being called in the scope of the `assert_debug_log`. Updating along with my review feedback in #19107.",
      "created_at": "2020-06-18T16:11:51Z",
      "updated_at": "2020-06-19T12:28:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442342711",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442342711"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 31,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442364941",
      "pull_request_review_id": 433467589,
      "id": 442364941,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjM2NDk0MQ==",
      "diff_hunk": "@@ -86,73 +92,83 @@ def test_magic_bytes(self):\n             self.nodes[0].disconnect_p2ps()\n \n     def test_checksum(self):\n+        self.log.info(\"Test message with invalid checksum disconnects peer\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n-        with self.nodes[0].assert_debug_log(['CHECKSUM ERROR (badmsg, 2 bytes), expected 78df0a04 was ffffffff']):\n+        msgs = ['CHECKSUM ERROR (badmsg, 2 bytes), expected 78df0a04 was ffffffff', DISCONNECTING]\n+        with self.nodes[0].assert_debug_log(msgs):\n             msg = conn.build_message(msg_unrecognized(str_data=\"d\"))\n             # Checksum is after start bytes (4B), message type (12B), len (4B)\n             cut_len = 4 + 12 + 4\n             # modify checksum\n             msg = msg[:cut_len] + b'\\xff' * 4 + msg[cut_len + 4:]\n-            self.nodes[0].p2p.send_raw_message(msg)\n+            conn.send_raw_message(msg)\n             conn.sync_with_ping(timeout=1)\n             self.nodes[0].disconnect_p2ps()\n \n     def test_size(self):\n+        self.log.info(\"Test message with oversized payload disconnects peer\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n-        with self.nodes[0].assert_debug_log(['']):\n-            # Create a message with oversized payload\n+        with self.nodes[0].assert_debug_log([DISCONNECTING]):\n             msg = msg_unrecognized(str_data=\"d\" * (VALID_DATA_LIMIT + 1))\n             msg = conn.build_message(msg)\n-            self.nodes[0].p2p.send_raw_message(msg)\n+            conn.send_raw_message(msg)\n             conn.wait_for_disconnect(timeout=1)\n             self.nodes[0].disconnect_p2ps()\n \n     def test_msgtype(self):\n+        self.log.info(\"Test message with invalid message type disconnects peer\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n-        with self.nodes[0].assert_debug_log(['PROCESSMESSAGE: ERRORS IN HEADER']):\n+        with self.nodes[0].assert_debug_log(['PROCESSMESSAGE: ERRORS IN HEADER  peer=', DISCONNECTING]):\n             msg = msg_unrecognized(str_data=\"d\")\n             msg.msgtype = b'\\xff' * 12\n             msg = conn.build_message(msg)\n             # Modify msgtype\n             msg = msg[:7] + b'\\x00' + msg[7 + 1:]\n-            self.nodes[0].p2p.send_raw_message(msg)\n+            conn.send_raw_message(msg)\n             conn.sync_with_ping(timeout=1)\n             self.nodes[0].disconnect_p2ps()\n \n-    def test_large_inv(self):\n-        conn = self.nodes[0].add_p2p_connection(P2PInterface())\n-        with self.nodes[0].assert_debug_log(['Misbehaving', '(0 -> 20): message inv size() = 50001']):\n-            msg = msg_inv([CInv(MSG_TX, 1)] * 50001)\n-            conn.send_and_ping(msg)\n-        with self.nodes[0].assert_debug_log(['Misbehaving', '(20 -> 40): message getdata size() = 50001']):\n-            msg = msg_getdata([CInv(MSG_TX, 1)] * 50001)\n-            conn.send_and_ping(msg)\n-        with self.nodes[0].assert_debug_log(['Misbehaving', '(40 -> 60): headers message size = 2001']):\n-            msg = msg_headers([CBlockHeader()] * 2001)\n-            conn.send_and_ping(msg)\n+    def test_oversized_msg(self, msg_type, msg, size):\n+        self.log.info(\"Test {} message of size {} is logged as misbehaving\".format(msg_type, size))\n+        with self.nodes[0].assert_debug_log(['Misbehaving', 'message {} size() = {}'.format(msg_type, size)]):\n+            self.nodes[0].add_p2p_connection(P2PInterface()).send_and_ping(msg)\n         self.nodes[0].disconnect_p2ps()\n \n+    def test_oversized_inv_msg(self):\n+        size = MAX_INV_SIZE + 1\n+        self.test_oversized_msg('inv', msg_inv([CInv(MSG_TX, 1)] * size), size)\n+\n+    def test_oversized_getdata_msg(self):\n+        size = MAX_INV_SIZE + 1\n+        self.test_oversized_msg('getdata', msg_getdata([CInv(MSG_TX, 1)] * size), size)\n+\n+    def test_oversized_headers_msg(self):\n+        size = MAX_HEADERS_RESULTS + 1\n+        self.test_oversized_msg('headers', msg_headers([CBlockHeader()] * size), size)\n+\n     def test_resource_exhaustion(self):\n+        self.log.info(\"Test node stays up despite many large junk messages\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n         conn2 = self.nodes[0].add_p2p_connection(P2PDataStore())\n         msg_at_size = msg_unrecognized(str_data=\"b\" * VALID_DATA_LIMIT)\n-        assert len(msg_at_size.serialize()) == MSG_LIMIT\n+        assert len(msg_at_size.serialize()) == MAX_PROTOCOL_MESSAGE_LENGTH\n \n-        self.log.info(\"Sending a bunch of large, junk messages to test memory exhaustion. May take a bit...\")\n-\n-        # Run a bunch of times to test for memory exhaustion.\n+        self.log.info(\"(a) Send 80 messages of max data size 4MB to test for memory exhaustion\")",
      "path": "test/functional/p2p_invalid_messages.py",
      "position": null,
      "original_position": 130,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "255fbcaee556e743fc41532c13d80edd25941d50",
      "in_reply_to_id": 442309750,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks -- done.",
      "created_at": "2020-06-18T16:47:00Z",
      "updated_at": "2020-06-19T12:28:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442364941",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442364941"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 156,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442367444",
      "pull_request_review_id": 433470776,
      "id": 442367444,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjM2NzQ0NA==",
      "diff_hunk": "@@ -24,8 +27,8 @@\n     wait_until,\n )\n \n-MSG_LIMIT = 4 * 1000 * 1000  # 4MB, per MAX_PROTOCOL_MESSAGE_LENGTH\n-VALID_DATA_LIMIT = MSG_LIMIT - 5  # Account for the 5-byte length prefix\n+VALID_DATA_LIMIT = MAX_PROTOCOL_MESSAGE_LENGTH - 5  # Account for the 5-byte length prefix\n+DISCONNECTING = 'disconnecting peer='",
      "path": "test/functional/p2p_invalid_messages.py",
      "position": null,
      "original_position": 17,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "255fbcaee556e743fc41532c13d80edd25941d50",
      "in_reply_to_id": 442311096,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done -- good call, thanks.",
      "created_at": "2020-06-18T16:51:11Z",
      "updated_at": "2020-06-19T12:28:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442367444",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442367444"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 31,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442369845",
      "pull_request_review_id": 433473955,
      "id": 442369845,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjM2OTg0NQ==",
      "diff_hunk": "@@ -3245,7 +3245,7 @@ bool ProcessMessage(CNode& pfrom, const std::string& msg_type, CDataStream& vRec\n         unsigned int nCount = ReadCompactSize(vRecv);\n         if (nCount > MAX_HEADERS_RESULTS) {\n             LOCK(cs_main);\n-            Misbehaving(pfrom.GetId(), 20, strprintf(\"headers message size = %u\", nCount));\n+            Misbehaving(pfrom.GetId(), 20, strprintf(\"message headers size() = %u\", nCount));",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "255fbcaee556e743fc41532c13d80edd25941d50",
      "in_reply_to_id": 442308344,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "@troygiorshev I share your preference but opted for the minimum possible change. Given both of your reviews will try the changes you suggest.",
      "created_at": "2020-06-18T16:55:25Z",
      "updated_at": "2020-06-19T12:28:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442369845",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442369845"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3248,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442387680",
      "pull_request_review_id": 433497802,
      "id": 442387680,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjM4NzY4MA==",
      "diff_hunk": "@@ -3245,7 +3245,7 @@ bool ProcessMessage(CNode& pfrom, const std::string& msg_type, CDataStream& vRec\n         unsigned int nCount = ReadCompactSize(vRecv);\n         if (nCount > MAX_HEADERS_RESULTS) {\n             LOCK(cs_main);\n-            Misbehaving(pfrom.GetId(), 20, strprintf(\"headers message size = %u\", nCount));\n+            Misbehaving(pfrom.GetId(), 20, strprintf(\"message headers size() = %u\", nCount));",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "255fbcaee556e743fc41532c13d80edd25941d50",
      "in_reply_to_id": 442308344,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2020-06-18T17:26:43Z",
      "updated_at": "2020-06-19T12:28:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442387680",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442387680"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3248,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442403419",
      "pull_request_review_id": 433518548,
      "id": 442403419,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjQwMzQxOQ==",
      "diff_hunk": "@@ -122,20 +124,21 @@ def test_msgtype(self):\n             conn.sync_with_ping(timeout=1)\n             self.nodes[0].disconnect_p2ps()\n \n-    def test_large_inv(self):\n-        self.log.info(\"Test oversized inv/getdata/headers messages are logged as misbehaving\")\n-        conn = self.nodes[0].add_p2p_connection(P2PInterface())\n-        with self.nodes[0].assert_debug_log(['Misbehaving', '(0 -> 20): inv message size = 50001']):\n-            msg = msg_inv([CInv(MSG_TX, 1)] * 50001)\n-            conn.send_and_ping(msg)\n-        with self.nodes[0].assert_debug_log(['Misbehaving', '(20 -> 40): getdata message size = 50001']):\n-            msg = msg_getdata([CInv(MSG_TX, 1)] * 50001)\n-            conn.send_and_ping(msg)\n-        with self.nodes[0].assert_debug_log(['Misbehaving', '(40 -> 60): headers message size = 2001']):\n-            msg = msg_headers([CBlockHeader()] * 2001)\n-            conn.send_and_ping(msg)\n+    def test_oversized_msg(self, msg_type, msg, size):",
      "path": "test/functional/p2p_invalid_messages.py",
      "position": null,
      "original_position": 27,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "cb71adbf9338c8a3f8348c936d4c1caa1086a33f",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "in commit cb71adbf9338c8a3f8348c936d4c1caa1086a33f:\r\n\r\nno need to pass the message type, since the message already knows its own type:\r\n\r\n```diff\r\ndiff --git a/test/functional/p2p_invalid_messages.py b/test/functional/p2p_invalid_messages.py\r\nindex f1ef5c6414..ad918bf3bb 100755\r\n--- a/test/functional/p2p_invalid_messages.py\r\n+++ b/test/functional/p2p_invalid_messages.py\r\n@@ -124,7 +124,8 @@ class InvalidMessagesTest(BitcoinTestFramework):\r\n             conn.sync_with_ping(timeout=1)\r\n             self.nodes[0].disconnect_p2ps()\r\n \r\n-    def test_oversized_msg(self, msg_type, msg, size):\r\n+    def test_oversized_msg(self, _, msg, size):\r\n+        msg_type = msg.msgtype.decode('ascii')\r\n         self.log.info(\"Test {} message of size {} is logged as misbehaving\".format(msg_type, size))\r\n         with self.nodes[0].assert_debug_log(['Misbehaving', '{} message size = {}'.format(msg_type, size)]):\r\n             self.nodes[0].add_p2p_connection(P2PInterface()).send_and_ping(msg)\r\n",
      "created_at": "2020-06-18T17:54:59Z",
      "updated_at": "2020-06-19T12:28:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442403419",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442403419"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 127,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442404333",
      "pull_request_review_id": 433518548,
      "id": 442404333,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjQwNDMzMw==",
      "diff_hunk": "@@ -80,49 +80,49 @@ def test_buffer(self):\n     def test_magic_bytes(self):\n         self.log.info(\"Test message with invalid magic bytes disconnects peer\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n-        with self.nodes[0].assert_debug_log(['PROCESSMESSAGE: INVALID MESSAGESTART badmsg']):\n+        with self.nodes[0].assert_debug_log('PROCESSMESSAGE: INVALID MESSAGESTART badmsg'):",
      "path": "test/functional/p2p_invalid_messages.py",
      "position": null,
      "original_position": 5,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "058dbcec567eb5b6fa780f0adbbd70b421621c38",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "in commit 058dbcec567eb5b6fa780f0adbbd70b421621c38\r\n\r\nThis must stay an array. Otherwise it will assert nothing.",
      "created_at": "2020-06-18T17:56:40Z",
      "updated_at": "2020-06-19T12:28:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442404333",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442404333"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 83,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442481523",
      "pull_request_review_id": 433619589,
      "id": 442481523,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjQ4MTUyMw==",
      "diff_hunk": "@@ -80,49 +80,49 @@ def test_buffer(self):\n     def test_magic_bytes(self):\n         self.log.info(\"Test message with invalid magic bytes disconnects peer\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n-        with self.nodes[0].assert_debug_log(['PROCESSMESSAGE: INVALID MESSAGESTART badmsg']):\n+        with self.nodes[0].assert_debug_log('PROCESSMESSAGE: INVALID MESSAGESTART badmsg'):",
      "path": "test/functional/p2p_invalid_messages.py",
      "position": null,
      "original_position": 5,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "058dbcec567eb5b6fa780f0adbbd70b421621c38",
      "in_reply_to_id": 442404333,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks, done. I should have verified the method. Am in the long-standing habit of accepting either a string or an array in framework APIs I make, e.g.\r\n```diff\r\n     def assert_debug_log(self, expected_msgs, unexpected_msgs=None, timeout=2):\r\n+        if type(expected_msgs) == str:\r\n+            expected_msgs = [expected_msgs]\r\n+        if type(unexpected_msgs) == str:\r\n+            unexpected_msgs = [unexpected_msgs]\r\n         if unexpected_msgs is None:\r\n             unexpected_msgs = []\r\n```",
      "created_at": "2020-06-18T20:22:46Z",
      "updated_at": "2020-06-19T12:28:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442481523",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442481523"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 83,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442481841",
      "pull_request_review_id": 433620013,
      "id": 442481841,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjQ4MTg0MQ==",
      "diff_hunk": "@@ -122,20 +124,21 @@ def test_msgtype(self):\n             conn.sync_with_ping(timeout=1)\n             self.nodes[0].disconnect_p2ps()\n \n-    def test_large_inv(self):\n-        self.log.info(\"Test oversized inv/getdata/headers messages are logged as misbehaving\")\n-        conn = self.nodes[0].add_p2p_connection(P2PInterface())\n-        with self.nodes[0].assert_debug_log(['Misbehaving', '(0 -> 20): inv message size = 50001']):\n-            msg = msg_inv([CInv(MSG_TX, 1)] * 50001)\n-            conn.send_and_ping(msg)\n-        with self.nodes[0].assert_debug_log(['Misbehaving', '(20 -> 40): getdata message size = 50001']):\n-            msg = msg_getdata([CInv(MSG_TX, 1)] * 50001)\n-            conn.send_and_ping(msg)\n-        with self.nodes[0].assert_debug_log(['Misbehaving', '(40 -> 60): headers message size = 2001']):\n-            msg = msg_headers([CBlockHeader()] * 2001)\n-            conn.send_and_ping(msg)\n+    def test_oversized_msg(self, msg_type, msg, size):",
      "path": "test/functional/p2p_invalid_messages.py",
      "position": null,
      "original_position": 27,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "cb71adbf9338c8a3f8348c936d4c1caa1086a33f",
      "in_reply_to_id": 442403419,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Nice; done.",
      "created_at": "2020-06-18T20:23:28Z",
      "updated_at": "2020-06-19T12:28:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442481841",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442481841"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 127,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442504928",
      "pull_request_review_id": 433650386,
      "id": 442504928,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjUwNDkyOA==",
      "diff_hunk": "@@ -80,49 +80,49 @@ def test_buffer(self):\n     def test_magic_bytes(self):\n         self.log.info(\"Test message with invalid magic bytes disconnects peer\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n-        with self.nodes[0].assert_debug_log(['PROCESSMESSAGE: INVALID MESSAGESTART badmsg']):\n+        with self.nodes[0].assert_debug_log('PROCESSMESSAGE: INVALID MESSAGESTART badmsg'):",
      "path": "test/functional/p2p_invalid_messages.py",
      "position": null,
      "original_position": 5,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "058dbcec567eb5b6fa780f0adbbd70b421621c38",
      "in_reply_to_id": 442404333,
      "user": {
        "login": "troygiorshev",
        "id": 5553787,
        "node_id": "MDQ6VXNlcjU1NTM3ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5553787?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/troygiorshev",
        "html_url": "https://github.com/troygiorshev",
        "followers_url": "https://api.github.com/users/troygiorshev/followers",
        "following_url": "https://api.github.com/users/troygiorshev/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/troygiorshev/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/troygiorshev/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/troygiorshev/subscriptions",
        "organizations_url": "https://api.github.com/users/troygiorshev/orgs",
        "repos_url": "https://api.github.com/users/troygiorshev/repos",
        "events_url": "https://api.github.com/users/troygiorshev/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/troygiorshev/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "plug: https://github.com/bitcoin/bitcoin/pull/18210",
      "created_at": "2020-06-18T21:11:24Z",
      "updated_at": "2020-06-19T12:28:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442504928",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442504928"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 83,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442772204",
      "pull_request_review_id": 433984115,
      "id": 442772204,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjc3MjIwNA==",
      "diff_hunk": "@@ -80,49 +80,49 @@ def test_buffer(self):\n     def test_magic_bytes(self):\n         self.log.info(\"Test message with invalid magic bytes disconnects peer\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n-        with self.nodes[0].assert_debug_log(['PROCESSMESSAGE: INVALID MESSAGESTART badmsg']):\n+        with self.nodes[0].assert_debug_log('PROCESSMESSAGE: INVALID MESSAGESTART badmsg'):",
      "path": "test/functional/p2p_invalid_messages.py",
      "position": null,
      "original_position": 5,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "058dbcec567eb5b6fa780f0adbbd70b421621c38",
      "in_reply_to_id": 442404333,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I did try to add `: List[str]`, but for some reason it didn't complain when I passed a string. Maybe mypy was broken on my machine? ",
      "created_at": "2020-06-19T10:52:48Z",
      "updated_at": "2020-06-19T12:28:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442772204",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442772204"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 83,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/444932532",
      "pull_request_review_id": 436698677,
      "id": 444932532,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDkzMjUzMg==",
      "diff_hunk": "@@ -24,8 +27,7 @@\n     wait_until,\n )\n \n-MSG_LIMIT = 4 * 1000 * 1000  # 4MB, per MAX_PROTOCOL_MESSAGE_LENGTH\n-VALID_DATA_LIMIT = MSG_LIMIT - 5  # Account for the 5-byte length prefix\n+VALID_DATA_LIMIT = MAX_PROTOCOL_MESSAGE_LENGTH - 5  # Account for the 5-byte length prefix",
      "path": "test/functional/p2p_invalid_messages.py",
      "position": 16,
      "original_position": 16,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "in_reply_to_id": null,
      "user": {
        "login": "rajarshimaitra",
        "id": 36541669,
        "node_id": "MDQ6VXNlcjM2NTQxNjY5",
        "avatar_url": "https://avatars.githubusercontent.com/u/36541669?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rajarshimaitra",
        "html_url": "https://github.com/rajarshimaitra",
        "followers_url": "https://api.github.com/users/rajarshimaitra/followers",
        "following_url": "https://api.github.com/users/rajarshimaitra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rajarshimaitra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rajarshimaitra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rajarshimaitra/subscriptions",
        "organizations_url": "https://api.github.com/users/rajarshimaitra/orgs",
        "repos_url": "https://api.github.com/users/rajarshimaitra/repos",
        "events_url": "https://api.github.com/users/rajarshimaitra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rajarshimaitra/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Probably I am missing something, but this 5 bytes message length seems to be coming from `ser_string()` in `messages.py`. But is it something that the node also recognizes? It doesn't seem to be part of the p2p protocol.   ",
      "created_at": "2020-06-24T14:24:33Z",
      "updated_at": "2020-06-24T15:46:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r444932532",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/444932532"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 30,
      "original_line": 30,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/444938726",
      "pull_request_review_id": 436698677,
      "id": 444938726,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDkzODcyNg==",
      "diff_hunk": "@@ -76,83 +80,94 @@ def test_buffer(self):\n         self.nodes[0].disconnect_p2ps()\n \n     def test_magic_bytes(self):\n+        self.log.info(\"Test message with invalid magic bytes disconnects peer\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n         with self.nodes[0].assert_debug_log(['PROCESSMESSAGE: INVALID MESSAGESTART badmsg']):\n             msg = conn.build_message(msg_unrecognized(str_data=\"d\"))\n             # modify magic bytes\n             msg = b'\\xff' * 4 + msg[4:]\n             conn.send_raw_message(msg)\n             conn.wait_for_disconnect(timeout=1)\n-            self.nodes[0].disconnect_p2ps()\n+        self.nodes[0].disconnect_p2ps()\n \n     def test_checksum(self):\n+        self.log.info(\"Test message with invalid checksum logs an error\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n         with self.nodes[0].assert_debug_log(['CHECKSUM ERROR (badmsg, 2 bytes), expected 78df0a04 was ffffffff']):\n             msg = conn.build_message(msg_unrecognized(str_data=\"d\"))\n             # Checksum is after start bytes (4B), message type (12B), len (4B)\n             cut_len = 4 + 12 + 4\n             # modify checksum\n             msg = msg[:cut_len] + b'\\xff' * 4 + msg[cut_len + 4:]\n-            self.nodes[0].p2p.send_raw_message(msg)\n+            conn.send_raw_message(msg)\n             conn.sync_with_ping(timeout=1)\n-            self.nodes[0].disconnect_p2ps()\n+        self.nodes[0].disconnect_p2ps()\n \n     def test_size(self):\n+        self.log.info(\"Test message with oversized payload disconnects peer\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n         with self.nodes[0].assert_debug_log(['']):\n-            # Create a message with oversized payload\n             msg = msg_unrecognized(str_data=\"d\" * (VALID_DATA_LIMIT + 1))\n             msg = conn.build_message(msg)\n-            self.nodes[0].p2p.send_raw_message(msg)\n+            conn.send_raw_message(msg)\n             conn.wait_for_disconnect(timeout=1)\n-            self.nodes[0].disconnect_p2ps()\n+        self.nodes[0].disconnect_p2ps()\n \n     def test_msgtype(self):\n+        self.log.info(\"Test message with invalid message type logs an error\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n         with self.nodes[0].assert_debug_log(['PROCESSMESSAGE: ERRORS IN HEADER']):\n             msg = msg_unrecognized(str_data=\"d\")\n             msg.msgtype = b'\\xff' * 12\n             msg = conn.build_message(msg)\n             # Modify msgtype\n             msg = msg[:7] + b'\\x00' + msg[7 + 1:]\n-            self.nodes[0].p2p.send_raw_message(msg)\n+            conn.send_raw_message(msg)\n             conn.sync_with_ping(timeout=1)\n-            self.nodes[0].disconnect_p2ps()\n-\n-    def test_large_inv(self):\n-        conn = self.nodes[0].add_p2p_connection(P2PInterface())\n-        with self.nodes[0].assert_debug_log(['Misbehaving', '(0 -> 20): message inv size() = 50001']):\n-            msg = msg_inv([CInv(MSG_TX, 1)] * 50001)\n-            conn.send_and_ping(msg)\n-        with self.nodes[0].assert_debug_log(['Misbehaving', '(20 -> 40): message getdata size() = 50001']):\n-            msg = msg_getdata([CInv(MSG_TX, 1)] * 50001)\n-            conn.send_and_ping(msg)\n-        with self.nodes[0].assert_debug_log(['Misbehaving', '(40 -> 60): headers message size = 2001']):\n-            msg = msg_headers([CBlockHeader()] * 2001)\n-            conn.send_and_ping(msg)\n         self.nodes[0].disconnect_p2ps()\n \n+    def test_oversized_msg(self, msg, size):\n+        msg_type = msg.msgtype.decode('ascii')\n+        self.log.info(\"Test {} message of size {} is logged as misbehaving\".format(msg_type, size))\n+        with self.nodes[0].assert_debug_log(['Misbehaving', '{} message size = {}'.format(msg_type, size)]):\n+            self.nodes[0].add_p2p_connection(P2PInterface()).send_and_ping(msg)\n+        self.nodes[0].disconnect_p2ps()\n+\n+    def test_oversized_inv_msg(self):\n+        size = MAX_INV_SIZE + 1\n+        self.test_oversized_msg(msg_inv([CInv(MSG_TX, 1)] * size), size)\n+\n+    def test_oversized_getdata_msg(self):\n+        size = MAX_INV_SIZE + 1\n+        self.test_oversized_msg(msg_getdata([CInv(MSG_TX, 1)] * size), size)\n+\n+    def test_oversized_headers_msg(self):\n+        size = MAX_HEADERS_RESULTS + 1\n+        self.test_oversized_msg(msg_headers([CBlockHeader()] * size), size)\n+\n     def test_resource_exhaustion(self):\n+        self.log.info(\"Test node stays up despite many large junk messages\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n         conn2 = self.nodes[0].add_p2p_connection(P2PDataStore())\n         msg_at_size = msg_unrecognized(str_data=\"b\" * VALID_DATA_LIMIT)\n-        assert len(msg_at_size.serialize()) == MSG_LIMIT\n-\n-        self.log.info(\"Sending a bunch of large, junk messages to test memory exhaustion. May take a bit...\")\n+        assert len(msg_at_size.serialize()) == MAX_PROTOCOL_MESSAGE_LENGTH\n \n-        # Run a bunch of times to test for memory exhaustion.\n+        self.log.info(\"(a) Send 80 messages, each of maximum valid data size (4MB)\")",
      "path": "test/functional/p2p_invalid_messages.py",
      "position": 136,
      "original_position": 136,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "in_reply_to_id": null,
      "user": {
        "login": "rajarshimaitra",
        "id": 36541669,
        "node_id": "MDQ6VXNlcjM2NTQxNjY5",
        "avatar_url": "https://avatars.githubusercontent.com/u/36541669?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rajarshimaitra",
        "html_url": "https://github.com/rajarshimaitra",
        "followers_url": "https://api.github.com/users/rajarshimaitra/followers",
        "following_url": "https://api.github.com/users/rajarshimaitra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rajarshimaitra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rajarshimaitra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rajarshimaitra/subscriptions",
        "organizations_url": "https://api.github.com/users/rajarshimaitra/orgs",
        "repos_url": "https://api.github.com/users/rajarshimaitra/repos",
        "events_url": "https://api.github.com/users/rajarshimaitra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rajarshimaitra/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Nit: \"Sending 80 junk messages...\". makes the log a bit more clear. ",
      "created_at": "2020-06-24T14:32:23Z",
      "updated_at": "2020-06-24T15:46:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r444938726",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/444938726"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 155,
      "original_line": 155,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/445354212",
      "pull_request_review_id": 437227155,
      "id": 445354212,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTM1NDIxMg==",
      "diff_hunk": "@@ -76,83 +80,94 @@ def test_buffer(self):\n         self.nodes[0].disconnect_p2ps()\n \n     def test_magic_bytes(self):\n+        self.log.info(\"Test message with invalid magic bytes disconnects peer\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n         with self.nodes[0].assert_debug_log(['PROCESSMESSAGE: INVALID MESSAGESTART badmsg']):\n             msg = conn.build_message(msg_unrecognized(str_data=\"d\"))\n             # modify magic bytes\n             msg = b'\\xff' * 4 + msg[4:]\n             conn.send_raw_message(msg)\n             conn.wait_for_disconnect(timeout=1)\n-            self.nodes[0].disconnect_p2ps()\n+        self.nodes[0].disconnect_p2ps()\n \n     def test_checksum(self):\n+        self.log.info(\"Test message with invalid checksum logs an error\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n         with self.nodes[0].assert_debug_log(['CHECKSUM ERROR (badmsg, 2 bytes), expected 78df0a04 was ffffffff']):\n             msg = conn.build_message(msg_unrecognized(str_data=\"d\"))\n             # Checksum is after start bytes (4B), message type (12B), len (4B)\n             cut_len = 4 + 12 + 4\n             # modify checksum\n             msg = msg[:cut_len] + b'\\xff' * 4 + msg[cut_len + 4:]\n-            self.nodes[0].p2p.send_raw_message(msg)\n+            conn.send_raw_message(msg)\n             conn.sync_with_ping(timeout=1)\n-            self.nodes[0].disconnect_p2ps()\n+        self.nodes[0].disconnect_p2ps()\n \n     def test_size(self):\n+        self.log.info(\"Test message with oversized payload disconnects peer\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n         with self.nodes[0].assert_debug_log(['']):\n-            # Create a message with oversized payload\n             msg = msg_unrecognized(str_data=\"d\" * (VALID_DATA_LIMIT + 1))\n             msg = conn.build_message(msg)\n-            self.nodes[0].p2p.send_raw_message(msg)\n+            conn.send_raw_message(msg)\n             conn.wait_for_disconnect(timeout=1)\n-            self.nodes[0].disconnect_p2ps()\n+        self.nodes[0].disconnect_p2ps()\n \n     def test_msgtype(self):\n+        self.log.info(\"Test message with invalid message type logs an error\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n         with self.nodes[0].assert_debug_log(['PROCESSMESSAGE: ERRORS IN HEADER']):\n             msg = msg_unrecognized(str_data=\"d\")\n             msg.msgtype = b'\\xff' * 12\n             msg = conn.build_message(msg)\n             # Modify msgtype\n             msg = msg[:7] + b'\\x00' + msg[7 + 1:]\n-            self.nodes[0].p2p.send_raw_message(msg)\n+            conn.send_raw_message(msg)\n             conn.sync_with_ping(timeout=1)\n-            self.nodes[0].disconnect_p2ps()\n-\n-    def test_large_inv(self):\n-        conn = self.nodes[0].add_p2p_connection(P2PInterface())\n-        with self.nodes[0].assert_debug_log(['Misbehaving', '(0 -> 20): message inv size() = 50001']):\n-            msg = msg_inv([CInv(MSG_TX, 1)] * 50001)\n-            conn.send_and_ping(msg)\n-        with self.nodes[0].assert_debug_log(['Misbehaving', '(20 -> 40): message getdata size() = 50001']):\n-            msg = msg_getdata([CInv(MSG_TX, 1)] * 50001)\n-            conn.send_and_ping(msg)\n-        with self.nodes[0].assert_debug_log(['Misbehaving', '(40 -> 60): headers message size = 2001']):\n-            msg = msg_headers([CBlockHeader()] * 2001)\n-            conn.send_and_ping(msg)\n         self.nodes[0].disconnect_p2ps()\n \n+    def test_oversized_msg(self, msg, size):\n+        msg_type = msg.msgtype.decode('ascii')\n+        self.log.info(\"Test {} message of size {} is logged as misbehaving\".format(msg_type, size))\n+        with self.nodes[0].assert_debug_log(['Misbehaving', '{} message size = {}'.format(msg_type, size)]):\n+            self.nodes[0].add_p2p_connection(P2PInterface()).send_and_ping(msg)\n+        self.nodes[0].disconnect_p2ps()\n+\n+    def test_oversized_inv_msg(self):\n+        size = MAX_INV_SIZE + 1\n+        self.test_oversized_msg(msg_inv([CInv(MSG_TX, 1)] * size), size)\n+\n+    def test_oversized_getdata_msg(self):\n+        size = MAX_INV_SIZE + 1\n+        self.test_oversized_msg(msg_getdata([CInv(MSG_TX, 1)] * size), size)\n+\n+    def test_oversized_headers_msg(self):\n+        size = MAX_HEADERS_RESULTS + 1\n+        self.test_oversized_msg(msg_headers([CBlockHeader()] * size), size)\n+\n     def test_resource_exhaustion(self):\n+        self.log.info(\"Test node stays up despite many large junk messages\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n         conn2 = self.nodes[0].add_p2p_connection(P2PDataStore())\n         msg_at_size = msg_unrecognized(str_data=\"b\" * VALID_DATA_LIMIT)\n-        assert len(msg_at_size.serialize()) == MSG_LIMIT\n-\n-        self.log.info(\"Sending a bunch of large, junk messages to test memory exhaustion. May take a bit...\")\n+        assert len(msg_at_size.serialize()) == MAX_PROTOCOL_MESSAGE_LENGTH\n \n-        # Run a bunch of times to test for memory exhaustion.\n+        self.log.info(\"(a) Send 80 messages, each of maximum valid data size (4MB)\")",
      "path": "test/functional/p2p_invalid_messages.py",
      "position": 136,
      "original_position": 136,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "in_reply_to_id": 444938726,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "\"junk messages\" is stated in the log immediately beforehand:\r\n```\r\n2020-06-25 ... TestFramework (INFO): Test node stays up despite many large junk messages\r\n2020-06-25 ... TestFramework (INFO): (a) Send 80 messages, each of maximum valid data size (4MB)\r\n2020-06-25 ... TestFramework (INFO): (b) Check node still services peers in a timely way\r\n2020-06-25 ... TestFramework (INFO): (c) Wait for node to drop junk messages, while remaining connected\r\n```",
      "created_at": "2020-06-25T07:18:00Z",
      "updated_at": "2020-06-25T07:18:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r445354212",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/445354212"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 155,
      "original_line": 155,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/445492211",
      "pull_request_review_id": 437406485,
      "id": 445492211,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTQ5MjIxMQ==",
      "diff_hunk": "@@ -24,8 +27,7 @@\n     wait_until,\n )\n \n-MSG_LIMIT = 4 * 1000 * 1000  # 4MB, per MAX_PROTOCOL_MESSAGE_LENGTH\n-VALID_DATA_LIMIT = MSG_LIMIT - 5  # Account for the 5-byte length prefix\n+VALID_DATA_LIMIT = MAX_PROTOCOL_MESSAGE_LENGTH - 5  # Account for the 5-byte length prefix",
      "path": "test/functional/p2p_invalid_messages.py",
      "position": 16,
      "original_position": 16,
      "commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "original_commit_id": "56010f92564a94b0ca6c008c0e6f74a19fad4a2a",
      "in_reply_to_id": 444932532,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "We set `VALID_DATA_LIMIT` so that the length of the serialised `msg_unrecognized` message built with it will equal `MAX_PROTOCOL_MESSAGE_LENGTH`. This is verified at line 153; you can also add the following assertion at line 111\r\n```diff\r\n             msg = msg_unrecognized(str_data=\"d\" * (VALID_DATA_LIMIT + 1))\r\n+            assert_equal(len(msg.serialize()), MAX_PROTOCOL_MESSAGE_LENGTH + 1)\r\n```\r\nor try changing the offset from 5 to 4 or 6.\r\n\r\nI've added this assertion and some other ones while testing @troygiorshev's net message headers refactoring and may propose the changes if they look worthwhile to me after a few days' time.",
      "created_at": "2020-06-25T11:33:58Z",
      "updated_at": "2020-06-25T11:33:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r445492211",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/445492211"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 30,
      "original_line": 30,
      "side": "RIGHT"
    }
  ]
}