{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778",
    "id": 717784190,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NzE3Nzg0MTkw",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22778",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/22778.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/22778.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22778",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22778/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
    "number": 22778,
    "state": "closed",
    "locked": false,
    "maintainer_can_modify": false,
    "title": "net processing: Reduce resource usage for inbound block-relay-only connections",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "block-relay-only connections are additional outbound connections that bitcoind makes since v0.19. They participate in block relay, but do not propagate transactions or addresses. They were introduced in #15759.\r\n\r\nWhen creating an outbound block-relay-only connection, since we know that we're never going to announce transactions over that connection, we can save on memory usage by not a `TxRelay` data structure for that connection. When receiving an inbound connection, we don't know whether the connection was opened by the peer as block-relay-only or not, and therefore we always construct a `TxRelay` data structure for inbound connections.\r\n\r\nHowever, it is possible to tell whether an inbound connection will ever request that we start announcing transactions to it. The `fRelay` field in the `version` message may be set to `0` to indicate that the peer does not wish to receive transaction announcements. The peer may later request that we start announcing transactions to it by sending a `filterload` or `filterclear` message, **but only if we have offered `NODE_BLOOM` services to that peer**. `NODE_BLOOM` services are disabled by default, and it has been recommended for some time that users not enable `NODE_BLOOM` services on public connections, for privacy and anti-DoS reasons.\r\n\r\nTherefore, if we have not offered `NODE_BLOOM` to the peer _and_ it has set `fRelay` to `0`, then we know that it will never request transaction announcements, and that we can save resources by not initializing the `TxRelay` data structure.",
    "labels": [
      {
        "id": 98298007,
        "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
        "name": "P2P",
        "color": "006b75",
        "default": false
      },
      {
        "id": 1648013533,
        "node_id": "MDU6TGFiZWwxNjQ4MDEzNTMz",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Review%20club",
        "name": "Review club",
        "description": "",
        "color": "0052cc",
        "default": false
      }
    ],
    "created_at": "2021-08-23T12:20:15Z",
    "updated_at": "2022-06-08T18:41:12Z",
    "closed_at": "2022-05-19T08:27:39Z",
    "mergeable_state": "unknown",
    "merged_at": "2022-05-19T08:27:39Z",
    "merge_commit_sha": "986bae8e72481a46744e299432beeb4dffb64a9a",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "jnewbery:2021-02-tx-relay-init",
      "ref": "2021-02-tx-relay-init",
      "sha": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 68248485,
        "node_id": "MDEwOlJlcG9zaXRvcnk2ODI0ODQ4NQ==",
        "name": "bitcoin",
        "full_name": "jnewbery/bitcoin",
        "owner": {
          "login": "jnewbery",
          "id": 1063656,
          "node_id": "MDQ6VXNlcjEwNjM2NTY=",
          "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/jnewbery",
          "html_url": "https://github.com/jnewbery",
          "followers_url": "https://api.github.com/users/jnewbery/followers",
          "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
          "organizations_url": "https://api.github.com/users/jnewbery/orgs",
          "repos_url": "https://api.github.com/users/jnewbery/repos",
          "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/jnewbery/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/jnewbery/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/jnewbery/bitcoin",
        "archive_url": "https://api.github.com/repos/jnewbery/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/jnewbery/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/jnewbery/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/jnewbery/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/jnewbery/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/jnewbery/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/jnewbery/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/jnewbery/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/jnewbery/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/jnewbery/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/jnewbery/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/jnewbery/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/jnewbery/bitcoin/events",
        "forks_url": "https://api.github.com/repos/jnewbery/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/jnewbery/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/jnewbery/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/jnewbery/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/jnewbery/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/jnewbery/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/jnewbery/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/jnewbery/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/jnewbery/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/jnewbery/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/jnewbery/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/jnewbery/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/jnewbery/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/jnewbery/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/jnewbery/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/jnewbery/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:jnewbery/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/jnewbery/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/jnewbery/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/jnewbery/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/jnewbery/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/jnewbery/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/jnewbery/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/jnewbery/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/jnewbery/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/jnewbery/bitcoin/hooks",
        "svn_url": "https://github.com/jnewbery/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 4,
        "watchers_count": 4,
        "size": 219109,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-04-21T11:07:55Z",
        "created_at": "2016-09-14T22:29:05Z",
        "updated_at": "2021-07-06T16:23:27Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "002411dc53753b52fef645484258e8baf41585a1",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34324,
        "stargazers_count": 69819,
        "watchers_count": 69819,
        "size": 233879,
        "default_branch": "master",
        "open_issues_count": 627,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-07T05:35:10Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-06-07T04:47:18Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 143,
    "deletions": 101,
    "changed_files": 1,
    "commits": 4,
    "review_comments": 61,
    "comments": 33
  },
  "events": [
    {
      "event": "labeled",
      "id": 5194080089,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDUxOTQwODAwODk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5194080089",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-23T12:21:05Z",
      "label": {
        "name": "P2P",
        "color": "006b75"
      }
    },
    {
      "event": "reviewed",
      "id": 736105932,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NzM2MTA1OTMy",
      "url": null,
      "actor": null,
      "commit_id": "238ce0b02b1f7ac78c8c0466cef33628c6d49359",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#pullrequestreview-736105932",
      "submitted_at": "2021-08-23T13:15:24Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
    },
    {
      "event": "commented",
      "id": 903765978,
      "node_id": "IC_kwDOABII58413l_a",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/903765978",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-23T13:25:10Z",
      "updated_at": "2022-05-19T03:29:03Z",
      "author_association": "MEMBER",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#25156](https://github.com/bitcoin/bitcoin/pull/25156) (refactor: Introduce PeerManagerImpl::RejectIncomingTxs by MarcoFalke)\n* [#25144](https://github.com/bitcoin/bitcoin/pull/25144) (refactor: Pass Peer& to Misbehaving() by MarcoFalke)\n* [#24474](https://github.com/bitcoin/bitcoin/pull/24474) (Additional thread safety annotations for CNode/Peer by ajtowns)\n* [#21527](https://github.com/bitcoin/bitcoin/pull/21527) (net_processing: lock clean up by ajtowns)\n* [#21515](https://github.com/bitcoin/bitcoin/pull/21515) (Erlay: bandwidth-efficient transaction relay protocol by naumenkogs)\n* [#20726](https://github.com/bitcoin/bitcoin/pull/20726) (p2p: Add DISABLETX message for negotiating block-relay-only connections by sdaftuar)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#issuecomment-903765978",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22778"
    },
    {
      "event": "labeled",
      "id": 5195802914,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDUxOTU4MDI5MTQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5195802914",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-23T17:16:48Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5217289447,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NTIxNzI4OTQ0Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5217289447",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-27T08:33:51Z"
    },
    {
      "event": "commented",
      "id": 907031918,
      "node_id": "IC_kwDOABII5842EDVu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/907031918",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-27T08:37:56Z",
      "updated_at": "2021-08-27T08:37:56Z",
      "author_association": "MEMBER",
      "body": "I've pushed a new branch that simplifies the implementation a bit. I'd previously wanted to amalgamate the various mutexes and atomics in `Peer::TxRelay` as part of this PR, but it's easier to wait until #21527 to do that, otherwise there are all kinds of lock ordering/inversion issues to work around.",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#issuecomment-907031918",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22778"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5217335722,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NTIxNzMzNTcyMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5217335722",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-27T08:43:33Z"
    },
    {
      "event": "unlabeled",
      "id": 5217391406,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50NTIxNzM5MTQwNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5217391406",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-27T08:55:30Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5217634383,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NTIxNzYzNDM4Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5217634383",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-27T09:45:43Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5217703182,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NTIxNzcwMzE4Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5217703182",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-27T09:59:48Z"
    },
    {
      "event": "commented",
      "id": 907082695,
      "node_id": "IC_kwDOABII5842EPvH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/907082695",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-27T10:00:21Z",
      "updated_at": "2021-08-27T10:00:21Z",
      "author_association": "MEMBER",
      "body": "rebased",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#issuecomment-907082695",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22778"
    },
    {
      "event": "commented",
      "id": 910429435,
      "node_id": "IC_kwDOABII5842RAz7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/910429435",
      "actor": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-01T16:04:03Z",
      "updated_at": "2021-09-01T16:04:03Z",
      "author_association": "MEMBER",
      "body": "Concept ACK",
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#issuecomment-910429435",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22778"
    },
    {
      "event": "labeled",
      "id": 5260453468,
      "node_id": "LE_lADOABII5846O2vPzwAAAAE5jCZc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5260453468",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-06T10:58:09Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5355425908,
      "node_id": "HRFPE_lADOABII5846O2vPzwAAAAE_NVB0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5355425908",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-24T11:13:12Z"
    },
    {
      "event": "commented",
      "id": 926544378,
      "node_id": "IC_kwDOABII5843OfH6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/926544378",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-24T11:13:26Z",
      "updated_at": "2021-09-24T11:13:37Z",
      "author_association": "MEMBER",
      "body": "Rebased on the latest #21160",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#issuecomment-926544378",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22778"
    },
    {
      "event": "unlabeled",
      "id": 5355567564,
      "node_id": "UNLE_lADOABII5846O2vPzwAAAAE_N3nM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5355567564",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-24T11:44:39Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 930958812,
      "node_id": "IC_kwDOABII5843fU3c",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/930958812",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-30T07:49:24Z",
      "updated_at": "2021-09-30T07:49:24Z",
      "author_association": "MEMBER",
      "body": "Some rough estimates on how much this will save:\r\n\r\n```\r\n(gdb) p sizeof(CNode::TxRelay)\r\n$1 = 152\r\n```\r\n\r\nAssuming 50 incoming connections and 20% of them being block-only, that makes 10 peers will benefit from this. 152 bytes each, so 1520 bytes will be saved.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#issuecomment-930958812",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22778"
    },
    {
      "event": "commented",
      "id": 930996031,
      "node_id": "IC_kwDOABII5843fd8_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/930996031",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-30T08:11:50Z",
      "updated_at": "2021-09-30T08:11:50Z",
      "author_association": "MEMBER",
      "body": "> Some rough estimates on how much this will save...\r\n\r\n@vasild This seems completely wrong. `TxRelay` contains a CRollingBloomFilter parametrized by `{50000, 0.000001}`. According to this code comment:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/419afa93419e6840f78cb94b4a39d826eb10e139/src/bloom.h#L94-L98\r\n\r\nthe storage requirement for just that rolling bloom filter is ~1.8 * 50,000 * 6 = 540kB",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#issuecomment-930996031",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22778"
    },
    {
      "event": "mentioned",
      "id": 5385828901,
      "node_id": "MEE_lADOABII5846O2vPzwAAAAFBBTol",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5385828901",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-30T08:11:50Z"
    },
    {
      "event": "subscribed",
      "id": 5385828905,
      "node_id": "SE_lADOABII5846O2vPzwAAAAFBBTop",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5385828905",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-30T08:11:50Z"
    },
    {
      "event": "reviewed",
      "id": 767644909,
      "node_id": "PRR_kwDOABII584twVTt",
      "url": null,
      "actor": null,
      "commit_id": "48c896ee7fa504690f15dea7c6c61797500c1add",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#pullrequestreview-767644909",
      "submitted_at": "2021-09-30T09:53:27Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
    },
    {
      "event": "commented",
      "id": 931172782,
      "node_id": "IC_kwDOABII5843gJGu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/931172782",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-30T09:56:48Z",
      "updated_at": "2021-09-30T09:56:48Z",
      "author_association": "MEMBER",
      "body": "Well, I said \"rough\", but did not mean _that_ rough. Somehow I wrongly assumed that none of the constructors allocate extra memory from the heap :disappointed:. Now I checked that `CRollingBloomFilter{50000, 0.000001}` creates and fills a vector of 67'396 `uint64_t` elements, or 539'168 bytes. For 10 peers that would save ~5MB.\r\n\r\nI wonder if it would make sense to delay the creation of `CRollingBloomFilter::data` until it is actually needed (e.g. create it in the first insert, rather than in the constructor, would be changes isolated solely inside `CRollingBloomFilter`). `CRollingBloomFilter` is also used here:\r\n\r\n* `BanMan::m_discouraged`, would benefit from lazy creation because we may never ban anybody, but is just one filter per program instance.\r\n* `Peer::m_addr_known`, looks like if created then it will be certainly used, one per peer.\r\n* `PeerManagerImpl::m_recent_rejects` and `PeerManagerImpl::m_recent_confirmed_transactions`, likely to be used, one per program instance.\r\n* `CNodeState::m_recently_announced_invs`, would benefit like `CNode::TxRelay::filterInventoryKnown`, one per peer.\r\n\r\nMaybe only `CNodeState::m_recently_announced_invs` is worth considering?",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#issuecomment-931172782",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22778"
    },
    {
      "event": "reviewed",
      "id": 767648820,
      "node_id": "PRR_kwDOABII584twWQ0",
      "url": null,
      "actor": null,
      "commit_id": "48c896ee7fa504690f15dea7c6c61797500c1add",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#pullrequestreview-767648820",
      "submitted_at": "2021-09-30T09:57:08Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
    },
    {
      "event": "reviewed",
      "id": 767650419,
      "node_id": "PRR_kwDOABII584twWpz",
      "url": null,
      "actor": null,
      "commit_id": "48c896ee7fa504690f15dea7c6c61797500c1add",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#pullrequestreview-767650419",
      "submitted_at": "2021-09-30T09:58:41Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
    },
    {
      "event": "reviewed",
      "id": 767665482,
      "node_id": "PRR_kwDOABII584twaVK",
      "url": null,
      "actor": null,
      "commit_id": "bb89747af06ab39ce8ed7b595535f43129741541",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#pullrequestreview-767665482",
      "submitted_at": "2021-09-30T10:13:45Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
    },
    {
      "event": "commented",
      "id": 932108560,
      "node_id": "IC_kwDOABII5843jtkQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/932108560",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-01T10:24:19Z",
      "updated_at": "2021-10-01T10:24:19Z",
      "author_association": "MEMBER",
      "body": "> @vasild  e.g. create it in the first insert, rather than in the constructor\r\n\r\nSee discussion at https://github.com/bitcoin/bitcoin/pull/22778#discussion_r693960652",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#issuecomment-932108560",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22778"
    },
    {
      "event": "mentioned",
      "id": 5393448364,
      "node_id": "MEE_lADOABII5846O2vPzwAAAAFBeX2s",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5393448364",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-01T10:24:19Z"
    },
    {
      "event": "subscribed",
      "id": 5393448371,
      "node_id": "SE_lADOABII5846O2vPzwAAAAFBeX2z",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5393448371",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-01T10:24:19Z"
    },
    {
      "event": "reviewed",
      "id": 773710857,
      "node_id": "PRR_kwDOABII584uHeQJ",
      "url": null,
      "actor": null,
      "commit_id": "bb89747af06ab39ce8ed7b595535f43129741541",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#pullrequestreview-773710857",
      "submitted_at": "2021-10-07T10:13:51Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5429702867,
      "node_id": "HRFPE_lADOABII5846O2vPzwAAAAFDorDT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5429702867",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-07T16:22:31Z"
    },
    {
      "event": "commented",
      "id": 937954634,
      "node_id": "IC_kwDOABII58436A1K",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/937954634",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-07T16:25:09Z",
      "updated_at": "2021-10-07T16:25:09Z",
      "author_association": "MEMBER",
      "body": "Thanks for the reviews @naumenkogs and @vasild. I believe I've addressed all of your review comments.",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#issuecomment-937954634",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22778"
    },
    {
      "event": "mentioned",
      "id": 5429718977,
      "node_id": "MEE_lADOABII5846O2vPzwAAAAFDou_B",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5429718977",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-07T16:25:10Z"
    },
    {
      "event": "subscribed",
      "id": 5429718982,
      "node_id": "SE_lADOABII5846O2vPzwAAAAFDou_G",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5429718982",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-07T16:25:10Z"
    },
    {
      "event": "mentioned",
      "id": 5429718989,
      "node_id": "MEE_lADOABII5846O2vPzwAAAAFDou_N",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5429718989",
      "actor": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-07T16:25:10Z"
    },
    {
      "event": "subscribed",
      "id": 5429718990,
      "node_id": "SE_lADOABII5846O2vPzwAAAAFDou_O",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5429718990",
      "actor": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-07T16:25:10Z"
    },
    {
      "event": "commented",
      "id": 938450206,
      "node_id": "IC_kwDOABII5843750e",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/938450206",
      "actor": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-08T08:30:15Z",
      "updated_at": "2021-10-08T08:30:15Z",
      "author_association": "MEMBER",
      "body": "ACK 7ef58ab5ca3e0652442eaf56c5c91ce192df324a",
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#issuecomment-938450206",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22778"
    },
    {
      "event": "labeled",
      "id": 5504285336,
      "node_id": "LE_lADOABII5846O2vPzwAAAAFIFLqY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5504285336",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-22T11:30:08Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 949631654,
      "node_id": "IC_kwDOABII5844mjqm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/949631654",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-22T13:27:17Z",
      "updated_at": "2021-10-22T13:27:17Z",
      "author_association": "MEMBER",
      "body": "This PR includes #21160. The extra commits that this PR includes, on top of #21160, look good to me. I have some [reservations for #21160](https://github.com/bitcoin/bitcoin/pull/21160#pullrequestreview-733743042), so I skip ACKing this one too.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#issuecomment-949631654",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22778"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5504905441,
      "node_id": "HRFPE_lADOABII5846O2vPzwAAAAFIHjDh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5504905441",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-22T13:29:10Z"
    },
    {
      "event": "commented",
      "id": 949633314,
      "node_id": "IC_kwDOABII5844mkEi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/949633314",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-22T13:29:17Z",
      "updated_at": "2021-10-22T13:29:17Z",
      "author_association": "MEMBER",
      "body": "Rebased on master",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#issuecomment-949633314",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22778"
    },
    {
      "event": "unlabeled",
      "id": 5504941044,
      "node_id": "UNLE_lADOABII5846O2vPzwAAAAFIHrv0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5504941044",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-22T13:35:26Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 5505737747,
      "node_id": "LE_lADOABII5846O2vPzwAAAAFIKuQT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5505737747",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-22T15:44:51Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5506084750,
      "node_id": "HRFPE_lADOABII5846O2vPzwAAAAFIMC-O",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5506084750",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-22T16:51:24Z"
    },
    {
      "event": "commented",
      "id": 949802803,
      "node_id": "IC_kwDOABII5844nNcz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/949802803",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-22T16:51:34Z",
      "updated_at": "2021-10-22T16:51:34Z",
      "author_association": "MEMBER",
      "body": "rebased",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#issuecomment-949802803",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22778"
    },
    {
      "event": "unlabeled",
      "id": 5506349298,
      "node_id": "UNLE_lADOABII5846O2vPzwAAAAFINDjy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5506349298",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-22T17:49:36Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 5698185453,
      "node_id": "LE_lADOABII5846O2vPzwAAAAFTo2jt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5698185453",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-01T11:04:20Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5698981243,
      "node_id": "HRFPE_lADOABII5846O2vPzwAAAAFTr417",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5698981243",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-01T13:23:07Z"
    },
    {
      "event": "commented",
      "id": 983659479,
      "node_id": "IC_kwDOABII5846oXPX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/983659479",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-01T13:50:07Z",
      "updated_at": "2021-12-01T13:50:07Z",
      "author_association": "MEMBER",
      "body": "rebased",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#issuecomment-983659479",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22778"
    },
    {
      "event": "unlabeled",
      "id": 5699410384,
      "node_id": "UNLE_lADOABII5846O2vPzwAAAAFTthnQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5699410384",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-01T14:28:23Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 5746618250,
      "node_id": "LE_lADOABII5846O2vPzwAAAAFWhm-K",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5746618250",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-10T09:54:19Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 999461111,
      "node_id": "IC_kwDOABII5847kpD3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/999461111",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-22T10:24:53Z",
      "updated_at": "2021-12-22T10:24:53Z",
      "author_association": "MEMBER",
      "body": "rebased",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#issuecomment-999461111",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22778"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5803925241,
      "node_id": "HRFPE_lADOABII5846O2vPzwAAAAFZ8N75",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5803925241",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-22T10:25:04Z"
    },
    {
      "event": "unlabeled",
      "id": 5804293378,
      "node_id": "UNLE_lADOABII5846O2vPzwAAAAFZ9n0C",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5804293378",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-22T11:41:52Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "convert_to_draft",
      "id": 5808548717,
      "node_id": "CTDE_lADOABII5846O2vPzwAAAAFaN2tt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5808548717",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-23T08:16:06Z"
    },
    {
      "event": "labeled",
      "id": 5852480748,
      "node_id": "LE_lADOABII5846O2vPzwAAAAFc1cTs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5852480748",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-01-06T14:13:49Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 847208700,
      "node_id": "PRR_kwDOABII584yf2D8",
      "url": null,
      "actor": null,
      "commit_id": "61fea1335287bf6ee9fd4ce521d5d17138cb99fd",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#pullrequestreview-847208700",
      "submitted_at": "2022-01-09T02:22:02Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6002446663,
      "node_id": "HRFPE_lADOABII5846O2vPzwAAAAFlxhFH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6002446663",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-02-03T12:34:43Z"
    },
    {
      "event": "unlabeled",
      "id": 6003008584,
      "node_id": "UNLE_lADOABII5846O2vPzwAAAAFlzqRI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6003008584",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-02-03T14:04:57Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 6008035497,
      "node_id": "LE_lADOABII5846O2vPzwAAAAFmG1ip",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6008035497",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-02-04T09:00:18Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6012491766,
      "node_id": "HRFPE_lADOABII5846O2vPzwAAAAFmX1f2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6012491766",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-02-04T23:08:04Z"
    },
    {
      "event": "unlabeled",
      "id": 6012581627,
      "node_id": "UNLE_lADOABII5846O2vPzwAAAAFmYLb7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6012581627",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-02-04T23:42:33Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 6192893660,
      "node_id": "LE_lADOABII5846O2vPzwAAAAFxIA7c",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6192893660",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-07T08:24:07Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6308957348,
      "node_id": "HRFPE_lADOABII5846O2vPzwAAAAF4Cwyk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6308957348",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-25T17:41:21Z"
    },
    {
      "event": "commented",
      "id": 1079261796,
      "node_id": "IC_kwDOABII585AVDpk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1079261796",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-25T17:48:20Z",
      "updated_at": "2022-03-25T17:48:20Z",
      "author_association": "MEMBER",
      "body": "Rebased now that #21160 has been merged. I haven't addressed @mzumsande's comment https://github.com/bitcoin/bitcoin/pull/22778#discussion_r780726527 yet, so leaving in draft.",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#issuecomment-1079261796",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22778"
    },
    {
      "event": "mentioned",
      "id": 6308994808,
      "node_id": "MEE_lADOABII5846O2vPzwAAAAF4C574",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6308994808",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-25T17:48:20Z"
    },
    {
      "event": "subscribed",
      "id": 6308994817,
      "node_id": "SE_lADOABII5846O2vPzwAAAAF4C58B",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6308994817",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-25T17:48:20Z"
    },
    {
      "event": "unlabeled",
      "id": 6309570542,
      "node_id": "UNLE_lADOABII5846O2vPzwAAAAF4FGfu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6309570542",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-25T19:23:02Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 6332849118,
      "node_id": "LE_lADOABII5846O2vPzwAAAAF5d5ve",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6332849118",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-30T08:07:47Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6333364484,
      "node_id": "HRFPE_lADOABII5846O2vPzwAAAAF5f3kE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6333364484",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-30T09:12:11Z"
    },
    {
      "event": "ready_for_review",
      "id": 6333383918,
      "node_id": "RFRE_lADOABII5846O2vPzwAAAAF5f8Tu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6333383918",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-30T09:14:54Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6333398230,
      "node_id": "HRFPE_lADOABII5846O2vPzwAAAAF5f_zW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6333398230",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-30T09:16:54Z"
    },
    {
      "event": "commented",
      "id": 1082831424,
      "node_id": "IC_kwDOABII585AirJA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1082831424",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-30T09:20:27Z",
      "updated_at": "2022-03-30T09:20:27Z",
      "author_association": "MEMBER",
      "body": "Thanks for the review @mzumsande. I've responded to your review comment. Let m know what you think.\r\n\r\nI've also marked this as ready for review.\r\n\r\nNote the behaviour change for `feefilter` messages. With the current branch, for a peer that indicates that they don't want us to relay messages with fRelay=false in the `version` message, we will no longer send `feefilter` messages. I think that's fine, but it can easily be changed by pulling the `m_fee_filter_sent` and `m_next_send_feefilter` members out of `Peer::TxRelay` and into `Peer`. That makes sense since all other members of `TxRelay` are concerned with relaying transactions _to_ the peer, and those two members are concerned with receiving transactions _from_ the peer, so they don't really belong int `TxRelay`.",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#issuecomment-1082831424",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22778"
    },
    {
      "event": "mentioned",
      "id": 6333423043,
      "node_id": "MEE_lADOABII5846O2vPzwAAAAF5gF3D",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6333423043",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-30T09:20:27Z"
    },
    {
      "event": "subscribed",
      "id": 6333423053,
      "node_id": "SE_lADOABII5846O2vPzwAAAAF5gF3N",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6333423053",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-30T09:20:27Z"
    },
    {
      "event": "reviewed",
      "id": 925833038,
      "node_id": "PRR_kwDOABII5843LxdO",
      "url": null,
      "actor": null,
      "commit_id": "a23d716a7b62bce9b1c83359e0d82890df1b0b26",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#pullrequestreview-925833038",
      "submitted_at": "2022-03-30T09:40:35Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6333648047,
      "node_id": "HRFPE_lADOABII5846O2vPzwAAAAF5g8yv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6333648047",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-30T09:50:52Z"
    },
    {
      "event": "unlabeled",
      "id": 6333816774,
      "node_id": "UNLE_lADOABII5846O2vPzwAAAAF5hl_G",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6333816774",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-30T10:14:30Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6333832254,
      "node_id": "HRFPE_lADOABII5846O2vPzwAAAAF5hpw-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6333832254",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-30T10:16:45Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6341509175,
      "node_id": "HRFPE_lADOABII5846O2vPzwAAAAF5-8A3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6341509175",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-31T07:46:32Z"
    },
    {
      "event": "commented",
      "id": 1084218129,
      "node_id": "IC_kwDOABII585An9sR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1084218129",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-31T07:47:21Z",
      "updated_at": "2022-03-31T07:47:21Z",
      "author_association": "MEMBER",
      "body": "Rebased now that #24714 has been merged. I've also added a setter method for Peer.m_tx_relay and made the member variable private.",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#issuecomment-1084218129",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22778"
    },
    {
      "event": "reviewed",
      "id": 948234553,
      "node_id": "PRR_kwDOABII5844hOk5",
      "url": null,
      "actor": null,
      "commit_id": "d5c191806f81af686eff80afa99d4a63053ee2fa",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK\r\n\r\nI think moving `m_fee_filter_sent` and `m_next_send_feefilter` out of `TxRelay` as you mentioned in https://github.com/bitcoin/bitcoin/pull/22778#issuecomment-1082831424 would be good and probably the right change. To me, a PR that only introduced the behavior change for feefilter messages would seem unnecessary, so i am leaning more twoards not introducing the change here. A peer that sends `fRelay=false` could still send us transactions, why should we not let them know what our min fee is? ",
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#pullrequestreview-948234553",
      "submitted_at": "2022-04-21T09:31:32Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6497784823,
      "node_id": "HRFPE_lADOABII5846O2vPzwAAAAGDTFP3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6497784823",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-26T10:58:57Z"
    },
    {
      "event": "commented",
      "id": 1109656524,
      "node_id": "IC_kwDOABII585CJAPM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1109656524",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-26T11:01:51Z",
      "updated_at": "2022-04-26T11:01:51Z",
      "author_association": "MEMBER",
      "body": "> I think moving m_fee_filter_sent and m_next_send_feefilter out of TxRelay as you mentioned in https://github.com/bitcoin/bitcoin/pull/22778#issuecomment-1082831424 would be good and probably the right change. To me, a PR that only introduced the behavior change for feefilter messages would seem unnecessary, so i am leaning more twoards not introducing the change here. A peer that sends fRelay=false could still send us transactions, why should we not let them know what our min fee is?\r\n\r\nok, updated this PR to move those fields out of the TxRelay struct. This PR should not change the feefilter behaviour for inbound or outbound block-relay-only peers.",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#issuecomment-1109656524",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22778"
    },
    {
      "event": "reviewed",
      "id": 953267723,
      "node_id": "PRR_kwDOABII58440bYL",
      "url": null,
      "actor": null,
      "commit_id": "ee135a2a67b96024b66b094d28f9ab3ec6d634be",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Code review ACK ee135a2a67b96024b66b094d28f9ab3ec6d634be",
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#pullrequestreview-953267723",
      "submitted_at": "2022-04-26T14:13:19Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6520908468,
      "node_id": "HRFPE_lADOABII5846O2vPzwAAAAGErSq0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6520908468",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-29T07:49:44Z"
    },
    {
      "event": "commented",
      "id": 1113166779,
      "node_id": "IC_kwDOABII585CWZO7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1113166779",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-29T10:48:22Z",
      "updated_at": "2022-04-29T10:48:22Z",
      "author_association": "MEMBER",
      "body": "Code review ACK 4bebd4c72c9328ec6dc7ef5d8d1dd7b53d73fa22\r\n\r\nOnly change since i last reviewed was fixing a typo.",
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#issuecomment-1113166779",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22778"
    },
    {
      "event": "reviewed",
      "id": 970454110,
      "node_id": "PRR_kwDOABII58451_Re",
      "url": null,
      "actor": null,
      "commit_id": "b3d761231475f3971dfe7f774ea3ab572b9ef26c",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#pullrequestreview-970454110",
      "submitted_at": "2022-05-12T08:25:54Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
    },
    {
      "event": "reviewed",
      "id": 970493484,
      "node_id": "PRR_kwDOABII58452I4s",
      "url": null,
      "actor": null,
      "commit_id": "4bebd4c72c9328ec6dc7ef5d8d1dd7b53d73fa22",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#pullrequestreview-970493484",
      "submitted_at": "2022-05-12T08:54:10Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
    },
    {
      "event": "commented",
      "id": 1124711567,
      "node_id": "IC_kwDOABII585DCbyP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1124711567",
      "actor": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-12T08:55:55Z",
      "updated_at": "2022-05-12T08:55:55Z",
      "author_association": "MEMBER",
      "body": "Code review ACK 4bebd4c72c9328ec6dc7ef5d8d1dd7b53d73fa22\r\n\r\n------\r\nThere seem to be a mistake in the commit message of the latter commit. It should say \"fRelay=true OR we're offering\", as opposed to \"fRelay=true OR we're not offering\". The same comment in the codebase is correct.\r\n\r\n\r\n```\r\nWe only initialize the m_tx_relay\r\ndata structure if:\r\n\r\n- this isn't an outbound block-relay-only connection; AND\r\n- fRelay=true OR we're not offering NODE_BLOOM to this peer\r\n  (NODE_BLOOM means that the peer may turn on tx relay later)\r\n  ```",
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#issuecomment-1124711567",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22778"
    },
    {
      "event": "commented",
      "id": 1127025027,
      "node_id": "IC_kwDOABII585DLQmD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1127025027",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-15T20:45:44Z",
      "updated_at": "2022-05-15T20:45:44Z",
      "author_association": "MEMBER",
      "body": "> There seem to be a mistake in the commit message of the latter commit. It should say \"fRelay=true OR we're offering\", as opposed to \"fRelay=true OR we're not offering\". \r\n\r\nGood catch. Thanks! I've fixed the commit.\r\n\r\nAlso rebased on latest master.",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#issuecomment-1127025027",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22778"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6611832637,
      "node_id": "HRFPE_lADOABII5846O2vPzwAAAAGKGI89",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6611832637",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-15T20:46:02Z"
    },
    {
      "event": "commented",
      "id": 1127219937,
      "node_id": "IC_kwDOABII585DMALh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1127219937",
      "actor": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-16T04:54:18Z",
      "updated_at": "2022-05-16T04:54:18Z",
      "author_association": "MEMBER",
      "body": "reACK c4455b7d86b782b7c010857e04be5a73dd1dbb43",
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#issuecomment-1127219937",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22778"
    },
    {
      "event": "reviewed",
      "id": 975352984,
      "node_id": "PRR_kwDOABII5846IrSY",
      "url": null,
      "actor": null,
      "commit_id": "c4455b7d86b782b7c010857e04be5a73dd1dbb43",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "looking good. review ACK c4455b7d86b782b7c010857e04be5a73dd1dbb43, some doc feedback 🚓\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nlooking good. review ACK c4455b7d86b782b7c010857e04be5a73dd1dbb43, some doc feedback 🚓\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\r\npUhgTQv9EW6RubZe9M3V45udjFTMx1NNg/Chg5MNKvi5Old75iobKOtqJ+4mrgAx\r\nlBNIwRaJaW8JLuf173YQyQqWYcwcGJnbmN7xStR7OSJ7a0Z8LBSBab30yOGHhspy\r\neAV9vJSxzdgq7flinRA1rJe1CR8zupDqGgMbAWdqsWo+HyQcdiM2HAy5QINRCw3Y\r\nykENjyjQFytzEBub9GFBrwe95hrJGvQhNO4ewazNvecZtTf0gllq/PM5MUANb+Av\r\nJ9nzFORGRBmAb2d/7ARIGGGwC1qA6I4vsk0DaWH8MfbGwIcA+GnbUuZW+aSh2al9\r\nPrk7r1aUY+BczUcb5WqzoS4NRVF7x6MGdrY9FJBoXYrow/SNIPF3iTjuFJ8NSgD2\r\n7v9liK6adx2g8Jz7MO5+UjgrDXXDEAKLvz68mSaVktZghpjWQbKdqo9v/oi6INni\r\nnoBAcGDMNmGg+hg9lGmjmRmHvc1z6Kj15qmqDtDP4+Vl82vpbOHFwotynkc6qMAM\r\nnMIbay5Q\r\n=JQJR\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\n\r\n</details>\r\n",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#pullrequestreview-975352984",
      "submitted_at": "2022-05-17T15:46:38Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
    },
    {
      "event": "reviewed",
      "id": 975780447,
      "node_id": "PRR_kwDOABII5846KTpf",
      "url": null,
      "actor": null,
      "commit_id": "c4455b7d86b782b7c010857e04be5a73dd1dbb43",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#pullrequestreview-975780447",
      "submitted_at": "2022-05-17T16:29:57Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6633007325,
      "node_id": "HRFPE_lADOABII5846O2vPzwAAAAGLW6jd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6633007325",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-18T14:34:22Z"
    },
    {
      "event": "commented",
      "id": 1130098084,
      "node_id": "IC_kwDOABII585DW-2k",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1130098084",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-18T14:34:37Z",
      "updated_at": "2022-05-18T14:34:37Z",
      "author_association": "MEMBER",
      "body": "Thanks for the review @MarcoFalke. All review comments have been addressed.",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#issuecomment-1130098084",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22778"
    },
    {
      "event": "mentioned",
      "id": 6633009399,
      "node_id": "MEE_lADOABII5846O2vPzwAAAAGLW7D3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6633009399",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-18T14:34:37Z"
    },
    {
      "event": "subscribed",
      "id": 6633009418,
      "node_id": "SE_lADOABII5846O2vPzwAAAAGLW7EK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6633009418",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-18T14:34:37Z"
    },
    {
      "event": "commented",
      "id": 1130116204,
      "node_id": "IC_kwDOABII585DXDRs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1130116204",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-18T14:50:29Z",
      "updated_at": "2022-05-18T14:50:29Z",
      "author_association": "MEMBER",
      "body": "You did the rebase on the wrong machine. The typo from https://github.com/bitcoin/bitcoin/pull/22778#issuecomment-1124711567 is back again.\r\n\r\n\r\n\r\n\r\nreview ACK edf29446658ee9105b6451573687dc74a92604b9 💎\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nreview ACK edf29446658ee9105b6451573687dc74a92604b9 💎\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\r\npUiqcQv+NNN0jFiVXfsQikTdVkZEyp8Re02fU5bsk1AYZlB45koiyFQehpyC87wS\r\ne9vTQpGGy3lu3JoYNjuIeJSC07MPTy8anqunZ2tHfe0xz9XCksqqml4DiFWHhPIr\r\ntLnRxuamaBUy3VzDZN1hulLsG2JI/NB4TuxTEkZOjesiPqiAep79ugKCvm7828At\r\nEYyS/NVO7uQq2x0li/1KFtzRbC9wG/32AkNYMa7je+dlMkrE8InHcLqhCpQp2c89\r\n8dhmUfKMYcxock8yTaQQH6iqEH9vxSBYccLHd9rOpDCrxYcQW39u/EPom4Esqvna\r\nO48dF3aV+lS/ztEB0qH5TtE9p9AdTPZaUw2lHwTzcZ4VgKgD2IyJzemA6a4Wnao/\r\nymBpWk9RJoToBpKUelqMrkrLhXneIDAtAO28aiAAi0SuNsBxIbLLgweYUemom11L\r\nP/78PSLAEe3QvVpubDPULGXR2JMueWkcHYy09/TT4s44J4DnD/bUF4mpy6vz3fI9\r\nZuJzQdNA\r\n=3z05\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\n\r\n</details>\r\n",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#issuecomment-1130116204",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22778"
    },
    {
      "event": "reviewed",
      "id": 977115394,
      "node_id": "PRR_kwDOABII5846PZkC",
      "url": null,
      "actor": null,
      "commit_id": "edf29446658ee9105b6451573687dc74a92604b9",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#pullrequestreview-977115394",
      "submitted_at": "2022-05-18T14:52:23Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQyZTMyNTA0OTdiMDM0NzhkNjFjZDZiZmU2Y2Q5MDRkZTczZDU3YjE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/42e3250497b03478d61cd6bfe6cd904de73d57b1",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/42e3250497b03478d61cd6bfe6cd904de73d57b1",
      "tree": {
        "sha": "69cfc25531de9a00ce50c4a78221c7dff3bb7c94",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/69cfc25531de9a00ce50c4a78221c7dff3bb7c94"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b74a6dde8cf50703a8814d402333580e4cdfea59",
          "sha": "b74a6dde8cf50703a8814d402333580e4cdfea59",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b74a6dde8cf50703a8814d402333580e4cdfea59"
        }
      ],
      "message": "[net processing] [refactor] Move m_next_send_feefilter and m_fee_filter_sent\n\nMove m_next_send_feefilter and m_fee_filter_sent out of the `TxRelay`\ndata structure. All of the other members of `TxRelay` are related to\nsending transactions _to_ the peer, whereas m_fee_filter_sent and\nm_next_send_feefilter are both related to receiving transactions _from_\nthe peer. A node's tx relay behaviour is not always symmetrical (eg a\nblocksonly node will ignore incoming transactions, but may still send\nout its own transactions), so it doesn't make sense to group the\nfeefilter sending data with the TxRelay data in a single structure.\n\nThis does not change behaviour, since IsBlockOnlyConn() is always equal\nto !peer.m_tx_relay. We still don't send feefilter messages to outbound\nblock-relay-only peers (tested in p2p_feefilter.py).",
      "committer": {
        "name": "John Newbery",
        "email": "john@johnnewbery.com",
        "date": "2022-05-18T16:01:37Z"
      },
      "author": {
        "name": "John Newbery",
        "email": "john@johnnewbery.com",
        "date": "2022-04-26T10:50:54Z"
      },
      "sha": "42e3250497b03478d61cd6bfe6cd904de73d57b1"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDI5MGE4ZGFiMDI4ODM0NGZhNTczMWVjMmZmZDA5NDc4ZTk0MjBhMmY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/290a8dab0288344fa5731ec2ffd09478e9420a2f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/290a8dab0288344fa5731ec2ffd09478e9420a2f",
      "tree": {
        "sha": "7e9be7d19b69a9ce880bbd27951c9d7a2722ca25",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7e9be7d19b69a9ce880bbd27951c9d7a2722ca25"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/42e3250497b03478d61cd6bfe6cd904de73d57b1",
          "sha": "42e3250497b03478d61cd6bfe6cd904de73d57b1",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/42e3250497b03478d61cd6bfe6cd904de73d57b1"
        }
      ],
      "message": "[net processing] Comment all TxRelay members\n\nThis fully comments all the TxRelay members. The only significant change\nis to the comment for m_relay_txs. Previously the comment stated that\none of the purposes of the field was that \"We don't relay tx invs before\nreceiving the peer's version message\". However, even without the\nm_relay_txs flag, we would not send transactions to the peer before\nreceiving the `version` message, since SendMessages() returns\nimmediately if fSuccessfullyConnected is not set to true, which only\nhappens once a `version` and `verack` message have been received.",
      "committer": {
        "name": "John Newbery",
        "email": "john@johnnewbery.com",
        "date": "2022-05-18T16:02:11Z"
      },
      "author": {
        "name": "John Newbery",
        "email": "john@johnnewbery.com",
        "date": "2021-08-16T12:49:50Z"
      },
      "sha": "290a8dab0288344fa5731ec2ffd09478e9420a2f"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGIwYTRhYzljMjZmNjBmZDQ5OTNkODlmNDVjYWZmZmFhMzg5ZGIyZDQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b0a4ac9c26f60fd4993d89f45cafffaa389db2d4",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b0a4ac9c26f60fd4993d89f45cafffaa389db2d4",
      "tree": {
        "sha": "c8718ddc4aadd8ef4014f86a28f69fa5f86bbc4c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c8718ddc4aadd8ef4014f86a28f69fa5f86bbc4c"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/290a8dab0288344fa5731ec2ffd09478e9420a2f",
          "sha": "290a8dab0288344fa5731ec2ffd09478e9420a2f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/290a8dab0288344fa5731ec2ffd09478e9420a2f"
        }
      ],
      "message": "[net processing] Add m_tx_relay_mutex to protect m_tx_relay ptr",
      "committer": {
        "name": "John Newbery",
        "email": "john@johnnewbery.com",
        "date": "2022-05-18T16:02:23Z"
      },
      "author": {
        "name": "John Newbery",
        "email": "john@johnnewbery.com",
        "date": "2021-08-27T08:28:02Z"
      },
      "sha": "b0a4ac9c26f60fd4993d89f45cafffaa389db2d4"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDlkYjgyZjFiY2EwYmI1MWMyMTgwY2E0YTRhZDYzYmE0OTBlNzlkYTQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "tree": {
        "sha": "05b2db770be69d70c1a99819126006c43a5ce971",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/05b2db770be69d70c1a99819126006c43a5ce971"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b0a4ac9c26f60fd4993d89f45cafffaa389db2d4",
          "sha": "b0a4ac9c26f60fd4993d89f45cafffaa389db2d4",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b0a4ac9c26f60fd4993d89f45cafffaa389db2d4"
        }
      ],
      "message": "[net processing] Don't initialize TxRelay for non-tx-relay peers.\n\nDelay initializing the TxRelay data structure for a peer until we receive\na version message from that peer. At that point we'll know whether it\nwill ever relay transactions. We only initialize the m_tx_relay\ndata structure if:\n\n- this isn't an outbound block-relay-only connection; AND\n- fRelay=true OR we're offering NODE_BLOOM to this peer\n  (NODE_BLOOM means that the peer may turn on tx relay later)",
      "committer": {
        "name": "John Newbery",
        "email": "john@johnnewbery.com",
        "date": "2022-05-18T16:08:24Z"
      },
      "author": {
        "name": "John Newbery",
        "email": "john@johnnewbery.com",
        "date": "2021-02-06T00:50:46Z"
      },
      "sha": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4"
    },
    {
      "event": "commented",
      "id": 1130236188,
      "node_id": "IC_kwDOABII585DXgkc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1130236188",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-18T16:32:34Z",
      "updated_at": "2022-05-18T16:32:34Z",
      "author_association": "MEMBER",
      "body": "> You did the rebase on the wrong machine. The typo from https://github.com/bitcoin/bitcoin/pull/22778#issuecomment-1124711567 is back again.\r\n\r\n:man_facepalming: Thanks. Fixed.",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#issuecomment-1130236188",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22778"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6633938668,
      "node_id": "HRFPE_lADOABII5846O2vPzwAAAAGLad7s",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6633938668",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-18T16:32:37Z"
    },
    {
      "event": "commented",
      "id": 1130272723,
      "node_id": "IC_kwDOABII585DXpfT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1130272723",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-18T17:12:43Z",
      "updated_at": "2022-05-18T17:12:43Z",
      "author_association": "MEMBER",
      "body": "review ACK 9db82f1bca0bb51c2180ca4a4ad63ba490e79da4 🖖\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nreview ACK 9db82f1bca0bb51c2180ca4a4ad63ba490e79da4 🖖\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\r\npUia8gv/Y52Be4OmX6OF+MVJkvO5yvf1pgfk+5UrMwxwRHD+JPU/j09OSlRh9Iqh\r\nVQfCIISSQgLbmxXuOODYgIPxK3WDkTBSH1zTNZWxfcODcXr539kTsJMq0Uh40TbI\r\nhPIR+BrUJ+NTW1zQOJtMJeUHPsWTuomqbqYJ6iX360WnUE5D/mi/m2rBaOaq97De\r\nXDb059Ww4NgYmQVJJk3xbqiNskVG/sZkW78W0676+Gum+awt0+XK5aJTH/rFHAio\r\nuDmpAPPGMfnxcNnOi3rj0d/nI/lEBYX1+/0hlnhOZI6y2ordKokRe7ePDSok1MgK\r\npiRGIPbmHzptjnVWvBFybTN7k+zlMBmouG498mmwS2HAw/EaNE+WV0gK1JHycnj5\r\n538RWYKG/qaKc8dPHFjvCnV2QXhmfcoADYnPGmvqVqdS40aAT77upwDd3KB3PYm5\r\n0Jm22Y+CbqT1y6NdUIV0YPVKrjylNrls6FMN/RnBcVNna/iWvR+UBI/sF3pMQiz+\r\ni/LQZkTg\r\n=/JFT\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\n\r\n</details>\r\n",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#issuecomment-1130272723",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22778"
    },
    {
      "event": "commented",
      "id": 1130312494,
      "node_id": "IC_kwDOABII585DXzMu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1130312494",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-18T17:48:10Z",
      "updated_at": "2022-05-18T19:42:30Z",
      "author_association": "MEMBER",
      "body": "Code review ACK 9db82f1bca0bb51c2180ca4a4ad63ba490e79da4\r\n\r\nOnly documentation changed since I last reviewed.",
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#issuecomment-1130312494",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22778"
    },
    {
      "event": "commented",
      "id": 1130372819,
      "node_id": "IC_kwDOABII585DYB7T",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1130372819",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-18T18:33:34Z",
      "updated_at": "2022-05-18T18:33:34Z",
      "author_association": "CONTRIBUTOR",
      "body": "I was just speaking with @glozow, and I'd like to host review club for this PR on June 8, if it's not already merged by then, or maybe even if it is.",
      "user": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#issuecomment-1130372819",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22778"
    },
    {
      "event": "mentioned",
      "id": 6634770254,
      "node_id": "MEE_lADOABII5846O2vPzwAAAAGLdo9O",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6634770254",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-18T18:33:34Z"
    },
    {
      "event": "subscribed",
      "id": 6634770266,
      "node_id": "SE_lADOABII5846O2vPzwAAAAGLdo9a",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6634770266",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-18T18:33:34Z"
    },
    {
      "event": "commented",
      "id": 1131258860,
      "node_id": "IC_kwDOABII585DbaPs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1131258860",
      "actor": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-19T06:13:52Z",
      "updated_at": "2022-05-19T06:13:52Z",
      "author_association": "MEMBER",
      "body": "ACK 9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#issuecomment-1131258860",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22778"
    },
    {
      "event": "merged",
      "id": 6640402756,
      "node_id": "ME_lADOABII5846O2vPzwAAAAGLzIFE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6640402756",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "986bae8e72481a46744e299432beeb4dffb64a9a",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/986bae8e72481a46744e299432beeb4dffb64a9a",
      "created_at": "2022-05-19T08:27:39Z"
    },
    {
      "event": "closed",
      "id": 6640402782,
      "node_id": "CE_lADOABII5846O2vPzwAAAAGLzIFe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6640402782",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-19T08:27:39Z"
    },
    {
      "event": "head_ref_deleted",
      "id": 6641024073,
      "node_id": "HRDE_lADOABII5846O2vPzwAAAAGL1fxJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6641024073",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-19T09:48:09Z"
    },
    {
      "event": "commented",
      "id": 1131482537,
      "node_id": "IC_kwDOABII585DcQ2p",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1131482537",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-19T09:48:43Z",
      "updated_at": "2022-05-19T09:48:43Z",
      "author_association": "MEMBER",
      "body": "> I was just speaking with @glozow, and I'd like to host review club for this PR on June 8, if it's not already merged by then, or maybe even if it is.\r\n\r\nThat's great! I'm very happy to review notes & questions, or have a call to discuss. Feel free to message me.",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#issuecomment-1131482537",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22778"
    },
    {
      "event": "mentioned",
      "id": 6641028244,
      "node_id": "MEE_lADOABII5846O2vPzwAAAAGL1gyU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6641028244",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-19T09:48:44Z"
    },
    {
      "event": "subscribed",
      "id": 6641028255,
      "node_id": "SE_lADOABII5846O2vPzwAAAAGL1gyf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6641028255",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-05-19T09:48:44Z"
    },
    {
      "event": "referenced",
      "id": 6652505978,
      "node_id": "REFE_lADOABII5846O2vPzwAAAAGMhS96",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6652505978",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "aac99faa66e20ad7f3f4fb5123c524b968ab21d4",
      "commit_url": "https://api.github.com/repos/bitcoin-core/gui/commits/aac99faa66e20ad7f3f4fb5123c524b968ab21d4",
      "created_at": "2022-05-20T17:44:46Z"
    },
    {
      "event": "referenced",
      "id": 6697616818,
      "node_id": "REFE_lADOABII5846O2vPzwAAAAGPNYWy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6697616818",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "3045432985ee14b5b8b7d8e41eb8b28d19aef113",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/3045432985ee14b5b8b7d8e41eb8b28d19aef113",
      "created_at": "2022-05-28T22:51:01Z"
    },
    {
      "event": "commented",
      "id": 1150233158,
      "node_id": "IC_kwDOABII585EjypG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1150233158",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-08T18:08:16Z",
      "updated_at": "2022-06-08T18:08:16Z",
      "author_association": "CONTRIBUTOR",
      "body": "Post-merge ACK\r\nI'd appreciate it if a maintainer could add the review club label.",
      "user": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#issuecomment-1150233158",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22778"
    },
    {
      "event": "labeled",
      "id": 6772296655,
      "node_id": "LE_lADOABII5846O2vPzwAAAAGTqQvP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6772296655",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-08T18:41:12Z",
      "label": {
        "name": "Review club",
        "color": "0052cc"
      }
    },
    {
      "event": "referenced",
      "id": 6854465989,
      "node_id": "REFE_lADOABII5846O2vPzwAAAAGYjtnF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6854465989",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "e7a9133766a2dc357a79d38cd47231cc99cdefb7",
      "commit_url": "https://api.github.com/repos/dergoegge/bitcoin/commits/e7a9133766a2dc357a79d38cd47231cc99cdefb7",
      "created_at": "2022-06-22T09:05:16Z"
    },
    {
      "event": "referenced",
      "id": 6867369385,
      "node_id": "REFE_lADOABII5846O2vPzwAAAAGZU72p",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6867369385",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "e05564d706f06ccbebb89b4e6d76adb6db9aa820",
      "commit_url": "https://api.github.com/repos/bitcoin-core/gui/commits/e05564d706f06ccbebb89b4e6d76adb6db9aa820",
      "created_at": "2022-06-23T15:18:14Z"
    },
    {
      "event": "referenced",
      "id": 6889159564,
      "node_id": "REFE_lADOABII5846O2vPzwAAAAGaoDuM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6889159564",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "4c520d1677d069012d6b20ba54c6e473719e3099",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/4c520d1677d069012d6b20ba54c6e473719e3099",
      "created_at": "2022-06-27T22:42:53Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/693960652",
      "pull_request_review_id": 736105932,
      "id": 693960652,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5Mzk2MDY1Mg==",
      "diff_hunk": "@@ -2643,10 +2642,17 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         // set nodes not capable of serving the complete blockchain history as \"limited nodes\"\n         pfrom.m_limited_node = (!(nServices & NODE_NETWORK) && (nServices & NODE_NETWORK_LIMITED));\n \n-        LOCK(peer->m_tx_relay_mutex);\n-        if (peer->m_tx_relay != nullptr) {\n+        // We don't initialize the m_tx_relay data structure if:\n+        // - this is an outbound block-relay-only connection; or\n+        // - fRelay=false and we're not offering NODE_BLOOM to this peer\n+        //   (NODE_BLOOM means that the peer may turn on tx relay later)",
      "path": "src/net_processing.cpp",
      "position": 225,
      "original_position": 38,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "238ce0b02b1f7ac78c8c0466cef33628c6d49359",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "in 238ce0b02b1f7ac78c8c0466cef33628c6d49359:\r\n\r\nIf it is turned on later, we could keep it a nullptr until then and only initialize if and when we receive a `filter*` message?",
      "created_at": "2021-08-23T13:15:15Z",
      "updated_at": "2021-08-23T13:15:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r693960652",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/693960652"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2764,
      "original_line": 2764,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/694001534",
      "pull_request_review_id": 736162717,
      "id": 694001534,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5NDAwMTUzNA==",
      "diff_hunk": "@@ -2643,10 +2642,17 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         // set nodes not capable of serving the complete blockchain history as \"limited nodes\"\n         pfrom.m_limited_node = (!(nServices & NODE_NETWORK) && (nServices & NODE_NETWORK_LIMITED));\n \n-        LOCK(peer->m_tx_relay_mutex);\n-        if (peer->m_tx_relay != nullptr) {\n+        // We don't initialize the m_tx_relay data structure if:\n+        // - this is an outbound block-relay-only connection; or\n+        // - fRelay=false and we're not offering NODE_BLOOM to this peer\n+        //   (NODE_BLOOM means that the peer may turn on tx relay later)",
      "path": "src/net_processing.cpp",
      "position": 225,
      "original_position": 38,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "238ce0b02b1f7ac78c8c0466cef33628c6d49359",
      "in_reply_to_id": 693960652,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Perhaps, but I think it's better to allocate resources for the worst-case scenario up front, rather than try to reduce resource usage and later find out that you need to allocate a new structure.",
      "created_at": "2021-08-23T14:02:54Z",
      "updated_at": "2021-08-23T14:02:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r694001534",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/694001534"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2764,
      "original_line": 2764,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/719247282",
      "pull_request_review_id": 767644909,
      "id": 719247282,
      "node_id": "PRRC_kwDOABII584q3tey",
      "diff_hunk": "@@ -227,28 +227,45 @@ struct Peer {\n     std::atomic<bool> m_wtxid_relay{false};\n \n     struct TxRelay {\n+        /** Protects m_bloom_filter and the m_relay_txs flag. */\n         mutable RecursiveMutex m_bloom_filter_mutex;\n-        // We use m_relay_txs for two purposes -\n-        // a) it allows us to not relay tx invs before receiving the peer's version message\n-        // b) the peer may tell us in its version message that we should not relay tx invs\n-        //    unless it loads a bloom filter.\n+        /** Whether the peer wishes to receive transaction announements.\n+         *\n+         * This is initially set based on the fRelay flag in the received\n+         * `version` message. If initially set to false, it can only be flipped\n+         * to true if we have offered the peer NODE_BLOOM services and it sends\n+         * us a `filterload` or `filterclear` message. See BIP37. */\n         bool m_relay_txs GUARDED_BY(m_bloom_filter_mutex){false};\n+        /** A bloom filter for which transactions to announce to the peer. See BIP37. */\n         std::unique_ptr<CBloomFilter> m_bloom_filter PT_GUARDED_BY(m_bloom_filter_mutex) GUARDED_BY(m_bloom_filter_mutex){nullptr};\n \n+        /** Protects m_tx_inventory_known and the m_send_mempool flag */\n         mutable RecursiveMutex m_tx_inventory_mutex;\n+        /** A filter of all the txids and wtxids that the peer has announced to\n+         *  us or we have announced to the peer. We use this to avoid announcing\n+         *  the same txid/wtxid to a peer that already has the transaction. */\n         CRollingBloomFilter m_tx_inventory_known_filter GUARDED_BY(m_tx_inventory_mutex){50000, 0.000001};\n-        // Set of transaction ids we still have to announce.\n-        // They are sorted by the mempool before relay, so the order is not important.\n+        /** Set of transaction ids we still have to announce (txid for\n+         *  non-wtxid-relay peers, wtxid for wtxid-relay peers). We use the\n+         *  mempool to sort transactions in dependency order before relay, so\n+         *  this does not have to be sorted. */",
      "path": "src/net_processing.cpp",
      "position": 38,
      "original_position": 31,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "48c896ee7fa504690f15dea7c6c61797500c1add",
      "in_reply_to_id": null,
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "At first I was thinking we could leave a TODO here for switching to unordered_set, but when I'm looking how it's used, it seems we can just leave it like this, right?",
      "created_at": "2021-09-30T09:53:26Z",
      "updated_at": "2021-09-30T09:53:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r719247282",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/719247282"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 268,
      "original_line": 268,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/719250125",
      "pull_request_review_id": 767648820,
      "id": 719250125,
      "node_id": "PRRC_kwDOABII584q3uLN",
      "diff_hunk": "@@ -227,28 +227,45 @@ struct Peer {\n     std::atomic<bool> m_wtxid_relay{false};\n \n     struct TxRelay {\n+        /** Protects m_bloom_filter and the m_relay_txs flag. */\n         mutable RecursiveMutex m_bloom_filter_mutex;\n-        // We use m_relay_txs for two purposes -\n-        // a) it allows us to not relay tx invs before receiving the peer's version message\n-        // b) the peer may tell us in its version message that we should not relay tx invs\n-        //    unless it loads a bloom filter.\n+        /** Whether the peer wishes to receive transaction announements.\n+         *\n+         * This is initially set based on the fRelay flag in the received\n+         * `version` message. If initially set to false, it can only be flipped\n+         * to true if we have offered the peer NODE_BLOOM services and it sends\n+         * us a `filterload` or `filterclear` message. See BIP37. */\n         bool m_relay_txs GUARDED_BY(m_bloom_filter_mutex){false};\n+        /** A bloom filter for which transactions to announce to the peer. See BIP37. */\n         std::unique_ptr<CBloomFilter> m_bloom_filter PT_GUARDED_BY(m_bloom_filter_mutex) GUARDED_BY(m_bloom_filter_mutex){nullptr};\n \n+        /** Protects m_tx_inventory_known and the m_send_mempool flag */\n         mutable RecursiveMutex m_tx_inventory_mutex;\n+        /** A filter of all the txids and wtxids that the peer has announced to\n+         *  us or we have announced to the peer. We use this to avoid announcing\n+         *  the same txid/wtxid to a peer that already has the transaction. */\n         CRollingBloomFilter m_tx_inventory_known_filter GUARDED_BY(m_tx_inventory_mutex){50000, 0.000001};\n-        // Set of transaction ids we still have to announce.\n-        // They are sorted by the mempool before relay, so the order is not important.\n+        /** Set of transaction ids we still have to announce (txid for\n+         *  non-wtxid-relay peers, wtxid for wtxid-relay peers). We use the\n+         *  mempool to sort transactions in dependency order before relay, so\n+         *  this does not have to be sorted. */\n         std::set<uint256> m_tx_inventory_to_send;\n-        // Used for BIP35 mempool sending\n+        /** Whether the peer has requested us to send our complete mempool. Only\n+         *  permitted if the peer has NetPermissionFlags::Mempool. See BIP35. */\n         bool m_send_mempool GUARDED_BY(m_tx_inventory_mutex){false};\n-        // Last time a \"MEMPOOL\" request was serviced.\n+        /** The last time a BIP35 `mempool` request was serviced. */\n         std::atomic<std::chrono::seconds> m_last_mempool_req{0s};\n+        /** The next time after which we will send an `inv` message containing\n+         *  transaction announcements to this peer. */\n         std::chrono::microseconds m_next_inv_send_time{0};\n \n-        /** Minimum fee rate with which to filter inv's to this node */\n+        /** Minimum fee rate with which to filter transaction announcements to this node */",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 45,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "48c896ee7fa504690f15dea7c6c61797500c1add",
      "in_reply_to_id": null,
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This also could mention BIP133, or perhaps be flipped with the next variable referencing it :)",
      "created_at": "2021-09-30T09:57:08Z",
      "updated_at": "2021-09-30T09:57:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r719250125",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/719250125"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 262,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/719251357",
      "pull_request_review_id": 767650419,
      "id": 719251357,
      "node_id": "PRRC_kwDOABII584q3ued",
      "diff_hunk": "@@ -227,28 +227,45 @@ struct Peer {\n     std::atomic<bool> m_wtxid_relay{false};\n \n     struct TxRelay {\n+        /** Protects m_bloom_filter and the m_relay_txs flag. */\n         mutable RecursiveMutex m_bloom_filter_mutex;\n-        // We use m_relay_txs for two purposes -\n-        // a) it allows us to not relay tx invs before receiving the peer's version message\n-        // b) the peer may tell us in its version message that we should not relay tx invs\n-        //    unless it loads a bloom filter.\n+        /** Whether the peer wishes to receive transaction announements.\n+         *\n+         * This is initially set based on the fRelay flag in the received\n+         * `version` message. If initially set to false, it can only be flipped\n+         * to true if we have offered the peer NODE_BLOOM services and it sends\n+         * us a `filterload` or `filterclear` message. See BIP37. */\n         bool m_relay_txs GUARDED_BY(m_bloom_filter_mutex){false};\n+        /** A bloom filter for which transactions to announce to the peer. See BIP37. */\n         std::unique_ptr<CBloomFilter> m_bloom_filter PT_GUARDED_BY(m_bloom_filter_mutex) GUARDED_BY(m_bloom_filter_mutex){nullptr};\n \n+        /** Protects m_tx_inventory_known and the m_send_mempool flag */\n         mutable RecursiveMutex m_tx_inventory_mutex;\n+        /** A filter of all the txids and wtxids that the peer has announced to\n+         *  us or we have announced to the peer. We use this to avoid announcing\n+         *  the same txid/wtxid to a peer that already has the transaction. */\n         CRollingBloomFilter m_tx_inventory_known_filter GUARDED_BY(m_tx_inventory_mutex){50000, 0.000001};\n-        // Set of transaction ids we still have to announce.\n-        // They are sorted by the mempool before relay, so the order is not important.\n+        /** Set of transaction ids we still have to announce (txid for\n+         *  non-wtxid-relay peers, wtxid for wtxid-relay peers). We use the\n+         *  mempool to sort transactions in dependency order before relay, so\n+         *  this does not have to be sorted. */\n         std::set<uint256> m_tx_inventory_to_send;\n-        // Used for BIP35 mempool sending\n+        /** Whether the peer has requested us to send our complete mempool. Only\n+         *  permitted if the peer has NetPermissionFlags::Mempool. See BIP35. */\n         bool m_send_mempool GUARDED_BY(m_tx_inventory_mutex){false};\n-        // Last time a \"MEMPOOL\" request was serviced.\n+        /** The last time a BIP35 `mempool` request was serviced. */\n         std::atomic<std::chrono::seconds> m_last_mempool_req{0s};\n+        /** The next time after which we will send an `inv` message containing\n+         *  transaction announcements to this peer. */\n         std::chrono::microseconds m_next_inv_send_time{0};\n \n-        /** Minimum fee rate with which to filter inv's to this node */\n+        /** Minimum fee rate with which to filter transaction announcements to this node */\n         std::atomic<CAmount> m_fee_filter_received{0};\n+        /** Fee rate below which we requested our peer not send us transaction\n+         *  announcements. It is *not* a p2p protocol violation for the peer to\n+         *  send us transactions with a lower fee rate than this. See BIP133. */\n         CAmount m_fee_filter_sent{0};\n+        /** The next time after which we will send a `feefilter` message to this peer. */",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 51,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "48c896ee7fa504690f15dea7c6c61797500c1add",
      "in_reply_to_id": null,
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think this comment is not very useful currently w.r.t. why we would update feefilter at all, and why it has to be scheduled.",
      "created_at": "2021-09-30T09:58:41Z",
      "updated_at": "2021-09-30T09:58:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r719251357",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/719251357"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 278,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/719259735",
      "pull_request_review_id": 767661806,
      "id": 719259735,
      "node_id": "PRRC_kwDOABII584q3whX",
      "diff_hunk": "@@ -2643,10 +2642,17 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         // set nodes not capable of serving the complete blockchain history as \"limited nodes\"\n         pfrom.m_limited_node = (!(nServices & NODE_NETWORK) && (nServices & NODE_NETWORK_LIMITED));\n \n-        LOCK(peer->m_tx_relay_mutex);\n-        if (peer->m_tx_relay != nullptr) {\n+        // We don't initialize the m_tx_relay data structure if:\n+        // - this is an outbound block-relay-only connection; or\n+        // - fRelay=false and we're not offering NODE_BLOOM to this peer\n+        //   (NODE_BLOOM means that the peer may turn on tx relay later)",
      "path": "src/net_processing.cpp",
      "position": 225,
      "original_position": 38,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "238ce0b02b1f7ac78c8c0466cef33628c6d49359",
      "in_reply_to_id": 693960652,
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": ">rather than try to reduce resource usage and later find out that you need to allocate a new structure\r\n\r\nWhat exactly is difficult about this?",
      "created_at": "2021-09-30T10:09:56Z",
      "updated_at": "2021-09-30T10:09:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r719259735",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/719259735"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2764,
      "original_line": 2764,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/719262565",
      "pull_request_review_id": 767665482,
      "id": 719262565,
      "node_id": "PRRC_kwDOABII584q3xNl",
      "diff_hunk": "@@ -2658,8 +2657,15 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         // set nodes not capable of serving the complete blockchain history as \"limited nodes\"\n         pfrom.m_limited_node = (!(nServices & NODE_NETWORK) && (nServices & NODE_NETWORK_LIMITED));\n \n-        {\n+        // We don't initialize the m_tx_relay data structure if:\n+        // - this is an outbound block-relay-only connection; or\n+        // - fRelay=false and we're not offering NODE_BLOOM to this peer\n+        //   (NODE_BLOOM means that the peer may turn on tx relay later)\n+        const bool disable_tx_relay = pfrom.IsBlockOnlyConn() ||",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 39,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "bb89747af06ab39ce8ed7b595535f43129741541",
      "in_reply_to_id": null,
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Inverted this could be:\r\n`const bool enable_tx_relay = !pfrom.IsBlockOnlyConn() && (fRelay || (pfrom.GetLocalServices() & NODE_BLOOM))`.\r\n\r\nDon't you think it's better?\r\n\r\n",
      "created_at": "2021-09-30T10:13:45Z",
      "updated_at": "2021-09-30T10:13:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r719262565",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/719262565"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2664,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/720133129",
      "pull_request_review_id": 768805349,
      "id": 720133129,
      "node_id": "PRRC_kwDOABII584q7FwJ",
      "diff_hunk": "@@ -2643,10 +2642,17 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         // set nodes not capable of serving the complete blockchain history as \"limited nodes\"\n         pfrom.m_limited_node = (!(nServices & NODE_NETWORK) && (nServices & NODE_NETWORK_LIMITED));\n \n-        LOCK(peer->m_tx_relay_mutex);\n-        if (peer->m_tx_relay != nullptr) {\n+        // We don't initialize the m_tx_relay data structure if:\n+        // - this is an outbound block-relay-only connection; or\n+        // - fRelay=false and we're not offering NODE_BLOOM to this peer\n+        //   (NODE_BLOOM means that the peer may turn on tx relay later)",
      "path": "src/net_processing.cpp",
      "position": 225,
      "original_position": 38,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "238ce0b02b1f7ac78c8c0466cef33628c6d49359",
      "in_reply_to_id": 693960652,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> What exactly is difficult about this?\r\n\r\nI think I agree with John that there is little benefit (or even a risk) when giving remote peers the option to force you to allocate MBs of memory by sending a single msg, instead of allocating the memory on startup/creation of the connection.",
      "created_at": "2021-10-01T10:27:55Z",
      "updated_at": "2021-10-01T10:27:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r720133129",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/720133129"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2764,
      "original_line": 2764,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/720168415",
      "pull_request_review_id": 768852157,
      "id": 720168415,
      "node_id": "PRRC_kwDOABII584q7OXf",
      "diff_hunk": "@@ -2643,10 +2642,17 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         // set nodes not capable of serving the complete blockchain history as \"limited nodes\"\n         pfrom.m_limited_node = (!(nServices & NODE_NETWORK) && (nServices & NODE_NETWORK_LIMITED));\n \n-        LOCK(peer->m_tx_relay_mutex);\n-        if (peer->m_tx_relay != nullptr) {\n+        // We don't initialize the m_tx_relay data structure if:\n+        // - this is an outbound block-relay-only connection; or\n+        // - fRelay=false and we're not offering NODE_BLOOM to this peer\n+        //   (NODE_BLOOM means that the peer may turn on tx relay later)",
      "path": "src/net_processing.cpp",
      "position": 225,
      "original_position": 38,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "238ce0b02b1f7ac78c8c0466cef33628c6d49359",
      "in_reply_to_id": 693960652,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Hmm, allocating upfront is like giving a remote peer the option and he always exercises it immediately after connecting, no?\r\n\r\nIf there is a chance that the peer would not exercise the option (not send `filter*` message) and we never allocate the MBs, that is to be preferred?",
      "created_at": "2021-10-01T11:29:34Z",
      "updated_at": "2021-10-01T11:33:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r720168415",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/720168415"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2764,
      "original_line": 2764,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/720171634",
      "pull_request_review_id": 768856490,
      "id": 720171634,
      "node_id": "PRRC_kwDOABII584q7PJy",
      "diff_hunk": "@@ -2643,10 +2642,17 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         // set nodes not capable of serving the complete blockchain history as \"limited nodes\"\n         pfrom.m_limited_node = (!(nServices & NODE_NETWORK) && (nServices & NODE_NETWORK_LIMITED));\n \n-        LOCK(peer->m_tx_relay_mutex);\n-        if (peer->m_tx_relay != nullptr) {\n+        // We don't initialize the m_tx_relay data structure if:\n+        // - this is an outbound block-relay-only connection; or\n+        // - fRelay=false and we're not offering NODE_BLOOM to this peer\n+        //   (NODE_BLOOM means that the peer may turn on tx relay later)",
      "path": "src/net_processing.cpp",
      "position": 225,
      "original_position": 38,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "238ce0b02b1f7ac78c8c0466cef33628c6d49359",
      "in_reply_to_id": 693960652,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, and I think this is preferable because there are less (late) surprises. Neither on the live network, nor when developing. For example, `massif` will display the real usage from the start. Or, imagine someone under-estimating the resource usage and thus increasing the maxconnections count, then running into OOM later on.",
      "created_at": "2021-10-01T11:35:31Z",
      "updated_at": "2021-10-01T11:35:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r720171634",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/720171634"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2764,
      "original_line": 2764,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/720184968",
      "pull_request_review_id": 768874295,
      "id": 720184968,
      "node_id": "PRRC_kwDOABII584q7SaI",
      "diff_hunk": "@@ -2643,10 +2642,17 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         // set nodes not capable of serving the complete blockchain history as \"limited nodes\"\n         pfrom.m_limited_node = (!(nServices & NODE_NETWORK) && (nServices & NODE_NETWORK_LIMITED));\n \n-        LOCK(peer->m_tx_relay_mutex);\n-        if (peer->m_tx_relay != nullptr) {\n+        // We don't initialize the m_tx_relay data structure if:\n+        // - this is an outbound block-relay-only connection; or\n+        // - fRelay=false and we're not offering NODE_BLOOM to this peer\n+        //   (NODE_BLOOM means that the peer may turn on tx relay later)",
      "path": "src/net_processing.cpp",
      "position": 225,
      "original_position": 38,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "238ce0b02b1f7ac78c8c0466cef33628c6d49359",
      "in_reply_to_id": 693960652,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The counter scenario is somebody running into OOM because MBs of memory were allocated needlessly (allocated but never used because the peer(s) never sent `filter*`).",
      "created_at": "2021-10-01T11:58:48Z",
      "updated_at": "2021-10-01T11:58:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r720184968",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/720184968"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2764,
      "original_line": 2764,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/720200693",
      "pull_request_review_id": 768895812,
      "id": 720200693,
      "node_id": "PRRC_kwDOABII584q7WP1",
      "diff_hunk": "@@ -2643,10 +2642,17 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         // set nodes not capable of serving the complete blockchain history as \"limited nodes\"\n         pfrom.m_limited_node = (!(nServices & NODE_NETWORK) && (nServices & NODE_NETWORK_LIMITED));\n \n-        LOCK(peer->m_tx_relay_mutex);\n-        if (peer->m_tx_relay != nullptr) {\n+        // We don't initialize the m_tx_relay data structure if:\n+        // - this is an outbound block-relay-only connection; or\n+        // - fRelay=false and we're not offering NODE_BLOOM to this peer\n+        //   (NODE_BLOOM means that the peer may turn on tx relay later)",
      "path": "src/net_processing.cpp",
      "position": 225,
      "original_position": 38,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "238ce0b02b1f7ac78c8c0466cef33628c6d49359",
      "in_reply_to_id": 693960652,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think if you want to reduce memory usage, you should disable bip37, not enable it with the hope that no one (or only a small fraction of your incoming peers) will use it.",
      "created_at": "2021-10-01T12:24:03Z",
      "updated_at": "2021-10-01T12:24:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r720200693",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/720200693"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2764,
      "original_line": 2764,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724043654",
      "pull_request_review_id": 773710857,
      "id": 724043654,
      "node_id": "PRRC_kwDOABII584rKAeG",
      "diff_hunk": "@@ -2590,9 +2657,18 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         // set nodes not capable of serving the complete blockchain history as \"limited nodes\"\n         pfrom.m_limited_node = (!(nServices & NODE_NETWORK) && (nServices & NODE_NETWORK_LIMITED));\n \n-        if (pfrom.m_tx_relay != nullptr) {\n-            LOCK(pfrom.m_tx_relay->cs_filter);\n-            pfrom.m_tx_relay->fRelayTxes = fRelay; // set to true after we get the first filter* message\n+        // We don't initialize the m_tx_relay data structure if:\n+        // - this is an outbound block-relay-only connection; or\n+        // - fRelay=false and we're not offering NODE_BLOOM to this peer\n+        //   (NODE_BLOOM means that the peer may turn on tx relay later)\n+        const bool disable_tx_relay = pfrom.IsBlockOnlyConn() ||\n+                                      (!fRelay && !(pfrom.GetLocalServices() & NODE_BLOOM));\n+        if (!disable_tx_relay) {\n+            LOCK(peer->m_tx_relay_mutex);\n+            peer->m_tx_relay = std::make_unique<Peer::TxRelay>();",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 337,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "bb89747af06ab39ce8ed7b595535f43129741541",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "If this can be executed concurrently by two threads, then the allocation may happen twice - thread1:lock,alloc,unlock, thread2:lock,alloc,unlock.\r\n\r\nIf this cannot be executed concurrently then the mutex is not needed. I think this is the case because message processing is single threaded and we would have quit earlier if we received a second VERSION message.\r\n\r\nIf, for some reason, the mutex is deemed necessary then the pattern should be:\r\n```cpp\r\nLOCK(peer->m_tx_relay_mutex);\r\nif (peer->m_tx_relay != nullptr) {\r\n    peer->m_tx_relay = std::make_unique<Peer::TxRelay>();\r\n}\r\n// unlock\r\n```",
      "created_at": "2021-10-07T10:13:50Z",
      "updated_at": "2021-10-07T10:13:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r724043654",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724043654"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": 2667,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 2668,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724189368",
      "pull_request_review_id": 773920354,
      "id": 724189368,
      "node_id": "PRRC_kwDOABII584rKkC4",
      "diff_hunk": "@@ -227,28 +227,45 @@ struct Peer {\n     std::atomic<bool> m_wtxid_relay{false};\n \n     struct TxRelay {\n+        /** Protects m_bloom_filter and the m_relay_txs flag. */\n         mutable RecursiveMutex m_bloom_filter_mutex;\n-        // We use m_relay_txs for two purposes -\n-        // a) it allows us to not relay tx invs before receiving the peer's version message\n-        // b) the peer may tell us in its version message that we should not relay tx invs\n-        //    unless it loads a bloom filter.\n+        /** Whether the peer wishes to receive transaction announements.\n+         *\n+         * This is initially set based on the fRelay flag in the received\n+         * `version` message. If initially set to false, it can only be flipped\n+         * to true if we have offered the peer NODE_BLOOM services and it sends\n+         * us a `filterload` or `filterclear` message. See BIP37. */\n         bool m_relay_txs GUARDED_BY(m_bloom_filter_mutex){false};\n+        /** A bloom filter for which transactions to announce to the peer. See BIP37. */\n         std::unique_ptr<CBloomFilter> m_bloom_filter PT_GUARDED_BY(m_bloom_filter_mutex) GUARDED_BY(m_bloom_filter_mutex){nullptr};\n \n+        /** Protects m_tx_inventory_known and the m_send_mempool flag */\n         mutable RecursiveMutex m_tx_inventory_mutex;\n+        /** A filter of all the txids and wtxids that the peer has announced to\n+         *  us or we have announced to the peer. We use this to avoid announcing\n+         *  the same txid/wtxid to a peer that already has the transaction. */\n         CRollingBloomFilter m_tx_inventory_known_filter GUARDED_BY(m_tx_inventory_mutex){50000, 0.000001};\n-        // Set of transaction ids we still have to announce.\n-        // They are sorted by the mempool before relay, so the order is not important.\n+        /** Set of transaction ids we still have to announce (txid for\n+         *  non-wtxid-relay peers, wtxid for wtxid-relay peers). We use the\n+         *  mempool to sort transactions in dependency order before relay, so\n+         *  this does not have to be sorted. */",
      "path": "src/net_processing.cpp",
      "position": 38,
      "original_position": 31,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "48c896ee7fa504690f15dea7c6c61797500c1add",
      "in_reply_to_id": 719247282,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think that the size of this set is typically small enough that the complexity of insertion (lg(n) -vs- constant for an unordered_set) is not important.",
      "created_at": "2021-10-07T13:38:09Z",
      "updated_at": "2021-10-07T13:38:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r724189368",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724189368"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 268,
      "original_line": 268,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724190716",
      "pull_request_review_id": 773922307,
      "id": 724190716,
      "node_id": "PRRC_kwDOABII584rKkX8",
      "diff_hunk": "@@ -227,28 +227,45 @@ struct Peer {\n     std::atomic<bool> m_wtxid_relay{false};\n \n     struct TxRelay {\n+        /** Protects m_bloom_filter and the m_relay_txs flag. */\n         mutable RecursiveMutex m_bloom_filter_mutex;\n-        // We use m_relay_txs for two purposes -\n-        // a) it allows us to not relay tx invs before receiving the peer's version message\n-        // b) the peer may tell us in its version message that we should not relay tx invs\n-        //    unless it loads a bloom filter.\n+        /** Whether the peer wishes to receive transaction announements.\n+         *\n+         * This is initially set based on the fRelay flag in the received\n+         * `version` message. If initially set to false, it can only be flipped\n+         * to true if we have offered the peer NODE_BLOOM services and it sends\n+         * us a `filterload` or `filterclear` message. See BIP37. */\n         bool m_relay_txs GUARDED_BY(m_bloom_filter_mutex){false};\n+        /** A bloom filter for which transactions to announce to the peer. See BIP37. */\n         std::unique_ptr<CBloomFilter> m_bloom_filter PT_GUARDED_BY(m_bloom_filter_mutex) GUARDED_BY(m_bloom_filter_mutex){nullptr};\n \n+        /** Protects m_tx_inventory_known and the m_send_mempool flag */\n         mutable RecursiveMutex m_tx_inventory_mutex;\n+        /** A filter of all the txids and wtxids that the peer has announced to\n+         *  us or we have announced to the peer. We use this to avoid announcing\n+         *  the same txid/wtxid to a peer that already has the transaction. */\n         CRollingBloomFilter m_tx_inventory_known_filter GUARDED_BY(m_tx_inventory_mutex){50000, 0.000001};\n-        // Set of transaction ids we still have to announce.\n-        // They are sorted by the mempool before relay, so the order is not important.\n+        /** Set of transaction ids we still have to announce (txid for\n+         *  non-wtxid-relay peers, wtxid for wtxid-relay peers). We use the\n+         *  mempool to sort transactions in dependency order before relay, so\n+         *  this does not have to be sorted. */\n         std::set<uint256> m_tx_inventory_to_send;\n-        // Used for BIP35 mempool sending\n+        /** Whether the peer has requested us to send our complete mempool. Only\n+         *  permitted if the peer has NetPermissionFlags::Mempool. See BIP35. */\n         bool m_send_mempool GUARDED_BY(m_tx_inventory_mutex){false};\n-        // Last time a \"MEMPOOL\" request was serviced.\n+        /** The last time a BIP35 `mempool` request was serviced. */\n         std::atomic<std::chrono::seconds> m_last_mempool_req{0s};\n+        /** The next time after which we will send an `inv` message containing\n+         *  transaction announcements to this peer. */\n         std::chrono::microseconds m_next_inv_send_time{0};\n \n-        /** Minimum fee rate with which to filter inv's to this node */\n+        /** Minimum fee rate with which to filter transaction announcements to this node */",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 45,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "48c896ee7fa504690f15dea7c6c61797500c1add",
      "in_reply_to_id": 719250125,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done!",
      "created_at": "2021-10-07T13:39:38Z",
      "updated_at": "2021-10-07T13:39:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r724190716",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724190716"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 262,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724191876",
      "pull_request_review_id": 773923815,
      "id": 724191876,
      "node_id": "PRRC_kwDOABII584rKkqE",
      "diff_hunk": "@@ -227,28 +227,45 @@ struct Peer {\n     std::atomic<bool> m_wtxid_relay{false};\n \n     struct TxRelay {\n+        /** Protects m_bloom_filter and the m_relay_txs flag. */\n         mutable RecursiveMutex m_bloom_filter_mutex;\n-        // We use m_relay_txs for two purposes -\n-        // a) it allows us to not relay tx invs before receiving the peer's version message\n-        // b) the peer may tell us in its version message that we should not relay tx invs\n-        //    unless it loads a bloom filter.\n+        /** Whether the peer wishes to receive transaction announements.\n+         *\n+         * This is initially set based on the fRelay flag in the received\n+         * `version` message. If initially set to false, it can only be flipped\n+         * to true if we have offered the peer NODE_BLOOM services and it sends\n+         * us a `filterload` or `filterclear` message. See BIP37. */\n         bool m_relay_txs GUARDED_BY(m_bloom_filter_mutex){false};\n+        /** A bloom filter for which transactions to announce to the peer. See BIP37. */\n         std::unique_ptr<CBloomFilter> m_bloom_filter PT_GUARDED_BY(m_bloom_filter_mutex) GUARDED_BY(m_bloom_filter_mutex){nullptr};\n \n+        /** Protects m_tx_inventory_known and the m_send_mempool flag */\n         mutable RecursiveMutex m_tx_inventory_mutex;\n+        /** A filter of all the txids and wtxids that the peer has announced to\n+         *  us or we have announced to the peer. We use this to avoid announcing\n+         *  the same txid/wtxid to a peer that already has the transaction. */\n         CRollingBloomFilter m_tx_inventory_known_filter GUARDED_BY(m_tx_inventory_mutex){50000, 0.000001};\n-        // Set of transaction ids we still have to announce.\n-        // They are sorted by the mempool before relay, so the order is not important.\n+        /** Set of transaction ids we still have to announce (txid for\n+         *  non-wtxid-relay peers, wtxid for wtxid-relay peers). We use the\n+         *  mempool to sort transactions in dependency order before relay, so\n+         *  this does not have to be sorted. */\n         std::set<uint256> m_tx_inventory_to_send;\n-        // Used for BIP35 mempool sending\n+        /** Whether the peer has requested us to send our complete mempool. Only\n+         *  permitted if the peer has NetPermissionFlags::Mempool. See BIP35. */\n         bool m_send_mempool GUARDED_BY(m_tx_inventory_mutex){false};\n-        // Last time a \"MEMPOOL\" request was serviced.\n+        /** The last time a BIP35 `mempool` request was serviced. */\n         std::atomic<std::chrono::seconds> m_last_mempool_req{0s};\n+        /** The next time after which we will send an `inv` message containing\n+         *  transaction announcements to this peer. */\n         std::chrono::microseconds m_next_inv_send_time{0};\n \n-        /** Minimum fee rate with which to filter inv's to this node */\n+        /** Minimum fee rate with which to filter transaction announcements to this node */\n         std::atomic<CAmount> m_fee_filter_received{0};\n+        /** Fee rate below which we requested our peer not send us transaction\n+         *  announcements. It is *not* a p2p protocol violation for the peer to\n+         *  send us transactions with a lower fee rate than this. See BIP133. */\n         CAmount m_fee_filter_sent{0};\n+        /** The next time after which we will send a `feefilter` message to this peer. */",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 51,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "48c896ee7fa504690f15dea7c6c61797500c1add",
      "in_reply_to_id": 719251357,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think that kind of comment would be more at home on or in the `MaybeSendFeefilter()` function.",
      "created_at": "2021-10-07T13:40:47Z",
      "updated_at": "2021-10-07T13:40:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r724191876",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724191876"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 278,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724195101",
      "pull_request_review_id": 773928668,
      "id": 724195101,
      "node_id": "PRRC_kwDOABII584rKlcd",
      "diff_hunk": "@@ -2658,8 +2657,15 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         // set nodes not capable of serving the complete blockchain history as \"limited nodes\"\n         pfrom.m_limited_node = (!(nServices & NODE_NETWORK) && (nServices & NODE_NETWORK_LIMITED));\n \n-        {\n+        // We don't initialize the m_tx_relay data structure if:\n+        // - this is an outbound block-relay-only connection; or\n+        // - fRelay=false and we're not offering NODE_BLOOM to this peer\n+        //   (NODE_BLOOM means that the peer may turn on tx relay later)\n+        const bool disable_tx_relay = pfrom.IsBlockOnlyConn() ||",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 39,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "bb89747af06ab39ce8ed7b595535f43129741541",
      "in_reply_to_id": 719262565,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I actually think it's clearer this way, since it matches the english language comment above, and enabling tx relay is the default. I tried inverting the boolean, but it didn't seem any better to me.\r\n\r\nThat said, if other contributors also think it'd be clearer to invert the boolean logic here, I'm happy to switch it.",
      "created_at": "2021-10-07T13:44:25Z",
      "updated_at": "2021-10-07T13:44:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r724195101",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724195101"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2664,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724208016",
      "pull_request_review_id": 773947269,
      "id": 724208016,
      "node_id": "PRRC_kwDOABII584rKomQ",
      "diff_hunk": "@@ -2658,8 +2657,15 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         // set nodes not capable of serving the complete blockchain history as \"limited nodes\"\n         pfrom.m_limited_node = (!(nServices & NODE_NETWORK) && (nServices & NODE_NETWORK_LIMITED));\n \n-        {\n+        // We don't initialize the m_tx_relay data structure if:\n+        // - this is an outbound block-relay-only connection; or\n+        // - fRelay=false and we're not offering NODE_BLOOM to this peer\n+        //   (NODE_BLOOM means that the peer may turn on tx relay later)\n+        const bool disable_tx_relay = pfrom.IsBlockOnlyConn() ||",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 39,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "bb89747af06ab39ce8ed7b595535f43129741541",
      "in_reply_to_id": 719262565,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think `if (enabled)` is clearer than `if (!disabled)`. @naumenkogs's variant has less `!`. Can the English comment can be reworded: we only initialize this if not block-only and ...?",
      "created_at": "2021-10-07T13:58:03Z",
      "updated_at": "2021-10-07T13:58:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r724208016",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724208016"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2664,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724212963",
      "pull_request_review_id": 773954403,
      "id": 724212963,
      "node_id": "PRRC_kwDOABII584rKpzj",
      "diff_hunk": "@@ -2590,9 +2657,18 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         // set nodes not capable of serving the complete blockchain history as \"limited nodes\"\n         pfrom.m_limited_node = (!(nServices & NODE_NETWORK) && (nServices & NODE_NETWORK_LIMITED));\n \n-        if (pfrom.m_tx_relay != nullptr) {\n-            LOCK(pfrom.m_tx_relay->cs_filter);\n-            pfrom.m_tx_relay->fRelayTxes = fRelay; // set to true after we get the first filter* message\n+        // We don't initialize the m_tx_relay data structure if:\n+        // - this is an outbound block-relay-only connection; or\n+        // - fRelay=false and we're not offering NODE_BLOOM to this peer\n+        //   (NODE_BLOOM means that the peer may turn on tx relay later)\n+        const bool disable_tx_relay = pfrom.IsBlockOnlyConn() ||\n+                                      (!fRelay && !(pfrom.GetLocalServices() & NODE_BLOOM));\n+        if (!disable_tx_relay) {\n+            LOCK(peer->m_tx_relay_mutex);\n+            peer->m_tx_relay = std::make_unique<Peer::TxRelay>();",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 337,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "bb89747af06ab39ce8ed7b595535f43129741541",
      "in_reply_to_id": 724043654,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It's impossible for the `if (msg_type == NetMsgType::VERSION) {` block of code to be executed  more than once, so it would be logically impossible for the `m_tx_relay` member to be allocated twice. However, I've updated the code to check for nullness first so it's immediately obvious from looking at this code that it can't be allocated twice.",
      "created_at": "2021-10-07T14:03:00Z",
      "updated_at": "2021-10-07T14:03:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r724212963",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724212963"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": 2667,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 2668,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724339822",
      "pull_request_review_id": 774135472,
      "id": 724339822,
      "node_id": "PRRC_kwDOABII584rLIxu",
      "diff_hunk": "@@ -2658,8 +2657,15 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         // set nodes not capable of serving the complete blockchain history as \"limited nodes\"\n         pfrom.m_limited_node = (!(nServices & NODE_NETWORK) && (nServices & NODE_NETWORK_LIMITED));\n \n-        {\n+        // We don't initialize the m_tx_relay data structure if:\n+        // - this is an outbound block-relay-only connection; or\n+        // - fRelay=false and we're not offering NODE_BLOOM to this peer\n+        //   (NODE_BLOOM means that the peer may turn on tx relay later)\n+        const bool disable_tx_relay = pfrom.IsBlockOnlyConn() ||",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 39,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "bb89747af06ab39ce8ed7b595535f43129741541",
      "in_reply_to_id": 719262565,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done!",
      "created_at": "2021-10-07T16:22:26Z",
      "updated_at": "2021-10-07T16:22:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r724339822",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724339822"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2664,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724341411",
      "pull_request_review_id": 774137749,
      "id": 724341411,
      "node_id": "PRRC_kwDOABII584rLJKj",
      "diff_hunk": "@@ -2643,10 +2642,17 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         // set nodes not capable of serving the complete blockchain history as \"limited nodes\"\n         pfrom.m_limited_node = (!(nServices & NODE_NETWORK) && (nServices & NODE_NETWORK_LIMITED));\n \n-        LOCK(peer->m_tx_relay_mutex);\n-        if (peer->m_tx_relay != nullptr) {\n+        // We don't initialize the m_tx_relay data structure if:\n+        // - this is an outbound block-relay-only connection; or\n+        // - fRelay=false and we're not offering NODE_BLOOM to this peer\n+        //   (NODE_BLOOM means that the peer may turn on tx relay later)",
      "path": "src/net_processing.cpp",
      "position": 225,
      "original_position": 38,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "238ce0b02b1f7ac78c8c0466cef33628c6d49359",
      "in_reply_to_id": 693960652,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I agree with @MarcoFalke that if memory consumption is a concern, then you shouldn't enable BIP37 bloom filters for public peers.",
      "created_at": "2021-10-07T16:24:26Z",
      "updated_at": "2021-10-07T16:24:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r724341411",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724341411"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2764,
      "original_line": 2764,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/780726527",
      "pull_request_review_id": 847208700,
      "id": 780726527,
      "node_id": "PRRC_kwDOABII584uiPD_",
      "diff_hunk": "@@ -2710,8 +2709,15 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         // set nodes not capable of serving the complete blockchain history as \"limited nodes\"\n         pfrom.m_limited_node = (!(nServices & NODE_NETWORK) && (nServices & NODE_NETWORK_LIMITED));\n \n-        {\n+        // We only initialize the m_tx_relay data structure if:\n+        // - this isn't an outbound block-relay-only connection; and\n+        // - fRelay=true or we're offering NODE_BLOOM to this peer\n+        //   (NODE_BLOOM means that the peer may turn on tx relay later)\n+        const bool enable_tx_relay = !pfrom.IsBlockOnlyConn() &&\n+                                      (fRelay || (pfrom.GetLocalServices() & NODE_BLOOM));",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 40,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "61fea1335287bf6ee9fd4ce521d5d17138cb99fd",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think that means peers to which we'd connect in `-blocksonly` mode, also wouldn't initialize `m_tx_relay` anymore. \r\nBut `-blocksonly` mode until now allows to submit and relay transactions via RPC (`sendrawtransaction`), even if it that is obviously bad for privacy. \r\nWith this change, attempting to send a tx via RPC in `-blocksonly` mode might lead to all of our peers disconnecting us because they wouldn't have `m_tx_relay` enabled anymore.",
      "created_at": "2022-01-09T02:18:26Z",
      "updated_at": "2022-01-09T02:22:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r780726527",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/780726527"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2751,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/838313272",
      "pull_request_review_id": 925796498,
      "id": 838313272,
      "node_id": "PRRC_kwDOABII584x96U4",
      "diff_hunk": "@@ -2710,8 +2709,15 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         // set nodes not capable of serving the complete blockchain history as \"limited nodes\"\n         pfrom.m_limited_node = (!(nServices & NODE_NETWORK) && (nServices & NODE_NETWORK_LIMITED));\n \n-        {\n+        // We only initialize the m_tx_relay data structure if:\n+        // - this isn't an outbound block-relay-only connection; and\n+        // - fRelay=true or we're offering NODE_BLOOM to this peer\n+        //   (NODE_BLOOM means that the peer may turn on tx relay later)\n+        const bool enable_tx_relay = !pfrom.IsBlockOnlyConn() &&\n+                                      (fRelay || (pfrom.GetLocalServices() & NODE_BLOOM));",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 40,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "61fea1335287bf6ee9fd4ce521d5d17138cb99fd",
      "in_reply_to_id": 780726527,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Good catch. I've updated the `inv` and `tx` logic to explicitly test whether the peer is a block-relay-only connect instead of testing the existence of the Peer::TxRelay struct. That means that if we send a transaction to a peer while we're in blocksonly mode, then they will still process it.",
      "created_at": "2022-03-30T09:14:47Z",
      "updated_at": "2022-03-30T09:14:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r838313272",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/838313272"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2751,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/838317050",
      "pull_request_review_id": 925801674,
      "id": 838317050,
      "node_id": "PRRC_kwDOABII584x97P6",
      "diff_hunk": "@@ -2710,8 +2709,15 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         // set nodes not capable of serving the complete blockchain history as \"limited nodes\"\n         pfrom.m_limited_node = (!(nServices & NODE_NETWORK) && (nServices & NODE_NETWORK_LIMITED));\n \n-        {\n+        // We only initialize the m_tx_relay data structure if:\n+        // - this isn't an outbound block-relay-only connection; and\n+        // - fRelay=true or we're offering NODE_BLOOM to this peer\n+        //   (NODE_BLOOM means that the peer may turn on tx relay later)\n+        const bool enable_tx_relay = !pfrom.IsBlockOnlyConn() &&\n+                                      (fRelay || (pfrom.GetLocalServices() & NODE_BLOOM));",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 40,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "61fea1335287bf6ee9fd4ce521d5d17138cb99fd",
      "in_reply_to_id": 780726527,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": ">  With this change, attempting to send a tx via RPC in -blocksonly mode might lead to all of our peers disconnecting us because they wouldn't have m_tx_relay enabled anymore.\r\n\r\nIsn't there a test already that should check for this?",
      "created_at": "2022-03-30T09:18:47Z",
      "updated_at": "2022-03-30T09:18:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r838317050",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/838317050"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2751,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/838321131",
      "pull_request_review_id": 925807315,
      "id": 838321131,
      "node_id": "PRRC_kwDOABII584x98Pr",
      "diff_hunk": "@@ -2710,8 +2709,15 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         // set nodes not capable of serving the complete blockchain history as \"limited nodes\"\n         pfrom.m_limited_node = (!(nServices & NODE_NETWORK) && (nServices & NODE_NETWORK_LIMITED));\n \n-        {\n+        // We only initialize the m_tx_relay data structure if:\n+        // - this isn't an outbound block-relay-only connection; and\n+        // - fRelay=true or we're offering NODE_BLOOM to this peer\n+        //   (NODE_BLOOM means that the peer may turn on tx relay later)\n+        const bool enable_tx_relay = !pfrom.IsBlockOnlyConn() &&\n+                                      (fRelay || (pfrom.GetLocalServices() & NODE_BLOOM));",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 40,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "61fea1335287bf6ee9fd4ce521d5d17138cb99fd",
      "in_reply_to_id": 780726527,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": ">> With this change, attempting to send a tx via RPC in -blocksonly mode might lead to all of our peers disconnecting us because they wouldn't have m_tx_relay enabled anymore.\r\n\r\n> Isn't there a test already that should check for this?\r\n\r\nI would guess that:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/bdbabc50ba6c87ded97ea2bbacd3605c59cd12d0/test/functional/p2p_blocksonly.py#L43\r\n\r\nwould catch it. This branch was previously a draft since it was shared as a WIP, and I'm not sure if that test was failing.",
      "created_at": "2022-03-30T09:23:03Z",
      "updated_at": "2022-03-30T10:26:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r838321131",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/838321131"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2751,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/838339584",
      "pull_request_review_id": 925833038,
      "id": 838339584,
      "node_id": "PRRC_kwDOABII584x-AwA",
      "diff_hunk": "@@ -2714,10 +2743,21 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         // set nodes not capable of serving the complete blockchain history as \"limited nodes\"\n         pfrom.m_limited_node = (!(nServices & NODE_NETWORK) && (nServices & NODE_NETWORK_LIMITED));\n \n-        if (peer->m_tx_relay != nullptr) {\n+        // We only initialize the m_tx_relay data structure if:\n+        // - this isn't an outbound block-relay-only connection; and\n+        // - fRelay=true or we're offering NODE_BLOOM to this peer\n+        //   (NODE_BLOOM means that the peer may turn on tx relay later)\n+        if (!pfrom.IsBlockOnlyConn() &&\n+            (fRelay || (pfrom.GetLocalServices() & NODE_BLOOM))) {\n+            auto* tx_relay = [&peer]() {\n+                LOCK(peer->m_tx_relay_mutex);\n+                Assume(!peer->m_tx_relay);",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 213,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "a23d716a7b62bce9b1c83359e0d82890df1b0b26",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "#21596 :smiling_face_with_tear: \r\n\r\n```\r\nnet_processing.cpp:2754:31: error: reading variable 'm_tx_relay' requires holding mutex 'peer->m_tx_relay_mutex' [-Werror,-Wthread-safety-analysis]\r\n                Assume(!peer->m_tx_relay);\r\n                              ^\r\n1 error generated.",
      "created_at": "2022-03-30T09:40:35Z",
      "updated_at": "2022-03-30T09:40:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r838339584",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/838339584"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2755,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/838347009",
      "pull_request_review_id": 925843250,
      "id": 838347009,
      "node_id": "PRRC_kwDOABII584x-CkB",
      "diff_hunk": "@@ -2714,10 +2743,21 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         // set nodes not capable of serving the complete blockchain history as \"limited nodes\"\n         pfrom.m_limited_node = (!(nServices & NODE_NETWORK) && (nServices & NODE_NETWORK_LIMITED));\n \n-        if (peer->m_tx_relay != nullptr) {\n+        // We only initialize the m_tx_relay data structure if:\n+        // - this isn't an outbound block-relay-only connection; and\n+        // - fRelay=true or we're offering NODE_BLOOM to this peer\n+        //   (NODE_BLOOM means that the peer may turn on tx relay later)\n+        if (!pfrom.IsBlockOnlyConn() &&\n+            (fRelay || (pfrom.GetLocalServices() & NODE_BLOOM))) {\n+            auto* tx_relay = [&peer]() {\n+                LOCK(peer->m_tx_relay_mutex);\n+                Assume(!peer->m_tx_relay);",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 213,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "a23d716a7b62bce9b1c83359e0d82890df1b0b26",
      "in_reply_to_id": 838339584,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yeah, I'll remove the lambda.",
      "created_at": "2022-03-30T09:48:19Z",
      "updated_at": "2022-03-30T09:48:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r838347009",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/838347009"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2755,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/838351224",
      "pull_request_review_id": 925848954,
      "id": 838351224,
      "node_id": "PRRC_kwDOABII584x-Dl4",
      "diff_hunk": "@@ -2714,10 +2743,21 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         // set nodes not capable of serving the complete blockchain history as \"limited nodes\"\n         pfrom.m_limited_node = (!(nServices & NODE_NETWORK) && (nServices & NODE_NETWORK_LIMITED));\n \n-        if (peer->m_tx_relay != nullptr) {\n+        // We only initialize the m_tx_relay data structure if:\n+        // - this isn't an outbound block-relay-only connection; and\n+        // - fRelay=true or we're offering NODE_BLOOM to this peer\n+        //   (NODE_BLOOM means that the peer may turn on tx relay later)\n+        if (!pfrom.IsBlockOnlyConn() &&\n+            (fRelay || (pfrom.GetLocalServices() & NODE_BLOOM))) {\n+            auto* tx_relay = [&peer]() {\n+                LOCK(peer->m_tx_relay_mutex);\n+                Assume(!peer->m_tx_relay);",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 213,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "a23d716a7b62bce9b1c83359e0d82890df1b0b26",
      "in_reply_to_id": 838339584,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think the issue isn't with the lambda, but with `Assume`/`Assert`.\r\n\r\n",
      "created_at": "2022-03-30T09:52:50Z",
      "updated_at": "2022-03-30T09:52:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r838351224",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/838351224"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2755,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/838373832",
      "pull_request_review_id": 925880474,
      "id": 838373832,
      "node_id": "PRRC_kwDOABII584x-JHI",
      "diff_hunk": "@@ -2714,10 +2743,21 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         // set nodes not capable of serving the complete blockchain history as \"limited nodes\"\n         pfrom.m_limited_node = (!(nServices & NODE_NETWORK) && (nServices & NODE_NETWORK_LIMITED));\n \n-        if (peer->m_tx_relay != nullptr) {\n+        // We only initialize the m_tx_relay data structure if:\n+        // - this isn't an outbound block-relay-only connection; and\n+        // - fRelay=true or we're offering NODE_BLOOM to this peer\n+        //   (NODE_BLOOM means that the peer may turn on tx relay later)\n+        if (!pfrom.IsBlockOnlyConn() &&\n+            (fRelay || (pfrom.GetLocalServices() & NODE_BLOOM))) {\n+            auto* tx_relay = [&peer]() {\n+                LOCK(peer->m_tx_relay_mutex);\n+                Assume(!peer->m_tx_relay);",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 213,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "a23d716a7b62bce9b1c83359e0d82890df1b0b26",
      "in_reply_to_id": 838339584,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks. Removed.",
      "created_at": "2022-03-30T10:16:23Z",
      "updated_at": "2022-03-30T10:16:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r838373832",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/838373832"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2755,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/838378184",
      "pull_request_review_id": 925885737,
      "id": 838378184,
      "node_id": "PRRC_kwDOABII584x-KLI",
      "diff_hunk": "@@ -2714,10 +2743,21 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         // set nodes not capable of serving the complete blockchain history as \"limited nodes\"\n         pfrom.m_limited_node = (!(nServices & NODE_NETWORK) && (nServices & NODE_NETWORK_LIMITED));\n \n-        if (peer->m_tx_relay != nullptr) {\n+        // We only initialize the m_tx_relay data structure if:\n+        // - this isn't an outbound block-relay-only connection; and\n+        // - fRelay=true or we're offering NODE_BLOOM to this peer\n+        //   (NODE_BLOOM means that the peer may turn on tx relay later)\n+        if (!pfrom.IsBlockOnlyConn() &&\n+            (fRelay || (pfrom.GetLocalServices() & NODE_BLOOM))) {\n+            auto* tx_relay = [&peer]() {\n+                LOCK(peer->m_tx_relay_mutex);\n+                Assume(!peer->m_tx_relay);",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 213,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "a23d716a7b62bce9b1c83359e0d82890df1b0b26",
      "in_reply_to_id": 838339584,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Just for reference, an alternative to removing would be to temporarily asssign the value to a bool and then `Assume(name_of_bool)`.",
      "created_at": "2022-03-30T10:20:53Z",
      "updated_at": "2022-03-30T10:20:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r838378184",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/838378184"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2755,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/838382121",
      "pull_request_review_id": 925891270,
      "id": 838382121,
      "node_id": "PRRC_kwDOABII584x-LIp",
      "diff_hunk": "@@ -2710,8 +2709,15 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         // set nodes not capable of serving the complete blockchain history as \"limited nodes\"\n         pfrom.m_limited_node = (!(nServices & NODE_NETWORK) && (nServices & NODE_NETWORK_LIMITED));\n \n-        {\n+        // We only initialize the m_tx_relay data structure if:\n+        // - this isn't an outbound block-relay-only connection; and\n+        // - fRelay=true or we're offering NODE_BLOOM to this peer\n+        //   (NODE_BLOOM means that the peer may turn on tx relay later)\n+        const bool enable_tx_relay = !pfrom.IsBlockOnlyConn() &&\n+                                      (fRelay || (pfrom.GetLocalServices() & NODE_BLOOM));",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 40,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "61fea1335287bf6ee9fd4ce521d5d17138cb99fd",
      "in_reply_to_id": 780726527,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I did check that when I wrote my earlier comment: That test didn't fail because the peer we sent the tx to was just a python `P2PInterface()`, which wouldn't disconnect us for sending a tx like a full node would have.",
      "created_at": "2022-03-30T10:25:34Z",
      "updated_at": "2022-03-30T10:28:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r838382121",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/838382121"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2751,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/838383706",
      "pull_request_review_id": 925893334,
      "id": 838383706,
      "node_id": "PRRC_kwDOABII584x-Lha",
      "diff_hunk": "@@ -2710,8 +2709,15 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         // set nodes not capable of serving the complete blockchain history as \"limited nodes\"\n         pfrom.m_limited_node = (!(nServices & NODE_NETWORK) && (nServices & NODE_NETWORK_LIMITED));\n \n-        {\n+        // We only initialize the m_tx_relay data structure if:\n+        // - this isn't an outbound block-relay-only connection; and\n+        // - fRelay=true or we're offering NODE_BLOOM to this peer\n+        //   (NODE_BLOOM means that the peer may turn on tx relay later)\n+        const bool enable_tx_relay = !pfrom.IsBlockOnlyConn() &&\n+                                      (fRelay || (pfrom.GetLocalServices() & NODE_BLOOM));",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 40,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "61fea1335287bf6ee9fd4ce521d5d17138cb99fd",
      "in_reply_to_id": 780726527,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I guess the test could be changed to subclass `P2PInterface` and fail if the node under test sends a tx message.",
      "created_at": "2022-03-30T10:27:20Z",
      "updated_at": "2022-03-30T10:27:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r838383706",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/838383706"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2751,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/838487007",
      "pull_request_review_id": 926039082,
      "id": 838487007,
      "node_id": "PRRC_kwDOABII584x-kvf",
      "diff_hunk": "@@ -2714,10 +2743,21 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         // set nodes not capable of serving the complete blockchain history as \"limited nodes\"\n         pfrom.m_limited_node = (!(nServices & NODE_NETWORK) && (nServices & NODE_NETWORK_LIMITED));\n \n-        if (peer->m_tx_relay != nullptr) {\n+        // We only initialize the m_tx_relay data structure if:\n+        // - this isn't an outbound block-relay-only connection; and\n+        // - fRelay=true or we're offering NODE_BLOOM to this peer\n+        //   (NODE_BLOOM means that the peer may turn on tx relay later)\n+        if (!pfrom.IsBlockOnlyConn() &&\n+            (fRelay || (pfrom.GetLocalServices() & NODE_BLOOM))) {\n+            auto* tx_relay = [&peer]() {\n+                LOCK(peer->m_tx_relay_mutex);\n+                Assume(!peer->m_tx_relay);",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 213,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "a23d716a7b62bce9b1c83359e0d82890df1b0b26",
      "in_reply_to_id": 838339584,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Another reference: If #24714 is merged, you may be able to re-add the Assume as it was.",
      "created_at": "2022-03-30T12:32:59Z",
      "updated_at": "2022-03-30T12:32:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r838487007",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/838487007"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2755,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/838498477",
      "pull_request_review_id": 926055265,
      "id": 838498477,
      "node_id": "PRRC_kwDOABII584x-nit",
      "diff_hunk": "@@ -2714,10 +2743,21 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         // set nodes not capable of serving the complete blockchain history as \"limited nodes\"\n         pfrom.m_limited_node = (!(nServices & NODE_NETWORK) && (nServices & NODE_NETWORK_LIMITED));\n \n-        if (peer->m_tx_relay != nullptr) {\n+        // We only initialize the m_tx_relay data structure if:\n+        // - this isn't an outbound block-relay-only connection; and\n+        // - fRelay=true or we're offering NODE_BLOOM to this peer\n+        //   (NODE_BLOOM means that the peer may turn on tx relay later)\n+        if (!pfrom.IsBlockOnlyConn() &&\n+            (fRelay || (pfrom.GetLocalServices() & NODE_BLOOM))) {\n+            auto* tx_relay = [&peer]() {\n+                LOCK(peer->m_tx_relay_mutex);\n+                Assume(!peer->m_tx_relay);",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 213,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "a23d716a7b62bce9b1c83359e0d82890df1b0b26",
      "in_reply_to_id": 838339584,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'll leave this for now, and add the `Assume()` back if 24714 is merged. I'm 100% sure that this code path can only get hit once for each peer, so the `Assume()` was only there to catch weird regressions.",
      "created_at": "2022-03-30T12:44:59Z",
      "updated_at": "2022-03-30T12:44:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r838498477",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/838498477"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2755,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839284938",
      "pull_request_review_id": 927140879,
      "id": 839284938,
      "node_id": "PRRC_kwDOABII584yBnjK",
      "diff_hunk": "@@ -2714,10 +2743,21 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         // set nodes not capable of serving the complete blockchain history as \"limited nodes\"\n         pfrom.m_limited_node = (!(nServices & NODE_NETWORK) && (nServices & NODE_NETWORK_LIMITED));\n \n-        if (peer->m_tx_relay != nullptr) {\n+        // We only initialize the m_tx_relay data structure if:\n+        // - this isn't an outbound block-relay-only connection; and\n+        // - fRelay=true or we're offering NODE_BLOOM to this peer\n+        //   (NODE_BLOOM means that the peer may turn on tx relay later)\n+        if (!pfrom.IsBlockOnlyConn() &&\n+            (fRelay || (pfrom.GetLocalServices() & NODE_BLOOM))) {\n+            auto* tx_relay = [&peer]() {\n+                LOCK(peer->m_tx_relay_mutex);\n+                Assume(!peer->m_tx_relay);",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 213,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "a23d716a7b62bce9b1c83359e0d82890df1b0b26",
      "in_reply_to_id": 838339584,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> I'll leave this for now, and add the Assume() back if 24714 is merged.\r\n\r\nNow done.",
      "created_at": "2022-03-31T07:47:39Z",
      "updated_at": "2022-03-31T07:47:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r839284938",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839284938"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2755,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/854922999",
      "pull_request_review_id": 948234553,
      "id": 854922999,
      "node_id": "PRRC_kwDOABII584y9Rb3",
      "diff_hunk": "@@ -2744,7 +2753,13 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         // set nodes not capable of serving the complete blockchain history as \"limited nodes\"\n         pfrom.m_limited_node = (!(nServices & NODE_NETWORK) && (nServices & NODE_NETWORK_LIMITED));\n \n-        if (auto tx_relay = peer->GetTxRelay(); tx_relay != nullptr) {\n+        // We only initialize the m_tx_relay data structure if:\n+        // - this isn't an outbound block-relay-only connection; and\n+        // - fRelay=true or we're offering NODE_BLOOM to this peer\n+        //   (NODE_BLOOM means that the peer may turn on tx relay later)\n+        if (!pfrom.IsBlockOnlyConn() &&",
      "path": "src/net_processing.cpp",
      "position": 226,
      "original_position": 71,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "d5c191806f81af686eff80afa99d4a63053ee2fa",
      "in_reply_to_id": null,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Maybe out of scope for this PR but we should also be able to skip the txrelay setup for feeler connections.",
      "created_at": "2022-04-21T08:29:00Z",
      "updated_at": "2022-04-21T09:31:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r854922999",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/854922999"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2765,
      "original_line": 2765,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/858578282",
      "pull_request_review_id": 953181647,
      "id": 858578282,
      "node_id": "PRRC_kwDOABII584zLN1q",
      "diff_hunk": "@@ -2744,7 +2753,13 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         // set nodes not capable of serving the complete blockchain history as \"limited nodes\"\n         pfrom.m_limited_node = (!(nServices & NODE_NETWORK) && (nServices & NODE_NETWORK_LIMITED));\n \n-        if (auto tx_relay = peer->GetTxRelay(); tx_relay != nullptr) {\n+        // We only initialize the m_tx_relay data structure if:\n+        // - this isn't an outbound block-relay-only connection; and\n+        // - fRelay=true or we're offering NODE_BLOOM to this peer\n+        //   (NODE_BLOOM means that the peer may turn on tx relay later)\n+        if (!pfrom.IsBlockOnlyConn() &&",
      "path": "src/net_processing.cpp",
      "position": 226,
      "original_position": 71,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "d5c191806f81af686eff80afa99d4a63053ee2fa",
      "in_reply_to_id": 854922999,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I agree that we could skip it, and also agree that it's out of scope for this PR (which shouldn't change behaviour).\r\n\r\nAlso note that we only have at most one feeler connection at a time, so this wouldn't result in much resource saving (whereas it's potentially very significant for inbound block-relay-only peers, since there could be many of them).",
      "created_at": "2022-04-26T11:01:04Z",
      "updated_at": "2022-04-26T11:01:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r858578282",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/858578282"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2765,
      "original_line": 2765,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/858636237",
      "pull_request_review_id": 953267723,
      "id": 858636237,
      "node_id": "PRRC_kwDOABII584zLb_N",
      "diff_hunk": "@@ -235,36 +235,64 @@ struct Peer {\n \n     /** Whether this peer relays txs via wtxid */\n     std::atomic<bool> m_wtxid_relay{false};\n+    /** The feerate in the most recent BIP133 `feefilter` message sent to the peer.\n+     *  It is *not* a p2p protocol violation for the peer to send us\n+     *  transactions with a lower fee rate than this. See BIP133. */\n+    CAmount m_fee_filter_sent{0};\n+    /** Timestamp after which we will send the next BIP133 `feefilter` message\n+      * to the peer. */\n+    std::chrono::microseconds m_next_send_feefilter{0};\n \n     struct TxRelay {\n+        /** Protects m_bloom_filter and the m_relay_txs flag. */\n         mutable RecursiveMutex m_bloom_filter_mutex;\n-        // We use m_relay_txs for two purposes -\n-        // a) it allows us to not relay tx invs before receiving the peer's version message\n-        // b) the peer may tell us in its version message that we should not relay tx invs\n-        //    unless it loads a bloom filter.\n+        /** Whether the peer wishes to receive transaction announements.",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 19,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "ee135a2a67b96024b66b094d28f9ab3ec6d634be",
      "in_reply_to_id": null,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n        /** Whether the peer wishes to receive transaction announcements.\r\n```",
      "created_at": "2022-04-26T12:10:27Z",
      "updated_at": "2022-04-26T14:13:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r858636237",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/858636237"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 249,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861546578",
      "pull_request_review_id": 957371765,
      "id": 861546578,
      "node_id": "PRRC_kwDOABII584zWihS",
      "diff_hunk": "@@ -235,36 +235,64 @@ struct Peer {\n \n     /** Whether this peer relays txs via wtxid */\n     std::atomic<bool> m_wtxid_relay{false};\n+    /** The feerate in the most recent BIP133 `feefilter` message sent to the peer.\n+     *  It is *not* a p2p protocol violation for the peer to send us\n+     *  transactions with a lower fee rate than this. See BIP133. */\n+    CAmount m_fee_filter_sent{0};\n+    /** Timestamp after which we will send the next BIP133 `feefilter` message\n+      * to the peer. */\n+    std::chrono::microseconds m_next_send_feefilter{0};\n \n     struct TxRelay {\n+        /** Protects m_bloom_filter and the m_relay_txs flag. */\n         mutable RecursiveMutex m_bloom_filter_mutex;\n-        // We use m_relay_txs for two purposes -\n-        // a) it allows us to not relay tx invs before receiving the peer's version message\n-        // b) the peer may tell us in its version message that we should not relay tx invs\n-        //    unless it loads a bloom filter.\n+        /** Whether the peer wishes to receive transaction announements.",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 19,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "ee135a2a67b96024b66b094d28f9ab3ec6d634be",
      "in_reply_to_id": 858636237,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks. Fixed.",
      "created_at": "2022-04-29T07:49:33Z",
      "updated_at": "2022-04-29T07:49:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r861546578",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861546578"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 249,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/871092588",
      "pull_request_review_id": 970454110,
      "id": 871092588,
      "node_id": "PRRC_kwDOABII584z69Fs",
      "diff_hunk": "@@ -235,32 +235,48 @@ struct Peer {\n \n     /** Whether this peer relays txs via wtxid */\n     std::atomic<bool> m_wtxid_relay{false};\n-    /** The feerate in the most recent BIP133 `feefilter` message sent to the peer. */\n+    /** The feerate in the most recent BIP133 `feefilter` message sent to the peer.\n+     *  It is *not* a p2p protocol violation for the peer to send us\n+     *  transactions with a lower fee rate than this. See BIP133. */\n     CAmount m_fee_filter_sent{0};\n-    /** Timestamp to send the next BIP133 `feefilter` message sent to the peer. */\n+    /** Timestamp after which we will send the next BIP133 `feefilter` message\n+      * to the peer. */\n     std::chrono::microseconds m_next_send_feefilter{0};\n \n     struct TxRelay {\n+        /** Protects m_bloom_filter and the m_relay_txs flag. */\n         mutable RecursiveMutex m_bloom_filter_mutex;\n-        // We use m_relay_txs for two purposes -\n-        // a) it allows us to not relay tx invs before receiving the peer's version message\n-        // b) the peer may tell us in its version message that we should not relay tx invs\n-        //    unless it loads a bloom filter.\n+        /** Whether the peer wishes to receive transaction announcements.\n+         *\n+         * This is initially set based on the fRelay flag in the received\n+         * `version` message. If initially set to false, it can only be flipped\n+         * to true if we have offered the peer NODE_BLOOM services and it sends\n+         * us a `filterload` or `filterclear` message. See BIP37. */\n         bool m_relay_txs GUARDED_BY(m_bloom_filter_mutex){false};\n+        /** A bloom filter for which transactions to announce to the peer. See BIP37. */\n         std::unique_ptr<CBloomFilter> m_bloom_filter PT_GUARDED_BY(m_bloom_filter_mutex) GUARDED_BY(m_bloom_filter_mutex){nullptr};\n \n+        /** Protects m_tx_inventory_known and the m_send_mempool flag */\n         mutable RecursiveMutex m_tx_inventory_mutex;\n+        /** A filter of all the txids and wtxids that the peer has announced to\n+         *  us or we have announced to the peer. We use this to avoid announcing\n+         *  the same txid/wtxid to a peer that already has the transaction. */\n         CRollingBloomFilter m_tx_inventory_known_filter GUARDED_BY(m_tx_inventory_mutex){50000, 0.000001};\n-        // Set of transaction ids we still have to announce.\n-        // They are sorted by the mempool before relay, so the order is not important.\n+        /** Set of transaction ids we still have to announce (txid for\n+         *  non-wtxid-relay peers, wtxid for wtxid-relay peers). We use the\n+         *  mempool to sort transactions in dependency order before relay, so\n+         *  this does not have to be sorted. */\n         std::set<uint256> m_tx_inventory_to_send;\n-        // Used for BIP35 mempool sending\n+        /** Whether the peer has requested us to send our complete mempool. Only\n+         *  permitted if the peer has NetPermissionFlags::Mempool. See BIP35. */\n         bool m_send_mempool GUARDED_BY(m_tx_inventory_mutex){false};\n-        // Last time a \"MEMPOOL\" request was serviced.\n+        /** The last time a BIP35 `mempool` request was serviced. */\n         std::atomic<std::chrono::seconds> m_last_mempool_req{0s};\n+        /** The next time after which we will send an `inv` message containing",
      "path": "src/net_processing.cpp",
      "position": 47,
      "original_position": 51,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "b3d761231475f3971dfe7f774ea3ab572b9ef26c",
      "in_reply_to_id": null,
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Nit: it also determines (through `fSendTrickle`) sending mempool response\r\n```\r\n\r\n// Respond to BIP35 mempool requests\r\nif (fSendTrickle && peer->m_tx_relay->m_send_mempool) {\r\n```",
      "created_at": "2022-05-12T08:25:53Z",
      "updated_at": "2022-05-12T08:26:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r871092588",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/871092588"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 275,
      "original_line": 275,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/871096636",
      "pull_request_review_id": 970460138,
      "id": 871096636,
      "node_id": "PRRC_kwDOABII584z6-E8",
      "diff_hunk": "@@ -235,32 +235,48 @@ struct Peer {\n \n     /** Whether this peer relays txs via wtxid */\n     std::atomic<bool> m_wtxid_relay{false};\n-    /** The feerate in the most recent BIP133 `feefilter` message sent to the peer. */\n+    /** The feerate in the most recent BIP133 `feefilter` message sent to the peer.\n+     *  It is *not* a p2p protocol violation for the peer to send us\n+     *  transactions with a lower fee rate than this. See BIP133. */\n     CAmount m_fee_filter_sent{0};\n-    /** Timestamp to send the next BIP133 `feefilter` message sent to the peer. */\n+    /** Timestamp after which we will send the next BIP133 `feefilter` message\n+      * to the peer. */\n     std::chrono::microseconds m_next_send_feefilter{0};\n \n     struct TxRelay {\n+        /** Protects m_bloom_filter and the m_relay_txs flag. */\n         mutable RecursiveMutex m_bloom_filter_mutex;\n-        // We use m_relay_txs for two purposes -\n-        // a) it allows us to not relay tx invs before receiving the peer's version message\n-        // b) the peer may tell us in its version message that we should not relay tx invs\n-        //    unless it loads a bloom filter.\n+        /** Whether the peer wishes to receive transaction announcements.\n+         *\n+         * This is initially set based on the fRelay flag in the received\n+         * `version` message. If initially set to false, it can only be flipped\n+         * to true if we have offered the peer NODE_BLOOM services and it sends\n+         * us a `filterload` or `filterclear` message. See BIP37. */\n         bool m_relay_txs GUARDED_BY(m_bloom_filter_mutex){false};\n+        /** A bloom filter for which transactions to announce to the peer. See BIP37. */\n         std::unique_ptr<CBloomFilter> m_bloom_filter PT_GUARDED_BY(m_bloom_filter_mutex) GUARDED_BY(m_bloom_filter_mutex){nullptr};\n \n+        /** Protects m_tx_inventory_known and the m_send_mempool flag */\n         mutable RecursiveMutex m_tx_inventory_mutex;\n+        /** A filter of all the txids and wtxids that the peer has announced to\n+         *  us or we have announced to the peer. We use this to avoid announcing\n+         *  the same txid/wtxid to a peer that already has the transaction. */\n         CRollingBloomFilter m_tx_inventory_known_filter GUARDED_BY(m_tx_inventory_mutex){50000, 0.000001};\n-        // Set of transaction ids we still have to announce.\n-        // They are sorted by the mempool before relay, so the order is not important.\n+        /** Set of transaction ids we still have to announce (txid for\n+         *  non-wtxid-relay peers, wtxid for wtxid-relay peers). We use the\n+         *  mempool to sort transactions in dependency order before relay, so\n+         *  this does not have to be sorted. */\n         std::set<uint256> m_tx_inventory_to_send;\n-        // Used for BIP35 mempool sending\n+        /** Whether the peer has requested us to send our complete mempool. Only\n+         *  permitted if the peer has NetPermissionFlags::Mempool. See BIP35. */\n         bool m_send_mempool GUARDED_BY(m_tx_inventory_mutex){false};\n-        // Last time a \"MEMPOOL\" request was serviced.\n+        /** The last time a BIP35 `mempool` request was serviced. */\n         std::atomic<std::chrono::seconds> m_last_mempool_req{0s};\n+        /** The next time after which we will send an `inv` message containing",
      "path": "src/net_processing.cpp",
      "position": 47,
      "original_position": 51,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "b3d761231475f3971dfe7f774ea3ab572b9ef26c",
      "in_reply_to_id": 871092588,
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Arguably, this field could be moved out of `TxRelay` then. Or perhaps we should use another timer for mempool.",
      "created_at": "2022-05-12T08:29:44Z",
      "updated_at": "2022-05-12T08:29:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r871096636",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/871096636"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 275,
      "original_line": 275,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/871121660",
      "pull_request_review_id": 970493484,
      "id": 871121660,
      "node_id": "PRRC_kwDOABII584z7EL8",
      "diff_hunk": "@@ -3353,7 +3368,7 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         // Stop processing the transaction early if\n         // 1) We are in blocks only mode and peer has no relay permission",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 88,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "4bebd4c72c9328ec6dc7ef5d8d1dd7b53d73fa22",
      "in_reply_to_id": null,
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: add `OR` to the comment",
      "created_at": "2022-05-12T08:54:10Z",
      "updated_at": "2022-05-12T08:54:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r871121660",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/871121660"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3367,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/873223316",
      "pull_request_review_id": 973230838,
      "id": 873223316,
      "node_id": "PRRC_kwDOABII5840DFSU",
      "diff_hunk": "@@ -235,32 +235,48 @@ struct Peer {\n \n     /** Whether this peer relays txs via wtxid */\n     std::atomic<bool> m_wtxid_relay{false};\n-    /** The feerate in the most recent BIP133 `feefilter` message sent to the peer. */\n+    /** The feerate in the most recent BIP133 `feefilter` message sent to the peer.\n+     *  It is *not* a p2p protocol violation for the peer to send us\n+     *  transactions with a lower fee rate than this. See BIP133. */\n     CAmount m_fee_filter_sent{0};\n-    /** Timestamp to send the next BIP133 `feefilter` message sent to the peer. */\n+    /** Timestamp after which we will send the next BIP133 `feefilter` message\n+      * to the peer. */\n     std::chrono::microseconds m_next_send_feefilter{0};\n \n     struct TxRelay {\n+        /** Protects m_bloom_filter and the m_relay_txs flag. */\n         mutable RecursiveMutex m_bloom_filter_mutex;\n-        // We use m_relay_txs for two purposes -\n-        // a) it allows us to not relay tx invs before receiving the peer's version message\n-        // b) the peer may tell us in its version message that we should not relay tx invs\n-        //    unless it loads a bloom filter.\n+        /** Whether the peer wishes to receive transaction announcements.\n+         *\n+         * This is initially set based on the fRelay flag in the received\n+         * `version` message. If initially set to false, it can only be flipped\n+         * to true if we have offered the peer NODE_BLOOM services and it sends\n+         * us a `filterload` or `filterclear` message. See BIP37. */\n         bool m_relay_txs GUARDED_BY(m_bloom_filter_mutex){false};\n+        /** A bloom filter for which transactions to announce to the peer. See BIP37. */\n         std::unique_ptr<CBloomFilter> m_bloom_filter PT_GUARDED_BY(m_bloom_filter_mutex) GUARDED_BY(m_bloom_filter_mutex){nullptr};\n \n+        /** Protects m_tx_inventory_known and the m_send_mempool flag */\n         mutable RecursiveMutex m_tx_inventory_mutex;\n+        /** A filter of all the txids and wtxids that the peer has announced to\n+         *  us or we have announced to the peer. We use this to avoid announcing\n+         *  the same txid/wtxid to a peer that already has the transaction. */\n         CRollingBloomFilter m_tx_inventory_known_filter GUARDED_BY(m_tx_inventory_mutex){50000, 0.000001};\n-        // Set of transaction ids we still have to announce.\n-        // They are sorted by the mempool before relay, so the order is not important.\n+        /** Set of transaction ids we still have to announce (txid for\n+         *  non-wtxid-relay peers, wtxid for wtxid-relay peers). We use the\n+         *  mempool to sort transactions in dependency order before relay, so\n+         *  this does not have to be sorted. */\n         std::set<uint256> m_tx_inventory_to_send;\n-        // Used for BIP35 mempool sending\n+        /** Whether the peer has requested us to send our complete mempool. Only\n+         *  permitted if the peer has NetPermissionFlags::Mempool. See BIP35. */\n         bool m_send_mempool GUARDED_BY(m_tx_inventory_mutex){false};\n-        // Last time a \"MEMPOOL\" request was serviced.\n+        /** The last time a BIP35 `mempool` request was serviced. */\n         std::atomic<std::chrono::seconds> m_last_mempool_req{0s};\n+        /** The next time after which we will send an `inv` message containing",
      "path": "src/net_processing.cpp",
      "position": 47,
      "original_position": 51,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "b3d761231475f3971dfe7f774ea3ab572b9ef26c",
      "in_reply_to_id": 871092588,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> Nit: it also determines (through fSendTrickle) sending mempool response\r\n\r\nThe response to a mempool message is one or more inv announcement messages for transactions in the mempool. I think the comment is correct.\r\n\r\n> Arguably, this field could be moved out of TxRelay then. Or perhaps we should use another timer for mempool.\r\n\r\nI think it'd be better to simply remove support for the `mempool` message. I think it's unlikely that many people are using it, and it'd be better to provide this functionality (exposing the contents of the mempool) through rpc rather than a 'private' p2p extension.",
      "created_at": "2022-05-15T20:39:24Z",
      "updated_at": "2022-05-15T20:39:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r873223316",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/873223316"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 275,
      "original_line": 275,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/873223921",
      "pull_request_review_id": 973231389,
      "id": 873223921,
      "node_id": "PRRC_kwDOABII5840DFbx",
      "diff_hunk": "@@ -3353,7 +3368,7 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         // Stop processing the transaction early if\n         // 1) We are in blocks only mode and peer has no relay permission",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 88,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "4bebd4c72c9328ec6dc7ef5d8d1dd7b53d73fa22",
      "in_reply_to_id": 871121660,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2022-05-15T20:45:11Z",
      "updated_at": "2022-05-15T20:45:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r873223921",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/873223921"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3367,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/874732084",
      "pull_request_review_id": 975352984,
      "id": 874732084,
      "node_id": "PRRC_kwDOABII5840I1o0",
      "diff_hunk": "@@ -4565,10 +4567,11 @@ void PeerManagerImpl::MaybeSendAddr(CNode& node, Peer& peer, std::chrono::micros\n void PeerManagerImpl::MaybeSendFeefilter(CNode& pto, Peer& peer, std::chrono::microseconds current_time)\n {\n     if (m_ignore_incoming_txs) return;\n-    if (!peer.m_tx_relay) return;\n     if (pto.GetCommonVersion() < FEEFILTER_VERSION) return;\n     // peers with the forcerelay permission should not filter txs to us\n     if (pto.HasPermission(NetPermissionFlags::ForceRelay)) return;\n+    // Don't send feefilter messages to outbound block-relay-only peers",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 28,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "811783671d2a9cb2e811f539c889612662ce158c",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit in 811783671d2a9cb2e811f539c889612662ce158c:\r\n\r\nInstead of repeating what the code does in the comment, maybe just leave it out (delete it) or explain *why* this is done. For example, it could say that the `feefilter` message to block-relay-only peers (or the absence of the message) shouldn't change their behaviour, so it is safe to skip:\r\n\r\n```cpp\r\n// Outbound block-relay-only peers should not send any txs to us, regardless of a feefilter message\r\n```\r\n\r\n\r\nAlso, the commit message could explain *why* this is a refactor. For example, it could mention that `IsBlockOnlyConn()` is exactly equal to `!peer.m_tx_relay` (as of this commit).",
      "created_at": "2022-05-17T12:09:16Z",
      "updated_at": "2022-05-17T15:47:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r874732084",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/874732084"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4573,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/874959499",
      "pull_request_review_id": 975352984,
      "id": 874959499,
      "node_id": "PRRC_kwDOABII5840JtKL",
      "diff_hunk": "@@ -237,32 +237,48 @@ struct Peer {\n \n     /** Whether this peer relays txs via wtxid */\n     std::atomic<bool> m_wtxid_relay{false};\n-    /** The feerate in the most recent BIP133 `feefilter` message sent to the peer. */\n+    /** The feerate in the most recent BIP133 `feefilter` message sent to the peer.\n+     *  It is *not* a p2p protocol violation for the peer to send us\n+     *  transactions with a lower fee rate than this. See BIP133. */",
      "path": "src/net_processing.cpp",
      "position": 6,
      "original_position": 7,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "b771e14436d5008fbd4a2235ccc88730362a9179",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "b771e14436d5008fbd4a2235ccc88730362a9179: Seems odd to add a comment in the previous commit and then rewrite it in the next commit. Why not add the final comment in a single attempt?",
      "created_at": "2022-05-17T15:22:41Z",
      "updated_at": "2022-05-17T15:46:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r874959499",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/874959499"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 242,
      "original_line": 242,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/874959865",
      "pull_request_review_id": 975352984,
      "id": 874959865,
      "node_id": "PRRC_kwDOABII5840JtP5",
      "diff_hunk": "@@ -237,32 +237,48 @@ struct Peer {\n \n     /** Whether this peer relays txs via wtxid */\n     std::atomic<bool> m_wtxid_relay{false};\n-    /** The feerate in the most recent BIP133 `feefilter` message sent to the peer. */\n+    /** The feerate in the most recent BIP133 `feefilter` message sent to the peer.\n+     *  It is *not* a p2p protocol violation for the peer to send us\n+     *  transactions with a lower fee rate than this. See BIP133. */\n     CAmount m_fee_filter_sent{0};\n-    /** Timestamp to send the next BIP133 `feefilter` message sent to the peer. */\n+    /** Timestamp after which we will send the next BIP133 `feefilter` message\n+      * to the peer. */",
      "path": "src/net_processing.cpp",
      "position": 9,
      "original_position": 11,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "b771e14436d5008fbd4a2235ccc88730362a9179",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "same",
      "created_at": "2022-05-17T15:22:56Z",
      "updated_at": "2022-05-17T15:46:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r874959865",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/874959865"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 245,
      "original_line": 245,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/874963044",
      "pull_request_review_id": 975352984,
      "id": 874963044,
      "node_id": "PRRC_kwDOABII5840JuBk",
      "diff_hunk": "@@ -237,32 +237,48 @@ struct Peer {\n \n     /** Whether this peer relays txs via wtxid */\n     std::atomic<bool> m_wtxid_relay{false};\n-    /** The feerate in the most recent BIP133 `feefilter` message sent to the peer. */\n+    /** The feerate in the most recent BIP133 `feefilter` message sent to the peer.\n+     *  It is *not* a p2p protocol violation for the peer to send us\n+     *  transactions with a lower fee rate than this. See BIP133. */\n     CAmount m_fee_filter_sent{0};\n-    /** Timestamp to send the next BIP133 `feefilter` message sent to the peer. */\n+    /** Timestamp after which we will send the next BIP133 `feefilter` message\n+      * to the peer. */\n     std::chrono::microseconds m_next_send_feefilter{0};\n \n     struct TxRelay {\n+        /** Protects m_bloom_filter and the m_relay_txs flag. */",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 15,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "b771e14436d5008fbd4a2235ccc88730362a9179",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "b771e14436d5008fbd4a2235ccc88730362a9179: Not sure how useful it is to repeat stuff that can be seen in the code in less than a second. Seems like a burden to maintain and keep updated for no good reason.",
      "created_at": "2022-05-17T15:25:37Z",
      "updated_at": "2022-05-17T15:46:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r874963044",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/874963044"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 249,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/874963989",
      "pull_request_review_id": 975352984,
      "id": 874963989,
      "node_id": "PRRC_kwDOABII5840JuQV",
      "diff_hunk": "@@ -237,32 +237,48 @@ struct Peer {\n \n     /** Whether this peer relays txs via wtxid */\n     std::atomic<bool> m_wtxid_relay{false};\n-    /** The feerate in the most recent BIP133 `feefilter` message sent to the peer. */\n+    /** The feerate in the most recent BIP133 `feefilter` message sent to the peer.\n+     *  It is *not* a p2p protocol violation for the peer to send us\n+     *  transactions with a lower fee rate than this. See BIP133. */\n     CAmount m_fee_filter_sent{0};\n-    /** Timestamp to send the next BIP133 `feefilter` message sent to the peer. */\n+    /** Timestamp after which we will send the next BIP133 `feefilter` message\n+      * to the peer. */\n     std::chrono::microseconds m_next_send_feefilter{0};\n \n     struct TxRelay {\n+        /** Protects m_bloom_filter and the m_relay_txs flag. */\n         mutable RecursiveMutex m_bloom_filter_mutex;\n-        // We use m_relay_txs for two purposes -\n-        // a) it allows us to not relay tx invs before receiving the peer's version message\n-        // b) the peer may tell us in its version message that we should not relay tx invs\n-        //    unless it loads a bloom filter.\n+        /** Whether the peer wishes to receive transaction announcements.\n+         *\n+         * This is initially set based on the fRelay flag in the received\n+         * `version` message. If initially set to false, it can only be flipped\n+         * to true if we have offered the peer NODE_BLOOM services and it sends\n+         * us a `filterload` or `filterclear` message. See BIP37. */\n         bool m_relay_txs GUARDED_BY(m_bloom_filter_mutex){false};\n+        /** A bloom filter for which transactions to announce to the peer. See BIP37. */\n         std::unique_ptr<CBloomFilter> m_bloom_filter PT_GUARDED_BY(m_bloom_filter_mutex) GUARDED_BY(m_bloom_filter_mutex){nullptr};\n \n+        /** Protects m_tx_inventory_known and the m_send_mempool flag */",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 31,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "b771e14436d5008fbd4a2235ccc88730362a9179",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "same",
      "created_at": "2022-05-17T15:26:28Z",
      "updated_at": "2022-05-17T15:46:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r874963989",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/874963989"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 261,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/874977301",
      "pull_request_review_id": 975352984,
      "id": 874977301,
      "node_id": "PRRC_kwDOABII5840JxgV",
      "diff_hunk": "@@ -282,9 +282,18 @@ struct Peer {\n         std::atomic<CAmount> m_fee_filter_received{0};\n     };\n \n+    /** protects m_tx_relay */",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "66807193bf92dcad6d27a5bf8e2e47b97d0bb6b7",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "66807193bf92dcad6d27a5bf8e2e47b97d0bb6b7: Same\r\n\r\nIf this is something useful to maintain, it should be done by an automated linter to not tax review.",
      "created_at": "2022-05-17T15:38:05Z",
      "updated_at": "2022-05-17T15:46:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r874977301",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/874977301"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 285,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/875032064",
      "pull_request_review_id": 975780447,
      "id": 875032064,
      "node_id": "PRRC_kwDOABII5840J-4A",
      "diff_hunk": "@@ -2056,7 +2096,7 @@ void PeerManagerImpl::ProcessGetData(CNode& pfrom, Peer& peer, const std::atomic\n \n         const CInv &inv = *it++;\n \n-        if (peer.m_tx_relay == nullptr) {\n+        if (tx_relay == nullptr) {\n             // Ignore GETDATA requests for transactions from blocks-only peers.",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 205,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "c4455b7d86b782b7c010857e04be5a73dd1dbb43",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n            // Ignore GETDATA requests for transactions from block-relay-only peers and peers that asked us not to relay txs to them.\r\n```\r\n\r\nDoes this comment need an update in the last commit?",
      "created_at": "2022-05-17T16:29:57Z",
      "updated_at": "2022-05-17T16:29:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r875032064",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/875032064"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2100,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/875974501",
      "pull_request_review_id": 977077776,
      "id": 875974501,
      "node_id": "PRRC_kwDOABII5840Nk9l",
      "diff_hunk": "@@ -4565,10 +4567,11 @@ void PeerManagerImpl::MaybeSendAddr(CNode& node, Peer& peer, std::chrono::micros\n void PeerManagerImpl::MaybeSendFeefilter(CNode& pto, Peer& peer, std::chrono::microseconds current_time)\n {\n     if (m_ignore_incoming_txs) return;\n-    if (!peer.m_tx_relay) return;\n     if (pto.GetCommonVersion() < FEEFILTER_VERSION) return;\n     // peers with the forcerelay permission should not filter txs to us\n     if (pto.HasPermission(NetPermissionFlags::ForceRelay)) return;\n+    // Don't send feefilter messages to outbound block-relay-only peers",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 28,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "811783671d2a9cb2e811f539c889612662ce158c",
      "in_reply_to_id": 874732084,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2022-05-18T14:31:30Z",
      "updated_at": "2022-05-18T14:31:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r875974501",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/875974501"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4573,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/875974971",
      "pull_request_review_id": 977078496,
      "id": 875974971,
      "node_id": "PRRC_kwDOABII5840NlE7",
      "diff_hunk": "@@ -237,32 +237,48 @@ struct Peer {\n \n     /** Whether this peer relays txs via wtxid */\n     std::atomic<bool> m_wtxid_relay{false};\n-    /** The feerate in the most recent BIP133 `feefilter` message sent to the peer. */\n+    /** The feerate in the most recent BIP133 `feefilter` message sent to the peer.\n+     *  It is *not* a p2p protocol violation for the peer to send us\n+     *  transactions with a lower fee rate than this. See BIP133. */",
      "path": "src/net_processing.cpp",
      "position": 6,
      "original_position": 7,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "b771e14436d5008fbd4a2235ccc88730362a9179",
      "in_reply_to_id": 874959499,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Agree. This was a rebase oopsie from moving commits around. Fixed.",
      "created_at": "2022-05-18T14:31:53Z",
      "updated_at": "2022-05-18T14:31:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r875974971",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/875974971"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 242,
      "original_line": 242,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/875975102",
      "pull_request_review_id": 977078667,
      "id": 875975102,
      "node_id": "PRRC_kwDOABII5840NlG-",
      "diff_hunk": "@@ -237,32 +237,48 @@ struct Peer {\n \n     /** Whether this peer relays txs via wtxid */\n     std::atomic<bool> m_wtxid_relay{false};\n-    /** The feerate in the most recent BIP133 `feefilter` message sent to the peer. */\n+    /** The feerate in the most recent BIP133 `feefilter` message sent to the peer.\n+     *  It is *not* a p2p protocol violation for the peer to send us\n+     *  transactions with a lower fee rate than this. See BIP133. */\n     CAmount m_fee_filter_sent{0};\n-    /** Timestamp to send the next BIP133 `feefilter` message sent to the peer. */\n+    /** Timestamp after which we will send the next BIP133 `feefilter` message\n+      * to the peer. */",
      "path": "src/net_processing.cpp",
      "position": 9,
      "original_position": 11,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "b771e14436d5008fbd4a2235ccc88730362a9179",
      "in_reply_to_id": 874959865,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "as above",
      "created_at": "2022-05-18T14:32:00Z",
      "updated_at": "2022-05-18T14:32:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r875975102",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/875975102"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 245,
      "original_line": 245,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/875975238",
      "pull_request_review_id": 977078839,
      "id": 875975238,
      "node_id": "PRRC_kwDOABII5840NlJG",
      "diff_hunk": "@@ -237,32 +237,48 @@ struct Peer {\n \n     /** Whether this peer relays txs via wtxid */\n     std::atomic<bool> m_wtxid_relay{false};\n-    /** The feerate in the most recent BIP133 `feefilter` message sent to the peer. */\n+    /** The feerate in the most recent BIP133 `feefilter` message sent to the peer.\n+     *  It is *not* a p2p protocol violation for the peer to send us\n+     *  transactions with a lower fee rate than this. See BIP133. */\n     CAmount m_fee_filter_sent{0};\n-    /** Timestamp to send the next BIP133 `feefilter` message sent to the peer. */\n+    /** Timestamp after which we will send the next BIP133 `feefilter` message\n+      * to the peer. */\n     std::chrono::microseconds m_next_send_feefilter{0};\n \n     struct TxRelay {\n+        /** Protects m_bloom_filter and the m_relay_txs flag. */",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 15,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "b771e14436d5008fbd4a2235ccc88730362a9179",
      "in_reply_to_id": 874963044,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "removed",
      "created_at": "2022-05-18T14:32:06Z",
      "updated_at": "2022-05-18T14:32:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r875975238",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/875975238"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 249,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/875975335",
      "pull_request_review_id": 977078985,
      "id": 875975335,
      "node_id": "PRRC_kwDOABII5840NlKn",
      "diff_hunk": "@@ -237,32 +237,48 @@ struct Peer {\n \n     /** Whether this peer relays txs via wtxid */\n     std::atomic<bool> m_wtxid_relay{false};\n-    /** The feerate in the most recent BIP133 `feefilter` message sent to the peer. */\n+    /** The feerate in the most recent BIP133 `feefilter` message sent to the peer.\n+     *  It is *not* a p2p protocol violation for the peer to send us\n+     *  transactions with a lower fee rate than this. See BIP133. */\n     CAmount m_fee_filter_sent{0};\n-    /** Timestamp to send the next BIP133 `feefilter` message sent to the peer. */\n+    /** Timestamp after which we will send the next BIP133 `feefilter` message\n+      * to the peer. */\n     std::chrono::microseconds m_next_send_feefilter{0};\n \n     struct TxRelay {\n+        /** Protects m_bloom_filter and the m_relay_txs flag. */\n         mutable RecursiveMutex m_bloom_filter_mutex;\n-        // We use m_relay_txs for two purposes -\n-        // a) it allows us to not relay tx invs before receiving the peer's version message\n-        // b) the peer may tell us in its version message that we should not relay tx invs\n-        //    unless it loads a bloom filter.\n+        /** Whether the peer wishes to receive transaction announcements.\n+         *\n+         * This is initially set based on the fRelay flag in the received\n+         * `version` message. If initially set to false, it can only be flipped\n+         * to true if we have offered the peer NODE_BLOOM services and it sends\n+         * us a `filterload` or `filterclear` message. See BIP37. */\n         bool m_relay_txs GUARDED_BY(m_bloom_filter_mutex){false};\n+        /** A bloom filter for which transactions to announce to the peer. See BIP37. */\n         std::unique_ptr<CBloomFilter> m_bloom_filter PT_GUARDED_BY(m_bloom_filter_mutex) GUARDED_BY(m_bloom_filter_mutex){nullptr};\n \n+        /** Protects m_tx_inventory_known and the m_send_mempool flag */",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 31,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "b771e14436d5008fbd4a2235ccc88730362a9179",
      "in_reply_to_id": 874963989,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "removed",
      "created_at": "2022-05-18T14:32:11Z",
      "updated_at": "2022-05-18T14:32:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r875975335",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/875975335"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 261,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/875975437",
      "pull_request_review_id": 977079148,
      "id": 875975437,
      "node_id": "PRRC_kwDOABII5840NlMN",
      "diff_hunk": "@@ -282,9 +282,18 @@ struct Peer {\n         std::atomic<CAmount> m_fee_filter_received{0};\n     };\n \n+    /** protects m_tx_relay */",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "66807193bf92dcad6d27a5bf8e2e47b97d0bb6b7",
      "in_reply_to_id": 874977301,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "removed",
      "created_at": "2022-05-18T14:32:16Z",
      "updated_at": "2022-05-18T14:32:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r875975437",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/875975437"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 285,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/875977858",
      "pull_request_review_id": 977082546,
      "id": 875977858,
      "node_id": "PRRC_kwDOABII5840NlyC",
      "diff_hunk": "@@ -2056,7 +2096,7 @@ void PeerManagerImpl::ProcessGetData(CNode& pfrom, Peer& peer, const std::atomic\n \n         const CInv &inv = *it++;\n \n-        if (peer.m_tx_relay == nullptr) {\n+        if (tx_relay == nullptr) {\n             // Ignore GETDATA requests for transactions from blocks-only peers.",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 205,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "c4455b7d86b782b7c010857e04be5a73dd1dbb43",
      "in_reply_to_id": 875032064,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks. Updated.",
      "created_at": "2022-05-18T14:34:16Z",
      "updated_at": "2022-05-18T14:34:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r875977858",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/875977858"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2100,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/876000502",
      "pull_request_review_id": 977115394,
      "id": 876000502,
      "node_id": "PRRC_kwDOABII5840NrT2",
      "diff_hunk": "@@ -2051,8 +2088,9 @@ void PeerManagerImpl::ProcessGetData(CNode& pfrom, Peer& peer, const std::atomic\n \n         const CInv &inv = *it++;\n \n-        if (peer.m_tx_relay == nullptr) {\n-            // Ignore GETDATA requests for transactions from blocks-only peers.\n+        if (tx_relay == nullptr) {\n+            // Ignore GETDATA requests for transactions from blocks-only peers and",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 203,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "edf29446658ee9105b6451573687dc74a92604b9",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n            // Ignore GETDATA requests for transactions from block-relay-only peers and\r\n```\r\n\r\nnit in the last commit: Maybe clarify while touching this line",
      "created_at": "2022-05-18T14:52:22Z",
      "updated_at": "2022-05-18T14:52:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r876000502",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/876000502"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2092,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/876109283",
      "pull_request_review_id": 977269810,
      "id": 876109283,
      "node_id": "PRRC_kwDOABII5840OF3j",
      "diff_hunk": "@@ -2051,8 +2088,9 @@ void PeerManagerImpl::ProcessGetData(CNode& pfrom, Peer& peer, const std::atomic\n \n         const CInv &inv = *it++;\n \n-        if (peer.m_tx_relay == nullptr) {\n-            // Ignore GETDATA requests for transactions from blocks-only peers.\n+        if (tx_relay == nullptr) {\n+            // Ignore GETDATA requests for transactions from blocks-only peers and",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 203,
      "commit_id": "9db82f1bca0bb51c2180ca4a4ad63ba490e79da4",
      "original_commit_id": "edf29446658ee9105b6451573687dc74a92604b9",
      "in_reply_to_id": 876000502,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2022-05-18T16:32:42Z",
      "updated_at": "2022-05-18T16:32:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22778#discussion_r876109283",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/876109283"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22778"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2092,
      "side": "RIGHT"
    }
  ]
}