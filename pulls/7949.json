{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7949",
    "id": 67907563,
    "node_id": "MDExOlB1bGxSZXF1ZXN0Njc5MDc1NjM=",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7949",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/7949.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/7949.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7949",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7949/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7949/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7949/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/2652c55b7a8a65bbdb8ad7c09dcb09870aa913f3",
    "number": 7949,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "[RPC] Add RPC long poll notifications",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "#### Reasons for another notification interface\n- Currently there is no interface that could be extended to \"private\" notification secured behind the authorization (like peers connected/disconnected or a new wallet relevant transaction notification)\n- HTTP long poll notifications are very easy to set up and require almost no dependencies\n- HTTP long poll notifications can easily pushed over the internet using httpd reverse proxy together with a popper authentication method (certs or http auth digest) together with TLS.\n- HTTP long poll would allow connecting applications to do all kinds of things with just a single communication channel (currently you need RPC & ZMQ for most use cases which would require VPN or a fancy multi port stunnel connection to broadcast the notification over the internet)\n#### How does it work\n- The listener calls the `pollnotification` RPC command.\n- If no notifications are available, the RPC thread will idle for a given timeout (30s by default)\n- If a notification was fired during the 30 seconds, the longpoll call will be responded with the new notification(s)\n- The client/listener can immediately reconnect and wait again\n- If notifications are already in the queue, the `pollnotification` command will immediately response.\n- Notifications can't get lost (possible to lose them during http transfer and if one exceed the queue limit)\n#### Downsides\n- JSON encoding overhead\n#### New RPC calls\n\n`setregisterednotifications [<notificationtype>]` (possible types are `hashtx` and `hashblock`)\n`getregisterednotifications`\n`pollnotifications`\n#### Missing\n- [ ] More tests\n- [ ] Documentation\n\nI'd like to use a such interface to work on a remote GUI (use case: GUI on your local desktop, node on a VPS).\n",
    "labels": [
      {
        "id": 98279177,
        "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
        "name": "RPC/REST/ZMQ",
        "color": "0052cc",
        "default": false
      },
      {
        "id": 749416508,
        "node_id": "MDU6TGFiZWw3NDk0MTY1MDg=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Up%20for%20grabs",
        "name": "Up for grabs",
        "color": "99a810",
        "default": false
      }
    ],
    "active_lock_reason": "resolved",
    "created_at": "2016-04-26T15:33:04Z",
    "updated_at": "2021-12-16T14:11:51Z",
    "closed_at": "2019-06-17T09:22:20Z",
    "mergeable": false,
    "mergeable_state": "dirty",
    "merge_commit_sha": "a5b76829224194e688460a87d7c4b8173638fc93",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": false,
    "head": {
      "label": "jonasschnelli:2016/04/rpc_signals",
      "ref": "2016/04/rpc_signals",
      "sha": "2652c55b7a8a65bbdb8ad7c09dcb09870aa913f3",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 9264454,
        "node_id": "MDEwOlJlcG9zaXRvcnk5MjY0NDU0",
        "name": "bitcoin",
        "full_name": "jonasschnelli/bitcoin",
        "owner": {
          "login": "jonasschnelli",
          "id": 178464,
          "node_id": "MDQ6VXNlcjE3ODQ2NA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/jonasschnelli",
          "html_url": "https://github.com/jonasschnelli",
          "followers_url": "https://api.github.com/users/jonasschnelli/followers",
          "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
          "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
          "repos_url": "https://api.github.com/users/jonasschnelli/repos",
          "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/jonasschnelli/bitcoin",
        "fork": true,
        "url": "https://api.github.com/repos/jonasschnelli/bitcoin",
        "archive_url": "https://api.github.com/repos/jonasschnelli/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/jonasschnelli/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/jonasschnelli/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/jonasschnelli/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/jonasschnelli/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/jonasschnelli/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/jonasschnelli/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/jonasschnelli/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/jonasschnelli/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/jonasschnelli/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/jonasschnelli/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/jonasschnelli/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/jonasschnelli/bitcoin/events",
        "forks_url": "https://api.github.com/repos/jonasschnelli/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/jonasschnelli/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/jonasschnelli/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/jonasschnelli/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/jonasschnelli/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/jonasschnelli/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/jonasschnelli/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/jonasschnelli/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/jonasschnelli/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/jonasschnelli/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/jonasschnelli/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/jonasschnelli/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/jonasschnelli/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/jonasschnelli/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/jonasschnelli/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/jonasschnelli/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:jonasschnelli/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/jonasschnelli/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/jonasschnelli/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/jonasschnelli/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/jonasschnelli/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/jonasschnelli/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/jonasschnelli/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/jonasschnelli/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/jonasschnelli/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/jonasschnelli/bitcoin/hooks",
        "svn_url": "https://github.com/jonasschnelli/bitcoin",
        "homepage": "http://www.bitcoin.org",
        "language": "C++",
        "forks_count": 5,
        "stargazers_count": 10,
        "watchers_count": 10,
        "size": 194164,
        "default_branch": "master",
        "open_issues_count": 5,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2022-08-07T18:33:53Z",
        "created_at": "2013-04-06T18:21:51Z",
        "updated_at": "2023-05-19T06:34:35Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "efae3663a772169f9ef5172d76f938e0bb02eca4",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34324,
        "stargazers_count": 69818,
        "watchers_count": 69818,
        "size": 233879,
        "default_branch": "master",
        "open_issues_count": 627,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-06T19:05:23Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-06-06T22:16:48Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7949"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 505,
    "deletions": 0,
    "changed_files": 8,
    "commits": 2,
    "review_comments": 12,
    "comments": 14
  },
  "events": [
    {
      "event": "commented",
      "id": 214786965,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIxNDc4Njk2NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/214786965",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-26T15:40:03Z",
      "updated_at": "2016-04-26T15:41:43Z",
      "author_association": "MEMBER",
      "body": "I like the concept of being able to listen for events through http, however I think this is severely limited by having server-side state, limiting the number of listeners to only one.\n\nWhat I'd personally prefer is, instead of longpolling, to subscribe to a 'stream' of events (e.g. websocket or just chunked encoding), where the set of events to listen to is in the request. This avoids having to store any client-state in the server - at least for longer than the request lasts.\n",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7949#issuecomment-214786965",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7949"
    },
    {
      "event": "commented",
      "id": 214789068,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIxNDc4OTA2OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/214789068",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-26T15:45:30Z",
      "updated_at": "2016-04-26T15:45:30Z",
      "author_association": "CONTRIBUTOR",
      "body": "> [... ] having server-side state, limiting the number of listeners to only one\n\nRight. The current implementation limits to only one listener. Extending this PR so it would support a client chosen UUID would not be very complicated (a set of queues and a set of registered notification types). Clients could register notification types along with a client-chosen UUID.\nI might extend this PR to support multiple listeners.\n",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7949#issuecomment-214789068",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7949"
    },
    {
      "event": "labeled",
      "id": 641681332,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDY0MTY4MTMzMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/641681332",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-26T15:45:39Z",
      "label": {
        "name": "RPC/REST/ZMQ",
        "color": "0052cc"
      }
    },
    {
      "event": "commented",
      "id": 214824842,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIxNDgyNDg0Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/214824842",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-26T17:45:23Z",
      "updated_at": "2016-04-29T11:33:46Z",
      "author_association": "CONTRIBUTOR",
      "body": "Added a commit that allows multiple clients at the same time.\n\nThe new RPC commands require now a `clientUUID` parameter (a per client unique string, ideally a UUID after RFC 4122). Bitcoind keeps a queue, sequence numbers and registered types per client.\n\nThere is currently not max client limit and no way to remove clients (though you can unregister all notification types but not empty the current queue).\n",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7949#issuecomment-214824842",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7949"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 641842833,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NjQxODQyODMz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/641842833",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-26T17:47:01Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 641843795,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NjQxODQzNzk1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/641843795",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-04-26T17:47:44Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 652464431,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NjUyNDY0NDMx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/652464431",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-05-06T09:52:34Z"
    },
    {
      "event": "commented",
      "id": 217400507,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzQwMDUwNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/217400507",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-05-06T09:53:11Z",
      "updated_at": "2016-05-06T09:53:11Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased.\nWould be nice to get some concept NACKs/ACKs.\n",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7949#issuecomment-217400507",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7949"
    },
    {
      "event": "line-commented",
      "id": null,
      "node_id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkNDA1ODE5MDQ6djI=",
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null
    },
    {
      "event": "head_ref_force_pushed",
      "id": 652498732,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NjUyNDk4NzMy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/652498732",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-05-06T10:28:57Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 658300300,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NjU4MzAwMzAw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/658300300",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-05-12T09:01:57Z"
    },
    {
      "event": "commented",
      "id": 218724368,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIxODcyNDM2OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/218724368",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-05-12T10:54:32Z",
      "updated_at": "2016-05-12T10:54:32Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased.\n",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7949#issuecomment-218724368",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7949"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 716954961,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NzE2OTU0OTYx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/716954961",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-07-08T12:40:46Z"
    },
    {
      "event": "commented",
      "id": 271864278,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTg2NDI3OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/271864278",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-11T13:09:26Z",
      "updated_at": "2017-01-11T13:09:26Z",
      "author_association": "MEMBER",
      "body": "Gah we need to take a look at this again after 0.14 is released.",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7949#issuecomment-271864278",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7949"
    },
    {
      "event": "commented",
      "id": 271867853,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTg2Nzg1Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/271867853",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-11T13:27:05Z",
      "updated_at": "2017-01-11T13:27:05Z",
      "author_association": "CONTRIBUTOR",
      "body": "Yes. Sure. I'll try to re-base and overhaul this soon.",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7949#issuecomment-271867853",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7949"
    },
    {
      "event": "milestoned",
      "id": 986778584,
      "node_id": "MDE1Ok1pbGVzdG9uZWRFdmVudDk4Njc3ODU4NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/986778584",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-05T13:21:06Z",
      "milestone": {
        "title": "0.15.0"
      }
    },
    {
      "event": "milestoned",
      "id": 1158781196,
      "node_id": "MDE1Ok1pbGVzdG9uZWRFdmVudDExNTg3ODExOTY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1158781196",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-07-11T13:27:24Z",
      "milestone": {
        "title": "0.16.0"
      }
    },
    {
      "event": "demilestoned",
      "id": 1158781198,
      "node_id": "MDE3OkRlbWlsZXN0b25lZEV2ZW50MTE1ODc4MTE5OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1158781198",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-07-11T13:27:24Z",
      "milestone": {
        "title": "0.15.0"
      }
    },
    {
      "event": "commented",
      "id": 332896020,
      "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjg5NjAyMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/332896020",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-09-28T16:47:06Z",
      "updated_at": "2017-09-28T16:47:06Z",
      "author_association": "MEMBER",
      "body": "Plan on rebasing this, or should just be closed?",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7949#issuecomment-332896020",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7949"
    },
    {
      "event": "commented",
      "id": 332898896,
      "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjg5ODg5Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/332898896",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-09-28T16:57:42Z",
      "updated_at": "2017-09-28T16:57:42Z",
      "author_association": "CONTRIBUTOR",
      "body": "I'm currently rewriting this... will be ready soon.",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7949#issuecomment-332898896",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7949"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1302402496,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTMwMjQwMjQ5Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1302402496",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-10-20T05:57:40Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1302404063,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTMwMjQwNDA2Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1302404063",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-10-20T05:59:49Z"
    },
    {
      "event": "commented",
      "id": 338113926,
      "node_id": "MDEyOklzc3VlQ29tbWVudDMzODExMzkyNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/338113926",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-10-20T06:02:06Z",
      "updated_at": "2017-10-20T06:02:06Z",
      "author_association": "CONTRIBUTOR",
      "body": "Overhauled and rebased.\r\n\r\nThis is still server based (server keeps track of what the client has) queue max size is currently 1024^2 and does only contain hashes of blocks or transactions.\r\nEach notification comes with a sequence number to detect lost transactions (which then should trigger a \"full-client-sync\").",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7949#issuecomment-338113926",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7949"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjYTZhM2Y4ODhkZDNmYjhhNDdmYjg1ZDYzYzc2NWFjMDE5MjMxZGZm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ca6a3f888dd3fb8a47fb85d63c765ac019231dff",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ca6a3f888dd3fb8a47fb85d63c765ac019231dff",
      "tree": {
        "sha": "737ec1623128c980b60274aa90859f5fd59ae0ca",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/737ec1623128c980b60274aa90859f5fd59ae0ca"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 737ec1623128c980b60274aa90859f5fd59ae0ca\nparent ff92fbf24739a022eb677daab03c87c5e6971094\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1506573717 -0700\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1508722136 -1000\n\nAdd RPC long poll notifications\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAlntRdkACgkQHrd2uwPH\nki136Q/9Eso6xKJJBCspLbZlbjZD7j5QLCrBNmjyzQDQTQWVcdwuqZVrz1uT8PrU\nTLS59lXcc+HpHQU0+59whG8E0vtF2TBHxu2GUS0GuzlLgMnUjCAbF8PlFRso0IMc\nXY/BVeUpFH0kBOTPXiaaExVnaE9zdqLHf7CPdTrzVOQcM5fQOmiykPGPiFBw9Fvx\nCZq0Lnum/eof0kwwEhHDWmxOeA6maKnG9v7srJD8fhorzlcXlLTdCe3uv1abkBCO\nUXyRIUMd8R4Hc1tfPDd5XT09MSJxCt9jbcxT9P5+HspJtf34TahnH7PRkkkgsNLR\n1aWhIBGeOmcKermPa11Hy6+Qcoz1Vsuyf3pu6bQhvRzmyfDzWbbbqjPb1RGP7GG8\n2a+Uqd/eXEsobwjOQ2w57zNwoqlkt80QNKyMsDZwrg1mqiBKEp9VCXDyPtZphdV6\nBrPIMNkbGQKIHDGeboYbY4igGuQg2Y/TOyky84UxAl7+OF4ASBjsxW2FJyyDdK5q\nM8EdfkSBIHC7dhHyaFMM5g6pvVDNU9ZRqCG0Rf0rMUPF8McUpQhqP4UPLXFkVveQ\nCU/+1dLJHZKOMX/8bUZNn/39NJyFqhbJkFOn4VxDImGyWKyIGuPV0Ucvs+V3pglP\nONBGZxez1dpSrXTuRxIiSPBMrp25SClfHjxu0k3Y5LtWroSNgVs=\n=Prnt\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ff92fbf24739a022eb677daab03c87c5e6971094",
          "sha": "ff92fbf24739a022eb677daab03c87c5e6971094",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ff92fbf24739a022eb677daab03c87c5e6971094"
        }
      ],
      "message": "Add RPC long poll notifications",
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-10-23T01:28:56Z"
      },
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-09-28T04:41:57Z"
      },
      "sha": "ca6a3f888dd3fb8a47fb85d63c765ac019231dff"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyNjUyYzU1YjdhOGE2NWJiZGI4YWQ3YzA5ZGNiMDk4NzBhYTkxM2Yz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2652c55b7a8a65bbdb8ad7c09dcb09870aa913f3",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/2652c55b7a8a65bbdb8ad7c09dcb09870aa913f3",
      "tree": {
        "sha": "da4316e0e7210ce4d73d046d7720f8672a74c75f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/da4316e0e7210ce4d73d046d7720f8672a74c75f"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree da4316e0e7210ce4d73d046d7720f8672a74c75f\nparent ca6a3f888dd3fb8a47fb85d63c765ac019231dff\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1508479065 -0700\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1508722141 -1000\n\n[QA] Add rpcnotification test\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAlntRd0ACgkQHrd2uwPH\nki33Cg//VImxDgmUPZ+8nwCnmPufc1qh8D0hFX4RFHkA2KOpLNoymreAJ1BciwMD\ntxQGxuaiESIMA2acgZy9hPDjY3v7UCxU0kIyniiS1/QyoXaWDriFH+v+P3f97MIL\nI26eoRZRZ81eqCTv4dvU+AneiUjwqBlrQ1PNLA12LWm32qQLhr0MInikvTK5Bii7\nozE5G6jQWsX4BIs+3myPXb7wXf5WHkk3wzfkHAJwZSr76khiUMiXCmzb3Cljcw9q\nF5lnVJzC3WYaEABxp4VIl2irIY+Mag3LTNpnIz7Fw5eZSFYaABZbYvJhV/TLKiC1\nUSe+2Mm/brAuFL2S3bbVuLZyYCRKHw8REjO3f/DcytJJP1vAvQmdX2psPVKwbuy0\nTN+arekGP2wTucXvTP31mkYncBFeh+7gzkBeuA8rTncJ+z9T8ydP7ZyLnos++/qu\n/svD6hSFY3zKNircbRsVkbf+qHUt6MU0SWW9KzDDYY8DAndD1U4cL6+Dq3gPavM+\nHBIOkNIGctJUAjsMjyAixnZqgBJPDQqAuhGAQgTbe6ea6q4yaz6frq0XX0N4h7+p\ntz3F/LmrBHs95qwUEcFDqGA0eT4fTFWFMYsgFzsuYKO+DB2Si8scki+EDM5rzHMt\ncljjsJYpK1KCFqQ+EcDysiZhSlLU6W4l7Voqp5l1h2hehJsL5IA=\n=fqfr\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ca6a3f888dd3fb8a47fb85d63c765ac019231dff",
          "sha": "ca6a3f888dd3fb8a47fb85d63c765ac019231dff",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ca6a3f888dd3fb8a47fb85d63c765ac019231dff"
        }
      ],
      "message": "[QA] Add rpcnotification test",
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-10-23T01:29:01Z"
      },
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-10-20T05:57:45Z"
      },
      "sha": "2652c55b7a8a65bbdb8ad7c09dcb09870aa913f3"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1304763343,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTMwNDc2MzM0Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1304763343",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-10-23T01:32:34Z"
    },
    {
      "event": "reviewed",
      "id": 74505301,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NzQ1MDUzMDE=",
      "url": null,
      "actor": null,
      "commit_id": "2652c55b7a8a65bbdb8ad7c09dcb09870aa913f3",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK, though should definitely get more general concept review. I think this could use a more explicit register/deregister process eg registernewclient [ThingsClientCaresAbout] -> provides UUID (instead of registering taking a client-provided UUID), then an explicit deregister which removes queues for that client, instead of setting notifications to 0 and the queues for that client simply leaking.",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7949#pullrequestreview-74505301",
      "submitted_at": "2017-11-06T18:51:19Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7949"
    },
    {
      "event": "commented",
      "id": 342247619,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM0MjI0NzYxOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/342247619",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-06T18:51:37Z",
      "updated_at": "2017-11-06T18:51:37Z",
      "author_association": "MEMBER",
      "body": "Also, looks like the test is failing.",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7949#issuecomment-342247619",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7949"
    },
    {
      "event": "commented",
      "id": 356650229,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1NjY1MDIyOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/356650229",
      "actor": {
        "login": "NicolasDorier",
        "id": 3020646,
        "node_id": "MDQ6VXNlcjMwMjA2NDY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/NicolasDorier",
        "html_url": "https://github.com/NicolasDorier",
        "followers_url": "https://api.github.com/users/NicolasDorier/followers",
        "following_url": "https://api.github.com/users/NicolasDorier/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/NicolasDorier/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/NicolasDorier/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
        "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
        "repos_url": "https://api.github.com/users/NicolasDorier/repos",
        "events_url": "https://api.github.com/users/NicolasDorier/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-10T16:10:46Z",
      "updated_at": "2018-01-10T16:10:54Z",
      "author_association": "CONTRIBUTOR",
      "body": "Strong Concept ACK for this one ! \r\n@jonasschnelli any idea if you will bring this one from the dead?",
      "user": {
        "login": "NicolasDorier",
        "id": 3020646,
        "node_id": "MDQ6VXNlcjMwMjA2NDY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/NicolasDorier",
        "html_url": "https://github.com/NicolasDorier",
        "followers_url": "https://api.github.com/users/NicolasDorier/followers",
        "following_url": "https://api.github.com/users/NicolasDorier/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/NicolasDorier/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/NicolasDorier/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
        "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
        "repos_url": "https://api.github.com/users/NicolasDorier/repos",
        "events_url": "https://api.github.com/users/NicolasDorier/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7949#issuecomment-356650229",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7949"
    },
    {
      "event": "mentioned",
      "id": 1417997955,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTQxNzk5Nzk1NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1417997955",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-10T16:10:46Z"
    },
    {
      "event": "subscribed",
      "id": 1417997956,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE0MTc5OTc5NTY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1417997956",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-10T16:10:46Z"
    },
    {
      "event": "commented",
      "id": 356699212,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1NjY5OTIxMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/356699212",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-10T18:50:10Z",
      "updated_at": "2018-01-10T18:50:10Z",
      "author_association": "CONTRIBUTOR",
      "body": "@NicolasDorier \r\nI think there is no consensus about an additional push channel... also, @sipa brought up the idea of having a push channel (could be long poll) that acts similar then `listsinceblock` where the server doesn't need to keep track of clients (keep a queue).\r\nI haven't looked closer at this approach.",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7949#issuecomment-356699212",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7949"
    },
    {
      "event": "mentioned",
      "id": 1418306038,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTQxODMwNjAzOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1418306038",
      "actor": {
        "login": "NicolasDorier",
        "id": 3020646,
        "node_id": "MDQ6VXNlcjMwMjA2NDY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/NicolasDorier",
        "html_url": "https://github.com/NicolasDorier",
        "followers_url": "https://api.github.com/users/NicolasDorier/followers",
        "following_url": "https://api.github.com/users/NicolasDorier/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/NicolasDorier/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/NicolasDorier/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
        "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
        "repos_url": "https://api.github.com/users/NicolasDorier/repos",
        "events_url": "https://api.github.com/users/NicolasDorier/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-10T18:50:10Z"
    },
    {
      "event": "subscribed",
      "id": 1418306039,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE0MTgzMDYwMzk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1418306039",
      "actor": {
        "login": "NicolasDorier",
        "id": 3020646,
        "node_id": "MDQ6VXNlcjMwMjA2NDY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/NicolasDorier",
        "html_url": "https://github.com/NicolasDorier",
        "followers_url": "https://api.github.com/users/NicolasDorier/followers",
        "following_url": "https://api.github.com/users/NicolasDorier/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/NicolasDorier/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/NicolasDorier/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
        "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
        "repos_url": "https://api.github.com/users/NicolasDorier/repos",
        "events_url": "https://api.github.com/users/NicolasDorier/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-10T18:50:10Z"
    },
    {
      "event": "mentioned",
      "id": 1418306041,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTQxODMwNjA0MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1418306041",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-10T18:50:10Z"
    },
    {
      "event": "subscribed",
      "id": 1418306044,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE0MTgzMDYwNDQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1418306044",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-10T18:50:10Z"
    },
    {
      "event": "demilestoned",
      "id": 1420379267,
      "node_id": "MDE3OkRlbWlsZXN0b25lZEV2ZW50MTQyMDM3OTI2Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1420379267",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-11T18:52:30Z",
      "milestone": {
        "title": "0.16.0"
      }
    },
    {
      "event": "milestoned",
      "id": 1420379271,
      "node_id": "MDE1Ok1pbGVzdG9uZWRFdmVudDE0MjAzNzkyNzE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1420379271",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-11T18:52:30Z",
      "milestone": {
        "title": "0.17.0"
      }
    },
    {
      "event": "commented",
      "id": 357534439,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzUzNDQzOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/357534439",
      "actor": {
        "login": "NicolasDorier",
        "id": 3020646,
        "node_id": "MDQ6VXNlcjMwMjA2NDY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/NicolasDorier",
        "html_url": "https://github.com/NicolasDorier",
        "followers_url": "https://api.github.com/users/NicolasDorier/followers",
        "following_url": "https://api.github.com/users/NicolasDorier/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/NicolasDorier/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/NicolasDorier/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
        "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
        "repos_url": "https://api.github.com/users/NicolasDorier/repos",
        "events_url": "https://api.github.com/users/NicolasDorier/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-14T19:15:58Z",
      "updated_at": "2018-01-14T19:18:43Z",
      "author_association": "CONTRIBUTOR",
      "body": "I implemented a similar solution in NBXplorer. Basically there is a `GetUTXOs(xPub)` call, this call replay all the transactions of the xpub in topological order to create the current utxo for this xpub. While playing the transactions, it hashes them along the way (the hash after each transaction is effectively the equivalent of a `bookmark`). Then the bookmark + the UTXO is sent back to the client.\r\n\r\nThe client process the result, then call again `GetUTXOs(xPub, bookmark)`. The server does the same operation, replaying all transactions while calculating bookmarks along the way, when it reaches the bookmark passed by the client, it knows that what is after is a differential to the previous bookmark. If there is no differential, it just long poll. If there is a differential, it sends it back to the client.\r\n\r\nIf the bookmark in parameter was not reached, then the full UTXO is sent back again to the client, with a flag indicating it is not a differential.\r\n\r\nThis solution does not involve server side state.",
      "user": {
        "login": "NicolasDorier",
        "id": 3020646,
        "node_id": "MDQ6VXNlcjMwMjA2NDY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/NicolasDorier",
        "html_url": "https://github.com/NicolasDorier",
        "followers_url": "https://api.github.com/users/NicolasDorier/followers",
        "following_url": "https://api.github.com/users/NicolasDorier/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/NicolasDorier/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/NicolasDorier/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
        "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
        "repos_url": "https://api.github.com/users/NicolasDorier/repos",
        "events_url": "https://api.github.com/users/NicolasDorier/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7949#issuecomment-357534439",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7949"
    },
    {
      "event": "labeled",
      "id": 1665122286,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDE2NjUxMjIyODY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1665122286",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-06T02:47:47Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "demilestoned",
      "id": 1743310898,
      "node_id": "MDE3OkRlbWlsZXN0b25lZEV2ZW50MTc0MzMxMDg5OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1743310898",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-07-19T19:02:53Z",
      "milestone": {
        "title": "0.17.0"
      }
    },
    {
      "event": "milestoned",
      "id": 1743310900,
      "node_id": "MDE1Ok1pbGVzdG9uZWRFdmVudDE3NDMzMTA5MDA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1743310900",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-07-19T19:02:53Z",
      "milestone": {
        "title": "0.18.0"
      }
    },
    {
      "event": "reviewed",
      "id": 151629370,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTUxNjI5Mzcw",
      "url": null,
      "actor": null,
      "commit_id": "2652c55b7a8a65bbdb8ad7c09dcb09870aa913f3",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7949#pullrequestreview-151629370",
      "submitted_at": "2018-09-02T18:37:16Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7949"
    },
    {
      "event": "reviewed",
      "id": 151629390,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTUxNjI5Mzkw",
      "url": null,
      "actor": null,
      "commit_id": "2652c55b7a8a65bbdb8ad7c09dcb09870aa913f3",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7949#pullrequestreview-151629390",
      "submitted_at": "2018-09-02T18:37:40Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7949"
    },
    {
      "event": "reviewed",
      "id": 173015132,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTczMDE1MTMy",
      "url": null,
      "actor": null,
      "commit_id": "2652c55b7a8a65bbdb8ad7c09dcb09870aa913f3",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "@jonasschnelli do you plan to pick this again?",
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7949#pullrequestreview-173015132",
      "submitted_at": "2018-11-30T14:51:37Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7949"
    },
    {
      "event": "demilestoned",
      "id": 2121602058,
      "node_id": "MDE3OkRlbWlsZXN0b25lZEV2ZW50MjEyMTYwMjA1OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2121602058",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-02-06T15:44:49Z",
      "milestone": {
        "title": "0.18.0"
      }
    },
    {
      "event": "labeled",
      "id": 2416966467,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDI0MTY5NjY0Njc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2416966467",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-06-17T09:22:11Z",
      "label": {
        "name": "Up for grabs",
        "color": "99a810"
      }
    },
    {
      "event": "closed",
      "id": 2416966876,
      "node_id": "MDExOkNsb3NlZEV2ZW50MjQxNjk2Njg3Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2416966876",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-06-17T09:22:20Z"
    },
    {
      "event": "unlabeled",
      "id": 2741499161,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50Mjc0MTQ5OTE2MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2741499161",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-10-24T16:52:05Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "locked",
      "id": 5778622873,
      "node_id": "LOE_lADOABII584JAp9_zwAAAAFYbsmZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5778622873",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-16T14:11:51Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62311355",
      "pull_request_review_id": null,
      "id": 62311355,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMzExMzU1",
      "diff_hunk": "@@ -0,0 +1,64 @@\n+#!/usr/bin/env python2",
      "path": "qa/rpc-tests/rpcsignals.py",
      "position": null,
      "original_position": 1,
      "commit_id": "2652c55b7a8a65bbdb8ad7c09dcb09870aa913f3",
      "original_commit_id": "90b28e41a45ec96a0a11b6f30249438b47762541",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Nit: python3\n",
      "created_at": "2016-05-06T10:10:47Z",
      "updated_at": "2017-10-23T01:32:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7949#discussion_r62311355",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62311355"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7949"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62313033",
      "pull_request_review_id": null,
      "id": 62313033,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMzEzMDMz",
      "diff_hunk": "@@ -0,0 +1,64 @@\n+#!/usr/bin/env python2",
      "path": "qa/rpc-tests/rpcsignals.py",
      "position": null,
      "original_position": 1,
      "commit_id": "2652c55b7a8a65bbdb8ad7c09dcb09870aa913f3",
      "original_commit_id": "90b28e41a45ec96a0a11b6f30249438b47762541",
      "in_reply_to_id": null,
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed.\n",
      "created_at": "2016-05-06T10:29:06Z",
      "updated_at": "2017-10-23T01:32:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7949#discussion_r62313033",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62313033"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7949"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/149155028",
      "pull_request_review_id": 74505301,
      "id": 149155028,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0OTE1NTAyOA==",
      "diff_hunk": "@@ -0,0 +1,381 @@\n+// Copyright (c) 2017 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include \"chain.h\"\n+#include \"init.h\"\n+#include \"primitives/block.h\"\n+#include \"primitives/transaction.h\"\n+#include \"rpc/server.h\"\n+#include \"sync.h\"\n+#include \"util.h\"\n+#include \"utilstrencodings.h\"\n+#include \"validationinterface.h\"\n+\n+#include <univalue.h>\n+\n+#include <boost/assign/list_of.hpp>\n+#include <boost/foreach.hpp>\n+#include <boost/range/adaptors.hpp>\n+\n+#include <deque>\n+#include <exception>\n+#include <stdint.h>\n+\n+static const char* MSG_HASHBLOCK = \"hashblock\";\n+static const char* MSG_HASHTX = \"hashtx\";\n+\n+/* keep the max queue size large becase we don't\n+   auto-register for notification on startup */\n+static const size_t MAX_QUEUE_SIZE = 1024 * 1024;\n+static const int DEFAULT_POLL_TIMEOUT = 30;\n+\n+enum class NotificationType {\n+    Unknown,\n+    Block,\n+    Tx\n+};\n+\n+typedef std::pair<size_t, size_t> queueRange_t;\n+typedef std::string clientUUID_t;\n+\n+// class that represents a notification\n+class NotificationEntry\n+{\n+public:\n+    NotificationType m_type;\n+    int32_t m_sequence_number;\n+    UniValue m_notification;\n+};\n+\n+class NotificationQueue\n+{\n+public:\n+    std::deque<NotificationEntry> m_queue;\n+    std::map<NotificationType, int32_t> m_map_sequence_numbers;\n+    std::set<NotificationType> m_registered_notification_types;\n+\n+    CCriticalSection m_cs_notification_queue;\n+\n+    const std::string typeToString(NotificationType type) const\n+    {\n+        switch (type) {\n+        case NotificationType::Block:\n+            return MSG_HASHBLOCK;\n+            break;\n+        case NotificationType::Tx:\n+            return MSG_HASHTX;\n+            break;\n+        default:\n+            return \"unknown\";\n+        }\n+    }\n+\n+    NotificationType stringToType(const std::string& strType) const\n+    {\n+        if (strType == MSG_HASHBLOCK)\n+            return NotificationType::Block;\n+        else if (strType == MSG_HASHTX)\n+            return NotificationType::Tx;\n+        else\n+            return NotificationType::Unknown;\n+    }\n+\n+    // populates a json object with all notifications in the queue\n+    // returns a range to allow removing the elements from the queue\n+    // after successfull transmitting\n+    queueRange_t weakDequeueNotifications(UniValue& result)\n+    {\n+        size_t firstElement = 0;\n+        size_t elementCount = 0;\n+\n+        LOCK(m_cs_notification_queue);\n+        for (const NotificationEntry& entry : m_queue) {\n+            UniValue obj = UniValue(UniValue::VOBJ);\n+            obj.pushKV(\"type\", typeToString(entry.m_type));\n+            obj.pushKV(\"seq\", entry.m_sequence_number);\n+            obj.pushKV(\"obj\", entry.m_notification);\n+            result.push_back(obj);\n+            elementCount++;\n+        }\n+        return std::make_pair(firstElement, elementCount);\n+    }\n+\n+    // removes notifications in the given range from the queue\n+    void eraseRangeFromQueue(const queueRange_t range)\n+    {\n+        LOCK(m_cs_notification_queue);\n+        m_queue.erase(m_queue.begin() + range.first, m_queue.begin() + range.first + range.second);\n+    }\n+\n+    // dequeues all notifications from the queue\n+    void dequeueElements(UniValue& result)\n+    {\n+        queueRange_t range = weakDequeueNotifications(result);\n+        eraseRangeFromQueue(range);\n+    }\n+\n+    bool elementsAvailable()\n+    {\n+        LOCK(m_cs_notification_queue);\n+        return m_queue.size() > 0;\n+    }\n+\n+    void registerType(NotificationType type)\n+    {\n+        if (type == NotificationType::Unknown)\n+            return;\n+\n+        LOCK(m_cs_notification_queue);\n+        m_registered_notification_types.insert(type);\n+    }\n+\n+    void unregisterType(NotificationType type)\n+    {\n+        LOCK(m_cs_notification_queue);\n+        m_registered_notification_types.erase(type);\n+    }\n+\n+    void unregisterAllTypes()\n+    {\n+        LOCK(m_cs_notification_queue);\n+        m_registered_notification_types.clear();\n+    }\n+\n+    void addToQueue(NotificationEntry entry)\n+    {\n+        LOCK(m_cs_notification_queue);\n+\n+        size_t queueSize = m_queue.size();\n+        if (queueSize > MAX_QUEUE_SIZE) {\n+            m_queue.pop_front();\n+            LogPrintf(\"RPC Notification limit has been reached, dropping oldest element\\n\");\n+        }\n+        m_map_sequence_numbers[entry.m_type]++;\n+        entry.m_sequence_number = m_map_sequence_numbers[entry.m_type];\n+        m_queue.push_back(entry);\n+    }\n+\n+    /* checks if a certain notification type is registered */\n+    bool isTypeRegistered(NotificationType type)\n+    {\n+        LOCK(m_cs_notification_queue);\n+        return (m_registered_notification_types.find(type) != m_registered_notification_types.end());\n+    }\n+};\n+\n+class NotificationQueueManager : public CValidationInterface\n+{\n+public:\n+    CCriticalSection m_cs_queue_manager;\n+    std::map<clientUUID_t, NotificationQueue*> m_map_sequence_numbers;\n+\n+    NotificationQueue* getQueue(const clientUUID_t& clientid)\n+    {\n+        LOCK(m_cs_queue_manager);\n+        return m_map_sequence_numbers[clientid];\n+    }\n+\n+    NotificationQueue* addQueue(const clientUUID_t& clientid)\n+    {\n+        LOCK(m_cs_queue_manager);\n+        m_map_sequence_numbers[clientid] = new NotificationQueue();\n+        return m_map_sequence_numbers[clientid];\n+    }\n+\n+    void NotifyTransaction(const CTransactionRef& ptx)\n+    {\n+        LOCK(m_cs_queue_manager);\n+        for (auto& queueEntry : m_map_sequence_numbers) {\n+            if (!queueEntry.second->isTypeRegistered(NotificationType::Tx)) continue;\n+\n+            NotificationEntry entry;\n+            entry.m_type = NotificationType::Tx;\n+            entry.m_notification.setStr(ptx->GetHash().GetHex());\n+            queueEntry.second->addToQueue(entry);\n+        }\n+    }\n+\n+    void BlockConnected(const std::shared_ptr<const CBlock>& pblock, const CBlockIndex* pindexConnected, const std::vector<CTransactionRef>& vtxConflicted) override\n+    {\n+        for (const CTransactionRef& ptx : pblock->vtx) {\n+            // Do a normal notify for each transaction added in the block\n+            NotifyTransaction(ptx);\n+        }\n+    }\n+\n+    void BlockDisconnected(const std::shared_ptr<const CBlock>& pblock) override\n+    {\n+        for (const CTransactionRef& ptx : pblock->vtx) {\n+            // Do a normal notify for each transaction removed in block disconnection\n+            NotifyTransaction(ptx);\n+        }\n+    }\n+\n+    void UpdatedBlockTip(const CBlockIndex* pindexNew, const CBlockIndex* pindexFork, bool fInitialDownload) override\n+    {\n+        LOCK(m_cs_queue_manager);\n+        BOOST_FOREACH (NotificationQueue* queue, m_map_sequence_numbers | boost::adaptors::map_values) {",
      "path": "src/rpc/notifications.cpp",
      "position": 218,
      "original_position": 218,
      "commit_id": "2652c55b7a8a65bbdb8ad7c09dcb09870aa913f3",
      "original_commit_id": "2652c55b7a8a65bbdb8ad7c09dcb09870aa913f3",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ugh, can we not use more BOOST_FOREACH garbage? Should be really easy to rewrite this without, no?",
      "created_at": "2017-11-06T17:59:29Z",
      "updated_at": "2017-11-06T18:51:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7949#discussion_r149155028",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/149155028"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7949"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 218,
      "original_line": 218,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/149155354",
      "pull_request_review_id": 74505301,
      "id": 149155354,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0OTE1NTM1NA==",
      "diff_hunk": "@@ -0,0 +1,381 @@\n+// Copyright (c) 2017 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include \"chain.h\"\n+#include \"init.h\"\n+#include \"primitives/block.h\"\n+#include \"primitives/transaction.h\"\n+#include \"rpc/server.h\"\n+#include \"sync.h\"\n+#include \"util.h\"\n+#include \"utilstrencodings.h\"\n+#include \"validationinterface.h\"\n+\n+#include <univalue.h>\n+\n+#include <boost/assign/list_of.hpp>\n+#include <boost/foreach.hpp>\n+#include <boost/range/adaptors.hpp>\n+\n+#include <deque>\n+#include <exception>\n+#include <stdint.h>\n+\n+static const char* MSG_HASHBLOCK = \"hashblock\";\n+static const char* MSG_HASHTX = \"hashtx\";\n+\n+/* keep the max queue size large becase we don't\n+   auto-register for notification on startup */\n+static const size_t MAX_QUEUE_SIZE = 1024 * 1024;\n+static const int DEFAULT_POLL_TIMEOUT = 30;\n+\n+enum class NotificationType {\n+    Unknown,\n+    Block,\n+    Tx\n+};\n+\n+typedef std::pair<size_t, size_t> queueRange_t;\n+typedef std::string clientUUID_t;\n+\n+// class that represents a notification\n+class NotificationEntry\n+{\n+public:\n+    NotificationType m_type;\n+    int32_t m_sequence_number;\n+    UniValue m_notification;\n+};\n+\n+class NotificationQueue\n+{\n+public:\n+    std::deque<NotificationEntry> m_queue;\n+    std::map<NotificationType, int32_t> m_map_sequence_numbers;\n+    std::set<NotificationType> m_registered_notification_types;\n+\n+    CCriticalSection m_cs_notification_queue;\n+\n+    const std::string typeToString(NotificationType type) const\n+    {\n+        switch (type) {\n+        case NotificationType::Block:\n+            return MSG_HASHBLOCK;\n+            break;\n+        case NotificationType::Tx:\n+            return MSG_HASHTX;\n+            break;\n+        default:\n+            return \"unknown\";\n+        }\n+    }\n+\n+    NotificationType stringToType(const std::string& strType) const\n+    {\n+        if (strType == MSG_HASHBLOCK)\n+            return NotificationType::Block;\n+        else if (strType == MSG_HASHTX)\n+            return NotificationType::Tx;\n+        else\n+            return NotificationType::Unknown;\n+    }\n+\n+    // populates a json object with all notifications in the queue\n+    // returns a range to allow removing the elements from the queue\n+    // after successfull transmitting\n+    queueRange_t weakDequeueNotifications(UniValue& result)\n+    {\n+        size_t firstElement = 0;\n+        size_t elementCount = 0;\n+\n+        LOCK(m_cs_notification_queue);\n+        for (const NotificationEntry& entry : m_queue) {\n+            UniValue obj = UniValue(UniValue::VOBJ);\n+            obj.pushKV(\"type\", typeToString(entry.m_type));\n+            obj.pushKV(\"seq\", entry.m_sequence_number);\n+            obj.pushKV(\"obj\", entry.m_notification);\n+            result.push_back(obj);\n+            elementCount++;\n+        }\n+        return std::make_pair(firstElement, elementCount);\n+    }\n+\n+    // removes notifications in the given range from the queue\n+    void eraseRangeFromQueue(const queueRange_t range)\n+    {\n+        LOCK(m_cs_notification_queue);\n+        m_queue.erase(m_queue.begin() + range.first, m_queue.begin() + range.first + range.second);\n+    }\n+\n+    // dequeues all notifications from the queue\n+    void dequeueElements(UniValue& result)\n+    {\n+        queueRange_t range = weakDequeueNotifications(result);\n+        eraseRangeFromQueue(range);\n+    }\n+\n+    bool elementsAvailable()\n+    {\n+        LOCK(m_cs_notification_queue);\n+        return m_queue.size() > 0;\n+    }\n+\n+    void registerType(NotificationType type)\n+    {\n+        if (type == NotificationType::Unknown)\n+            return;\n+\n+        LOCK(m_cs_notification_queue);\n+        m_registered_notification_types.insert(type);\n+    }\n+\n+    void unregisterType(NotificationType type)\n+    {\n+        LOCK(m_cs_notification_queue);\n+        m_registered_notification_types.erase(type);\n+    }\n+\n+    void unregisterAllTypes()\n+    {\n+        LOCK(m_cs_notification_queue);\n+        m_registered_notification_types.clear();\n+    }\n+\n+    void addToQueue(NotificationEntry entry)\n+    {\n+        LOCK(m_cs_notification_queue);\n+\n+        size_t queueSize = m_queue.size();\n+        if (queueSize > MAX_QUEUE_SIZE) {\n+            m_queue.pop_front();\n+            LogPrintf(\"RPC Notification limit has been reached, dropping oldest element\\n\");\n+        }\n+        m_map_sequence_numbers[entry.m_type]++;\n+        entry.m_sequence_number = m_map_sequence_numbers[entry.m_type];\n+        m_queue.push_back(entry);\n+    }\n+\n+    /* checks if a certain notification type is registered */\n+    bool isTypeRegistered(NotificationType type)\n+    {\n+        LOCK(m_cs_notification_queue);\n+        return (m_registered_notification_types.find(type) != m_registered_notification_types.end());\n+    }\n+};\n+\n+class NotificationQueueManager : public CValidationInterface\n+{\n+public:\n+    CCriticalSection m_cs_queue_manager;\n+    std::map<clientUUID_t, NotificationQueue*> m_map_sequence_numbers;\n+\n+    NotificationQueue* getQueue(const clientUUID_t& clientid)\n+    {\n+        LOCK(m_cs_queue_manager);\n+        return m_map_sequence_numbers[clientid];\n+    }\n+\n+    NotificationQueue* addQueue(const clientUUID_t& clientid)\n+    {\n+        LOCK(m_cs_queue_manager);\n+        m_map_sequence_numbers[clientid] = new NotificationQueue();\n+        return m_map_sequence_numbers[clientid];\n+    }\n+\n+    void NotifyTransaction(const CTransactionRef& ptx)\n+    {\n+        LOCK(m_cs_queue_manager);\n+        for (auto& queueEntry : m_map_sequence_numbers) {\n+            if (!queueEntry.second->isTypeRegistered(NotificationType::Tx)) continue;\n+\n+            NotificationEntry entry;\n+            entry.m_type = NotificationType::Tx;\n+            entry.m_notification.setStr(ptx->GetHash().GetHex());\n+            queueEntry.second->addToQueue(entry);\n+        }\n+    }\n+\n+    void BlockConnected(const std::shared_ptr<const CBlock>& pblock, const CBlockIndex* pindexConnected, const std::vector<CTransactionRef>& vtxConflicted) override\n+    {\n+        for (const CTransactionRef& ptx : pblock->vtx) {\n+            // Do a normal notify for each transaction added in the block\n+            NotifyTransaction(ptx);\n+        }\n+    }\n+\n+    void BlockDisconnected(const std::shared_ptr<const CBlock>& pblock) override\n+    {\n+        for (const CTransactionRef& ptx : pblock->vtx) {\n+            // Do a normal notify for each transaction removed in block disconnection\n+            NotifyTransaction(ptx);\n+        }\n+    }\n+\n+    void UpdatedBlockTip(const CBlockIndex* pindexNew, const CBlockIndex* pindexFork, bool fInitialDownload) override",
      "path": "src/rpc/notifications.cpp",
      "position": 215,
      "original_position": 215,
      "commit_id": "2652c55b7a8a65bbdb8ad7c09dcb09870aa913f3",
      "original_commit_id": "2652c55b7a8a65bbdb8ad7c09dcb09870aa913f3",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I dont think this is the notification we want  here - dont we want to use BlockConnected/Disconnected to notify clients of all connected blocks, not just new tips after reorgs which potentially connect multiple blocks?",
      "created_at": "2017-11-06T18:00:45Z",
      "updated_at": "2017-11-06T18:51:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7949#discussion_r149155354",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/149155354"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7949"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 215,
      "original_line": 215,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/149155844",
      "pull_request_review_id": 74505301,
      "id": 149155844,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0OTE1NTg0NA==",
      "diff_hunk": "@@ -0,0 +1,381 @@\n+// Copyright (c) 2017 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include \"chain.h\"\n+#include \"init.h\"\n+#include \"primitives/block.h\"\n+#include \"primitives/transaction.h\"\n+#include \"rpc/server.h\"\n+#include \"sync.h\"\n+#include \"util.h\"\n+#include \"utilstrencodings.h\"\n+#include \"validationinterface.h\"\n+\n+#include <univalue.h>\n+\n+#include <boost/assign/list_of.hpp>\n+#include <boost/foreach.hpp>\n+#include <boost/range/adaptors.hpp>\n+\n+#include <deque>\n+#include <exception>\n+#include <stdint.h>\n+\n+static const char* MSG_HASHBLOCK = \"hashblock\";\n+static const char* MSG_HASHTX = \"hashtx\";\n+\n+/* keep the max queue size large becase we don't\n+   auto-register for notification on startup */\n+static const size_t MAX_QUEUE_SIZE = 1024 * 1024;\n+static const int DEFAULT_POLL_TIMEOUT = 30;\n+\n+enum class NotificationType {\n+    Unknown,\n+    Block,\n+    Tx\n+};\n+\n+typedef std::pair<size_t, size_t> queueRange_t;\n+typedef std::string clientUUID_t;\n+\n+// class that represents a notification\n+class NotificationEntry\n+{\n+public:\n+    NotificationType m_type;\n+    int32_t m_sequence_number;\n+    UniValue m_notification;\n+};\n+\n+class NotificationQueue\n+{\n+public:\n+    std::deque<NotificationEntry> m_queue;\n+    std::map<NotificationType, int32_t> m_map_sequence_numbers;",
      "path": "src/rpc/notifications.cpp",
      "position": 55,
      "original_position": 55,
      "commit_id": "2652c55b7a8a65bbdb8ad7c09dcb09870aa913f3",
      "original_commit_id": "2652c55b7a8a65bbdb8ad7c09dcb09870aa913f3",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I generally prefer 64 bit ints here - sure, its unlikely you'd overflow 32 bits, but if you're online for 3 or 4 years you may start getting closeish.",
      "created_at": "2017-11-06T18:02:48Z",
      "updated_at": "2017-11-06T18:51:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7949#discussion_r149155844",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/149155844"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7949"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 55,
      "original_line": 55,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/149158599",
      "pull_request_review_id": 74505301,
      "id": 149158599,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0OTE1ODU5OQ==",
      "diff_hunk": "@@ -0,0 +1,381 @@\n+// Copyright (c) 2017 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include \"chain.h\"\n+#include \"init.h\"\n+#include \"primitives/block.h\"\n+#include \"primitives/transaction.h\"\n+#include \"rpc/server.h\"\n+#include \"sync.h\"\n+#include \"util.h\"\n+#include \"utilstrencodings.h\"\n+#include \"validationinterface.h\"\n+\n+#include <univalue.h>\n+\n+#include <boost/assign/list_of.hpp>\n+#include <boost/foreach.hpp>\n+#include <boost/range/adaptors.hpp>\n+\n+#include <deque>\n+#include <exception>\n+#include <stdint.h>\n+\n+static const char* MSG_HASHBLOCK = \"hashblock\";\n+static const char* MSG_HASHTX = \"hashtx\";\n+\n+/* keep the max queue size large becase we don't\n+   auto-register for notification on startup */\n+static const size_t MAX_QUEUE_SIZE = 1024 * 1024;\n+static const int DEFAULT_POLL_TIMEOUT = 30;\n+\n+enum class NotificationType {\n+    Unknown,\n+    Block,\n+    Tx\n+};\n+\n+typedef std::pair<size_t, size_t> queueRange_t;\n+typedef std::string clientUUID_t;\n+\n+// class that represents a notification\n+class NotificationEntry\n+{\n+public:\n+    NotificationType m_type;\n+    int32_t m_sequence_number;\n+    UniValue m_notification;\n+};\n+\n+class NotificationQueue\n+{\n+public:\n+    std::deque<NotificationEntry> m_queue;\n+    std::map<NotificationType, int32_t> m_map_sequence_numbers;\n+    std::set<NotificationType> m_registered_notification_types;\n+\n+    CCriticalSection m_cs_notification_queue;\n+\n+    const std::string typeToString(NotificationType type) const\n+    {\n+        switch (type) {\n+        case NotificationType::Block:\n+            return MSG_HASHBLOCK;\n+            break;\n+        case NotificationType::Tx:\n+            return MSG_HASHTX;\n+            break;\n+        default:\n+            return \"unknown\";\n+        }\n+    }\n+\n+    NotificationType stringToType(const std::string& strType) const\n+    {\n+        if (strType == MSG_HASHBLOCK)\n+            return NotificationType::Block;\n+        else if (strType == MSG_HASHTX)\n+            return NotificationType::Tx;\n+        else\n+            return NotificationType::Unknown;\n+    }\n+\n+    // populates a json object with all notifications in the queue\n+    // returns a range to allow removing the elements from the queue\n+    // after successfull transmitting\n+    queueRange_t weakDequeueNotifications(UniValue& result)\n+    {\n+        size_t firstElement = 0;\n+        size_t elementCount = 0;\n+\n+        LOCK(m_cs_notification_queue);\n+        for (const NotificationEntry& entry : m_queue) {\n+            UniValue obj = UniValue(UniValue::VOBJ);\n+            obj.pushKV(\"type\", typeToString(entry.m_type));\n+            obj.pushKV(\"seq\", entry.m_sequence_number);\n+            obj.pushKV(\"obj\", entry.m_notification);\n+            result.push_back(obj);\n+            elementCount++;\n+        }\n+        return std::make_pair(firstElement, elementCount);\n+    }\n+\n+    // removes notifications in the given range from the queue\n+    void eraseRangeFromQueue(const queueRange_t range)\n+    {\n+        LOCK(m_cs_notification_queue);\n+        m_queue.erase(m_queue.begin() + range.first, m_queue.begin() + range.first + range.second);\n+    }\n+\n+    // dequeues all notifications from the queue\n+    void dequeueElements(UniValue& result)\n+    {\n+        queueRange_t range = weakDequeueNotifications(result);\n+        eraseRangeFromQueue(range);\n+    }\n+\n+    bool elementsAvailable()\n+    {\n+        LOCK(m_cs_notification_queue);\n+        return m_queue.size() > 0;\n+    }\n+\n+    void registerType(NotificationType type)\n+    {\n+        if (type == NotificationType::Unknown)\n+            return;\n+\n+        LOCK(m_cs_notification_queue);\n+        m_registered_notification_types.insert(type);\n+    }\n+\n+    void unregisterType(NotificationType type)\n+    {\n+        LOCK(m_cs_notification_queue);\n+        m_registered_notification_types.erase(type);\n+    }\n+\n+    void unregisterAllTypes()\n+    {\n+        LOCK(m_cs_notification_queue);\n+        m_registered_notification_types.clear();\n+    }\n+\n+    void addToQueue(NotificationEntry entry)\n+    {\n+        LOCK(m_cs_notification_queue);\n+\n+        size_t queueSize = m_queue.size();\n+        if (queueSize > MAX_QUEUE_SIZE) {\n+            m_queue.pop_front();\n+            LogPrintf(\"RPC Notification limit has been reached, dropping oldest element\\n\");",
      "path": "src/rpc/notifications.cpp",
      "position": 152,
      "original_position": 152,
      "commit_id": "2652c55b7a8a65bbdb8ad7c09dcb09870aa913f3",
      "original_commit_id": "2652c55b7a8a65bbdb8ad7c09dcb09870aa913f3",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'd be somwhat worried we'd fill someone's drive with debug log entries in case they forget to deregister a listener, here.",
      "created_at": "2017-11-06T18:15:14Z",
      "updated_at": "2017-11-06T18:51:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7949#discussion_r149158599",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/149158599"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7949"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 152,
      "original_line": 152,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/149162289",
      "pull_request_review_id": 74505301,
      "id": 149162289,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0OTE2MjI4OQ==",
      "diff_hunk": "@@ -0,0 +1,381 @@\n+// Copyright (c) 2017 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include \"chain.h\"\n+#include \"init.h\"\n+#include \"primitives/block.h\"\n+#include \"primitives/transaction.h\"\n+#include \"rpc/server.h\"\n+#include \"sync.h\"\n+#include \"util.h\"\n+#include \"utilstrencodings.h\"\n+#include \"validationinterface.h\"\n+\n+#include <univalue.h>\n+\n+#include <boost/assign/list_of.hpp>\n+#include <boost/foreach.hpp>\n+#include <boost/range/adaptors.hpp>\n+\n+#include <deque>\n+#include <exception>\n+#include <stdint.h>\n+\n+static const char* MSG_HASHBLOCK = \"hashblock\";\n+static const char* MSG_HASHTX = \"hashtx\";\n+\n+/* keep the max queue size large becase we don't\n+   auto-register for notification on startup */\n+static const size_t MAX_QUEUE_SIZE = 1024 * 1024;\n+static const int DEFAULT_POLL_TIMEOUT = 30;\n+\n+enum class NotificationType {\n+    Unknown,\n+    Block,\n+    Tx\n+};\n+\n+typedef std::pair<size_t, size_t> queueRange_t;\n+typedef std::string clientUUID_t;\n+\n+// class that represents a notification\n+class NotificationEntry\n+{\n+public:\n+    NotificationType m_type;\n+    int32_t m_sequence_number;\n+    UniValue m_notification;\n+};\n+\n+class NotificationQueue\n+{\n+public:\n+    std::deque<NotificationEntry> m_queue;\n+    std::map<NotificationType, int32_t> m_map_sequence_numbers;\n+    std::set<NotificationType> m_registered_notification_types;\n+\n+    CCriticalSection m_cs_notification_queue;\n+\n+    const std::string typeToString(NotificationType type) const\n+    {\n+        switch (type) {\n+        case NotificationType::Block:\n+            return MSG_HASHBLOCK;\n+            break;\n+        case NotificationType::Tx:\n+            return MSG_HASHTX;\n+            break;\n+        default:\n+            return \"unknown\";\n+        }\n+    }\n+\n+    NotificationType stringToType(const std::string& strType) const\n+    {\n+        if (strType == MSG_HASHBLOCK)\n+            return NotificationType::Block;\n+        else if (strType == MSG_HASHTX)\n+            return NotificationType::Tx;\n+        else\n+            return NotificationType::Unknown;\n+    }\n+\n+    // populates a json object with all notifications in the queue\n+    // returns a range to allow removing the elements from the queue\n+    // after successfull transmitting\n+    queueRange_t weakDequeueNotifications(UniValue& result)\n+    {\n+        size_t firstElement = 0;\n+        size_t elementCount = 0;\n+\n+        LOCK(m_cs_notification_queue);\n+        for (const NotificationEntry& entry : m_queue) {\n+            UniValue obj = UniValue(UniValue::VOBJ);\n+            obj.pushKV(\"type\", typeToString(entry.m_type));\n+            obj.pushKV(\"seq\", entry.m_sequence_number);\n+            obj.pushKV(\"obj\", entry.m_notification);\n+            result.push_back(obj);\n+            elementCount++;\n+        }\n+        return std::make_pair(firstElement, elementCount);\n+    }\n+\n+    // removes notifications in the given range from the queue\n+    void eraseRangeFromQueue(const queueRange_t range)\n+    {\n+        LOCK(m_cs_notification_queue);\n+        m_queue.erase(m_queue.begin() + range.first, m_queue.begin() + range.first + range.second);\n+    }\n+\n+    // dequeues all notifications from the queue\n+    void dequeueElements(UniValue& result)\n+    {\n+        queueRange_t range = weakDequeueNotifications(result);\n+        eraseRangeFromQueue(range);\n+    }\n+\n+    bool elementsAvailable()\n+    {\n+        LOCK(m_cs_notification_queue);\n+        return m_queue.size() > 0;\n+    }\n+\n+    void registerType(NotificationType type)\n+    {\n+        if (type == NotificationType::Unknown)\n+            return;\n+\n+        LOCK(m_cs_notification_queue);\n+        m_registered_notification_types.insert(type);\n+    }\n+\n+    void unregisterType(NotificationType type)\n+    {\n+        LOCK(m_cs_notification_queue);\n+        m_registered_notification_types.erase(type);\n+    }\n+\n+    void unregisterAllTypes()\n+    {\n+        LOCK(m_cs_notification_queue);\n+        m_registered_notification_types.clear();\n+    }\n+\n+    void addToQueue(NotificationEntry entry)\n+    {\n+        LOCK(m_cs_notification_queue);\n+\n+        size_t queueSize = m_queue.size();\n+        if (queueSize > MAX_QUEUE_SIZE) {\n+            m_queue.pop_front();\n+            LogPrintf(\"RPC Notification limit has been reached, dropping oldest element\\n\");\n+        }\n+        m_map_sequence_numbers[entry.m_type]++;\n+        entry.m_sequence_number = m_map_sequence_numbers[entry.m_type];\n+        m_queue.push_back(entry);\n+    }\n+\n+    /* checks if a certain notification type is registered */\n+    bool isTypeRegistered(NotificationType type)\n+    {\n+        LOCK(m_cs_notification_queue);\n+        return (m_registered_notification_types.find(type) != m_registered_notification_types.end());\n+    }\n+};\n+\n+class NotificationQueueManager : public CValidationInterface\n+{\n+public:\n+    CCriticalSection m_cs_queue_manager;\n+    std::map<clientUUID_t, NotificationQueue*> m_map_sequence_numbers;",
      "path": "src/rpc/notifications.cpp",
      "position": 171,
      "original_position": 171,
      "commit_id": "2652c55b7a8a65bbdb8ad7c09dcb09870aa913f3",
      "original_commit_id": "2652c55b7a8a65bbdb8ad7c09dcb09870aa913f3",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It'd be great if we could de-duplicate the queues here - no need to have a queue per client, just have a global queue and keep track of how far delayed all the clients are in terms of the sequence number and just clean things up to the furthest-back client.",
      "created_at": "2017-11-06T18:29:11Z",
      "updated_at": "2017-11-06T18:51:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7949#discussion_r149162289",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/149162289"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7949"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 171,
      "original_line": 171,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/149163276",
      "pull_request_review_id": 74505301,
      "id": 149163276,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0OTE2MzI3Ng==",
      "diff_hunk": "@@ -0,0 +1,381 @@\n+// Copyright (c) 2017 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include \"chain.h\"\n+#include \"init.h\"\n+#include \"primitives/block.h\"\n+#include \"primitives/transaction.h\"\n+#include \"rpc/server.h\"\n+#include \"sync.h\"\n+#include \"util.h\"\n+#include \"utilstrencodings.h\"\n+#include \"validationinterface.h\"\n+\n+#include <univalue.h>\n+\n+#include <boost/assign/list_of.hpp>\n+#include <boost/foreach.hpp>\n+#include <boost/range/adaptors.hpp>\n+\n+#include <deque>\n+#include <exception>\n+#include <stdint.h>\n+\n+static const char* MSG_HASHBLOCK = \"hashblock\";\n+static const char* MSG_HASHTX = \"hashtx\";\n+\n+/* keep the max queue size large becase we don't\n+   auto-register for notification on startup */\n+static const size_t MAX_QUEUE_SIZE = 1024 * 1024;\n+static const int DEFAULT_POLL_TIMEOUT = 30;\n+\n+enum class NotificationType {\n+    Unknown,\n+    Block,\n+    Tx\n+};\n+\n+typedef std::pair<size_t, size_t> queueRange_t;\n+typedef std::string clientUUID_t;\n+\n+// class that represents a notification\n+class NotificationEntry\n+{\n+public:\n+    NotificationType m_type;\n+    int32_t m_sequence_number;\n+    UniValue m_notification;\n+};\n+\n+class NotificationQueue\n+{\n+public:\n+    std::deque<NotificationEntry> m_queue;\n+    std::map<NotificationType, int32_t> m_map_sequence_numbers;\n+    std::set<NotificationType> m_registered_notification_types;\n+\n+    CCriticalSection m_cs_notification_queue;\n+\n+    const std::string typeToString(NotificationType type) const\n+    {\n+        switch (type) {\n+        case NotificationType::Block:\n+            return MSG_HASHBLOCK;\n+            break;\n+        case NotificationType::Tx:\n+            return MSG_HASHTX;\n+            break;\n+        default:\n+            return \"unknown\";\n+        }\n+    }\n+\n+    NotificationType stringToType(const std::string& strType) const\n+    {\n+        if (strType == MSG_HASHBLOCK)\n+            return NotificationType::Block;\n+        else if (strType == MSG_HASHTX)\n+            return NotificationType::Tx;\n+        else\n+            return NotificationType::Unknown;\n+    }\n+\n+    // populates a json object with all notifications in the queue\n+    // returns a range to allow removing the elements from the queue\n+    // after successfull transmitting\n+    queueRange_t weakDequeueNotifications(UniValue& result)\n+    {\n+        size_t firstElement = 0;\n+        size_t elementCount = 0;\n+\n+        LOCK(m_cs_notification_queue);\n+        for (const NotificationEntry& entry : m_queue) {\n+            UniValue obj = UniValue(UniValue::VOBJ);\n+            obj.pushKV(\"type\", typeToString(entry.m_type));\n+            obj.pushKV(\"seq\", entry.m_sequence_number);\n+            obj.pushKV(\"obj\", entry.m_notification);\n+            result.push_back(obj);\n+            elementCount++;\n+        }\n+        return std::make_pair(firstElement, elementCount);\n+    }\n+\n+    // removes notifications in the given range from the queue\n+    void eraseRangeFromQueue(const queueRange_t range)\n+    {\n+        LOCK(m_cs_notification_queue);\n+        m_queue.erase(m_queue.begin() + range.first, m_queue.begin() + range.first + range.second);\n+    }\n+\n+    // dequeues all notifications from the queue\n+    void dequeueElements(UniValue& result)\n+    {\n+        queueRange_t range = weakDequeueNotifications(result);\n+        eraseRangeFromQueue(range);\n+    }\n+\n+    bool elementsAvailable()\n+    {\n+        LOCK(m_cs_notification_queue);\n+        return m_queue.size() > 0;\n+    }\n+\n+    void registerType(NotificationType type)\n+    {\n+        if (type == NotificationType::Unknown)\n+            return;\n+\n+        LOCK(m_cs_notification_queue);\n+        m_registered_notification_types.insert(type);\n+    }\n+\n+    void unregisterType(NotificationType type)\n+    {\n+        LOCK(m_cs_notification_queue);\n+        m_registered_notification_types.erase(type);\n+    }\n+\n+    void unregisterAllTypes()\n+    {\n+        LOCK(m_cs_notification_queue);\n+        m_registered_notification_types.clear();\n+    }\n+\n+    void addToQueue(NotificationEntry entry)\n+    {\n+        LOCK(m_cs_notification_queue);\n+\n+        size_t queueSize = m_queue.size();\n+        if (queueSize > MAX_QUEUE_SIZE) {\n+            m_queue.pop_front();\n+            LogPrintf(\"RPC Notification limit has been reached, dropping oldest element\\n\");\n+        }\n+        m_map_sequence_numbers[entry.m_type]++;\n+        entry.m_sequence_number = m_map_sequence_numbers[entry.m_type];\n+        m_queue.push_back(entry);\n+    }\n+\n+    /* checks if a certain notification type is registered */\n+    bool isTypeRegistered(NotificationType type)\n+    {\n+        LOCK(m_cs_notification_queue);\n+        return (m_registered_notification_types.find(type) != m_registered_notification_types.end());\n+    }\n+};\n+\n+class NotificationQueueManager : public CValidationInterface\n+{\n+public:\n+    CCriticalSection m_cs_queue_manager;\n+    std::map<clientUUID_t, NotificationQueue*> m_map_sequence_numbers;",
      "path": "src/rpc/notifications.cpp",
      "position": 171,
      "original_position": 171,
      "commit_id": "2652c55b7a8a65bbdb8ad7c09dcb09870aa913f3",
      "original_commit_id": "2652c55b7a8a65bbdb8ad7c09dcb09870aa913f3",
      "in_reply_to_id": 149162289,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Also, please use unique_ptr here instead of manual management and maybe remove the queue when there are no registered types (and, I suppose, the client is caught up) instead of keeping around a null queue.",
      "created_at": "2017-11-06T18:33:06Z",
      "updated_at": "2017-11-06T18:51:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7949#discussion_r149163276",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/149163276"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7949"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 171,
      "original_line": 171,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/149163720",
      "pull_request_review_id": 74505301,
      "id": 149163720,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0OTE2MzcyMA==",
      "diff_hunk": "@@ -0,0 +1,381 @@\n+// Copyright (c) 2017 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include \"chain.h\"\n+#include \"init.h\"\n+#include \"primitives/block.h\"\n+#include \"primitives/transaction.h\"\n+#include \"rpc/server.h\"\n+#include \"sync.h\"\n+#include \"util.h\"\n+#include \"utilstrencodings.h\"\n+#include \"validationinterface.h\"\n+\n+#include <univalue.h>\n+\n+#include <boost/assign/list_of.hpp>\n+#include <boost/foreach.hpp>\n+#include <boost/range/adaptors.hpp>\n+\n+#include <deque>\n+#include <exception>\n+#include <stdint.h>\n+\n+static const char* MSG_HASHBLOCK = \"hashblock\";\n+static const char* MSG_HASHTX = \"hashtx\";\n+\n+/* keep the max queue size large becase we don't\n+   auto-register for notification on startup */\n+static const size_t MAX_QUEUE_SIZE = 1024 * 1024;\n+static const int DEFAULT_POLL_TIMEOUT = 30;\n+\n+enum class NotificationType {\n+    Unknown,\n+    Block,\n+    Tx\n+};\n+\n+typedef std::pair<size_t, size_t> queueRange_t;\n+typedef std::string clientUUID_t;\n+\n+// class that represents a notification\n+class NotificationEntry\n+{\n+public:\n+    NotificationType m_type;\n+    int32_t m_sequence_number;\n+    UniValue m_notification;\n+};\n+\n+class NotificationQueue\n+{\n+public:\n+    std::deque<NotificationEntry> m_queue;\n+    std::map<NotificationType, int32_t> m_map_sequence_numbers;\n+    std::set<NotificationType> m_registered_notification_types;\n+\n+    CCriticalSection m_cs_notification_queue;\n+\n+    const std::string typeToString(NotificationType type) const\n+    {\n+        switch (type) {\n+        case NotificationType::Block:\n+            return MSG_HASHBLOCK;\n+            break;\n+        case NotificationType::Tx:\n+            return MSG_HASHTX;\n+            break;\n+        default:\n+            return \"unknown\";\n+        }\n+    }\n+\n+    NotificationType stringToType(const std::string& strType) const\n+    {\n+        if (strType == MSG_HASHBLOCK)\n+            return NotificationType::Block;\n+        else if (strType == MSG_HASHTX)\n+            return NotificationType::Tx;\n+        else\n+            return NotificationType::Unknown;\n+    }\n+\n+    // populates a json object with all notifications in the queue\n+    // returns a range to allow removing the elements from the queue\n+    // after successfull transmitting\n+    queueRange_t weakDequeueNotifications(UniValue& result)\n+    {\n+        size_t firstElement = 0;\n+        size_t elementCount = 0;\n+\n+        LOCK(m_cs_notification_queue);\n+        for (const NotificationEntry& entry : m_queue) {\n+            UniValue obj = UniValue(UniValue::VOBJ);\n+            obj.pushKV(\"type\", typeToString(entry.m_type));\n+            obj.pushKV(\"seq\", entry.m_sequence_number);\n+            obj.pushKV(\"obj\", entry.m_notification);\n+            result.push_back(obj);\n+            elementCount++;\n+        }\n+        return std::make_pair(firstElement, elementCount);\n+    }\n+\n+    // removes notifications in the given range from the queue\n+    void eraseRangeFromQueue(const queueRange_t range)\n+    {\n+        LOCK(m_cs_notification_queue);\n+        m_queue.erase(m_queue.begin() + range.first, m_queue.begin() + range.first + range.second);\n+    }\n+\n+    // dequeues all notifications from the queue\n+    void dequeueElements(UniValue& result)\n+    {\n+        queueRange_t range = weakDequeueNotifications(result);\n+        eraseRangeFromQueue(range);\n+    }\n+\n+    bool elementsAvailable()\n+    {\n+        LOCK(m_cs_notification_queue);\n+        return m_queue.size() > 0;\n+    }\n+\n+    void registerType(NotificationType type)\n+    {\n+        if (type == NotificationType::Unknown)\n+            return;\n+\n+        LOCK(m_cs_notification_queue);\n+        m_registered_notification_types.insert(type);\n+    }\n+\n+    void unregisterType(NotificationType type)\n+    {\n+        LOCK(m_cs_notification_queue);\n+        m_registered_notification_types.erase(type);\n+    }\n+\n+    void unregisterAllTypes()\n+    {\n+        LOCK(m_cs_notification_queue);\n+        m_registered_notification_types.clear();\n+    }\n+\n+    void addToQueue(NotificationEntry entry)\n+    {\n+        LOCK(m_cs_notification_queue);\n+\n+        size_t queueSize = m_queue.size();\n+        if (queueSize > MAX_QUEUE_SIZE) {\n+            m_queue.pop_front();\n+            LogPrintf(\"RPC Notification limit has been reached, dropping oldest element\\n\");\n+        }\n+        m_map_sequence_numbers[entry.m_type]++;\n+        entry.m_sequence_number = m_map_sequence_numbers[entry.m_type];\n+        m_queue.push_back(entry);\n+    }\n+\n+    /* checks if a certain notification type is registered */\n+    bool isTypeRegistered(NotificationType type)\n+    {\n+        LOCK(m_cs_notification_queue);\n+        return (m_registered_notification_types.find(type) != m_registered_notification_types.end());\n+    }\n+};\n+\n+class NotificationQueueManager : public CValidationInterface\n+{\n+public:\n+    CCriticalSection m_cs_queue_manager;\n+    std::map<clientUUID_t, NotificationQueue*> m_map_sequence_numbers;\n+\n+    NotificationQueue* getQueue(const clientUUID_t& clientid)\n+    {\n+        LOCK(m_cs_queue_manager);\n+        return m_map_sequence_numbers[clientid];\n+    }\n+\n+    NotificationQueue* addQueue(const clientUUID_t& clientid)\n+    {\n+        LOCK(m_cs_queue_manager);\n+        m_map_sequence_numbers[clientid] = new NotificationQueue();\n+        return m_map_sequence_numbers[clientid];\n+    }\n+\n+    void NotifyTransaction(const CTransactionRef& ptx)\n+    {\n+        LOCK(m_cs_queue_manager);\n+        for (auto& queueEntry : m_map_sequence_numbers) {\n+            if (!queueEntry.second->isTypeRegistered(NotificationType::Tx)) continue;\n+\n+            NotificationEntry entry;\n+            entry.m_type = NotificationType::Tx;\n+            entry.m_notification.setStr(ptx->GetHash().GetHex());\n+            queueEntry.second->addToQueue(entry);\n+        }\n+    }\n+\n+    void BlockConnected(const std::shared_ptr<const CBlock>& pblock, const CBlockIndex* pindexConnected, const std::vector<CTransactionRef>& vtxConflicted) override\n+    {\n+        for (const CTransactionRef& ptx : pblock->vtx) {\n+            // Do a normal notify for each transaction added in the block\n+            NotifyTransaction(ptx);\n+        }\n+    }\n+\n+    void BlockDisconnected(const std::shared_ptr<const CBlock>& pblock) override\n+    {\n+        for (const CTransactionRef& ptx : pblock->vtx) {\n+            // Do a normal notify for each transaction removed in block disconnection\n+            NotifyTransaction(ptx);\n+        }\n+    }\n+\n+    void UpdatedBlockTip(const CBlockIndex* pindexNew, const CBlockIndex* pindexFork, bool fInitialDownload) override\n+    {\n+        LOCK(m_cs_queue_manager);\n+        BOOST_FOREACH (NotificationQueue* queue, m_map_sequence_numbers | boost::adaptors::map_values) {\n+            if (!queue->isTypeRegistered(NotificationType::Block)) continue;\n+\n+            NotificationEntry entry;\n+            entry.m_type = NotificationType::Block;\n+            entry.m_notification.setStr(pindexNew->GetBlockHash().GetHex());\n+            queue->addToQueue(entry);\n+        }\n+    }\n+\n+    void TransactionAddedToMempool(const CTransactionRef& ptx) override\n+    {\n+        NotifyTransaction(ptx);\n+    }\n+};\n+\n+CCriticalSection cs_queueManagerSharedInstance;\n+static NotificationQueueManager* queueManagerSharedInstance = NULL;\n+\n+NotificationQueue* getQueue(const std::string& clientID, bool createIfNotExists)\n+{\n+    LOCK(cs_queueManagerSharedInstance);\n+    NotificationQueue* clientQueue = queueManagerSharedInstance->getQueue(clientID);\n+    if (!clientQueue && !createIfNotExists)\n+        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Client UUID not found.\");\n+    if (!clientQueue)\n+        clientQueue = queueManagerSharedInstance->addQueue(clientID);\n+    return clientQueue;\n+}\n+\n+UniValue setregisterednotifications(const JSONRPCRequest& request)\n+{\n+    if (request.fHelp || request.params.size() != 2)\n+        throw std::runtime_error(\n+            \"setregisterednotifications <uuid> [<type>, <type>, ...]\\n\"\n+            \"Register for rpc notification(s).\\n\"\n+            \"Notifications can be polled by calling pollnotifications.\"\n+            \"The client UUID must be unique per client application and will define the used queue.\"\n+            \"\\nArguments:\\n\"\n+            \"1. \\\"uuid\\\"         (string, required) The client uuid\\n\"\n+            \"2. \\\"type\\\"         (string, required) The notification type to register for (\\\"hashblock\\\", \\\"hashtx\\\")\\n\"\n+            \"\\nExamples:\\n\"\n+            \"\\nRegister for block and transaction notifications\\n\" +\n+            HelpExampleCli(\"setregisterednotifications\", \"\\\"[\\\"hashblock\\\", \\\"hashtx\\\"]\\\" \\\"\") +\n+            \"register for transaction and block signals\\n\");\n+\n+    RPCTypeCheck(request.params, boost::assign::list_of(UniValue::VSTR)(UniValue::VARR), true);\n+\n+    NotificationQueue* clientQueue = getQueue(request.params[0].get_str(), true);\n+\n+    /* remove all current registered types */\n+    clientQueue->unregisterAllTypes();\n+\n+    UniValue types = request.params[1].get_array();\n+    BOOST_FOREACH (const UniValue& newType, types.getValues()) {\n+        if (!newType.isStr())\n+            continue;\n+\n+        NotificationType type = clientQueue->stringToType(newType.get_str());\n+        if (type == NotificationType::Unknown) {\n+            /* don't register only for a subset of the requested notifications */\n+            clientQueue->unregisterAllTypes();\n+            throw JSONRPCError(RPC_INVALID_PARAMETER, \"Notification type not found\");\n+        }\n+\n+        clientQueue->registerType(type);\n+    }\n+\n+    return NullUniValue;\n+}\n+\n+UniValue getregisterednotifications(const JSONRPCRequest& request)\n+{\n+    if (request.fHelp || request.params.size() != 1)\n+        throw std::runtime_error(\n+            \"getregisterednotifications <uuid>\\n\"\n+            \"\\nReturns the currently registered RPC notification types for the given uuid.\\n\"\n+            \"\\nArguments:\\n\"\n+            \"1. \\\"uuid\\\"         (string, required) The client uuid\\n\"\n+            \"\\nResult:\\n\"\n+            \"\\\"[\\\"\\n\"\n+            \"\\\"  \\\"<signal>\\\"             (string) The registered signal\\n\"\n+            \"\\\"  ,...\\n\"\n+            \"\\\"]\\\"\\n\"\n+            \"\\nExamples:\\n\"\n+            \"\\nCreate a transaction\\n\" +\n+            HelpExampleCli(\"getregisterednotifications\", \"\") +\n+            \"Get the registered notification types\\n\" + HelpExampleRpc(\"getregisterednotifications\", \"\"));\n+\n+    RPCTypeCheck(request.params, boost::assign::list_of(UniValue::VSTR), true);\n+    NotificationQueue* clientQueue = getQueue(request.params[0].get_str(), false);\n+\n+    UniValue result = UniValue(UniValue::VARR);\n+    BOOST_FOREACH (NotificationType type, clientQueue->m_registered_notification_types)\n+        result.push_back(clientQueue->typeToString(type));\n+\n+    return result;\n+}\n+\n+UniValue pollnotifications(const JSONRPCRequest& request)\n+{\n+    if (request.fHelp || request.params.size() < 1 || request.params.size() > 2)\n+        throw std::runtime_error(\n+            \"pollnotifications <uuid> <timeout>\\n\"\n+            \"\\nLong poll function to get all available notifications for a given uuid (see setregisterednotifications for how to register for notifications).\\n\"\n+            \"The RPC thread will idle for the via <timeout> defined amount of seconds and/or will immediately response if new notifications are available\\n\"\n+            \"Arguments:\\n\"\n+            \"1. \\\"uuid\\\"         (string, required) The client uuid\\n\"\n+            \"2. \\\"timeout\\\"      (numeric, optional) The timeout \\n\"\n+            \"\\nResult:\\n\"\n+            \"\\\"[ notification, ... ]\\\"             (object) The notification object\\n\"\n+            \"\\nExamples:\\n\"\n+            \"\\nPoll notifications for client a8098c1a...\\n\" +\n+            HelpExampleCli(\"pollnotifications\", \"\\\"a8098c1a-f86e-11da-bd1a-00112444be1e\\\" 500\") +\n+            \"Long poll notification (max. 500 seconds)\\n\" + HelpExampleRpc(\"pollnotifications\", \"\\\"a8098c1a-f86e-11da-bd1a-00112444be1e\\\" 500\"));\n+\n+    RPCTypeCheck(request.params, boost::assign::list_of(UniValue::VSTR)(UniValue::VNUM), false);\n+    NotificationQueue* clientQueue = getQueue(request.params[0].get_str(), false);\n+\n+    int64_t timeOut = DEFAULT_POLL_TIMEOUT;\n+    if (request.params.size() == 2)\n+        timeOut = request.params[1].get_int64();\n+\n+    int64_t startTime = GetTime();\n+\n+    UniValue result = UniValue(UniValue::VARR);\n+    // allow long polling\n+    while (!ShutdownRequested()) {\n+        if (clientQueue->elementsAvailable()) {\n+            clientQueue->dequeueElements(result);\n+            break;\n+        }\n+        if (startTime + timeOut + (500 / 1000.0) < GetTime())\n+            break;\n+        MilliSleep(500);",
      "path": "src/rpc/notifications.cpp",
      "position": 352,
      "original_position": 352,
      "commit_id": "2652c55b7a8a65bbdb8ad7c09dcb09870aa913f3",
      "original_commit_id": "2652c55b7a8a65bbdb8ad7c09dcb09870aa913f3",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Should probably use a CV and a way for Interrupt to interrupt it instead of calling ShutdownRequested in a 500ms loop.",
      "created_at": "2017-11-06T18:34:53Z",
      "updated_at": "2017-11-06T18:51:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7949#discussion_r149163720",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/149163720"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7949"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 352,
      "original_line": 352,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/214549319",
      "pull_request_review_id": 151629370,
      "id": 214549319,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNDU0OTMxOQ==",
      "diff_hunk": "@@ -0,0 +1,381 @@\n+// Copyright (c) 2017 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include \"chain.h\"\n+#include \"init.h\"\n+#include \"primitives/block.h\"\n+#include \"primitives/transaction.h\"\n+#include \"rpc/server.h\"\n+#include \"sync.h\"\n+#include \"util.h\"\n+#include \"utilstrencodings.h\"\n+#include \"validationinterface.h\"\n+\n+#include <univalue.h>\n+\n+#include <boost/assign/list_of.hpp>\n+#include <boost/foreach.hpp>\n+#include <boost/range/adaptors.hpp>\n+\n+#include <deque>\n+#include <exception>\n+#include <stdint.h>\n+\n+static const char* MSG_HASHBLOCK = \"hashblock\";\n+static const char* MSG_HASHTX = \"hashtx\";\n+\n+/* keep the max queue size large becase we don't",
      "path": "src/rpc/notifications.cpp",
      "position": 28,
      "original_position": 28,
      "commit_id": "2652c55b7a8a65bbdb8ad7c09dcb09870aa913f3",
      "original_commit_id": "2652c55b7a8a65bbdb8ad7c09dcb09870aa913f3",
      "in_reply_to_id": null,
      "user": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Typo found by `codespell`: becase",
      "created_at": "2018-09-02T18:37:16Z",
      "updated_at": "2018-09-02T18:37:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7949#discussion_r214549319",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/214549319"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7949"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 28,
      "original_line": 28,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/214549340",
      "pull_request_review_id": 151629390,
      "id": 214549340,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNDU0OTM0MA==",
      "diff_hunk": "@@ -0,0 +1,381 @@\n+// Copyright (c) 2017 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include \"chain.h\"\n+#include \"init.h\"\n+#include \"primitives/block.h\"\n+#include \"primitives/transaction.h\"\n+#include \"rpc/server.h\"\n+#include \"sync.h\"\n+#include \"util.h\"\n+#include \"utilstrencodings.h\"\n+#include \"validationinterface.h\"\n+\n+#include <univalue.h>\n+\n+#include <boost/assign/list_of.hpp>\n+#include <boost/foreach.hpp>\n+#include <boost/range/adaptors.hpp>\n+\n+#include <deque>\n+#include <exception>\n+#include <stdint.h>\n+\n+static const char* MSG_HASHBLOCK = \"hashblock\";\n+static const char* MSG_HASHTX = \"hashtx\";\n+\n+/* keep the max queue size large becase we don't\n+   auto-register for notification on startup */\n+static const size_t MAX_QUEUE_SIZE = 1024 * 1024;\n+static const int DEFAULT_POLL_TIMEOUT = 30;\n+\n+enum class NotificationType {\n+    Unknown,\n+    Block,\n+    Tx\n+};\n+\n+typedef std::pair<size_t, size_t> queueRange_t;\n+typedef std::string clientUUID_t;\n+\n+// class that represents a notification\n+class NotificationEntry\n+{\n+public:\n+    NotificationType m_type;\n+    int32_t m_sequence_number;\n+    UniValue m_notification;\n+};\n+\n+class NotificationQueue\n+{\n+public:\n+    std::deque<NotificationEntry> m_queue;\n+    std::map<NotificationType, int32_t> m_map_sequence_numbers;\n+    std::set<NotificationType> m_registered_notification_types;\n+\n+    CCriticalSection m_cs_notification_queue;\n+\n+    const std::string typeToString(NotificationType type) const\n+    {\n+        switch (type) {\n+        case NotificationType::Block:\n+            return MSG_HASHBLOCK;\n+            break;\n+        case NotificationType::Tx:\n+            return MSG_HASHTX;\n+            break;\n+        default:\n+            return \"unknown\";\n+        }\n+    }\n+\n+    NotificationType stringToType(const std::string& strType) const\n+    {\n+        if (strType == MSG_HASHBLOCK)\n+            return NotificationType::Block;\n+        else if (strType == MSG_HASHTX)\n+            return NotificationType::Tx;\n+        else\n+            return NotificationType::Unknown;\n+    }\n+\n+    // populates a json object with all notifications in the queue\n+    // returns a range to allow removing the elements from the queue\n+    // after successfull transmitting",
      "path": "src/rpc/notifications.cpp",
      "position": 86,
      "original_position": 86,
      "commit_id": "2652c55b7a8a65bbdb8ad7c09dcb09870aa913f3",
      "original_commit_id": "2652c55b7a8a65bbdb8ad7c09dcb09870aa913f3",
      "in_reply_to_id": null,
      "user": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Typo found by `codespell`: successfull",
      "created_at": "2018-09-02T18:37:40Z",
      "updated_at": "2018-09-02T18:37:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7949#discussion_r214549340",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/214549340"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7949"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 86,
      "original_line": 86,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/231934058",
      "pull_request_review_id": 173015132,
      "id": 231934058,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMTkzNDA1OA==",
      "diff_hunk": "@@ -0,0 +1,381 @@\n+// Copyright (c) 2017 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include \"chain.h\"\n+#include \"init.h\"\n+#include \"primitives/block.h\"\n+#include \"primitives/transaction.h\"\n+#include \"rpc/server.h\"\n+#include \"sync.h\"\n+#include \"util.h\"\n+#include \"utilstrencodings.h\"\n+#include \"validationinterface.h\"\n+\n+#include <univalue.h>\n+\n+#include <boost/assign/list_of.hpp>\n+#include <boost/foreach.hpp>\n+#include <boost/range/adaptors.hpp>\n+\n+#include <deque>\n+#include <exception>\n+#include <stdint.h>\n+\n+static const char* MSG_HASHBLOCK = \"hashblock\";\n+static const char* MSG_HASHTX = \"hashtx\";\n+\n+/* keep the max queue size large becase we don't\n+   auto-register for notification on startup */\n+static const size_t MAX_QUEUE_SIZE = 1024 * 1024;\n+static const int DEFAULT_POLL_TIMEOUT = 30;\n+\n+enum class NotificationType {\n+    Unknown,\n+    Block,\n+    Tx\n+};\n+\n+typedef std::pair<size_t, size_t> queueRange_t;\n+typedef std::string clientUUID_t;\n+\n+// class that represents a notification\n+class NotificationEntry\n+{\n+public:\n+    NotificationType m_type;\n+    int32_t m_sequence_number;\n+    UniValue m_notification;\n+};\n+\n+class NotificationQueue\n+{\n+public:\n+    std::deque<NotificationEntry> m_queue;\n+    std::map<NotificationType, int32_t> m_map_sequence_numbers;\n+    std::set<NotificationType> m_registered_notification_types;\n+\n+    CCriticalSection m_cs_notification_queue;\n+\n+    const std::string typeToString(NotificationType type) const\n+    {\n+        switch (type) {\n+        case NotificationType::Block:\n+            return MSG_HASHBLOCK;\n+            break;\n+        case NotificationType::Tx:\n+            return MSG_HASHTX;\n+            break;\n+        default:\n+            return \"unknown\";\n+        }\n+    }\n+\n+    NotificationType stringToType(const std::string& strType) const\n+    {\n+        if (strType == MSG_HASHBLOCK)\n+            return NotificationType::Block;\n+        else if (strType == MSG_HASHTX)\n+            return NotificationType::Tx;\n+        else\n+            return NotificationType::Unknown;\n+    }\n+\n+    // populates a json object with all notifications in the queue\n+    // returns a range to allow removing the elements from the queue\n+    // after successfull transmitting\n+    queueRange_t weakDequeueNotifications(UniValue& result)\n+    {\n+        size_t firstElement = 0;\n+        size_t elementCount = 0;\n+\n+        LOCK(m_cs_notification_queue);\n+        for (const NotificationEntry& entry : m_queue) {\n+            UniValue obj = UniValue(UniValue::VOBJ);\n+            obj.pushKV(\"type\", typeToString(entry.m_type));\n+            obj.pushKV(\"seq\", entry.m_sequence_number);\n+            obj.pushKV(\"obj\", entry.m_notification);\n+            result.push_back(obj);\n+            elementCount++;\n+        }\n+        return std::make_pair(firstElement, elementCount);\n+    }\n+\n+    // removes notifications in the given range from the queue\n+    void eraseRangeFromQueue(const queueRange_t range)\n+    {\n+        LOCK(m_cs_notification_queue);\n+        m_queue.erase(m_queue.begin() + range.first, m_queue.begin() + range.first + range.second);\n+    }\n+\n+    // dequeues all notifications from the queue\n+    void dequeueElements(UniValue& result)\n+    {\n+        queueRange_t range = weakDequeueNotifications(result);\n+        eraseRangeFromQueue(range);\n+    }\n+\n+    bool elementsAvailable()\n+    {\n+        LOCK(m_cs_notification_queue);\n+        return m_queue.size() > 0;\n+    }\n+\n+    void registerType(NotificationType type)\n+    {\n+        if (type == NotificationType::Unknown)\n+            return;\n+\n+        LOCK(m_cs_notification_queue);\n+        m_registered_notification_types.insert(type);\n+    }\n+\n+    void unregisterType(NotificationType type)\n+    {\n+        LOCK(m_cs_notification_queue);\n+        m_registered_notification_types.erase(type);\n+    }\n+\n+    void unregisterAllTypes()\n+    {\n+        LOCK(m_cs_notification_queue);\n+        m_registered_notification_types.clear();\n+    }\n+\n+    void addToQueue(NotificationEntry entry)\n+    {\n+        LOCK(m_cs_notification_queue);\n+\n+        size_t queueSize = m_queue.size();\n+        if (queueSize > MAX_QUEUE_SIZE) {\n+            m_queue.pop_front();\n+            LogPrintf(\"RPC Notification limit has been reached, dropping oldest element\\n\");\n+        }\n+        m_map_sequence_numbers[entry.m_type]++;\n+        entry.m_sequence_number = m_map_sequence_numbers[entry.m_type];\n+        m_queue.push_back(entry);\n+    }\n+\n+    /* checks if a certain notification type is registered */\n+    bool isTypeRegistered(NotificationType type)\n+    {\n+        LOCK(m_cs_notification_queue);\n+        return (m_registered_notification_types.find(type) != m_registered_notification_types.end());\n+    }\n+};\n+\n+class NotificationQueueManager : public CValidationInterface\n+{\n+public:\n+    CCriticalSection m_cs_queue_manager;\n+    std::map<clientUUID_t, NotificationQueue*> m_map_sequence_numbers;\n+\n+    NotificationQueue* getQueue(const clientUUID_t& clientid)\n+    {\n+        LOCK(m_cs_queue_manager);\n+        return m_map_sequence_numbers[clientid];\n+    }\n+\n+    NotificationQueue* addQueue(const clientUUID_t& clientid)\n+    {\n+        LOCK(m_cs_queue_manager);\n+        m_map_sequence_numbers[clientid] = new NotificationQueue();\n+        return m_map_sequence_numbers[clientid];\n+    }\n+\n+    void NotifyTransaction(const CTransactionRef& ptx)\n+    {\n+        LOCK(m_cs_queue_manager);\n+        for (auto& queueEntry : m_map_sequence_numbers) {\n+            if (!queueEntry.second->isTypeRegistered(NotificationType::Tx)) continue;\n+\n+            NotificationEntry entry;\n+            entry.m_type = NotificationType::Tx;\n+            entry.m_notification.setStr(ptx->GetHash().GetHex());\n+            queueEntry.second->addToQueue(entry);\n+        }\n+    }\n+\n+    void BlockConnected(const std::shared_ptr<const CBlock>& pblock, const CBlockIndex* pindexConnected, const std::vector<CTransactionRef>& vtxConflicted) override\n+    {\n+        for (const CTransactionRef& ptx : pblock->vtx) {\n+            // Do a normal notify for each transaction added in the block\n+            NotifyTransaction(ptx);\n+        }\n+    }\n+\n+    void BlockDisconnected(const std::shared_ptr<const CBlock>& pblock) override\n+    {\n+        for (const CTransactionRef& ptx : pblock->vtx) {\n+            // Do a normal notify for each transaction removed in block disconnection\n+            NotifyTransaction(ptx);\n+        }\n+    }\n+\n+    void UpdatedBlockTip(const CBlockIndex* pindexNew, const CBlockIndex* pindexFork, bool fInitialDownload) override\n+    {\n+        LOCK(m_cs_queue_manager);\n+        BOOST_FOREACH (NotificationQueue* queue, m_map_sequence_numbers | boost::adaptors::map_values) {\n+            if (!queue->isTypeRegistered(NotificationType::Block)) continue;\n+\n+            NotificationEntry entry;\n+            entry.m_type = NotificationType::Block;\n+            entry.m_notification.setStr(pindexNew->GetBlockHash().GetHex());\n+            queue->addToQueue(entry);\n+        }\n+    }\n+\n+    void TransactionAddedToMempool(const CTransactionRef& ptx) override\n+    {\n+        NotifyTransaction(ptx);\n+    }\n+};\n+\n+CCriticalSection cs_queueManagerSharedInstance;\n+static NotificationQueueManager* queueManagerSharedInstance = NULL;\n+\n+NotificationQueue* getQueue(const std::string& clientID, bool createIfNotExists)\n+{\n+    LOCK(cs_queueManagerSharedInstance);\n+    NotificationQueue* clientQueue = queueManagerSharedInstance->getQueue(clientID);\n+    if (!clientQueue && !createIfNotExists)\n+        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Client UUID not found.\");\n+    if (!clientQueue)\n+        clientQueue = queueManagerSharedInstance->addQueue(clientID);\n+    return clientQueue;\n+}\n+\n+UniValue setregisterednotifications(const JSONRPCRequest& request)\n+{\n+    if (request.fHelp || request.params.size() != 2)\n+        throw std::runtime_error(\n+            \"setregisterednotifications <uuid> [<type>, <type>, ...]\\n\"\n+            \"Register for rpc notification(s).\\n\"\n+            \"Notifications can be polled by calling pollnotifications.\"\n+            \"The client UUID must be unique per client application and will define the used queue.\"\n+            \"\\nArguments:\\n\"\n+            \"1. \\\"uuid\\\"         (string, required) The client uuid\\n\"\n+            \"2. \\\"type\\\"         (string, required) The notification type to register for (\\\"hashblock\\\", \\\"hashtx\\\")\\n\"\n+            \"\\nExamples:\\n\"\n+            \"\\nRegister for block and transaction notifications\\n\" +\n+            HelpExampleCli(\"setregisterednotifications\", \"\\\"[\\\"hashblock\\\", \\\"hashtx\\\"]\\\" \\\"\") +\n+            \"register for transaction and block signals\\n\");\n+\n+    RPCTypeCheck(request.params, boost::assign::list_of(UniValue::VSTR)(UniValue::VARR), true);\n+\n+    NotificationQueue* clientQueue = getQueue(request.params[0].get_str(), true);\n+\n+    /* remove all current registered types */\n+    clientQueue->unregisterAllTypes();\n+\n+    UniValue types = request.params[1].get_array();\n+    BOOST_FOREACH (const UniValue& newType, types.getValues()) {\n+        if (!newType.isStr())\n+            continue;\n+\n+        NotificationType type = clientQueue->stringToType(newType.get_str());\n+        if (type == NotificationType::Unknown) {\n+            /* don't register only for a subset of the requested notifications */\n+            clientQueue->unregisterAllTypes();\n+            throw JSONRPCError(RPC_INVALID_PARAMETER, \"Notification type not found\");\n+        }\n+\n+        clientQueue->registerType(type);\n+    }\n+\n+    return NullUniValue;\n+}\n+\n+UniValue getregisterednotifications(const JSONRPCRequest& request)\n+{\n+    if (request.fHelp || request.params.size() != 1)\n+        throw std::runtime_error(\n+            \"getregisterednotifications <uuid>\\n\"\n+            \"\\nReturns the currently registered RPC notification types for the given uuid.\\n\"\n+            \"\\nArguments:\\n\"\n+            \"1. \\\"uuid\\\"         (string, required) The client uuid\\n\"\n+            \"\\nResult:\\n\"\n+            \"\\\"[\\\"\\n\"\n+            \"\\\"  \\\"<signal>\\\"             (string) The registered signal\\n\"\n+            \"\\\"  ,...\\n\"\n+            \"\\\"]\\\"\\n\"\n+            \"\\nExamples:\\n\"\n+            \"\\nCreate a transaction\\n\" +",
      "path": "src/rpc/notifications.cpp",
      "position": 303,
      "original_position": 303,
      "commit_id": "2652c55b7a8a65bbdb8ad7c09dcb09870aa913f3",
      "original_commit_id": "2652c55b7a8a65bbdb8ad7c09dcb09870aa913f3",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "👀 ",
      "created_at": "2018-11-08T15:28:28Z",
      "updated_at": "2018-11-30T14:51:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/7949#discussion_r231934058",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/231934058"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7949"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 303,
      "original_line": 303,
      "side": "RIGHT"
    }
  ]
}