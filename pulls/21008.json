{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21008",
    "id": 561478160,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NTYxNDc4MTYw",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21008",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/21008.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/21008.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21008",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21008/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21008/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21008/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/ef21fb7313005a8a2d4f03fb4056f1f66c1b04f0",
    "number": 21008,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "test: fix zmq test flakiness, improve speed",
    "user": {
      "login": "theStack",
      "id": 91535,
      "node_id": "MDQ6VXNlcjkxNTM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theStack",
      "html_url": "https://github.com/theStack",
      "followers_url": "https://api.github.com/users/theStack/followers",
      "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
      "organizations_url": "https://api.github.com/users/theStack/orgs",
      "repos_url": "https://api.github.com/users/theStack/repos",
      "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/theStack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fixes #20934 by using the \"sync up\" method described in https://github.com/bitcoin/bitcoin/issues/20538#issuecomment-738791868.\r\n\r\nAfter improving robustness with this approach (commits 1-3), it turned out that there were still some fails, but those were unrelated to zmq: Out of 500 runs, 3 times `sync_mempool()` or `sync_blocks()` timed out, which can happen because the trickle relay time has no upper bound -- hence in rare cases, it takes longer than 60s. This is fixed by enabling immediate tx relay on node1 (commit 4), which as a nice side-effect also gives us a rough 2x speedup for the test.\r\n\r\nFor further details, also see the explanations in the commit messages.\r\n\r\nThere is no guarantee that the test is still not flaky, but it would help if potential reviewers would run the following script locally and report how many runs failed (feel free to do less than 1000 runs, as this takes quite a long if ran with `--valgrind`):\r\n```\r\n#!/bin/sh\r\nOUTPUT_FILE=./zmq_results\r\necho ===== repeated zmq test ===== > $OUTPUT_FILE\r\n\r\nfor i in `seq 1000`; do\r\n    echo ------------------------\r\n    echo ----- test run $i -----\r\n    echo ------------------------\r\n    echo --- $i --- >> $OUTPUT_FILE\r\n    ./test/functional/interface_zmq.py --valgrind\r\n    if [ $? -ne 0 ]; then\r\n        echo \"FAILED. /o\\\\\" >> $OUTPUT_FILE\r\n    else\r\n        echo \"PASSED. \\\\o/\" >> $OUTPUT_FILE\r\n    fi\r\ndone\r\n\r\necho Failed test runs:\r\ngrep FAILED $OUTPUT_FILE | wc -l\r\n```",
    "labels": [
      {
        "id": 62963516,
        "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
        "name": "Tests",
        "color": "d4c5f9",
        "default": false
      }
    ],
    "active_lock_reason": "resolved",
    "created_at": "2021-01-26T02:05:14Z",
    "updated_at": "2022-08-16T17:12:28Z",
    "closed_at": "2021-02-16T17:58:11Z",
    "mergeable_state": "unknown",
    "merged_at": "2021-02-16T17:58:11Z",
    "merge_commit_sha": "3c9d9d21e195ccfb28353c14a9f38f5366c98c8e",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "theStack:2021-test-zmq-fix_flakiness",
      "ref": "2021-test-zmq-fix_flakiness",
      "sha": "ef21fb7313005a8a2d4f03fb4056f1f66c1b04f0",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 204970720,
        "node_id": "MDEwOlJlcG9zaXRvcnkyMDQ5NzA3MjA=",
        "name": "bitcoin",
        "full_name": "theStack/bitcoin",
        "owner": {
          "login": "theStack",
          "id": 91535,
          "node_id": "MDQ6VXNlcjkxNTM1",
          "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/theStack",
          "html_url": "https://github.com/theStack",
          "followers_url": "https://api.github.com/users/theStack/followers",
          "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
          "organizations_url": "https://api.github.com/users/theStack/orgs",
          "repos_url": "https://api.github.com/users/theStack/repos",
          "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/theStack/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/theStack/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/theStack/bitcoin",
        "archive_url": "https://api.github.com/repos/theStack/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/theStack/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/theStack/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/theStack/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/theStack/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/theStack/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/theStack/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/theStack/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/theStack/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/theStack/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/theStack/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/theStack/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/theStack/bitcoin/events",
        "forks_url": "https://api.github.com/repos/theStack/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/theStack/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/theStack/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/theStack/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/theStack/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/theStack/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/theStack/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/theStack/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/theStack/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/theStack/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/theStack/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/theStack/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/theStack/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/theStack/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/theStack/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/theStack/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:theStack/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/theStack/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/theStack/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/theStack/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/theStack/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/theStack/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/theStack/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/theStack/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/theStack/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/theStack/bitcoin/hooks",
        "svn_url": "https://github.com/theStack/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 217436,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-06T22:15:21Z",
        "created_at": "2019-08-28T15:59:29Z",
        "updated_at": "2022-12-07T18:05:55Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "d202054675c91b353d832c9c038247384a39030f",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34324,
        "stargazers_count": 69819,
        "watchers_count": 69819,
        "size": 233879,
        "default_branch": "master",
        "open_issues_count": 627,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-06T22:42:00Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-06-07T04:47:18Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21008"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 54,
    "deletions": 22,
    "changed_files": 1,
    "commits": 4,
    "review_comments": 8,
    "comments": 7
  },
  "events": [
    {
      "event": "labeled",
      "id": 4248565266,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQyNDg1NjUyNjY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4248565266",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-26T02:05:50Z",
      "label": {
        "name": "Tests",
        "color": "d4c5f9"
      }
    },
    {
      "event": "commented",
      "id": 767419966,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc2NzQxOTk2Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/767419966",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-26T09:33:42Z",
      "updated_at": "2021-02-10T02:22:08Z",
      "author_association": "MEMBER",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21008#issuecomment-767419966",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21008"
    },
    {
      "event": "convert_to_draft",
      "id": 4250133507,
      "node_id": "MDE5OkNvbnZlcnRUb0RyYWZ0RXZlbnQ0MjUwMTMzNTA3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4250133507",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-26T11:06:15Z"
    },
    {
      "event": "commented",
      "id": 767472907,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc2NzQ3MjkwNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/767472907",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-26T11:09:50Z",
      "updated_at": "2021-01-26T11:09:50Z",
      "author_association": "MEMBER",
      "body": "Asked to mark this as draft since the test now fails on two cirrus instances. Have to investigate deeper what the problem is and how to properly reproduce it... locally 1000 test runs passed successfully.",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21008#issuecomment-767472907",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21008"
    },
    {
      "event": "commented",
      "id": 767484513,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc2NzQ4NDUxMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/767484513",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-26T11:33:33Z",
      "updated_at": "2021-01-26T11:33:33Z",
      "author_association": "MEMBER",
      "body": "You might want to try with `--valgrind`, which makes races more likely to happen locally",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21008#issuecomment-767484513",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21008"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4257318035,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDI1NzMxODAzNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4257318035",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-27T18:19:59Z"
    },
    {
      "event": "commented",
      "id": 768537851,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc2ODUzNzg1MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/768537851",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-27T19:54:40Z",
      "updated_at": "2021-01-27T19:58:56Z",
      "author_association": "MEMBER",
      "body": "@MarcoFalke: Thanks, that helped a lot! On master, running via `--valgrind` leads to a failed test run quite quickly on my machine.\r\n\r\nThe PR is ready for review now. The problem of my original approach was that most tests needed nodes 0 and 1 to have the same tip. So, after this robust \"sync up\" setup approach of repeatedly generating blocks, node 1 has to catch up. Added a parameter \"sync_blocks\" for that purpose, as for the last test, the chains are already different and synchronization is not possible in a trivial way. Now, I had locally a few hundred test runs with `--valgrind` and all of them passed.\r\nAlso adapted the PR description to include a script, that reviewers can use to test the robustness.\r\n",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21008#issuecomment-768537851",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21008"
    },
    {
      "event": "mentioned",
      "id": 4257691073,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDI1NzY5MTA3Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4257691073",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-27T19:54:40Z"
    },
    {
      "event": "subscribed",
      "id": 4257691078,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQyNTc2OTEwNzg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4257691078",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-27T19:54:40Z"
    },
    {
      "event": "ready_for_review",
      "id": 4257691603,
      "node_id": "MDE5OlJlYWR5Rm9yUmV2aWV3RXZlbnQ0MjU3NjkxNjAz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4257691603",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-27T19:54:48Z"
    },
    {
      "event": "commented",
      "id": 769274857,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc2OTI3NDg1Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/769274857",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-28T18:10:27Z",
      "updated_at": "2021-01-28T18:13:38Z",
      "author_association": "MEMBER",
      "body": "Concept ACK, will be great to robustify this test.\r\n\r\nSo far your script has run the test 25 times without errors for me (other than an unrelated issue that the test runner `--valgrind` option raises for me in general (not just on this test), but `valgrind test/functional/interface_zmq.py` works fine).\r\n\r\n```\r\n------------------------\r\n----- test run 25 -----\r\n------------------------\r\n==42527== Memcheck, a memory error detector\r\n==42527== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.\r\n==42527== Using Valgrind-3.16.0.GIT and LibVEX; rerun with -h for copyright info\r\n==42527== Command: test/functional/interface_zmq.py\r\n==42527== \r\n2021-01-28T18:10:51.208000Z TestFramework (INFO): Initializing test directory /tmp/bitcoin_func_test_i65ciqkh\r\n2021-01-28T18:10:54.197000Z TestFramework (INFO): Generate 5 blocks (and 5 coinbase txes)\r\n2021-01-28T18:10:55.327000Z TestFramework (INFO): Wait for tx from second node\r\n2021-01-28T18:10:56.502000Z TestFramework (INFO): Test the getzmqnotifications RPC\r\n2021-01-28T18:10:56.505000Z TestFramework (INFO): Testing 'sequence' publisher\r\n2021-01-28T18:10:57.900000Z TestFramework (INFO): Wait for tx from second node\r\n2021-01-28T18:10:59.026000Z TestFramework (INFO): Testing sequence notifications with mempool sequence values\r\n2021-01-28T18:10:59.027000Z TestFramework (INFO): Testing RBF notification\r\n2021-01-28T18:11:26.168000Z TestFramework (INFO): Testing reorg notifications\r\n2021-01-28T18:11:29.256000Z TestFramework (INFO): Evict mempool transaction by block conflict\r\n2021-01-28T18:11:30.558000Z TestFramework (INFO): Testing 'mempool sync' usage of sequence notifier\r\n2021-01-28T18:11:53.212000Z TestFramework (INFO): Stopping nodes\r\n2021-01-28T18:11:53.469000Z TestFramework (INFO): Cleaning up /tmp/bitcoin_func_test_i65ciqkh on exit\r\n2021-01-28T18:11:53.470000Z TestFramework (INFO): Tests successful\r\n------------------------\r\n----- test run 26 -----\r\n------------------------\r\n```\r\n\r\n<details><summary>unrelated error with --valgrind test runner option</summary><p>\r\n\r\n```\r\n------------------------\r\n----- test run 1 -----\r\n------------------------\r\n2021-01-28T17:22:07.128000Z TestFramework (INFO): Initializing test directory /tmp/bitcoin_func_test_awm_44bl\r\n2021-01-28T17:22:34.997000Z TestFramework (ERROR): Unexpected exception caught during testing\r\nTraceback (most recent call last):\r\n  File \"/home/jon/projects/bitcoin/bitcoin/test/functional/test_framework/authproxy.py\", line 108, in _request\r\n    return self._get_response()\r\n  File \"/home/jon/projects/bitcoin/bitcoin/test/functional/test_framework/authproxy.py\", line 168, in _get_response\r\n    http_response = self.__conn.getresponse()\r\n  File \"/usr/lib/python3.9/http/client.py\", line 1347, in getresponse\r\n    response.begin()\r\n  File \"/usr/lib/python3.9/http/client.py\", line 307, in begin\r\n    version, status, reason = self._read_status()\r\n  File \"/usr/lib/python3.9/http/client.py\", line 276, in _read_status\r\n    raise RemoteDisconnected(\"Remote end closed connection without\"\r\nhttp.client.RemoteDisconnected: Remote end closed connection without response\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/jon/projects/bitcoin/bitcoin/test/functional/test_framework/test_framework.py\", line 125, in main\r\n    self.setup()\r\n  File \"/home/jon/projects/bitcoin/bitcoin/test/functional/test_framework/test_framework.py\", line 262, in setup\r\n    self.setup_network()\r\n  File \"/home/jon/projects/bitcoin/bitcoin/test/functional/test_framework/test_framework.py\", line 356, in setup_network\r\n    self.setup_nodes()\r\n  File \"/home/jon/projects/bitcoin/bitcoin/test/functional/test_framework/test_framework.py\", line 383, in setup_nodes\r\n    self.import_deterministic_coinbase_privkeys()\r\n  File \"/home/jon/projects/bitcoin/bitcoin/test/functional/test_framework/test_framework.py\", line 400, in import_deterministic_coinbase_privkeys\r\n    self.init_wallet(i)\r\n  File \"/home/jon/projects/bitcoin/bitcoin/test/functional/test_framework/test_framework.py\", line 407, in init_wallet\r\n    n.createwallet(wallet_name=wallet_name, descriptors=self.options.descriptors, load_on_startup=True)\r\n  File \"/home/jon/projects/bitcoin/bitcoin/test/functional/test_framework/test_node.py\", line 676, in createwallet\r\n    return self.__getattr__('createwallet')(wallet_name, disable_private_keys, blank, passphrase, avoid_reuse, descriptors, load_on_startup)\r\n  File \"/home/jon/projects/bitcoin/bitcoin/test/functional/test_framework/coverage.py\", line 47, in __call__\r\n    return_val = self.auth_service_proxy_instance.__call__(*args, **kwargs)\r\n  File \"/home/jon/projects/bitcoin/bitcoin/test/functional/test_framework/authproxy.py\", line 144, in __call__\r\n    response, status = self._request('POST', self.__url.path, postdata.encode('utf-8'))\r\n  File \"/home/jon/projects/bitcoin/bitcoin/test/functional/test_framework/authproxy.py\", line 113, in _request\r\n    self.__conn.request(method, path, postdata, headers)\r\n  File \"/usr/lib/python3.9/http/client.py\", line 1255, in request\r\n    self._send_request(method, url, body, headers, encode_chunked)\r\n  File \"/usr/lib/python3.9/http/client.py\", line 1301, in _send_request\r\n    self.endheaders(body, encode_chunked=encode_chunked)\r\n  File \"/usr/lib/python3.9/http/client.py\", line 1250, in endheaders\r\n    self._send_output(message_body, encode_chunked=encode_chunked)\r\n  File \"/usr/lib/python3.9/http/client.py\", line 1010, in _send_output\r\n    self.send(msg)\r\n  File \"/usr/lib/python3.9/http/client.py\", line 950, in send\r\n    self.connect()\r\n  File \"/usr/lib/python3.9/http/client.py\", line 921, in connect\r\n    self.sock = self._create_connection(\r\n  File \"/usr/lib/python3.9/socket.py\", line 843, in create_connection\r\n    raise err\r\n  File \"/usr/lib/python3.9/socket.py\", line 831, in create_connection\r\n    sock.connect(sa)\r\nConnectionRefusedError: [Errno 111] Connection refused\r\n2021-01-28T17:22:35.049000Z TestFramework (INFO): Stopping nodes\r\n2021-01-28T17:22:35.050000Z TestFramework.node0 (ERROR): Unable to stop node.\r\nTraceback (most recent call last):\r\n  File \"/home/jon/projects/bitcoin/bitcoin/test/functional/test_framework/test_node.py\", line 320, in stop_node\r\n    self.stop(wait=wait)\r\n  File \"/home/jon/projects/bitcoin/bitcoin/test/functional/test_framework/coverage.py\", line 47, in __call__\r\n    return_val = self.auth_service_proxy_instance.__call__(*args, **kwargs)\r\n  File \"/home/jon/projects/bitcoin/bitcoin/test/functional/test_framework/authproxy.py\", line 144, in __call__\r\n    response, status = self._request('POST', self.__url.path, postdata.encode('utf-8'))\r\n  File \"/home/jon/projects/bitcoin/bitcoin/test/functional/test_framework/authproxy.py\", line 107, in _request\r\n    self.__conn.request(method, path, postdata, headers)\r\n  File \"/usr/lib/python3.9/http/client.py\", line 1255, in request\r\n    self._send_request(method, url, body, headers, encode_chunked)\r\n  File \"/usr/lib/python3.9/http/client.py\", line 1266, in _send_request\r\n    self.putrequest(method, url, **skips)\r\n  File \"/usr/lib/python3.9/http/client.py\", line 1092, in putrequest\r\n    raise CannotSendRequest(self.__state)\r\nhttp.client.CannotSendRequest: Request-sent\r\nTraceback (most recent call last):\r\n  File \"/home/jon/projects/bitcoin/bitcoin/./test/functional/interface_zmq.py\", line 529, in <module>\r\n    ZMQTest().main()\r\n  File \"/home/jon/projects/bitcoin/bitcoin/test/functional/test_framework/test_framework.py\", line 149, in main\r\n    exit_code = self.shutdown()\r\n  File \"/home/jon/projects/bitcoin/bitcoin/test/functional/test_framework/test_framework.py\", line 278, in shutdown\r\n    self.stop_nodes()\r\n  File \"/home/jon/projects/bitcoin/bitcoin/test/functional/test_framework/test_framework.py\", line 525, in stop_nodes\r\n    node.stop_node(wait=wait, wait_until_stopped=False)\r\n  File \"/home/jon/projects/bitcoin/bitcoin/test/functional/test_framework/test_node.py\", line 334, in stop_node\r\n    raise AssertionError(\"Unexpected stderr {} != {}\".format(stderr, expected_stderr))\r\nAssertionError: Unexpected stderr ==37264== Thread 10 b-httpworker.3:\r\n==37264== Conditional jump or move depends on uninitialised value(s)\r\n==37264==    at 0xB0DEC5: __log_putr.isra.2 (in /home/jon/projects/bitcoin/bitcoin/src/bitcoind)\r\n==37264==    by 0xB0F090: __log_put (in /home/jon/projects/bitcoin/bitcoin/src/bitcoind)\r\n==37264==    by 0xB99C1D: __crdel_metasub_log (in /home/jon/projects/bitcoin/bitcoin/src/bitcoind)\r\n==37264==    by 0xAD526A: __db_log_page (in /home/jon/projects/bitcoin/bitcoin/src/bitcoind)\r\n==37264==    by 0xB4068A: __bam_new_subdb (in /home/jon/projects/bitcoin/bitcoin/src/bitcoind)\r\n==37264==    by 0xAE7A6D: __db_init_subdb (in /home/jon/projects/bitcoin/bitcoin/src/bitcoind)\r\n==37264==    by 0xB044ED: __fop_subdb_setup (in /home/jon/projects/bitcoin/bitcoin/src/bitcoind)\r\n==37264==    by 0xAE6EB0: __db_open (in /home/jon/projects/bitcoin/bitcoin/src/bitcoind)\r\n==37264==    by 0xAE1719: __db_open_pp (in /home/jon/projects/bitcoin/bitcoin/src/bitcoind)\r\n==37264==    by 0xAC1D3A: Db::open(DbTxn*, char const*, char const*, DBTYPE, unsigned int, int) (in /home/jon/projects/bitcoin/bitcoin/src/bitcoind)\r\n==37264==    by 0x873618: BerkeleyDatabase::Open() (bdb.cpp:345)\r\n==37264==    by 0x873184: BerkeleyBatch::BerkeleyBatch(BerkeleyDatabase&, bool, bool) (bdb.cpp:308)\r\n==37264== \r\n{\r\n   <insert_a_suppression_name_here>\r\n   Memcheck:Cond\r\n   fun:__log_putr.isra.2\r\n   fun:__log_put\r\n   fun:__crdel_metasub_log\r\n   fun:__db_log_page\r\n   fun:__bam_new_subdb\r\n   fun:__db_init_subdb\r\n   fun:__fop_subdb_setup\r\n   fun:__db_open\r\n   fun:__db_open_pp\r\n   fun:_ZN2Db4openEP5DbTxnPKcS3_6DBTYPEji\r\n   fun:_ZN16BerkeleyDatabase4OpenEv\r\n   fun:_ZN13BerkeleyBatchC1ER16BerkeleyDatabasebb\r\n}\r\n==37264== \r\n==37264== Exit program on first error (--exit-on-first-error=yes) != \r\n[node 1] Cleaning up leftover process\r\n[node 0] Cleaning up leftover process\r\n```\r\n</p></details>\r\n",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21008#issuecomment-769274857",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21008"
    },
    {
      "event": "reviewed",
      "id": 578643128,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTc4NjQzMTI4",
      "url": null,
      "actor": null,
      "commit_id": "c02f9a188268e6c19b5c96d62de20fb5d53f8960",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Almost-ACK. I was unable to make the test fail with valgrind both here and on master. The test does run ~2x faster on this branch, which is great.\r\n",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21008#pullrequestreview-578643128",
      "submitted_at": "2021-01-28T19:49:00Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21008"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4263933873,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDI2MzkzMzg3Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4263933873",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-29T01:14:57Z"
    },
    {
      "event": "commented",
      "id": 769512370,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc2OTUxMjM3MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/769512370",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-29T01:32:35Z",
      "updated_at": "2021-01-29T01:32:35Z",
      "author_association": "MEMBER",
      "body": "Force-pushed with changes suggested by @jonatack (https://github.com/bitcoin/bitcoin/pull/21008#discussion_r566331714 and https://github.com/bitcoin/bitcoin/pull/21008#discussion_r566336615).",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21008#issuecomment-769512370",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21008"
    },
    {
      "event": "mentioned",
      "id": 4263974590,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDI2Mzk3NDU5MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4263974590",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-29T01:32:36Z"
    },
    {
      "event": "subscribed",
      "id": 4263974594,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQyNjM5NzQ1OTQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4263974594",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-29T01:32:36Z"
    },
    {
      "event": "reviewed",
      "id": 579371202,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTc5MzcxMjAy",
      "url": null,
      "actor": null,
      "commit_id": "9a9453d35be5e6d24e14f75c911428a5dbbd2b30",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK 9a9453d35be5e6d24e14f75c911428a5dbbd2b30\r\n\r\nMight be good if @instagibbs had a look.\r\n\r\n(IDK if he prefers instagibbs or Gregory Sanders for the commit credit)",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21008#pullrequestreview-579371202",
      "submitted_at": "2021-01-29T15:41:50Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21008"
    },
    {
      "event": "labeled",
      "id": 4296598431,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQyOTY1OTg0MzE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4296598431",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-05T15:16:54Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2MDE0ZDZlMWI1YTBkZGE2ZTIwYzI3MjFmMGJkYjdlNmE2M2VjZTgx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6014d6e1b5a0dda6e20c2721f0bdb7e6a63ece81",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6014d6e1b5a0dda6e20c2721f0bdb7e6a63ece81",
      "tree": {
        "sha": "992e2ce361835709dd00afdfd35d753069108f50",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/992e2ce361835709dd00afdfd35d753069108f50"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d202054675c91b353d832c9c038247384a39030f",
          "sha": "d202054675c91b353d832c9c038247384a39030f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d202054675c91b353d832c9c038247384a39030f"
        }
      ],
      "message": "zmq test: dedup message reception handling in ZMQSubscriber",
      "committer": {
        "name": "Sebastian Falbesoner",
        "email": "sebastian.falbesoner@gmail.com",
        "date": "2021-02-09T21:54:01Z"
      },
      "author": {
        "name": "Sebastian Falbesoner",
        "email": "sebastian.falbesoner@gmail.com",
        "date": "2021-01-23T21:19:15Z"
      },
      "sha": "6014d6e1b5a0dda6e20c2721f0bdb7e6a63ece81"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4NjY2MDMzNjMwZWVhZjg1MWVjNjllMDE4YmI1M2ViMjMwOTNmNGI5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8666033630eeaf851ec69e018bb53eb23093f4b9",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/8666033630eeaf851ec69e018bb53eb23093f4b9",
      "tree": {
        "sha": "6f39c6844571062e7f244405a4de7c37942b460e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6f39c6844571062e7f244405a4de7c37942b460e"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6014d6e1b5a0dda6e20c2721f0bdb7e6a63ece81",
          "sha": "6014d6e1b5a0dda6e20c2721f0bdb7e6a63ece81",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/6014d6e1b5a0dda6e20c2721f0bdb7e6a63ece81"
        }
      ],
      "message": "zmq test: accept arbitrary sequence start number in ZMQSubscriber\n\nThe ZMQSubscriber reception methods currently assert that the first\nreceived publisher message has a sequence number of zero. In order to\nfix the current test flakiness via \"syncing up\" to nodes in the setup\nphase, we have to cope with the situation that messages get lost and the\nfirst actual received message has a sequence number larger than zero.",
      "committer": {
        "name": "Sebastian Falbesoner",
        "email": "sebastian.falbesoner@gmail.com",
        "date": "2021-02-09T21:54:01Z"
      },
      "author": {
        "name": "Sebastian Falbesoner",
        "email": "sebastian.falbesoner@gmail.com",
        "date": "2021-01-23T21:33:48Z"
      },
      "sha": "8666033630eeaf851ec69e018bb53eb23093f4b9"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1YzY1NDYzNjJkY2U4YjQ2ODI2ODU3OGUzNDVjMzdlZDUxNWExODU1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5c6546362dce8b468268578e345c37ed515a1855",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/5c6546362dce8b468268578e345c37ed515a1855",
      "tree": {
        "sha": "2fc93bf72039faa667b52575e8e87f6505bcd272",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2fc93bf72039faa667b52575e8e87f6505bcd272"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8666033630eeaf851ec69e018bb53eb23093f4b9",
          "sha": "8666033630eeaf851ec69e018bb53eb23093f4b9",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/8666033630eeaf851ec69e018bb53eb23093f4b9"
        }
      ],
      "message": "zmq test: fix flakiness by using more robust sync method\n\nAfter connecting the subscriber sockets to the node, there is no\nguarantee that the node's zmq publisher interfaces are ready yet, which\nmeans that potentially the first expected notification messages could\nget lost and the test fails. Currently this is handled by just waiting\nfor a short period of time (200ms), which works most of the time but is\nstill problematic, as in some rare cases the setup time takes much\nlonger, even in the range of multiple seconds.\n\nThe solution in this commit approaches the problem by using a more\nrobust method of syncing up, originally proposed by instagibbs:\n    1. Generate a block on the node\n    2. Try to receive a notification on all subscribers\n    3. If all subscribers get a message within the timeout (1 second),\n       we are done, otherwise repeat starting from step 1",
      "committer": {
        "name": "Sebastian Falbesoner",
        "email": "sebastian.falbesoner@gmail.com",
        "date": "2021-02-09T22:55:23Z"
      },
      "author": {
        "name": "Sebastian Falbesoner",
        "email": "sebastian.falbesoner@gmail.com",
        "date": "2021-01-25T23:30:24Z"
      },
      "sha": "5c6546362dce8b468268578e345c37ed515a1855"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzplZjIxZmI3MzEzMDA1YThhMmQ0ZjAzZmI0MDU2ZjFmNjZjMWIwNGYw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ef21fb7313005a8a2d4f03fb4056f1f66c1b04f0",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ef21fb7313005a8a2d4f03fb4056f1f66c1b04f0",
      "tree": {
        "sha": "ab1838f91de137bb47baa037a878b8e322cc9052",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ab1838f91de137bb47baa037a878b8e322cc9052"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5c6546362dce8b468268578e345c37ed515a1855",
          "sha": "5c6546362dce8b468268578e345c37ed515a1855",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5c6546362dce8b468268578e345c37ed515a1855"
        }
      ],
      "message": "zmq test: speedup test by whitelisting peers (immediate tx relay)\n\nSpeeds up the zmq test roughly by a factor of 2x (~20 sec. instead of\n~40 sec.) and also avoids timeouts on the synchronization methods\n(sync_mempool() / sync_blocks()) that happened with a slight chance.\nThis is due to the fact that there is no upper bound on the trickle\nrelay time, so even the default of 60s is sometimes too low. Fixed by\nenabling immediate tx relay on node1.",
      "committer": {
        "name": "Sebastian Falbesoner",
        "email": "sebastian.falbesoner@gmail.com",
        "date": "2021-02-09T22:55:32Z"
      },
      "author": {
        "name": "Sebastian Falbesoner",
        "email": "sebastian.falbesoner@gmail.com",
        "date": "2021-01-25T23:52:17Z"
      },
      "sha": "ef21fb7313005a8a2d4f03fb4056f1f66c1b04f0"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4311907722,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDMxMTkwNzcyMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4311907722",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-09T22:57:56Z"
    },
    {
      "event": "commented",
      "id": 776302267,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc3NjMwMjI2Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/776302267",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-09T23:02:31Z",
      "updated_at": "2021-02-09T23:02:31Z",
      "author_association": "MEMBER",
      "body": "Force-pushed with a rebase on master and suggestions by jonatack (https://github.com/bitcoin/bitcoin/pull/21008#discussion_r566907134 and https://github.com/bitcoin/bitcoin/pull/21008#discussion_r566908151).",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21008#issuecomment-776302267",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21008"
    },
    {
      "event": "unlabeled",
      "id": 4312014902,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50NDMxMjAxNDkwMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4312014902",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-09T23:34:03Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 587790912,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTg3NzkwOTEy",
      "url": null,
      "actor": null,
      "commit_id": "ef21fb7313005a8a2d4f03fb4056f1f66c1b04f0",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Light ACK ef21fb7313005a8a2d4f03fb4056f1f66c1b04f0 with the caveat that I was unable to make the test fail with valgrind both here and on master, so I can't vouch that it actually fixes the CI flakiness. The test does run ~2x faster with this.\r\n\r\nThanks for adding the comment. It would be good for the tests to not be order-dependent.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21008#pullrequestreview-587790912",
      "submitted_at": "2021-02-10T16:18:35Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21008"
    },
    {
      "event": "merged",
      "id": 4337546357,
      "node_id": "MDExOk1lcmdlZEV2ZW50NDMzNzU0NjM1Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4337546357",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "3c9d9d21e195ccfb28353c14a9f38f5366c98c8e",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3c9d9d21e195ccfb28353c14a9f38f5366c98c8e",
      "created_at": "2021-02-16T17:58:11Z"
    },
    {
      "event": "closed",
      "id": 4337546390,
      "node_id": "MDExOkNsb3NlZEV2ZW50NDMzNzU0NjM5MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4337546390",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-16T17:58:12Z"
    },
    {
      "event": "referenced",
      "id": 4338269863,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQzMzgyNjk4NjM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4338269863",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "31ef5423329eb40352c59cf3e112aab40bab815f",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/31ef5423329eb40352c59cf3e112aab40bab815f",
      "created_at": "2021-02-16T21:08:13Z"
    },
    {
      "event": "referenced",
      "id": 4395024470,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQzOTUwMjQ0NzA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4395024470",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "cfce346508f1f7513a0cfa2cea7d7f8336d01c6b",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/cfce346508f1f7513a0cfa2cea7d7f8336d01c6b",
      "created_at": "2021-03-02T10:31:54Z"
    },
    {
      "event": "referenced",
      "id": 5693655076,
      "node_id": "REFE_lADOABII584vUWe8zwAAAAFTXkgk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5693655076",
      "actor": {
        "login": "Fabcien",
        "id": 44533924,
        "node_id": "MDQ6VXNlcjQ0NTMzOTI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/44533924?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Fabcien",
        "html_url": "https://github.com/Fabcien",
        "followers_url": "https://api.github.com/users/Fabcien/followers",
        "following_url": "https://api.github.com/users/Fabcien/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Fabcien/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Fabcien/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Fabcien/subscriptions",
        "organizations_url": "https://api.github.com/users/Fabcien/orgs",
        "repos_url": "https://api.github.com/users/Fabcien/repos",
        "events_url": "https://api.github.com/users/Fabcien/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Fabcien/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "30b874af38a62e3bbc2c49981cecb12b3b592f63",
      "commit_url": "https://api.github.com/repos/Bitcoin-ABC/bitcoin-abc/commits/30b874af38a62e3bbc2c49981cecb12b3b592f63",
      "created_at": "2021-11-30T17:30:42Z"
    },
    {
      "event": "referenced",
      "id": 5693655084,
      "node_id": "REFE_lADOABII584vUWe8zwAAAAFTXkgs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5693655084",
      "actor": {
        "login": "Fabcien",
        "id": 44533924,
        "node_id": "MDQ6VXNlcjQ0NTMzOTI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/44533924?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Fabcien",
        "html_url": "https://github.com/Fabcien",
        "followers_url": "https://api.github.com/users/Fabcien/followers",
        "following_url": "https://api.github.com/users/Fabcien/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Fabcien/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Fabcien/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Fabcien/subscriptions",
        "organizations_url": "https://api.github.com/users/Fabcien/orgs",
        "repos_url": "https://api.github.com/users/Fabcien/repos",
        "events_url": "https://api.github.com/users/Fabcien/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Fabcien/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "320e98a7e436eed7bb1bd02ea751e9de862849da",
      "commit_url": "https://api.github.com/repos/Bitcoin-ABC/bitcoin-abc/commits/320e98a7e436eed7bb1bd02ea751e9de862849da",
      "created_at": "2021-11-30T17:30:42Z"
    },
    {
      "event": "referenced",
      "id": 5693655089,
      "node_id": "REFE_lADOABII584vUWe8zwAAAAFTXkgx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5693655089",
      "actor": {
        "login": "Fabcien",
        "id": 44533924,
        "node_id": "MDQ6VXNlcjQ0NTMzOTI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/44533924?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Fabcien",
        "html_url": "https://github.com/Fabcien",
        "followers_url": "https://api.github.com/users/Fabcien/followers",
        "following_url": "https://api.github.com/users/Fabcien/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Fabcien/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Fabcien/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Fabcien/subscriptions",
        "organizations_url": "https://api.github.com/users/Fabcien/orgs",
        "repos_url": "https://api.github.com/users/Fabcien/repos",
        "events_url": "https://api.github.com/users/Fabcien/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Fabcien/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "b98d91efd3cb8abedae114dc6ec268995e686aed",
      "commit_url": "https://api.github.com/repos/Bitcoin-ABC/bitcoin-abc/commits/b98d91efd3cb8abedae114dc6ec268995e686aed",
      "created_at": "2021-11-30T17:30:42Z"
    },
    {
      "event": "locked",
      "id": 7199069322,
      "node_id": "LOE_lADOABII584vUWe8zwAAAAGtGRSK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7199069322",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-16T17:12:28Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/566331714",
      "pull_request_review_id": 578643128,
      "id": 566331714,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NjMzMTcxNA==",
      "diff_hunk": "@@ -62,6 +65,8 @@ def receive_sequence(self):\n class ZMQTest (BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 2\n+        # immediate tx relay (node1 -> node0)\n+        self.extra_args = [[], [\"-whitelist=noban@127.0.0.1\"]]",
      "path": "test/functional/interface_zmq.py",
      "position": null,
      "original_position": 46,
      "commit_id": "ef21fb7313005a8a2d4f03fb4056f1f66c1b04f0",
      "original_commit_id": "c02f9a188268e6c19b5c96d62de20fb5d53f8960",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "c02f9a188 maybe general-case it with the existing explanation in `wallet_avoidreuse.py`\r\n```python\r\n        # This test isn't testing txn relay/timing, so set whitelist on the\r\n        # peers for instant txn relay. This speeds up the test run time 2-3x.\r\n        self.extra_args = [[\"-whitelist=noban@127.0.0.1\"]] * self.num_nodes\r\n```",
      "created_at": "2021-01-28T18:53:36Z",
      "updated_at": "2021-02-09T22:57:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21008#discussion_r566331714",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/566331714"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21008"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 69,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/566336615",
      "pull_request_review_id": 578643128,
      "id": 566336615,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NjMzNjYxNQ==",
      "diff_hunk": "@@ -82,23 +87,46 @@ def run_test(self):\n \n     # Restart node with the specified zmq notifications enabled, subscribe to\n     # all of them and return the corresponding ZMQSubscriber objects.\n-    def setup_zmq_test(self, services, recv_timeout=60, connect_nodes=False):\n+    def setup_zmq_test(self, services, recv_timeout=60, sync_blocks=True):\n         subscribers = []\n         for topic, address in services:\n             socket = self.ctx.socket(zmq.SUB)\n-            socket.set(zmq.RCVTIMEO, recv_timeout*1000)\n             subscribers.append(ZMQSubscriber(socket, topic.encode()))\n \n         self.restart_node(0, [\"-zmqpub%s=%s\" % (topic, address) for topic, address in services])\n \n-        if connect_nodes:\n-            self.connect_nodes(0, 1)\n-\n         for i, sub in enumerate(subscribers):\n             sub.socket.connect(services[i][1])\n \n-        # Relax so that the subscribers are ready before publishing zmq messages\n-        sleep(0.2)\n+        # Ensure that all zmq publisher notification interfaces are ready by\n+        # running the following \"sync up\" procedure:\n+        #   1. Generate a block on the node\n+        #   2. Try to receive a notification on all subscribers\n+        #   3. If all subscribers get a message within the timeout (1 second),\n+        #      we are done, otherwise repeat starting from step 1\n+        for sub in subscribers:\n+            sub.socket.set(zmq.RCVTIMEO, 1000)\n+        while True:\n+            self.nodes[0].generate(1)\n+            recv_failed = False\n+            for sub in subscribers:\n+                try:\n+                    sub.receive()\n+                except zmq.error.Again:\n+                    self.log.debug(\"Didn't receive sync-up notification, trying again.\")\n+                    recv_failed = True\n+            if not recv_failed:\n+                self.log.debug(\"ZMQ sync-up completed, all subscribers are ready.\")\n+                break\n+\n+        # set subscriber's desired timeout for the test\n+        for sub in subscribers:\n+            sub.socket.set(zmq.RCVTIMEO, recv_timeout*1000)\n+\n+        if sync_blocks:\n+            self.connect_nodes(0, 1)\n+            self.sync_blocks()\n+            self.disconnect_nodes(0, 1)",
      "path": "test/functional/interface_zmq.py",
      "position": null,
      "original_position": 100,
      "commit_id": "ef21fb7313005a8a2d4f03fb4056f1f66c1b04f0",
      "original_commit_id": "c02f9a188268e6c19b5c96d62de20fb5d53f8960",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "a8ddb26150 I didn't understand why we disconnect here only to connect again on returning to the two callers for which the default `sync_blocks=true`.",
      "created_at": "2021-01-28T19:01:42Z",
      "updated_at": "2021-02-09T22:57:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21008#discussion_r566336615",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/566336615"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21008"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 129,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/566517474",
      "pull_request_review_id": 578872587,
      "id": 566517474,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NjUxNzQ3NA==",
      "diff_hunk": "@@ -82,23 +87,46 @@ def run_test(self):\n \n     # Restart node with the specified zmq notifications enabled, subscribe to\n     # all of them and return the corresponding ZMQSubscriber objects.\n-    def setup_zmq_test(self, services, recv_timeout=60, connect_nodes=False):\n+    def setup_zmq_test(self, services, recv_timeout=60, sync_blocks=True):\n         subscribers = []\n         for topic, address in services:\n             socket = self.ctx.socket(zmq.SUB)\n-            socket.set(zmq.RCVTIMEO, recv_timeout*1000)\n             subscribers.append(ZMQSubscriber(socket, topic.encode()))\n \n         self.restart_node(0, [\"-zmqpub%s=%s\" % (topic, address) for topic, address in services])\n \n-        if connect_nodes:\n-            self.connect_nodes(0, 1)\n-\n         for i, sub in enumerate(subscribers):\n             sub.socket.connect(services[i][1])\n \n-        # Relax so that the subscribers are ready before publishing zmq messages\n-        sleep(0.2)\n+        # Ensure that all zmq publisher notification interfaces are ready by\n+        # running the following \"sync up\" procedure:\n+        #   1. Generate a block on the node\n+        #   2. Try to receive a notification on all subscribers\n+        #   3. If all subscribers get a message within the timeout (1 second),\n+        #      we are done, otherwise repeat starting from step 1\n+        for sub in subscribers:\n+            sub.socket.set(zmq.RCVTIMEO, 1000)\n+        while True:\n+            self.nodes[0].generate(1)\n+            recv_failed = False\n+            for sub in subscribers:\n+                try:\n+                    sub.receive()\n+                except zmq.error.Again:\n+                    self.log.debug(\"Didn't receive sync-up notification, trying again.\")\n+                    recv_failed = True\n+            if not recv_failed:\n+                self.log.debug(\"ZMQ sync-up completed, all subscribers are ready.\")\n+                break\n+\n+        # set subscriber's desired timeout for the test\n+        for sub in subscribers:\n+            sub.socket.set(zmq.RCVTIMEO, recv_timeout*1000)\n+\n+        if sync_blocks:\n+            self.connect_nodes(0, 1)\n+            self.sync_blocks()\n+            self.disconnect_nodes(0, 1)",
      "path": "test/functional/interface_zmq.py",
      "position": null,
      "original_position": 100,
      "commit_id": "ef21fb7313005a8a2d4f03fb4056f1f66c1b04f0",
      "original_commit_id": "c02f9a188268e6c19b5c96d62de20fb5d53f8960",
      "in_reply_to_id": 566336615,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Agree that this was unnecessarily complicated. Changed the setup routine to _always_ connect nodes 0 and 1 (which is needed for the block sync anways, that is used in every subtest except the last one) and disconnect in the subtest if necessary. ",
      "created_at": "2021-01-29T01:21:21Z",
      "updated_at": "2021-02-09T22:57:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21008#discussion_r566517474",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/566517474"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21008"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 129,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/566520087",
      "pull_request_review_id": 578875540,
      "id": 566520087,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NjUyMDA4Nw==",
      "diff_hunk": "@@ -62,6 +65,8 @@ def receive_sequence(self):\n class ZMQTest (BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 2\n+        # immediate tx relay (node1 -> node0)\n+        self.extra_args = [[], [\"-whitelist=noban@127.0.0.1\"]]",
      "path": "test/functional/interface_zmq.py",
      "position": null,
      "original_position": 46,
      "commit_id": "ef21fb7313005a8a2d4f03fb4056f1f66c1b04f0",
      "original_commit_id": "c02f9a188268e6c19b5c96d62de20fb5d53f8960",
      "in_reply_to_id": 566331714,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks, I like the clear explanation and used it. My initial reason for not using the whitelist parameter on all nodes was that for node0 they would be overwritten in the setup routine. But simply adding `self.extra_args[0]` to the extra_args parameter for the `restart_node` call also tackles this.",
      "created_at": "2021-01-29T01:29:04Z",
      "updated_at": "2021-02-09T22:57:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21008#discussion_r566520087",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/566520087"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21008"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 69,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/566907134",
      "pull_request_review_id": 579371202,
      "id": 566907134,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NjkwNzEzNA==",
      "diff_hunk": "@@ -82,23 +88,46 @@ def run_test(self):\n \n     # Restart node with the specified zmq notifications enabled, subscribe to\n     # all of them and return the corresponding ZMQSubscriber objects.\n-    def setup_zmq_test(self, services, recv_timeout=60, connect_nodes=False):\n+    def setup_zmq_test(self, services, recv_timeout=60, sync_blocks=True):",
      "path": "test/functional/interface_zmq.py",
      "position": null,
      "original_position": 56,
      "commit_id": "ef21fb7313005a8a2d4f03fb4056f1f66c1b04f0",
      "original_commit_id": "9a9453d35be5e6d24e14f75c911428a5dbbd2b30",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit, can enforce named args with \r\n```suggestion\r\n    def setup_zmq_test(self, services, *, recv_timeout=60, sync_blocks=True):\r\n```\r\nor alternatively for all args\r\n```diff\r\n@@ -88,7 +88,7 @@ class ZMQTest (BitcoinTestFramework):\r\n \r\n     # Restart node with the specified zmq notifications enabled, subscribe to\r\n     # all of them and return the corresponding ZMQSubscriber objects.\r\n-    def setup_zmq_test(self, services, recv_timeout=60, sync_blocks=True):\r\n+    def setup_zmq_test(self, *, services, recv_timeout=60, sync_blocks=True):\r\n         subscribers = []\r\n         for topic, address in services:\r\n             socket = self.ctx.socket(zmq.SUB)\r\n@@ -137,7 +137,7 @@ class ZMQTest (BitcoinTestFramework):\r\n         self.restart_node(0, [\"-zmqpubrawtx=foo\", \"-zmqpubhashtx=bar\"])\r\n \r\n         address = 'tcp://127.0.0.1:28332'\r\n-        subs = self.setup_zmq_test([(topic, address) for topic in [\"hashblock\", \"hashtx\", \"rawblock\", \"rawtx\"]])\r\n+        subs = self.setup_zmq_test(services=[(topic, address) for topic in [\"hashblock\", \"hashtx\", \"rawblock\", \"rawtx\"]])\r\n \r\n         hashblock = subs[0]\r\n         hashtx = subs[1]\r\n@@ -212,7 +212,7 @@ class ZMQTest (BitcoinTestFramework):\r\n \r\n         # Should only notify the tip if a reorg occurs\r\n         hashblock, hashtx = self.setup_zmq_test(\r\n-            [(topic, address) for topic in [\"hashblock\", \"hashtx\"]],\r\n+            services=[(topic, address) for topic in [\"hashblock\", \"hashtx\"]],\r\n             recv_timeout=2)  # 2 second timeout to check end of notifications\r\n         self.disconnect_nodes(0, 1)\r\n \r\n@@ -262,7 +262,7 @@ class ZMQTest (BitcoinTestFramework):\r\n         <32-byte hash>A<8-byte LE uint> : Transactionhash added mempool\r\n         \"\"\"\r\n         self.log.info(\"Testing 'sequence' publisher\")\r\n-        [seq] = self.setup_zmq_test([(\"sequence\", \"tcp://127.0.0.1:28333\")])\r\n+        [seq] = self.setup_zmq_test(services=[(\"sequence\", \"tcp://127.0.0.1:28333\")])\r\n         self.disconnect_nodes(0, 1)\r\n \r\n         # Mempool sequence number starts at 1\r\n@@ -414,7 +414,7 @@ class ZMQTest (BitcoinTestFramework):\r\n             return\r\n \r\n         self.log.info(\"Testing 'mempool sync' usage of sequence notifier\")\r\n-        [seq] = self.setup_zmq_test([(\"sequence\", \"tcp://127.0.0.1:28333\")])\r\n+        [seq] = self.setup_zmq_test(services=[(\"sequence\", \"tcp://127.0.0.1:28333\")])\r\n \r\n         # In-memory counter, should always start at 1\r\n         next_mempool_seq = self.nodes[0].getrawmempool(mempool_sequence=True)[\"mempool_sequence\"]\r\n@@ -514,7 +514,7 @@ class ZMQTest (BitcoinTestFramework):\r\n \r\n     def test_multiple_interfaces(self):\r\n         # Set up two subscribers with different addresses\r\n-        subscribers = self.setup_zmq_test([\r\n+        subscribers = self.setup_zmq_test(services=[\r\n             (\"hashblock\", \"tcp://127.0.0.1:28334\"),\r\n             (\"hashblock\", \"tcp://127.0.0.1:28335\"),\r\n         ], sync_blocks=False)\r\n```\r\n",
      "created_at": "2021-01-29T15:38:24Z",
      "updated_at": "2021-02-09T22:57:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21008#discussion_r566907134",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/566907134"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21008"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 91,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/566908151",
      "pull_request_review_id": 579371202,
      "id": 566908151,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NjkwODE1MQ==",
      "diff_hunk": "@@ -488,7 +517,7 @@ def test_multiple_interfaces(self):\n         subscribers = self.setup_zmq_test([\n             (\"hashblock\", \"tcp://127.0.0.1:28334\"),\n             (\"hashblock\", \"tcp://127.0.0.1:28335\"),\n-        ])\n+        ], sync_blocks=False)",
      "path": "test/functional/interface_zmq.py",
      "position": 153,
      "original_position": 147,
      "commit_id": "ef21fb7313005a8a2d4f03fb4056f1f66c1b04f0",
      "original_commit_id": "9a9453d35be5e6d24e14f75c911428a5dbbd2b30",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit, maybe add a comment clarifying why sync_blocks must be false (the test hangs without it)",
      "created_at": "2021-01-29T15:39:53Z",
      "updated_at": "2021-02-09T22:57:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21008#discussion_r566908151",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/566908151"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21008"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 525,
      "original_line": 525,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/573309757",
      "pull_request_review_id": 587096855,
      "id": 573309757,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MzMwOTc1Nw==",
      "diff_hunk": "@@ -82,23 +88,46 @@ def run_test(self):\n \n     # Restart node with the specified zmq notifications enabled, subscribe to\n     # all of them and return the corresponding ZMQSubscriber objects.\n-    def setup_zmq_test(self, services, recv_timeout=60, connect_nodes=False):\n+    def setup_zmq_test(self, services, recv_timeout=60, sync_blocks=True):",
      "path": "test/functional/interface_zmq.py",
      "position": null,
      "original_position": 56,
      "commit_id": "ef21fb7313005a8a2d4f03fb4056f1f66c1b04f0",
      "original_commit_id": "9a9453d35be5e6d24e14f75c911428a5dbbd2b30",
      "in_reply_to_id": 566907134,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks, I decided for the first variant, i.e. enforcing named args for `recv_timeout` and `sync_blocks`.",
      "created_at": "2021-02-09T23:00:51Z",
      "updated_at": "2021-02-09T23:00:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21008#discussion_r573309757",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/573309757"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21008"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 91,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/573309850",
      "pull_request_review_id": 587096945,
      "id": 573309850,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MzMwOTg1MA==",
      "diff_hunk": "@@ -488,7 +517,7 @@ def test_multiple_interfaces(self):\n         subscribers = self.setup_zmq_test([\n             (\"hashblock\", \"tcp://127.0.0.1:28334\"),\n             (\"hashblock\", \"tcp://127.0.0.1:28335\"),\n-        ])\n+        ], sync_blocks=False)",
      "path": "test/functional/interface_zmq.py",
      "position": 153,
      "original_position": 147,
      "commit_id": "ef21fb7313005a8a2d4f03fb4056f1f66c1b04f0",
      "original_commit_id": "9a9453d35be5e6d24e14f75c911428a5dbbd2b30",
      "in_reply_to_id": 566908151,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks, done.",
      "created_at": "2021-02-09T23:01:03Z",
      "updated_at": "2021-02-09T23:01:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21008#discussion_r573309850",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/573309850"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21008"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 525,
      "original_line": 525,
      "side": "RIGHT"
    }
  ]
}