{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071",
    "id": 1236533145,
    "node_id": "PR_kwDOABII585Js_-Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/27071",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/27071.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/27071.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/fcd4d34b9633288262ca6c70243c0e059a641120",
    "number": 27071,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "Handle CJDNS from LookupSubNet()",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`LookupSubNet()` would treat addresses that start with `fc` as IPv6 even if `-cjdnsreachable` is set. This creates the following problems where it is called:\r\n\r\n* `NetWhitelistPermissions::TryParse()`: otherwise `-whitelist=` fails to white list CJDNS addresses: when a CJDNS peer connects to us, it will be matched against IPv6 `fc...` subnet and the match will never succeed.\r\n\r\n* `BanMapFromJson()`: CJDNS bans are stored as just IPv6 addresses in `banlist.json`. Upon reading from disk they have to be converted back to CJDNS, otherwise, after restart, a ban entry like (`fc00::1`, IPv6) would not match a peer (`fc00::1`, CJDNS).\r\n    \r\n* `RPCConsole::unbanSelectedNode()`: in the GUI the ban entries go through `CSubNet::ToString()` and back via `LookupSubNet()`. Then it must match whatever is stored in `BanMan`, otherwise it is impossible to unban via the GUI.\r\n\r\nThese were uncovered by https://github.com/bitcoin/bitcoin/pull/26859.\r\n\r\nThus, flip the result of `LookupSubNet()` to CJDNS if the network base address starts with `fc` and `-cjdnsreachable` is set. Since subnetting/masking does not make sense for CJDNS (the address is \"random\" bytes, like Tor and I2P, there is no hierarchy) treat `fc.../mask` as an invalid `CSubNet`.\r\n\r\nTo achieve that, `MaybeFlipIPv6toCJDNS()` has to be moved from `net` to `netbase` and thus also `IsReachable()`. In the process of moving `IsReachable()`, `SetReachable()` and `vfLimited[]` encapsulate those in a class.",
    "labels": [
      {
        "id": 955867938,
        "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
        "name": "Needs rebase",
        "description": "",
        "color": "cccccc",
        "default": false
      }
    ],
    "created_at": "2023-02-10T11:20:45Z",
    "updated_at": "2023-05-30T15:55:29Z",
    "mergeable_state": "unknown",
    "merge_commit_sha": "24575da88470dc51d5cb52d12af0983ef83eca20",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "vasild:lookup_subnet_cjdns",
      "ref": "lookup_subnet_cjdns",
      "sha": "fcd4d34b9633288262ca6c70243c0e059a641120",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 120608826,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMjA2MDg4MjY=",
        "name": "bitcoin",
        "full_name": "vasild/bitcoin",
        "owner": {
          "login": "vasild",
          "id": 266751,
          "node_id": "MDQ6VXNlcjI2Njc1MQ==",
          "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/vasild",
          "html_url": "https://github.com/vasild",
          "followers_url": "https://api.github.com/users/vasild/followers",
          "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
          "organizations_url": "https://api.github.com/users/vasild/orgs",
          "repos_url": "https://api.github.com/users/vasild/repos",
          "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/vasild/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/vasild/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/vasild/bitcoin",
        "archive_url": "https://api.github.com/repos/vasild/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/vasild/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/vasild/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/vasild/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/vasild/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/vasild/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/vasild/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/vasild/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/vasild/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/vasild/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/vasild/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/vasild/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/vasild/bitcoin/events",
        "forks_url": "https://api.github.com/repos/vasild/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/vasild/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/vasild/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/vasild/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/vasild/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/vasild/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/vasild/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/vasild/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/vasild/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/vasild/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/vasild/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/vasild/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/vasild/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/vasild/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/vasild/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/vasild/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:vasild/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/vasild/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/vasild/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/vasild/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/vasild/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/vasild/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/vasild/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/vasild/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/vasild/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/vasild/bitcoin/hooks",
        "svn_url": "https://github.com/vasild/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 3,
        "watchers_count": 3,
        "size": 211824,
        "default_branch": "master",
        "open_issues_count": 2,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-06T10:22:48Z",
        "created_at": "2018-02-07T11:52:47Z",
        "updated_at": "2023-01-31T16:56:52Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "8c4958bd4c06026dc108bc7f5f063d1f389d279b",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34325,
        "stargazers_count": 69819,
        "watchers_count": 69819,
        "size": 233879,
        "default_branch": "master",
        "open_issues_count": 626,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-07T07:29:24Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-06-07T07:34:31Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 158,
    "deletions": 127,
    "changed_files": 14,
    "commits": 6,
    "review_comments": 23,
    "comments": 14
  },
  "events": [
    {
      "event": "commented",
      "id": 1425658309,
      "node_id": "IC_kwDOABII585U-dHF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1425658309",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-10T11:20:48Z",
      "updated_at": "2023-05-17T05:25:39Z",
      "author_association": "MEMBER",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [mzumsande](https://github.com/bitcoin/bitcoin/pull/27071#pullrequestreview-1294785408), [brunoerg](https://github.com/bitcoin/bitcoin/pull/27071#pullrequestreview-1371196157) |\n| Stale ACK | [jonatack](https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1443962823) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#27679](https://github.com/bitcoin/bitcoin/pull/27679) (ZMQ: Support UNIX domain sockets by pinheadmz)\n* [#27557](https://github.com/bitcoin/bitcoin/pull/27557) (net: call getaddrinfo() in detachable thread to prevent stalling by pinheadmz)\n* [#27411](https://github.com/bitcoin/bitcoin/pull/27411) (p2p: Restrict self-advertisements with privacy networks to avoid fingerprinting by mzumsande)\n* [#27375](https://github.com/bitcoin/bitcoin/pull/27375) (net: support unix domain sockets for -proxy and -onion by pinheadmz)\n* [#26859](https://github.com/bitcoin/bitcoin/pull/26859) (fuzz: extend ConsumeNetAddr() to return I2P and CJDNS addresses by vasild)\n* [#26261](https://github.com/bitcoin/bitcoin/pull/26261) (p2p: cleanup `LookupIntern`, `Lookup` and `LookupHost` by brunoerg)\n* [#25390](https://github.com/bitcoin/bitcoin/pull/25390) (sync: introduce a thread-safe generic container and use it to remove a bunch of \"GlobalMutex\"es by vasild)\n* [#24034](https://github.com/bitcoin/bitcoin/pull/24034) (p2p: delete anchors.dat after trying to connect to that peers by brunoerg)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1425658309",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "reviewed",
      "id": 1294785408,
      "node_id": "PRR_kwDOABII585NLNuA",
      "url": null,
      "actor": null,
      "commit_id": "9b656a5eb18f3a4c2f438bb3a4899db5441adb7f",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK to fixing this - however, I'm unsure about how the approach fits into the larger architecture:\r\n\r\nI think of `netbase` as a module for mostly context-free basic low-level methods - this PR moves `IsReachable` to it and saves its state in a global variable, accessing it both from different threads within the node and the GUI. Shouldn't the information flow between the Node and the GUI rather go through `node/interfaces` instead of having a shared global variable?\r\n\r\nDid you consider the alternative approach of letting banman be agnostic of CJDNS (everything stays IPv6, CJDNS addresses get a /128 netmask just like single IPv6 addresses), and add special \"flipping\" logic to the points where we need to compare actual addresses from peers with the results from banman? I didn't try it yet so not sure if viable, but that was my first idea of how to fix the issue of not being able to ban CJDNS peers.",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#pullrequestreview-1294785408",
      "submitted_at": "2023-02-13T15:51:04Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
    },
    {
      "event": "reviewed",
      "id": 1296128737,
      "node_id": "PRR_kwDOABII585NQVrh",
      "url": null,
      "actor": null,
      "commit_id": "d9b95cb1eedb9f165df93dcae0aba96ede40767a",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#pullrequestreview-1296128737",
      "submitted_at": "2023-02-13T17:25:14Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
    },
    {
      "event": "reviewed",
      "id": 1296130709,
      "node_id": "PRR_kwDOABII585NQWKV",
      "url": null,
      "actor": null,
      "commit_id": "9b656a5eb18f3a4c2f438bb3a4899db5441adb7f",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#pullrequestreview-1296130709",
      "submitted_at": "2023-02-13T17:26:28Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
    },
    {
      "event": "commented",
      "id": 1428383348,
      "node_id": "IC_kwDOABII585VI2Z0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1428383348",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-13T17:41:41Z",
      "updated_at": "2023-02-13T17:41:41Z",
      "author_association": "MEMBER",
      "body": "> I think of `netbase` as a module for mostly context-free basic low-level methods - this PR moves `IsReachable` to it and saves its state in a global variable,\r\n\r\nI was thinking about the same, but `netbase` is already stateful - `proxyInfo`, `nameProxy`, `nConnectTimeout`, `fNameLookup`, `g_socks5_recv_timeout`, `interruptSocks5Recv` are global variables that keep state, which influence the output of the functions defined in `netbase`, making them context-dependent.\r\n\r\n`SetProxy()`, `GetProxy()` (already defined in `netbase`) are very similar to the `SetReachable()`, `IsReachable()` functions (which this PR moves into `netbase`). Thus I think the move is appropriate.\r\n\r\n> accessing it both from different threads within the node and the GUI. Shouldn't the information flow between the Node and the GUI rather go through `node/interfaces` instead of having a shared global variable?\r\n\r\nI am not sure `IsReachable()` fits into that. It is not like that in `master` where there is the global variable `vfLimited[]`.\r\n\r\n> Did you consider the alternative approach of letting banman be agnostic of CJDNS (everything stays IPv6, CJDNS addresses get a /128 netmask just like single IPv6 addresses), and add special \"flipping\" logic to the points where we need to compare actual addresses from peers with the results from banman? I didn't try it yet so not sure if viable, but that was my first idea of how to fix the issue of not being able to ban CJDNS peers.\r\n\r\n`banman` is using `CSubNet::Match()`. This would mean in that method we should match IPv6 vs CJDNS. I did not like the idea because `CSubNet` is used also elsewhere and it could influence other parts of the code. But in general it feels wrong to \"pretend\" that an address from network X belongs to a subnet from network Y. I even coded that, but eventually decided to avoid it:\r\n\r\n<details>\r\n<summary>CSubNet::Match() mix IPv6 and CJDNS</summary>\r\n\r\n```diff\r\n--- a/src/netaddress.cpp\r\n+++ b/src/netaddress.cpp\r\n@@ -1039,24 +1039,40 @@ CSubNet::CSubNet(const CNetAddr& addr) : CSubNet()\r\n /**\r\n  * @returns True if this subnet is valid, the specified address is valid, and\r\n  *          the specified address belongs in this subnet.\r\n  */\r\n bool CSubNet::Match(const CNetAddr &addr) const\r\n {\r\n-    if (!valid || !addr.IsValid() || network.m_net != addr.m_net)\r\n+    if (!valid || !addr.IsValid()) {\r\n         return false;\r\n+    }\r\n \r\n-    switch (network.m_net) {\r\n+    Network subnet_net = network.m_net;\r\n+    Network addr_net = addr.m_net;\r\n+\r\n+    if ((subnet_net == NET_IPV6 && addr_net == NET_CJDNS) ||\r\n+        (subnet_net == NET_CJDNS && addr_net == NET_IPV6)) {\r\n+        // Treat both as CJDNS.\r\n+        subnet_net = NET_CJDNS;\r\n+        addr_net = NET_CJDNS;\r\n+    }\r\n+\r\n+    if (subnet_net != addr_net) {\r\n+        return false;\r\n+    }\r\n+\r\n+    switch (subnet_net) {\r\n     case NET_IPV4:\r\n     case NET_IPV6:\r\n         break;\r\n     case NET_ONION:\r\n     case NET_I2P:\r\n-    case NET_CJDNS:\r\n     case NET_INTERNAL:\r\n         return addr == network;\r\n+    case NET_CJDNS:\r\n+        return addr.m_addr == network.m_addr;\r\n     case NET_UNROUTABLE:\r\n     case NET_MAX:\r\n         return false;\r\n     }\r\n \r\n     assert(network.m_addr.size() == addr.m_addr.size());\r\n```\r\n</details>\r\n\r\nNote also that the current PR also resolves two other issues, in addition to the banman one - listed as items in the OP.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1428383348",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "commented",
      "id": 1428473660,
      "node_id": "IC_kwDOABII585VJMc8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1428473660",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-13T18:47:20Z",
      "updated_at": "2023-02-13T18:47:20Z",
      "author_association": "MEMBER",
      "body": "> I am not sure `IsReachable()` fits into that. It is not like that in `master` where there is the global variable `vfLimited[]`.\r\n\r\nYes, within `Node` it's still one of several global variables, so this is not a change wrt master.\r\nHowever, `vfLimited` wasn't accessed by the GUI because it wasn't part of `LookupSubnet()` before, while `g_reachable_nets` is. So I'm curious if this would work well together with multiprocess (see #10102, fyi @ryanofsky ).\r\nI think most of the data in `vfLimited` is determined during `init` and does not change later (so it might be initialised at the fork point?) - but `torcontrol` calling `SetReachable()` later could be an exception? ",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1428473660",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "mentioned",
      "id": 8507750577,
      "node_id": "MEE_lADOABII585eJVUczwAAAAH7Gfix",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8507750577",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-13T18:47:21Z"
    },
    {
      "event": "subscribed",
      "id": 8507750584,
      "node_id": "SE_lADOABII585eJVUczwAAAAH7Gfi4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8507750584",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-13T18:47:21Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8516019340,
      "node_id": "HRFPE_lADOABII585eJVUczwAAAAH7mCSM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8516019340",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-14T14:19:28Z"
    },
    {
      "event": "commented",
      "id": 1430090612,
      "node_id": "IC_kwDOABII585VPXN0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1430090612",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-14T17:09:19Z",
      "updated_at": "2023-02-14T17:09:19Z",
      "author_association": "MEMBER",
      "body": "`9b656a5...7a93d7b`: rebase and address suggestions",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1430090612",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "reviewed",
      "id": 1298409472,
      "node_id": "PRR_kwDOABII585NZCgA",
      "url": null,
      "actor": null,
      "commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Approach ACK. (Edit: it looks like the fixed issues could use test coverage, if feasible.)",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#pullrequestreview-1298409472",
      "submitted_at": "2023-02-14T21:14:00Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8528316171,
      "node_id": "HRFPE_lADOABII585eJVUczwAAAAH8U8cL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8528316171",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-15T17:05:33Z"
    },
    {
      "event": "commented",
      "id": 1431696802,
      "node_id": "IC_kwDOABII585VVfWi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1431696802",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-15T17:05:47Z",
      "updated_at": "2023-02-15T17:05:47Z",
      "author_association": "MEMBER",
      "body": "`7a93d7b0f9...8991ed2c6e`: address suggestions",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1431696802",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "reviewed",
      "id": 1300143653,
      "node_id": "PRR_kwDOABII585Nfp4l",
      "url": null,
      "actor": null,
      "commit_id": "8991ed2c6e38a35199725b6296a615733f948f87",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK 8991ed2c6e38a35199725b6296a615733f948f87\r\n",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#pullrequestreview-1300143653",
      "submitted_at": "2023-02-15T19:06:17Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
    },
    {
      "event": "commented",
      "id": 1432702025,
      "node_id": "IC_kwDOABII585VZUxJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1432702025",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-16T08:29:57Z",
      "updated_at": "2023-02-16T08:29:57Z",
      "author_association": "MEMBER",
      "body": "Just thinking aloud:\r\n\r\n1. Subnetting does not make sense for tor/i2p/cjdns\r\n2. `BanMan` entries are always subnets (`CSubNet` objects), even for single host bans\r\n\r\nIt follows that banman is doing something that does not make sense (e.g. subnetting tor). This is the root of the problem. I think if that is eradicated, then the rest will untangle by itself.\r\n\r\nWhat this means - store two ban maps in `BanMan` - one for single hosts and one for subnets (only for IPv[46] subnets). This way also lookup will be faster for single hosts - if a hash table is used for the single host bans, then lookup will be `O(1)`. Right now we iterate over all ban entries and check if `CSubNet::Match()` is `true` (which is `O(number of bans)`).\r\n\r\nHmm...",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1432702025",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "commented",
      "id": 1435079192,
      "node_id": "IC_kwDOABII585ViZIY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1435079192",
      "actor": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-17T18:34:23Z",
      "updated_at": "2023-02-17T18:34:23Z",
      "author_association": "MEMBER",
      "body": "> Subnetting does not make sense for tor/i2p/cjdns\r\n> It follows that banman is doing something that does not make sense (e.g. subnetting tor). This is the root of the problem. I think if that is eradicated, then the rest will untangle by itself.\r\n\r\n`CConnman::DisconnectNode` also handles addresses as subnets. Is this a problem?\r\n\r\n \r\n",
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1435079192",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "labeled",
      "id": 8550139093,
      "node_id": "LE_lADOABII585eJVUczwAAAAH9oMTV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8550139093",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-17T19:08:42Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1437113256,
      "node_id": "IC_kwDOABII585VqJuo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1437113256",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-20T14:30:06Z",
      "updated_at": "2023-02-20T14:30:06Z",
      "author_association": "MEMBER",
      "body": "> `CConnman::DisconnectNode` also handles addresses as subnets. Is this a problem?\r\n\r\nWell, it works, but since it does something nonsensical (e.g. subnetting tor) it could be a source of confusion or ultimately, bugs. IMO it shouldn't be doing that. I think the existence and implementation of `CConnman::DisconnectNode(const CSubNet& subnet)` is ok - it will/should disconnect any IPv[46] address that matches the given IPv[46] subnet. But this one:\r\n\r\n```cpp\r\nbool CConnman::DisconnectNode(const CNetAddr& addr)\r\n{\r\n    return DisconnectNode(CSubNet(addr));\r\n}\r\n```\r\n\r\nwould better iterate `m_nodes` and check for equality between the given `addr` and `CNode::addr`.\r\n\r\nI will try to allow only IPv[46] `CSubNet`s and see if everything blows up in a spectacular way... :bomb: :confetti_ball: ",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1437113256",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "reviewed",
      "id": 1306226674,
      "node_id": "PRR_kwDOABII585N22_y",
      "url": null,
      "actor": null,
      "commit_id": "8991ed2c6e38a35199725b6296a615733f948f87",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "> It follows that banman is doing something that does not make sense (e.g. subnetting tor). This is the root of the problem.\r\n\r\nNot sure if I agree that this is the root of the problem - I think conceptually it's fine to internally treat single addresses as a special case of a subnet (like `<ipv4>/32 or <ipv6>/128`), and just prevent nonsensical things during user input.\r\n\r\nIn my opinion, the root of the problem is that `fc...` addresses are sometimes interpreted as CJDNS, and sometimes as IPv6, depending on startup options. Since large parts of the networking code were designed before CJDNS support was introduced, this makes workarounds like `MaybeFlipIPv6toCJDNS()` and global availability of reachability necessary.\r\n\r\nHowever, I still feel strongly that having a global, non-constant variable shared by the GUI and node is something we should absolutely avoid. \r\nAnother possibility to achieve this would be to  pass a bool `cjdnsreachable` as a variable to `LookupSubNet()` and add `IsReachable()` to `node/interfaces.cpp`. With this, there could still be a global `g_reachable_nets` used for the call sites within `node`, but the information to the GUI would flow through the interface.\r\nA similar approach was chosen for the proxy, which is also state from `netbase`: The GUI code calls `getProxy` from `node/interfaces`, which then calls `GetProxy()` to retrieve the proxy info from `netbase`. The GUI doesn't use `GetProxy()` directly.",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#pullrequestreview-1306226674",
      "submitted_at": "2023-02-20T18:46:08Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8602301507,
      "node_id": "HRFPE_lADOABII585eJVUczwAAAAIAvLRD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8602301507",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-24T14:15:17Z"
    },
    {
      "event": "unlabeled",
      "id": 8602815884,
      "node_id": "UNLE_lADOABII585eJVUczwAAAAIAxI2M",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8602815884",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-24T15:04:05Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8602989326,
      "node_id": "HRFPE_lADOABII585eJVUczwAAAAIAxzMO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8602989326",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-24T15:19:28Z"
    },
    {
      "event": "commented",
      "id": 1443837012,
      "node_id": "IC_kwDOABII585WDzRU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1443837012",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-24T15:20:04Z",
      "updated_at": "2023-02-24T15:29:40Z",
      "author_association": "MEMBER",
      "body": "`8991ed2c6e...c2a86ba667`: rebase due to conflicts and address suggestion\r\n\r\nInvalidates ACK from @jonatack \r\n\r\n@mzumsande, actually there are two problems - I am talking about Tor subnets and you are talking about a global variable used by the GUI. I will try to mimic the proxy in order to address the latter.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1443837012",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "mentioned",
      "id": 8602994987,
      "node_id": "MEE_lADOABII585eJVUczwAAAAIAx0kr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8602994987",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-24T15:20:05Z"
    },
    {
      "event": "subscribed",
      "id": 8602995007,
      "node_id": "SE_lADOABII585eJVUczwAAAAIAx0k_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8602995007",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-24T15:20:05Z"
    },
    {
      "event": "mentioned",
      "id": 8603100728,
      "node_id": "MEE_lADOABII585eJVUczwAAAAIAyOY4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8603100728",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-24T15:29:41Z"
    },
    {
      "event": "subscribed",
      "id": 8603100746,
      "node_id": "SE_lADOABII585eJVUczwAAAAIAyOZK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8603100746",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-24T15:29:41Z"
    },
    {
      "event": "commented",
      "id": 1443962823,
      "node_id": "IC_kwDOABII585WER_H",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1443962823",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-24T16:30:01Z",
      "updated_at": "2023-02-24T16:31:06Z",
      "author_association": "MEMBER",
      "body": "> I will try to mimic the proxy in order to address the latter.\r\n\r\nIn case you plan to do that, or the Tor subnets issue, in a follow-up:\r\n\r\nre-ACK c2a86ba6674008996552830877d66a1bf888fad1 per `git range-diff be2e748 8991ed2 c2a86ba6`\r\n",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1443962823",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "commented",
      "id": 1456152963,
      "node_id": "IC_kwDOABII585WyyGD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1456152963",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-06T13:38:35Z",
      "updated_at": "2023-03-06T13:38:35Z",
      "author_association": "MEMBER",
      "body": "@mzumsande, it is possible to avoid calling `LookupSubNet()` from the GUI, see https://github.com/bitcoin-core/gui/pull/717. If that gets merged then this PR will be simplified - no need to touch the GUI code from here.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1456152963",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "mentioned",
      "id": 8674419840,
      "node_id": "MEE_lADOABII585eJVUczwAAAAIFCSSA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8674419840",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-06T13:38:35Z"
    },
    {
      "event": "subscribed",
      "id": 8674419859,
      "node_id": "SE_lADOABII585eJVUczwAAAAIFCSST",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8674419859",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-06T13:38:35Z"
    },
    {
      "event": "commented",
      "id": 1462108897,
      "node_id": "IC_kwDOABII585XJgLh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1462108897",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-09T13:54:56Z",
      "updated_at": "2023-03-09T13:54:56Z",
      "author_association": "MEMBER",
      "body": "> @mzumsande, it is possible to avoid calling `LookupSubNet()` from the GUI, see [bitcoin-core/gui#717](https://github.com/bitcoin-core/gui/pull/717). If that gets merged then this PR will be simplified - no need to touch the GUI code from here.\r\n\r\nhttps://github.com/bitcoin-core/gui/pull/717 has just been merged.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1462108897",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "mentioned",
      "id": 8708419248,
      "node_id": "MEE_lADOABII585eJVUczwAAAAIHD-6w",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8708419248",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-09T13:54:56Z"
    },
    {
      "event": "subscribed",
      "id": 8708419273,
      "node_id": "SE_lADOABII585eJVUczwAAAAIHD-7J",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8708419273",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-09T13:54:57Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQ3NDZjMGFlNTkzZTI5ZTg3MGQzNTA0ODNjMTU2ZTc5NDRiNmFjNGY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4746c0ae593e29e870d350483c156e7944b6ac4f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/4746c0ae593e29e870d350483c156e7944b6ac4f",
      "tree": {
        "sha": "414c0596382abdd1a196ea1f477454df5b3dfc9a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/414c0596382abdd1a196ea1f477454df5b3dfc9a"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 414c0596382abdd1a196ea1f477454df5b3dfc9a\nparent 8c4958bd4c06026dc108bc7f5f063d1f389d279b\nauthor Vasil Dimov <vd@FreeBSD.org> 1676471183 +0100\ncommitter Vasil Dimov <vd@FreeBSD.org> 1678899629 +0100\n\nnet: put CJDNS prefix byte in a constant\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmQR+a0ACgkQVN8G9ktV\ny7+0Ax//eYedbd6UdDBxQP96nwGLlgVrAeQY1PE+D7JJjFnqFe2RqDAFKGxzYDtr\nLt81OnpZRsWp/bnxTI+XxmLCQECZy87YT1B6PcYXr8N7bBzgPTl9CuFAs7I01WQ6\nYzNaULASnLggwwr/LevlwNrvP2K0lo20pL/Z43Lj9ey2J7vC7FOWHKGgyHnnwaL2\nQtXkQbSO6yt/y3s5lZdVFxYJCGoIW7wRAjvE0nseTlhxMhfKl6gXxekAyaMxEvHR\ngJszTFgATvGj1UI68tqcHV3egSUiiSJN9GvaBJP5mGI9zVDVRveryT/TEMJ9ouat\n+Z5CkRRtSPioZuslGFpFElZoAYkLheYnQl6tnyLknl9ENSWEOcdqcYGOjY7UjAJa\nDFrP6SgOYq/ra/R6+wfFnja/Rx0bwc5ZNEa3dAVWFsT29bqUZoVy4K6XrfZs0RMk\n3MHFvi5CgsSRlSeG8BnQ+mSjQIPmK6bRuFhiBPBzwm55UX4+1jL/zIBBBFZzXeSm\n2B4QlhxR1NFm5S4FF7wHJEYVH13f3Jucotf2fXICeuFZbD+rfn/0CAI/Z8LmT55v\nqqaXlWZN+RRqScGuECt6KwqoW6r/1uxp3yl/uoOX92m2kb17QHxiiRdi66g6oOpY\nSDFObwz1QdYEFXH0SR7aZFpjwXkjf74zPamicQiJ03igUtFr4B/MyE86C2t2Zvi8\nV79vCF/X9xPBhiJq7NegWDWHqk9KSDOEkhmZmUKuFrpszIEDyuqPK61E1yqoOtWr\nBAurpdQu1Y2pWWycn0XOdWVDGBsyWOoeiQVbwNxZyiHw1af/NduQulVHnJomI+ry\ncsitb+Oqe6VmX/GNBn+azAeolv90tDr0Digwp0lShujg2009lGC6ZRjY25hNhFbl\n7LI3SDi3nFsFCGCaplZ4ppSJikvcxbybaHC1Dcjrai2QSTpnq+Jcl67Hr65gdQp0\ntqp0isSeDDPT9prwxXI/OpjeApHyFrcy6/0PLyem19laNAFwNGmq4L6j+8iMRAmZ\naAksFqzp3zVzmGxXh5y2NJaYQyePLMpu5UipleMdHTV8WYoG6IQuv0gzh69wZZ7s\noeuLKXxvOI+2EEgbyFAaGMlij37D/lrOaYGh05+scd00p/nXhwbPazFcG4VoNHLh\nIb5i7mgjvTKklS65B7UHGJySDFgoeM3v6O/ElS11/J/vIJfAmPtycAiyJe+A4KVs\n7EX5axuipwbcUPQaGf/aFiVpVv8kugaaaKGurmiAG7aGPEN/baY1u7xY12WNneLF\nLBceKKicA8wMw4a/1jsC1Jho7JJ3XShOfJFKBIDJHIAccVB1p0eGOVPUVoGG3+gP\nELAJzSdpkZHbBYk59ZJUVKlBewW7cQ==\n=dV7X\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8c4958bd4c06026dc108bc7f5f063d1f389d279b",
          "sha": "8c4958bd4c06026dc108bc7f5f063d1f389d279b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/8c4958bd4c06026dc108bc7f5f063d1f389d279b"
        }
      ],
      "message": "net: put CJDNS prefix byte in a constant",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-03-15T17:00:29Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-02-15T14:26:23Z"
      },
      "sha": "4746c0ae593e29e870d350483c156e7944b6ac4f"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDYxNDkzMzZkOWZmNjQxYzMwMWRlMTU2YTU0ZTQyNTdjZDQ2NzFlZDY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6149336d9ff641c301de156a54e4257cd4671ed6",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6149336d9ff641c301de156a54e4257cd4671ed6",
      "tree": {
        "sha": "e6c1494bb04ebdaaa53b2358b4728bf98a573d61",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e6c1494bb04ebdaaa53b2358b4728bf98a573d61"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree e6c1494bb04ebdaaa53b2358b4728bf98a573d61\nparent 4746c0ae593e29e870d350483c156e7944b6ac4f\nauthor Vasil Dimov <vd@FreeBSD.org> 1675947821 +0100\ncommitter Vasil Dimov <vd@FreeBSD.org> 1678899636 +0100\n\nfuzz: ConsumeNetAddr(): avoid IPv6 addresses that look like CJDNS\n\nThe fuzz testing framework runs as if `-cjdnsreachable` is set and in\nthis case addresses like `{net=IPv6, addr=fc...}` are not possible.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmQR+bQACgkQVN8G9ktV\ny7+8Gx//auZ1UFHmN5VfMkkDw37ncFYTfj2/LNMdE6+DaoTYQwDNXB7w5uSo53kR\n/yRdXlBijgwgslpPU7PYbBU/Y1JsDW7iJg6bEyB1Pde0mU/J8L6/wNBh1ZHzCwSh\nbP8/xMCFj14yXbMtuNb8SSvTy+8oVrvH0SodZoWo94wu0uI1vEQdb4ggO0OtUxB/\nv9bt8WC9hyMwuzY1GKcRSSOkknimRgzAEqyRgginYGtkWUB5CrivAqQyr3l2jCyu\nuVKVp6uW1xMO4oTUjrOOaQRAw91jGH2z4ohFfSEWjgtffXT5BxzrrJwZxOE65pvJ\nlKKNPYnkZX7B9YoQ/fV7ZfLOM/xaaqOyNNWbGzHNGoZZm7rgLvDabMAxPhO+8dhz\nhgNombh+wHiNTGUfmiAi+cnKAZy1t3xIuLZC/k41t3z5SWeHmo8+bCq/auVnTXq2\n/u8gvjukHZ5FlgqcULHfj7uM6r+jv2vuAZE1q0ydlVP14CpWSbDTrvJLZ34obLtW\n+7D60Om/MVKfol03pYp297hI9BS1e3etXVY53srw6jw/KAYkvpLf1shnWd15qj0d\nFHWOamVNx9T/8mlwjnTf417Tis0rbjG2hk2QiMAWgmT9BnMzOHs0figyl9lQaN5J\nWNzSTxFDjMnM088JdAS3qhaai1gZeQ3xUkR4kxFHN58G1LY+DYhV99Od6N1u0fi0\nYqFsHVyoZMcvlw9cgPIafbX6g55zpftsTy8F4rCtAA9SjeR5/5wNdv/me25Zf3XX\nKoPEQGvu7Id+EJpEteKqUoOJXD8RQUGCSGm0mTaw+oZ49o2CsnS563eH76rDJLA5\nyzTxKJvulcyt/PILlC4j1nPnkwF9qDK2eJdq9HcQiRt8n56OC5MAxPGvIFBvKCru\nwKR6kLAhMDg5s9B/b9u4h9NCkmG8uB7B9a06L5w7CXKfOEukY4zKQ/1adog57Ui/\ngPue59XvryoYau48abYIP0DBh9izyc0lJQ30cX+tdBi3udxT55ylz/BVK+W3PGXo\nh0/NDghHmpQnrgbKRZJbXOAOE1dr8UF2FL/7ROOCVLNkUjV52zapgtv0ivBlx8sJ\niFN9KogiMFAw3bori2CugvLKo2P18gVTTo/jw9yiMEvQtB9VdbUOv5K47yv4sVoE\nuTewE0JOcLJ0KHki6b+HO5KkvUHTsaPwXUV1ZHuq5f7vmfKjfXaBv7uT/s2Q/eng\nOJXfjlDFCKuN7a7rcalW7htlq7R2nVxa77rrdWa78YAc1GX7yKT/h/vKt2SdmTwu\no0xft/wmSoM+LyAXpwat8P62R3SjMO+2zeVNcQply4HUBic2JgJBQjBw1QmnLGus\nFyBjrccKhOPoHTZZrw9kf7sw+QcFQQ==\n=XwgQ\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4746c0ae593e29e870d350483c156e7944b6ac4f",
          "sha": "4746c0ae593e29e870d350483c156e7944b6ac4f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/4746c0ae593e29e870d350483c156e7944b6ac4f"
        }
      ],
      "message": "fuzz: ConsumeNetAddr(): avoid IPv6 addresses that look like CJDNS\n\nThe fuzz testing framework runs as if `-cjdnsreachable` is set and in\nthis case addresses like `{net=IPv6, addr=fc...}` are not possible.",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-03-15T17:00:36Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-02-09T13:03:41Z"
      },
      "sha": "6149336d9ff641c301de156a54e4257cd4671ed6"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDU4YTk4ZDFkZjUzMDk5MzQ3NjA3MzUyMjQ1ZTQxOGNiOWY0NTE1Mjk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/58a98d1df53099347607352245e418cb9f451529",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/58a98d1df53099347607352245e418cb9f451529",
      "tree": {
        "sha": "f767664b8d8340e826b8c5a943ab8a86e79f71bc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f767664b8d8340e826b8c5a943ab8a86e79f71bc"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree f767664b8d8340e826b8c5a943ab8a86e79f71bc\nparent 6149336d9ff641c301de156a54e4257cd4671ed6\nauthor Vasil Dimov <vd@FreeBSD.org> 1675773037 +0100\ncommitter Vasil Dimov <vd@FreeBSD.org> 1678899636 +0100\n\nnet: move IsReachable() code to netbase and encapsulate it\n\n`vfLimited`, `IsReachable()`, `SetReachable()` need not be in the `net`\nmodule. Move them to `netbase` because they will be needed in\n`LookupSubNet()` to possibly flip the result to CJDNS (if that network\nis reachable).\n\nIn the process, encapsulate them in a class.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmQR+bUACgkQVN8G9ktV\ny792nB//a5kACU5c2mHfe1Usg6Jm693QqspxAZBkP/lGQKxN7X8UwYVoszbfnUZG\n9O4FKtbrt3eOxywtgCzEzXSNI4nuV7BxbDaUtzSFB+YycPPAz6cA8UN96wRlqXJL\nv1lEGXhu1bGmcqPUb1+Dcf9nzt0BKVnP/nyZ7trPTGxy9P39G1+1MpsQHHNlWHJS\nr4zyA95y020E6j3WIA6poE86KsZTZwNUUjf/KHN23VXw/NjJf6JMqOlDJcsz9P8k\nxxMewIB7DWzZNgBqAEWsdjZgmtMLHZHb4rSqUSFHC+ZMKRftsJMNbIo/EwN/+5D8\nWIxjjeJ/FPAaXTro2ZKPucta5FWvOxrfRzuSVL+aSWlIt4kgFs3bbs3UndlT5GR6\nRxskuRqesaBFl+oWoKUg+8UJa6ZKTrvjzU8K5KnFXoKNCGSPgLp6jkEXwkiZsz3m\n0sVmIQwIOlCxFdNv063trl2DCN/xH344qcEuOD2lnrffhWC8rnMKV5C13CSvprY3\n1f688L7ALmk/Ob6ol0W6JU2faNz0Xk6PSZNnnIynfjhy/jFv9jcTBmiWleDh2npN\nlNOMng4EmdSCZVLuvSiLhFjPrTWZaecB2sYHg+OUNInJUpsRH6pXobNqw9vskb7h\n6dHcGM2q9eITNazNY4mLJpOAupENThEd2rYjNX05RInQPhiIRjv3IL9gmCXXmTDX\nmvHXur1KBgqKuWhq/BShcq94ElE/sL7Xu/tBDdNN3WQEJBn9SbRlVV6gXL6weT51\nvluv++x6zLkM9rLOBMKrHGEjv2B03QbiWmksZXVRPbyoCFmuWfg0uRN1vhnAOa1A\nyX/ivkE/+/MT7H67/P4qjeMJ/C6ikxa2Re7H503lT4Lrws9qUg/UbHXFvUqTxcjc\npnk0qc/QOW3dIpz9b3/HfRObSNOgPQmzYNat+ia8bDwVbt0bpDn3kPspd4poYe/A\nd6Zhy7R8DjNjpVp6daCOm4T8WIba+UgOT1nJET+NSJCDKUMJbEFfJ2DMsrGEhUMr\n8rH/fCX4EEACUwUg4yfB1+SsozJjRuarz9w83OwNU0zPCg6muIeH47MuujC34cx3\nNrZeSaIBACtGhk2StRSGNFQdYfN88n4UWg3FfTLXmoybUW2NzZP+wonTXXdvQQHr\nuvW5X0qt9WlVzusEC37CiUOUZUYruhhwD1bFkYavYGy29ikbF/EnL3okRwkK7BqP\no+A2HKTv57P0V+GoEsCzZjL3R61tEEu8n6gpUWO9y4QhFcIsGjbsUFYV+Pl1lPo0\nG2B89SAlz87W7q2NLUdyR1gXMgrM+DYuyrdzSlXRj7dSJBm7F3S3UV5wwLh1cbdw\n0OO3h8ESfnpC8R/dJ8fM8s7bOPEr3Q==\n=Imt4\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6149336d9ff641c301de156a54e4257cd4671ed6",
          "sha": "6149336d9ff641c301de156a54e4257cd4671ed6",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/6149336d9ff641c301de156a54e4257cd4671ed6"
        }
      ],
      "message": "net: move IsReachable() code to netbase and encapsulate it\n\n`vfLimited`, `IsReachable()`, `SetReachable()` need not be in the `net`\nmodule. Move them to `netbase` because they will be needed in\n`LookupSubNet()` to possibly flip the result to CJDNS (if that network\nis reachable).\n\nIn the process, encapsulate them in a class.",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-03-15T17:00:36Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-02-07T12:30:37Z"
      },
      "sha": "58a98d1df53099347607352245e418cb9f451529"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDIxM2I0ODU2MTBmNTFlMjFiMjMzZGRkMDhjNTRiNTQ3ZmJlOWU0YTg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/213b485610f51e21b233ddd08c54b547fbe9e4a8",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/213b485610f51e21b233ddd08c54b547fbe9e4a8",
      "tree": {
        "sha": "d7993e461d12cfa841b5911f3a41162b8f7dbae2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d7993e461d12cfa841b5911f3a41162b8f7dbae2"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree d7993e461d12cfa841b5911f3a41162b8f7dbae2\nparent 58a98d1df53099347607352245e418cb9f451529\nauthor Vasil Dimov <vd@FreeBSD.org> 1675779201 +0100\ncommitter Vasil Dimov <vd@FreeBSD.org> 1678899637 +0100\n\nnet: move MaybeFlipIPv6toCJDNS() from net to netbase\n\nIt need not be in the `net` module and we need to call it from\n`LookupSubNet()`, thus move it to `netbase`.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmQR+bYACgkQVN8G9ktV\ny78H6B//ej9d9ktWpqitkgwUJxGh7M96RxJvETKQgQAYwEORPSXfsKOOC8CDsf1O\nxBFF6WRXWIxoZo+PWDvDuqugL6QxPrlLC5gPP5Tt7e0XSGZVoRMAnSQlqCW4woLb\n/YJbsTcz52rexK7H11iYUBKMmX+DGHgcleirl8iNM2iF1a30FaqjAKEEwYZFNxN4\nwSiMJ37tAraalVhcePmVHflx3sghP3TteF8iOW5wqROGaTZixPLm3BKQA5ZsA5pw\nRjcfbHh2HmyHgoR9q8GGaRz0mlIFU71Ajkep3uol0suDEqlvkuTS0bWmIopoXlPD\nmm3n4bzy4GD1+Ws0OuFRpynJWPlMev0Nj5Iz3EvTsGkCoSIeNN9Vwk4Q3JMy0rgc\nPKTjpx7tXd7R8Urm7Lf5P6Zc5MhN9NMNbQlAxIl6SGR97DEPJv7pNwWLJEUpFovx\naJk4Racdc9zF4zbBuKlHzde5cclpzkWBwteLeNZ4bfDkmCJCr/TlMiEzZf1UzuBJ\nbdNPkEwb0sITWTa5+CkV0ZC+5SO6qKsNnhWJhkP6MGF7sH84/8XtzUC8GEP1fLhW\nvm6B5ZqRaiktkXDAkOmv5ZstDuk0N5xiDyvUpSvAuelA5dG2LV8TgbNpSg6CCUXM\nimpgh0ey/TH08sQ5xY36/bpewipECcvPTE74QEM9py4apG/XGLSe/XunV4h0iMqC\n/IxOx2BUjxdItpfm3iolMOBXR+UxMQur6EijoXhcWaLxctT+yHLn/aoMBVctWoDx\nboMcJZICy9dxNWXKANIGZ1+Z5pkL0Y7zFqUK+BRV+YgrsoIwqbLdQJ7E9WZJkQ4x\nCcvvoaHsmxba7El6Pg6UxrbY3CaeclTwfz6mihkNcobty1d+69UhS9MtAeF3XmrB\n/2v2myks1cFSxlamaPl7Bx6r7VLonUfyauTOcYYKJdjUm95QBKhCmVjQ7h/tuTFZ\nwniMcbq4SnynoRQaR4iImh9kEWQXvJBDlnpNBilONbV+7gV+CvTGhTrzoXhBzEF5\nCfdQU5T16wwkUKDhmQnc0PxPxAA6SVyxhn2lsc/00Dfiy0oZrTCEfSJwDKCXsiTI\nuVXoBBMhx1RBWQorC+NuD5DFZwbRXaS77M6iRhVU3pyxGyfYEVh3bnue1dgMlKJw\nAXXABap2SrrjDMPpahFneJTz+R5F7vw6G+I8/IPQF+3WMw18xi9iv2wolrs942MB\nNGF4GNtBeNdx2/9TpMzbE4DJv/pzJL/Ky7q/AvyHKSqZz2SQe1k2N6fs8F/eJx9K\nPwvEIUiEJIvUCqYnOEKiWYALPWs3Vsodg1+61HoI0Py15JedXfx+446lbAeOsw6F\nvNvxpzO8DIkFVXdvmzr/LpCJEaWHvg==\n=mqXy\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/58a98d1df53099347607352245e418cb9f451529",
          "sha": "58a98d1df53099347607352245e418cb9f451529",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/58a98d1df53099347607352245e418cb9f451529"
        }
      ],
      "message": "net: move MaybeFlipIPv6toCJDNS() from net to netbase\n\nIt need not be in the `net` module and we need to call it from\n`LookupSubNet()`, thus move it to `netbase`.",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-03-15T17:00:37Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-02-07T14:13:21Z"
      },
      "sha": "213b485610f51e21b233ddd08c54b547fbe9e4a8"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQ3NDUxMWU5MzdlNGU1ZmIzNjk3MTIwMWNjYmRlMzRmZjRjN2M4M2Y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/474511e937e4e5fb36971201ccbde34ff4c7c83f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/474511e937e4e5fb36971201ccbde34ff4c7c83f",
      "tree": {
        "sha": "761dfd82c09b72f6e8b2d7abcaafc6a1cc63b8e3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/761dfd82c09b72f6e8b2d7abcaafc6a1cc63b8e3"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 761dfd82c09b72f6e8b2d7abcaafc6a1cc63b8e3\nparent 213b485610f51e21b233ddd08c54b547fbe9e4a8\nauthor Vasil Dimov <vd@FreeBSD.org> 1675779417 +0100\ncommitter Vasil Dimov <vd@FreeBSD.org> 1678899638 +0100\n\nnetbase: possibly change the result of LookupSubNet() to CJDNS\n\nAll callers of `LookupSubNet()` need the result to be of CJDNS type if\n`-cjdnsreachable` is set and the address begins with `fc`:\n\n* `NetWhitelistPermissions::TryParse()`: otherwise `-whitelist=` fails\n  to white list CJDNS addresses: when a CJDNS peer connects to us, it\n  will be matched against IPv6 `fc...` subnet and the match will never\n  succeed.\n\n* `BanMapFromJson()`: CJDNS bans are stored as just IPv6 addresses in\n  `banlist.json`. Upon reading from disk they have to be converted back\n  to CJDNS, otherwise, after restart, a ban entry like (`fc00::1`, IPv6)\n  would not match a peer (`fc00::1`, CJDNS).\n\n* `RPCConsole::unbanSelectedNode()`: in the GUI the ban entries go\n  through `CSubNet::ToString()` and back via `LookupSubNet()`. Then it\n  must match whatever is stored in `BanMan`, otherwise it is impossible\n  to unban via the GUI.\n\n* `setban()` (in `rpc/net.cpp`): otherwise `setban fc.../mask add` would\n  add an IPv6 entry to BanMan. Subnetting does not make sense for CJDNS\n  addresses, thus treat `fc.../mask` as invalid `CSubNet`. The result of\n  `LookupHost()` has to be converted for the case of banning a single\n  host.\n\n* `InitHTTPAllowList()`: not necessary since before this change\n  `-rpcallowip=fc...` would match IPv6 subnets against IPv6 peers even\n  if they started with `fc`. But because it is necessary for the above,\n  `HTTPRequest::GetPeer()` also has to be adjusted to return CJDNS peer,\n  so that now CJDNS peers are matched against CJDNS subnets.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmQR+bcACgkQVN8G9ktV\ny7+o6h/+Nmv9kKfI+I5Pl7LftMPzta8au2hK6AFxSrwUXrauUJmVyl/Tp3Z+CrAU\nyD+b0snGajBmJRsahb2Toj/U8DWdGNkvzASJEsYDIDT0aNHzO8ja7fccEcvcJIq+\n0wjxTz9ZStBeDxZg8lkLl36JP5Agn3N7edlEU/ytNguzeaqkHvdFIh1193/JOIAh\nRrp9E+3QQKjSERVOqUxO6jaAF8hENAoe2UpOFBoLCVH1FXe15Uw5FAIrFZMFcrvU\nZ2cg2meH751+TVKTY7mY4JD3TCRHg/poiAE0OeqcYboDj2tvaAz3A2OBrCaJt8GN\ndCvOlr77b7Fs4DbifF4fh/9LMM1VS6QZgiXB1IYo4wndGC4QGnp9Ugb9rmFqnCWV\nLiiPYubpDIWcyFIDnb8wt59/y405aIW90PjSYxiPtDgCas6YrbjRWo6nyLHQu/P0\nYYdBVLA4A68vqyKeUrq3Exr664K641km/AKaMB9CNFO70Nveqk6DrMLtTsJj56Lm\ntgDLS/YebUPZ/2jd+nvvR61CL5JUeGw3xs6zSPD6ii2IRhrq23M/aKbccWHwZe1V\n7wU3Win9U4KOTsfKvSSfV0A+idIGNZeO7YVWfjHOrfZn7foVWUS7Uz0i/XS15/1F\noTHrVdJ3sSR24hSe+QxxFdD9NC4S8l/vuAqLTUaLTjqKY3tdu70z2HvK5KaX/ctM\ntFWXc2dD3C3FLTGmGERKf9ruzIKAZtEzlS06k1NrleHfHpGKPv5OZjNXhKLtVgNF\nsWWO3P1v9U2aP9wyyhfP8o+RNLtdw9lbF+KIpq1cucP+eTuaWWMoyjtey4ApwyC7\nREESCtO/v91OW9rGG1IRXc8bbGsnA8weXCMjSuwxGG5+VL/Cm4w6uWT2wk6rm6aB\nxj5SrQ6gU3gF1KRoJy9TtYCZRd9jCsosalgiFXaWi6d+lRq04jvIFb0ygUoChqQU\nOiTe+cO/o5SzxRWFG4XjXBT38FQfBlNBxGHaIS1qzZM6+fQ91XTVipdQnCzl3ekB\nb4rlHrPtgjaCzLPRS3EMjMSFMU4centbHeyM+KimDpB1gOU8QuEg67TA+ToPasuj\ntlqWpYVSMg8GhoErr2WfZ8DehAM5WrhKBQVwzTIX3vLeH20H/IxgtnD0qEa071NV\ngCKjPAV3dLVzhsNytdy/iJ8e99q2Wtd9aDFEEIjdxN4CbcRI3lGOixoCFVwzSH+T\nE6KgMh50ZxX0HXBJAAHZb2b0Z2FAcXJKzpGifPs8o1DH7ZiO3d1TYMK4HQWqts87\nFbt3i7YLRzhiitTufnkoiRbvMmUuddvF5Ciw7HQVU7bQyEFCBfOPV8L4Li9h92dt\njxQjEZu/1QlQQg8a946ayFeEjOYDlA==\n=lpvx\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/213b485610f51e21b233ddd08c54b547fbe9e4a8",
          "sha": "213b485610f51e21b233ddd08c54b547fbe9e4a8",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/213b485610f51e21b233ddd08c54b547fbe9e4a8"
        }
      ],
      "message": "netbase: possibly change the result of LookupSubNet() to CJDNS\n\nAll callers of `LookupSubNet()` need the result to be of CJDNS type if\n`-cjdnsreachable` is set and the address begins with `fc`:\n\n* `NetWhitelistPermissions::TryParse()`: otherwise `-whitelist=` fails\n  to white list CJDNS addresses: when a CJDNS peer connects to us, it\n  will be matched against IPv6 `fc...` subnet and the match will never\n  succeed.\n\n* `BanMapFromJson()`: CJDNS bans are stored as just IPv6 addresses in\n  `banlist.json`. Upon reading from disk they have to be converted back\n  to CJDNS, otherwise, after restart, a ban entry like (`fc00::1`, IPv6)\n  would not match a peer (`fc00::1`, CJDNS).\n\n* `RPCConsole::unbanSelectedNode()`: in the GUI the ban entries go\n  through `CSubNet::ToString()` and back via `LookupSubNet()`. Then it\n  must match whatever is stored in `BanMan`, otherwise it is impossible\n  to unban via the GUI.\n\n* `setban()` (in `rpc/net.cpp`): otherwise `setban fc.../mask add` would\n  add an IPv6 entry to BanMan. Subnetting does not make sense for CJDNS\n  addresses, thus treat `fc.../mask` as invalid `CSubNet`. The result of\n  `LookupHost()` has to be converted for the case of banning a single\n  host.\n\n* `InitHTTPAllowList()`: not necessary since before this change\n  `-rpcallowip=fc...` would match IPv6 subnets against IPv6 peers even\n  if they started with `fc`. But because it is necessary for the above,\n  `HTTPRequest::GetPeer()` also has to be adjusted to return CJDNS peer,\n  so that now CJDNS peers are matched against CJDNS subnets.",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-03-15T17:00:38Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-02-07T14:16:57Z"
      },
      "sha": "474511e937e4e5fb36971201ccbde34ff4c7c83f"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZjZDRkMzRiOTYzMzI4ODI2MmNhNmM3MDI0M2MwZTA1OWE2NDExMjA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fcd4d34b9633288262ca6c70243c0e059a641120",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fcd4d34b9633288262ca6c70243c0e059a641120",
      "tree": {
        "sha": "bfec2ededd937ea090cfc5c40deab9c97b40d227",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/bfec2ededd937ea090cfc5c40deab9c97b40d227"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree bfec2ededd937ea090cfc5c40deab9c97b40d227\nparent 474511e937e4e5fb36971201ccbde34ff4c7c83f\nauthor Vasil Dimov <vd@FreeBSD.org> 1675783171 +0100\ncommitter Vasil Dimov <vd@FreeBSD.org> 1678899639 +0100\n\nnet: remove unused CConnman::FindNode(const CSubNet&)\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmQR+bcACgkQVN8G9ktV\ny7+PNSAAgZnqAdDk0t/9+3la627IkMTByuL6+NMTtSrCrYnUqETarIDWC+QtCIbg\neXCdC/5/l7b8RIu5ebUUe8gGgNfjYAfrLH0wKoLZX2qGFN3EF8hrNmX07AhStn7h\nV9fC/L0XI+55ocrpan+SX5eyhnFXIHYazOZv/CXQ64RaPtX+AUu7lqg1oF1UDs0q\nGjUuk2xgvE2oTivCKtUUX3FUeXtbFwhUqKOxxRPm2GHAhUhvMWrzqEtn8N9PFIAG\naQ3j8iBLZUZWnTeq9PvdV2fFEpABITArnVkLglzHh97NDasl3SAyZ6K/3uNsvmNg\nCUyGbOZDBMvtpceAaat2fQb0H3mV3voJzPKz4xj78lO0sE6/pXcz+cD7lPWmN6M6\naQI/bSW+LfZcMHrG9b2DHTtk4KTHmiCBFMqVq5M+YTCIUL6TEFKd+bMFMBFINGk8\n99fgoz9GaxlxuUDe44gZM5M4O+M2CzWfGpgykUrhKqtoyvJ+lR0i8liaKJGGkQkz\nGnDVZaHc71TDNZ2l8X5Fs+4HxEXEmICt+CB/HmMXEZscHBfev52G6T/yCev3F65p\nYP2LSx72LcONqRwaixaacjO1CNTMEEz9fBcve+edJ/WdhGYY4LKVrWp4ItrywVH0\nxGIP+zzAaiXeru1d/+HsnkY92L5wkl2yNgoW3LeTLf4y5+d32yV6iNbs6u01kWoH\n+7635Ug6kKqwZt97y3moZUSQ8VD7mSQqlag+9zeJTrTlisx6xtiI3hE6AYI41wo6\nh1BZ3ucdUy010Hm8gO0m+vf/6uT4L3RqlPZuxTZoC1M7oVmk0y3CxZGzIG7CTzB3\n6Jeb4G1jdDf2OZxReDF7fn0654ChwRnf+87h+wHL6t0+DGga/6nlcy0vhMpbUDWa\noBtvDGD4YXsG4tsK2d69I2OHAvV0N0OLbN0U8m6LPe8oLG2/ZVrnrfMT9g/oiA4u\nhVlQZwvi+9dBgXSohwKbk3Lqt/a+LzItmuyZfbW5JvIaGIqSib/ANI9sOSFNHOz1\noY3hyIpijJpJVj5ryLzWzuiNkbcyaYeL7OAwMmXh/HvExvpY1yHI4c6i2auUYqE9\nvyE3F2O782wurvaFWiqkp/KuxllZ8PHASzwzrFedpTof8RJDOanw0GONRSk7MX36\nc1GpVSwHBvwzHMu1KMDvS3OjLv1aHU8DBTIQQssZHwcHcZkqrBzSZEcnyWkBbLD0\nZBLly7CkLAWsVQoUI5ub95X33i7uI3zgABCr+ZbpZ+EjxL5rCB7GROYHwKP+Kd3O\ngnfueNjgGPpImmGUZiWi80jSJG7iS+lF1KN0GcnzIv6JzGCO40HSOUYLkGNPDcHd\nbkfTgegKyYeBxX5M17v1IQt9JbHsxg==\n=d1SP\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/474511e937e4e5fb36971201ccbde34ff4c7c83f",
          "sha": "474511e937e4e5fb36971201ccbde34ff4c7c83f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/474511e937e4e5fb36971201ccbde34ff4c7c83f"
        }
      ],
      "message": "net: remove unused CConnman::FindNode(const CSubNet&)",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-03-15T17:00:39Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-02-07T15:19:31Z"
      },
      "sha": "fcd4d34b9633288262ca6c70243c0e059a641120"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8758311522,
      "node_id": "HRFPE_lADOABII585eJVUczwAAAAIKCTpi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8758311522",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-15T17:39:06Z"
    },
    {
      "event": "commented",
      "id": 1470477392,
      "node_id": "IC_kwDOABII585XpbRQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1470477392",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-15T17:41:30Z",
      "updated_at": "2023-03-15T17:59:46Z",
      "author_association": "MEMBER",
      "body": "`c2a86ba667...fcd4d34b96`: rebase even though it is not strictly necessary. Now (after https://github.com/bitcoin-core/gui/pull/717 is merged) the GUI does not call `LookupSubNet()`.\r\n\r\nInvalidates ACK from @jonatack\r\n\r\nI still think not using `CSubNet` for Tor, I2P and CJDNS (which are not sub-nettable) makes sense and should be done. That looks like a bigger change and can be done after this PR or independently of it. It would Introduce a class that holds a list of addresses:\r\n\r\n```cpp\r\nclass NetAddrList\r\n{\r\npublic:\r\n    bool Contains(const CNetAddr& addr) const;\r\n\r\n    void InsertAddr(const CNetAddr& addr);\r\n\r\n    void InsertSubnet(const CSubNet& subnet); // must be only IPv4 or IPv6\r\n\r\nprivate:\r\n    std::unordered_set<CSubNet> m_subnets;\r\n    std::unordered_set<CNetAddr> m_addresses;\r\n}\r\n```\r\n\r\nand use that in some (all?) places where `CSubNet` is used now. `LookupSubNet()` should be changed to check if the input contains `/`, then require it to be IP subnet - that is, return either `CSubNet` or `CNetAddr` or maybe have that as a method of the above `NetAddrList`: `void InsertString(const std::string& addr)` which would add an entry to `m_subnets` or `m_addresses`.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1470477392",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "mentioned",
      "id": 8758333270,
      "node_id": "MEE_lADOABII585eJVUczwAAAAIKCY9W",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8758333270",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-15T17:41:30Z"
    },
    {
      "event": "subscribed",
      "id": 8758333294,
      "node_id": "SE_lADOABII585eJVUczwAAAAIKCY9u",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8758333294",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-15T17:41:31Z"
    },
    {
      "event": "reviewed",
      "id": 1371196157,
      "node_id": "PRR_kwDOABII585Rusr9",
      "url": null,
      "actor": null,
      "commit_id": "fcd4d34b9633288262ca6c70243c0e059a641120",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK",
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#pullrequestreview-1371196157",
      "submitted_at": "2023-04-04T15:00:14Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
    },
    {
      "event": "reviewed",
      "id": 1391138211,
      "node_id": "PRR_kwDOABII585S6xWj",
      "url": null,
      "actor": null,
      "commit_id": "fcd4d34b9633288262ca6c70243c0e059a641120",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "body": "",
      "user": {
        "login": "ewiseg",
        "id": 110210038,
        "node_id": "U_kgDOBpGr9g",
        "avatar_url": "https://avatars.githubusercontent.com/u/110210038?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ewiseg",
        "html_url": "https://github.com/ewiseg",
        "followers_url": "https://api.github.com/users/ewiseg/followers",
        "following_url": "https://api.github.com/users/ewiseg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ewiseg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ewiseg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ewiseg/subscriptions",
        "organizations_url": "https://api.github.com/users/ewiseg/orgs",
        "repos_url": "https://api.github.com/users/ewiseg/repos",
        "events_url": "https://api.github.com/users/ewiseg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ewiseg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#pullrequestreview-1391138211",
      "submitted_at": "2023-04-19T01:30:15Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
    },
    {
      "event": "labeled",
      "id": 9380262714,
      "node_id": "LE_lADOABII585eJVUczwAAAAIvG3M6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9380262714",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-30T15:55:28Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1568684287,
      "node_id": "IC_kwDOABII585dgDj_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1568684287",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-30T15:55:29Z",
      "updated_at": "2023-05-30T15:55:29Z",
      "author_association": "MEMBER",
      "body": "<!--cf906140f33d8803c4a75a2196329ecb-->\nðŸ™ This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1568684287",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103877367",
      "pull_request_review_id": 1294785408,
      "id": 1103877367,
      "node_id": "PRRC_kwDOABII585By9T3",
      "diff_hunk": "@@ -40,6 +40,8 @@ bool fNameLookup = DEFAULT_NAME_LOOKUP;\n int g_socks5_recv_timeout = 20 * 1000;\n static std::atomic<bool> interruptSocks5Recv(false);\n \n+ReachableNets g_reachable_nets;",
      "path": "src/netbase.cpp",
      "position": 4,
      "original_position": 4,
      "commit_id": "fcd4d34b9633288262ca6c70243c0e059a641120",
      "original_commit_id": "573117f79aebe482dccd6c91366c79663a7d5f47",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Does this need a Mutex, considering it's being accessed from both Node and GUI?",
      "created_at": "2023-02-12T21:18:01Z",
      "updated_at": "2023-02-13T15:51:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1103877367",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103877367"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 43,
      "original_line": 43,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104641668",
      "pull_request_review_id": 1294785408,
      "id": 1104641668,
      "node_id": "PRRC_kwDOABII585B136E",
      "diff_hunk": "@@ -694,6 +694,7 @@ bool LookupSubNet(const std::string& subnet_str, CSubNet& subnet_out)\n     CNetAddr addr;\n \n     if (LookupHost(str_addr, addr, /*fAllowLookup=*/false)) {\n+        addr = MaybeFlipIPv6toCJDNS(CService{addr, /*port=*/0});",
      "path": "src/netbase.cpp",
      "position": 13,
      "original_position": 4,
      "commit_id": "fcd4d34b9633288262ca6c70243c0e059a641120",
      "original_commit_id": "45a79d48ca70e52e12a50eed8ff73ec772519b5e",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Now that `MaybeFlipIPv6toCJDNS` is available in `netbase`, would it make sense (maybe in follow-ups) to also use it in the `Lookup()` functions, not just `LookupSubNet`) and reduce the number of occurrences we have to call `MaybeFlipIPv6toCJDNS` from outside it?",
      "created_at": "2023-02-13T15:38:11Z",
      "updated_at": "2023-02-13T15:51:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1104641668",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104641668"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 697,
      "original_line": 697,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104785968",
      "pull_request_review_id": 1296108363,
      "id": 1104785968,
      "node_id": "PRRC_kwDOABII585B2bIw",
      "diff_hunk": "@@ -40,6 +40,8 @@ bool fNameLookup = DEFAULT_NAME_LOOKUP;\n int g_socks5_recv_timeout = 20 * 1000;\n static std::atomic<bool> interruptSocks5Recv(false);\n \n+ReachableNets g_reachable_nets;",
      "path": "src/netbase.cpp",
      "position": 4,
      "original_position": 4,
      "commit_id": "fcd4d34b9633288262ca6c70243c0e059a641120",
      "original_commit_id": "573117f79aebe482dccd6c91366c79663a7d5f47",
      "in_reply_to_id": 1103877367,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It has inside, `ReachableNets::m_mutex`.",
      "created_at": "2023-02-13T17:12:47Z",
      "updated_at": "2023-02-13T17:12:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1104785968",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104785968"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 43,
      "original_line": 43,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104803546",
      "pull_request_review_id": 1296128737,
      "id": 1104803546,
      "node_id": "PRRC_kwDOABII585B2fba",
      "diff_hunk": "@@ -36,7 +36,11 @@ CNetAddr ConsumeNetAddr(FuzzedDataProvider& fuzzed_data_provider) noexcept\n     } else if (network == Network::NET_IPV6) {\n         if (fuzzed_data_provider.remaining_bytes() >= 16) {\n             in6_addr v6_addr = {};\n-            memcpy(v6_addr.s6_addr, fuzzed_data_provider.ConsumeBytes<uint8_t>(16).data(), 16);\n+            auto addr_bytes = fuzzed_data_provider.ConsumeBytes<uint8_t>(16);\n+            if (addr_bytes[0] == 0xFC) { // Avoid generating IPv6 addresses that look like CJDNS.\n+                addr_bytes[0] = 0x55;",
      "path": "src/test/fuzz/util/net.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "fcd4d34b9633288262ca6c70243c0e059a641120",
      "original_commit_id": "d9b95cb1eedb9f165df93dcae0aba96ede40767a",
      "in_reply_to_id": null,
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In d9b95cb1eedb9f165df93dcae0aba96ede40767a, I could check that all CJDNS address starts with [OxFC](https://github.com/cjdelisle/cjdns/blob/master/doc/Whitepaper.md#pulling-it-all-together), so, it switches the first byte to `0x55` to avoid generating it that look like CJDNS. But why specifically `0x55`?",
      "created_at": "2023-02-13T17:25:14Z",
      "updated_at": "2023-02-13T17:25:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1104803546",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104803546"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 41,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104805263",
      "pull_request_review_id": 1296130709,
      "id": 1104805263,
      "node_id": "PRRC_kwDOABII585B2f2P",
      "diff_hunk": "@@ -3635,14 +3635,15 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n                 continue;\n             }\n             ++num_proc;\n-            bool fReachable = IsReachable(addr);\n+            const bool reachable = g_reachable_nets.Contains(addr);",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "fcd4d34b9633288262ca6c70243c0e059a641120",
      "original_commit_id": "9b656a5eb18f3a4c2f438bb3a4899db5441adb7f",
      "in_reply_to_id": null,
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit:\r\n```suggestion\r\n            const bool reachable{g_reachable_nets.Contains(addr)};\r\n```",
      "created_at": "2023-02-13T17:26:28Z",
      "updated_at": "2023-02-13T17:26:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1104805263",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104805263"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3638,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104836123",
      "pull_request_review_id": 1296173130,
      "id": 1104836123,
      "node_id": "PRRC_kwDOABII585B2nYb",
      "diff_hunk": "@@ -694,6 +694,7 @@ bool LookupSubNet(const std::string& subnet_str, CSubNet& subnet_out)\n     CNetAddr addr;\n \n     if (LookupHost(str_addr, addr, /*fAllowLookup=*/false)) {\n+        addr = MaybeFlipIPv6toCJDNS(CService{addr, /*port=*/0});",
      "path": "src/netbase.cpp",
      "position": 13,
      "original_position": 4,
      "commit_id": "fcd4d34b9633288262ca6c70243c0e059a641120",
      "original_commit_id": "45a79d48ca70e52e12a50eed8ff73ec772519b5e",
      "in_reply_to_id": 1104641668,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Oh, well. I feel like `MaybeFlipIPv6toCJDNS()` is warranted in some of the lower level `Lookup*()` functions. But they are called from so many places, the change would be very invasive. I have to gather some bravery in order to look into that. If that is to be done, maybe it should be preceded by some simplification of the `Lookup*()` family of functions. I get a headache every time I have to deal with:\r\n\r\n```cpp\r\nbool LookupHost(const std::string& name, std::vector<CNetAddr>& vIP, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function = g_dns_lookup);\r\nbool LookupHost(const std::string& name, CNetAddr& addr, bool fAllowLookup, DNSLookupFn dns_lookup_function = g_dns_lookup);\r\nbool Lookup(const std::string& name, std::vector<CService>& vAddr, uint16_t portDefault, bool fAllowLookup, unsigned int nMaxSolutions, DNSLookupFn dns_lookup_function = g_dns_lookup);\r\nbool Lookup(const std::string& name, CService& addr, uint16_t portDefault, bool fAllowLookup, DNSLookupFn dns_lookup_function = g_dns_lookup);\r\nCService LookupNumeric(const std::string& name, uint16_t portDefault = 0, DNSLookupFn dns_lookup_function = g_dns_lookup);\r\nbool LookupIntern(const std::string& name, std::vector<CNetAddr>& vIP, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function);\r\n```",
      "created_at": "2023-02-13T17:53:16Z",
      "updated_at": "2023-02-13T17:53:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1104836123",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104836123"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 697,
      "original_line": 697,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1105886420",
      "pull_request_review_id": 1297697029,
      "id": 1105886420,
      "node_id": "PRRC_kwDOABII585B6nzU",
      "diff_hunk": "@@ -3635,14 +3635,15 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n                 continue;\n             }\n             ++num_proc;\n-            bool fReachable = IsReachable(addr);\n+            const bool reachable = g_reachable_nets.Contains(addr);",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "fcd4d34b9633288262ca6c70243c0e059a641120",
      "original_commit_id": "9b656a5eb18f3a4c2f438bb3a4899db5441adb7f",
      "in_reply_to_id": 1104805263,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2023-02-14T14:19:38Z",
      "updated_at": "2023-02-14T14:19:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1105886420",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1105886420"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3638,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1105887566",
      "pull_request_review_id": 1297698826,
      "id": 1105887566,
      "node_id": "PRRC_kwDOABII585B6oFO",
      "diff_hunk": "@@ -36,7 +36,11 @@ CNetAddr ConsumeNetAddr(FuzzedDataProvider& fuzzed_data_provider) noexcept\n     } else if (network == Network::NET_IPV6) {\n         if (fuzzed_data_provider.remaining_bytes() >= 16) {\n             in6_addr v6_addr = {};\n-            memcpy(v6_addr.s6_addr, fuzzed_data_provider.ConsumeBytes<uint8_t>(16).data(), 16);\n+            auto addr_bytes = fuzzed_data_provider.ConsumeBytes<uint8_t>(16);\n+            if (addr_bytes[0] == 0xFC) { // Avoid generating IPv6 addresses that look like CJDNS.\n+                addr_bytes[0] = 0x55;",
      "path": "src/test/fuzz/util/net.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "fcd4d34b9633288262ca6c70243c0e059a641120",
      "original_commit_id": "d9b95cb1eedb9f165df93dcae0aba96ede40767a",
      "in_reply_to_id": 1104803546,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "There is no reason for 0x55 specifically. I added a comment to clarify:\r\n\r\n`// Just an arbitrary number, anything != 0xFC would do.`",
      "created_at": "2023-02-14T14:20:31Z",
      "updated_at": "2023-02-14T14:20:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1105887566",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1105887566"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 41,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1106079939",
      "pull_request_review_id": 1297987720,
      "id": 1106079939,
      "node_id": "PRRC_kwDOABII585B7XDD",
      "diff_hunk": "@@ -36,7 +36,11 @@ CNetAddr ConsumeNetAddr(FuzzedDataProvider& fuzzed_data_provider) noexcept\n     } else if (network == Network::NET_IPV6) {\n         if (fuzzed_data_provider.remaining_bytes() >= 16) {\n             in6_addr v6_addr = {};\n-            memcpy(v6_addr.s6_addr, fuzzed_data_provider.ConsumeBytes<uint8_t>(16).data(), 16);\n+            auto addr_bytes = fuzzed_data_provider.ConsumeBytes<uint8_t>(16);\n+            if (addr_bytes[0] == 0xFC) { // Avoid generating IPv6 addresses that look like CJDNS.\n+                addr_bytes[0] = 0x55;",
      "path": "src/test/fuzz/util/net.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "fcd4d34b9633288262ca6c70243c0e059a641120",
      "original_commit_id": "d9b95cb1eedb9f165df93dcae0aba96ede40767a",
      "in_reply_to_id": 1104803546,
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Got it, thank you!",
      "created_at": "2023-02-14T16:41:35Z",
      "updated_at": "2023-02-14T16:41:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1106079939",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1106079939"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 41,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1106360822",
      "pull_request_review_id": 1298409472,
      "id": 1106360822,
      "node_id": "PRRC_kwDOABII585B8bn2",
      "diff_hunk": "@@ -1323,38 +1323,32 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     }\n \n     if (args.IsArgSet(\"-onlynet\")) {\n-        std::set<enum Network> nets;\n+        g_reachable_nets.RemoveAll();\n         for (const std::string& snet : args.GetArgs(\"-onlynet\")) {\n             enum Network net = ParseNetwork(snet);\n             if (net == NET_UNROUTABLE)\n                 return InitError(strprintf(_(\"Unknown network specified in -onlynet: '%s'\"), snet));\n-            nets.insert(net);",
      "path": "src/init.cpp",
      "position": 10,
      "original_position": 10,
      "commit_id": "fcd4d34b9633288262ca6c70243c0e059a641120",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit, while touching this it may be good to add the missing brackets to `if (net == NET_UNROUTABLE)`, feel free to ignore",
      "created_at": "2023-02-14T20:54:32Z",
      "updated_at": "2023-02-14T21:14:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1106360822",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1106360822"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1332,
      "original_line": 1332,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1106373444",
      "pull_request_review_id": 1298409472,
      "id": 1106373444,
      "node_id": "PRRC_kwDOABII585B8etE",
      "diff_hunk": "@@ -810,3 +813,13 @@ bool IsBadPort(uint16_t port)\n     }\n     return false;\n }\n+\n+CService MaybeFlipIPv6toCJDNS(const CService& service)\n+{\n+    CService ret{service};\n+    if (ret.m_net == NET_IPV6 && ret.m_addr[0] == 0xfc && g_reachable_nets.Contains(NET_CJDNS)) {",
      "path": "src/netbase.cpp",
      "position": null,
      "original_position": 25,
      "commit_id": "fcd4d34b9633288262ca6c70243c0e059a641120",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit, it may be nice to hoist `0xfc` used here and in `src/test/fuzz/util/net.cpp#L40-41` to a constexpr/constant, as grepping the codebase for it returns many unrelated false positives.",
      "created_at": "2023-02-14T21:04:20Z",
      "updated_at": "2023-02-14T21:14:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1106373444",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1106373444"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 820,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1106375231",
      "pull_request_review_id": 1298409472,
      "id": 1106375231,
      "node_id": "PRRC_kwDOABII585B8fI_",
      "diff_hunk": "@@ -64,6 +65,62 @@ struct ProxyCredentials\n     std::string password;\n };\n \n+/**\n+ * List of reachable networks. Everything is reachable by default.\n+ */\n+class ReachableNets {\n+public:\n+    void Add(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.insert(net);\n+        }\n+    }\n+\n+    void Remove(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.erase(net);\n+        }\n+    }\n+\n+    void RemoveAll() EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        m_reachable.clear();\n+    }\n+\n+    bool Contains(Network net) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        return m_reachable.count(net) > 0;\n+    }\n+\n+    bool Contains(const CNetAddr& addr) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {",
      "path": "src/netbase.h",
      "position": 48,
      "original_position": 48,
      "commit_id": "fcd4d34b9633288262ca6c70243c0e059a641120",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "9e4781805b5b59dc\r\n\r\nAdd `AssertLockNotHeld(m_mutex);` to the `RemoveAll()` and to both of the `Contains()` class methods?\r\n\r\nPerhaps also add `[[nodiscard]]` to the latter two declarations.",
      "created_at": "2023-02-14T21:05:54Z",
      "updated_at": "2023-02-14T21:35:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1106375231",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1106375231"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 104,
      "original_line": 104,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1106381226",
      "pull_request_review_id": 1298409472,
      "id": 1106381226,
      "node_id": "PRRC_kwDOABII585B8gmq",
      "diff_hunk": "@@ -64,6 +65,62 @@ struct ProxyCredentials\n     std::string password;\n };\n \n+/**\n+ * List of reachable networks. Everything is reachable by default.\n+ */\n+class ReachableNets {\n+public:\n+    void Add(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.insert(net);\n+        }\n+    }\n+\n+    void Remove(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.erase(net);\n+        }\n+    }\n+\n+    void RemoveAll() EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        m_reachable.clear();\n+    }\n+\n+    bool Contains(Network net) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        return m_reachable.count(net) > 0;\n+    }\n+\n+    bool Contains(const CNetAddr& addr) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        return Contains(addr.GetNetwork());\n+    }\n+\n+private:\n+    mutable Mutex m_mutex;\n+\n+    std::unordered_set<Network> m_reachable GUARDED_BY(m_mutex){\n+        NET_UNROUTABLE,\n+        NET_IPV4,\n+        NET_IPV6,\n+        NET_ONION,\n+        NET_I2P,\n+        NET_CJDNS,\n+        NET_INTERNAL",
      "path": "src/netbase.h",
      "position": 63,
      "original_position": 62,
      "commit_id": "fcd4d34b9633288262ca6c70243c0e059a641120",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "9e4781805b5b59dc As BIP155 networks are added or removed over time, `m_reachable` could go out of sync with `enum Network` in `netaddress.h` ... perhaps construct it programmatically  from `enum Network` (now or in a follow-up)?",
      "created_at": "2023-02-14T21:10:13Z",
      "updated_at": "2023-02-15T00:52:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1106381226",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1106381226"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 119,
      "original_line": 119,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107408761",
      "pull_request_review_id": 1299941186,
      "id": 1107408761,
      "node_id": "PRRC_kwDOABII585CAbd5",
      "diff_hunk": "@@ -1323,38 +1323,32 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     }\n \n     if (args.IsArgSet(\"-onlynet\")) {\n-        std::set<enum Network> nets;\n+        g_reachable_nets.RemoveAll();\n         for (const std::string& snet : args.GetArgs(\"-onlynet\")) {\n             enum Network net = ParseNetwork(snet);\n             if (net == NET_UNROUTABLE)\n                 return InitError(strprintf(_(\"Unknown network specified in -onlynet: '%s'\"), snet));\n-            nets.insert(net);",
      "path": "src/init.cpp",
      "position": 10,
      "original_position": 10,
      "commit_id": "fcd4d34b9633288262ca6c70243c0e059a641120",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": 1106360822,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ignoring to minimize the size of the diff.",
      "created_at": "2023-02-15T17:06:28Z",
      "updated_at": "2023-02-15T17:06:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1107408761",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107408761"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1332,
      "original_line": 1332,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107409772",
      "pull_request_review_id": 1299943272,
      "id": 1107409772,
      "node_id": "PRRC_kwDOABII585CAbts",
      "diff_hunk": "@@ -810,3 +813,13 @@ bool IsBadPort(uint16_t port)\n     }\n     return false;\n }\n+\n+CService MaybeFlipIPv6toCJDNS(const CService& service)\n+{\n+    CService ret{service};\n+    if (ret.m_net == NET_IPV6 && ret.m_addr[0] == 0xfc && g_reachable_nets.Contains(NET_CJDNS)) {",
      "path": "src/netbase.cpp",
      "position": null,
      "original_position": 25,
      "commit_id": "fcd4d34b9633288262ca6c70243c0e059a641120",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": 1106373444,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2023-02-15T17:07:22Z",
      "updated_at": "2023-02-15T17:07:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1107409772",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107409772"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 820,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107422252",
      "pull_request_review_id": 1299963130,
      "id": 1107422252,
      "node_id": "PRRC_kwDOABII585CAews",
      "diff_hunk": "@@ -64,6 +65,62 @@ struct ProxyCredentials\n     std::string password;\n };\n \n+/**\n+ * List of reachable networks. Everything is reachable by default.\n+ */\n+class ReachableNets {\n+public:\n+    void Add(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.insert(net);\n+        }\n+    }\n+\n+    void Remove(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.erase(net);\n+        }\n+    }\n+\n+    void RemoveAll() EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        m_reachable.clear();\n+    }\n+\n+    bool Contains(Network net) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        return m_reachable.count(net) > 0;\n+    }\n+\n+    bool Contains(const CNetAddr& addr) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {",
      "path": "src/netbase.h",
      "position": 48,
      "original_position": 48,
      "commit_id": "fcd4d34b9633288262ca6c70243c0e059a641120",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": 1106375231,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Added `[[nodiscard]]` and one `AssertLockNotHeld()` where it is not immediately followed by `LOCK()`. I do not see the point in:\r\n\r\n```cpp\r\nAssertLockNotHeld(m); // the point of this is to crash if m is held\r\nLOCK(m); // but this will crash if m is held, so what is the point?\r\n```\r\n\r\nIf it is really desirable to have `AssertLockNotHeld()` before every `LOCK()`, then `AssertLockNotHeld()` should be put inside `LOCK()`.\r\n\r\nThis is another story:\r\n\r\n```cpp\r\nAssertLockNotHeld(m);\r\nif (x) {\r\n    LOCK(m);\r\n    ...\r\n}\r\n```\r\n\r\nbecause if it gets executed with `x == false` and `AssertLockNotHeld()` is missing then it will not catch the problem (by crashing).",
      "created_at": "2023-02-15T17:13:42Z",
      "updated_at": "2023-02-15T17:13:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1107422252",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107422252"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 104,
      "original_line": 104,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107491391",
      "pull_request_review_id": 1300064718,
      "id": 1107491391,
      "node_id": "PRRC_kwDOABII585CAvo_",
      "diff_hunk": "@@ -64,6 +65,62 @@ struct ProxyCredentials\n     std::string password;\n };\n \n+/**\n+ * List of reachable networks. Everything is reachable by default.\n+ */\n+class ReachableNets {\n+public:\n+    void Add(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.insert(net);\n+        }\n+    }\n+\n+    void Remove(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.erase(net);\n+        }\n+    }\n+\n+    void RemoveAll() EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        m_reachable.clear();\n+    }\n+\n+    bool Contains(Network net) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        return m_reachable.count(net) > 0;\n+    }\n+\n+    bool Contains(const CNetAddr& addr) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {",
      "path": "src/netbase.h",
      "position": 48,
      "original_position": 48,
      "commit_id": "fcd4d34b9633288262ca6c70243c0e059a641120",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": 1106375231,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> LOCK(m); // but this will crash if m is held, so what is the point?\r\n\r\nAh, I see that double lock detection at runtime was added by you in 95975dd08d8f.\r\n\r\n```diff\r\n+++ b/src/netbase.h\r\n@@ -73,6 +73,7 @@ public:\r\n     void Add(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\r\n     {\r\n         AssertLockNotHeld(m_mutex);\r\n+        LOCK(m_mutex);\r\n         if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\r\n             LOCK(m_mutex);\r\n```\r\n```\r\n2023-02-15T17:48:41Z SetNetworkActive: true\r\n2023-02-15T17:48:41Z DOUBLE LOCK DETECTED\r\n2023-02-15T17:48:41Z Lock order:\r\n2023-02-15T17:48:41Z  (*) 'm_mutex' in netbase.h:76 (in thread 'init')\r\n2023-02-15T17:48:41Z  (*) 'm_mutex' in netbase.h:78 (in thread 'init')\r\nAssertion failed: detected double lock for 'm_mutex' in netbase.h:78 (in thread 'init'), details in debug log.\r\n```\r\n",
      "created_at": "2023-02-15T17:53:06Z",
      "updated_at": "2023-02-15T17:53:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1107491391",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107491391"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 104,
      "original_line": 104,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107505114",
      "pull_request_review_id": 1300080160,
      "id": 1107505114,
      "node_id": "PRRC_kwDOABII585CAy_a",
      "diff_hunk": "@@ -64,6 +65,62 @@ struct ProxyCredentials\n     std::string password;\n };\n \n+/**\n+ * List of reachable networks. Everything is reachable by default.\n+ */\n+class ReachableNets {\n+public:\n+    void Add(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.insert(net);\n+        }\n+    }\n+\n+    void Remove(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.erase(net);\n+        }\n+    }\n+\n+    void RemoveAll() EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        m_reachable.clear();\n+    }\n+\n+    bool Contains(Network net) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        return m_reachable.count(net) > 0;\n+    }\n+\n+    bool Contains(const CNetAddr& addr) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {",
      "path": "src/netbase.h",
      "position": 48,
      "original_position": 48,
      "commit_id": "fcd4d34b9633288262ca6c70243c0e059a641120",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": 1106375231,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> If it is really desirable to have `AssertLockNotHeld()` before every `LOCK()`\r\n\r\nI think the general idea is to have a runtime lock assertion corresponding to every thread safety annotation, where it makes sense (cf the developer notes).",
      "created_at": "2023-02-15T18:02:42Z",
      "updated_at": "2023-02-15T18:02:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1107505114",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107505114"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 104,
      "original_line": 104,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107561322",
      "pull_request_review_id": 1300143653,
      "id": 1107561322,
      "node_id": "PRRC_kwDOABII585CBAtq",
      "diff_hunk": "@@ -810,3 +813,13 @@ bool IsBadPort(uint16_t port)\n     }\n     return false;\n }\n+\n+CService MaybeFlipIPv6toCJDNS(const CService& service)\n+{\n+    CService ret{service};\n+    if (ret.m_net == NET_IPV6 && ret.m_addr[0] == CJDNS_PREFIX && g_reachable_nets.Contains(NET_CJDNS)) {\n+        ret.m_net = NET_CJDNS;\n+    }\n+    return ret;\n+}\n+",
      "path": "src/netbase.cpp",
      "position": null,
      "original_position": 30,
      "commit_id": "fcd4d34b9633288262ca6c70243c0e059a641120",
      "original_commit_id": "8991ed2c6e38a35199725b6296a615733f948f87",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "e1910f6743d73a extra newline at EOF\r\n\r\nUnrelated, would it be worth avoiding a `CService` copy in the most frequent case? (maybe returning `std::optional<CService>` if flipped to CJDNS could be a good idea too)\r\n\r\n```diff\r\n CService MaybeFlipIPv6toCJDNS(const CService& service)\r\n {\r\n+    if (service.m_net != NET_IPV6 || service.m_addr[0] != CJDNS_PREFIX || !g_reachable_nets.Contains(NET_CJDNS)) return service;\r\n     CService ret{service};\r\n-    if (ret.m_net == NET_IPV6 && ret.m_addr[0] == CJDNS_PREFIX && g_reachable_nets.Contains(NET_CJDNS)) {\r\n-        ret.m_net = NET_CJDNS;\r\n-    }\r\n+    ret.m_net = NET_CJDNS;\r\n     return ret;\r\n }\r\n-\r\n```\r\n",
      "created_at": "2023-02-15T18:46:25Z",
      "updated_at": "2023-02-16T17:19:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1107561322",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107561322"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 825,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1108164412",
      "pull_request_review_id": 1300980766,
      "id": 1108164412,
      "node_id": "PRRC_kwDOABII585CDT88",
      "diff_hunk": "@@ -64,6 +65,62 @@ struct ProxyCredentials\n     std::string password;\n };\n \n+/**\n+ * List of reachable networks. Everything is reachable by default.\n+ */\n+class ReachableNets {\n+public:\n+    void Add(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.insert(net);\n+        }\n+    }\n+\n+    void Remove(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.erase(net);\n+        }\n+    }\n+\n+    void RemoveAll() EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        m_reachable.clear();\n+    }\n+\n+    bool Contains(Network net) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        return m_reachable.count(net) > 0;\n+    }\n+\n+    bool Contains(const CNetAddr& addr) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {",
      "path": "src/netbase.h",
      "position": 48,
      "original_position": 48,
      "commit_id": "fcd4d34b9633288262ca6c70243c0e059a641120",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": 1106375231,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The double lock detection inside `LOCK()` is only if `DEBUG_LOCKORDER` is defined.\r\nEdit: and `AssertLockNotHeld()` is also only being done if `DEBUG_LOCKORDER` is defined.",
      "created_at": "2023-02-16T08:38:09Z",
      "updated_at": "2023-02-16T13:39:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1108164412",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1108164412"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 104,
      "original_line": 104,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109626265",
      "pull_request_review_id": 1303161230,
      "id": 1109626265,
      "node_id": "PRRC_kwDOABII585CI42Z",
      "diff_hunk": "@@ -64,6 +65,62 @@ struct ProxyCredentials\n     std::string password;\n };\n \n+/**\n+ * List of reachable networks. Everything is reachable by default.\n+ */\n+class ReachableNets {\n+public:\n+    void Add(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.insert(net);\n+        }\n+    }\n+\n+    void Remove(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.erase(net);\n+        }\n+    }\n+\n+    void RemoveAll() EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        m_reachable.clear();\n+    }\n+\n+    bool Contains(Network net) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        return m_reachable.count(net) > 0;\n+    }\n+\n+    bool Contains(const CNetAddr& addr) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {",
      "path": "src/netbase.h",
      "position": 48,
      "original_position": 48,
      "commit_id": "fcd4d34b9633288262ca6c70243c0e059a641120",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": 1106375231,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Opened https://github.com/bitcoin/bitcoin/pull/27116 to amend the docs.",
      "created_at": "2023-02-17T10:55:49Z",
      "updated_at": "2023-02-17T10:55:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1109626265",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109626265"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 104,
      "original_line": 104,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1117187548",
      "pull_request_review_id": 1313734861,
      "id": 1117187548,
      "node_id": "PRRC_kwDOABII585Clu3c",
      "diff_hunk": "@@ -810,3 +813,13 @@ bool IsBadPort(uint16_t port)\n     }\n     return false;\n }\n+\n+CService MaybeFlipIPv6toCJDNS(const CService& service)\n+{\n+    CService ret{service};\n+    if (ret.m_net == NET_IPV6 && ret.m_addr[0] == CJDNS_PREFIX && g_reachable_nets.Contains(NET_CJDNS)) {\n+        ret.m_net = NET_CJDNS;\n+    }\n+    return ret;\n+}\n+",
      "path": "src/netbase.cpp",
      "position": null,
      "original_position": 30,
      "commit_id": "fcd4d34b9633288262ca6c70243c0e059a641120",
      "original_commit_id": "8991ed2c6e38a35199725b6296a615733f948f87",
      "in_reply_to_id": 1107561322,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I tested this and there is one copy in either case. I guess the compiler is smart enough to avoid unnecessary copies.",
      "created_at": "2023-02-24T15:28:50Z",
      "updated_at": "2023-02-24T15:28:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1117187548",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1117187548"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 825,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1118693568",
      "pull_request_review_id": 1315514513,
      "id": 1118693568,
      "node_id": "PRRC_kwDOABII585CrejA",
      "diff_hunk": "@@ -810,3 +813,13 @@ bool IsBadPort(uint16_t port)\n     }\n     return false;\n }\n+\n+CService MaybeFlipIPv6toCJDNS(const CService& service)\n+{\n+    CService ret{service};\n+    if (ret.m_net == NET_IPV6 && ret.m_addr[0] == CJDNS_PREFIX && g_reachable_nets.Contains(NET_CJDNS)) {\n+        ret.m_net = NET_CJDNS;\n+    }\n+    return ret;\n+}\n+",
      "path": "src/netbase.cpp",
      "position": null,
      "original_position": 30,
      "commit_id": "fcd4d34b9633288262ca6c70243c0e059a641120",
      "original_commit_id": "8991ed2c6e38a35199725b6296a615733f948f87",
      "in_reply_to_id": 1107561322,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Also ran both variants in nanobench and there is no difference.",
      "created_at": "2023-02-27T12:49:13Z",
      "updated_at": "2023-02-27T12:49:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1118693568",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1118693568"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 825,
      "side": "RIGHT"
    }
  ]
}