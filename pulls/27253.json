{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253",
    "id": 1274356024,
    "node_id": "PR_kwDOABII585L9SE4",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/27253",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/27253.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/27253.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
    "number": 27253,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "httpserver, rest: improving URI validation",
    "user": {
      "login": "pablomartin4btc",
      "id": 110166421,
      "node_id": "U_kgDOBpEBlQ",
      "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pablomartin4btc",
      "html_url": "https://github.com/pablomartin4btc",
      "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
      "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
      "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
      "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
      "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This PR contains an isolated enhancement of the segfault bugfix https://github.com/bitcoin/bitcoin/pull/27468 (already merged), improving the way we handle the URI validation, which will be performed only once instead of on each query parameter of a rest service endpoint.",
    "labels": [
      {
        "id": 98279177,
        "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
        "name": "RPC/REST/ZMQ",
        "color": "0052cc",
        "default": false
      },
      {
        "id": 5334691551,
        "node_id": "LA_kwDOABII588AAAABPfju3w",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
        "name": "CI failed",
        "description": "",
        "color": "cccccc",
        "default": false
      }
    ],
    "created_at": "2023-03-14T04:22:04Z",
    "updated_at": "2023-06-06T18:08:39Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "fab358dc5ab0c0bdb09125d0bbe79206b8593202",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "pablomartin4btc:http-rest-fix-segfault",
      "ref": "http-rest-fix-segfault",
      "sha": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 519258839,
        "node_id": "R_kgDOHvNC1w",
        "name": "bitcoin",
        "full_name": "pablomartin4btc/bitcoin",
        "owner": {
          "login": "pablomartin4btc",
          "id": 110166421,
          "node_id": "U_kgDOBpEBlQ",
          "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/pablomartin4btc",
          "html_url": "https://github.com/pablomartin4btc",
          "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
          "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
          "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
          "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
          "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/pablomartin4btc/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/pablomartin4btc/bitcoin",
        "archive_url": "https://api.github.com/repos/pablomartin4btc/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/pablomartin4btc/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/pablomartin4btc/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/pablomartin4btc/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/pablomartin4btc/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/pablomartin4btc/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/pablomartin4btc/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/pablomartin4btc/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/pablomartin4btc/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/pablomartin4btc/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/pablomartin4btc/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/pablomartin4btc/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/pablomartin4btc/bitcoin/events",
        "forks_url": "https://api.github.com/repos/pablomartin4btc/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/pablomartin4btc/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/pablomartin4btc/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/pablomartin4btc/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/pablomartin4btc/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/pablomartin4btc/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/pablomartin4btc/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/pablomartin4btc/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/pablomartin4btc/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/pablomartin4btc/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/pablomartin4btc/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/pablomartin4btc/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/pablomartin4btc/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/pablomartin4btc/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/pablomartin4btc/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/pablomartin4btc/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:pablomartin4btc/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/pablomartin4btc/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/pablomartin4btc/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/pablomartin4btc/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/pablomartin4btc/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/pablomartin4btc/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/pablomartin4btc/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/pablomartin4btc/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/pablomartin4btc/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/pablomartin4btc/bitcoin/hooks",
        "svn_url": "https://github.com/pablomartin4btc/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 196141,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-06T18:08:33Z",
        "created_at": "2022-07-29T15:13:24Z",
        "updated_at": "2022-08-26T13:14:41Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "8cc65f093c0cf7a27b3bfc6da90fd7a6ac8f5e48",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34325,
        "stargazers_count": 69819,
        "watchers_count": 69819,
        "size": 233879,
        "default_branch": "master",
        "open_issues_count": 626,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-07T07:29:24Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-06-07T07:34:31Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 30,
    "deletions": 27,
    "changed_files": 3,
    "commits": 1,
    "review_comments": 76,
    "comments": 40
  },
  "events": [
    {
      "event": "commented",
      "id": 1467334860,
      "node_id": "IC_kwDOABII585XdcDM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1467334860",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-14T04:22:07Z",
      "updated_at": "2023-04-23T20:32:40Z",
      "author_association": "MEMBER",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [brunoerg](https://github.com/bitcoin/bitcoin/pull/27253#pullrequestreview-1339187663) |\n| Stale ACK | [stickies-v](https://github.com/bitcoin/bitcoin/pull/27253#pullrequestreview-1352688865), [vasild](https://github.com/bitcoin/bitcoin/pull/27253#pullrequestreview-1385842606) |\n\nIf your review is incorrectly listed, please react with 👎 to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1467334860",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8738886585,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAII4NO5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8738886585",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-14T04:25:00Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8738986453,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAII4lnV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8738986453",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-14T04:49:19Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8739430566,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAII6SCm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8739430566",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-14T06:05:29Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8739626799,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAII7B8v",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8739626799",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-14T06:39:57Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8739753436,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAII7g3c",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8739753436",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-14T06:59:44Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8739760819,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAII7iqz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8739760819",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-14T07:00:49Z"
    },
    {
      "event": "labeled",
      "id": 8739969715,
      "node_id": "LE_lADOABII585guGd5zwAAAAII8Vqz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8739969715",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-14T07:28:20Z",
      "label": {
        "name": "RPC/REST/ZMQ",
        "color": "0052cc"
      }
    },
    {
      "event": "review_requested",
      "id": 8739970306,
      "node_id": "RRE_lADOABII585guGd5zwAAAAII8V0C",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8739970306",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-14T07:28:25Z",
      "requested_reviewer": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "reviewed",
      "id": 1339040045,
      "node_id": "PRR_kwDOABII585P0CEt",
      "url": null,
      "actor": null,
      "commit_id": "ec14b3cfcc3dce9eb70e0a23fea6cb60cd8d4b61",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK, nice catch. \r\n\r\nAs for the approach, I think there is a simpler one that requires no overhead for every endpoint using `GetQueryParameter()`.  We could move `uri_parsed` to a private `HTTPRequest` member instead of a local `GetQueryParameterFromUri` variable, and have `http_request_cb` set it (for example after [checking unknown HTTP methods](https://github.com/bitcoin/bitcoin/blob/460e394625fab2942748aaeec9be31f460f91c58/src/httpserver.cpp#L248)) - or return an early 400 if null. Subsequently, we can assume that `uri_parsed` is valid and non-null, simplifying the rest code (and avoiding multiple `evhttp_uri_parse` calls when accessing multiple query params). What do you think?",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#pullrequestreview-1339040045",
      "submitted_at": "2023-03-14T11:19:45Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
    },
    {
      "event": "reviewed",
      "id": 1339187663,
      "node_id": "PRR_kwDOABII585P0mHP",
      "url": null,
      "actor": null,
      "commit_id": "ec14b3cfcc3dce9eb70e0a23fea6cb60cd8d4b61",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK",
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#pullrequestreview-1339187663",
      "submitted_at": "2023-03-14T12:42:29Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
    },
    {
      "event": "commented",
      "id": 1468854086,
      "node_id": "IC_kwDOABII585XjO9G",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1468854086",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-14T21:14:00Z",
      "updated_at": "2023-03-14T21:14:00Z",
      "author_association": "CONTRIBUTOR",
      "body": "> What do you think?\r\n\r\nAs @stickies-v explained to me outside this PR: \"... by moving the uri parsing to http_request_cb we're failing super early, and even when the query parameter would never be called by the endpoint... \", this makes more sense.\r\n\r\nI'm working on this approach which I think it's better as well.",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1468854086",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "mentioned",
      "id": 8748575113,
      "node_id": "MEE_lADOABII585guGd5zwAAAAIJdKmJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8748575113",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-14T21:14:01Z"
    },
    {
      "event": "subscribed",
      "id": 8748575121,
      "node_id": "SE_lADOABII585guGd5zwAAAAIJdKmR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8748575121",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-14T21:14:01Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8770269716,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIKv7IU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8770269716",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-16T17:34:44Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8770420601,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIKwf95",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8770420601",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-16T17:51:07Z"
    },
    {
      "event": "commented",
      "id": 1472457091,
      "node_id": "IC_kwDOABII585Xw-mD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1472457091",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-16T17:59:08Z",
      "updated_at": "2023-03-16T17:59:08Z",
      "author_association": "CONTRIBUTOR",
      "body": "Updated changes:\r\n- move the validation/parsing logic up in the stack as soon as the request is initiated even before the work item thread is created\r\n- updated unit and functional tests",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1472457091",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "reviewed",
      "id": 1344413373,
      "node_id": "PRR_kwDOABII585QIh69",
      "url": null,
      "actor": null,
      "commit_id": "213554cb97c9c89bca56b56e8d0af473102e3061",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#pullrequestreview-1344413373",
      "submitted_at": "2023-03-16T18:12:13Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8771576944,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIK06Rw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8771576944",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-16T19:56:25Z"
    },
    {
      "event": "commented",
      "id": 1472733580,
      "node_id": "IC_kwDOABII585XyCGM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1472733580",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-16T21:01:36Z",
      "updated_at": "2023-03-16T21:01:56Z",
      "author_association": "MEMBER",
      "body": "https://cirrus-ci.com/task/4643666984173568:\r\n```bash\r\n test  2023-03-16T20:06:03.567000Z TestFramework (ERROR): Unexpected exception caught during testing \r\n                                   Traceback (most recent call last):\r\n                                     File \"/private/var/folders/v7/fs2b0v3s0lz1n57gj9y4xb5m0000gn/T/cirrus-ci-build/ci/scratch/build/bitcoin-arm64-apple-darwin/test/functional/test_framework/test_framework.py\", line 132, in main\r\n                                       self.run_test()\r\n                                     File \"/private/var/folders/v7/fs2b0v3s0lz1n57gj9y4xb5m0000gn/T/cirrus-ci-build/ci/scratch/build/bitcoin-arm64-apple-darwin/test/functional/interface_rest.py\", line 372, in run_test\r\n                                       resp = self.test_rest_request(\"/mempool/contents\", ret_type=RetType.OBJ, status=400, query_params={\"verbose\": \"true\", \"mempool_sequence\": \"true\"})\r\n                                     File \"/private/var/folders/v7/fs2b0v3s0lz1n57gj9y4xb5m0000gn/T/cirrus-ci-build/ci/scratch/build/bitcoin-arm64-apple-darwin/test/functional/interface_rest.py\", line 86, in test_rest_request\r\n                                       assert_equal(resp.status, status.value)\r\n                                   AttributeError: 'int' object has no attribute 'value'\r\n```",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1472733580",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "commented",
      "id": 1472748621,
      "node_id": "IC_kwDOABII585XyFxN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1472748621",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-16T21:13:40Z",
      "updated_at": "2023-03-16T21:26:15Z",
      "author_association": "CONTRIBUTOR",
      "body": "@fanquake that's something perhaps I've introduced with my last push, I'm on it, thanks. Weird, it's not failing locally for me:\r\n```\r\n$ ./test/functional/interface_rest.py \r\n2023-03-16T21:14:11.025000Z TestFramework (INFO): PRNG seed is: 326626678636704986\r\n2023-03-16T21:14:11.026000Z TestFramework (INFO): Initializing test directory /tmp/bitcoin_func_test_vwqauy2g\r\n2023-03-16T21:14:11.812000Z TestFramework (INFO): Broadcast test transaction and sync nodes\r\n2023-03-16T21:14:12.865000Z TestFramework (INFO): Test the /tx URI\r\n2023-03-16T21:14:12.876000Z TestFramework (INFO): Query an unspent TXO using the /getutxos URI\r\n2023-03-16T21:14:12.934000Z TestFramework (INFO): Query a spent TXO using the /getutxos URI\r\n2023-03-16T21:14:12.935000Z TestFramework (INFO): Query two TXOs using the /getutxos URI\r\n2023-03-16T21:14:12.938000Z TestFramework (INFO): Query the TXOs using the /getutxos URI with a binary response\r\n2023-03-16T21:14:12.939000Z TestFramework (INFO): Test the /getutxos URI with and without /checkmempool\r\n2023-03-16T21:14:14.065000Z TestFramework (INFO): Test the /block, /blockhashbyheight, /headers, and /blockfilterheaders URIs\r\n2023-03-16T21:14:15.221000Z TestFramework (INFO): Test tx inclusion in the /mempool and /block URIs\r\n2023-03-16T21:14:16.326000Z TestFramework (INFO): Test the /chaininfo URI\r\n2023-03-16T21:14:16.334000Z TestFramework (INFO): Test compatibility of deprecated and newer endpoints\r\n2023-03-16T21:14:16.341000Z TestFramework (INFO): Test the /deploymentinfo URI\r\n2023-03-16T21:14:16.404000Z TestFramework (INFO): Stopping nodes\r\n2023-03-16T21:14:16.611000Z TestFramework (INFO): Cleaning up /tmp/bitcoin_func_test_vwqauy2g on exit\r\n2023-03-16T21:14:16.612000Z TestFramework (INFO): Tests successful\r\n\r\n```\r\n\r\nI think this was the issue: Python Enums were introduced in version 3.4, and the value attribute was added in version 3.6. I'm fixing it.",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1472748621",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "mentioned",
      "id": 8772160797,
      "node_id": "MEE_lADOABII585guGd5zwAAAAIK3I0d",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8772160797",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-16T21:13:40Z"
    },
    {
      "event": "subscribed",
      "id": 8772160804,
      "node_id": "SE_lADOABII585guGd5zwAAAAIK3I0k",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8772160804",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-16T21:13:41Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8772211757,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIK3VQt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8772211757",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-16T21:21:32Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8796578904,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIMUSRY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8796578904",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-20T16:09:00Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8796681421,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIMUrTN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8796681421",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-20T16:18:07Z"
    },
    {
      "event": "commented",
      "id": 1476552873,
      "node_id": "IC_kwDOABII585YAmip",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476552873",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-20T16:24:53Z",
      "updated_at": "2023-03-20T16:24:53Z",
      "author_association": "CONTRIBUTOR",
      "body": "Updated changes:\r\n- Updated the code with a new workaround to avoid failures on unit tests (`httpserver_tests`).\r\n\r\nThanks @stickies-v for your prompt response and your support on quick workarounds on issues raised.",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1476552873",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "mentioned",
      "id": 8796754561,
      "node_id": "MEE_lADOABII585guGd5zwAAAAIMU9KB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8796754561",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-20T16:24:54Z"
    },
    {
      "event": "subscribed",
      "id": 8796754596,
      "node_id": "SE_lADOABII585guGd5zwAAAAIMU9Kk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8796754596",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-20T16:24:54Z"
    },
    {
      "event": "reviewed",
      "id": 1348929370,
      "node_id": "PRR_kwDOABII585QZwda",
      "url": null,
      "actor": null,
      "commit_id": "9b0a0dc92308fa069ffc03ebe93eff2de317d59a",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "nit: the commit message could benefit from additional information on the nature of the bug and how it's fixed",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#pullrequestreview-1348929370",
      "submitted_at": "2023-03-20T16:26:45Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
    },
    {
      "event": "reviewed",
      "id": 1349035814,
      "node_id": "PRR_kwDOABII585QaKcm",
      "url": null,
      "actor": null,
      "commit_id": "9b0a0dc92308fa069ffc03ebe93eff2de317d59a",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#pullrequestreview-1349035814",
      "submitted_at": "2023-03-20T17:01:26Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8797399019,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIMXafr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8797399019",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-20T17:28:22Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8797545359,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIMX-OP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8797545359",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-20T17:43:43Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8797703484,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIMYk08",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8797703484",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-20T18:01:47Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8798574814,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIMb5je",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8798574814",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-20T19:43:37Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8799398785,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIMfCuB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8799398785",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-20T21:28:27Z"
    },
    {
      "event": "reviewed",
      "id": 1350217812,
      "node_id": "PRR_kwDOABII585QerBU",
      "url": null,
      "actor": null,
      "commit_id": "36be160a9b4863c59c6be4bc41d6ffa29903da17",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Approach ACK 36be160a9",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#pullrequestreview-1350217812",
      "submitted_at": "2023-03-21T12:12:19Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8809339970,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAINE9xC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8809339970",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-21T19:05:01Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8809463681,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAINFb-B",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8809463681",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-21T19:21:07Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8809981185,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAINHaUB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8809981185",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-21T20:29:20Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8810125620,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAINH9k0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8810125620",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-21T20:49:44Z"
    },
    {
      "event": "reviewed",
      "id": 1352688865,
      "node_id": "PRR_kwDOABII585QoGTh",
      "url": null,
      "actor": null,
      "commit_id": "729287530e458febf32e01e542a36e7be4a74fbf",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK 729287530e458febf32e01e542a36e7be4a74fbf\r\n\r\nAlso checked that the new functional test fails without the patch and succeeds with the patch.\r\n\r\nbut I think the commit message [should be updated](https://github.com/bitcoin/bitcoin/pull/27253#pullrequestreview-1348929370) to better describe the bug, the fix, and the behaviour change introduced",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#pullrequestreview-1352688865",
      "submitted_at": "2023-03-22T14:18:17Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
    },
    {
      "event": "reviewed",
      "id": 1352757174,
      "node_id": "PRR_kwDOABII585QoW-2",
      "url": null,
      "actor": null,
      "commit_id": "729287530e458febf32e01e542a36e7be4a74fbf",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#pullrequestreview-1352757174",
      "submitted_at": "2023-03-22T14:44:12Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
    },
    {
      "event": "commented",
      "id": 1479758216,
      "node_id": "IC_kwDOABII585YM1GI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1479758216",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-22T15:15:08Z",
      "updated_at": "2023-03-22T15:15:08Z",
      "author_association": "CONTRIBUTOR",
      "body": "> but I think the commit message [should be updated](https://github.com/bitcoin/bitcoin/pull/27253#pullrequestreview-1348929370) to better describe the bug, the fix, and the behaviour change introduced\r\n\r\nYes, I have that pending to do asap.",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1479758216",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8823715673,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIN7zdZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8823715673",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-23T06:21:44Z"
    },
    {
      "event": "commented",
      "id": 1480921094,
      "node_id": "IC_kwDOABII585YRRAG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1480921094",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-23T10:11:39Z",
      "updated_at": "2023-03-23T10:11:39Z",
      "author_association": "MEMBER",
      "body": "Concept ACK\r\n\r\nThe code as of 8bdea6316c looks ok, but it seems to be mixing the fix with an optimization to only parse once (instead of every time a parameter is retrieved). It would be better to have two separate commits - one with the non-functional optimization and one with the fix.\r\n\r\nIdea: I think it would be better to disallow the creation of `HTTPRequest` if the request is invalid/unparsable. This would avoid having a `nullptr` member `m_uri_parsed` and having to handle the nullness. Would it work to check the sanity in the `HTTPRequest` constructor and if a problem is detected, then `throw` some object that contains an error code and a string (to convey e.g. `HTTP_BAD_REQUEST, \"Invalid URI\"`)? Then catch this in `http_request_cb()` and return early.\r\n\r\nThere are other similar bugs in this code which exist in `master` and remain unfixed by this PR:\r\n* `evhttp_request_get_uri()` may return `nullptr` which we pass unconditionally to `evhttp_uri_parse()` which will crash on `nullptr`.\r\n* In `HTTPRequest::GetURI()` we implicitly create `std::string` from the return value of `evhttp_request_get_uri()`. Creating a string from `nullptr` is undefined behavior.\r\n\r\nI am not sure under what circumstances would `evhttp_request_get_uri()` return `nullptr`, but it is not documented that it will never return `nullptr` and also [its source code](https://github.com/libevent/libevent/blob/6e1826dd7730330536e1838824bddd0d4d8adb0d/http.c#L4465-L4469) implies that it can, so better safe than sorry. I don't think fixing those is a requirement for this PR. If they are not, then I will follow up with a subsequent PR.\r\n",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1480921094",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "commented",
      "id": 1481163868,
      "node_id": "IC_kwDOABII585YSMRc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1481163868",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-23T13:06:55Z",
      "updated_at": "2023-03-23T13:06:55Z",
      "author_association": "MEMBER",
      "body": "> It would be better to have two separate commits - one with the non-functional optimization and one with the fix.\r\n\r\nAgreed, that could probably be improved.\r\n\r\n> Idea: I think it would be better to disallow the creation of HTTPRequest if the request is invalid/unparsable.\r\n\r\nThis was the first approach I considered, but I think it's better not to. A request with an invalid URI is still a request, and thus it should be representable. Moving the URI validation to the constructor feels like a shortcut and coupling we don't need to take?\r\n\r\n> `evhttp_request_get_uri()` may return `nullptr`\r\n\r\nLike you, I don't see how that can happen in practice but can never hurt to make more robust. I think it's orthogonal to this PR but happy to review your PR - feel free to ping me?",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1481163868",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "commented",
      "id": 1481229146,
      "node_id": "IC_kwDOABII585YScNa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1481229146",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-23T13:48:03Z",
      "updated_at": "2023-03-23T13:48:03Z",
      "author_association": "MEMBER",
      "body": "> Moving the URI validation to the constructor feels like a shortcut and coupling we don't need to take?\r\n\r\nI do not have a strong opinion. This PR moved the parsing to the constructor, but left the checking of the parsing result for later. Now the code looks like (simplified):\r\n\r\n```cpp\r\n// constructs the object, does the parsing, leaves null m_uri_parsed if it fails\r\nHTTPRequest hreq(...);\r\n\r\nif (hreq.m_uri_parsed == nullptr) {\r\n    handle error and dispose hreq\r\n}\r\n\r\n// elsewhere a soft assert is needed to ensure hreq.m_uri_parsed != nullptr\r\n```\r\n\r\nI find the following more robust and compact:\r\n\r\n```cpp\r\nstd::unique_ptr<HTTPRequest> hreq;\r\ntry {\r\n    hreq = std::make_unique<HTTPRequest>(...);\r\n} catch (e) {\r\n    handle error e.code + e.msg\r\n}\r\n\r\n// no need for further error handling or checking here or elsewhere\r\n```\r\n\r\n> happy to review your PR - feel free to ping me\r\n\r\nSure, lets first see what happens with this PR. Maybe @pablomartin4btc would decide to check the return value of `evhttp_request_get_uri()` in this PR.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1481229146",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "mentioned",
      "id": 8827735035,
      "node_id": "MEE_lADOABII585guGd5zwAAAAIOLIv7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8827735035",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-23T13:48:04Z"
    },
    {
      "event": "subscribed",
      "id": 8827735066,
      "node_id": "SE_lADOABII585guGd5zwAAAAIOLIwa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8827735066",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-23T13:48:04Z"
    },
    {
      "event": "commented",
      "id": 1481390885,
      "node_id": "IC_kwDOABII585YTDsl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1481390885",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-23T15:21:47Z",
      "updated_at": "2023-03-23T15:21:47Z",
      "author_association": "CONTRIBUTOR",
      "body": "> >  It would be better to have two separate commits - one with the non-functional optimization and one with the fix.\r\n\r\n> Agreed, that could probably be improved.\r\n\r\nI can do this.\r\n\r\n\r\n> > Sure, lets first see what happens with this PR. Maybe @pablomartin4btc would decide to check the return value of evhttp_request_get_uri() in this PR.\r\n\r\nIt was under my radar and I thought to do it in a follow up, but I could do it here if it's more practical (need to update title and description of this PR).\r\n\r\n\r\n> > I find the following more robust and compact:\r\n```\r\nstd::unique_ptr<HTTPRequest> hreq;\r\ntry {\r\n    hreq = std::make_unique<HTTPRequest>(...);\r\n} catch (e) {\r\n    handle error e.code + e.msg\r\n}\r\n\r\n// no need for further error handling or checking here or elsewhere\r\n\r\n```\r\n\r\nI like this approach, let me check and play a bit with the code as if I need to raise an exception or can return the `HTTP_BAD_REQUEST` from there, and how the consumer (rest obj) would behave/ interact with it.\r\n",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1481390885",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "mentioned",
      "id": 8828863910,
      "node_id": "MEE_lADOABII585guGd5zwAAAAIOPcWm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8828863910",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-23T15:21:47Z"
    },
    {
      "event": "subscribed",
      "id": 8828863942,
      "node_id": "SE_lADOABII585guGd5zwAAAAIOPcXG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8828863942",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-23T15:21:47Z"
    },
    {
      "event": "milestoned",
      "id": 8831452676,
      "node_id": "MIE_lADOABII585guGd5zwAAAAIOZUYE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8831452676",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-23T19:17:18Z",
      "milestone": {
        "title": "25.0"
      }
    },
    {
      "event": "commented",
      "id": 1482465778,
      "node_id": "IC_kwDOABII585YXKHy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1482465778",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-24T09:01:57Z",
      "updated_at": "2023-03-24T09:01:57Z",
      "author_association": "MEMBER",
      "body": "If you decide to go this way, something like this should work:\r\n\r\n```cpp\r\n// in HTTPRequest::HTTPRequest():\r\nif (cannot parse uri) {\r\n    const int code{HTTP_BAD_METHOD};\r\n    const char* what{\"Invalid URI\"};\r\n    WriteReply(code, what);\r\n    throw std::system_error(code, std::generic_category(), what);\r\n}\r\n\r\n// in http_request_cb():\r\nstd::unique_ptr<HTTPRequest> hreq;\r\ntry {\r\n    hreq = std::make_unique<HTTPRequest>(...);\r\n} catch (const std::system_error& e) {\r\n    LogPrint(BCLog::HTTP, \"%d %s\\n\", e.code().value(), e.what());\r\n    return;\r\n}",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1482465778",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8844543681,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIPLQbB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8844543681",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-25T04:01:36Z"
    },
    {
      "event": "commented",
      "id": 1483714301,
      "node_id": "IC_kwDOABII585Yb679",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1483714301",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-25T04:12:27Z",
      "updated_at": "2023-03-25T04:12:27Z",
      "author_association": "CONTRIBUTOR",
      "body": "Updated changes:\r\n\r\n- Moving the uri parsing validation from the http_request_cb to the HTTPRequest constructor, while doing this realised that it's better to validate the result of `evhttp_request_get_uri()` also at that time.\r\n\r\n@vasild, @stickies-v: please let me know what you think and I'll update title & description of the PR and will separate the code in 2 commits (proper fix & non-functional optimisation).\r\n",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1483714301",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "mentioned",
      "id": 8844558839,
      "node_id": "MEE_lADOABII585guGd5zwAAAAIPLUH3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8844558839",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-25T04:12:27Z"
    },
    {
      "event": "subscribed",
      "id": 8844558841,
      "node_id": "SE_lADOABII585guGd5zwAAAAIPLUH5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8844558841",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-25T04:12:27Z"
    },
    {
      "event": "mentioned",
      "id": 8844558844,
      "node_id": "MEE_lADOABII585guGd5zwAAAAIPLUH8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8844558844",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-25T04:12:27Z"
    },
    {
      "event": "subscribed",
      "id": 8844558845,
      "node_id": "SE_lADOABII585guGd5zwAAAAIPLUH9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8844558845",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-25T04:12:28Z"
    },
    {
      "event": "commented",
      "id": 1483882249,
      "node_id": "IC_kwDOABII585Ycj8J",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1483882249",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-25T17:52:23Z",
      "updated_at": "2023-03-27T04:26:37Z",
      "author_association": "CONTRIBUTOR",
      "body": "Regarding CI failures:\r\n\r\n- `./test/functional/wallet_create_tx.py` passes locally, actioned manually re-run and it passes too.\r\n- checking the fuzzer one `cirrus-ci-build/ci/scratch/qa-assets/fuzz_seed_corpus/http_request\" failed with exit code 77` - `fuzz: httpserver.cpp:618: void HTTPRequest::WriteReply(int, const std::string &): Assertion '!replySent && req' failed`. (crash-75d231d5e022cc38377bbbf4549058d37b7c59a3)\r\n     - it passes locally when I perform manually (following [fuzzing instructions](https://github.com/bitcoin/bitcoin/blob/master/doc/fuzzing.md)):\r\n```\r\nFUZZ=process_message ./src/test/fuzz/fuzz ../qa-assets/fuzz_seed_corpus/http_request/75d231d5e022cc38377bbbf4549058d37b7c59a3\r\nprocess_message: succeeded against 1 files in 0s.\r\n```",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1483882249",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "commented",
      "id": 1484668108,
      "node_id": "IC_kwDOABII585YfjzM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1484668108",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-27T07:51:44Z",
      "updated_at": "2023-03-27T07:51:44Z",
      "author_association": "MEMBER",
      "body": "> FUZZ=process_message ./src/test/fuzz/fuzz ../qa-assets/fuzz_seed_corpus/http_request/75d231d5e022cc38377bbbf4549058d37b7c59a3\r\n\r\nYou'll need to set the correct fuzz target:\r\n\r\n\r\n`FUZZ=http_request ./src/test/fuzz/fuzz ../qa-assets/fuzz_seed_corpus/http_request/75d231d5e022cc38377bbbf4549058d37b7c59a3`",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1484668108",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "reviewed",
      "id": 1358692325,
      "node_id": "PRR_kwDOABII585Q-__l",
      "url": null,
      "actor": null,
      "commit_id": "0aa0626c502b70244da8dfd519612635a8e90f3b",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#pullrequestreview-1358692325",
      "submitted_at": "2023-03-27T11:11:26Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8860402128,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIQHwHQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8860402128",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-28T03:44:06Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8860445743,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIQH6wv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8860445743",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-28T03:55:58Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8860838063,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIQJaiv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8860838063",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-28T05:22:09Z"
    },
    {
      "event": "commented",
      "id": 1486236260,
      "node_id": "IC_kwDOABII585Ylipk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1486236260",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-28T05:24:39Z",
      "updated_at": "2023-03-28T20:24:55Z",
      "author_association": "CONTRIBUTOR",
      "body": "Working on functional failure`interface_rest`on the invalid uri case, something didn't like from latest changes.\r\n\r\nI think I've found the issue!\r\n\r\nBoth, .py and fuzz were getting the same failure `Assertion '!replySent && req' failed`.\r\n \r\nThe problem for the functional was that`GeetPeer()`was called while throwing the runtime exception, so moved it before.\r\n\r\nOn the fuzz `./src/test/fuzz/test http_request.cpp`, the issue is that the test itself is passing `replySent `as `true`, so the `WriteReply()` call on the httpserver constructor when the uri_parse is invalid. I'm investigating the rest of the test if we need to change anything there. Also, not sure, in which cases we need to create an instance of the `HTTPRequest` obj passing `replySent` as `true`, I didn't find a case in the entire code, unless as in the current fuzz we are talking about. ",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1486236260",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8868114417,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIQlK_x",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8868114417",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-28T17:40:33Z"
    },
    {
      "event": "reviewed",
      "id": 1361896588,
      "node_id": "PRR_kwDOABII585RLOSM",
      "url": null,
      "actor": null,
      "commit_id": "1c278adc1af97f5140a12a5d04a6232cd9966201",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#pullrequestreview-1361896588",
      "submitted_at": "2023-03-28T20:58:12Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
    },
    {
      "event": "commented",
      "id": 1487585480,
      "node_id": "IC_kwDOABII585YqsDI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1487585480",
      "actor": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-28T21:00:49Z",
      "updated_at": "2023-03-28T21:00:49Z",
      "author_association": "MEMBER",
      "body": "> On the fuzz ./src/test/fuzz/test http_request.cpp, the issue is that the test itself is passing replySent as true, so the WriteReply() call on the httpserver constructor when the uri_parse is invalid. I'm investigating the rest of the test if we need to change anything there. Also, not sure, in which cases we need to create an instance of the HTTPRequest obj passing replySent as true, I didn't find a case in the entire code, unless as in the current fuzz we are talking about.\r\n\r\nTry to set it to `false` since we are calling `ReadBody()` to read and process the result.",
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1487585480",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "commented",
      "id": 1487679446,
      "node_id": "IC_kwDOABII585YrC_W",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1487679446",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-28T22:22:28Z",
      "updated_at": "2023-03-28T22:22:28Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Try to set it to `false` since we are calling `ReadBody()` to read and process the result.\r\n\r\nI think we need to re-think this fuzz test (`http_request.cpp`), as due to the new approach we have these issues with it:\r\n- `replySent` is set to `true` from test and it will fail in WriteReply() as assert(!replySent && req);.\r\n- even we set the above to `false`, later during `GetPeer()` as the connection is null (we can see in the fuzz test checking later `assert(service.ToStringAddrPort() == \"[::]:0\");`) the assignment of GetPeer().ToStringAddr(); will result into `<incomplete type>` and it will error when throwing the runtime exception.\r\n- but even we solve the above issues going around the code, now as in the HTTPRequest constructor we are raising the runtime exception, as there's no call into `http_request_cb` (because there's no InitHTTPServer) nothing is catching the error and the test will fail unless we catch the error but then we won't be able to perform all the other checks the fuzz test does. ",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1487679446",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "commented",
      "id": 1490015098,
      "node_id": "IC_kwDOABII585Yz9N6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1490015098",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-30T09:50:11Z",
      "updated_at": "2023-03-30T09:54:16Z",
      "author_association": "MEMBER",
      "body": "Since the `replySent` parameter of the `HTTPRequest` constructor is used only from the tests, I would suggest to remove it and adjust the test as needed. I believe the tests should be testing the same API that is used by the real code, otherwise they may end up testing scenarios that never happen in real code and missing real code scenarios.\r\n\r\nFurthermore that `replySent = true` from the test is a hack to workaround another problem. It is actually a lie - the reply has not been sent. The problem being workedaround is that the `WriteReply()` will be called from the `HTTPRequest` destructor from the test function, after `ev*free()` functions have freed the buffers and it will crash due to use-after-free. A convenient way to call the destructor before `ev*free()` is to put it in a narrower scope:\r\n\r\n```cpp\r\n{\r\n    HTTPRequest http_request;\r\n    ...\r\n}\r\nevbuffer_free(evbuf);\r\nevhttp_request_free(evreq);\r\n```\r\n\r\nThat's cool because we need to `try/catch` nevertheless. Here is it:\r\n\r\n<details>\r\n<summary>Remove test-only parameter from HTTPRequest constructor and try/catch from the fuzz test</summary>\r\n\r\n```diff\r\ndiff --git i/src/httpserver.cpp w/src/httpserver.cpp\r\nindex 99cf147866..3e97d621ce 100644\r\n--- i/src/httpserver.cpp\r\n+++ w/src/httpserver.cpp\r\n@@ -541,17 +541,17 @@ void HTTPEvent::trigger(struct timeval* tv)\r\n {\r\n     if (tv == nullptr)\r\n         event_active(ev, 0, 0); // immediately trigger event in main thread\r\n     else\r\n         evtimer_add(ev, tv); // trigger after timeval passed\r\n }\r\n-HTTPRequest::HTTPRequest(struct evhttp_request* _req, bool _replySent) :\r\n+HTTPRequest::HTTPRequest(struct evhttp_request* _req) :\r\n         req{_req},\r\n         m_uri{evhttp_request_get_uri(req)},\r\n         m_uri_parsed{m_uri != nullptr && m_uri[0] != '\\0' ? evhttp_uri_parse(m_uri) : nullptr},\r\n-        replySent{_replySent}\r\n+        replySent{false}\r\n {\r\n     if (m_uri_parsed == nullptr) {\r\n         const char* err{\"Invalid URI\"};\r\n         const std::string peerAddress{GetPeer().ToStringAddr()};\r\n         WriteReply(HTTP_BAD_REQUEST, err);\r\n         throw std::runtime_error(\r\ndiff --git i/src/httpserver.h w/src/httpserver.h\r\nindex 00b22bdadc..56a4d89d22 100644\r\n--- i/src/httpserver.h\r\n+++ w/src/httpserver.h\r\n@@ -62,13 +62,13 @@ private:\r\n     const char* const m_uri;\r\n     /// The parsed URI, as returned by `evhttp_uri_parse()`. Will never be `nullptr`.\r\n     evhttp_uri* const m_uri_parsed;\r\n     bool replySent;\r\n \r\n public:\r\n-    explicit HTTPRequest(struct evhttp_request* req, bool replySent = false);\r\n+    explicit HTTPRequest(struct evhttp_request* req);\r\n     ~HTTPRequest();\r\n \r\n     enum RequestMethod {\r\n         UNKNOWN,\r\n         GET,\r\n         POST,\r\ndiff --git i/src/test/fuzz/http_request.cpp w/src/test/fuzz/http_request.cpp\r\nindex 9928c4a1ab..258de7c4cd 100644\r\n--- i/src/test/fuzz/http_request.cpp\r\n+++ w/src/test/fuzz/http_request.cpp\r\n@@ -44,23 +44,26 @@ FUZZ_TARGET(http_request)\r\n         evhttp_parse_firstline_(evreq, evbuf) != 1 || evhttp_parse_headers_(evreq, evbuf) != 1) {\r\n         evbuffer_free(evbuf);\r\n         evhttp_request_free(evreq);\r\n         return;\r\n     }\r\n \r\n-    HTTPRequest http_request{evreq, true};\r\n-    const HTTPRequest::RequestMethod request_method = http_request.GetRequestMethod();\r\n-    (void)RequestMethodString(request_method);\r\n-    (void)http_request.GetURI();\r\n-    (void)http_request.GetHeader(\"Host\");\r\n-    const std::string header = fuzzed_data_provider.ConsumeRandomLengthString(16);\r\n-    (void)http_request.GetHeader(header);\r\n-    (void)http_request.WriteHeader(header, fuzzed_data_provider.ConsumeRandomLengthString(16));\r\n-    (void)http_request.GetHeader(header);\r\n-    const std::string body = http_request.ReadBody();\r\n-    assert(body.empty());\r\n-    const CService service = http_request.GetPeer();\r\n-    assert(service.ToStringAddrPort() == \"[::]:0\");\r\n+    try {\r\n+        HTTPRequest http_request{evreq};\r\n+        const HTTPRequest::RequestMethod request_method = http_request.GetRequestMethod();\r\n+        (void)RequestMethodString(request_method);\r\n+        (void)http_request.GetURI();\r\n+        (void)http_request.GetHeader(\"Host\");\r\n+        const std::string header = fuzzed_data_provider.ConsumeRandomLengthString(16);\r\n+        (void)http_request.GetHeader(header);\r\n+        (void)http_request.WriteHeader(header, fuzzed_data_provider.ConsumeRandomLengthString(16));\r\n+        (void)http_request.GetHeader(header);\r\n+        const std::string body = http_request.ReadBody();\r\n+        assert(body.empty());\r\n+        const CService service = http_request.GetPeer();\r\n+        assert(service.ToStringAddrPort() == \"[::]:0\");\r\n+    } catch (const std::runtime_error&) {\r\n+    }\r\n \r\n     evbuffer_free(evbuf);\r\n     evhttp_request_free(evreq);\r\n }\r\n```\r\n</details>\r\n\r\n> ... but then we won't be able to perform all the other checks the fuzz test does.\r\n\r\nI think that is fine because if the input is such that `HTTPRequest` constructor throws, then we need not to test those because they will never happen in the real code either.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1490015098",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "commented",
      "id": 1490626840,
      "node_id": "IC_kwDOABII585Y2SkY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1490626840",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-30T16:55:40Z",
      "updated_at": "2023-03-30T19:14:39Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I think that is fine because if the input is such that `HTTPRequest` constructor throws, then we need not to test those because they will never happen in the real code either.\r\n\r\nThanks @vasild, it makes sense what you are saying, I'm still playing with some options and will get back to you soon.\r\n```\r\n$ FUZZ=http_request ./src/test/fuzz/fuzz ../qa-assets/fuzz_seed_corpus/http_request/75d231d5e022cc38377bbbf4549058d37b7c59a3\r\nINFO: Seed: 2298450543\r\nINFO: Loaded 1 modules   (250057 inline 8-bit counters): 250057 [0x565010b53868, 0x565010b90931), \r\nINFO: Loaded 1 PC tables (250057 PCs): 250057 [0x565010b90938,0x565010f615c8), \r\n./src/test/fuzz/fuzz: Running 1 inputs 1 time(s) each.\r\nRunning: ../qa-assets/fuzz_seed_corpus/http_request/75d231d5e022cc38377bbbf4549058d37b7c59a3\r\nExecuted ../qa-assets/fuzz_seed_corpus/http_request/75d231d5e022cc38377bbbf4549058d37b7c59a3 in 2 ms\r\n***\r\n*** NOTE: fuzzing was not performed, you have only\r\n***       executed the target code on a fixed set of inputs.\r\n***\r\n\r\n```",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1490626840",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "mentioned",
      "id": 8889849631,
      "node_id": "MEE_lADOABII585guGd5zwAAAAIR4Fcf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8889849631",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-30T16:55:41Z"
    },
    {
      "event": "subscribed",
      "id": 8889849649,
      "node_id": "SE_lADOABII585guGd5zwAAAAIR4Fcx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8889849649",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-30T16:55:41Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8894201677,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAISIr9N",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8894201677",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-31T05:39:30Z"
    },
    {
      "event": "commented",
      "id": 1491325361,
      "node_id": "IC_kwDOABII585Y49Gx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1491325361",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-31T05:39:49Z",
      "updated_at": "2023-03-31T06:11:50Z",
      "author_association": "CONTRIBUTOR",
      "body": "Updated changes:\r\n- Fixed fuzz test failing.\r\n\r\n\r\n> Since the replySent parameter of the HTTPRequest constructor is used only from the tests, I would suggest to remove it and adjust the test as needed.\r\n\r\n@vasild I left open the possibility of passing the `replySent` arg as `true`, this way we can \"build\" a \"safer\" \"invalid\" request as @stickies-v mentioned above, so we can test the almost entire protocol of `HTTPRequest` if that was originally the intention of this fuzz.\r\nThen, as part of the above, if `replySent` is passed as `true`, the constructor won't call the `libevent` functions in there but as `m_uri_parsed` is null (in a real use case we won't see this as the exception will be thrown), we need to guard the free of `m_uri_parsed` at the `httpserver` destructor otherwise produces a segfault.\r\n\r\nI've checked another option that would be to create a mock `HTTPRequest` but I had to create another constructor to avoid calling the default and I preferred not to touch the `HTTPRequest` class. I think leaving the `replySent` arg to be optionally passed on the constructor and the fuzz test behaviour as the original commit would be ok for now unless there are other objections.",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1491325361",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "mentioned",
      "id": 8894203080,
      "node_id": "MEE_lADOABII585guGd5zwAAAAISIsTI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8894203080",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-31T05:39:49Z"
    },
    {
      "event": "subscribed",
      "id": 8894203089,
      "node_id": "SE_lADOABII585guGd5zwAAAAISIsTR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8894203089",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-31T05:39:49Z"
    },
    {
      "event": "mentioned",
      "id": 8894203096,
      "node_id": "MEE_lADOABII585guGd5zwAAAAISIsTY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8894203096",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-31T05:39:49Z"
    },
    {
      "event": "subscribed",
      "id": 8894203106,
      "node_id": "SE_lADOABII585guGd5zwAAAAISIsTi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8894203106",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-31T05:39:49Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8926986995,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIUFwLz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8926986995",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-04T17:21:55Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8927090450,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIUGJcS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8927090450",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-04T17:34:06Z"
    },
    {
      "event": "reviewed",
      "id": 1376409023,
      "node_id": "PRR_kwDOABII585SClW_",
      "url": null,
      "actor": null,
      "commit_id": "4f68c30b2d52f39c7c7465d49ba41c2e70f486ba",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK 4f68c30b2d52f39c7c7465d49ba41c2e70f486ba\r\n\r\nWould be nice to split the actual fix from the other changes. I guess it would be easier for other reviewers too.\r\n\r\nI would have liked to remove the `replySent` argument, but that's secondary to this PR which fixes a serious bug. Let's get the bug fixed and if I feel strong enough about it, then maybe I will open a followup to remove that parameter.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#pullrequestreview-1376409023",
      "submitted_at": "2023-04-07T17:24:26Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
    },
    {
      "event": "review_requested",
      "id": 8955132773,
      "node_id": "RRE_lADOABII585guGd5zwAAAAIVxHtl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8955132773",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-07T17:24:32Z",
      "requested_reviewer": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "commented",
      "id": 1503076466,
      "node_id": "IC_kwDOABII585ZlyBy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1503076466",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-11T10:29:14Z",
      "updated_at": "2023-04-11T10:29:14Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Would be nice to split the actual fix from the other changes. I guess it would be easier for other reviewers too.\r\n\r\nI'm working on it.\r\n\r\n> I would have liked to remove the `replySent` argument, but that's secondary to this PR which fixes a serious bug. Let's get the bug fixed and if I feel strong enough about it, then maybe I will open a followup to remove that parameter.\r\n\r\nI agree, later on a follow-up, I'd try to investigate if `evhttp_request* req` can be mocked somehow so the fuzz can go thru all the buffering behaviour and other stuff once the `replySent` argument is removed.",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1503076466",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "commented",
      "id": 1503257503,
      "node_id": "IC_kwDOABII585ZmeOf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1503257503",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-11T12:42:00Z",
      "updated_at": "2023-04-11T12:42:00Z",
      "author_association": "MEMBER",
      "body": "> I'd try to investigate if `evhttp_request* req` can be mocked somehow so the fuzz can go thru all the buffering behaviour and other stuff once the replySent argument is removed.\r\n\r\nThe fuzz _will_ go through this:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/53eb4b7a212db7563291509ff4e53327440a9df2/src/test/fuzz/http_request.cpp#L51-L62\r\n\r\nif the `HTTPRequest` object is created successfully (once `replySent` is removed and the test does `try/catch`). If the input is such that `HTTPRequest:HTTPRequest()` throws, then it does not have to test the above because it will never be executed in the real code.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1503257503",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "commented",
      "id": 1505248502,
      "node_id": "IC_kwDOABII585ZuET2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1505248502",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-12T13:07:53Z",
      "updated_at": "2023-04-12T13:08:30Z",
      "author_association": "CONTRIBUTOR",
      "body": "> if the `HTTPRequest` object is created successfully (once `replySent` is removed and the test does `try/catch`). If the input is such that `HTTPRequest:HTTPRequest()` throws, then it does not have to test the above because it will never be executed in the real code.\r\n\r\nI'm sorry, I said nonsense, ofc that code won't be executed because the `uri_parsed` will be null and so on, my concern is that we'll lose the test coverage by the current `fuzz`, even it's not a real case scenario, the test is performing 'exhaustive' calls to specific protocol (not sure how 'exhaustive' because, on the other hand, the internal buffer in the `HTTPRequest` instance is empty while testing).",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1505248502",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9002403829,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIYlcf1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9002403829",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-14T00:43:59Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9002431249,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIYljMR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9002431249",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-14T00:49:47Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9002456526,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIYlpXO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9002456526",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-14T00:55:20Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9002616451,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIYmQaD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9002616451",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-14T01:24:34Z"
    },
    {
      "event": "commented",
      "id": 1507805195,
      "node_id": "IC_kwDOABII585Z30gL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1507805195",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-14T01:30:28Z",
      "updated_at": "2023-04-14T13:23:26Z",
      "author_association": "CONTRIBUTOR",
      "body": "Updated changes:\r\n- Split commit in 2 (as suggested by @stickies-v and @vasild): one for the fix and one for the logic improvement.\r\n- Added some comments to each commit (as suggested by @stickies-v).",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1507805195",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "mentioned",
      "id": 9002643508,
      "node_id": "MEE_lADOABII585guGd5zwAAAAIYmXA0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9002643508",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-14T01:30:29Z"
    },
    {
      "event": "subscribed",
      "id": 9002643519,
      "node_id": "SE_lADOABII585guGd5zwAAAAIYmXA_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9002643519",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-14T01:30:29Z"
    },
    {
      "event": "mentioned",
      "id": 9002643525,
      "node_id": "MEE_lADOABII585guGd5zwAAAAIYmXBF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9002643525",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-14T01:30:29Z"
    },
    {
      "event": "subscribed",
      "id": 9002643531,
      "node_id": "SE_lADOABII585guGd5zwAAAAIYmXBL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9002643531",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-14T01:30:29Z"
    },
    {
      "event": "reviewed",
      "id": 1385130381,
      "node_id": "PRR_kwDOABII585Sj2mN",
      "url": null,
      "actor": null,
      "commit_id": "9b9c48cf81549c7eacfbfb78534b7eaba46ecb34",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Left some comments on the bugfix commit. I'd carve that out in a separate PR to get it merged for v25.\r\n\r\nAlso, suggested rephrasing for the commit message:\r\n\r\n```\r\nbugfix: rest: avoid segfault for invalid URI\r\n\r\n`evhttp_uri_parse` can return a nullptr, for example when the URI \r\ncontains invalid characters (e.g. \"%\"). \r\n`GetQueryParameterFromUri` passes the output of `evhttp_uri_parse`\r\nstraight into `evhttp_uri_get_query`, which means that anyone calling\r\na REST endpoint in which query parameters are used (e.g. `rest_headers`)\r\ncan cause a segfault.\r\n\r\nThis bugfix is designed to be minimal and without additional behaviour change.\r\nFollow-up work should be done to resolve this in a more general and robust way,\r\nso not every endpoint has to handle it individually.\r\n```",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#pullrequestreview-1385130381",
      "submitted_at": "2023-04-14T16:41:39Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
    },
    {
      "event": "reviewed",
      "id": 1385842606,
      "node_id": "PRR_kwDOABII585Smkeu",
      "url": null,
      "actor": null,
      "commit_id": "9b9c48cf81549c7eacfbfb78534b7eaba46ecb34",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK 9b9c48cf81549c7eacfbfb78534b7eaba46ecb34 modulo https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1166625610\r\n\r\nI agree with suggestions from @stickies-v, would be happy to re-review.\r\n",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#pullrequestreview-1385842606",
      "submitted_at": "2023-04-14T16:59:34Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
    },
    {
      "event": "review_requested",
      "id": 9009869934,
      "node_id": "RRE_lADOABII585guGd5zwAAAAIZB7Ru",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9009869934",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-14T16:59:40Z",
      "requested_reviewer": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "commented",
      "id": 1509002838,
      "node_id": "IC_kwDOABII585Z8Y5W",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1509002838",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-14T17:34:32Z",
      "updated_at": "2023-04-14T17:34:32Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Left some comments on the bugfix commit. I'd carve that out in a separate PR to get it merged for v25.\r\n\r\nI'll create a new PR linked to this.\r\n \r\n> Also, suggested rephrasing for the commit message:\r\n\r\nSure, I'll take your suggestion, thanks.",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1509002838",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "commented",
      "id": 1509003472,
      "node_id": "IC_kwDOABII585Z8ZDQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1509003472",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-14T17:35:18Z",
      "updated_at": "2023-04-14T17:35:18Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I agree with suggestions from @stickies-v, would be happy to re-review.\r\n\r\nI'll let you both know ones the new PR is ready, very soon. Thanks.",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1509003472",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "mentioned",
      "id": 9010255369,
      "node_id": "MEE_lADOABII585guGd5zwAAAAIZDZYJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9010255369",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-14T17:35:18Z"
    },
    {
      "event": "subscribed",
      "id": 9010255396,
      "node_id": "SE_lADOABII585guGd5zwAAAAIZDZYk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9010255396",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-14T17:35:18Z"
    },
    {
      "event": "commented",
      "id": 1509401910,
      "node_id": "IC_kwDOABII585Z96U2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1509401910",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-14T23:52:44Z",
      "updated_at": "2023-04-14T23:56:48Z",
      "author_association": "CONTRIBUTOR",
      "body": "Updated changes:\r\n- Created new PR #27468 with a minimal bugfix and single commit in order to merge it faster for 25.0 release, as suggested above by [@stickies-v](https://github.com/bitcoin/bitcoin/pull/27253#pullrequestreview-1385130381) and supported by [@vasild](https://github.com/bitcoin/bitcoin/pull/27253#pullrequestreview-1385842606).\r\n- The new PR contains also the suggested changes from @stickies-v.\r\n- I'll create another PR for the 2nd commit as a follow-up.",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1509401910",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "mentioned",
      "id": 9012358075,
      "node_id": "MEE_lADOABII585guGd5zwAAAAIZLau7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9012358075",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-14T23:52:44Z"
    },
    {
      "event": "subscribed",
      "id": 9012358078,
      "node_id": "SE_lADOABII585guGd5zwAAAAIZLau-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9012358078",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-14T23:52:44Z"
    },
    {
      "event": "demilestoned",
      "id": 9013947274,
      "node_id": "DEME_lADOABII585guGd5zwAAAAIZReuK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9013947274",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-15T11:31:48Z",
      "milestone": {
        "title": "25.0"
      }
    },
    {
      "event": "referenced",
      "id": 9025051644,
      "node_id": "REFE_lADOABII585guGd5zwAAAAIZ71v8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9025051644",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "e054b7390ca9498c6c2bbc775c8af9f8e94c52dd",
      "commit_url": "https://api.github.com/repos/bitcoin-core/gui/commits/e054b7390ca9498c6c2bbc775c8af9f8e94c52dd",
      "created_at": "2023-04-17T14:11:23Z"
    },
    {
      "event": "referenced",
      "id": 9025603007,
      "node_id": "REFE_lADOABII585guGd5zwAAAAIZ98W_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9025603007",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "200330a67d1eebcaae2a874df2f2a971d53d596c",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/200330a67d1eebcaae2a874df2f2a971d53d596c",
      "created_at": "2023-04-17T14:49:16Z"
    },
    {
      "event": "labeled",
      "id": 9025749146,
      "node_id": "LE_lADOABII585guGd5zwAAAAIZ-gCa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9025749146",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-17T15:01:00Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9074897313,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIc5_Gh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9074897313",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-23T13:14:59Z"
    },
    {
      "event": "commented",
      "id": 1519074456,
      "node_id": "IC_kwDOABII585aizyY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1519074456",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-23T13:59:37Z",
      "updated_at": "2023-04-23T14:07:23Z",
      "author_association": "CONTRIBUTOR",
      "body": "Updated changes:\r\n- First commit of this PR was already merged into 25.0 release branch (#27468).\r\n- Rebased & incorporated some nits & suggestions from latest reviews including above PR.\r\n- Updated original description of this PR.",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1519074456",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "labeled",
      "id": 9074985665,
      "node_id": "LE_lADOABII585guGd5zwAAAAIc6UrB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9074985665",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-23T14:16:02Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 9075070108,
      "node_id": "UNLE_lADOABII585guGd5zwAAAAIc6pSc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9075070108",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-23T15:12:05Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1519637810,
      "node_id": "IC_kwDOABII585ak9Uy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1519637810",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-24T08:42:26Z",
      "updated_at": "2023-04-24T08:42:26Z",
      "author_association": "MEMBER",
      "body": "Fuzzing segfaults, see CI",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1519637810",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "commented",
      "id": 1519869383,
      "node_id": "IC_kwDOABII585al13H",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1519869383",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-24T10:30:50Z",
      "updated_at": "2023-04-24T10:30:50Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Fuzzing segfaults, see CI\r\n\r\nSaw it yesterday, working on it, thanks.",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1519869383",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9129119549,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIgI089",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9129119549",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-29T00:22:18Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9129127781,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIgI29l",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9129127781",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-29T00:26:06Z"
    },
    {
      "event": "unlabeled",
      "id": 9129361534,
      "node_id": "UNLE_lADOABII585guGd5zwAAAAIgJwB-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9129361534",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-29T01:37:30Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1528701927,
      "node_id": "IC_kwDOABII585bHiPn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1528701927",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-29T07:33:51Z",
      "updated_at": "2023-04-29T07:33:51Z",
      "author_association": "CONTRIBUTOR",
      "body": "- Fixed`http_request`fuzz failure and added some relevant comments in the code.",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1528701927",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9130447119,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIgN5EP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9130447119",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-29T11:04:39Z"
    },
    {
      "event": "commented",
      "id": 1528760293,
      "node_id": "IC_kwDOABII585bHwfl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1528760293",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-29T11:08:05Z",
      "updated_at": "2023-04-29T11:08:05Z",
      "author_association": "CONTRIBUTOR",
      "body": "- Updated 2nd commit message.",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1528760293",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "commented",
      "id": 1543830285,
      "node_id": "IC_kwDOABII585cBPsN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1543830285",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-11T11:32:13Z",
      "updated_at": "2023-05-11T11:32:55Z",
      "author_association": "MEMBER",
      "body": "With #27468 merged, I don't really see the need for 8ef940d39bfa7bc4ba867b70495b68c507297694 anymore? Also the PR title and description need updating, this is not a bugfix PR anymore.",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1543830285",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9221515262,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIlpSf-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9221515262",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-11T11:52:39Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9221859443,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIlqmhz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9221859443",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-11T12:27:04Z"
    },
    {
      "event": "renamed",
      "id": 9221896500,
      "node_id": "RTE_lADOABII585guGd5zwAAAAIlqvk0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9221896500",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-11T12:30:54Z",
      "rename": {
        "from": "httpserver, rest: fix segmentation fault on evhttp_uri_get_query",
        "to": "httpserver, rest: segfault bugfix (#27468) logic improvement"
      }
    },
    {
      "event": "renamed",
      "id": 9221994977,
      "node_id": "RTE_lADOABII585guGd5zwAAAAIlrHnh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9221994977",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-11T12:40:21Z",
      "rename": {
        "from": "httpserver, rest: segfault bugfix (#27468) logic improvement",
        "to": "httpserver, rest: improving URI validation"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9222027533,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIlrPkN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9222027533",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-11T12:43:22Z"
    },
    {
      "event": "commented",
      "id": 1543937304,
      "node_id": "IC_kwDOABII585cBp0Y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1543937304",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-11T12:47:50Z",
      "updated_at": "2023-05-11T12:47:50Z",
      "author_association": "CONTRIBUTOR",
      "body": "> With #27468 merged, I don't really see the need for [8ef940d](https://github.com/bitcoin/bitcoin/commit/8ef940d39bfa7bc4ba867b70495b68c507297694) anymore? Also the PR title and description need updating, this is not a bugfix PR anymore.\r\n\r\nUpdated them, thanks!",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1543937304",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "labeled",
      "id": 9222644963,
      "node_id": "LE_lADOABII585guGd5zwAAAAIltmTj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9222644963",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-11T13:46:04Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9240818463,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAImy7Mf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9240818463",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-14T22:04:13Z"
    },
    {
      "event": "unlabeled",
      "id": 9240885336,
      "node_id": "UNLE_lADOABII585guGd5zwAAAAImzLhY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9240885336",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-14T23:04:59Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1430879440,
      "node_id": "PRR_kwDOABII585VSXzQ",
      "url": null,
      "actor": null,
      "commit_id": "c72967f48ab9eb02b8dc9231fdcc6ee85d66b7b9",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "> I would have liked to remove the `replySent` argument, but that's secondary to this PR which fixes a serious bug.\r\n\r\nMe too, especially since this is now no longer a bugfix PR. I think the workarounds that need to introduced in this PR make things unnecessarily messy, and updating the fuzzer as e.g. per your suggestion [here](https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1490015098) look like a reasonable approach for this PR to me.",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#pullrequestreview-1430879440",
      "submitted_at": "2023-05-18T17:43:28Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9357481631,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAItv9af",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9357481631",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-27T14:25:28Z"
    },
    {
      "event": "commented",
      "id": 1565460712,
      "node_id": "IC_kwDOABII585dTwjo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1565460712",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-27T14:51:39Z",
      "updated_at": "2023-05-29T08:10:23Z",
      "author_association": "CONTRIBUTOR",
      "body": "Updates:\r\n- Incorporated most of @stickies-v's suggestions.\r\n- I'll remove the `replySent` argument from the `httpserver` constructor (as @vasild suggested and @stickies-v agrees with), and update the `fuzz` test accordingly. I can squash it later into 1 if you like.",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1565460712",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "mentioned",
      "id": 9357536888,
      "node_id": "MEE_lADOABII585guGd5zwAAAAItwK54",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9357536888",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-27T14:51:39Z"
    },
    {
      "event": "subscribed",
      "id": 9357536894,
      "node_id": "SE_lADOABII585guGd5zwAAAAItwK5-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9357536894",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-27T14:51:39Z"
    },
    {
      "event": "mentioned",
      "id": 9357536909,
      "node_id": "MEE_lADOABII585guGd5zwAAAAItwK6N",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9357536909",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-27T14:51:39Z"
    },
    {
      "event": "subscribed",
      "id": 9357536918,
      "node_id": "SE_lADOABII585guGd5zwAAAAItwK6W",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9357536918",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-27T14:51:39Z"
    },
    {
      "event": "labeled",
      "id": 9357613106,
      "node_id": "LE_lADOABII585guGd5zwAAAAItwdgy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9357613106",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-27T15:26:36Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9362449450,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIuC6Qq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9362449450",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-28T15:30:11Z"
    },
    {
      "event": "unlabeled",
      "id": 9362663325,
      "node_id": "UNLE_lADOABII585guGd5zwAAAAIuDued",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9362663325",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-28T16:59:14Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 9368535754,
      "node_id": "LE_lADOABII585guGd5zwAAAAIuaILK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9368535754",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-29T12:01:44Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9370550486,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIuh0DW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9370550486",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-29T16:25:26Z"
    },
    {
      "event": "commented",
      "id": 1567380170,
      "node_id": "IC_kwDOABII585dbFLK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1567380170",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-29T17:44:59Z",
      "updated_at": "2023-05-29T17:44:59Z",
      "author_association": "CONTRIBUTOR",
      "body": "Updates:\r\n- Working on `fuzzer` failure.",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1567380170",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "reviewed",
      "id": 1450797669,
      "node_id": "PRR_kwDOABII585WeWpl",
      "url": null,
      "actor": null,
      "commit_id": "ca8941100d19fa76e700185db9feb37a04294b71",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "I'm in favour of doing the `replySent` refactoring in a separate commit, but it makes more sense to have that be the first commit imo, to avoid adding logic and then removing it in the very next commit.\r\n\r\nEdit: and please also include the rationale for removing `replySent` from the constructor in the commit message?",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#pullrequestreview-1450797669",
      "submitted_at": "2023-05-30T12:15:43Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
    },
    {
      "event": "commented",
      "id": 1568366234,
      "node_id": "IC_kwDOABII585de16a",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1568366234",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-30T12:41:16Z",
      "updated_at": "2023-05-30T12:41:16Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I'm in favour of doing the `replySent` refactoring in a separate commit, but it makes more sense to have that be the first commit imo, to avoid adding logic and then removing it in the very next commit.\r\n\r\nYeah, true, I agree... let me revert the order of the commits.",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1568366234",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "commented",
      "id": 1576401038,
      "node_id": "IC_kwDOABII585d9fiO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1576401038",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-05T08:57:58Z",
      "updated_at": "2023-06-05T08:57:58Z",
      "author_association": "CONTRIBUTOR",
      "body": "Updates:\r\n- I've found the issue with the`fuzz`test I'll push a fix with the commits in reverse order.",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1576401038",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9430686194,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIyHNny",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9430686194",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-05T09:46:30Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9430763758,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIyHgju",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9430763758",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-05T09:53:34Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9430997946,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIyIZu6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9430997946",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-05T10:12:01Z"
    },
    {
      "event": "commented",
      "id": 1576619633,
      "node_id": "IC_kwDOABII585d-U5x",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1576619633",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-05T11:32:39Z",
      "updated_at": "2023-06-05T11:32:39Z",
      "author_association": "CONTRIBUTOR",
      "body": "Updates:\r\n- It seems I broke some functional tests with the `WriteReply` function \"fix\", ha, working on it.",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#issuecomment-1576619633",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27253"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9435923908,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIybMXE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9435923908",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-05T16:38:54Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9449177826,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIzNwLi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9449177826",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-06T17:51:50Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9449249949,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIzOByd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9449249949",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-06T17:59:47Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDAwMzBjNjJlY2Q3MWVhNmRjMmU2OThmMTkxZTk1Y2MxZGQ2YWE0NTc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "tree": {
        "sha": "bba8d572afdd753adf4507a617d9ab550ffb1969",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/bba8d572afdd753adf4507a617d9ab550ffb1969"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a13f3746dccd9c4ec16d6bfe9b33ebd26e3238e1",
          "sha": "a13f3746dccd9c4ec16d6bfe9b33ebd26e3238e1",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a13f3746dccd9c4ec16d6bfe9b33ebd26e3238e1"
        }
      ],
      "message": "httpserver: removing replySent arg from constructor\n\nRemoving what it was originally a hack/ workaround only for\nfuzz test 'http_request', no other client/ consumer was using it,\nto deal with an underlying issue with WriteReply being called from\ndestructor, which was also fixed here calling the proper buffers\nfree functions at the correct point of execution.",
      "committer": {
        "name": "pablomartin4btc",
        "email": "pablomartin4btc@gmail.com",
        "date": "2023-06-06T18:08:10Z"
      },
      "author": {
        "name": "pablomartin4btc",
        "email": "pablomartin4btc@gmail.com",
        "date": "2023-03-14T02:39:15Z"
      },
      "sha": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9449325568,
      "node_id": "HRFPE_lADOABII585guGd5zwAAAAIzOUQA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9449325568",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-06T18:08:39Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139143140",
      "pull_request_review_id": 1344413373,
      "id": 1139143140,
      "node_id": "PRRC_kwDOABII585D5fHk",
      "diff_hunk": "@@ -663,17 +674,10 @@ HTTPRequest::RequestMethod HTTPRequest::GetRequestMethod() const\n     }\n }\n \n-std::optional<std::string> HTTPRequest::GetQueryParameter(const std::string& key) const\n+std::optional<std::string> HTTPRequest::GetQueryParameter(const std::string& key)\n {\n-    const char* uri{evhttp_request_get_uri(req)};\n-\n-    return GetQueryParameterFromUri(uri, key);\n-}\n-\n-std::optional<std::string> GetQueryParameterFromUri(const char* uri, const std::string& key)\n-{\n-    evhttp_uri* uri_parsed{evhttp_uri_parse(uri)};\n-    const char* query{evhttp_uri_get_query(uri_parsed)};\n+    if (!m_uri_parsed) { return std::nullopt; }",
      "path": "src/httpserver.cpp",
      "position": null,
      "original_position": 55,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "02cbb583271cabe1b4062525dea785ea21796462",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit\r\n```suggestion\r\n    if (!m_uri_parsed) return std::nullopt;\r\n```",
      "created_at": "2023-03-16T17:46:13Z",
      "updated_at": "2023-03-16T18:12:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1139143140",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139143140"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 679,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139180604",
      "pull_request_review_id": 1344413373,
      "id": 1139180604,
      "node_id": "PRRC_kwDOABII585D5oQ8",
      "diff_hunk": "@@ -13,26 +15,34 @@ BOOST_AUTO_TEST_CASE(test_query_parameters)\n {\n     std::string uri {};\n \n+    evhttp_request* evreq = evhttp_request_new(nullptr, nullptr);",
      "path": "src/test/httpserver_tests.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "213554cb97c9c89bca56b56e8d0af473102e3061",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "See https://github.com/bitcoin/bitcoin/pull/24012 - I couldn't get mocking an `evhttp_request*` past the ASan test, and it looks like they're failing again here too. That's why in #24098 I introduced the `GetQueryParameterFromUri()` helper function: it could easily be unit tested, and then `HTTPRequest::GetQueryParameter()` was just a simple wrapper left untested.",
      "created_at": "2023-03-16T18:10:30Z",
      "updated_at": "2023-03-16T18:12:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1139180604",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139180604"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139181920",
      "pull_request_review_id": 1344413373,
      "id": 1139181920,
      "node_id": "PRRC_kwDOABII585D5olg",
      "diff_hunk": "@@ -44,6 +44,11 @@ class RetType(Enum):\n     BYTES = 2\n     JSON = 3\n \n+class HTTPStatusCode(Enum):\n+    HTTP_OK = 200\n+    HTTP_BAD_REQUEST = 400\n+    HTTP_NOT_FOUND = 404\n+",
      "path": "test/functional/interface_rest.py",
      "position": null,
      "original_position": 8,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "213554cb97c9c89bca56b56e8d0af473102e3061",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Seems like unrelated/unnecessary churn imo, and redefining HTTP status codes in a single functional test doesn't seem like a productive approach. Would leave this out?",
      "created_at": "2023-03-16T18:11:36Z",
      "updated_at": "2023-03-16T18:13:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1139181920",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139181920"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": 47,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 51,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139308077",
      "pull_request_review_id": 1344642054,
      "id": 1139308077,
      "node_id": "PRRC_kwDOABII585D6HYt",
      "diff_hunk": "@@ -663,17 +674,10 @@ HTTPRequest::RequestMethod HTTPRequest::GetRequestMethod() const\n     }\n }\n \n-std::optional<std::string> HTTPRequest::GetQueryParameter(const std::string& key) const\n+std::optional<std::string> HTTPRequest::GetQueryParameter(const std::string& key)\n {\n-    const char* uri{evhttp_request_get_uri(req)};\n-\n-    return GetQueryParameterFromUri(uri, key);\n-}\n-\n-std::optional<std::string> GetQueryParameterFromUri(const char* uri, const std::string& key)\n-{\n-    evhttp_uri* uri_parsed{evhttp_uri_parse(uri)};\n-    const char* query{evhttp_uri_get_query(uri_parsed)};\n+    if (!m_uri_parsed) { return std::nullopt; }",
      "path": "src/httpserver.cpp",
      "position": null,
      "original_position": 55,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "02cbb583271cabe1b4062525dea785ea21796462",
      "in_reply_to_id": 1139143140,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "thanks, corrected other similar 2.",
      "created_at": "2023-03-16T20:14:52Z",
      "updated_at": "2023-03-16T20:14:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1139308077",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139308077"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 679,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139309346",
      "pull_request_review_id": 1344646552,
      "id": 1139309346,
      "node_id": "PRRC_kwDOABII585D6Hsi",
      "diff_hunk": "@@ -44,6 +44,11 @@ class RetType(Enum):\n     BYTES = 2\n     JSON = 3\n \n+class HTTPStatusCode(Enum):\n+    HTTP_OK = 200\n+    HTTP_BAD_REQUEST = 400\n+    HTTP_NOT_FOUND = 404\n+",
      "path": "test/functional/interface_rest.py",
      "position": null,
      "original_position": 8,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "213554cb97c9c89bca56b56e8d0af473102e3061",
      "in_reply_to_id": 1139181920,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'm now reusing the HTTPStatus enum from the python http module in python; there were like 20 places where these codes were introduced as int. I think it makes it clearer but pls let me know if that's not the case.",
      "created_at": "2023-03-16T20:16:21Z",
      "updated_at": "2023-03-16T20:16:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1139309346",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139309346"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": 47,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 51,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139311306",
      "pull_request_review_id": 1344651093,
      "id": 1139311306,
      "node_id": "PRRC_kwDOABII585D6ILK",
      "diff_hunk": "@@ -13,26 +15,34 @@ BOOST_AUTO_TEST_CASE(test_query_parameters)\n {\n     std::string uri {};\n \n+    evhttp_request* evreq = evhttp_request_new(nullptr, nullptr);",
      "path": "src/test/httpserver_tests.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "213554cb97c9c89bca56b56e8d0af473102e3061",
      "in_reply_to_id": 1139180604,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "If I bring it back I won't be able to access to m_uri_parsed from the helper function, unless there's another alternative, I'll have to roll-back to the original approach of the PR.",
      "created_at": "2023-03-16T20:18:09Z",
      "updated_at": "2023-03-16T20:18:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1139311306",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139311306"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139348308",
      "pull_request_review_id": 1344697393,
      "id": 1139348308,
      "node_id": "PRRC_kwDOABII585D6RNU",
      "diff_hunk": "@@ -44,6 +44,11 @@ class RetType(Enum):\n     BYTES = 2\n     JSON = 3\n \n+class HTTPStatusCode(Enum):\n+    HTTP_OK = 200\n+    HTTP_BAD_REQUEST = 400\n+    HTTP_NOT_FOUND = 404\n+",
      "path": "test/functional/interface_rest.py",
      "position": null,
      "original_position": 8,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "213554cb97c9c89bca56b56e8d0af473102e3061",
      "in_reply_to_id": 1139181920,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Every line of code that you change needs review. If those changed lines of code are unrelated to what you're trying to achieve, you risk unnecessarily slowing doing the PR or even getting NACKs for reasons unrelated to what you're really trying to do. I'd strongly suggest keeping the scope as small as possible.\r\n\r\nI'm not saying it's necessarily a bad idea to use enumerated HTTP status codes, but it would be better off in a separate PR/issue (and have you checked if it's been suggested before?)",
      "created_at": "2023-03-16T20:53:48Z",
      "updated_at": "2023-03-16T20:53:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1139348308",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139348308"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": 47,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 51,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1140271032",
      "pull_request_review_id": 1346000963,
      "id": 1140271032,
      "node_id": "PRRC_kwDOABII585D9ye4",
      "diff_hunk": "@@ -13,26 +15,34 @@ BOOST_AUTO_TEST_CASE(test_query_parameters)\n {\n     std::string uri {};\n \n+    evhttp_request* evreq = evhttp_request_new(nullptr, nullptr);",
      "path": "src/test/httpserver_tests.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "213554cb97c9c89bca56b56e8d0af473102e3061",
      "in_reply_to_id": 1139180604,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "What do you think about this approach? I think it's quite minimal:\r\n\r\n<details>\r\n<summary>git diff</summary>\r\n\r\n```diff\r\ndiff --git a/src/httpserver.cpp b/src/httpserver.cpp\r\nindex 942caa042..6a6176a78 100644\r\n--- a/src/httpserver.cpp\r\n+++ b/src/httpserver.cpp\r\n@@ -15,6 +15,7 @@\r\n #include <rpc/protocol.h> // For HTTP status codes\r\n #include <shutdown.h>\r\n #include <sync.h>\r\n+#include <util/check.h>\r\n #include <util/strencodings.h>\r\n #include <util/syscall_sandbox.h>\r\n #include <util/system.h>\r\n@@ -253,6 +254,14 @@ static void http_request_cb(struct evhttp_request* req, void* arg)\r\n         return;\r\n     }\r\n \r\n+    // Early reject invalid URI\r\n+    if (!hreq->GetURIParsed()) {\r\n+        LogPrint(BCLog::HTTP, \"HTTP request from %s rejected: Invalid URI\\n\",\r\n+                 hreq->GetPeer().ToStringAddrPort());\r\n+        hreq->WriteReply(HTTP_BAD_REQUEST, \"Invalid URI\");\r\n+        return;\r\n+    }\r\n+\r\n     LogPrint(BCLog::HTTP, \"Received a %s request for %s from %s\\n\",\r\n              RequestMethodString(hreq->GetRequestMethod()), SanitizeString(hreq->GetURI(), SAFE_CHARS_URI).substr(0, 100), hreq->GetPeer().ToStringAddrPort());\r\n \r\n@@ -535,18 +544,22 @@ void HTTPEvent::trigger(struct timeval* tv)\r\n     else\r\n         evtimer_add(ev, tv); // trigger after timeval passed\r\n }\r\n-HTTPRequest::HTTPRequest(struct evhttp_request* _req, bool _replySent) : req(_req), replySent(_replySent)\r\n+HTTPRequest::HTTPRequest(struct evhttp_request* _req, bool _replySent) :\r\n+        req{_req},\r\n+        m_uri_parsed{evhttp_uri_parse(evhttp_request_get_uri(req))},\r\n+        replySent{_replySent}\r\n {\r\n }\r\n \r\n HTTPRequest::~HTTPRequest()\r\n {\r\n+    // evhttpd cleans up the request, as long as a reply was sent.\r\n     if (!replySent) {\r\n         // Keep track of whether reply was sent to avoid request leaks\r\n         LogPrintf(\"%s: Unhandled request\\n\", __func__);\r\n         WriteReply(HTTP_INTERNAL_SERVER_ERROR, \"Unhandled request\");\r\n     }\r\n-    // evhttpd cleans up the request, as long as a reply was sent.\r\n+    if(m_uri_parsed) evhttp_uri_free(m_uri_parsed);\r\n }\r\n \r\n std::pair<bool, std::string> HTTPRequest::GetHeader(const std::string& hdr) const\r\n@@ -665,14 +678,13 @@ HTTPRequest::RequestMethod HTTPRequest::GetRequestMethod() const\r\n \r\n std::optional<std::string> HTTPRequest::GetQueryParameter(const std::string& key) const\r\n {\r\n-    const char* uri{evhttp_request_get_uri(req)};\r\n-\r\n-    return GetQueryParameterFromUri(uri, key);\r\n+    if (!Assume(m_uri_parsed)) return std::nullopt;  // http_request_cb should have checked that m_uri_parsed is not nullptr\r\n+    return GetQueryParameterFromUri(m_uri_parsed, key);\r\n }\r\n \r\n-std::optional<std::string> GetQueryParameterFromUri(const char* uri, const std::string& key)\r\n+std::optional<std::string> GetQueryParameterFromUri(const evhttp_uri* uri_parsed, const std::string& key)\r\n {\r\n-    evhttp_uri* uri_parsed{evhttp_uri_parse(uri)};\r\n+    assert(uri_parsed);\r\n     const char* query{evhttp_uri_get_query(uri_parsed)};\r\n     std::optional<std::string> result;\r\n \r\n@@ -689,7 +701,6 @@ std::optional<std::string> GetQueryParameterFromUri(const char* uri, const std::\r\n         }\r\n         evhttp_clear_headers(&params_q);\r\n     }\r\n-    evhttp_uri_free(uri_parsed);\r\n \r\n     return result;\r\n }\r\ndiff --git a/src/httpserver.h b/src/httpserver.h\r\nindex 036a39a02..84906e121 100644\r\n--- a/src/httpserver.h\r\n+++ b/src/httpserver.h\r\n@@ -14,6 +14,7 @@ static const int DEFAULT_HTTP_WORKQUEUE=16;\r\n static const int DEFAULT_HTTP_SERVER_TIMEOUT=30;\r\n \r\n struct evhttp_request;\r\n+struct evhttp_uri;\r\n struct event_base;\r\n class CService;\r\n class HTTPRequest;\r\n@@ -57,6 +58,7 @@ class HTTPRequest\r\n {\r\n private:\r\n     struct evhttp_request* req;\r\n+    evhttp_uri* m_uri_parsed;\r\n     bool replySent;\r\n \r\n public:\r\n@@ -75,6 +77,9 @@ public:\r\n      */\r\n     std::string GetURI() const;\r\n \r\n+    /** Get libevent parsed URI, which is nullptr if uri parsing failed */\r\n+    const evhttp_uri* GetURIParsed() const { return m_uri_parsed; }\r\n+\r\n     /** Get CService (address:ip) for the origin of the http request.\r\n      */\r\n     CService GetPeer() const;\r\n@@ -135,10 +140,10 @@ public:\r\n  *\r\n  * Helper function for HTTPRequest::GetQueryParameter.\r\n  *\r\n- * @param[in] uri is the entire request uri\r\n+ * @param[in] uri_parsed is the request uri after parsing it with evhttp_uri_parse\r\n  * @param[in] key represents the query parameter of which the value is returned\r\n  */\r\n-std::optional<std::string> GetQueryParameterFromUri(const char* uri, const std::string& key);\r\n+std::optional<std::string> GetQueryParameterFromUri(const evhttp_uri* uri_parsed, const std::string& key);\r\n \r\n /** Event handler closure.\r\n  */\r\n\r\n```\r\n</details>",
      "created_at": "2023-03-17T13:56:15Z",
      "updated_at": "2023-03-17T13:56:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1140271032",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1140271032"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1140471392",
      "pull_request_review_id": 1346316209,
      "id": 1140471392,
      "node_id": "PRRC_kwDOABII585D-jZg",
      "diff_hunk": "@@ -44,6 +44,11 @@ class RetType(Enum):\n     BYTES = 2\n     JSON = 3\n \n+class HTTPStatusCode(Enum):\n+    HTTP_OK = 200\n+    HTTP_BAD_REQUEST = 400\n+    HTTP_NOT_FOUND = 404\n+",
      "path": "test/functional/interface_rest.py",
      "position": null,
      "original_position": 8,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "213554cb97c9c89bca56b56e8d0af473102e3061",
      "in_reply_to_id": 1139181920,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ok, got it now and I agree. Thanks.",
      "created_at": "2023-03-17T16:46:05Z",
      "updated_at": "2023-03-17T16:46:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1140471392",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1140471392"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": 47,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 51,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1140471811",
      "pull_request_review_id": 1346316825,
      "id": 1140471811,
      "node_id": "PRRC_kwDOABII585D-jgD",
      "diff_hunk": "@@ -13,26 +15,34 @@ BOOST_AUTO_TEST_CASE(test_query_parameters)\n {\n     std::string uri {};\n \n+    evhttp_request* evreq = evhttp_request_new(nullptr, nullptr);",
      "path": "src/test/httpserver_tests.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "213554cb97c9c89bca56b56e8d0af473102e3061",
      "in_reply_to_id": 1139180604,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I see, ok, it makes sense, let me make some changes.",
      "created_at": "2023-03-17T16:46:29Z",
      "updated_at": "2023-03-17T16:46:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1140471811",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1140471811"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142370781",
      "pull_request_review_id": 1348929370,
      "id": 1142370781,
      "node_id": "PRRC_kwDOABII585EFzHd",
      "diff_hunk": "@@ -689,11 +703,12 @@ std::optional<std::string> GetQueryParameterFromUri(const char* uri, const std::\n         }\n         evhttp_clear_headers(&params_q);\n     }\n-    evhttp_uri_free(uri_parsed);\n \n     return result;\n }\n \n+evhttp_uri* HTTPRequest::GetURIParsed() { return m_uri_parsed; }",
      "path": "src/httpserver.cpp",
      "position": null,
      "original_position": 92,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "0115dccef675c62d1c7f1b0df4c94827737de4a3",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "A simple getter is best implemented in the header",
      "created_at": "2023-03-20T16:11:30Z",
      "updated_at": "2023-03-20T16:26:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1142370781",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142370781"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 710,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142371332",
      "pull_request_review_id": 1348929370,
      "id": 1142371332,
      "node_id": "PRRC_kwDOABII585EFzQE",
      "diff_hunk": "@@ -124,21 +126,10 @@ class HTTPRequest\n      * main thread, do not call any other HTTPRequest methods after calling this.\n      */\n     void WriteReply(int nStatus, const std::string& strReply = \"\");\n-};\n \n-/** Get the query parameter value from request uri for a specified key, or std::nullopt if the key\n- * is not found.\n- *\n- * If the query string contains duplicate keys, the first value is returned. Many web frameworks\n- * would instead parse this as an array of values, but this is not (yet) implemented as it is\n- * currently not needed in any of the endpoints.\n- *\n- * Helper function for HTTPRequest::GetQueryParameter.\n- *\n- * @param[in] uri is the entire request uri\n- * @param[in] key represents the query parameter of which the value is returned\n- */\n-std::optional<std::string> GetQueryParameterFromUri(const char* uri, const std::string& key);\n+    /** Get libevent parsed URI, which is nullptr if uri parsing failed */\n+    evhttp_uri* GetURIParsed();",
      "path": "src/httpserver.h",
      "position": null,
      "original_position": 47,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "0115dccef675c62d1c7f1b0df4c94827737de4a3",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n    const evhttp_uri* GetURIParsed() const;\r\n```",
      "created_at": "2023-03-20T16:11:54Z",
      "updated_at": "2023-03-20T16:26:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1142371332",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142371332"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 131,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142374618",
      "pull_request_review_id": 1348935012,
      "id": 1142374618,
      "node_id": "PRRC_kwDOABII585EF0Da",
      "diff_hunk": "@@ -13,26 +15,34 @@ BOOST_AUTO_TEST_CASE(test_query_parameters)\n {\n     std::string uri {};\n \n+    evhttp_request* evreq = evhttp_request_new(nullptr, nullptr);",
      "path": "src/test/httpserver_tests.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "213554cb97c9c89bca56b56e8d0af473102e3061",
      "in_reply_to_id": 1139180604,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "After some tweaks around the unit tests (can't [test an assertion failure on`BOOST`](https://stackoverflow.com/questions/270542/testing-for-assert-in-the-boost-test-framework) and the a solution using`BOOST_REQUIRE_THROW(function_w_failing_assert(), boost::execution_exception);`works only on windows), this is done now.",
      "created_at": "2023-03-20T16:14:22Z",
      "updated_at": "2023-03-20T16:14:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1142374618",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142374618"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142376537",
      "pull_request_review_id": 1348929370,
      "id": 1142376537,
      "node_id": "PRRC_kwDOABII585EF0hZ",
      "diff_hunk": "@@ -172,4 +163,19 @@ class HTTPEvent\n     struct event* ev;\n };\n \n+\n+/** Get the query parameter value from a evhttp_uri (parsed) object for a specified key, or std::nullopt\n+ * if the key is not found or uri_parsed parameter is nullptr (most probably from a failed parsing).\n+ *\n+ * If the query string contains duplicate keys, the first value is returned. Many web frameworks\n+ * would instead parse this as an array of values, but this is not (yet) implemented as it is\n+ * currently not needed in any of the endpoints.\n+ *\n+ * Helper function for HTTPRequest::GetQueryParameter.\n+ *\n+ * @param[in] uri_parsed is the evhttp_uri object (obtained from evhttp_uri_parse - libevent function)\n+ * @param[in] key represents the query parameter of which the value is returned\n+ */\n+std::optional<std::string> GetQueryParameterFromUri(const evhttp_uri* uri_parsed, const std::string& key);\n+",
      "path": "src/httpserver.h",
      "position": null,
      "original_position": 70,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "0115dccef675c62d1c7f1b0df4c94827737de4a3",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "What's the rationale behind moving all this code? I don't think it's necessary?",
      "created_at": "2023-03-20T16:15:52Z",
      "updated_at": "2023-03-20T16:26:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1142376537",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142376537"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": 166,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 180,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142378663",
      "pull_request_review_id": 1348929370,
      "id": 1142378663,
      "node_id": "PRRC_kwDOABII585EF1Cn",
      "diff_hunk": "@@ -56,7 +57,8 @@ struct event_base* EventBase();\n class HTTPRequest\n {\n private:\n-    struct evhttp_request* req;\n+    struct evhttp_request* req{nullptr};",
      "path": "src/httpserver.h",
      "position": null,
      "original_position": 13,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "0115dccef675c62d1c7f1b0df4c94827737de4a3",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "seems unrelated to this PR, and no need to touch this otherwise?",
      "created_at": "2023-03-20T16:17:27Z",
      "updated_at": "2023-03-20T16:26:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1142378663",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142378663"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": 59,
      "start_side": "LEFT",
      "line": null,
      "original_line": 60,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142379157",
      "pull_request_review_id": 1348929370,
      "id": 1142379157,
      "node_id": "PRRC_kwDOABII585EF1KV",
      "diff_hunk": "@@ -92,7 +94,7 @@ class HTTPRequest\n      *\n      * @param[in] key represents the query parameter of which the value is returned\n      */\n-    std::optional<std::string> GetQueryParameter(const std::string& key) const;\n+    std::optional<std::string> GetQueryParameter(const std::string& key);",
      "path": "src/httpserver.h",
      "position": null,
      "original_position": 23,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "0115dccef675c62d1c7f1b0df4c94827737de4a3",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why remove `const`?",
      "created_at": "2023-03-20T16:17:50Z",
      "updated_at": "2023-03-20T16:26:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1142379157",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142379157"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": 95,
      "start_side": "LEFT",
      "line": null,
      "original_line": 97,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142382188",
      "pull_request_review_id": 1348929370,
      "id": 1142382188,
      "node_id": "PRRC_kwDOABII585EF15s",
      "diff_hunk": "",
      "path": "src/test/httpserver_tests.cpp",
      "position": 1,
      "original_position": 1,
      "commit_id": "9b0a0dc92308fa069ffc03ebe93eff2de317d59a",
      "original_commit_id": "9b0a0dc92308fa069ffc03ebe93eff2de317d59a",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think this would benefit from helper function(s) to avoid duplicating all the parsing/memclearing logic and make the tests easier to read.",
      "created_at": "2023-03-20T16:19:56Z",
      "updated_at": "2023-03-20T16:26:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1142382188",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142382188"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1,
      "original_line": 1,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142386023",
      "pull_request_review_id": 1348929370,
      "id": 1142386023,
      "node_id": "PRRC_kwDOABII585EF21n",
      "diff_hunk": "@@ -205,16 +206,16 @@ def run_test(self):\n         assert_equal(len(json_obj['utxos']), 1)\n \n         # Do some invalid requests\n-        self.test_rest_request(\"/getutxos\", http_method='POST', req_type=ReqType.JSON, body='{\"checkmempool', status=400, ret_type=RetType.OBJ)\n-        self.test_rest_request(\"/getutxos\", http_method='POST', req_type=ReqType.BIN, body='{\"checkmempool', status=400, ret_type=RetType.OBJ)\n-        self.test_rest_request(\"/getutxos/checkmempool\", http_method='POST', req_type=ReqType.JSON, status=400, ret_type=RetType.OBJ)\n+        self.test_rest_request(\"/getutxos\", http_method='POST', req_type=ReqType.JSON, body='{\"checkmempool', status=HTTPStatus.BAD_REQUEST, ret_type=RetType.OBJ)\n+        self.test_rest_request(\"/getutxos\", http_method='POST', req_type=ReqType.BIN, body='{\"checkmempool', status=HTTPStatus.BAD_REQUEST, ret_type=RetType.OBJ)\n+        self.test_rest_request(\"/getutxos/checkmempool\", http_method='POST', req_type=ReqType.JSON, status=HTTPStatus.BAD_REQUEST, ret_type=RetType.OBJ)\n \n         # Test limits\n         long_uri = '/'.join([f\"{txid}-{n_}\" for n_ in range(20)])\n-        self.test_rest_request(f\"/getutxos/checkmempool/{long_uri}\", http_method='POST', status=400, ret_type=RetType.OBJ)\n+        self.test_rest_request(f\"/getutxos/checkmempool/{long_uri}\", http_method='POST', status=HTTPStatus.BAD_REQUEST, ret_type=RetType.OBJ)\n \n         long_uri = '/'.join([f'{txid}-{n_}' for n_ in range(15)])\n-        self.test_rest_request(f\"/getutxos/checkmempool/{long_uri}\", http_method='POST', status=200)\n+        self.test_rest_request(f\"/getutxos/checkmempool/{long_uri}\", http_method='POST', status=HTTPStatus.OK)",
      "path": "test/functional/interface_rest.py",
      "position": null,
      "original_position": 47,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "9b0a0dc92308fa069ffc03ebe93eff2de317d59a",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "These changes are unrelated to the segmentation fault and at the very least need to be in a separate commit",
      "created_at": "2023-03-20T16:22:20Z",
      "updated_at": "2023-03-20T16:26:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1142386023",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142386023"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": 217,
      "start_side": "LEFT",
      "line": null,
      "original_line": 218,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142420455",
      "pull_request_review_id": 1349011567,
      "id": 1142420455,
      "node_id": "PRRC_kwDOABII585EF_Pn",
      "diff_hunk": "@@ -205,16 +206,16 @@ def run_test(self):\n         assert_equal(len(json_obj['utxos']), 1)\n \n         # Do some invalid requests\n-        self.test_rest_request(\"/getutxos\", http_method='POST', req_type=ReqType.JSON, body='{\"checkmempool', status=400, ret_type=RetType.OBJ)\n-        self.test_rest_request(\"/getutxos\", http_method='POST', req_type=ReqType.BIN, body='{\"checkmempool', status=400, ret_type=RetType.OBJ)\n-        self.test_rest_request(\"/getutxos/checkmempool\", http_method='POST', req_type=ReqType.JSON, status=400, ret_type=RetType.OBJ)\n+        self.test_rest_request(\"/getutxos\", http_method='POST', req_type=ReqType.JSON, body='{\"checkmempool', status=HTTPStatus.BAD_REQUEST, ret_type=RetType.OBJ)\n+        self.test_rest_request(\"/getutxos\", http_method='POST', req_type=ReqType.BIN, body='{\"checkmempool', status=HTTPStatus.BAD_REQUEST, ret_type=RetType.OBJ)\n+        self.test_rest_request(\"/getutxos/checkmempool\", http_method='POST', req_type=ReqType.JSON, status=HTTPStatus.BAD_REQUEST, ret_type=RetType.OBJ)\n \n         # Test limits\n         long_uri = '/'.join([f\"{txid}-{n_}\" for n_ in range(20)])\n-        self.test_rest_request(f\"/getutxos/checkmempool/{long_uri}\", http_method='POST', status=400, ret_type=RetType.OBJ)\n+        self.test_rest_request(f\"/getutxos/checkmempool/{long_uri}\", http_method='POST', status=HTTPStatus.BAD_REQUEST, ret_type=RetType.OBJ)\n \n         long_uri = '/'.join([f'{txid}-{n_}' for n_ in range(15)])\n-        self.test_rest_request(f\"/getutxos/checkmempool/{long_uri}\", http_method='POST', status=200)\n+        self.test_rest_request(f\"/getutxos/checkmempool/{long_uri}\", http_method='POST', status=HTTPStatus.OK)",
      "path": "test/functional/interface_rest.py",
      "position": null,
      "original_position": 47,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "9b0a0dc92308fa069ffc03ebe93eff2de317d59a",
      "in_reply_to_id": 1142386023,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Sorry, forgot to remove all that.",
      "created_at": "2023-03-20T16:48:13Z",
      "updated_at": "2023-03-20T16:48:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1142420455",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142420455"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": 217,
      "start_side": "LEFT",
      "line": null,
      "original_line": 218,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142421537",
      "pull_request_review_id": 1349013127,
      "id": 1142421537,
      "node_id": "PRRC_kwDOABII585EF_gh",
      "diff_hunk": "@@ -172,4 +163,19 @@ class HTTPEvent\n     struct event* ev;\n };\n \n+\n+/** Get the query parameter value from a evhttp_uri (parsed) object for a specified key, or std::nullopt\n+ * if the key is not found or uri_parsed parameter is nullptr (most probably from a failed parsing).\n+ *\n+ * If the query string contains duplicate keys, the first value is returned. Many web frameworks\n+ * would instead parse this as an array of values, but this is not (yet) implemented as it is\n+ * currently not needed in any of the endpoints.\n+ *\n+ * Helper function for HTTPRequest::GetQueryParameter.\n+ *\n+ * @param[in] uri_parsed is the evhttp_uri object (obtained from evhttp_uri_parse - libevent function)\n+ * @param[in] key represents the query parameter of which the value is returned\n+ */\n+std::optional<std::string> GetQueryParameterFromUri(const evhttp_uri* uri_parsed, const std::string& key);\n+",
      "path": "src/httpserver.h",
      "position": null,
      "original_position": 70,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "0115dccef675c62d1c7f1b0df4c94827737de4a3",
      "in_reply_to_id": 1142376537,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Was unintentional, going to place it on its original location.",
      "created_at": "2023-03-20T16:49:05Z",
      "updated_at": "2023-03-20T16:49:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1142421537",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142421537"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": 166,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 180,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142422788",
      "pull_request_review_id": 1349014880,
      "id": 1142422788,
      "node_id": "PRRC_kwDOABII585EF_0E",
      "diff_hunk": "@@ -689,11 +703,12 @@ std::optional<std::string> GetQueryParameterFromUri(const char* uri, const std::\n         }\n         evhttp_clear_headers(&params_q);\n     }\n-    evhttp_uri_free(uri_parsed);\n \n     return result;\n }\n \n+evhttp_uri* HTTPRequest::GetURIParsed() { return m_uri_parsed; }",
      "path": "src/httpserver.cpp",
      "position": null,
      "original_position": 92,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "0115dccef675c62d1c7f1b0df4c94827737de4a3",
      "in_reply_to_id": 1142370781,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "ok",
      "created_at": "2023-03-20T16:50:02Z",
      "updated_at": "2023-03-20T16:50:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1142422788",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142422788"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 710,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142437445",
      "pull_request_review_id": 1349035814,
      "id": 1142437445,
      "node_id": "PRRC_kwDOABII585EGDZF",
      "diff_hunk": "@@ -5,34 +5,50 @@\n #include <httpserver.h>\n #include <test/util/setup_common.h>\n \n+#include <event2/http.h>\n+\n #include <boost/test/unit_test.hpp>\n \n BOOST_FIXTURE_TEST_SUITE(httpserver_tests, BasicTestingSetup)\n \n BOOST_AUTO_TEST_CASE(test_query_parameters)\n {\n-    std::string uri {};\n-\n     // No parameters\n-    uri = \"localhost:8080/rest/headers/someresource.json\";\n-    BOOST_CHECK(!GetQueryParameterFromUri(uri.c_str(), \"p1\").has_value());\n+    std::string uri = \"localhost:8080/rest/headers/someresource.json\";",
      "path": "src/test/httpserver_tests.cpp",
      "position": null,
      "original_position": 17,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "9b0a0dc92308fa069ffc03ebe93eff2de317d59a",
      "in_reply_to_id": null,
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit:\r\n```suggestion\r\n    const std::string uri{\"localhost:8080/rest/headers/someresource.json\"};\r\n```",
      "created_at": "2023-03-20T17:01:25Z",
      "updated_at": "2023-03-20T17:01:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1142437445",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142437445"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 17,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142439278",
      "pull_request_review_id": 1349038523,
      "id": 1142439278,
      "node_id": "PRRC_kwDOABII585EGD1u",
      "diff_hunk": "@@ -5,34 +5,50 @@\n #include <httpserver.h>\n #include <test/util/setup_common.h>\n \n+#include <event2/http.h>\n+\n #include <boost/test/unit_test.hpp>\n \n BOOST_FIXTURE_TEST_SUITE(httpserver_tests, BasicTestingSetup)\n \n BOOST_AUTO_TEST_CASE(test_query_parameters)\n {\n-    std::string uri {};\n-\n     // No parameters\n-    uri = \"localhost:8080/rest/headers/someresource.json\";\n-    BOOST_CHECK(!GetQueryParameterFromUri(uri.c_str(), \"p1\").has_value());\n+    std::string uri = \"localhost:8080/rest/headers/someresource.json\";",
      "path": "src/test/httpserver_tests.cpp",
      "position": null,
      "original_position": 17,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "9b0a0dc92308fa069ffc03ebe93eff2de317d59a",
      "in_reply_to_id": 1142437445,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "right",
      "created_at": "2023-03-20T17:02:57Z",
      "updated_at": "2023-03-20T17:02:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1142439278",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142439278"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 17,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142447667",
      "pull_request_review_id": 1349051248,
      "id": 1142447667,
      "node_id": "PRRC_kwDOABII585EGF4z",
      "diff_hunk": "@@ -56,7 +57,8 @@ struct event_base* EventBase();\n class HTTPRequest\n {\n private:\n-    struct evhttp_request* req;\n+    struct evhttp_request* req{nullptr};",
      "path": "src/httpserver.h",
      "position": null,
      "original_position": 13,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "0115dccef675c62d1c7f1b0df4c94827737de4a3",
      "in_reply_to_id": 1142378663,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I wanted to make sure then to use the free up function for the request in the `HTTPRequest` destructor: `evhttp_request_free`. This was something I was doing while investigating the previous failure of the ASan tests and possible memory leaks. I'll remove it if you think unnecessary, ",
      "created_at": "2023-03-20T17:10:00Z",
      "updated_at": "2023-03-20T17:10:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1142447667",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142447667"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": 59,
      "start_side": "LEFT",
      "line": null,
      "original_line": 60,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142449820",
      "pull_request_review_id": 1349054407,
      "id": 1142449820,
      "node_id": "PRRC_kwDOABII585EGGac",
      "diff_hunk": "",
      "path": "src/test/httpserver_tests.cpp",
      "position": 1,
      "original_position": 1,
      "commit_id": "9b0a0dc92308fa069ffc03ebe93eff2de317d59a",
      "original_commit_id": "9b0a0dc92308fa069ffc03ebe93eff2de317d59a",
      "in_reply_to_id": 1142382188,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "ok, let me add some helper(s) there.",
      "created_at": "2023-03-20T17:11:51Z",
      "updated_at": "2023-03-20T17:11:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1142449820",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142449820"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1,
      "original_line": 1,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142466765",
      "pull_request_review_id": 1349078617,
      "id": 1142466765,
      "node_id": "PRRC_kwDOABII585EGKjN",
      "diff_hunk": "@@ -124,21 +126,10 @@ class HTTPRequest\n      * main thread, do not call any other HTTPRequest methods after calling this.\n      */\n     void WriteReply(int nStatus, const std::string& strReply = \"\");\n-};\n \n-/** Get the query parameter value from request uri for a specified key, or std::nullopt if the key\n- * is not found.\n- *\n- * If the query string contains duplicate keys, the first value is returned. Many web frameworks\n- * would instead parse this as an array of values, but this is not (yet) implemented as it is\n- * currently not needed in any of the endpoints.\n- *\n- * Helper function for HTTPRequest::GetQueryParameter.\n- *\n- * @param[in] uri is the entire request uri\n- * @param[in] key represents the query parameter of which the value is returned\n- */\n-std::optional<std::string> GetQueryParameterFromUri(const char* uri, const std::string& key);\n+    /** Get libevent parsed URI, which is nullptr if uri parsing failed */\n+    evhttp_uri* GetURIParsed();",
      "path": "src/httpserver.h",
      "position": null,
      "original_position": 47,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "0115dccef675c62d1c7f1b0df4c94827737de4a3",
      "in_reply_to_id": 1142371332,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yeah, putting it back, before the compiler was complaining as in the previous approach we were modifying m_uri_parsed in this function.",
      "created_at": "2023-03-20T17:26:12Z",
      "updated_at": "2023-03-20T17:26:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1142466765",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142466765"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 131,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142467803",
      "pull_request_review_id": 1349080168,
      "id": 1142467803,
      "node_id": "PRRC_kwDOABII585EGKzb",
      "diff_hunk": "@@ -92,7 +94,7 @@ class HTTPRequest\n      *\n      * @param[in] key represents the query parameter of which the value is returned\n      */\n-    std::optional<std::string> GetQueryParameter(const std::string& key) const;\n+    std::optional<std::string> GetQueryParameter(const std::string& key);",
      "path": "src/httpserver.h",
      "position": null,
      "original_position": 23,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "0115dccef675c62d1c7f1b0df4c94827737de4a3",
      "in_reply_to_id": 1142379157,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Similar reason to the above comment on`GetURIParsed()` function, back again. ",
      "created_at": "2023-03-20T17:27:08Z",
      "updated_at": "2023-03-20T17:27:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1142467803",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142467803"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": 95,
      "start_side": "LEFT",
      "line": null,
      "original_line": 97,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142472126",
      "pull_request_review_id": 1349086453,
      "id": 1142472126,
      "node_id": "PRRC_kwDOABII585EGL2-",
      "diff_hunk": "@@ -56,7 +57,8 @@ struct event_base* EventBase();\n class HTTPRequest\n {\n private:\n-    struct evhttp_request* req;\n+    struct evhttp_request* req{nullptr};",
      "path": "src/httpserver.h",
      "position": null,
      "original_position": 13,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "0115dccef675c62d1c7f1b0df4c94827737de4a3",
      "in_reply_to_id": 1142378663,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'll take it back.",
      "created_at": "2023-03-20T17:30:56Z",
      "updated_at": "2023-03-20T17:30:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1142472126",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142472126"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": 59,
      "start_side": "LEFT",
      "line": null,
      "original_line": 60,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142506066",
      "pull_request_review_id": 1349136769,
      "id": 1142506066,
      "node_id": "PRRC_kwDOABII585EGUJS",
      "diff_hunk": "",
      "path": "src/test/httpserver_tests.cpp",
      "position": 1,
      "original_position": 1,
      "commit_id": "9b0a0dc92308fa069ffc03ebe93eff2de317d59a",
      "original_commit_id": "9b0a0dc92308fa069ffc03ebe93eff2de317d59a",
      "in_reply_to_id": 1142382188,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "done.",
      "created_at": "2023-03-20T18:01:55Z",
      "updated_at": "2023-03-20T18:01:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1142506066",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142506066"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1,
      "original_line": 1,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1143232308",
      "pull_request_review_id": 1350217812,
      "id": 1143232308,
      "node_id": "PRRC_kwDOABII585EJFc0",
      "diff_hunk": "@@ -124,21 +126,24 @@ class HTTPRequest\n      * main thread, do not call any other HTTPRequest methods after calling this.\n      */\n     void WriteReply(int nStatus, const std::string& strReply = \"\");\n+\n+    /** Get libevent parsed URI, which is nullptr if uri parsing failed */\n+    const evhttp_uri* GetURIParsed() const { return m_uri_parsed; }\n };\n \n-/** Get the query parameter value from request uri for a specified key, or std::nullopt if the key\n- * is not found.\n+/** Get the query parameter value from a evhttp_uri (parsed) object for a specified key, or std::nullopt\n+ * if the key is not found or uri_parsed parameter is nullptr (most probably from a failed parsing).",
      "path": "src/httpserver.h",
      "position": null,
      "original_position": 28,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "36be160a9b4863c59c6be4bc41d6ffa29903da17",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: it's actually an argument, but I would just leave it out\r\n\r\n```suggestion\r\n * if the key is not found or if uri_parsed is nullptr (most probably from a failed parsing).\r\n```",
      "created_at": "2023-03-21T11:26:13Z",
      "updated_at": "2023-03-21T12:12:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1143232308",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1143232308"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 135,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1143234062",
      "pull_request_review_id": 1350217812,
      "id": 1143234062,
      "node_id": "PRRC_kwDOABII585EJF4O",
      "diff_hunk": "@@ -124,21 +126,24 @@ class HTTPRequest\n      * main thread, do not call any other HTTPRequest methods after calling this.\n      */\n     void WriteReply(int nStatus, const std::string& strReply = \"\");\n+\n+    /** Get libevent parsed URI, which is nullptr if uri parsing failed */\n+    const evhttp_uri* GetURIParsed() const { return m_uri_parsed; }\n };\n \n-/** Get the query parameter value from request uri for a specified key, or std::nullopt if the key\n- * is not found.\n+/** Get the query parameter value from a evhttp_uri (parsed) object for a specified key, or std::nullopt\n+ * if the key is not found or uri_parsed parameter is nullptr (most probably from a failed parsing).\n  *\n  * If the query string contains duplicate keys, the first value is returned. Many web frameworks\n  * would instead parse this as an array of values, but this is not (yet) implemented as it is\n  * currently not needed in any of the endpoints.\n  *\n  * Helper function for HTTPRequest::GetQueryParameter.\n  *\n- * @param[in] uri is the entire request uri\n+ * @param[in] uri_parsed is the evhttp_uri object (obtained from evhttp_uri_parse - libevent function)",
      "path": "src/httpserver.h",
      "position": null,
      "original_position": 37,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "36be160a9b4863c59c6be4bc41d6ffa29903da17",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit\r\n```suggestion\r\n * @param[in] uri_parsed is the uri parsed with libevent's evhttp_uri_parse\r\n```",
      "created_at": "2023-03-21T11:27:55Z",
      "updated_at": "2023-03-21T12:12:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1143234062",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1143234062"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 143,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1143273441",
      "pull_request_review_id": 1350217812,
      "id": 1143273441,
      "node_id": "PRRC_kwDOABII585EJPfh",
      "diff_hunk": "",
      "path": "src/test/httpserver_tests.cpp",
      "position": 1,
      "original_position": 1,
      "commit_id": "36be160a9b4863c59c6be4bc41d6ffa29903da17",
      "original_commit_id": "36be160a9b4863c59c6be4bc41d6ffa29903da17",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think the tests are still more complex than necessary. How about this:\r\n\r\n<details>\r\n<summary>git diff</summary>\r\n\r\n```diff\r\ndiff --git a/src/test/httpserver_tests.cpp b/src/test/httpserver_tests.cpp\r\nindex 0462d3ae3..6ae57bdf0 100644\r\n--- a/src/test/httpserver_tests.cpp\r\n+++ b/src/test/httpserver_tests.cpp\r\n@@ -11,42 +11,46 @@\r\n \r\n BOOST_FIXTURE_TEST_SUITE(httpserver_tests, BasicTestingSetup)\r\n \r\n-static evhttp_uri* GetURIParsed(const std::string uri){\r\n-    return evhttp_uri_parse(uri.c_str());\r\n+/** Test if query parameter exists in the provided uri. */\r\n+bool QueryParameterExists(std::string_view uri, const std::string& key)\r\n+{\r\n+    auto uri_parsed{evhttp_uri_parse(uri.data())};\r\n+    const bool exists{GetQueryParameterFromUri(uri_parsed, key).has_value()};\r\n+    if(uri_parsed) evhttp_uri_free(uri_parsed);\r\n+    return exists;\r\n+}\r\n+\r\n+/** Test if query parameter exists in the provided uri and if its value matches the expected_value. */\r\n+bool QueryParameterEquals(std::string_view uri, const std::string& key, std::string_view expected_value)\r\n+{\r\n+    auto uri_parsed{evhttp_uri_parse(uri.data())};\r\n+    const auto param_value{GetQueryParameterFromUri(uri_parsed, key)};\r\n+    const bool is_equal{param_value.has_value() && *param_value == expected_value};\r\n+    if(uri_parsed) evhttp_uri_free(uri_parsed);\r\n+    return is_equal;\r\n }\r\n \r\n BOOST_AUTO_TEST_CASE(test_query_parameters)\r\n {\r\n     // No parameters\r\n-    evhttp_uri* uri_parsed{GetURIParsed(\"localhost:8080/rest/headers/someresource.json\")};\r\n-    BOOST_CHECK(!GetQueryParameterFromUri(uri_parsed, \"p1\").has_value());\r\n-    evhttp_uri_free(uri_parsed);\r\n+    BOOST_CHECK(!QueryParameterExists(\"localhost:8080/rest/headers/someresource.json\", \"p1\"));\r\n \r\n     // Single parameter\r\n-    uri_parsed = GetURIParsed(\"localhost:8080/rest/endpoint/someresource.json?p1=v1\");\r\n-    BOOST_CHECK_EQUAL(GetQueryParameterFromUri(uri_parsed, \"p1\").value(), \"v1\");\r\n-    BOOST_CHECK(!GetQueryParameterFromUri(uri_parsed, \"p2\").has_value());\r\n-    evhttp_uri_free(uri_parsed);\r\n+    BOOST_CHECK(QueryParameterEquals(\"localhost:8080/rest/endpoint/someresource.json?p1=v1\", \"p1\", \"v1\"));\r\n+    BOOST_CHECK(!QueryParameterExists(\"localhost:8080/rest/endpoint/someresource.json?p1=v1\", \"p2\"));\r\n \r\n     // Multiple parameters\r\n-    uri_parsed = GetURIParsed(\"/rest/endpoint/someresource.json?p1=v1&p2=v2\");\r\n-    BOOST_CHECK_EQUAL(GetQueryParameterFromUri(uri_parsed, \"p1\").value(), \"v1\");\r\n-    BOOST_CHECK_EQUAL(GetQueryParameterFromUri(uri_parsed, \"p2\").value(), \"v2\");\r\n-    evhttp_uri_free(uri_parsed);\r\n+    BOOST_CHECK(QueryParameterEquals(\"/rest/endpoint/someresource.json?p1=v1&p2=v2\", \"p1\", \"v1\"));\r\n+    BOOST_CHECK(QueryParameterEquals(\"/rest/endpoint/someresource.json?p1=v1&p2=v2\", \"p2\", \"v2\"));\r\n \r\n     // If the query string contains duplicate keys, the first value is returned\r\n-    uri_parsed = GetURIParsed(\"/rest/endpoint/someresource.json?p1=v1&p1=v2\");\r\n-    BOOST_CHECK_EQUAL(GetQueryParameterFromUri(uri_parsed, \"p1\").value(), \"v1\");\r\n-    evhttp_uri_free(uri_parsed);\r\n+    BOOST_CHECK(QueryParameterEquals(\"/rest/endpoint/someresource.json?p1=v1&p1=v2\", \"p1\", \"v1\"));\r\n \r\n     // Invalid query string syntax is the same as not having parameters\r\n-    uri_parsed = GetURIParsed(\"/rest/endpoint/someresource.json&p1=v1&p2=v2\");\r\n-    BOOST_CHECK(!GetQueryParameterFromUri(uri_parsed, \"p1\").has_value());\r\n-    evhttp_uri_free(uri_parsed);\r\n+    BOOST_CHECK(!QueryParameterExists(\"/rest/endpoint/someresource.json&p1=v1&p2=v2\", \"p1\"));\r\n \r\n     // Invalid URI with % symbol won't return any values as not having parameters at all\r\n-    uri_parsed = GetURIParsed(\"/rest/endpoint/someresource.json&p1=v1&p2=v2%\");\r\n-    BOOST_CHECK_EQUAL(uri_parsed, nullptr);\r\n-    BOOST_CHECK(!GetQueryParameterFromUri(uri_parsed, \"p1\").has_value());\r\n+    BOOST_CHECK(!QueryParameterExists(\"/rest/endpoint/someresource.json&p1=v1&p2=v2%\", \"p1\"));\r\n+\r\n }\r\n BOOST_AUTO_TEST_SUITE_END()\r\n\r\n```\r\n</details>\r\n\r\nCan probably still be deduplicated a bit more using an RAII wrapper for uri_parsed, if you like.",
      "created_at": "2023-03-21T12:04:40Z",
      "updated_at": "2023-03-21T12:12:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1143273441",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1143273441"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1,
      "original_line": 1,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1143875114",
      "pull_request_review_id": 1351215452,
      "id": 1143875114,
      "node_id": "PRRC_kwDOABII585ELiYq",
      "diff_hunk": "@@ -124,21 +126,24 @@ class HTTPRequest\n      * main thread, do not call any other HTTPRequest methods after calling this.\n      */\n     void WriteReply(int nStatus, const std::string& strReply = \"\");\n+\n+    /** Get libevent parsed URI, which is nullptr if uri parsing failed */\n+    const evhttp_uri* GetURIParsed() const { return m_uri_parsed; }\n };\n \n-/** Get the query parameter value from request uri for a specified key, or std::nullopt if the key\n- * is not found.\n+/** Get the query parameter value from a evhttp_uri (parsed) object for a specified key, or std::nullopt\n+ * if the key is not found or uri_parsed parameter is nullptr (most probably from a failed parsing).",
      "path": "src/httpserver.h",
      "position": null,
      "original_position": 28,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "36be160a9b4863c59c6be4bc41d6ffa29903da17",
      "in_reply_to_id": 1143232308,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "done.",
      "created_at": "2023-03-21T19:04:52Z",
      "updated_at": "2023-03-21T19:04:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1143875114",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1143875114"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 135,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1143875257",
      "pull_request_review_id": 1351215697,
      "id": 1143875257,
      "node_id": "PRRC_kwDOABII585ELia5",
      "diff_hunk": "@@ -124,21 +126,24 @@ class HTTPRequest\n      * main thread, do not call any other HTTPRequest methods after calling this.\n      */\n     void WriteReply(int nStatus, const std::string& strReply = \"\");\n+\n+    /** Get libevent parsed URI, which is nullptr if uri parsing failed */\n+    const evhttp_uri* GetURIParsed() const { return m_uri_parsed; }\n };\n \n-/** Get the query parameter value from request uri for a specified key, or std::nullopt if the key\n- * is not found.\n+/** Get the query parameter value from a evhttp_uri (parsed) object for a specified key, or std::nullopt\n+ * if the key is not found or uri_parsed parameter is nullptr (most probably from a failed parsing).\n  *\n  * If the query string contains duplicate keys, the first value is returned. Many web frameworks\n  * would instead parse this as an array of values, but this is not (yet) implemented as it is\n  * currently not needed in any of the endpoints.\n  *\n  * Helper function for HTTPRequest::GetQueryParameter.\n  *\n- * @param[in] uri is the entire request uri\n+ * @param[in] uri_parsed is the evhttp_uri object (obtained from evhttp_uri_parse - libevent function)",
      "path": "src/httpserver.h",
      "position": null,
      "original_position": 37,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "36be160a9b4863c59c6be4bc41d6ffa29903da17",
      "in_reply_to_id": 1143234062,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "done.",
      "created_at": "2023-03-21T19:05:02Z",
      "updated_at": "2023-03-21T19:05:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1143875257",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1143875257"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 143,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1143958464",
      "pull_request_review_id": 1351338825,
      "id": 1143958464,
      "node_id": "PRRC_kwDOABII585EL2vA",
      "diff_hunk": "",
      "path": "src/test/httpserver_tests.cpp",
      "position": 1,
      "original_position": 1,
      "commit_id": "36be160a9b4863c59c6be4bc41d6ffa29903da17",
      "original_commit_id": "36be160a9b4863c59c6be4bc41d6ffa29903da17",
      "in_reply_to_id": 1143273441,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done with one more tweak. I'll use an RAII wrapper if I have to touch the code again, and if that's the case, could you pls point me to an example already here in the bitcoin core code if already exists? Thanks.",
      "created_at": "2023-03-21T20:32:06Z",
      "updated_at": "2023-03-21T20:32:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1143958464",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1143958464"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1,
      "original_line": 1,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1144885003",
      "pull_request_review_id": 1352688865,
      "id": 1144885003,
      "node_id": "PRRC_kwDOABII585EPY8L",
      "diff_hunk": "@@ -5,34 +5,52 @@\n #include <httpserver.h>\n #include <test/util/setup_common.h>\n \n+#include <event2/http.h>\n+\n #include <boost/test/unit_test.hpp>\n \n BOOST_FIXTURE_TEST_SUITE(httpserver_tests, BasicTestingSetup)\n \n-BOOST_AUTO_TEST_CASE(test_query_parameters)\n+std::optional<std::string> GetParameterFromURI(const std::string_view uri, const std::string& key){",
      "path": "src/test/httpserver_tests.cpp",
      "position": null,
      "original_position": 11,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "729287530e458febf32e01e542a36e7be4a74fbf",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Missing `#include <string>` and `#include <string_view>`",
      "created_at": "2023-03-22T14:15:26Z",
      "updated_at": "2023-03-22T14:18:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1144885003",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1144885003"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 17,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1144930961",
      "pull_request_review_id": 1352757174,
      "id": 1144930961,
      "node_id": "PRRC_kwDOABII585EPkKR",
      "diff_hunk": "@@ -5,34 +5,52 @@\n #include <httpserver.h>\n #include <test/util/setup_common.h>\n \n+#include <event2/http.h>\n+\n #include <boost/test/unit_test.hpp>\n \n BOOST_FIXTURE_TEST_SUITE(httpserver_tests, BasicTestingSetup)\n \n-BOOST_AUTO_TEST_CASE(test_query_parameters)\n+std::optional<std::string> GetParameterFromURI(const std::string_view uri, const std::string& key){\n+    auto uri_parsed{evhttp_uri_parse(uri.data())};\n+    const auto param_value{GetQueryParameterFromUri(uri_parsed, key)};\n+    if(uri_parsed) evhttp_uri_free(uri_parsed);\n+    return param_value;",
      "path": "src/test/httpserver_tests.cpp",
      "position": null,
      "original_position": 15,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "729287530e458febf32e01e542a36e7be4a74fbf",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```\r\ntest/httpserver_tests.cpp:18:12: error: constness of 'param_value' prevents automatic move [performance-no-automatic-move,-warnings-as-errors]\r\n    return param_value;\r\n           ^\r\nclang-tidy-14 --us",
      "created_at": "2023-03-22T14:44:12Z",
      "updated_at": "2023-03-22T14:44:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1144930961",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1144930961"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1144975901",
      "pull_request_review_id": 1352828665,
      "id": 1144975901,
      "node_id": "PRRC_kwDOABII585EPvId",
      "diff_hunk": "@@ -5,34 +5,52 @@\n #include <httpserver.h>\n #include <test/util/setup_common.h>\n \n+#include <event2/http.h>\n+\n #include <boost/test/unit_test.hpp>\n \n BOOST_FIXTURE_TEST_SUITE(httpserver_tests, BasicTestingSetup)\n \n-BOOST_AUTO_TEST_CASE(test_query_parameters)\n+std::optional<std::string> GetParameterFromURI(const std::string_view uri, const std::string& key){\n+    auto uri_parsed{evhttp_uri_parse(uri.data())};\n+    const auto param_value{GetQueryParameterFromUri(uri_parsed, key)};\n+    if(uri_parsed) evhttp_uri_free(uri_parsed);\n+    return param_value;",
      "path": "src/test/httpserver_tests.cpp",
      "position": null,
      "original_position": 15,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "729287530e458febf32e01e542a36e7be4a74fbf",
      "in_reply_to_id": 1144930961,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'll fix this.",
      "created_at": "2023-03-22T15:12:33Z",
      "updated_at": "2023-03-22T15:12:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1144975901",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1144975901"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1144977982",
      "pull_request_review_id": 1352832771,
      "id": 1144977982,
      "node_id": "PRRC_kwDOABII585EPvo-",
      "diff_hunk": "@@ -5,34 +5,52 @@\n #include <httpserver.h>\n #include <test/util/setup_common.h>\n \n+#include <event2/http.h>\n+\n #include <boost/test/unit_test.hpp>\n \n BOOST_FIXTURE_TEST_SUITE(httpserver_tests, BasicTestingSetup)\n \n-BOOST_AUTO_TEST_CASE(test_query_parameters)\n+std::optional<std::string> GetParameterFromURI(const std::string_view uri, const std::string& key){",
      "path": "src/test/httpserver_tests.cpp",
      "position": null,
      "original_position": 11,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "729287530e458febf32e01e542a36e7be4a74fbf",
      "in_reply_to_id": 1144885003,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ok, thanks.",
      "created_at": "2023-03-22T15:14:01Z",
      "updated_at": "2023-03-22T15:14:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1144977982",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1144977982"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 17,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1149028723",
      "pull_request_review_id": 1358692325,
      "id": 1149028723,
      "node_id": "PRRC_kwDOABII585EfMlz",
      "diff_hunk": "@@ -253,11 +262,11 @@ static void http_request_cb(struct evhttp_request* req, void* arg)\n         return;\n     }\n \n+    std::string strURI{hreq->GetURI()};",
      "path": "src/httpserver.cpp",
      "position": null,
      "original_position": 29,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "0aa0626c502b70244da8dfd519612635a8e90f3b",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit:\r\n```suggestion\r\n    const std::string strURI{hreq->GetURI()};\r\n```",
      "created_at": "2023-03-27T09:18:15Z",
      "updated_at": "2023-03-27T11:11:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1149028723",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1149028723"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 265,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1149034300",
      "pull_request_review_id": 1358692325,
      "id": 1149034300,
      "node_id": "PRRC_kwDOABII585EfN88",
      "diff_hunk": "@@ -73,7 +75,7 @@ class HTTPRequest\n \n     /** Get requested URI.",
      "path": "src/httpserver.h",
      "position": null,
      "original_position": 18,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "0aa0626c502b70244da8dfd519612635a8e90f3b",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n    /** Get requested URI. Will always return non-nullptr.\r\n```",
      "created_at": "2023-03-27T09:23:05Z",
      "updated_at": "2023-03-27T11:11:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1149034300",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1149034300"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 74,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1149108682",
      "pull_request_review_id": 1358692325,
      "id": 1149108682,
      "node_id": "PRRC_kwDOABII585EfgHK",
      "diff_hunk": "@@ -126,19 +128,19 @@ class HTTPRequest\n     void WriteReply(int nStatus, const std::string& strReply = \"\");\n };\n \n-/** Get the query parameter value from request uri for a specified key, or std::nullopt if the key\n- * is not found.\n+/** Get the query parameter value from a evhttp_uri (parsed) object for a specified key, or std::nullopt\n+ * if the key is not found or if uri_parsed argument is nullptr (most probably from a failed parsing).",
      "path": "src/httpserver.h",
      "position": null,
      "original_position": 32,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "0aa0626c502b70244da8dfd519612635a8e90f3b",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It is possible to enforce that this argument will never be null - if changed to reference. Simplifies the code a bit:\r\n\r\n```diff\r\ndiff --git i/src/httpserver.cpp w/src/httpserver.cpp\r\nindex e9b68a36c1..1dccb196be 100644\r\n--- i/src/httpserver.cpp\r\n+++ w/src/httpserver.cpp\r\n@@ -683,20 +683,18 @@ HTTPRequest::RequestMethod HTTPRequest::GetRequestMethod() const\r\n         return UNKNOWN;\r\n     }\r\n }\r\n \r\n std::optional<std::string> HTTPRequest::GetQueryParameter(const std::string& key) const\r\n {\r\n-    if (!Assume(m_uri_parsed)) return std::nullopt;  // HTTPRequest constructor should have checked that m_uri_parsed is not nullptr\r\n-    return GetQueryParameterFromUri(m_uri_parsed, key);\r\n+    return GetQueryParameterFromUri(*m_uri_parsed, key);\r\n }\r\n \r\n-std::optional<std::string> GetQueryParameterFromUri(const evhttp_uri* uri_parsed, const std::string& key)\r\n+std::optional<std::string> GetQueryParameterFromUri(const evhttp_uri& uri_parsed, const std::string& key)\r\n {\r\n-    if (!uri_parsed) return std::nullopt;\r\n-    const char* query{evhttp_uri_get_query(uri_parsed)};\r\n+    const char* query{evhttp_uri_get_query(&uri_parsed)};\r\n     std::optional<std::string> result;\r\n \r\n     if (query) {\r\n         // Parse the query string into a key-value queue and iterate over it\r\n         struct evkeyvalq params_q;\r\n         evhttp_parse_query_str(query, &params_q);\r\ndiff --git i/src/httpserver.h w/src/httpserver.h\r\nindex 5b21a678c5..3f2ef06c11 100644\r\n--- i/src/httpserver.h\r\n+++ w/src/httpserver.h\r\n@@ -126,24 +126,24 @@ public:\r\n      * main thread, do not call any other HTTPRequest methods after calling this.\r\n      */\r\n     void WriteReply(int nStatus, const std::string& strReply = \"\");\r\n };\r\n \r\n /** Get the query parameter value from a evhttp_uri (parsed) object for a specified key, or std::nullopt\r\n- * if the key is not found or if uri_parsed argument is nullptr (most probably from a failed parsing).\r\n+ * if the key is not found.\r\n  *\r\n  * If the query string contains duplicate keys, the first value is returned. Many web frameworks\r\n  * would instead parse this as an array of values, but this is not (yet) implemented as it is\r\n  * currently not needed in any of the endpoints.\r\n  *\r\n  * Helper function for HTTPRequest::GetQueryParameter.\r\n  *\r\n  * @param[in] uri_parsed is the uri parsed with libevent's evhttp_uri_parse\r\n  * @param[in] key represents the query parameter of which the value is returned\r\n  */\r\n-std::optional<std::string> GetQueryParameterFromUri(const evhttp_uri* uri_parsed, const std::string& key);\r\n+std::optional<std::string> GetQueryParameterFromUri(const evhttp_uri& uri_parsed, const std::string& key);\r\n \r\n /** Event handler closure.\r\n  */\r\n class HTTPClosure\r\n {\r\n public:\r\ndiff --git i/src/test/httpserver_tests.cpp w/src/test/httpserver_tests.cpp\r\nindex 120c6d102f..6e2128863d 100644\r\n--- i/src/test/httpserver_tests.cpp\r\n+++ w/src/test/httpserver_tests.cpp\r\n@@ -13,13 +13,13 @@\r\n #include <boost/test/unit_test.hpp>\r\n \r\n BOOST_FIXTURE_TEST_SUITE(httpserver_tests, BasicTestingSetup)\r\n \r\n std::optional<std::string> GetParameterFromURI(const std::string_view uri, const std::string& key){\r\n     auto uri_parsed{evhttp_uri_parse(uri.data())};\r\n-    auto param_value{GetQueryParameterFromUri(uri_parsed, key)};\r\n+    auto param_value{GetQueryParameterFromUri(*uri_parsed, key)};\r\n     if(uri_parsed) evhttp_uri_free(uri_parsed);\r\n     return param_value;\r\n }\r\n \r\n /** Test if query parameter exists in the provided uri. */\r\n bool QueryParameterExists(const std::string_view uri, const std::string& key)\r\n```",
      "created_at": "2023-03-27T10:25:07Z",
      "updated_at": "2023-03-27T11:12:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1149108682",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1149108682"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 132,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1149110958",
      "pull_request_review_id": 1358692325,
      "id": 1149110958,
      "node_id": "PRRC_kwDOABII585Efgqu",
      "diff_hunk": "@@ -253,11 +262,11 @@ static void http_request_cb(struct evhttp_request* req, void* arg)\n         return;\n     }\n \n+    std::string strURI{hreq->GetURI()};",
      "path": "src/httpserver.cpp",
      "position": null,
      "original_position": 29,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "0aa0626c502b70244da8dfd519612635a8e90f3b",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`GetURI()` (which calls `evhttp_request_get_uri()`) could still return null. It seems too indirect to that we rely that we have called `evhttp_request_get_uri()` before on the same input and back then it returned non-null (from the constructor) so it must also return non-null now.\r\n\r\nI think it would be better to save the result in a variable and document that it will never be null. This will also avoid calling `evhttp_request_get_uri()` two times. Like this:\r\n\r\n```diff\r\ndiff --git i/src/httpserver.h w/src/httpserver.h\r\nindex 5b21a678c5..d7cd81be7e 100644\r\n--- i/src/httpserver.h\r\n+++ w/src/httpserver.h\r\n@@ -55,13 +55,16 @@ struct event_base* EventBase();\r\n  * Thin C++ wrapper around evhttp_request.\r\n  */\r\n class HTTPRequest\r\n {\r\n private:\r\n     struct evhttp_request* req;\r\n-    evhttp_uri* m_uri_parsed{nullptr};\r\n+    /// The URI, as returned by `evhttp_request_get_uri()`. Will never be `nullptr`.\r\n+    const char* const m_uri;\r\n+    /// The parsed URI, as returned by `evhttp_uri_parse()`. Will never be `nullptr`.\r\n+    evhttp_uri* const m_uri_parsed;\r\n     bool replySent;\r\n \r\n public:\r\n     explicit HTTPRequest(struct evhttp_request* req, bool replySent = false);\r\n     ~HTTPRequest();\r\n \r\ndiff --git i/src/httpserver.cpp w/src/httpserver.cpp\r\nindex e9b68a36c1..45d25bc32f 100644\r\n--- i/src/httpserver.cpp\r\n+++ w/src/httpserver.cpp\r\n@@ -238,14 +238,14 @@ static void http_request_cb(struct evhttp_request* req, void* arg)\r\n     }\r\n \r\n     std::unique_ptr<HTTPRequest> hreq;\r\n \r\n     try {\r\n         hreq = std::make_unique<HTTPRequest>(req);\r\n-    } catch (const std::system_error& e) {\r\n-        LogPrint(BCLog::HTTP, \"%d %s\\n\", e.code().value(), e.what());\r\n+    } catch (const std::runtime_error& e) {\r\n+        LogPrint(BCLog::HTTP, \"%s\\n\", e.what());\r\n         return;\r\n     }\r\n \r\n     // Early address-based allow check\r\n     if (!ClientAllowed(hreq->GetPeer())) {\r\n         LogPrint(BCLog::HTTP, \"HTTP request from %s rejected: Client network is not allowed RPC access\\n\",\r\n@@ -543,34 +543,33 @@ void HTTPEvent::trigger(struct timeval* tv)\r\n         event_active(ev, 0, 0); // immediately trigger event in main thread\r\n     else\r\n         evtimer_add(ev, tv); // trigger after timeval passed\r\n }\r\n HTTPRequest::HTTPRequest(struct evhttp_request* _req, bool _replySent) :\r\n         req{_req},\r\n+        m_uri{evhttp_request_get_uri(req)},\r\n+        m_uri_parsed{m_uri != nullptr && m_uri[0] != '\\0' ? evhttp_uri_parse(m_uri) : nullptr},\r\n         replySent{_replySent}\r\n {\r\n-    const char* uri_to_parse{GetURI()};\r\n-    if (uri_to_parse != nullptr && uri_to_parse[0] != '\\0') m_uri_parsed = evhttp_uri_parse(uri_to_parse);\r\n-\r\n-    if (!m_uri_parsed) {\r\n-        const int code{HTTP_BAD_REQUEST};\r\n-        const char* what{\"Invalid URI\"};\r\n-        WriteReply(code, what);\r\n-        throw std::system_error(code, std::generic_category(), what);\r\n+    if (m_uri_parsed == nullptr) {\r\n+        const char* err{\"Invalid URI\"};\r\n+        WriteReply(HTTP_BAD_REQUEST, err);\r\n+        throw std::runtime_error(\r\n+            strprintf(\"HTTP request from %s rejected: %s\", GetPeer().ToStringAddr(), err));\r\n     }\r\n }\r\n \r\n HTTPRequest::~HTTPRequest()\r\n {\r\n     // evhttpd cleans up the request, as long as a reply was sent.\r\n     if (!replySent) {\r\n         // Keep track of whether reply was sent to avoid request leaks\r\n         LogPrintf(\"%s: Unhandled request\\n\", __func__);\r\n         WriteReply(HTTP_INTERNAL_SERVER_ERROR, \"Unhandled request\");\r\n     }\r\n-    if (m_uri_parsed) evhttp_uri_free(m_uri_parsed);\r\n+    evhttp_uri_free(m_uri_parsed);\r\n }\r\n \r\n std::pair<bool, std::string> HTTPRequest::GetHeader(const std::string& hdr) const\r\n {\r\n     const struct evkeyvalq* headers = evhttp_request_get_input_headers(req);\r\n     assert(headers);\r\n@@ -662,13 +661,13 @@ CService HTTPRequest::GetPeer() const\r\n     }\r\n     return peer;\r\n }\r\n \r\n const char* HTTPRequest::GetURI() const\r\n {\r\n-    return evhttp_request_get_uri(req);\r\n+    return m_uri;\r\n }\r\n \r\n HTTPRequest::RequestMethod HTTPRequest::GetRequestMethod() const\r\n {\r\n     switch (evhttp_request_get_command(req)) {\r\n     case EVHTTP_REQ_GET:\r\n```\r\n\r\n",
      "created_at": "2023-03-27T10:27:19Z",
      "updated_at": "2023-03-27T11:11:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1149110958",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1149110958"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 265,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1149975805",
      "pull_request_review_id": 1360132776,
      "id": 1149975805,
      "node_id": "PRRC_kwDOABII585Eizz9",
      "diff_hunk": "@@ -126,19 +128,19 @@ class HTTPRequest\n     void WriteReply(int nStatus, const std::string& strReply = \"\");\n };\n \n-/** Get the query parameter value from request uri for a specified key, or std::nullopt if the key\n- * is not found.\n+/** Get the query parameter value from a evhttp_uri (parsed) object for a specified key, or std::nullopt\n+ * if the key is not found or if uri_parsed argument is nullptr (most probably from a failed parsing).",
      "path": "src/httpserver.h",
      "position": null,
      "original_position": 32,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "0aa0626c502b70244da8dfd519612635a8e90f3b",
      "in_reply_to_id": 1149108682,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I see, changing a pointer to a reference does not inherently prevent null pointer dereferences at runtime. However, by changing a pointer to a reference and documenting that the reference is expected to be non-null, we are effectively enforcing a contract that the caller of the function must provide a valid (non-null) reference. Suggestion taken, thanks!",
      "created_at": "2023-03-28T03:03:14Z",
      "updated_at": "2023-03-28T03:03:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1149975805",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1149975805"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 132,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1149977087",
      "pull_request_review_id": 1360134747,
      "id": 1149977087,
      "node_id": "PRRC_kwDOABII585Ei0H_",
      "diff_hunk": "@@ -253,11 +262,11 @@ static void http_request_cb(struct evhttp_request* req, void* arg)\n         return;\n     }\n \n+    std::string strURI{hreq->GetURI()};",
      "path": "src/httpserver.cpp",
      "position": null,
      "original_position": 29,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "0aa0626c502b70244da8dfd519612635a8e90f3b",
      "in_reply_to_id": 1149110958,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I agree with this suggestion, first the manipulation of null values, mainly its return, and also removing the extra call to `evhttp_request_get_uri()`.",
      "created_at": "2023-03-28T03:06:21Z",
      "updated_at": "2023-03-28T03:06:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1149977087",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1149977087"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 265,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1150023699",
      "pull_request_review_id": 1360200538,
      "id": 1150023699,
      "node_id": "PRRC_kwDOABII585Ei_gT",
      "diff_hunk": "@@ -126,19 +128,19 @@ class HTTPRequest\n     void WriteReply(int nStatus, const std::string& strReply = \"\");\n };\n \n-/** Get the query parameter value from request uri for a specified key, or std::nullopt if the key\n- * is not found.\n+/** Get the query parameter value from a evhttp_uri (parsed) object for a specified key, or std::nullopt\n+ * if the key is not found or if uri_parsed argument is nullptr (most probably from a failed parsing).",
      "path": "src/httpserver.h",
      "position": null,
      "original_position": 32,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "0aa0626c502b70244da8dfd519612635a8e90f3b",
      "in_reply_to_id": 1149108682,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The problem removing `if (!uri_parsed) return std::nullopt;` line from `GetQueryParameterFromUri()` is that passing nullptr as the uri_parsed (from an invalid uri), as in the last test case in `httpserver_test.cpp` will produce the `segfault`, so I could opt that in the test but I dont think it's the real intention of testing `GetQueryParameterFromUri()`.",
      "created_at": "2023-03-28T04:51:44Z",
      "updated_at": "2023-03-28T04:51:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1150023699",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1150023699"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 132,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1151145374",
      "pull_request_review_id": 1361896588,
      "id": 1151145374,
      "node_id": "PRRC_kwDOABII585EnRWe",
      "diff_hunk": "@@ -5,34 +5,55 @@\n #include <httpserver.h>\n #include <test/util/setup_common.h>\n \n+#include <event2/http.h>\n+\n+#include <string>\n+#include <string_view>\n+\n #include <boost/test/unit_test.hpp>\n \n BOOST_FIXTURE_TEST_SUITE(httpserver_tests, BasicTestingSetup)\n \n-BOOST_AUTO_TEST_CASE(test_query_parameters)\n+std::optional<std::string> GetParameterFromURI(const std::string_view uri, const std::string& key){\n+    auto uri_parsed{evhttp_uri_parse(uri.data())};\n+    if (uri_parsed == nullptr) return std::nullopt;\n+    auto param_value{GetQueryParameterFromUri(*uri_parsed, key)};\n+    if(uri_parsed) evhttp_uri_free(uri_parsed);",
      "path": "src/test/httpserver_tests.cpp",
      "position": null,
      "original_position": 18,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "1c278adc1af97f5140a12a5d04a6232cd9966201",
      "in_reply_to_id": null,
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit\r\n```suggestion\r\n    if (uri_parsed) evhttp_uri_free(uri_parsed);\r\n```",
      "created_at": "2023-03-28T20:58:11Z",
      "updated_at": "2023-03-28T20:58:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1151145374",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1151145374"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 21,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1152902779",
      "pull_request_review_id": 1364578780,
      "id": 1152902779,
      "node_id": "PRRC_kwDOABII585Et-Z7",
      "diff_hunk": "@@ -126,19 +128,19 @@ class HTTPRequest\n     void WriteReply(int nStatus, const std::string& strReply = \"\");\n };\n \n-/** Get the query parameter value from request uri for a specified key, or std::nullopt if the key\n- * is not found.\n+/** Get the query parameter value from a evhttp_uri (parsed) object for a specified key, or std::nullopt\n+ * if the key is not found or if uri_parsed argument is nullptr (most probably from a failed parsing).",
      "path": "src/httpserver.h",
      "position": null,
      "original_position": 32,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "0aa0626c502b70244da8dfd519612635a8e90f3b",
      "in_reply_to_id": 1149108682,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It is not possible to pass `nullptr` as an argument to `GetQueryParameterFromUri(const evhttp_uri& uri_parsed, const std::string& key)`. This is the point. Inside the function there is no need to worry about null pointer.\r\n\r\nThe crash occurs inside the test:\r\n\r\n```cpp\r\n    auto uri_parsed{evhttp_uri_parse(uri.data())}; // ends up nullptr\r\n    auto param_value{GetQueryParameterFromUri(*uri_parsed, key)}; // crash here, before calling GetQueryParameterFromUri().\r\n```\r\n\r\nThe function is safe, the caller has to be adjusted.",
      "created_at": "2023-03-30T08:18:39Z",
      "updated_at": "2023-03-30T08:18:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1152902779",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1152902779"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 132,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1152924472",
      "pull_request_review_id": 1364610866,
      "id": 1152924472,
      "node_id": "PRRC_kwDOABII585EuDs4",
      "diff_hunk": "@@ -126,19 +128,19 @@ class HTTPRequest\n     void WriteReply(int nStatus, const std::string& strReply = \"\");\n };\n \n-/** Get the query parameter value from request uri for a specified key, or std::nullopt if the key\n- * is not found.\n+/** Get the query parameter value from a evhttp_uri (parsed) object for a specified key, or std::nullopt\n+ * if the key is not found or if uri_parsed argument is nullptr (most probably from a failed parsing).",
      "path": "src/httpserver.h",
      "position": null,
      "original_position": 32,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "0aa0626c502b70244da8dfd519612635a8e90f3b",
      "in_reply_to_id": 1149108682,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I see you have adjusted the test in the latest push, I think that is the right approach. Thanks!",
      "created_at": "2023-03-30T08:36:13Z",
      "updated_at": "2023-03-30T08:36:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1152924472",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1152924472"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 132,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1160843481",
      "pull_request_review_id": 1376409023,
      "id": 1160843481,
      "node_id": "PRRC_kwDOABII585FMRDZ",
      "diff_hunk": "@@ -563,8 +588,7 @@ std::pair<bool, std::string> HTTPRequest::GetHeader(const std::string& hdr) cons\n std::string HTTPRequest::ReadBody()\n {\n     struct evbuffer* buf = evhttp_request_get_input_buffer(req);\n-    if (!buf)\n-        return \"\";\n+    if (!buf) return \"\";",
      "path": "src/httpserver.cpp",
      "position": null,
      "original_position": 82,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "4f68c30b2d52f39c7c7465d49ba41c2e70f486ba",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Remove this unrelated whitespace change.",
      "created_at": "2023-04-07T17:16:11Z",
      "updated_at": "2023-04-07T17:24:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1160843481",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1160843481"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": 566,
      "start_side": "LEFT",
      "line": null,
      "original_line": 591,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1160845066",
      "pull_request_review_id": 1376409023,
      "id": 1160845066,
      "node_id": "PRRC_kwDOABII585FMRcK",
      "diff_hunk": "@@ -5,34 +5,55 @@\n #include <httpserver.h>\n #include <test/util/setup_common.h>\n \n+#include <event2/http.h>\n+\n+#include <string>\n+#include <string_view>\n+\n #include <boost/test/unit_test.hpp>\n \n BOOST_FIXTURE_TEST_SUITE(httpserver_tests, BasicTestingSetup)\n \n-BOOST_AUTO_TEST_CASE(test_query_parameters)\n+std::optional<std::string> GetParameterFromURI(const std::string_view uri, const std::string& key){\n+    auto uri_parsed{evhttp_uri_parse(uri.data())};\n+    if (uri_parsed == nullptr) return std::nullopt;\n+    auto param_value{GetQueryParameterFromUri(*uri_parsed, key)};\n+    if (uri_parsed) evhttp_uri_free(uri_parsed);",
      "path": "src/test/httpserver_tests.cpp",
      "position": null,
      "original_position": 18,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "4f68c30b2d52f39c7c7465d49ba41c2e70f486ba",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This will always be `true` because if `uri_parsed` is `nullptr` we would have returned 2 lines above.",
      "created_at": "2023-04-07T17:19:22Z",
      "updated_at": "2023-04-07T17:24:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1160845066",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1160845066"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 21,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1161726047",
      "pull_request_review_id": 1377542888,
      "id": 1161726047,
      "node_id": "PRRC_kwDOABII585FPohf",
      "diff_hunk": "@@ -563,8 +588,7 @@ std::pair<bool, std::string> HTTPRequest::GetHeader(const std::string& hdr) cons\n std::string HTTPRequest::ReadBody()\n {\n     struct evbuffer* buf = evhttp_request_get_input_buffer(req);\n-    if (!buf)\n-        return \"\";\n+    if (!buf) return \"\";",
      "path": "src/httpserver.cpp",
      "position": null,
      "original_position": 82,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "4f68c30b2d52f39c7c7465d49ba41c2e70f486ba",
      "in_reply_to_id": 1160843481,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "yes, that was something I touched while I was verifying the `req` class member.",
      "created_at": "2023-04-10T13:36:07Z",
      "updated_at": "2023-04-10T13:36:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1161726047",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1161726047"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": 566,
      "start_side": "LEFT",
      "line": null,
      "original_line": 591,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1161727508",
      "pull_request_review_id": 1377545146,
      "id": 1161727508,
      "node_id": "PRRC_kwDOABII585FPo4U",
      "diff_hunk": "@@ -5,34 +5,55 @@\n #include <httpserver.h>\n #include <test/util/setup_common.h>\n \n+#include <event2/http.h>\n+\n+#include <string>\n+#include <string_view>\n+\n #include <boost/test/unit_test.hpp>\n \n BOOST_FIXTURE_TEST_SUITE(httpserver_tests, BasicTestingSetup)\n \n-BOOST_AUTO_TEST_CASE(test_query_parameters)\n+std::optional<std::string> GetParameterFromURI(const std::string_view uri, const std::string& key){\n+    auto uri_parsed{evhttp_uri_parse(uri.data())};\n+    if (uri_parsed == nullptr) return std::nullopt;\n+    auto param_value{GetQueryParameterFromUri(*uri_parsed, key)};\n+    if (uri_parsed) evhttp_uri_free(uri_parsed);",
      "path": "src/test/httpserver_tests.cpp",
      "position": null,
      "original_position": 18,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "4f68c30b2d52f39c7c7465d49ba41c2e70f486ba",
      "in_reply_to_id": 1160845066,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'll change it. Thanks.",
      "created_at": "2023-04-10T13:38:04Z",
      "updated_at": "2023-04-10T13:38:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1161727508",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1161727508"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 21,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166625610",
      "pull_request_review_id": 1385130381,
      "id": 1166625610,
      "node_id": "PRRC_kwDOABII585FiUtK",
      "diff_hunk": "@@ -667,12 +667,21 @@ std::optional<std::string> HTTPRequest::GetQueryParameter(const std::string& key\n {\n     const char* uri{evhttp_request_get_uri(req)};\n \n-    return GetQueryParameterFromUri(uri, key);\n+    try {\n+        return GetQueryParameterFromUri(uri, key);\n+    } catch (const std::runtime_error& e) {\n+        LogPrint(BCLog::HTTP, \"%s\\n\", e.what());\n+        // add additional information and rethrow the exception as we can't send a reply from the worker\n+        throw std::runtime_error(strprintf(\"Error occurred trying to get query param key \\\"%s\\\": \", key) + e.what());\n+    }\n }\n \n std::optional<std::string> GetQueryParameterFromUri(const char* uri, const std::string& key)\n {\n     evhttp_uri* uri_parsed{evhttp_uri_parse(uri)};\n+    if (!uri_parsed) {\n+        throw std::runtime_error(strprintf(\"Invalid uri detected while parsing \\\"%s\\\"\", uri));",
      "path": "src/httpserver.cpp",
      "position": null,
      "original_position": 18,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "0f9cba3f0745e3b5787e66b2bbe03e328e67b081",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`uri` is unhandled user input so including that in the error seems dangerous to me, would just change it to\r\n\r\n```cpp\r\n        throw std::runtime_error(\"URI parsing failed, it likely contained RFC 3986 invalid characters);\r\n```",
      "created_at": "2023-04-14T09:59:40Z",
      "updated_at": "2023-04-14T16:41:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1166625610",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166625610"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 683,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1167041616",
      "pull_request_review_id": 1385130381,
      "id": 1167041616,
      "node_id": "PRRC_kwDOABII585Fj6RQ",
      "diff_hunk": "@@ -667,12 +667,21 @@ std::optional<std::string> HTTPRequest::GetQueryParameter(const std::string& key\n {\n     const char* uri{evhttp_request_get_uri(req)};\n \n-    return GetQueryParameterFromUri(uri, key);\n+    try {\n+        return GetQueryParameterFromUri(uri, key);\n+    } catch (const std::runtime_error& e) {\n+        LogPrint(BCLog::HTTP, \"%s\\n\", e.what());\n+        // add additional information and rethrow the exception as we can't send a reply from the worker\n+        throw std::runtime_error(strprintf(\"Error occurred trying to get query param key \\\"%s\\\": \", key) + e.what());\n+    }",
      "path": "src/httpserver.cpp",
      "position": null,
      "original_position": 11,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "0f9cba3f0745e3b5787e66b2bbe03e328e67b081",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "What's the benefit of re-handling this error? The error message from `GetQueryParameterFromUri` is enough (or could be updated there to reference query param fetching, but it doesn't really have anything to do with the URI being invalid, so I'd prefer leaving it out). \r\n\r\n<details>\r\n<summary>git diff</summary>\r\n\r\n```diff\r\ndiff --git a/src/httpserver.cpp b/src/httpserver.cpp\r\nindex eb1f0bd93..3f0d82497 100644\r\n--- a/src/httpserver.cpp\r\n+++ b/src/httpserver.cpp\r\n@@ -667,13 +667,7 @@ std::optional<std::string> HTTPRequest::GetQueryParameter(const std::string& key\r\n {\r\n     const char* uri{evhttp_request_get_uri(req)};\r\n \r\n-    try {\r\n-        return GetQueryParameterFromUri(uri, key);\r\n-    } catch (const std::runtime_error& e) {\r\n-        LogPrint(BCLog::HTTP, \"%s\\n\", e.what());\r\n-        // add additional information and rethrow the exception as we can't send a reply from the worker\r\n-        throw std::runtime_error(strprintf(\"Error occurred trying to get query param key \\\"%s\\\": \", key) + e.what());\r\n-    }\r\n+    return GetQueryParameterFromUri(uri, key);\r\n }\r\n \r\n std::optional<std::string> GetQueryParameterFromUri(const char* uri, const std::string& key)\r\ndiff --git a/test/functional/interface_rest.py b/test/functional/interface_rest.py\r\nindex fa6193039..fb647a62f 100755\r\n--- a/test/functional/interface_rest.py\r\n+++ b/test/functional/interface_rest.py\r\n@@ -282,7 +282,7 @@ class RESTTest (BitcoinTestFramework):\r\n \r\n         # Check invalid uri (% symbol at the end of the request)\r\n         resp = self.test_rest_request(f\"/headers/{bb_hash}%\", ret_type=RetType.OBJ, status=400)\r\n-        assert_equal(resp.read().decode('utf-8').rstrip(), f\"Error occurred trying to get query param key \\\"count\\\": Invalid uri detected while parsing \\\"/rest/headers/{bb_hash}%.json\\\"\")\r\n+        assert_equal(resp.read().decode('utf-8').rstrip(), f\"Invalid uri detected while parsing \\\"/rest/headers/{bb_hash}%.json\\\"\")\r\n \r\n         # Compare with normal RPC block response\r\n         rpc_block_json = self.nodes[0].getblock(bb_hash)\r\n\r\n```\r\n</details>",
      "created_at": "2023-04-14T16:19:34Z",
      "updated_at": "2023-04-14T16:41:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1167041616",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1167041616"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": 670,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 676,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1167045700",
      "pull_request_review_id": 1385130381,
      "id": 1167045700,
      "node_id": "PRRC_kwDOABII585Fj7RE",
      "diff_hunk": "@@ -34,5 +34,9 @@ BOOST_AUTO_TEST_CASE(test_query_parameters)\n     // Invalid query string syntax is the same as not having parameters\n     uri = \"/rest/endpoint/someresource.json&p1=v1&p2=v2\";\n     BOOST_CHECK(!GetQueryParameterFromUri(uri.c_str(), \"p1\").has_value());\n+\n+    // Invalid query string with invalid will raise a runtime error no matter how many parameters passed or their syntax",
      "path": "src/test/httpserver_tests.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "0f9cba3f0745e3b5787e66b2bbe03e328e67b081",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'd rephrase to the below - any invalid character in the URI will trigger this, not just in the query string.\r\n\r\n```\r\n    // URI with invalid characters (%) raises a runtime error regardless of which query parameter is queried\r\n```",
      "created_at": "2023-04-14T16:23:37Z",
      "updated_at": "2023-04-14T16:41:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1167045700",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1167045700"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 38,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1167076574",
      "pull_request_review_id": 1385824656,
      "id": 1167076574,
      "node_id": "PRRC_kwDOABII585FkCze",
      "diff_hunk": "@@ -667,12 +667,21 @@ std::optional<std::string> HTTPRequest::GetQueryParameter(const std::string& key\n {\n     const char* uri{evhttp_request_get_uri(req)};\n \n-    return GetQueryParameterFromUri(uri, key);\n+    try {\n+        return GetQueryParameterFromUri(uri, key);\n+    } catch (const std::runtime_error& e) {\n+        LogPrint(BCLog::HTTP, \"%s\\n\", e.what());\n+        // add additional information and rethrow the exception as we can't send a reply from the worker\n+        throw std::runtime_error(strprintf(\"Error occurred trying to get query param key \\\"%s\\\": \", key) + e.what());\n+    }\n }\n \n std::optional<std::string> GetQueryParameterFromUri(const char* uri, const std::string& key)\n {\n     evhttp_uri* uri_parsed{evhttp_uri_parse(uri)};\n+    if (!uri_parsed) {\n+        throw std::runtime_error(strprintf(\"Invalid uri detected while parsing \\\"%s\\\"\", uri));",
      "path": "src/httpserver.cpp",
      "position": null,
      "original_position": 18,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "0f9cba3f0745e3b5787e66b2bbe03e328e67b081",
      "in_reply_to_id": 1166625610,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Or use `SanitizeString(uri)`.",
      "created_at": "2023-04-14T16:54:51Z",
      "updated_at": "2023-04-14T16:54:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1167076574",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1167076574"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 683,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1167081733",
      "pull_request_review_id": 1385839394,
      "id": 1167081733,
      "node_id": "PRRC_kwDOABII585FkEEF",
      "diff_hunk": "@@ -667,12 +667,21 @@ std::optional<std::string> HTTPRequest::GetQueryParameter(const std::string& key\n {\n     const char* uri{evhttp_request_get_uri(req)};\n \n-    return GetQueryParameterFromUri(uri, key);\n+    try {\n+        return GetQueryParameterFromUri(uri, key);\n+    } catch (const std::runtime_error& e) {\n+        LogPrint(BCLog::HTTP, \"%s\\n\", e.what());\n+        // add additional information and rethrow the exception as we can't send a reply from the worker\n+        throw std::runtime_error(strprintf(\"Error occurred trying to get query param key \\\"%s\\\": \", key) + e.what());\n+    }\n }\n \n std::optional<std::string> GetQueryParameterFromUri(const char* uri, const std::string& key)\n {\n     evhttp_uri* uri_parsed{evhttp_uri_parse(uri)};\n+    if (!uri_parsed) {\n+        throw std::runtime_error(strprintf(\"Invalid uri detected while parsing \\\"%s\\\"\", uri));",
      "path": "src/httpserver.cpp",
      "position": null,
      "original_position": 18,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "0f9cba3f0745e3b5787e66b2bbe03e328e67b081",
      "in_reply_to_id": 1166625610,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "That wouldn't prevent someone from passing really long URIs, causing e.g. bloated logs. We're already (debug) logging the full URI in `http_request_cb`. Adding it here introduces risks and little value imo.",
      "created_at": "2023-04-14T16:58:32Z",
      "updated_at": "2023-04-14T16:58:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1167081733",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1167081733"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 683,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1167115865",
      "pull_request_review_id": 1385904205,
      "id": 1167115865,
      "node_id": "PRRC_kwDOABII585FkMZZ",
      "diff_hunk": "@@ -667,12 +667,21 @@ std::optional<std::string> HTTPRequest::GetQueryParameter(const std::string& key\n {\n     const char* uri{evhttp_request_get_uri(req)};\n \n-    return GetQueryParameterFromUri(uri, key);\n+    try {\n+        return GetQueryParameterFromUri(uri, key);\n+    } catch (const std::runtime_error& e) {\n+        LogPrint(BCLog::HTTP, \"%s\\n\", e.what());\n+        // add additional information and rethrow the exception as we can't send a reply from the worker\n+        throw std::runtime_error(strprintf(\"Error occurred trying to get query param key \\\"%s\\\": \", key) + e.what());\n+    }\n }\n \n std::optional<std::string> GetQueryParameterFromUri(const char* uri, const std::string& key)\n {\n     evhttp_uri* uri_parsed{evhttp_uri_parse(uri)};\n+    if (!uri_parsed) {\n+        throw std::runtime_error(strprintf(\"Invalid uri detected while parsing \\\"%s\\\"\", uri));",
      "path": "src/httpserver.cpp",
      "position": null,
      "original_position": 18,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "0f9cba3f0745e3b5787e66b2bbe03e328e67b081",
      "in_reply_to_id": 1166625610,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yeah, it's a clearer message. Thanks.",
      "created_at": "2023-04-14T17:33:05Z",
      "updated_at": "2023-04-14T17:33:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1167115865",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1167115865"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 683,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1167123408",
      "pull_request_review_id": 1385915335,
      "id": 1167123408,
      "node_id": "PRRC_kwDOABII585FkOPQ",
      "diff_hunk": "@@ -667,12 +667,21 @@ std::optional<std::string> HTTPRequest::GetQueryParameter(const std::string& key\n {\n     const char* uri{evhttp_request_get_uri(req)};\n \n-    return GetQueryParameterFromUri(uri, key);\n+    try {\n+        return GetQueryParameterFromUri(uri, key);\n+    } catch (const std::runtime_error& e) {\n+        LogPrint(BCLog::HTTP, \"%s\\n\", e.what());\n+        // add additional information and rethrow the exception as we can't send a reply from the worker\n+        throw std::runtime_error(strprintf(\"Error occurred trying to get query param key \\\"%s\\\": \", key) + e.what());\n+    }",
      "path": "src/httpserver.cpp",
      "position": null,
      "original_position": 11,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "0f9cba3f0745e3b5787e66b2bbe03e328e67b081",
      "in_reply_to_id": 1167041616,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yeah, the intention was to add the param key on top of the previous error, adding more details at this level but that info is also available from the caller of `GetQueryParameterFromUri`. Ok, I'll leave it out.",
      "created_at": "2023-04-14T17:42:40Z",
      "updated_at": "2023-04-14T17:42:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1167123408",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1167123408"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": 670,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 676,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1196635667",
      "pull_request_review_id": 1430879440,
      "id": 1196635667,
      "node_id": "PRRC_kwDOABII585HUzYT",
      "diff_hunk": "@@ -643,9 +669,9 @@ CService HTTPRequest::GetPeer() const\n     return peer;\n }\n \n-std::string HTTPRequest::GetURI() const\n+const char* HTTPRequest::GetURI() const\n {\n-    return evhttp_request_get_uri(req);\n+    return m_uri;",
      "path": "src/httpserver.cpp",
      "position": null,
      "original_position": 85,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "c72967f48ab9eb02b8dc9231fdcc6ee85d66b7b9",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Since docs guarantee that GetURI() returns non-nullptr, would add an Assert here\r\n\r\n```suggestion\r\n    return Assert(m_uri);\r\n```",
      "created_at": "2023-05-17T14:44:22Z",
      "updated_at": "2023-05-18T17:43:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1196635667",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1196635667"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 674,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1197667936",
      "pull_request_review_id": 1430879440,
      "id": 1197667936,
      "node_id": "PRRC_kwDOABII585HYvZg",
      "diff_hunk": "@@ -71,9 +77,9 @@ class HTTPRequest\n         PUT\n     };\n \n-    /** Get requested URI.\n+    /** Get requested URI. Will always return non-nullptr.",
      "path": "src/httpserver.h",
      "position": null,
      "original_position": 25,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "c72967f48ab9eb02b8dc9231fdcc6ee85d66b7b9",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: clearer language\r\n```suggestion\r\n    /** Get requested URI. Will never return nullptr.\r\n```",
      "created_at": "2023-05-18T10:39:47Z",
      "updated_at": "2023-05-18T17:43:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1197667936",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1197667936"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 80,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1197670181",
      "pull_request_review_id": 1430879440,
      "id": 1197670181,
      "node_id": "PRRC_kwDOABII585HYv8l",
      "diff_hunk": "",
      "path": "src/rest.cpp",
      "position": 1,
      "original_position": 1,
      "commit_id": "c72967f48ab9eb02b8dc9231fdcc6ee85d66b7b9",
      "original_commit_id": "c72967f48ab9eb02b8dc9231fdcc6ee85d66b7b9",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The two `req->GetQueryParameter` calls in `rest_mempool` need to be updated as well.",
      "created_at": "2023-05-18T10:42:28Z",
      "updated_at": "2023-05-18T17:43:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1197670181",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1197670181"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1,
      "original_line": 1,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1197688711",
      "pull_request_review_id": 1430879440,
      "id": 1197688711,
      "node_id": "PRRC_kwDOABII585HY0eH",
      "diff_hunk": "@@ -536,18 +544,36 @@ void HTTPEvent::trigger(struct timeval* tv)\n     else\n         evtimer_add(ev, tv); // trigger after timeval passed\n }\n-HTTPRequest::HTTPRequest(struct evhttp_request* _req, bool _replySent) : req(_req), replySent(_replySent)\n+HTTPRequest::HTTPRequest(struct evhttp_request* _req, bool _replySent) :\n+        req{_req},\n+        m_uri{req != nullptr ? evhttp_request_get_uri(req) : nullptr},\n+        m_uri_parsed{m_uri != nullptr && m_uri[0] != '\\0' ? evhttp_uri_parse(m_uri) : nullptr},",
      "path": "src/httpserver.cpp",
      "position": null,
      "original_position": 46,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "c72967f48ab9eb02b8dc9231fdcc6ee85d66b7b9",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Is there a reason we need to check for `m_uri` not being empty (`&& m_uri[0] != '\\0'`)? Doesn't seem to be a documented requirement for `evhttp_uri_parse`.",
      "created_at": "2023-05-18T11:05:01Z",
      "updated_at": "2023-05-18T17:43:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1197688711",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1197688711"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 550,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1197694855",
      "pull_request_review_id": 1430879440,
      "id": 1197694855,
      "node_id": "PRRC_kwDOABII585HY1-H",
      "diff_hunk": "@@ -71,9 +77,9 @@ class HTTPRequest\n         PUT\n     };\n \n-    /** Get requested URI.\n+    /** Get requested URI. Will always return non-nullptr.\n      */\n-    std::string GetURI() const;\n+    const char* GetURI() const;",
      "path": "src/httpserver.h",
      "position": null,
      "original_position": 28,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "c72967f48ab9eb02b8dc9231fdcc6ee85d66b7b9",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "What's the rationale for this change? No callsite seems to be preferring a C-style string, and returning a `std::string` would also make the non-nullptr promise explicit.",
      "created_at": "2023-05-18T11:12:02Z",
      "updated_at": "2023-05-18T17:43:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1197694855",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1197694855"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 82,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1208014798",
      "pull_request_review_id": 1447409678,
      "id": 1208014798,
      "node_id": "PRRC_kwDOABII585IANfO",
      "diff_hunk": "@@ -71,9 +77,9 @@ class HTTPRequest\n         PUT\n     };\n \n-    /** Get requested URI.\n+    /** Get requested URI. Will always return non-nullptr.\n      */\n-    std::string GetURI() const;\n+    const char* GetURI() const;",
      "path": "src/httpserver.h",
      "position": null,
      "original_position": 28,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "c72967f48ab9eb02b8dc9231fdcc6ee85d66b7b9",
      "in_reply_to_id": 1197694855,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I can't remember tbh, try to find it in the history with no success, not sure if I did it due to matching the consumers(?) or @vasild suggested it at some point...",
      "created_at": "2023-05-27T14:25:33Z",
      "updated_at": "2023-05-27T14:25:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1208014798",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1208014798"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 82,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1208014857",
      "pull_request_review_id": 1447409694,
      "id": 1208014857,
      "node_id": "PRRC_kwDOABII585IANgJ",
      "diff_hunk": "@@ -536,18 +544,36 @@ void HTTPEvent::trigger(struct timeval* tv)\n     else\n         evtimer_add(ev, tv); // trigger after timeval passed\n }\n-HTTPRequest::HTTPRequest(struct evhttp_request* _req, bool _replySent) : req(_req), replySent(_replySent)\n+HTTPRequest::HTTPRequest(struct evhttp_request* _req, bool _replySent) :\n+        req{_req},\n+        m_uri{req != nullptr ? evhttp_request_get_uri(req) : nullptr},\n+        m_uri_parsed{m_uri != nullptr && m_uri[0] != '\\0' ? evhttp_uri_parse(m_uri) : nullptr},",
      "path": "src/httpserver.cpp",
      "position": null,
      "original_position": 46,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "c72967f48ab9eb02b8dc9231fdcc6ee85d66b7b9",
      "in_reply_to_id": 1197688711,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Well, I think that an empty string wouldn't be a valid URI, at least the `scheme component` (the first part of it which is followed by a \":\", which is again followed by the `hier-part` component (which may be empty) must be present according to the [RFC](https://www.rfc-editor.org/rfc/rfc3986#section-3). I thought it was perhaps validated inside the `evhttp_uri_parse` but I couldn't find it [there](https://github.com/libevent/libevent/blob/bca26524fc4cd7a9e79d210c1079baaa7d29835d/http.c#L4464-L4469). I'm happy to remove it if you think it's not worth it.",
      "created_at": "2023-05-27T14:25:44Z",
      "updated_at": "2023-05-27T14:25:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1208014857",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1208014857"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 550,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1208015048",
      "pull_request_review_id": 1447409864,
      "id": 1208015048,
      "node_id": "PRRC_kwDOABII585IANjI",
      "diff_hunk": "",
      "path": "src/rest.cpp",
      "position": 1,
      "original_position": 1,
      "commit_id": "c72967f48ab9eb02b8dc9231fdcc6ee85d66b7b9",
      "original_commit_id": "c72967f48ab9eb02b8dc9231fdcc6ee85d66b7b9",
      "in_reply_to_id": 1197670181,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yeah missed them, done now, thanks!",
      "created_at": "2023-05-27T14:26:02Z",
      "updated_at": "2023-05-27T14:26:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1208015048",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1208015048"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1,
      "original_line": 1,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1208015177",
      "pull_request_review_id": 1447409889,
      "id": 1208015177,
      "node_id": "PRRC_kwDOABII585IANlJ",
      "diff_hunk": "@@ -71,9 +77,9 @@ class HTTPRequest\n         PUT\n     };\n \n-    /** Get requested URI.\n+    /** Get requested URI. Will always return non-nullptr.",
      "path": "src/httpserver.h",
      "position": null,
      "original_position": 25,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "c72967f48ab9eb02b8dc9231fdcc6ee85d66b7b9",
      "in_reply_to_id": 1197667936,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yeah and also it'll be more consistent with the comments above in the private declaration section.\r\nhttps://github.com/bitcoin/bitcoin/blob/c72967f48ab9eb02b8dc9231fdcc6ee85d66b7b9/src/httpserver.h#L60-L63",
      "created_at": "2023-05-27T14:26:16Z",
      "updated_at": "2023-05-27T14:26:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1208015177",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1208015177"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 80,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1208015277",
      "pull_request_review_id": 1447409963,
      "id": 1208015277,
      "node_id": "PRRC_kwDOABII585IANmt",
      "diff_hunk": "@@ -643,9 +669,9 @@ CService HTTPRequest::GetPeer() const\n     return peer;\n }\n \n-std::string HTTPRequest::GetURI() const\n+const char* HTTPRequest::GetURI() const\n {\n-    return evhttp_request_get_uri(req);\n+    return m_uri;",
      "path": "src/httpserver.cpp",
      "position": null,
      "original_position": 85,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "c72967f48ab9eb02b8dc9231fdcc6ee85d66b7b9",
      "in_reply_to_id": 1196635667,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ok, done.",
      "created_at": "2023-05-27T14:26:33Z",
      "updated_at": "2023-05-27T14:26:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1208015277",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1208015277"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 674,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1210171462",
      "pull_request_review_id": 1450777413,
      "id": 1210171462,
      "node_id": "PRRC_kwDOABII585IIcBG",
      "diff_hunk": "@@ -536,18 +544,36 @@ void HTTPEvent::trigger(struct timeval* tv)\n     else\n         evtimer_add(ev, tv); // trigger after timeval passed\n }\n-HTTPRequest::HTTPRequest(struct evhttp_request* _req, bool _replySent) : req(_req), replySent(_replySent)\n+HTTPRequest::HTTPRequest(struct evhttp_request* _req, bool _replySent) :\n+        req{_req},\n+        m_uri{req != nullptr ? evhttp_request_get_uri(req) : nullptr},\n+        m_uri_parsed{m_uri != nullptr && m_uri[0] != '\\0' ? evhttp_uri_parse(m_uri) : nullptr},",
      "path": "src/httpserver.cpp",
      "position": null,
      "original_position": 46,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "c72967f48ab9eb02b8dc9231fdcc6ee85d66b7b9",
      "in_reply_to_id": 1197688711,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "We don't need `m_uri` to be a valid URI, that's what `evhttp_uri_parse` is checking, we just need it to not behave unexpectedly (eg. segfault) when passed to `evhttp_uri_parse`. \"a\" also would not be a valid URI, but we're not checking that here either, that would just be duplicating what `evhttp_uri_parse` is already doing. \r\n\r\nSo unless there's another reason to not pass an empty char array to `evhttp_uri_parse`, I'd leave it out yeah.",
      "created_at": "2023-05-30T12:03:06Z",
      "updated_at": "2023-05-30T12:03:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1210171462",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1210171462"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 550,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1210184105",
      "pull_request_review_id": 1450797669,
      "id": 1210184105,
      "node_id": "PRRC_kwDOABII585IIfGp",
      "diff_hunk": "@@ -47,20 +47,23 @@ FUZZ_TARGET(http_request)\n         return;\n     }\n \n-    HTTPRequest http_request{evreq, true};\n-    const HTTPRequest::RequestMethod request_method = http_request.GetRequestMethod();\n-    (void)RequestMethodString(request_method);\n-    (void)http_request.GetURI();\n-    (void)http_request.GetHeader(\"Host\");\n-    const std::string header = fuzzed_data_provider.ConsumeRandomLengthString(16);\n-    (void)http_request.GetHeader(header);\n-    (void)http_request.WriteHeader(header, fuzzed_data_provider.ConsumeRandomLengthString(16));\n-    (void)http_request.GetHeader(header);\n-    const std::string body = http_request.ReadBody();\n-    assert(body.empty());\n-    const CService service = http_request.GetPeer();\n-    assert(service.ToStringAddrPort() == \"[::]:0\");\n+    try {\n+        HTTPRequest http_request{evreq};\n+        const HTTPRequest::RequestMethod request_method = http_request.GetRequestMethod();\n+        (void)RequestMethodString(request_method);\n+        (void)http_request.GetURI();\n+        (void)http_request.GetHeader(\"Host\");\n+        const std::string header = fuzzed_data_provider.ConsumeRandomLengthString(16);\n+        (void)http_request.GetHeader(header);\n+        (void)http_request.WriteHeader(header, fuzzed_data_provider.ConsumeRandomLengthString(16));\n+        (void)http_request.GetHeader(header);\n+        const std::string body = http_request.ReadBody();\n+        assert(body.empty());\n+        const CService service = http_request.GetPeer();\n+        assert(service.ToStringAddrPort() == \"[::]:0\");\n \n-    evbuffer_free(evbuf);\n-    evhttp_request_free(evreq);\n+        evbuffer_free(evbuf);\n+        evhttp_request_free(evreq);",
      "path": "src/test/fuzz/http_request.cpp",
      "position": null,
      "original_position": 35,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "ca8941100d19fa76e700185db9feb37a04294b71",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Don't we need to clean this up regardless of whether an exception was thrown?",
      "created_at": "2023-05-30T12:15:08Z",
      "updated_at": "2023-05-30T12:15:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1210184105",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1210184105"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": 65,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 66,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1210218266",
      "pull_request_review_id": 1450851994,
      "id": 1210218266,
      "node_id": "PRRC_kwDOABII585IInca",
      "diff_hunk": "@@ -47,20 +47,23 @@ FUZZ_TARGET(http_request)\n         return;\n     }\n \n-    HTTPRequest http_request{evreq, true};\n-    const HTTPRequest::RequestMethod request_method = http_request.GetRequestMethod();\n-    (void)RequestMethodString(request_method);\n-    (void)http_request.GetURI();\n-    (void)http_request.GetHeader(\"Host\");\n-    const std::string header = fuzzed_data_provider.ConsumeRandomLengthString(16);\n-    (void)http_request.GetHeader(header);\n-    (void)http_request.WriteHeader(header, fuzzed_data_provider.ConsumeRandomLengthString(16));\n-    (void)http_request.GetHeader(header);\n-    const std::string body = http_request.ReadBody();\n-    assert(body.empty());\n-    const CService service = http_request.GetPeer();\n-    assert(service.ToStringAddrPort() == \"[::]:0\");\n+    try {\n+        HTTPRequest http_request{evreq};\n+        const HTTPRequest::RequestMethod request_method = http_request.GetRequestMethod();\n+        (void)RequestMethodString(request_method);\n+        (void)http_request.GetURI();\n+        (void)http_request.GetHeader(\"Host\");\n+        const std::string header = fuzzed_data_provider.ConsumeRandomLengthString(16);\n+        (void)http_request.GetHeader(header);\n+        (void)http_request.WriteHeader(header, fuzzed_data_provider.ConsumeRandomLengthString(16));\n+        (void)http_request.GetHeader(header);\n+        const std::string body = http_request.ReadBody();\n+        assert(body.empty());\n+        const CService service = http_request.GetPeer();\n+        assert(service.ToStringAddrPort() == \"[::]:0\");\n \n-    evbuffer_free(evbuf);\n-    evhttp_request_free(evreq);\n+        evbuffer_free(evbuf);\n+        evhttp_request_free(evreq);",
      "path": "src/test/fuzz/http_request.cpp",
      "position": null,
      "original_position": 35,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "ca8941100d19fa76e700185db9feb37a04294b71",
      "in_reply_to_id": 1210184105,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Let me check again when I do revert the order of the commits, when I tested before those were needed as the fuzz was complaining about memory leaks.",
      "created_at": "2023-05-30T12:44:42Z",
      "updated_at": "2023-05-30T12:44:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1210218266",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1210218266"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": 65,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 66,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1210497550",
      "pull_request_review_id": 1451302856,
      "id": 1210497550,
      "node_id": "PRRC_kwDOABII585IJroO",
      "diff_hunk": "@@ -536,18 +544,36 @@ void HTTPEvent::trigger(struct timeval* tv)\n     else\n         evtimer_add(ev, tv); // trigger after timeval passed\n }\n-HTTPRequest::HTTPRequest(struct evhttp_request* _req, bool _replySent) : req(_req), replySent(_replySent)\n+HTTPRequest::HTTPRequest(struct evhttp_request* _req, bool _replySent) :\n+        req{_req},\n+        m_uri{req != nullptr ? evhttp_request_get_uri(req) : nullptr},\n+        m_uri_parsed{m_uri != nullptr && m_uri[0] != '\\0' ? evhttp_uri_parse(m_uri) : nullptr},",
      "path": "src/httpserver.cpp",
      "position": null,
      "original_position": 46,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "c72967f48ab9eb02b8dc9231fdcc6ee85d66b7b9",
      "in_reply_to_id": 1197688711,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "ok",
      "created_at": "2023-05-30T15:59:11Z",
      "updated_at": "2023-05-30T15:59:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1210497550",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1210497550"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 550,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1217755620",
      "pull_request_review_id": 1462062143,
      "id": 1217755620,
      "node_id": "PRRC_kwDOABII585IlXnk",
      "diff_hunk": "@@ -47,20 +47,23 @@ FUZZ_TARGET(http_request)\n         return;\n     }\n \n-    HTTPRequest http_request{evreq, true};\n-    const HTTPRequest::RequestMethod request_method = http_request.GetRequestMethod();\n-    (void)RequestMethodString(request_method);\n-    (void)http_request.GetURI();\n-    (void)http_request.GetHeader(\"Host\");\n-    const std::string header = fuzzed_data_provider.ConsumeRandomLengthString(16);\n-    (void)http_request.GetHeader(header);\n-    (void)http_request.WriteHeader(header, fuzzed_data_provider.ConsumeRandomLengthString(16));\n-    (void)http_request.GetHeader(header);\n-    const std::string body = http_request.ReadBody();\n-    assert(body.empty());\n-    const CService service = http_request.GetPeer();\n-    assert(service.ToStringAddrPort() == \"[::]:0\");\n+    try {\n+        HTTPRequest http_request{evreq};\n+        const HTTPRequest::RequestMethod request_method = http_request.GetRequestMethod();\n+        (void)RequestMethodString(request_method);\n+        (void)http_request.GetURI();\n+        (void)http_request.GetHeader(\"Host\");\n+        const std::string header = fuzzed_data_provider.ConsumeRandomLengthString(16);\n+        (void)http_request.GetHeader(header);\n+        (void)http_request.WriteHeader(header, fuzzed_data_provider.ConsumeRandomLengthString(16));\n+        (void)http_request.GetHeader(header);\n+        const std::string body = http_request.ReadBody();\n+        assert(body.empty());\n+        const CService service = http_request.GetPeer();\n+        assert(service.ToStringAddrPort() == \"[::]:0\");\n \n-    evbuffer_free(evbuf);\n-    evhttp_request_free(evreq);\n+        evbuffer_free(evbuf);\n+        evhttp_request_free(evreq);",
      "path": "src/test/fuzz/http_request.cpp",
      "position": null,
      "original_position": 35,
      "commit_id": "0030c62ecd71ea6dc2e698f191e95cc1dd6aa457",
      "original_commit_id": "ca8941100d19fa76e700185db9feb37a04294b71",
      "in_reply_to_id": 1210184105,
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Those are needed, I've checked the test code line by line. I'll do another check while I fix the current issue/ failure. Thanks!",
      "created_at": "2023-06-05T08:59:49Z",
      "updated_at": "2023-06-05T08:59:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27253#discussion_r1217755620",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1217755620"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27253"
        }
      },
      "start_line": null,
      "original_start_line": 65,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 66,
      "side": "RIGHT"
    }
  ]
}