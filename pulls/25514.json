{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514",
    "id": 984140656,
    "node_id": "PR_kwDOABII5846qMtw",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/25514",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/25514.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/25514.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25514",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25514/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
    "number": 25514,
    "state": "closed",
    "locked": false,
    "maintainer_can_modify": false,
    "title": "net processing: Move CNode::nServices and CNode::nLocalServices to Peer",
    "user": {
      "login": "dergoegge",
      "id": 8077169,
      "node_id": "MDQ6VXNlcjgwNzcxNjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dergoegge",
      "html_url": "https://github.com/dergoegge",
      "followers_url": "https://api.github.com/users/dergoegge/followers",
      "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
      "organizations_url": "https://api.github.com/users/dergoegge/orgs",
      "repos_url": "https://api.github.com/users/dergoegge/repos",
      "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/dergoegge/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Another step in #19398. Which services we offer to a peer and which services they offer to us is application layer data and should not be stored on `CNode`.\r\n\r\nThis is also a prerequisite for adding `PeerManager` unit tests (See #25515).",
    "labels": [
      {
        "id": 98298007,
        "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
        "name": "P2P",
        "color": "006b75",
        "default": false
      }
    ],
    "created_at": "2022-06-30T18:01:24Z",
    "updated_at": "2022-07-25T11:08:15Z",
    "closed_at": "2022-07-19T06:33:58Z",
    "mergeable_state": "unknown",
    "merged_at": "2022-07-19T06:33:58Z",
    "merge_commit_sha": "2bdce7f7adbdec018405cb993d16cecb5fb429f6",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "dergoegge:2022-06-move-services",
      "ref": "2022-06-move-services",
      "sha": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 315023492,
        "node_id": "MDEwOlJlcG9zaXRvcnkzMTUwMjM0OTI=",
        "name": "bitcoin",
        "full_name": "dergoegge/bitcoin",
        "owner": {
          "login": "dergoegge",
          "id": 8077169,
          "node_id": "MDQ6VXNlcjgwNzcxNjk=",
          "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/dergoegge",
          "html_url": "https://github.com/dergoegge",
          "followers_url": "https://api.github.com/users/dergoegge/followers",
          "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
          "organizations_url": "https://api.github.com/users/dergoegge/orgs",
          "repos_url": "https://api.github.com/users/dergoegge/repos",
          "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/dergoegge/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/dergoegge/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/dergoegge/bitcoin",
        "archive_url": "https://api.github.com/repos/dergoegge/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/dergoegge/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/dergoegge/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/dergoegge/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/dergoegge/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/dergoegge/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/dergoegge/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/dergoegge/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/dergoegge/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/dergoegge/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/dergoegge/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/dergoegge/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/dergoegge/bitcoin/events",
        "forks_url": "https://api.github.com/repos/dergoegge/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/dergoegge/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/dergoegge/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/dergoegge/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/dergoegge/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/dergoegge/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/dergoegge/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/dergoegge/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/dergoegge/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/dergoegge/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/dergoegge/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/dergoegge/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/dergoegge/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/dergoegge/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/dergoegge/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/dergoegge/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:dergoegge/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/dergoegge/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/dergoegge/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/dergoegge/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/dergoegge/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/dergoegge/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/dergoegge/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/dergoegge/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/dergoegge/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/dergoegge/bitcoin/hooks",
        "svn_url": "https://github.com/dergoegge/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 1,
        "watchers_count": 1,
        "size": 222378,
        "default_branch": "master",
        "open_issues_count": 1,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-06T10:23:38Z",
        "created_at": "2020-11-22T11:41:30Z",
        "updated_at": "2023-05-05T12:10:28Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "062b9db0ccb6af8bfbaa2b29132408cda9991b40",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34324,
        "stargazers_count": 69818,
        "watchers_count": 69818,
        "size": 233879,
        "default_branch": "master",
        "open_issues_count": 627,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-07T05:35:10Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-06-07T06:49:43Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 199,
    "deletions": 203,
    "changed_files": 13,
    "commits": 7,
    "review_comments": 61,
    "comments": 8
  },
  "events": [
    {
      "event": "labeled",
      "id": 6912946077,
      "node_id": "LE_lADOABII585M6w-9zwAAAAGcCy-d",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6912946077",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-30T18:01:41Z",
      "label": {
        "name": "P2P",
        "color": "006b75"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6913049808,
      "node_id": "HRFPE_lADOABII585M6w-9zwAAAAGcDMTQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6913049808",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-30T18:18:06Z"
    },
    {
      "event": "commented",
      "id": 1171615993,
      "node_id": "IC_kwDOABII585F1XD5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1171615993",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-30T19:52:17Z",
      "updated_at": "2022-07-18T21:36:02Z",
      "author_association": "MEMBER",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#25619](https://github.com/bitcoin/bitcoin/pull/25619) (net: avoid overriding non-virtual ToString() in CService and use better naming by vasild)\n* [#25572](https://github.com/bitcoin/bitcoin/pull/25572) (refactor: Introduce EvictionManager and use it for the inbound eviction logic by dergoegge)\n* [#25555](https://github.com/bitcoin/bitcoin/pull/25555) (refactor: Move num_unconnecting_headers_msgs out of cs_main guard by MarcoFalke)\n* [#25355](https://github.com/bitcoin/bitcoin/pull/25355) (I2P: add support for transient addresses for outbound connections by vasild)\n* [#25268](https://github.com/bitcoin/bitcoin/pull/25268) (refactor: Introduce EvictionManager by dergoegge)\n* [#25174](https://github.com/bitcoin/bitcoin/pull/25174) (net/net_processing: Add thread safety related annotations for CNode and Peer by ajtowns)\n* [#24697](https://github.com/bitcoin/bitcoin/pull/24697) (refactor address relay time by MarcoFalke)\n* [#24571](https://github.com/bitcoin/bitcoin/pull/24571) (p2p: Prevent block index fingerprinting by sending additional getheaders messages by dergoegge)\n* [#24170](https://github.com/bitcoin/bitcoin/pull/24170) (p2p, rpc: Manual block-relay-only connections with addnode by mzumsande)\n* [#24008](https://github.com/bitcoin/bitcoin/pull/24008) (assumeutxo: net_processing changes by jamesob)\n* [#23443](https://github.com/bitcoin/bitcoin/pull/23443) (p2p: Erlay support signaling by naumenkogs)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#issuecomment-1171615993",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25514"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6914312468,
      "node_id": "HRFPE_lADOABII585M6w-9zwAAAAGcIAkU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6914312468",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-30T22:09:16Z"
    },
    {
      "event": "reviewed",
      "id": 1026286280,
      "node_id": "PRR_kwDOABII5849K-LI",
      "url": null,
      "actor": null,
      "commit_id": "10a4ebab27309c781f284d260c882055c66eeb1e",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#pullrequestreview-1026286280",
      "submitted_at": "2022-07-01T14:22:04Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
    },
    {
      "event": "reviewed",
      "id": 1027168080,
      "node_id": "PRR_kwDOABII5849OVdQ",
      "url": null,
      "actor": null,
      "commit_id": "10a4ebab27309c781f284d260c882055c66eeb1e",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK.",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#pullrequestreview-1027168080",
      "submitted_at": "2022-07-04T08:45:49Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
    },
    {
      "event": "unlabeled",
      "id": 6928686945,
      "node_id": "UNLE_lADOABII585M6w-9zwAAAAGc-19h",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6928686945",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-04T14:50:03Z",
      "label": {
        "name": "P2P",
        "color": "006b75"
      }
    },
    {
      "event": "labeled",
      "id": 6928709067,
      "node_id": "LE_lADOABII585M6w-9zwAAAAGc-7XL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6928709067",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-04T14:53:27Z",
      "label": {
        "name": "P2P",
        "color": "006b75"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6929187648,
      "node_id": "HRFPE_lADOABII585M6w-9zwAAAAGdAwNA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6929187648",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-04T16:17:25Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6929305001,
      "node_id": "HRFPE_lADOABII585M6w-9zwAAAAGdBM2p",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6929305001",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-04T16:43:43Z"
    },
    {
      "event": "labeled",
      "id": 6930127743,
      "node_id": "LE_lADOABII585M6w-9zwAAAAGdEVt_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6930127743",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-04T21:06:23Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6935612822,
      "node_id": "HRFPE_lADOABII585M6w-9zwAAAAGdZQ2W",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6935612822",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-05T15:48:14Z"
    },
    {
      "event": "unlabeled",
      "id": 6935670916,
      "node_id": "UNLE_lADOABII585M6w-9zwAAAAGdZfCE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6935670916",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-05T15:55:58Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1176147998,
      "node_id": "IC_kwDOABII585GGpge",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1176147998",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-06T12:14:12Z",
      "updated_at": "2022-07-06T12:14:12Z",
      "author_association": "MEMBER",
      "body": "utACK d5b6ba717686ccb06ae06a553f2a563e97f53327",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#issuecomment-1176147998",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25514"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6944028013,
      "node_id": "HRFPE_lADOABII585M6w-9zwAAAAGd5XVt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6944028013",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-06T15:50:23Z"
    },
    {
      "event": "reviewed",
      "id": 1030340529,
      "node_id": "PRR_kwDOABII5849ab-x",
      "url": null,
      "actor": null,
      "commit_id": "40e83ad09dae3bd958dafeb54c6da3193c6e0c6a",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#pullrequestreview-1030340529",
      "submitted_at": "2022-07-06T15:56:26Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
    },
    {
      "event": "commented",
      "id": 1176425371,
      "node_id": "IC_kwDOABII585GHtOb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1176425371",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-06T16:22:50Z",
      "updated_at": "2022-07-06T16:22:50Z",
      "author_association": "MEMBER",
      "body": "utACK c38a00d0e3",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#issuecomment-1176425371",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25514"
    },
    {
      "event": "reviewed",
      "id": 1033014422,
      "node_id": "PRR_kwDOABII5849koyW",
      "url": null,
      "actor": null,
      "commit_id": "c38a00d0e3ba0913cce026d3d05088a2fb2a3114",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK, but I'd prefer if behaviour changes (even if they are in tests) are either explained in the commit description or done in a separate commit from the refactoring commit.",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#pullrequestreview-1033014422",
      "submitted_at": "2022-07-08T15:16:18Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6962194326,
      "node_id": "HRFPE_lADOABII585M6w-9zwAAAAGe-qeW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6962194326",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-08T19:03:31Z"
    },
    {
      "event": "reviewed",
      "id": 1034521708,
      "node_id": "PRR_kwDOABII5849qYxs",
      "url": null,
      "actor": null,
      "commit_id": "991ea8e224eb6337f81b721872252f296236c00b",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Sorry for the incremental review, but I left more questions.",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#pullrequestreview-1034521708",
      "submitted_at": "2022-07-12T06:59:15Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
    },
    {
      "event": "labeled",
      "id": 6978565071,
      "node_id": "LE_lADOABII585M6w-9zwAAAAGf9HPP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6978565071",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-12T15:14:36Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6984557896,
      "node_id": "HRFPE_lADOABII585M6w-9zwAAAAGgT-VI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6984557896",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-13T09:57:53Z"
    },
    {
      "event": "unlabeled",
      "id": 6984644817,
      "node_id": "UNLE_lADOABII585M6w-9zwAAAAGgUTjR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6984644817",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-13T10:09:33Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1037163691,
      "node_id": "PRR_kwDOABII58490dyr",
      "url": null,
      "actor": null,
      "commit_id": "8f6ed20acae2a4f93f5b52c3937ab704980db44b",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#pullrequestreview-1037163691",
      "submitted_at": "2022-07-13T10:56:48Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
    },
    {
      "event": "reviewed",
      "id": 1037190466,
      "node_id": "PRR_kwDOABII58490kVC",
      "url": null,
      "actor": null,
      "commit_id": "8f6ed20acae2a4f93f5b52c3937ab704980db44b",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Looking a lot better with the Handshake test helper. Thanks.\r\n\r\nreview ACK 8f6ed20acae2a4f93f5b52c3937ab704980db44b though I have not yet reviewed the last two commits 🏼\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nreview ACK 8f6ed20acae2a4f93f5b52c3937ab704980db44b though I have not yet reviewed the last two commits 🏼\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\r\npUjqHwwAlNYcnHxFpa3FBWcBsYy2DSbbm3Ww6p+dqZLivANiuNWpc7qKrFYoVQKY\r\nOlCbOyMJNHuGbC0ACwjSfVxh1VhyLpdW7qtrMr203XD3j3MRComWe1Q5h6jG4jfn\r\nrEB0ybHIAowvoWQBfvtY5Ti20WEsiPvWL4qEgA+b+wYClG+42BCHUyRePkN+1k+u\r\n0fD/BOhTiRszyXgfWNV5q1iI/UhR6caf213mV/5X+udIXWMgi1PRV+4HQG4GmZdq\r\ns25Ua9Quzmgtjz3sUDb4op2ztlS8BOMpzulKqSiXmIyAQz72zODaYrCieHOItZs8\r\nvRR/JbGs4IMF/whQFtzJgPIMQ+O6iO8V/VHBoYbrmhjcbxpX9ioXhpX4mXelepeN\r\nNFkdOR9WQWpaMAfcOl948axSgfVaN7MFU+9+0rzpHLEamQj5wbzdP4xdtyXqFGA4\r\njf11QGqoAh3a0IvYhEoUgK0MPbeR6ASSvhzAtglIw6vFtCPkCXBRnM+8vqBmaLBr\r\niVM6GTFy\r\n=YLIt\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\n\r\n</details>\r\n",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#pullrequestreview-1037190466",
      "submitted_at": "2022-07-13T11:54:53Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
    },
    {
      "event": "reviewed",
      "id": 1037251274,
      "node_id": "PRR_kwDOABII58490zLK",
      "url": null,
      "actor": null,
      "commit_id": "8f6ed20acae2a4f93f5b52c3937ab704980db44b",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "I tried to do some testing, but the second commit doesn't compile:\r\n\r\n```\r\ntest/denialofservice_tests.cpp:75:23: error: too many arguments to function call, expected 6, have 7\r\n",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#pullrequestreview-1037251274",
      "submitted_at": "2022-07-13T12:14:42Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6987066286,
      "node_id": "HRFPE_lADOABII585M6w-9zwAAAAGgdiuu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6987066286",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-13T15:29:57Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6987300034,
      "node_id": "HRFPE_lADOABII585M6w-9zwAAAAGgebzC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6987300034",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-13T15:59:51Z"
    },
    {
      "event": "commented",
      "id": 1183404460,
      "node_id": "IC_kwDOABII585GiVGs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1183404460",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-13T16:01:07Z",
      "updated_at": "2022-07-13T16:01:07Z",
      "author_association": "MEMBER",
      "body": "Thanks @MarcoFalke and @jnewbery for the reviews! I addressed all comments and rebased.\r\n\r\nAll commits should now build without issues.",
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#issuecomment-1183404460",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25514"
    },
    {
      "event": "mentioned",
      "id": 6987309759,
      "node_id": "MEE_lADOABII585M6w-9zwAAAAGgeeK_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6987309759",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-13T16:01:07Z"
    },
    {
      "event": "subscribed",
      "id": 6987309775,
      "node_id": "SE_lADOABII585M6w-9zwAAAAGgeeLP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6987309775",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-13T16:01:07Z"
    },
    {
      "event": "mentioned",
      "id": 6987309788,
      "node_id": "MEE_lADOABII585M6w-9zwAAAAGgeeLc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6987309788",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-13T16:01:07Z"
    },
    {
      "event": "subscribed",
      "id": 6987309802,
      "node_id": "SE_lADOABII585M6w-9zwAAAAGgeeLq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6987309802",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-13T16:01:07Z"
    },
    {
      "event": "reviewed",
      "id": 1037637719,
      "node_id": "PRR_kwDOABII58492RhX",
      "url": null,
      "actor": null,
      "commit_id": "e7aea6ae6d0cd668dc7228cc24d0a58419c6ebcd",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "lgtm\r\n\r\nreview ACK e7aea6ae6d0cd668dc7228cc24d0a58419c6ebcd 🏞\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nreview ACK e7aea6ae6d0cd668dc7228cc24d0a58419c6ebcd 🏞\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\r\npUjuqQv/aHcMUNox1MQBi+1Mj3WJorgEHy85MaRS3JiylOIrpUpGgtjvmh91HpoG\r\n6ThPApvoEKGf3sYRKgU8COOVoEgzBj3AqXeG/RTu6wJaZNq3AFRmCjBtzzsxJjDJ\r\n6w9SLoBexTQyTLLFEf/EvwxlE3ttldDgPQOQ0Ui6zZgxs1eCjpgBb119V41BTBmy\r\nesOxtkE8ZHoPo+4nPYhB0d9f2i60wYX1jbeZAv0b3BDB+4XL67UUXhq8IhEJFvRY\r\nLTDbgtSxhNQJAx3NOcOeHtmDdy8xfQe3Nnc7q8WAIfcitCa+DGXSIt5pKTzuwvut\r\nbbPZroBqWarME+zSsVxvR6JMfAVoTrLO2zaFoAYrCvFQq6yrbq3OJZ6Rqq9GOJjj\r\nkuwMGpW6yKJvTRb0qxgcds3Bgh6UJ/U3ZUVtfxNJ5LR7+JCpOkSBN1Ro+vH+amml\r\nGZC7tDdeC7f8IaexX51tUXbweRzE49zK3NH5pYazHubyZDncMRM4dlLs8AtIzL8C\r\n6XsRJRHp\r\n=ZDto\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\n\r\n</details>\r\n",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#pullrequestreview-1037637719",
      "submitted_at": "2022-07-13T16:43:53Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
    },
    {
      "event": "commented",
      "id": 1184360787,
      "node_id": "IC_kwDOABII585Gl-lT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1184360787",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-14T11:59:06Z",
      "updated_at": "2022-07-14T11:59:06Z",
      "author_association": "MEMBER",
      "body": "@dergoegge just checking that you saw my comment about member naming: https://github.com/bitcoin/bitcoin/pull/25514#discussion_r919936826.",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#issuecomment-1184360787",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25514"
    },
    {
      "event": "mentioned",
      "id": 6993626503,
      "node_id": "MEE_lADOABII585M6w-9zwAAAAGg2kWH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6993626503",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-14T11:59:06Z"
    },
    {
      "event": "subscribed",
      "id": 6993626509,
      "node_id": "SE_lADOABII585M6w-9zwAAAAGg2kWN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6993626509",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-14T11:59:06Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDFmNTJjNDdkNWMwOWI1OWZkMzE1MzcwMDc1MWM3NGU2M2VkYzdkN2U",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1f52c47d5c09b59fd3153700751c74e63edc7d7e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/1f52c47d5c09b59fd3153700751c74e63edc7d7e",
      "tree": {
        "sha": "1daebbb2837b9764a348f280e7afd9ea0128644b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1daebbb2837b9764a348f280e7afd9ea0128644b"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/31c6309cc60ae3fee2d3ecc2aff9576596fb98ac",
          "sha": "31c6309cc60ae3fee2d3ecc2aff9576596fb98ac",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/31c6309cc60ae3fee2d3ecc2aff9576596fb98ac"
        }
      ],
      "message": "[net processing] Add m_our_services and m_their_services to Peer\n\nTrack services offered by us and the peer in the Peer object.",
      "committer": {
        "name": "dergoegge",
        "email": "n.goeggi@gmail.com",
        "date": "2022-07-14T12:44:44Z"
      },
      "author": {
        "name": "John Newbery",
        "email": "john@johnnewbery.com",
        "date": "2020-07-20T13:01:05Z"
      },
      "sha": "1f52c47d5c09b59fd3153700751c74e63edc7d7e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZjNWViNTI4ZjdkN2IzM2UyZjJlNDQzYzU2MTBhMTU1MWM3ZjA5OWI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fc5eb528f7d7b33e2f2e443c5610a1551c7f099b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fc5eb528f7d7b33e2f2e443c5610a1551c7f099b",
      "tree": {
        "sha": "b8843f0bb3f27dbb8892b9535419be1ddaa80676",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b8843f0bb3f27dbb8892b9535419be1ddaa80676"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1f52c47d5c09b59fd3153700751c74e63edc7d7e",
          "sha": "1f52c47d5c09b59fd3153700751c74e63edc7d7e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/1f52c47d5c09b59fd3153700751c74e63edc7d7e"
        }
      ],
      "message": "[tests] Connect peer in outbound_slow_chain_eviction by sending p2p messages\n\nPrior to this commit, the peer was connected, and then the services and\nconnectivity fields in the CNode object were manually set. Instead, send\np2p `version` and `verack` messages, and have net_processing's internal\nlogic set the state of the node.\n\nThis ensures that the node's internal state is consistent with how it\nwould be set in the live code.\n\nPrior to this commit, `dummyNode1.nServices` was set to `NODE_NONE`\nwhich was not a problem since `CNode::fClient` and\n`CNode::m_limited_node` are default initialised to false. Now that we\nare doing the actual version handshake, the values of `fClient` and\n`m_limited_node` are set during the handshake and cause the test to fail\nif we do not set `dummyNode1.nServices` to a reasonable value\n(NODE_NETWORK | NODE_WITNESS).",
      "committer": {
        "name": "dergoegge",
        "email": "n.goeggi@gmail.com",
        "date": "2022-07-14T12:44:44Z"
      },
      "author": {
        "name": "John Newbery",
        "email": "john@johnnewbery.com",
        "date": "2022-02-07T17:13:54Z"
      },
      "sha": "fc5eb528f7d7b33e2f2e443c5610a1551c7f099b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGY2NWU4M2Q1MWJmYjZhMzRmMWQ1ZWZjY2ZiM2Q4Nzg2YTUxYTQ1MzQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f65e83d51bfb6a34f1d5efccfb3d8786a51a4534",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f65e83d51bfb6a34f1d5efccfb3d8786a51a4534",
      "tree": {
        "sha": "02d2e73683913bc661950347ef777974aaebef0f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/02d2e73683913bc661950347ef777974aaebef0f"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fc5eb528f7d7b33e2f2e443c5610a1551c7f099b",
          "sha": "fc5eb528f7d7b33e2f2e443c5610a1551c7f099b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fc5eb528f7d7b33e2f2e443c5610a1551c7f099b"
        }
      ],
      "message": "[net processing] Remove fClient and m_limited_node\n\nfClient is replaced by CanServeBlocks(), and m_limited_node is replaced\nby IsLimitedPeer().",
      "committer": {
        "name": "dergoegge",
        "email": "n.goeggi@gmail.com",
        "date": "2022-07-14T12:48:41Z"
      },
      "author": {
        "name": "John Newbery",
        "email": "john@johnnewbery.com",
        "date": "2020-07-20T13:45:20Z"
      },
      "sha": "f65e83d51bfb6a34f1d5efccfb3d8786a51a4534"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDdkMWMwMzY5MzQwY2I3NTJmMGQ3OGUyNGY0MjUxNTk1NTM0YmY1ZTk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7d1c0369340cb752f0d78e24f4251595534bf5e9",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/7d1c0369340cb752f0d78e24f4251595534bf5e9",
      "tree": {
        "sha": "1ec1494020636628b39e3712dd6abcb8254cf8c5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1ec1494020636628b39e3712dd6abcb8254cf8c5"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f65e83d51bfb6a34f1d5efccfb3d8786a51a4534",
          "sha": "f65e83d51bfb6a34f1d5efccfb3d8786a51a4534",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f65e83d51bfb6a34f1d5efccfb3d8786a51a4534"
        }
      ],
      "message": "[net processing] Replace fHaveWitness with CanServeWitnesses()",
      "committer": {
        "name": "dergoegge",
        "email": "n.goeggi@gmail.com",
        "date": "2022-07-14T12:49:31Z"
      },
      "author": {
        "name": "John Newbery",
        "email": "john@johnnewbery.com",
        "date": "2020-07-20T17:06:03Z"
      },
      "sha": "7d1c0369340cb752f0d78e24f4251595534bf5e9"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGQ5MDc5ZmUxOGRjNWQ4MWNlMjkwODc2MzUzNTU1YjUxMTI1MTI3ZDE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d9079fe18dc5d81ce290876353555b51125127d1",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d9079fe18dc5d81ce290876353555b51125127d1",
      "tree": {
        "sha": "9d9d45587a11737cfc7bded1126326ff97d59771",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9d9d45587a11737cfc7bded1126326ff97d59771"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7d1c0369340cb752f0d78e24f4251595534bf5e9",
          "sha": "7d1c0369340cb752f0d78e24f4251595534bf5e9",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/7d1c0369340cb752f0d78e24f4251595534bf5e9"
        }
      ],
      "message": "[net processing] Remove CNode::nServices\n\nUse Peer::m_their_services instead",
      "committer": {
        "name": "dergoegge",
        "email": "n.goeggi@gmail.com",
        "date": "2022-07-14T12:50:44Z"
      },
      "author": {
        "name": "John Newbery",
        "email": "john@johnnewbery.com",
        "date": "2020-07-20T17:46:13Z"
      },
      "sha": "d9079fe18dc5d81ce290876353555b51125127d1"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDU5NjFmOGVlYTFhZDViZTFhNGJmOGRhNjM2NTFlMTk3YTIwMzU5YjI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5961f8eea1ad5be1a4bf8da63651e197a20359b2",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/5961f8eea1ad5be1a4bf8da63651e197a20359b2",
      "tree": {
        "sha": "3d822083a7eacadb241e87ad5625f946852c76eb",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3d822083a7eacadb241e87ad5625f946852c76eb"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d9079fe18dc5d81ce290876353555b51125127d1",
          "sha": "d9079fe18dc5d81ce290876353555b51125127d1",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d9079fe18dc5d81ce290876353555b51125127d1"
        }
      ],
      "message": "[net] Return CService from GetLocalAddrForPeer and GetLocalAddress",
      "committer": {
        "name": "dergoegge",
        "email": "n.goeggi@gmail.com",
        "date": "2022-07-14T13:24:00Z"
      },
      "author": {
        "name": "dergoegge",
        "email": "n.goeggi@gmail.com",
        "date": "2022-07-04T16:02:28Z"
      },
      "sha": "5961f8eea1ad5be1a4bf8da63651e197a20359b2"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDhkOGVlYjQyMmU2NGNjZDA4YmNlOTJlZWQyZWU5Y2JiZjU1ZmZkNjc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "tree": {
        "sha": "b77c7c19702515192a7b3a958001053b2ab9adc7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b77c7c19702515192a7b3a958001053b2ab9adc7"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5961f8eea1ad5be1a4bf8da63651e197a20359b2",
          "sha": "5961f8eea1ad5be1a4bf8da63651e197a20359b2",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5961f8eea1ad5be1a4bf8da63651e197a20359b2"
        }
      ],
      "message": "[net processing] Remove CNode::nLocalServices",
      "committer": {
        "name": "dergoegge",
        "email": "n.goeggi@gmail.com",
        "date": "2022-07-14T13:25:15Z"
      },
      "author": {
        "name": "John Newbery",
        "email": "john@johnnewbery.com",
        "date": "2020-07-20T19:28:37Z"
      },
      "sha": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6994276520,
      "node_id": "HRFPE_lADOABII585M6w-9zwAAAAGg5DCo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6994276520",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-14T13:29:18Z"
    },
    {
      "event": "commented",
      "id": 1184471068,
      "node_id": "IC_kwDOABII585GmZgc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1184471068",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-14T13:47:27Z",
      "updated_at": "2022-07-14T13:47:27Z",
      "author_association": "MEMBER",
      "body": "ACK 8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67 🔑\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nACK 8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67 🔑\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\r\npUjJZQv/TaiI8pAKqRBeggxNkZdPjDY4gnn1vJgyfjjDsVu1FrKZBbOm0AxGPmSP\r\no3N2x5ZZWcjIzU6Rmv0aWqxmz1yaHUByF9bHC8PBcfcdnb9ELVePbYApM3pcFZU1\r\nDX/wR1RJcb+m9/h8Kl8f6wQMIHf/2fCuqi10/AX+RqLIgEpIRECnEGaHVE6jGV2k\r\ngI+KDnQRxRBelpSloDK7lnTAOUbU0H9ReeILtpIDM6HNGynC50C2VEj29cSxjBdD\r\nKaqNPbbcHyqXiDM0DhNtFRRWNS8PP2d46xWOK+yWr/sInPpmdns8xsA29s3FwUp0\r\nmqpseRqrfRaFOZRqtDjVX1nxs3JeQNSkxCnJoVFMReWzZcvEe9PO0jZjOrntCAwU\r\ncxJcrNsRlaxkIT3Ty2mKYuoRZKujxXUmHzBD4KOYiLd0DNHX+xCEcEb/aQFQM21g\r\ncLOkVzMe8IDfocPtbKw38HQSHgsh/ppzWM61KBp8vBuI4jTlGY3XUieUFW6mlhgj\r\nvGhOSGp+\r\n=CVY2\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\n\r\n</details>\r\n",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#issuecomment-1184471068",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25514"
    },
    {
      "event": "reviewed",
      "id": 1039243919,
      "node_id": "PRR_kwDOABII58498ZqP",
      "url": null,
      "actor": null,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "utACK 8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67\r\n\r\nOne missed `our_services` -> `m_our_services` in a comment, but that shouldn't hold up merge.",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#pullrequestreview-1039243919",
      "submitted_at": "2022-07-14T17:30:23Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
    },
    {
      "event": "review_requested",
      "id": 7001207645,
      "node_id": "RRE_lADOABII585M6w-9zwAAAAGhTfNd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7001207645",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-15T11:19:08Z",
      "requested_reviewer": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "reviewed",
      "id": 1042611930,
      "node_id": "PRR_kwDOABII584-JP7a",
      "url": null,
      "actor": null,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Code Review ACK 8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67\r\n\r\nThis looks good to me, only found nits/doc comments during review.",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#pullrequestreview-1042611930",
      "submitted_at": "2022-07-19T04:05:20Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
    },
    {
      "event": "merged",
      "id": 7017805559,
      "node_id": "ME_lADOABII585M6w-9zwAAAAGiSzb3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7017805559",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "2bdce7f7adbdec018405cb993d16cecb5fb429f6",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2bdce7f7adbdec018405cb993d16cecb5fb429f6",
      "created_at": "2022-07-19T06:33:58Z"
    },
    {
      "event": "closed",
      "id": 7017805577,
      "node_id": "CE_lADOABII585M6w-9zwAAAAGiSzcJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7017805577",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-19T06:33:58Z"
    },
    {
      "event": "referenced",
      "id": 7022571845,
      "node_id": "REFE_lADOABII585M6w-9zwAAAAGik_FF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7022571845",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "bea2180c6af8e42e81b4bf59dd01da1e809534eb",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/bea2180c6af8e42e81b4bf59dd01da1e809534eb",
      "created_at": "2022-07-19T17:16:16Z"
    },
    {
      "event": "commented",
      "id": 1192838690,
      "node_id": "IC_kwDOABII585HGUYi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1192838690",
      "actor": {
        "login": "dhruv",
        "id": 856960,
        "node_id": "MDQ6VXNlcjg1Njk2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/856960?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dhruv",
        "html_url": "https://github.com/dhruv",
        "followers_url": "https://api.github.com/users/dhruv/followers",
        "following_url": "https://api.github.com/users/dhruv/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dhruv/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dhruv/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dhruv/subscriptions",
        "organizations_url": "https://api.github.com/users/dhruv/orgs",
        "repos_url": "https://api.github.com/users/dhruv/repos",
        "events_url": "https://api.github.com/users/dhruv/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dhruv/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-22T18:34:45Z",
      "updated_at": "2022-07-22T20:06:39Z",
      "author_association": "MEMBER",
      "body": "@dergoegge @jnewbery I am still digging deeper here, but I have a question (and might be terribly wrong). Moving `nServices` and `nLocalServices` into `Peer` seems to imply that the service bits only gain importance during the VERSION/VERACK handshake and are useful in the P2P layer, not in the transport layer.\r\n\r\nHowever, I think service bits (also propagated with addr relay) are useful at the transport layer. For instance in BIP324, the [proposed signaling method](https://gist.github.com/dhruv/5b1275751bc98f3b64bcafce7876b489#signaling-v2-support) uses `nServices` from addr relay to branch logic in the establishment of the transport. Moving the service flags to `net_processing` will mean that I'll end up having to pass a boolean around. Is that an expected and acceptable consequence?",
      "user": {
        "login": "dhruv",
        "id": 856960,
        "node_id": "MDQ6VXNlcjg1Njk2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/856960?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dhruv",
        "html_url": "https://github.com/dhruv",
        "followers_url": "https://api.github.com/users/dhruv/followers",
        "following_url": "https://api.github.com/users/dhruv/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dhruv/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dhruv/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dhruv/subscriptions",
        "organizations_url": "https://api.github.com/users/dhruv/orgs",
        "repos_url": "https://api.github.com/users/dhruv/repos",
        "events_url": "https://api.github.com/users/dhruv/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dhruv/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#issuecomment-1192838690",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25514"
    },
    {
      "event": "mentioned",
      "id": 7048402165,
      "node_id": "MEE_lADOABII585M6w-9zwAAAAGkHhT1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7048402165",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-22T18:34:45Z"
    },
    {
      "event": "subscribed",
      "id": 7048402171,
      "node_id": "SE_lADOABII585M6w-9zwAAAAGkHhT7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7048402171",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-22T18:34:45Z"
    },
    {
      "event": "mentioned",
      "id": 7048402177,
      "node_id": "MEE_lADOABII585M6w-9zwAAAAGkHhUB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7048402177",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-22T18:34:46Z"
    },
    {
      "event": "subscribed",
      "id": 7048402179,
      "node_id": "SE_lADOABII585M6w-9zwAAAAGkHhUD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7048402179",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-22T18:34:46Z"
    },
    {
      "event": "commented",
      "id": 1193907800,
      "node_id": "IC_kwDOABII585HKZZY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1193907800",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-25T11:08:14Z",
      "updated_at": "2022-07-25T11:08:14Z",
      "author_association": "MEMBER",
      "body": "@dhruv Currently all service bits signal readiness to serve application layer data (blocks, bloom/compact filters, witness data). The BIP324 service bit differs from that as it signals support for a new transport protocol, which would make it the only bit that is needed within our net layer. I would therefore argue that passing around a bool to/within the net layer for the v2 bit seems more appropriate than passing around all service bits.",
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#issuecomment-1193907800",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25514"
    },
    {
      "event": "mentioned",
      "id": 7055512852,
      "node_id": "MEE_lADOABII585M6w-9zwAAAAGkipUU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7055512852",
      "actor": {
        "login": "dhruv",
        "id": 856960,
        "node_id": "MDQ6VXNlcjg1Njk2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/856960?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dhruv",
        "html_url": "https://github.com/dhruv",
        "followers_url": "https://api.github.com/users/dhruv/followers",
        "following_url": "https://api.github.com/users/dhruv/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dhruv/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dhruv/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dhruv/subscriptions",
        "organizations_url": "https://api.github.com/users/dhruv/orgs",
        "repos_url": "https://api.github.com/users/dhruv/repos",
        "events_url": "https://api.github.com/users/dhruv/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dhruv/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-25T11:08:15Z"
    },
    {
      "event": "subscribed",
      "id": 7055512866,
      "node_id": "SE_lADOABII585M6w-9zwAAAAGkipUi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7055512866",
      "actor": {
        "login": "dhruv",
        "id": 856960,
        "node_id": "MDQ6VXNlcjg1Njk2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/856960?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dhruv",
        "html_url": "https://github.com/dhruv",
        "followers_url": "https://api.github.com/users/dhruv/followers",
        "following_url": "https://api.github.com/users/dhruv/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dhruv/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dhruv/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dhruv/subscriptions",
        "organizations_url": "https://api.github.com/users/dhruv/orgs",
        "repos_url": "https://api.github.com/users/dhruv/repos",
        "events_url": "https://api.github.com/users/dhruv/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dhruv/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-25T11:08:15Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/912007088",
      "pull_request_review_id": 1026286280,
      "id": 912007088,
      "node_id": "PRRC_kwDOABII5842XB-w",
      "diff_hunk": "@@ -324,7 +324,6 @@ void FillNode(FuzzedDataProvider& fuzzed_data_provider, ConnmanTestMsg& connman,\n     if (node.fDisconnect) return;\n     assert(node.nVersion == version);\n     assert(node.GetCommonVersion() == std::min(version, PROTOCOL_VERSION));\n-    assert(node.nServices == remote_services);",
      "path": "src/test/fuzz/util.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "10a4ebab27309c781f284d260c882055c66eeb1e",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "why is this removed when it can be moved down?",
      "created_at": "2022-07-01T14:20:32Z",
      "updated_at": "2022-07-01T14:22:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r912007088",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/912007088"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 327,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/912007425",
      "pull_request_review_id": 1026286280,
      "id": 912007425,
      "node_id": "PRRC_kwDOABII5842XCEB",
      "diff_hunk": "@@ -296,7 +296,6 @@ template <bool ReturnUniquePtr = false>\n auto ConsumeNode(FuzzedDataProvider& fuzzed_data_provider, const std::optional<NodeId>& node_id_in = std::nullopt) noexcept\n {\n     const NodeId node_id = node_id_in.value_or(fuzzed_data_provider.ConsumeIntegralInRange<NodeId>(0, std::numeric_limits<NodeId>::max()));\n-    const ServiceFlags local_services = ConsumeWeakEnum(fuzzed_data_provider, ALL_SERVICE_FLAGS);",
      "path": "src/test/fuzz/util.h",
      "position": 4,
      "original_position": 4,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "10a4ebab27309c781f284d260c882055c66eeb1e",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "why is this removed and replaced with a hardcoded value?",
      "created_at": "2022-07-01T14:20:56Z",
      "updated_at": "2022-07-01T14:22:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r912007425",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/912007425"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 299,
      "original_line": 299,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/912734475",
      "pull_request_review_id": 1027168080,
      "id": 912734475,
      "node_id": "PRRC_kwDOABII5842ZzkL",
      "diff_hunk": "@@ -636,7 +653,7 @@ class PeerManagerImpl final : public PeerManager\n     /** Get a pointer to a mutable CNodeState. */\n     CNodeState* State(NodeId pnode) EXCLUSIVE_LOCKS_REQUIRED(cs_main);\n \n-    uint32_t GetFetchFlags(const CNode& pfrom) const EXCLUSIVE_LOCKS_REQUIRED(cs_main);\n+    uint32_t GetFetchFlags(const Peer& peer) const EXCLUSIVE_LOCKS_REQUIRED(cs_main);",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 68,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "10a4ebab27309c781f284d260c882055c66eeb1e",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This function no longer requires `cs_main`.",
      "created_at": "2022-07-04T08:05:02Z",
      "updated_at": "2022-07-04T08:45:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r912734475",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/912734475"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 656,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/912735065",
      "pull_request_review_id": 1027168080,
      "id": 912735065,
      "node_id": "PRRC_kwDOABII5842ZztZ",
      "diff_hunk": "@@ -757,7 +774,7 @@ class PeerManagerImpl final : public PeerManager\n     /** Update pindexLastCommonBlock and add not-in-flight missing successors to vBlocks, until it has\n      *  at most count entries.\n      */\n-    void FindNextBlocksToDownload(NodeId nodeid, unsigned int count, std::vector<const CBlockIndex*>& vBlocks, NodeId& nodeStaller) EXCLUSIVE_LOCKS_REQUIRED(cs_main);\n+    void FindNextBlocksToDownload(NodeId nodeid, const Peer& peer, unsigned int count, std::vector<const CBlockIndex*>& vBlocks, NodeId& nodeStaller) EXCLUSIVE_LOCKS_REQUIRED(cs_main);",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 77,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "10a4ebab27309c781f284d260c882055c66eeb1e",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Perhaps it makes sense to remove `NodeId nodeid` as an argument to this function, now that it can easily be accessed from the `peer` argument.",
      "created_at": "2022-07-04T08:05:49Z",
      "updated_at": "2022-07-04T08:45:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r912735065",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/912735065"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 777,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/912751871",
      "pull_request_review_id": 1027168080,
      "id": 912751871,
      "node_id": "PRRC_kwDOABII5842Z3z_",
      "diff_hunk": "@@ -130,6 +125,11 @@ static RPCHelpMan getpeerinfo()\n                     {RPCResult::Type::BOOL, \"inbound\", \"Inbound (true) or Outbound (false)\"},\n                     {RPCResult::Type::BOOL, \"bip152_hb_to\", \"Whether we selected peer as (compact blocks) high-bandwidth peer\"},\n                     {RPCResult::Type::BOOL, \"bip152_hb_from\", \"Whether peer selected us as (compact blocks) high-bandwidth peer\"},\n+                    {RPCResult::Type::STR_HEX, \"services\", /*optional=*/true, \"The services offered\"},",
      "path": "src/rpc/net.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "10a4ebab27309c781f284d260c882055c66eeb1e",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'm not sure if changing these fields to optional requires a release note, since missing fields that used to be always present could break clients that assume they'll be there. See #25176 for example.",
      "created_at": "2022-07-04T08:25:04Z",
      "updated_at": "2022-07-04T08:45:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r912751871",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/912751871"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 128,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/912765757",
      "pull_request_review_id": 1027168080,
      "id": 912765757,
      "node_id": "PRRC_kwDOABII5842Z7M9",
      "diff_hunk": "@@ -235,10 +235,10 @@ bool IsPeerAddrLocalGood(CNode *pnode)\n \n std::optional<CAddress> GetLocalAddrForPeer(CNode *pnode)\n {\n-    CAddress addrLocal = GetLocalAddress(&pnode->addr, pnode->GetLocalServices());\n+    CAddress addrLocal = GetLocalAddress(&pnode->addr);\n     if (gArgs.GetBoolArg(\"-addrmantest\", false)) {\n         // use IPv4 loopback during addrmantest\n-        addrLocal = CAddress(CService(LookupNumeric(\"127.0.0.1\", GetListenPort())), pnode->GetLocalServices());\n+        addrLocal = CAddress(CService(LookupNumeric(\"127.0.0.1\", GetListenPort())), NODE_NONE);",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 26,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "10a4ebab27309c781f284d260c882055c66eeb1e",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think the line lower down:\r\n\r\n```\r\naddrLocal = CAddress{pnode->GetAddrLocal(), addrLocal.nServices, addrLocal.nTime};\r\n```\r\n\r\nNo longer makes sense, since `addrLocal.nServices` will always be `NODE_NONE`. Perhaps change `addrLocal.nServices` to `NODE_NONE`, since it is the caller's job to set the services.\r\n\r\nPerhaps even better would be to change `GetLocalAddrForPeer` and `GetLocalAddress` to return a `CService` instead of a `CAddress`, so the caller has to set the `nTime` and `nServices` fields (which might help avoid bugs like #25314).",
      "created_at": "2022-07-04T08:40:39Z",
      "updated_at": "2022-07-04T08:45:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r912765757",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/912765757"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 240,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/912770455",
      "pull_request_review_id": 1027168080,
      "id": 912770455,
      "node_id": "PRRC_kwDOABII5842Z8WX",
      "diff_hunk": "@@ -296,7 +296,6 @@ template <bool ReturnUniquePtr = false>\n auto ConsumeNode(FuzzedDataProvider& fuzzed_data_provider, const std::optional<NodeId>& node_id_in = std::nullopt) noexcept\n {\n     const NodeId node_id = node_id_in.value_or(fuzzed_data_provider.ConsumeIntegralInRange<NodeId>(0, std::numeric_limits<NodeId>::max()));\n-    const ServiceFlags local_services = ConsumeWeakEnum(fuzzed_data_provider, ALL_SERVICE_FLAGS);",
      "path": "src/test/fuzz/util.h",
      "position": 4,
      "original_position": 4,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "10a4ebab27309c781f284d260c882055c66eeb1e",
      "in_reply_to_id": 912007425,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Which hardcoded value? The `CNode` object no longer contains `nServices`, so there's nothing to set here.",
      "created_at": "2022-07-04T08:45:36Z",
      "updated_at": "2022-07-04T08:45:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r912770455",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/912770455"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 299,
      "original_line": 299,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/912817160",
      "pull_request_review_id": 1027284569,
      "id": 912817160,
      "node_id": "PRRC_kwDOABII5842aHwI",
      "diff_hunk": "@@ -296,7 +296,6 @@ template <bool ReturnUniquePtr = false>\n auto ConsumeNode(FuzzedDataProvider& fuzzed_data_provider, const std::optional<NodeId>& node_id_in = std::nullopt) noexcept\n {\n     const NodeId node_id = node_id_in.value_or(fuzzed_data_provider.ConsumeIntegralInRange<NodeId>(0, std::numeric_limits<NodeId>::max()));\n-    const ServiceFlags local_services = ConsumeWeakEnum(fuzzed_data_provider, ALL_SERVICE_FLAGS);",
      "path": "src/test/fuzz/util.h",
      "position": 4,
      "original_position": 4,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "10a4ebab27309c781f284d260c882055c66eeb1e",
      "in_reply_to_id": 912007425,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The symbol is moved from `CNode` to `Peer`. I think a refactoring pull request should not change the value of the symbol.\r\n\r\nIf the local service flags were previously determined by the fuzz engine, they should still be after this change, regardless of the namespace of the symbol.",
      "created_at": "2022-07-04T09:34:58Z",
      "updated_at": "2022-07-04T09:34:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r912817160",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/912817160"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 299,
      "original_line": 299,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/912899595",
      "pull_request_review_id": 1027404490,
      "id": 912899595,
      "node_id": "PRRC_kwDOABII5842ab4L",
      "diff_hunk": "@@ -296,7 +296,6 @@ template <bool ReturnUniquePtr = false>\n auto ConsumeNode(FuzzedDataProvider& fuzzed_data_provider, const std::optional<NodeId>& node_id_in = std::nullopt) noexcept\n {\n     const NodeId node_id = node_id_in.value_or(fuzzed_data_provider.ConsumeIntegralInRange<NodeId>(0, std::numeric_limits<NodeId>::max()));\n-    const ServiceFlags local_services = ConsumeWeakEnum(fuzzed_data_provider, ALL_SERVICE_FLAGS);",
      "path": "src/test/fuzz/util.h",
      "position": 4,
      "original_position": 4,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "10a4ebab27309c781f284d260c882055c66eeb1e",
      "in_reply_to_id": 912007425,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "To be clear, are you suggesting that the `InitializeNode()` calls in fuzz/processmessage.cpp and fuzz/processmessages.cpp should be updated to take `ConsumeWeakEnum(fuzzed_data_provider, ALL_SERVICE_FLAGS)`?",
      "created_at": "2022-07-04T11:15:13Z",
      "updated_at": "2022-07-04T11:15:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r912899595",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/912899595"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 299,
      "original_line": 299,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/912904348",
      "pull_request_review_id": 1027411098,
      "id": 912904348,
      "node_id": "PRRC_kwDOABII5842adCc",
      "diff_hunk": "@@ -296,7 +296,6 @@ template <bool ReturnUniquePtr = false>\n auto ConsumeNode(FuzzedDataProvider& fuzzed_data_provider, const std::optional<NodeId>& node_id_in = std::nullopt) noexcept\n {\n     const NodeId node_id = node_id_in.value_or(fuzzed_data_provider.ConsumeIntegralInRange<NodeId>(0, std::numeric_limits<NodeId>::max()));\n-    const ServiceFlags local_services = ConsumeWeakEnum(fuzzed_data_provider, ALL_SERVICE_FLAGS);",
      "path": "src/test/fuzz/util.h",
      "position": 4,
      "original_position": 4,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "10a4ebab27309c781f284d260c882055c66eeb1e",
      "in_reply_to_id": 912007425,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes.\r\n\r\nI am also thinking if `InitializeNode` can be moved into `FillNode`, so that only one place needs to be updated.",
      "created_at": "2022-07-04T11:21:38Z",
      "updated_at": "2022-07-04T11:21:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r912904348",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/912904348"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 299,
      "original_line": 299,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/913133744",
      "pull_request_review_id": 1027737610,
      "id": 913133744,
      "node_id": "PRRC_kwDOABII5842bVCw",
      "diff_hunk": "@@ -324,7 +324,6 @@ void FillNode(FuzzedDataProvider& fuzzed_data_provider, ConnmanTestMsg& connman,\n     if (node.fDisconnect) return;\n     assert(node.nVersion == version);\n     assert(node.GetCommonVersion() == std::min(version, PROTOCOL_VERSION));\n-    assert(node.nServices == remote_services);",
      "path": "src/test/fuzz/util.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "10a4ebab27309c781f284d260c882055c66eeb1e",
      "in_reply_to_id": 912007088,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Moved the assert down.",
      "created_at": "2022-07-04T16:18:17Z",
      "updated_at": "2022-07-04T16:18:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r913133744",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/913133744"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 327,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/913134477",
      "pull_request_review_id": 1027738527,
      "id": 913134477,
      "node_id": "PRRC_kwDOABII5842bVON",
      "diff_hunk": "@@ -296,7 +296,6 @@ template <bool ReturnUniquePtr = false>\n auto ConsumeNode(FuzzedDataProvider& fuzzed_data_provider, const std::optional<NodeId>& node_id_in = std::nullopt) noexcept\n {\n     const NodeId node_id = node_id_in.value_or(fuzzed_data_provider.ConsumeIntegralInRange<NodeId>(0, std::numeric_limits<NodeId>::max()));\n-    const ServiceFlags local_services = ConsumeWeakEnum(fuzzed_data_provider, ALL_SERVICE_FLAGS);",
      "path": "src/test/fuzz/util.h",
      "position": 4,
      "original_position": 4,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "10a4ebab27309c781f284d260c882055c66eeb1e",
      "in_reply_to_id": 912007425,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Moved all `InitializeNode` calls (there were only 2) into `FillNode` with service flags consumed from the fuzzer.",
      "created_at": "2022-07-04T16:19:39Z",
      "updated_at": "2022-07-04T16:19:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r913134477",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/913134477"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 299,
      "original_line": 299,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/913134913",
      "pull_request_review_id": 1027739092,
      "id": 913134913,
      "node_id": "PRRC_kwDOABII5842bVVB",
      "diff_hunk": "@@ -757,7 +774,7 @@ class PeerManagerImpl final : public PeerManager\n     /** Update pindexLastCommonBlock and add not-in-flight missing successors to vBlocks, until it has\n      *  at most count entries.\n      */\n-    void FindNextBlocksToDownload(NodeId nodeid, unsigned int count, std::vector<const CBlockIndex*>& vBlocks, NodeId& nodeStaller) EXCLUSIVE_LOCKS_REQUIRED(cs_main);\n+    void FindNextBlocksToDownload(NodeId nodeid, const Peer& peer, unsigned int count, std::vector<const CBlockIndex*>& vBlocks, NodeId& nodeStaller) EXCLUSIVE_LOCKS_REQUIRED(cs_main);",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 77,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "10a4ebab27309c781f284d260c882055c66eeb1e",
      "in_reply_to_id": 912735065,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yup, removed the NodeId arg.",
      "created_at": "2022-07-04T16:20:33Z",
      "updated_at": "2022-07-04T16:20:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r913134913",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/913134913"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 777,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/913135978",
      "pull_request_review_id": 1027740470,
      "id": 913135978,
      "node_id": "PRRC_kwDOABII5842bVlq",
      "diff_hunk": "@@ -235,10 +235,10 @@ bool IsPeerAddrLocalGood(CNode *pnode)\n \n std::optional<CAddress> GetLocalAddrForPeer(CNode *pnode)\n {\n-    CAddress addrLocal = GetLocalAddress(&pnode->addr, pnode->GetLocalServices());\n+    CAddress addrLocal = GetLocalAddress(&pnode->addr);\n     if (gArgs.GetBoolArg(\"-addrmantest\", false)) {\n         // use IPv4 loopback during addrmantest\n-        addrLocal = CAddress(CService(LookupNumeric(\"127.0.0.1\", GetListenPort())), pnode->GetLocalServices());\n+        addrLocal = CAddress(CService(LookupNumeric(\"127.0.0.1\", GetListenPort())), NODE_NONE);",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 26,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "10a4ebab27309c781f284d260c882055c66eeb1e",
      "in_reply_to_id": 912765757,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> Perhaps even better would be to change GetLocalAddrForPeer and GetLocalAddress to return a `CService`\r\n\r\nAdded an extra commit to do this. Makes it obvious that the caller is supposed to set the `nTime` and `nServices` fields.",
      "created_at": "2022-07-04T16:22:37Z",
      "updated_at": "2022-07-04T16:22:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r913135978",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/913135978"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 240,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/913146453",
      "pull_request_review_id": 1027754456,
      "id": 913146453,
      "node_id": "PRRC_kwDOABII5842bYJV",
      "diff_hunk": "@@ -130,6 +125,11 @@ static RPCHelpMan getpeerinfo()\n                     {RPCResult::Type::BOOL, \"inbound\", \"Inbound (true) or Outbound (false)\"},\n                     {RPCResult::Type::BOOL, \"bip152_hb_to\", \"Whether we selected peer as (compact blocks) high-bandwidth peer\"},\n                     {RPCResult::Type::BOOL, \"bip152_hb_from\", \"Whether peer selected us as (compact blocks) high-bandwidth peer\"},\n+                    {RPCResult::Type::STR_HEX, \"services\", /*optional=*/true, \"The services offered\"},",
      "path": "src/rpc/net.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "10a4ebab27309c781f284d260c882055c66eeb1e",
      "in_reply_to_id": 912751871,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I changed this back to be non-optional just to stick with the previous behavior (i.e. when the peer has not sent a `version` message yet we default to  `NODE_NONE`).",
      "created_at": "2022-07-04T16:45:07Z",
      "updated_at": "2022-07-04T16:45:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r913146453",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/913146453"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 128,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/914765678",
      "pull_request_review_id": 1029987711,
      "id": 914765678,
      "node_id": "PRRC_kwDOABII5842hjdu",
      "diff_hunk": "@@ -130,6 +125,11 @@ static RPCHelpMan getpeerinfo()\n                     {RPCResult::Type::BOOL, \"inbound\", \"Inbound (true) or Outbound (false)\"},\n                     {RPCResult::Type::BOOL, \"bip152_hb_to\", \"Whether we selected peer as (compact blocks) high-bandwidth peer\"},\n                     {RPCResult::Type::BOOL, \"bip152_hb_from\", \"Whether peer selected us as (compact blocks) high-bandwidth peer\"},\n+                    {RPCResult::Type::STR_HEX, \"services\", /*optional=*/true, \"The services offered\"},",
      "path": "src/rpc/net.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "10a4ebab27309c781f284d260c882055c66eeb1e",
      "in_reply_to_id": 912751871,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": ":+1: Seems pragmatic",
      "created_at": "2022-07-06T12:14:03Z",
      "updated_at": "2022-07-06T12:14:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r914765678",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/914765678"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 128,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/915008859",
      "pull_request_review_id": 1030340529,
      "id": 915008859,
      "node_id": "PRRC_kwDOABII5842ie1b",
      "diff_hunk": "@@ -34,6 +36,56 @@ static CService ip(uint32_t i)\n \n BOOST_FIXTURE_TEST_SUITE(denialofservice_tests, TestingSetup)\n \n+void ConnectNode(ConnmanTestMsg& connman, PeerManager& peerman, CNode& node, ServiceFlags their_services) noexcept\n+{\n+    // Send version message\n+    const CNetMsgMaker mm{0};\n+    CSerializedNetMsg msg_version{\n+        mm.Make(NetMsgType::VERSION,\n+                PROTOCOL_VERSION,                               // current p2p version\n+                Using<CustomUintFormatter<8>>(their_services),  // their service flags\n+                int64_t{},                                      // dummy time\n+                int64_t{},                                      // ignored service bits\n+                CService{},                                     // dummy\n+                int64_t{},                                      // ignored service bits\n+                CService{},                                     // ignored\n+                uint64_t{1},                                    // dummy nonce\n+                std::string{},                                  // dummy subver\n+                int32_t{},                                      // dummy starting_height\n+                true),                                          // fRelay\n+    };\n+\n+    (void)connman.ReceiveMsgFrom(node, msg_version);\n+    node.fPauseSend = false;\n+    connman.ProcessMessagesOnce(node);\n+\n+    // Receive messages\n+    {\n+        LOCK(node.cs_sendProcessing);\n+        peerman.SendMessages(&node);\n+    }\n+    if (node.fDisconnect) return;\n+\n+    BOOST_CHECK_EQUAL(node.nVersion, PROTOCOL_VERSION);\n+    BOOST_CHECK_EQUAL(node.GetCommonVersion(), PROTOCOL_VERSION);\n+    BOOST_CHECK_EQUAL(node.nServices, their_services);\n+\n+    // Send verack message\n+    CSerializedNetMsg msg_verack{mm.Make(NetMsgType::VERACK)};\n+    (void)connman.ReceiveMsgFrom(node, msg_verack);\n+    node.fPauseSend = false;\n+    connman.ProcessMessagesOnce(node);\n+\n+    // Receive messages\n+    {\n+        LOCK(node.cs_sendProcessing);\n+        peerman.SendMessages(&node);\n+    }\n+    BOOST_CHECK_EQUAL(node.fSuccessfullyConnected, true);\n+\n+    TestOnlyResetTimeData();",
      "path": "src/test/denialofservice_tests.cpp",
      "position": null,
      "original_position": 67,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "40e83ad09dae3bd958dafeb54c6da3193c6e0c6a",
      "in_reply_to_id": null,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The Ci was failing because the peer manager calls `AddTimeData`  when receiving a version message and since the time offset data for adjusted time is a global this can mess with other tests. Calling `TestOnlyResetTimeData()` here should fix it.",
      "created_at": "2022-07-06T15:56:26Z",
      "updated_at": "2022-07-06T15:56:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r915008859",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/915008859"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 86,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/916886542",
      "pull_request_review_id": 1033014422,
      "id": 916886542,
      "node_id": "PRRC_kwDOABII5842ppQO",
      "diff_hunk": "@@ -857,7 +857,7 @@ BOOST_AUTO_TEST_CASE(initial_advertise_from_version_message)\n         *static_cast<TestChainState*>(&m_node.chainman->ActiveChainstate());\n     chainstate.JumpOutOfIbd();\n \n-    m_node.peerman->InitializeNode(&peer);\n+    m_node.peerman->InitializeNode(&peer, ServiceFlags(NODE_NETWORK|NODE_WITNESS));",
      "path": "src/test/net_tests.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "bd93b709ea4e8e295a3438f30d9d3f6999e7623c",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "bd93b709ea4e8e295a3438f30d9d3f6999e7623c: Why are you changing this from `NODE_NETWORK` to something else?",
      "created_at": "2022-07-08T14:43:24Z",
      "updated_at": "2022-07-08T15:16:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r916886542",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/916886542"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 860,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/916887605",
      "pull_request_review_id": 1033014422,
      "id": 916887605,
      "node_id": "PRRC_kwDOABII5842ppg1",
      "diff_hunk": "@@ -46,7 +46,7 @@ FUZZ_TARGET_INIT(process_messages, initialize_process_messages)\n         peers.push_back(ConsumeNodeAsUniquePtr(fuzzed_data_provider, i).release());\n         CNode& p2p_node = *peers.back();\n \n-        g_setup->m_node.peerman->InitializeNode(&p2p_node);\n+        g_setup->m_node.peerman->InitializeNode(&p2p_node, ServiceFlags(NODE_NETWORK|NODE_WITNESS));",
      "path": "src/test/fuzz/process_messages.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "bd93b709ea4e8e295a3438f30d9d3f6999e7623c",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Same commit, this should be p2p_node.nLocalServices, not something hardcoded",
      "created_at": "2022-07-08T14:44:42Z",
      "updated_at": "2022-07-08T15:16:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r916887605",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/916887605"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 49,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/916887720",
      "pull_request_review_id": 1033014422,
      "id": 916887720,
      "node_id": "PRRC_kwDOABII5842ppio",
      "diff_hunk": "@@ -80,7 +80,7 @@ void fuzz_target(FuzzBufferType buffer, const std::string& LIMIT_TO_MESSAGE_TYPE\n     CNode& p2p_node = *ConsumeNodeAsUniquePtr(fuzzed_data_provider).release();\n \n     connman.AddTestNode(p2p_node);\n-    g_setup->m_node.peerman->InitializeNode(&p2p_node);\n+    g_setup->m_node.peerman->InitializeNode(&p2p_node, ServiceFlags(NODE_NETWORK|NODE_WITNESS));",
      "path": "src/test/fuzz/process_message.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "bd93b709ea4e8e295a3438f30d9d3f6999e7623c",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Same",
      "created_at": "2022-07-08T14:44:49Z",
      "updated_at": "2022-07-08T15:16:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r916887720",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/916887720"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 83,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/916889865",
      "pull_request_review_id": 1033014422,
      "id": 916889865,
      "node_id": "PRRC_kwDOABII5842pqEJ",
      "diff_hunk": "@@ -207,6 +207,27 @@ struct Peer {\n     /** Same id as the CNode object for this peer */\n     const NodeId m_id{0};\n \n+    /** Services we offered to this peer.\n+     *\n+     *  This is supplied by CConnman during peer initialization. It's const\n+     *  because there is no protocol defined for renegotiating services\n+     *  initially offered to a peer. The set of local services we offer should\n+     *  not change after initialization.\n+     *\n+     *  An interesting example of this is NODE_NETWORK and initial block\n+     *  download: a node which starts up from scratch doesn't have any blocks\n+     *  to serve, but still advertises NODE_NETWORK because it will eventually\n+     *  fulfill this role after IBD completes. P2P code is written in such a\n+     *  way that it can gracefully handle peers who don't make good on their\n+     *  service advertisements.\n+     *\n+     *  TODO: remove redundant CNode::nLocalServices*/\n+    const ServiceFlags m_our_services;\n+    /** Services this peer offered to us.\n+     *\n+     * TODO: remove redundant CNode::nServices */\n+    std::atomic<ServiceFlags> m_their_services{NODE_NONE};",
      "path": "src/net_processing.cpp",
      "position": 19,
      "original_position": 23,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "bd93b709ea4e8e295a3438f30d9d3f6999e7623c",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Same commit: (nit) `struct` doesn't have the `m_` prefix, see also https://github.com/bitcoin/bitcoin/pull/25555#discussion_r915161295",
      "created_at": "2022-07-08T14:47:07Z",
      "updated_at": "2022-07-08T15:16:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r916889865",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/916889865"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 225,
      "original_line": 225,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/916895634",
      "pull_request_review_id": 1033014422,
      "id": 916895634,
      "node_id": "PRRC_kwDOABII5842preS",
      "diff_hunk": "@@ -63,10 +114,9 @@ BOOST_AUTO_TEST_CASE(outbound_slow_chain_eviction)\n                      /*addrNameIn=*/\"\",\n                      ConnectionType::OUTBOUND_FULL_RELAY,\n                      /*inbound_onion=*/false};\n-    dummyNode1.SetCommonVersion(PROTOCOL_VERSION);\n \n-    peerLogic->InitializeNode(&dummyNode1, ServiceFlags(NODE_NETWORK|NODE_WITNESS));\n-    dummyNode1.fSuccessfullyConnected = true;\n+    peerman.InitializeNode(&dummyNode1, ServiceFlags(NODE_NETWORK|NODE_WITNESS));\n+    ConnectNode(connman, peerman, dummyNode1, ServiceFlags(NODE_NETWORK|NODE_WITNESS));",
      "path": "src/test/denialofservice_tests.cpp",
      "position": null,
      "original_position": 97,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "40e83ad09dae3bd958dafeb54c6da3193c6e0c6a",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "40e83ad09dae3bd958dafeb54c6da3193c6e0c6a: Previously it was NODE_NODE, now it is something else, why? ",
      "created_at": "2022-07-08T14:53:26Z",
      "updated_at": "2022-07-08T15:16:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r916895634",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/916895634"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 119,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/916900775",
      "pull_request_review_id": 1033014422,
      "id": 916900775,
      "node_id": "PRRC_kwDOABII5842psun",
      "diff_hunk": "@@ -34,6 +34,7 @@ struct CNodeStateStats {\n     uint64_t m_addr_processed = 0;\n     uint64_t m_addr_rate_limited = 0;\n     bool m_addr_relay_enabled{false};\n+    ServiceFlags m_their_services;",
      "path": "src/net_processing.h",
      "position": null,
      "original_position": 4,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "ded0727ba0747cf1161e29ec33d16998f63ab3ef",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "ded0727ba0747cf1161e29ec33d16998f63ab3ef: Same nit about `m_`, but feel free to ignore, since I am pretty sure I \"violated\" that style rule myself by accident.",
      "created_at": "2022-07-08T14:59:13Z",
      "updated_at": "2022-07-08T15:16:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r916900775",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/916900775"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 37,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/916912313",
      "pull_request_review_id": 1033014422,
      "id": 916912313,
      "node_id": "PRRC_kwDOABII5842pvi5",
      "diff_hunk": "@@ -356,7 +353,7 @@ BOOST_AUTO_TEST_CASE(peer_discouragement)\n                          ConnectionType::INBOUND,\n                          /*inbound_onion=*/false};\n     nodes[0]->SetCommonVersion(PROTOCOL_VERSION);\n-    peerLogic->InitializeNode(nodes[0], NODE_NETWORK);\n+    peerLogic->InitializeNode(nodes[0], ServiceFlags(NODE_NETWORK | NODE_WITNESS));",
      "path": "src/test/denialofservice_tests.cpp",
      "position": null,
      "original_position": 29,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "d4759a02b51368870526f04558797bb7f5749c73",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "d4759a02b51368870526f04558797bb7f5749c73: Looks like you are changing the value, why?",
      "created_at": "2022-07-08T15:12:35Z",
      "updated_at": "2022-07-08T15:16:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r916912313",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/916912313"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 356,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/916914710",
      "pull_request_review_id": 1033014422,
      "id": 916914710,
      "node_id": "PRRC_kwDOABII5842pwIW",
      "diff_hunk": "@@ -857,7 +857,7 @@ BOOST_AUTO_TEST_CASE(initial_advertise_from_version_message)\n         *static_cast<TestChainState*>(&m_node.chainman->ActiveChainstate());\n     chainstate.JumpOutOfIbd();\n \n-    m_node.peerman->InitializeNode(&peer);\n+    m_node.peerman->InitializeNode(&peer, ServiceFlags(NODE_NETWORK|NODE_WITNESS));",
      "path": "src/test/net_tests.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "bd93b709ea4e8e295a3438f30d9d3f6999e7623c",
      "in_reply_to_id": 916886542,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "If this is supposed to be an alias for `peer.nLocalServices`, why not simply type that to make review easier?",
      "created_at": "2022-07-08T15:15:11Z",
      "updated_at": "2022-07-08T15:16:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r916914710",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/916914710"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 860,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/917071466",
      "pull_request_review_id": 1033285672,
      "id": 917071466,
      "node_id": "PRRC_kwDOABII5842qWZq",
      "diff_hunk": "@@ -63,10 +114,9 @@ BOOST_AUTO_TEST_CASE(outbound_slow_chain_eviction)\n                      /*addrNameIn=*/\"\",\n                      ConnectionType::OUTBOUND_FULL_RELAY,\n                      /*inbound_onion=*/false};\n-    dummyNode1.SetCommonVersion(PROTOCOL_VERSION);\n \n-    peerLogic->InitializeNode(&dummyNode1, ServiceFlags(NODE_NETWORK|NODE_WITNESS));\n-    dummyNode1.fSuccessfullyConnected = true;\n+    peerman.InitializeNode(&dummyNode1, ServiceFlags(NODE_NETWORK|NODE_WITNESS));\n+    ConnectNode(connman, peerman, dummyNode1, ServiceFlags(NODE_NETWORK|NODE_WITNESS));",
      "path": "src/test/denialofservice_tests.cpp",
      "position": null,
      "original_position": 97,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "40e83ad09dae3bd958dafeb54c6da3193c6e0c6a",
      "in_reply_to_id": 916895634,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This is done because this PR removes `CNode::fClient` and `CNode::m_limited_node` members. These two variables are default initialized as `false` and then set to the correct value when a `version` message is received. In production this is fine, as the two bools are not used if the version handshake hasn't happened. In the test however, we don't do the version handshake and manually set `fSuccessfullyConnected = true`. The default `false` then results in the logic behaving as expected (e.g. the node is not a client, so we ask them for headers).\r\n\r\nNow with the PR the two bools are removed and replaced with static functions that operate on `Peer::their_services` to determine client and pruned node status. In the test here, if we keep `Peer::their_services` as `NODE_NONE` then we would consider `dummyNode1` a client and not ask for headers.\r\n\r\nI think this makes the test more realistic (also mentioned in the commit message) and shouldn't change behavior.",
      "created_at": "2022-07-08T19:00:48Z",
      "updated_at": "2022-07-08T19:00:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r917071466",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/917071466"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 119,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/917088986",
      "pull_request_review_id": 1033311464,
      "id": 917088986,
      "node_id": "PRRC_kwDOABII5842qara",
      "diff_hunk": "@@ -857,7 +857,7 @@ BOOST_AUTO_TEST_CASE(initial_advertise_from_version_message)\n         *static_cast<TestChainState*>(&m_node.chainman->ActiveChainstate());\n     chainstate.JumpOutOfIbd();\n \n-    m_node.peerman->InitializeNode(&peer);\n+    m_node.peerman->InitializeNode(&peer, ServiceFlags(NODE_NETWORK|NODE_WITNESS));",
      "path": "src/test/net_tests.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "bd93b709ea4e8e295a3438f30d9d3f6999e7623c",
      "in_reply_to_id": 916886542,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Changed this to pass `GetLocalServices()` to all the `InitializeNode` calls and only later on when `CNode::nLocalServices` is actually removed, do we set the service flags directly (corresponding to their previous values).",
      "created_at": "2022-07-08T19:31:51Z",
      "updated_at": "2022-07-08T19:31:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r917088986",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/917088986"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 860,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/917089453",
      "pull_request_review_id": 1033312114,
      "id": 917089453,
      "node_id": "PRRC_kwDOABII5842qayt",
      "diff_hunk": "@@ -207,6 +207,27 @@ struct Peer {\n     /** Same id as the CNode object for this peer */\n     const NodeId m_id{0};\n \n+    /** Services we offered to this peer.\n+     *\n+     *  This is supplied by CConnman during peer initialization. It's const\n+     *  because there is no protocol defined for renegotiating services\n+     *  initially offered to a peer. The set of local services we offer should\n+     *  not change after initialization.\n+     *\n+     *  An interesting example of this is NODE_NETWORK and initial block\n+     *  download: a node which starts up from scratch doesn't have any blocks\n+     *  to serve, but still advertises NODE_NETWORK because it will eventually\n+     *  fulfill this role after IBD completes. P2P code is written in such a\n+     *  way that it can gracefully handle peers who don't make good on their\n+     *  service advertisements.\n+     *\n+     *  TODO: remove redundant CNode::nLocalServices*/\n+    const ServiceFlags m_our_services;\n+    /** Services this peer offered to us.\n+     *\n+     * TODO: remove redundant CNode::nServices */\n+    std::atomic<ServiceFlags> m_their_services{NODE_NONE};",
      "path": "src/net_processing.cpp",
      "position": 19,
      "original_position": 23,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "bd93b709ea4e8e295a3438f30d9d3f6999e7623c",
      "in_reply_to_id": 916889865,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Removed the `m_` prefix.",
      "created_at": "2022-07-08T19:32:39Z",
      "updated_at": "2022-07-08T19:32:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r917089453",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/917089453"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 225,
      "original_line": 225,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/917089996",
      "pull_request_review_id": 1033313000,
      "id": 917089996,
      "node_id": "PRRC_kwDOABII5842qa7M",
      "diff_hunk": "@@ -356,7 +353,7 @@ BOOST_AUTO_TEST_CASE(peer_discouragement)\n                          ConnectionType::INBOUND,\n                          /*inbound_onion=*/false};\n     nodes[0]->SetCommonVersion(PROTOCOL_VERSION);\n-    peerLogic->InitializeNode(nodes[0], NODE_NETWORK);\n+    peerLogic->InitializeNode(nodes[0], ServiceFlags(NODE_NETWORK | NODE_WITNESS));",
      "path": "src/test/denialofservice_tests.cpp",
      "position": null,
      "original_position": 29,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "d4759a02b51368870526f04558797bb7f5749c73",
      "in_reply_to_id": 916912313,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "All the service flags should now have the same values as before.",
      "created_at": "2022-07-08T19:33:37Z",
      "updated_at": "2022-07-08T19:33:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r917089996",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/917089996"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 356,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918063464",
      "pull_request_review_id": 1034521708,
      "id": 918063464,
      "node_id": "PRRC_kwDOABII5842uIlo",
      "diff_hunk": "@@ -1299,15 +1321,15 @@ void PeerManagerImpl::UpdateLastBlockAnnounceTime(NodeId node, int64_t time_in_s\n     if (state) state->m_last_block_announcement = time_in_seconds;\n }\n \n-void PeerManagerImpl::InitializeNode(CNode *pnode)\n+void PeerManagerImpl::InitializeNode(CNode *pnode, ServiceFlags our_services)",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 53,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "8960caf8b333ba5b9d226d479329039253161ba6",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit in 8960caf8b333ba5b9d226d479329039253161ba6: As you are already changing all call sites, might as well change `*` into `&`. Feel free to ignore, as it is otherwise unrelated to the changes here.",
      "created_at": "2022-07-11T15:20:43Z",
      "updated_at": "2022-07-12T06:59:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r918063464",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918063464"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1324,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918607754",
      "pull_request_review_id": 1034521708,
      "id": 918607754,
      "node_id": "PRRC_kwDOABII5842wNeK",
      "diff_hunk": "@@ -34,6 +36,57 @@ static CService ip(uint32_t i)\n \n BOOST_FIXTURE_TEST_SUITE(denialofservice_tests, TestingSetup)\n \n+void ConnectNode(ConnmanTestMsg& connman, PeerManager& peerman, CNode& node, ServiceFlags their_services) noexcept\n+{\n+    // Send version message\n+    const CNetMsgMaker mm{0};\n+    CSerializedNetMsg msg_version{\n+        mm.Make(NetMsgType::VERSION,\n+                PROTOCOL_VERSION,                               // current p2p version\n+                Using<CustomUintFormatter<8>>(their_services),  // their service flags\n+                int64_t{},                                      // dummy time\n+                int64_t{},                                      // ignored service bits\n+                CService{},                                     // dummy\n+                int64_t{},                                      // ignored service bits\n+                CService{},                                     // ignored\n+                uint64_t{1},                                    // dummy nonce\n+                std::string{},                                  // dummy subver\n+                int32_t{},                                      // dummy starting_height\n+                true),                                          // fRelay\n+    };\n+\n+    (void)connman.ReceiveMsgFrom(node, msg_version);\n+    node.fPauseSend = false;\n+    connman.ProcessMessagesOnce(node);\n+\n+    // Receive messages\n+    {\n+        LOCK(node.cs_sendProcessing);\n+        peerman.SendMessages(&node);\n+    }\n+\n+    TestOnlyResetTimeData();\n+\n+    if (node.fDisconnect) return;",
      "path": "src/test/denialofservice_tests.cpp",
      "position": null,
      "original_position": 51,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "c132abf1667ea9367ce797d808d6b6c885196601",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "c132abf1667ea9367ce797d808d6b6c885196601: Why would this disconnect? Seems like copy-pasted dead code?\r\n\r\nAlso, it looks like you forgot to copy-paste the peer-state asserts.\r\n\r\nAlso, I don't see why this is copied in the first place. In the commit message you claim that it is better to make the version handshake consistent with \"live code\". So wouldn't it be better to make this helper easily accessible for all tests instead of forcing reviewers to re-do the copy-paste every time it is and will be used?\r\n\r\nSee https://github.com/bitcoin/bitcoin/pull/25591, which should also make this pull's diff smaller.",
      "created_at": "2022-07-12T06:51:04Z",
      "updated_at": "2022-07-12T06:59:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r918607754",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918607754"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 70,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918613125",
      "pull_request_review_id": 1034521708,
      "id": 918613125,
      "node_id": "PRRC_kwDOABII5842wOyF",
      "diff_hunk": "@@ -234,7 +235,7 @@ void RemoveLocal(const CService& addr);\n bool SeenLocal(const CService& addr);\n bool IsLocal(const CService& addr);\n bool GetLocal(CService &addr, const CNetAddr *paddrPeer = nullptr);\n-CAddress GetLocalAddress(const CNetAddr *paddrPeer, ServiceFlags nLocalServices);\n+CAddress GetLocalAddress(const CNetAddr *paddrPeer);",
      "path": "src/net.h",
      "position": null,
      "original_position": 15,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "9d9a6677c483772fe636b61480dfdde7d4586073",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "9d9a6677c483772fe636b61480dfdde7d4586073 (nit): Could run clang-format on this line while touching it?",
      "created_at": "2022-07-12T06:58:24Z",
      "updated_at": "2022-07-12T06:59:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r918613125",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918613125"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 238,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919886729",
      "pull_request_review_id": 1037093179,
      "id": 919886729,
      "node_id": "PRRC_kwDOABII58421FuJ",
      "diff_hunk": "@@ -1299,15 +1321,15 @@ void PeerManagerImpl::UpdateLastBlockAnnounceTime(NodeId node, int64_t time_in_s\n     if (state) state->m_last_block_announcement = time_in_seconds;\n }\n \n-void PeerManagerImpl::InitializeNode(CNode *pnode)\n+void PeerManagerImpl::InitializeNode(CNode *pnode, ServiceFlags our_services)",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 53,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "8960caf8b333ba5b9d226d479329039253161ba6",
      "in_reply_to_id": 918063464,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2022-07-13T09:58:30Z",
      "updated_at": "2022-07-13T09:58:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r919886729",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919886729"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1324,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919888276",
      "pull_request_review_id": 1037095373,
      "id": 919888276,
      "node_id": "PRRC_kwDOABII58421GGU",
      "diff_hunk": "@@ -34,6 +36,57 @@ static CService ip(uint32_t i)\n \n BOOST_FIXTURE_TEST_SUITE(denialofservice_tests, TestingSetup)\n \n+void ConnectNode(ConnmanTestMsg& connman, PeerManager& peerman, CNode& node, ServiceFlags their_services) noexcept\n+{\n+    // Send version message\n+    const CNetMsgMaker mm{0};\n+    CSerializedNetMsg msg_version{\n+        mm.Make(NetMsgType::VERSION,\n+                PROTOCOL_VERSION,                               // current p2p version\n+                Using<CustomUintFormatter<8>>(their_services),  // their service flags\n+                int64_t{},                                      // dummy time\n+                int64_t{},                                      // ignored service bits\n+                CService{},                                     // dummy\n+                int64_t{},                                      // ignored service bits\n+                CService{},                                     // ignored\n+                uint64_t{1},                                    // dummy nonce\n+                std::string{},                                  // dummy subver\n+                int32_t{},                                      // dummy starting_height\n+                true),                                          // fRelay\n+    };\n+\n+    (void)connman.ReceiveMsgFrom(node, msg_version);\n+    node.fPauseSend = false;\n+    connman.ProcessMessagesOnce(node);\n+\n+    // Receive messages\n+    {\n+        LOCK(node.cs_sendProcessing);\n+        peerman.SendMessages(&node);\n+    }\n+\n+    TestOnlyResetTimeData();\n+\n+    if (node.fDisconnect) return;",
      "path": "src/test/denialofservice_tests.cpp",
      "position": null,
      "original_position": 51,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "c132abf1667ea9367ce797d808d6b6c885196601",
      "in_reply_to_id": 918607754,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Rebased on top of the changes in #25591. This test now uses `ConnmanTestMsg::Handshake()`.",
      "created_at": "2022-07-13T10:00:09Z",
      "updated_at": "2022-07-13T10:00:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r919888276",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919888276"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 70,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919888378",
      "pull_request_review_id": 1037095536,
      "id": 919888378,
      "node_id": "PRRC_kwDOABII58421GH6",
      "diff_hunk": "@@ -234,7 +235,7 @@ void RemoveLocal(const CService& addr);\n bool SeenLocal(const CService& addr);\n bool IsLocal(const CService& addr);\n bool GetLocal(CService &addr, const CNetAddr *paddrPeer = nullptr);\n-CAddress GetLocalAddress(const CNetAddr *paddrPeer, ServiceFlags nLocalServices);\n+CAddress GetLocalAddress(const CNetAddr *paddrPeer);",
      "path": "src/net.h",
      "position": null,
      "original_position": 15,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "9d9a6677c483772fe636b61480dfdde7d4586073",
      "in_reply_to_id": 918613125,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2022-07-13T10:00:16Z",
      "updated_at": "2022-07-13T10:00:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r919888378",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919888378"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 238,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919936826",
      "pull_request_review_id": 1037160793,
      "id": 919936826,
      "node_id": "PRRC_kwDOABII58421R86",
      "diff_hunk": "@@ -207,6 +207,27 @@ struct Peer {\n     /** Same id as the CNode object for this peer */\n     const NodeId m_id{0};\n \n+    /** Services we offered to this peer.\n+     *\n+     *  This is supplied by CConnman during peer initialization. It's const\n+     *  because there is no protocol defined for renegotiating services\n+     *  initially offered to a peer. The set of local services we offer should\n+     *  not change after initialization.\n+     *\n+     *  An interesting example of this is NODE_NETWORK and initial block\n+     *  download: a node which starts up from scratch doesn't have any blocks\n+     *  to serve, but still advertises NODE_NETWORK because it will eventually\n+     *  fulfill this role after IBD completes. P2P code is written in such a\n+     *  way that it can gracefully handle peers who don't make good on their\n+     *  service advertisements.\n+     *\n+     *  TODO: remove redundant CNode::nLocalServices*/\n+    const ServiceFlags m_our_services;\n+    /** Services this peer offered to us.\n+     *\n+     * TODO: remove redundant CNode::nServices */\n+    std::atomic<ServiceFlags> m_their_services{NODE_NONE};",
      "path": "src/net_processing.cpp",
      "position": 19,
      "original_position": 23,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "bd93b709ea4e8e295a3438f30d9d3f6999e7623c",
      "in_reply_to_id": 916889865,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'm going to push back against this. It's entirely possible that `Peer` picks up some member functions in future, and therefore becomes a class, in which case these data members would be named incorrectly and inconsistently.",
      "created_at": "2022-07-13T10:49:40Z",
      "updated_at": "2022-07-13T10:49:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r919936826",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919936826"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 225,
      "original_line": 225,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919938845",
      "pull_request_review_id": 1037163691,
      "id": 919938845,
      "node_id": "PRRC_kwDOABII58421Scd",
      "diff_hunk": "@@ -625,7 +604,7 @@ class NetEventsInterface\n {\n public:\n     /** Initialize a peer (setup state, queue any initial messages) */\n-    virtual void InitializeNode(CNode* pnode) = 0;\n+    virtual void InitializeNode(CNode& pnode, ServiceFlags our_services) = 0;",
      "path": "src/net.h",
      "position": null,
      "original_position": 107,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "8f6ed20acae2a4f93f5b52c3937ab704980db44b",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This is beginning to feel very mission-creepy, but if you're changing the argument from being a pointer to a ref, then the name of the argument should also change from `pnode` to `node` (p is the prefix for pointer).\r\n\r\nSame comment internally in net_processing for the `InitializeNode()` methods.",
      "created_at": "2022-07-13T10:52:12Z",
      "updated_at": "2022-07-13T10:56:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r919938845",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919938845"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 607,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919957561",
      "pull_request_review_id": 1037190466,
      "id": 919957561,
      "node_id": "PRRC_kwDOABII58421XA5",
      "diff_hunk": "@@ -8,13 +8,15 @@\n #include <chainparams.h>\n #include <net.h>\n #include <net_processing.h>\n+#include <netmessagemaker.h>",
      "path": "src/test/denialofservice_tests.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "e97192fc87e0aae1f9d78b81ddfe5adc514d2cd6",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit in the second commit: Can be removed?",
      "created_at": "2022-07-13T11:16:09Z",
      "updated_at": "2022-07-13T11:54:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r919957561",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919957561"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 11,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919961118",
      "pull_request_review_id": 1037190466,
      "id": 919961118,
      "node_id": "PRRC_kwDOABII58421X4e",
      "diff_hunk": "@@ -44,11 +46,10 @@ BOOST_FIXTURE_TEST_SUITE(denialofservice_tests, TestingSetup)\n // work.\n BOOST_AUTO_TEST_CASE(outbound_slow_chain_eviction)\n {\n-    auto connman = std::make_unique<CConnman>(0x1337, 0x1337, *m_node.addrman, *m_node.netgroupman);\n+    ConnmanTestMsg& connman = *static_cast<ConnmanTestMsg*>(m_node.connman.get());",
      "path": "src/test/denialofservice_tests.cpp",
      "position": null,
      "original_position": 21,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "e97192fc87e0aae1f9d78b81ddfe5adc514d2cd6",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit in the second commit: Can be written shorter as `static_cast<ConnmanTestMsg&>(*m_node.connman)`?",
      "created_at": "2022-07-13T11:20:53Z",
      "updated_at": "2022-07-13T11:54:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r919961118",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919961118"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 49,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919961812",
      "pull_request_review_id": 1037190466,
      "id": 919961812,
      "node_id": "PRRC_kwDOABII58421YDU",
      "diff_hunk": "@@ -44,11 +46,10 @@ BOOST_FIXTURE_TEST_SUITE(denialofservice_tests, TestingSetup)\n // work.\n BOOST_AUTO_TEST_CASE(outbound_slow_chain_eviction)\n {\n-    auto connman = std::make_unique<CConnman>(0x1337, 0x1337, *m_node.addrman, *m_node.netgroupman);\n+    ConnmanTestMsg& connman = *static_cast<ConnmanTestMsg*>(m_node.connman.get());\n     // Disable inactivity checks for this test to avoid interference\n-    static_cast<ConnmanTestMsg*>(connman.get())->SetPeerConnectTimeout(99999s);\n-    auto peerLogic = PeerManager::make(*connman, *m_node.addrman, nullptr,\n-                                       *m_node.chainman, *m_node.mempool, false);\n+    connman.SetPeerConnectTimeout(99999s);\n+    PeerManager& peerman = *m_node.peerman.get();",
      "path": "src/test/denialofservice_tests.cpp",
      "position": null,
      "original_position": 27,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "e97192fc87e0aae1f9d78b81ddfe5adc514d2cd6",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Same: no need for get?",
      "created_at": "2022-07-13T11:21:50Z",
      "updated_at": "2022-07-13T11:54:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r919961812",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919961812"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 52,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919963239",
      "pull_request_review_id": 1037190466,
      "id": 919963239,
      "node_id": "PRRC_kwDOABII58421YZn",
      "diff_hunk": "@@ -63,10 +64,16 @@ BOOST_AUTO_TEST_CASE(outbound_slow_chain_eviction)\n                      /*addrNameIn=*/\"\",\n                      ConnectionType::OUTBOUND_FULL_RELAY,\n                      /*inbound_onion=*/false};\n-    dummyNode1.SetCommonVersion(PROTOCOL_VERSION);\n \n-    peerLogic->InitializeNode(dummyNode1, dummyNode1.GetLocalServices());\n-    dummyNode1.fSuccessfullyConnected = true;\n+    connman.Handshake(\n+        /*node=*/dummyNode1,\n+        /*successfully_connected=*/true,\n+        /*remote_services=*/ServiceFlags(NODE_NETWORK | NODE_WITNESS),",
      "path": "src/test/denialofservice_tests.cpp",
      "position": 40,
      "original_position": 42,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "e97192fc87e0aae1f9d78b81ddfe5adc514d2cd6",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "second commit: Maybe mention in the commit message that this is a behaviour change that is needed for the next commit? Previously this was NODE_NODE, now it is something else?",
      "created_at": "2022-07-13T11:23:37Z",
      "updated_at": "2022-07-13T11:54:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r919963239",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919963239"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 69,
      "original_line": 69,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919979340",
      "pull_request_review_id": 1037190466,
      "id": 919979340,
      "node_id": "PRRC_kwDOABII58421cVM",
      "diff_hunk": "@@ -376,6 +374,8 @@ class CNode\n \n     uint64_t nRecvBytes GUARDED_BY(cs_vRecv){0};\n \n+    /** Whether this peer provides all services that we want. Used for eviction decisions */\n+    std::atomic_bool m_has_all_wanted_services{false};\n     std::atomic<std::chrono::seconds> m_last_send{0s};",
      "path": "src/net.h",
      "position": null,
      "original_position": 22,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "b41c44dcdc49941c4c2e70bcdfdcd8b1d956c69f",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit in b41c44dcdc49941c4c2e70bcdfdcd8b1d956c69f: Maybe move `m_has_all_wanted_services` down to the other eviction stuff (m_last_tx_time, ...). Otherwise, the comment \"Used for eviction decisions\" will (incorrectly) imply that m_last_send is also used for eviction, when it is currently not.",
      "created_at": "2022-07-13T11:43:24Z",
      "updated_at": "2022-07-13T11:54:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r919979340",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919979340"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 377,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919988031",
      "pull_request_review_id": 1037190466,
      "id": 919988031,
      "node_id": "PRRC_kwDOABII58421ec_",
      "diff_hunk": "@@ -236,10 +236,10 @@ bool IsPeerAddrLocalGood(CNode *pnode)\n \n std::optional<CAddress> GetLocalAddrForPeer(CNode *pnode)\n {\n-    CAddress addrLocal = GetLocalAddress(&pnode->addr, pnode->GetLocalServices());\n+    CAddress addrLocal = GetLocalAddress(&pnode->addr);\n     if (gArgs.GetBoolArg(\"-addrmantest\", false)) {\n         // use IPv4 loopback during addrmantest\n-        addrLocal = CAddress(CService(LookupNumeric(\"127.0.0.1\", GetListenPort())), pnode->GetLocalServices());\n+        addrLocal = CAddress(CService(LookupNumeric(\"127.0.0.1\", GetListenPort())), NODE_NONE);",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 26,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "2c38d6b594db08427afaa8609ce3c8495305279f",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "2c38d6b594db08427afaa8609ce3c8495305279f: Is there an explanation why this can be hardcoded to NODE_NONE everywhere? Maybe put commit 8f6ed20acae2a4f93f5b52c3937ab704980db44b before this one to clarify that this is not (supposed?) to change behavior?",
      "created_at": "2022-07-13T11:53:58Z",
      "updated_at": "2022-07-13T11:54:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r919988031",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919988031"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 242,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920001079",
      "pull_request_review_id": 1037251274,
      "id": 920001079,
      "node_id": "PRRC_kwDOABII58421ho3",
      "diff_hunk": "@@ -1197,6 +1196,7 @@ void RPCConsole::updateDetailWidget()\n     // This check fails for example if the lock was busy and\n     // nodeStateStats couldn't be fetched.\n     if (stats->fNodeStateStatsAvailable) {\n+        ui->peerServices->setText(GUIUtil::formatServicesStr(stats->nodeStateStats.their_services));",
      "path": "src/qt/rpcconsole.cpp",
      "position": 12,
      "original_position": 12,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "b41c44dcdc49941c4c2e70bcdfdcd8b1d956c69f",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Tested the result when the stats aren't available, which looks good:\r\n\r\n![Screenshot from 2022-07-13 14-07-22](https://user-images.githubusercontent.com/6399679/178730160-c0daf9f4-5f34-4039-a370-be4e4fe055e2.png)\r\n\r\n",
      "created_at": "2022-07-13T12:09:34Z",
      "updated_at": "2022-07-13T12:14:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r920001079",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920001079"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1199,
      "original_line": 1199,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920221096",
      "pull_request_review_id": 1037567955,
      "id": 920221096,
      "node_id": "PRRC_kwDOABII58422XWo",
      "diff_hunk": "@@ -8,13 +8,15 @@\n #include <chainparams.h>\n #include <net.h>\n #include <net_processing.h>\n+#include <netmessagemaker.h>",
      "path": "src/test/denialofservice_tests.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "e97192fc87e0aae1f9d78b81ddfe5adc514d2cd6",
      "in_reply_to_id": 919957561,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2022-07-13T15:30:29Z",
      "updated_at": "2022-07-13T15:30:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r920221096",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920221096"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 11,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920221397",
      "pull_request_review_id": 1037568370,
      "id": 920221397,
      "node_id": "PRRC_kwDOABII58422XbV",
      "diff_hunk": "@@ -44,11 +46,10 @@ BOOST_FIXTURE_TEST_SUITE(denialofservice_tests, TestingSetup)\n // work.\n BOOST_AUTO_TEST_CASE(outbound_slow_chain_eviction)\n {\n-    auto connman = std::make_unique<CConnman>(0x1337, 0x1337, *m_node.addrman, *m_node.netgroupman);\n+    ConnmanTestMsg& connman = *static_cast<ConnmanTestMsg*>(m_node.connman.get());",
      "path": "src/test/denialofservice_tests.cpp",
      "position": null,
      "original_position": 21,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "e97192fc87e0aae1f9d78b81ddfe5adc514d2cd6",
      "in_reply_to_id": 919961118,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, done.",
      "created_at": "2022-07-13T15:30:46Z",
      "updated_at": "2022-07-13T15:30:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r920221397",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920221397"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 49,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920222720",
      "pull_request_review_id": 1037570283,
      "id": 920222720,
      "node_id": "PRRC_kwDOABII58422XwA",
      "diff_hunk": "@@ -63,10 +64,16 @@ BOOST_AUTO_TEST_CASE(outbound_slow_chain_eviction)\n                      /*addrNameIn=*/\"\",\n                      ConnectionType::OUTBOUND_FULL_RELAY,\n                      /*inbound_onion=*/false};\n-    dummyNode1.SetCommonVersion(PROTOCOL_VERSION);\n \n-    peerLogic->InitializeNode(dummyNode1, dummyNode1.GetLocalServices());\n-    dummyNode1.fSuccessfullyConnected = true;\n+    connman.Handshake(\n+        /*node=*/dummyNode1,\n+        /*successfully_connected=*/true,\n+        /*remote_services=*/ServiceFlags(NODE_NETWORK | NODE_WITNESS),",
      "path": "src/test/denialofservice_tests.cpp",
      "position": 40,
      "original_position": 42,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "e97192fc87e0aae1f9d78b81ddfe5adc514d2cd6",
      "in_reply_to_id": 919963239,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It is actually also needed in this commit because `CNode::fClient` and `CNode::m_limited_node` are set during the version handshake. The commit message now mentions this.",
      "created_at": "2022-07-13T15:32:00Z",
      "updated_at": "2022-07-13T15:32:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r920222720",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920222720"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 69,
      "original_line": 69,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920222882",
      "pull_request_review_id": 1037570526,
      "id": 920222882,
      "node_id": "PRRC_kwDOABII58422Xyi",
      "diff_hunk": "@@ -376,6 +374,8 @@ class CNode\n \n     uint64_t nRecvBytes GUARDED_BY(cs_vRecv){0};\n \n+    /** Whether this peer provides all services that we want. Used for eviction decisions */\n+    std::atomic_bool m_has_all_wanted_services{false};\n     std::atomic<std::chrono::seconds> m_last_send{0s};",
      "path": "src/net.h",
      "position": null,
      "original_position": 22,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "b41c44dcdc49941c4c2e70bcdfdcd8b1d956c69f",
      "in_reply_to_id": 919979340,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2022-07-13T15:32:09Z",
      "updated_at": "2022-07-13T15:32:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r920222882",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920222882"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 377,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920223514",
      "pull_request_review_id": 1037571361,
      "id": 920223514,
      "node_id": "PRRC_kwDOABII58422X8a",
      "diff_hunk": "@@ -236,10 +236,10 @@ bool IsPeerAddrLocalGood(CNode *pnode)\n \n std::optional<CAddress> GetLocalAddrForPeer(CNode *pnode)\n {\n-    CAddress addrLocal = GetLocalAddress(&pnode->addr, pnode->GetLocalServices());\n+    CAddress addrLocal = GetLocalAddress(&pnode->addr);\n     if (gArgs.GetBoolArg(\"-addrmantest\", false)) {\n         // use IPv4 loopback during addrmantest\n-        addrLocal = CAddress(CService(LookupNumeric(\"127.0.0.1\", GetListenPort())), pnode->GetLocalServices());\n+        addrLocal = CAddress(CService(LookupNumeric(\"127.0.0.1\", GetListenPort())), NODE_NONE);",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 26,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "2c38d6b594db08427afaa8609ce3c8495305279f",
      "in_reply_to_id": 919988031,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Switched the order of the commits. `NODE_NONE` is not used anymore now.",
      "created_at": "2022-07-13T15:32:42Z",
      "updated_at": "2022-07-13T15:32:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r920223514",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920223514"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 242,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920253209",
      "pull_request_review_id": 1037613065,
      "id": 920253209,
      "node_id": "PRRC_kwDOABII58422fMZ",
      "diff_hunk": "@@ -625,7 +604,7 @@ class NetEventsInterface\n {\n public:\n     /** Initialize a peer (setup state, queue any initial messages) */\n-    virtual void InitializeNode(CNode* pnode) = 0;\n+    virtual void InitializeNode(CNode& pnode, ServiceFlags our_services) = 0;",
      "path": "src/net.h",
      "position": null,
      "original_position": 107,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "8f6ed20acae2a4f93f5b52c3937ab704980db44b",
      "in_reply_to_id": 919938845,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2022-07-13T15:59:54Z",
      "updated_at": "2022-07-13T15:59:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r920253209",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920253209"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 607,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920270916",
      "pull_request_review_id": 1037637719,
      "id": 920270916,
      "node_id": "PRRC_kwDOABII58422jhE",
      "diff_hunk": "@@ -206,15 +206,13 @@ static std::vector<CAddress> ConvertSeeds(const std::vector<uint8_t> &vSeedsIn)\n // Otherwise, return the unroutable 0.0.0.0 but filled in with\n // the normal parameters, since the IP may be changed to a useful\n // one by discovery.\n-CAddress GetLocalAddress(const CNetAddr *paddrPeer, ServiceFlags nLocalServices)\n+CService GetLocalAddress(const CNetAddr *paddrPeer)",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "4c59e37c18b177fc50786de37ffffb52de6daaa7",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit in 4c59e37c18b177fc50786de37ffffb52de6daaa7: Only if you retouch, clang-format this line",
      "created_at": "2022-07-13T16:18:04Z",
      "updated_at": "2022-07-13T16:43:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r920270916",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920270916"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 209,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920271048",
      "pull_request_review_id": 1037637719,
      "id": 920271048,
      "node_id": "PRRC_kwDOABII58422jjI",
      "diff_hunk": "@@ -233,12 +231,12 @@ bool IsPeerAddrLocalGood(CNode *pnode)\n            IsReachable(addrLocal.GetNetwork());\n }\n \n-std::optional<CAddress> GetLocalAddrForPeer(CNode *pnode)\n+std::optional<CService> GetLocalAddrForPeer(CNode *pnode)",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 25,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "4c59e37c18b177fc50786de37ffffb52de6daaa7",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "same",
      "created_at": "2022-07-13T16:18:11Z",
      "updated_at": "2022-07-13T16:43:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r920271048",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920271048"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 234,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920281819",
      "pull_request_review_id": 1037637719,
      "id": 920281819,
      "node_id": "PRRC_kwDOABII58422mLb",
      "diff_hunk": "@@ -262,7 +260,7 @@ std::optional<CAddress> GetLocalAddrForPeer(CNode *pnode)\n     if (addrLocal.IsRoutable() || gArgs.GetBoolArg(\"-addrmantest\", false))\n     {\n         LogPrint(BCLog::NET, \"Advertising address %s to peer=%d\\n\", addrLocal.ToString(), pnode->GetId());\n-        return addrLocal;\n+        return {addrLocal};",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 50,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "4c59e37c18b177fc50786de37ffffb52de6daaa7",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "4c59e37c18b177fc50786de37ffffb52de6daaa7: Is this change needed? For me it compiles without.",
      "created_at": "2022-07-13T16:28:21Z",
      "updated_at": "2022-07-13T16:43:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r920281819",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920281819"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 263,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920285352",
      "pull_request_review_id": 1037637719,
      "id": 920285352,
      "node_id": "PRRC_kwDOABII58422nCo",
      "diff_hunk": "@@ -144,8 +144,8 @@ enum\n };\n \n bool IsPeerAddrLocalGood(CNode *pnode);\n-/** Returns a local address that we should advertise to this peer */\n-std::optional<CAddress> GetLocalAddrForPeer(CNode *pnode);\n+/** Returns a local address that we should advertise to this peer. */\n+std::optional<CService> GetLocalAddrForPeer(CNode* pnode);",
      "path": "src/net.h",
      "position": null,
      "original_position": 7,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "4c59e37c18b177fc50786de37ffffb52de6daaa7",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "4c59e37c18b177fc50786de37ffffb52de6daaa7: While touching this method, could switch `*` to `&`? (And remove \"p\")",
      "created_at": "2022-07-13T16:32:05Z",
      "updated_at": "2022-07-13T16:43:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r920285352",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920285352"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 148,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920285912",
      "pull_request_review_id": 1037637719,
      "id": 920285912,
      "node_id": "PRRC_kwDOABII58422nLY",
      "diff_hunk": "@@ -163,7 +163,7 @@ void RemoveLocal(const CService& addr);\n bool SeenLocal(const CService& addr);\n bool IsLocal(const CService& addr);\n bool GetLocal(CService &addr, const CNetAddr *paddrPeer = nullptr);\n-CAddress GetLocalAddress(const CNetAddr *paddrPeer, ServiceFlags nLocalServices);\n+CService GetLocalAddress(const CNetAddr* paddrPeer);",
      "path": "src/net.h",
      "position": null,
      "original_position": 16,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "4c59e37c18b177fc50786de37ffffb52de6daaa7",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Same",
      "created_at": "2022-07-13T16:32:41Z",
      "updated_at": "2022-07-13T16:43:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r920285912",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920285912"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 166,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/921157668",
      "pull_request_review_id": 1038872913,
      "id": 921157668,
      "node_id": "PRRC_kwDOABII584258Ak",
      "diff_hunk": "@@ -262,7 +260,7 @@ std::optional<CAddress> GetLocalAddrForPeer(CNode *pnode)\n     if (addrLocal.IsRoutable() || gArgs.GetBoolArg(\"-addrmantest\", false))\n     {\n         LogPrint(BCLog::NET, \"Advertising address %s to peer=%d\\n\", addrLocal.ToString(), pnode->GetId());\n-        return addrLocal;\n+        return {addrLocal};",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 50,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "4c59e37c18b177fc50786de37ffffb52de6daaa7",
      "in_reply_to_id": 920281819,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "No its not, reverted.",
      "created_at": "2022-07-14T13:30:30Z",
      "updated_at": "2022-07-14T13:30:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r921157668",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/921157668"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 263,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/921157794",
      "pull_request_review_id": 1038873123,
      "id": 921157794,
      "node_id": "PRRC_kwDOABII584258Ci",
      "diff_hunk": "@@ -144,8 +144,8 @@ enum\n };\n \n bool IsPeerAddrLocalGood(CNode *pnode);\n-/** Returns a local address that we should advertise to this peer */\n-std::optional<CAddress> GetLocalAddrForPeer(CNode *pnode);\n+/** Returns a local address that we should advertise to this peer. */\n+std::optional<CService> GetLocalAddrForPeer(CNode* pnode);",
      "path": "src/net.h",
      "position": null,
      "original_position": 7,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "4c59e37c18b177fc50786de37ffffb52de6daaa7",
      "in_reply_to_id": 920285352,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2022-07-14T13:30:38Z",
      "updated_at": "2022-07-14T13:30:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r921157794",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/921157794"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 148,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/921158971",
      "pull_request_review_id": 1038874898,
      "id": 921158971,
      "node_id": "PRRC_kwDOABII584258U7",
      "diff_hunk": "@@ -207,6 +207,27 @@ struct Peer {\n     /** Same id as the CNode object for this peer */\n     const NodeId m_id{0};\n \n+    /** Services we offered to this peer.\n+     *\n+     *  This is supplied by CConnman during peer initialization. It's const\n+     *  because there is no protocol defined for renegotiating services\n+     *  initially offered to a peer. The set of local services we offer should\n+     *  not change after initialization.\n+     *\n+     *  An interesting example of this is NODE_NETWORK and initial block\n+     *  download: a node which starts up from scratch doesn't have any blocks\n+     *  to serve, but still advertises NODE_NETWORK because it will eventually\n+     *  fulfill this role after IBD completes. P2P code is written in such a\n+     *  way that it can gracefully handle peers who don't make good on their\n+     *  service advertisements.\n+     *\n+     *  TODO: remove redundant CNode::nLocalServices*/\n+    const ServiceFlags m_our_services;\n+    /** Services this peer offered to us.\n+     *\n+     * TODO: remove redundant CNode::nServices */\n+    std::atomic<ServiceFlags> m_their_services{NODE_NONE};",
      "path": "src/net_processing.cpp",
      "position": 19,
      "original_position": 23,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "bd93b709ea4e8e295a3438f30d9d3f6999e7623c",
      "in_reply_to_id": 916889865,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "That seems reasonable, re-added the `m_` prefix.",
      "created_at": "2022-07-14T13:31:47Z",
      "updated_at": "2022-07-14T13:31:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r921158971",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/921158971"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 225,
      "original_line": 225,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/921407249",
      "pull_request_review_id": 1039243919,
      "id": 921407249,
      "node_id": "PRRC_kwDOABII5842648R",
      "diff_hunk": "@@ -1035,16 +1015,14 @@ class CConnman\n     std::map<uint64_t, CachedAddrResponse> m_addr_response_caches;\n \n     /**\n-     * Services this instance offers.\n+     * Services this node offers.\n      *\n-     * This data is replicated in each CNode instance we create during peer\n-     * connection (in ConnectNode()) under a member also called\n-     * nLocalServices.\n+     * This data is replicated in each Peer instance we create.\n      *\n      * This data is not marked const, but after being set it should not\n-     * change. See the note in CNode::nLocalServices documentation.\n+     * change.\n      *\n-     * \\sa CNode::nLocalServices\n+     * \\sa Peer::our_services",
      "path": "src/net.h",
      "position": 129,
      "original_position": 129,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n     * \\sa Peer::m_our_services\r\n```",
      "created_at": "2022-07-14T17:27:17Z",
      "updated_at": "2022-07-14T17:30:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r921407249",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/921407249"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1025,
      "original_line": 1025,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/923902644",
      "pull_request_review_id": 1042611930,
      "id": 923902644,
      "node_id": "PRRC_kwDOABII5843EaK0",
      "diff_hunk": "@@ -2650,7 +2649,7 @@ bool PeerManagerImpl::PrepareBlockFilterRequest(CNode& peer,\n     return true;\n }\n \n-void PeerManagerImpl::ProcessGetCFilters(CNode& peer, CDataStream& vRecv)\n+void PeerManagerImpl::ProcessGetCFilters(CNode& node,Peer& peer, CDataStream& vRecv)",
      "path": "src/net_processing.cpp",
      "position": 145,
      "original_position": 145,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit:space after `node`",
      "created_at": "2022-07-18T22:12:21Z",
      "updated_at": "2022-07-19T04:05:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r923902644",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/923902644"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2652,
      "original_line": 2652,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/923919992",
      "pull_request_review_id": 1042611930,
      "id": 923919992,
      "node_id": "PRRC_kwDOABII5843EeZ4",
      "diff_hunk": "@@ -1020,16 +1015,14 @@ class CConnman\n     std::map<uint64_t, CachedAddrResponse> m_addr_response_caches;\n \n     /**\n-     * Services this instance offers.\n+     * Services this node offers.\n      *\n-     * This data is replicated in each CNode instance we create during peer\n-     * connection (in ConnectNode()) under a member also called\n-     * nLocalServices.\n+     * This data is replicated in each Peer instance we create.",
      "path": "src/net.h",
      "position": 44,
      "original_position": 44,
      "commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "original_commit_id": "8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This confused me during review, \"replicated\" makes it sound like the data is just copied  to each peer (which was technically true before, when the comment specifically `addressed ConnectNode()` and ignored the `CreateNodeFromAcceptedSocket()` call site ). \r\n\r\nIt might be good to mention here and/or in the `Peer::m_our_services` doc that different peers can be offered different local services based on permissions - otherwise `m_our_services` wouldn't need to be a member of `Peer` but could exist on the level of `PeerManagerImpl`.",
      "created_at": "2022-07-18T22:48:44Z",
      "updated_at": "2022-07-19T04:05:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25514#discussion_r923919992",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/923919992"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25514"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1020,
      "original_line": 1020,
      "side": "RIGHT"
    }
  ]
}