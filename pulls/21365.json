{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365",
    "id": 585175238,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NTg1MTc1MjM4",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21365",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/21365.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/21365.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
    "number": 21365,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "Basic Taproot signing support for descriptor wallets",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Builds on top of #22051, adding signing support after derivation support.\r\n\r\nNothing is changed in descriptor features. Signing works for key path and script path spending, through the normal sending functions, and PSBT-based RPCs. However, PSBT usability is rather low as no extensions have been defined to convey Taproot-specific information, so all script information must be known to the signing wallet.\r\n",
    "labels": [
      {
        "id": 149424,
        "node_id": "MDU6TGFiZWwxNDk0MjQ=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
        "name": "Wallet",
        "color": "08a781",
        "default": false
      },
      {
        "id": 98279177,
        "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
        "name": "RPC/REST/ZMQ",
        "color": "0052cc",
        "default": false
      },
      {
        "id": 1482182044,
        "node_id": "MDU6TGFiZWwxNDgyMTgyMDQ0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Descriptors",
        "name": "Descriptors",
        "description": "",
        "color": "e9f76c",
        "default": false
      }
    ],
    "milestone": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/47",
      "html_url": "https://github.com/bitcoin/bitcoin/milestone/47",
      "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/47/labels",
      "id": 5347322,
      "node_id": "MDk6TWlsZXN0b25lNTM0NzMyMg==",
      "number": 47,
      "state": "closed",
      "title": "22.0",
      "description": "",
      "creator": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "open_issues": 0,
      "closed_issues": 124,
      "created_at": "2020-04-25T00:14:49Z",
      "updated_at": "2021-09-14T07:16:53Z",
      "closed_at": "2021-09-09T12:47:52Z"
    },
    "active_lock_reason": "resolved",
    "created_at": "2021-03-04T22:49:33Z",
    "updated_at": "2022-08-16T17:24:47Z",
    "closed_at": "2021-06-17T21:12:44Z",
    "mergeable_state": "unknown",
    "merged_at": "2021-06-17T21:12:44Z",
    "merge_commit_sha": "5c2e2afe990ad6e1cc8b08513fa2d853d497dace",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "sipa:202102_taproot_sign",
      "ref": "202102_taproot_sign",
      "sha": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 1458655,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNDU4NjU1",
        "name": "bitcoin",
        "full_name": "sipa/bitcoin",
        "owner": {
          "login": "sipa",
          "id": 548488,
          "node_id": "MDQ6VXNlcjU0ODQ4OA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/sipa",
          "html_url": "https://github.com/sipa",
          "followers_url": "https://api.github.com/users/sipa/followers",
          "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
          "organizations_url": "https://api.github.com/users/sipa/orgs",
          "repos_url": "https://api.github.com/users/sipa/repos",
          "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/sipa/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/sipa/bitcoin",
        "description": "Bitcoin integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/sipa/bitcoin",
        "archive_url": "https://api.github.com/repos/sipa/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/sipa/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/sipa/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/sipa/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/sipa/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/sipa/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/sipa/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/sipa/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/sipa/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/sipa/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/sipa/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/sipa/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/sipa/bitcoin/events",
        "forks_url": "https://api.github.com/repos/sipa/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/sipa/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/sipa/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/sipa/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/sipa/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/sipa/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/sipa/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/sipa/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/sipa/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/sipa/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/sipa/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/sipa/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/sipa/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/sipa/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/sipa/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/sipa/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:sipa/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/sipa/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/sipa/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/sipa/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/sipa/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/sipa/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/sipa/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/sipa/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/sipa/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/sipa/bitcoin/hooks",
        "svn_url": "https://github.com/sipa/bitcoin",
        "homepage": "http://www.bitcoin.org",
        "language": "TypeScript",
        "forks_count": 20,
        "stargazers_count": 81,
        "watchers_count": 81,
        "size": 215860,
        "default_branch": "lows",
        "open_issues_count": 16,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-06T11:52:48Z",
        "created_at": "2011-03-09T10:46:59Z",
        "updated_at": "2023-04-30T00:52:17Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "b0e5fbf6fad854ad03ce092ff5f1582166e5b24e",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34324,
        "stargazers_count": 69819,
        "watchers_count": 69819,
        "size": 233879,
        "default_branch": "master",
        "open_issues_count": 627,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-06T22:42:00Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-06-07T04:47:18Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 594,
    "deletions": 65,
    "changed_files": 28,
    "commits": 12,
    "review_comments": 96,
    "comments": 37
  },
  "events": [
    {
      "event": "head_ref_force_pushed",
      "id": 4410738929,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDQxMDczODkyOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4410738929",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-04T23:06:07Z"
    },
    {
      "event": "commented",
      "id": 791023366,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc5MTAyMzM2Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/791023366",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-04T23:19:30Z",
      "updated_at": "2021-06-13T01:31:29Z",
      "author_association": "MEMBER",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #22166 (Add support for inferring tr() descriptors by sipa)\n* #21702 (Implement BIP-119 Validation (CheckTemplateVerify) by JeremyRubin)\n* #21576 (rpc: bumpfee signer support by Sjors)\n* #21283 (Implement BIP 370 PSBTv2 by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-791023366",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365"
    },
    {
      "event": "labeled",
      "id": 4411000970,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQ0MTEwMDA5NzA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4411000970",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-05T00:34:56Z",
      "label": {
        "name": "Consensus",
        "color": "009800"
      }
    },
    {
      "event": "labeled",
      "id": 4411000972,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQ0MTEwMDA5NzI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4411000972",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-05T00:34:56Z",
      "label": {
        "name": "Docs",
        "color": "02d7e1"
      }
    },
    {
      "event": "labeled",
      "id": 4411000974,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQ0MTEwMDA5NzQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4411000974",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-05T00:34:56Z",
      "label": {
        "name": "RPC/REST/ZMQ",
        "color": "0052cc"
      }
    },
    {
      "event": "labeled",
      "id": 4411000976,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQ0MTEwMDA5NzY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4411000976",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-05T00:34:56Z",
      "label": {
        "name": "Scripts and tools",
        "color": "ffffee"
      }
    },
    {
      "event": "labeled",
      "id": 4411000978,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQ0MTEwMDA5Nzg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4411000978",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-05T00:34:56Z",
      "label": {
        "name": "Utils/log/libs",
        "color": "5319e7"
      }
    },
    {
      "event": "labeled",
      "id": 4411000979,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQ0MTEwMDA5Nzk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4411000979",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-05T00:34:56Z",
      "label": {
        "name": "Wallet",
        "color": "08a781"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4411061708,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDQxMTA2MTcwOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4411061708",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-05T00:56:41Z"
    },
    {
      "event": "labeled",
      "id": 4411315264,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQ0MTEzMTUyNjQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4411315264",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-05T02:40:20Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4416436133,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDQxNjQzNjEzMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4416436133",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-06T03:13:19Z"
    },
    {
      "event": "commented",
      "id": 791851695,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc5MTg1MTY5NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/791851695",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-06T03:17:10Z",
      "updated_at": "2021-03-06T03:17:10Z",
      "author_association": "MEMBER",
      "body": "Rebased on top of #21246, renamed \"inner key\" everywhere in this PR to \"internal key\" as well, and added very basic PSBT support (you can have a watchonly tr(KEY) wallet now, and get it signed by an offline version that has the private key).",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-791851695",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365"
    },
    {
      "event": "unlabeled",
      "id": 4416457626,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50NDQxNjQ1NzYyNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4416457626",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-06T03:43:45Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 792330093,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc5MjMzMDA5Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/792330093",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-07T18:34:01Z",
      "updated_at": "2021-03-07T18:34:01Z",
      "author_association": "MEMBER",
      "body": "Concept ACK 🎉",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-792330093",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365"
    },
    {
      "event": "commented",
      "id": 792794101,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc5Mjc5NDEwMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/792794101",
      "actor": {
        "login": "roconnor-blockstream",
        "id": 21371712,
        "node_id": "MDQ6VXNlcjIxMzcxNzEy",
        "avatar_url": "https://avatars.githubusercontent.com/u/21371712?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/roconnor-blockstream",
        "html_url": "https://github.com/roconnor-blockstream",
        "followers_url": "https://api.github.com/users/roconnor-blockstream/followers",
        "following_url": "https://api.github.com/users/roconnor-blockstream/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/roconnor-blockstream/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/roconnor-blockstream/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/roconnor-blockstream/subscriptions",
        "organizations_url": "https://api.github.com/users/roconnor-blockstream/orgs",
        "repos_url": "https://api.github.com/users/roconnor-blockstream/repos",
        "events_url": "https://api.github.com/users/roconnor-blockstream/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/roconnor-blockstream/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-08T14:32:08Z",
      "updated_at": "2021-03-08T14:39:28Z",
      "author_association": "CONTRIBUTOR",
      "body": "TBH, I find your \"must be specified in depth-first search order\" somewhat confusing.  As an alternative syntax I suggest simply using some notation for a binary or.  For example.\r\n\r\n*  `tr(KEY)`: only taproot output key known (or is it an internal pubkey with common NUMS tweak??)\r\n*  `tr(KEY,A)`: internal pubkey with a single script `A` at level 0.\r\n*  `tr(KEY,[A|B])`: internal pubkey with a two scripts, `A` and `B` at level 1.\r\n*  `tr(KEY.[[A|B]|C])`: internal pubkey with a two scripts, `A` and `B` at level 2, and a third script at level 1.\r\n*  `tr(KEY.[A|[B|C]])`: same as above except for `A` is at level 1 and `C` is at level 2 instead.\r\n*  `tr(KEY.[[B|C]|A])`: equal to the above descriptor.\r\n*  `tr(KEY.[[A|B]|[C|D]])`: internal pubkey with a four scripts, all at level 2.\r\n*  `tr(KEY.[[A|C]|[B|D]])`: same four scripts as above, again all at level 2 but now associated differently which makes for a different tweak.\r\n*  `tr(KEY.[A|[[B|C]|D]])`: same four scripts as above, but no longer all at the same level.\r\n\r\nMy claimed advantages are the implicitness of the depth, and clearer notation indicating how the scripts are associated amongst each other.\r\n\r\nThe notation above is just an example and don't care too much about the specific syntax.\r\n\r\n---\r\n\r\nOther things to include in the list of features to be added later, a MerkleRoot descriptor for fixed but unknown branches.\r\n\r\n",
      "user": {
        "login": "roconnor-blockstream",
        "id": 21371712,
        "node_id": "MDQ6VXNlcjIxMzcxNzEy",
        "avatar_url": "https://avatars.githubusercontent.com/u/21371712?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/roconnor-blockstream",
        "html_url": "https://github.com/roconnor-blockstream",
        "followers_url": "https://api.github.com/users/roconnor-blockstream/followers",
        "following_url": "https://api.github.com/users/roconnor-blockstream/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/roconnor-blockstream/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/roconnor-blockstream/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/roconnor-blockstream/subscriptions",
        "organizations_url": "https://api.github.com/users/roconnor-blockstream/orgs",
        "repos_url": "https://api.github.com/users/roconnor-blockstream/repos",
        "events_url": "https://api.github.com/users/roconnor-blockstream/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/roconnor-blockstream/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-792794101",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365"
    },
    {
      "event": "referenced",
      "id": 4422363412,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ0MjIzNjM0MTI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4422363412",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "771c1345d6b38b5a062f9c3e4c7d5309c5c234ae",
      "commit_url": "https://api.github.com/repos/jonathanbier/forkmonitor/commits/771c1345d6b38b5a062f9c3e4c7d5309c5c234ae",
      "created_at": "2021-03-08T16:57:07Z"
    },
    {
      "event": "commented",
      "id": 792966574,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc5Mjk2NjU3NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/792966574",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-08T18:17:31Z",
      "updated_at": "2021-03-08T18:17:51Z",
      "author_association": "MEMBER",
      "body": "@roconnor-blockstream Yeah, I considered something like that, and am open to it. Both notations are equivalent in that you can fairly easily convert in both directions between them (counting bracing level in yours corresponds to the depth specified explicitly in mine, with leaves ultimately listed in the same order). The advantage I see to the current one is that I think it's a bit more readable, avoiding the need to go count braces to see relative depth of leaves. Yours is perhaps a bit easier to write (but maybe that's not something we really expect humans to do much for nontrivial cases).\r\n\r\nThere are many more variations possible. One extreme would be permitting arbitrary weights for every node, and have the descriptor expansion convert it to a Huffman tree. I'd prefer not to do this because it's adding information that can't be inferred back from the script tree it is converted to.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-792966574",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365"
    },
    {
      "event": "mentioned",
      "id": 4422802970,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDQyMjgwMjk3MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4422802970",
      "actor": {
        "login": "roconnor-blockstream",
        "id": 21371712,
        "node_id": "MDQ6VXNlcjIxMzcxNzEy",
        "avatar_url": "https://avatars.githubusercontent.com/u/21371712?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/roconnor-blockstream",
        "html_url": "https://github.com/roconnor-blockstream",
        "followers_url": "https://api.github.com/users/roconnor-blockstream/followers",
        "following_url": "https://api.github.com/users/roconnor-blockstream/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/roconnor-blockstream/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/roconnor-blockstream/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/roconnor-blockstream/subscriptions",
        "organizations_url": "https://api.github.com/users/roconnor-blockstream/orgs",
        "repos_url": "https://api.github.com/users/roconnor-blockstream/repos",
        "events_url": "https://api.github.com/users/roconnor-blockstream/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/roconnor-blockstream/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-08T18:17:31Z"
    },
    {
      "event": "subscribed",
      "id": 4422802979,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ0MjI4MDI5Nzk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4422802979",
      "actor": {
        "login": "roconnor-blockstream",
        "id": 21371712,
        "node_id": "MDQ6VXNlcjIxMzcxNzEy",
        "avatar_url": "https://avatars.githubusercontent.com/u/21371712?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/roconnor-blockstream",
        "html_url": "https://github.com/roconnor-blockstream",
        "followers_url": "https://api.github.com/users/roconnor-blockstream/followers",
        "following_url": "https://api.github.com/users/roconnor-blockstream/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/roconnor-blockstream/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/roconnor-blockstream/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/roconnor-blockstream/subscriptions",
        "organizations_url": "https://api.github.com/users/roconnor-blockstream/orgs",
        "repos_url": "https://api.github.com/users/roconnor-blockstream/repos",
        "events_url": "https://api.github.com/users/roconnor-blockstream/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/roconnor-blockstream/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-08T18:17:31Z"
    },
    {
      "event": "commented",
      "id": 792972451,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc5Mjk3MjQ1MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/792972451",
      "actor": {
        "login": "roconnor-blockstream",
        "id": 21371712,
        "node_id": "MDQ6VXNlcjIxMzcxNzEy",
        "avatar_url": "https://avatars.githubusercontent.com/u/21371712?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/roconnor-blockstream",
        "html_url": "https://github.com/roconnor-blockstream",
        "followers_url": "https://api.github.com/users/roconnor-blockstream/followers",
        "following_url": "https://api.github.com/users/roconnor-blockstream/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/roconnor-blockstream/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/roconnor-blockstream/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/roconnor-blockstream/subscriptions",
        "organizations_url": "https://api.github.com/users/roconnor-blockstream/orgs",
        "repos_url": "https://api.github.com/users/roconnor-blockstream/repos",
        "events_url": "https://api.github.com/users/roconnor-blockstream/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/roconnor-blockstream/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-08T18:25:57Z",
      "updated_at": "2021-03-08T18:25:57Z",
      "author_association": "CONTRIBUTOR",
      "body": "Right.  My concern with explicit levels is that it is so easy to violate the invariant that the sum of the weights has to add up to 1, and you cannot really splice together subexpressions to compose a descriptor from fragments without going through and globally adjusting all the levels to be sane.",
      "user": {
        "login": "roconnor-blockstream",
        "id": 21371712,
        "node_id": "MDQ6VXNlcjIxMzcxNzEy",
        "avatar_url": "https://avatars.githubusercontent.com/u/21371712?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/roconnor-blockstream",
        "html_url": "https://github.com/roconnor-blockstream",
        "followers_url": "https://api.github.com/users/roconnor-blockstream/followers",
        "following_url": "https://api.github.com/users/roconnor-blockstream/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/roconnor-blockstream/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/roconnor-blockstream/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/roconnor-blockstream/subscriptions",
        "organizations_url": "https://api.github.com/users/roconnor-blockstream/orgs",
        "repos_url": "https://api.github.com/users/roconnor-blockstream/repos",
        "events_url": "https://api.github.com/users/roconnor-blockstream/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/roconnor-blockstream/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-792972451",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365"
    },
    {
      "event": "commented",
      "id": 793024177,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc5MzAyNDE3Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/793024177",
      "actor": {
        "login": "roconnor-blockstream",
        "id": 21371712,
        "node_id": "MDQ6VXNlcjIxMzcxNzEy",
        "avatar_url": "https://avatars.githubusercontent.com/u/21371712?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/roconnor-blockstream",
        "html_url": "https://github.com/roconnor-blockstream",
        "followers_url": "https://api.github.com/users/roconnor-blockstream/followers",
        "following_url": "https://api.github.com/users/roconnor-blockstream/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/roconnor-blockstream/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/roconnor-blockstream/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/roconnor-blockstream/subscriptions",
        "organizations_url": "https://api.github.com/users/roconnor-blockstream/orgs",
        "repos_url": "https://api.github.com/users/roconnor-blockstream/repos",
        "events_url": "https://api.github.com/users/roconnor-blockstream/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/roconnor-blockstream/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-08T19:44:37Z",
      "updated_at": "2021-03-08T19:44:37Z",
      "author_association": "CONTRIBUTOR",
      "body": "Additionally I understand that it is the case that checking that the weights add up to 1 is not a sufficient condition to check that a string is a well-formed descriptor as it doesn't imply that the arrangement is in some DFS order. Thus I argue that my proposed scheme is better because the well-formedness of the descriptor format is a relatively simple syntactic check (that would pass [LANGSEC](https://langsec.org/) scrutiny).",
      "user": {
        "login": "roconnor-blockstream",
        "id": 21371712,
        "node_id": "MDQ6VXNlcjIxMzcxNzEy",
        "avatar_url": "https://avatars.githubusercontent.com/u/21371712?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/roconnor-blockstream",
        "html_url": "https://github.com/roconnor-blockstream",
        "followers_url": "https://api.github.com/users/roconnor-blockstream/followers",
        "following_url": "https://api.github.com/users/roconnor-blockstream/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/roconnor-blockstream/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/roconnor-blockstream/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/roconnor-blockstream/subscriptions",
        "organizations_url": "https://api.github.com/users/roconnor-blockstream/orgs",
        "repos_url": "https://api.github.com/users/roconnor-blockstream/repos",
        "events_url": "https://api.github.com/users/roconnor-blockstream/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/roconnor-blockstream/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-793024177",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365"
    },
    {
      "event": "commented",
      "id": 793027851,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc5MzAyNzg1MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/793027851",
      "actor": {
        "login": "JeremyRubin",
        "id": 886523,
        "node_id": "MDQ6VXNlcjg4NjUyMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/886523?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/JeremyRubin",
        "html_url": "https://github.com/JeremyRubin",
        "followers_url": "https://api.github.com/users/JeremyRubin/followers",
        "following_url": "https://api.github.com/users/JeremyRubin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/JeremyRubin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/JeremyRubin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
        "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
        "repos_url": "https://api.github.com/users/JeremyRubin/repos",
        "events_url": "https://api.github.com/users/JeremyRubin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-08T19:50:10Z",
      "updated_at": "2021-03-08T19:50:10Z",
      "author_association": "CONTRIBUTOR",
      "body": "+1 @roconnor-blockstream  a bracketed version seems superior to me.\r\n\r\nSome BIP-level (assuming this would eventually become a BIP) thoughts on things that might be useful in a descriptor:\r\n\r\n1. it might make sense to have a node that's a Need-To-Know-Basis Subtree. N2KBS have some danger -- e.g., could be hiding a backdoor key -- but also can be used to simplify a descriptor for e.g. inter-operating with an Escrow service that you don't want to share the whole program with.\r\n2. I think with brackets it's also easier to attach a subtree modifier. E.g., we could spec the lexing to recognize `[a-zA-Z0-9_]*(` or something similar as a subtree modifier. E.g., `[A,B]` -> `huffman[A@p,B@q]`. \r\n\r\nThe advantage of having this baked in is great for readability -- often times you might want to express a tree as:\r\n\r\n[Thing that should happen most likely, in the unlikely event that doesn't happen, Other thing that could happen, other thing we might want to do in unlikely event]\r\n\r\nwhich would -- if depth order is required -- look like:\r\n\r\n [Thing that should happen most likely, Other thing that could happen, in the unlikely event that doesn't happen, other thing we might want to do in unlikely event]\r\n\r\nWhich reminds me of exception throwing where the error handling source code can be very far away from the source of the error (bad). \r\n\r\n(something like huffman does require that we also use a sorted Tree to select clauses lexicographically after probability).\r\n3. An annotation/tag interface that would allow you to do something like `[A#{escrow, alice, bob}, B#{alice, bob}]` which when 'blind_for(\"escrow\")' is called creates the `[A, N2KB]` descriptor.\r\n4. Maybe a more general way of inserting extended structured metadata that Core will store/pass along but might not understand for supporting things like 3...\r\n5. a `opaque[]` annotation, which compiles a subtree opaquely to any parent modifiers. This would be useful in contexts where a subtree might be known entirely already by another party and we want to preserve that structure\r\n",
      "user": {
        "login": "JeremyRubin",
        "id": 886523,
        "node_id": "MDQ6VXNlcjg4NjUyMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/886523?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/JeremyRubin",
        "html_url": "https://github.com/JeremyRubin",
        "followers_url": "https://api.github.com/users/JeremyRubin/followers",
        "following_url": "https://api.github.com/users/JeremyRubin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/JeremyRubin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/JeremyRubin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
        "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
        "repos_url": "https://api.github.com/users/JeremyRubin/repos",
        "events_url": "https://api.github.com/users/JeremyRubin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-793027851",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365"
    },
    {
      "event": "mentioned",
      "id": 4423245808,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDQyMzI0NTgwOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4423245808",
      "actor": {
        "login": "roconnor-blockstream",
        "id": 21371712,
        "node_id": "MDQ6VXNlcjIxMzcxNzEy",
        "avatar_url": "https://avatars.githubusercontent.com/u/21371712?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/roconnor-blockstream",
        "html_url": "https://github.com/roconnor-blockstream",
        "followers_url": "https://api.github.com/users/roconnor-blockstream/followers",
        "following_url": "https://api.github.com/users/roconnor-blockstream/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/roconnor-blockstream/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/roconnor-blockstream/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/roconnor-blockstream/subscriptions",
        "organizations_url": "https://api.github.com/users/roconnor-blockstream/orgs",
        "repos_url": "https://api.github.com/users/roconnor-blockstream/repos",
        "events_url": "https://api.github.com/users/roconnor-blockstream/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/roconnor-blockstream/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-08T19:50:10Z"
    },
    {
      "event": "subscribed",
      "id": 4423245811,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ0MjMyNDU4MTE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4423245811",
      "actor": {
        "login": "roconnor-blockstream",
        "id": 21371712,
        "node_id": "MDQ6VXNlcjIxMzcxNzEy",
        "avatar_url": "https://avatars.githubusercontent.com/u/21371712?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/roconnor-blockstream",
        "html_url": "https://github.com/roconnor-blockstream",
        "followers_url": "https://api.github.com/users/roconnor-blockstream/followers",
        "following_url": "https://api.github.com/users/roconnor-blockstream/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/roconnor-blockstream/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/roconnor-blockstream/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/roconnor-blockstream/subscriptions",
        "organizations_url": "https://api.github.com/users/roconnor-blockstream/orgs",
        "repos_url": "https://api.github.com/users/roconnor-blockstream/repos",
        "events_url": "https://api.github.com/users/roconnor-blockstream/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/roconnor-blockstream/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-08T19:50:10Z"
    },
    {
      "event": "commented",
      "id": 793035079,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc5MzAzNTA3OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/793035079",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-08T20:01:31Z",
      "updated_at": "2021-03-08T20:01:31Z",
      "author_association": "MEMBER",
      "body": "@JeremyRubin I agree that there is a potential use for omitted subtrees, but I don't think there is much of a difference between the two approaches there? In the current approach you'd just specify the Merkle root of the omitted subtree as a \"leaf\" at the depth that root exists at.\r\n\r\nAll the other things you mention seem to be things for a policy language that get compiled to descriptors rather than descriptors themselves. Descriptors are for encoding information potentially needed by signers; I can't imagine a need for information of that kind that applies a specific subtree (rather than applying to individual leaves, or to the entire tree).\r\n\r\nThat said, it's not hard to implement a nested-bracket approach; I'll try to implement that too so people can experiment with both.\r\n\r\nMy main reason for having a slight preference for the explicit depth style is that I think `tr(KEY,[A|[[B|C]|D]])` is much harder to interpret by a human than `tr(KEY,1:A,3:B,3:C,2:D)`. In the latter it's immediately clear that B and C are the least likely paths, and A is the most likely one, for example. I agree with the argument that it's harder to write, but I'm not sure that's a big problem; for nontrivial things I suspect they'll either be written once as a template, or generated from a higher-level specification.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-793035079",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365"
    },
    {
      "event": "mentioned",
      "id": 4423297159,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDQyMzI5NzE1OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4423297159",
      "actor": {
        "login": "JeremyRubin",
        "id": 886523,
        "node_id": "MDQ6VXNlcjg4NjUyMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/886523?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/JeremyRubin",
        "html_url": "https://github.com/JeremyRubin",
        "followers_url": "https://api.github.com/users/JeremyRubin/followers",
        "following_url": "https://api.github.com/users/JeremyRubin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/JeremyRubin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/JeremyRubin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
        "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
        "repos_url": "https://api.github.com/users/JeremyRubin/repos",
        "events_url": "https://api.github.com/users/JeremyRubin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-08T20:01:31Z"
    },
    {
      "event": "subscribed",
      "id": 4423297162,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ0MjMyOTcxNjI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4423297162",
      "actor": {
        "login": "JeremyRubin",
        "id": 886523,
        "node_id": "MDQ6VXNlcjg4NjUyMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/886523?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/JeremyRubin",
        "html_url": "https://github.com/JeremyRubin",
        "followers_url": "https://api.github.com/users/JeremyRubin/followers",
        "following_url": "https://api.github.com/users/JeremyRubin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/JeremyRubin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/JeremyRubin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
        "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
        "repos_url": "https://api.github.com/users/JeremyRubin/repos",
        "events_url": "https://api.github.com/users/JeremyRubin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-08T20:01:31Z"
    },
    {
      "event": "commented",
      "id": 793066597,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc5MzA2NjU5Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/793066597",
      "actor": {
        "login": "JeremyRubin",
        "id": 886523,
        "node_id": "MDQ6VXNlcjg4NjUyMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/886523?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/JeremyRubin",
        "html_url": "https://github.com/JeremyRubin",
        "followers_url": "https://api.github.com/users/JeremyRubin/followers",
        "following_url": "https://api.github.com/users/JeremyRubin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/JeremyRubin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/JeremyRubin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
        "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
        "repos_url": "https://api.github.com/users/JeremyRubin/repos",
        "events_url": "https://api.github.com/users/JeremyRubin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-08T20:49:25Z",
      "updated_at": "2021-03-08T20:58:32Z",
      "author_association": "CONTRIBUTOR",
      "body": "I think it just depends on what descriptors are for v.s. what people end up using them for. Of that I am unsure, but it's worthwhile to note that this is a human readable format so presumably at some point a human may look at it or want to edit it.\r\n\r\nw.r.t. annotations for \"descriptor blinding\", I actually think this is somewhat relevant. One could imagine a scenario where a branch is used both as a pre-image for a has revelation and as a script. In that case, you might not want to reveal the entire tree to someone as it might give them the ability to spend from that branch as well. \r\n\r\nw.r.t. brackets or list, it might be interesting to make the descriptors a NEWICK format subset, which seems to be the most commonly used tree format (and is a bracket based format). Then you could dump descriptors into standard tree viewing software easily. I couldn't find a good reference for tree file formats using a list/depth approach.\r\n\r\nedit: w.r.t omitted subtrees, as noted, this was just some BIP-level feedback as we look to expanding what can go into a tr descriptor, less so comments on implementation.",
      "user": {
        "login": "JeremyRubin",
        "id": 886523,
        "node_id": "MDQ6VXNlcjg4NjUyMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/886523?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/JeremyRubin",
        "html_url": "https://github.com/JeremyRubin",
        "followers_url": "https://api.github.com/users/JeremyRubin/followers",
        "following_url": "https://api.github.com/users/JeremyRubin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/JeremyRubin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/JeremyRubin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
        "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
        "repos_url": "https://api.github.com/users/JeremyRubin/repos",
        "events_url": "https://api.github.com/users/JeremyRubin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-793066597",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365"
    },
    {
      "event": "commented",
      "id": 793300643,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc5MzMwMDY0Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/793300643",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-09T02:55:19Z",
      "updated_at": "2021-03-09T02:55:19Z",
      "author_association": "MEMBER",
      "body": "@JeremyRubin @roconnor-blockstream Added a commit to switch to \"tr(KEY,{S,{{S,S},S}})\" notation. I prefer {} over [] because the latter is already in use for key origin information.\r\n\r\n",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-793300643",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365"
    },
    {
      "event": "mentioned",
      "id": 4424857992,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDQyNDg1Nzk5Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4424857992",
      "actor": {
        "login": "JeremyRubin",
        "id": 886523,
        "node_id": "MDQ6VXNlcjg4NjUyMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/886523?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/JeremyRubin",
        "html_url": "https://github.com/JeremyRubin",
        "followers_url": "https://api.github.com/users/JeremyRubin/followers",
        "following_url": "https://api.github.com/users/JeremyRubin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/JeremyRubin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/JeremyRubin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
        "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
        "repos_url": "https://api.github.com/users/JeremyRubin/repos",
        "events_url": "https://api.github.com/users/JeremyRubin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-09T02:55:19Z"
    },
    {
      "event": "subscribed",
      "id": 4424857995,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ0MjQ4NTc5OTU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4424857995",
      "actor": {
        "login": "JeremyRubin",
        "id": 886523,
        "node_id": "MDQ6VXNlcjg4NjUyMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/886523?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/JeremyRubin",
        "html_url": "https://github.com/JeremyRubin",
        "followers_url": "https://api.github.com/users/JeremyRubin/followers",
        "following_url": "https://api.github.com/users/JeremyRubin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/JeremyRubin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/JeremyRubin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
        "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
        "repos_url": "https://api.github.com/users/JeremyRubin/repos",
        "events_url": "https://api.github.com/users/JeremyRubin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-09T02:55:20Z"
    },
    {
      "event": "mentioned",
      "id": 4424857999,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDQyNDg1Nzk5OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4424857999",
      "actor": {
        "login": "roconnor-blockstream",
        "id": 21371712,
        "node_id": "MDQ6VXNlcjIxMzcxNzEy",
        "avatar_url": "https://avatars.githubusercontent.com/u/21371712?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/roconnor-blockstream",
        "html_url": "https://github.com/roconnor-blockstream",
        "followers_url": "https://api.github.com/users/roconnor-blockstream/followers",
        "following_url": "https://api.github.com/users/roconnor-blockstream/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/roconnor-blockstream/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/roconnor-blockstream/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/roconnor-blockstream/subscriptions",
        "organizations_url": "https://api.github.com/users/roconnor-blockstream/orgs",
        "repos_url": "https://api.github.com/users/roconnor-blockstream/repos",
        "events_url": "https://api.github.com/users/roconnor-blockstream/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/roconnor-blockstream/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-09T02:55:20Z"
    },
    {
      "event": "subscribed",
      "id": 4424858001,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ0MjQ4NTgwMDE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4424858001",
      "actor": {
        "login": "roconnor-blockstream",
        "id": 21371712,
        "node_id": "MDQ6VXNlcjIxMzcxNzEy",
        "avatar_url": "https://avatars.githubusercontent.com/u/21371712?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/roconnor-blockstream",
        "html_url": "https://github.com/roconnor-blockstream",
        "followers_url": "https://api.github.com/users/roconnor-blockstream/followers",
        "following_url": "https://api.github.com/users/roconnor-blockstream/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/roconnor-blockstream/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/roconnor-blockstream/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/roconnor-blockstream/subscriptions",
        "organizations_url": "https://api.github.com/users/roconnor-blockstream/orgs",
        "repos_url": "https://api.github.com/users/roconnor-blockstream/repos",
        "events_url": "https://api.github.com/users/roconnor-blockstream/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/roconnor-blockstream/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-09T02:55:20Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4424941348,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDQyNDk0MTM0OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4424941348",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-09T03:17:44Z"
    },
    {
      "event": "commented",
      "id": 794307878,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc5NDMwNzg3OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/794307878",
      "actor": {
        "login": "JeremyRubin",
        "id": 886523,
        "node_id": "MDQ6VXNlcjg4NjUyMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/886523?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/JeremyRubin",
        "html_url": "https://github.com/JeremyRubin",
        "followers_url": "https://api.github.com/users/JeremyRubin/followers",
        "following_url": "https://api.github.com/users/JeremyRubin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/JeremyRubin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/JeremyRubin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
        "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
        "repos_url": "https://api.github.com/users/JeremyRubin/repos",
        "events_url": "https://api.github.com/users/JeremyRubin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-09T18:57:38Z",
      "updated_at": "2021-03-09T18:57:38Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thanks!\r\n\r\nIs there any reason not to use parens ()? NEWICK compatibility would be fun.",
      "user": {
        "login": "JeremyRubin",
        "id": 886523,
        "node_id": "MDQ6VXNlcjg4NjUyMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/886523?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/JeremyRubin",
        "html_url": "https://github.com/JeremyRubin",
        "followers_url": "https://api.github.com/users/JeremyRubin/followers",
        "following_url": "https://api.github.com/users/JeremyRubin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/JeremyRubin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/JeremyRubin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
        "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
        "repos_url": "https://api.github.com/users/JeremyRubin/repos",
        "events_url": "https://api.github.com/users/JeremyRubin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-794307878",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365"
    },
    {
      "event": "reviewed",
      "id": 607780648,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjA3NzgwNjQ4",
      "url": null,
      "actor": null,
      "commit_id": "12bfa0b79e1997d55c0c9415ad000ac76eeba7b0",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "JeremyRubin",
        "id": 886523,
        "node_id": "MDQ6VXNlcjg4NjUyMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/886523?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/JeremyRubin",
        "html_url": "https://github.com/JeremyRubin",
        "followers_url": "https://api.github.com/users/JeremyRubin/followers",
        "following_url": "https://api.github.com/users/JeremyRubin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/JeremyRubin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/JeremyRubin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
        "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
        "repos_url": "https://api.github.com/users/JeremyRubin/repos",
        "events_url": "https://api.github.com/users/JeremyRubin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#pullrequestreview-607780648",
      "submitted_at": "2021-03-09T19:12:11Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
    },
    {
      "event": "reviewed",
      "id": 607943215,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjA3OTQzMjE1",
      "url": null,
      "actor": null,
      "commit_id": "12bfa0b79e1997d55c0c9415ad000ac76eeba7b0",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "JeremyRubin",
        "id": 886523,
        "node_id": "MDQ6VXNlcjg4NjUyMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/886523?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/JeremyRubin",
        "html_url": "https://github.com/JeremyRubin",
        "followers_url": "https://api.github.com/users/JeremyRubin/followers",
        "following_url": "https://api.github.com/users/JeremyRubin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/JeremyRubin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/JeremyRubin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
        "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
        "repos_url": "https://api.github.com/users/JeremyRubin/repos",
        "events_url": "https://api.github.com/users/JeremyRubin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#pullrequestreview-607943215",
      "submitted_at": "2021-03-09T20:29:57Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
    },
    {
      "event": "reviewed",
      "id": 607957463,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjA3OTU3NDYz",
      "url": null,
      "actor": null,
      "commit_id": "12bfa0b79e1997d55c0c9415ad000ac76eeba7b0",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "JeremyRubin",
        "id": 886523,
        "node_id": "MDQ6VXNlcjg4NjUyMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/886523?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/JeremyRubin",
        "html_url": "https://github.com/JeremyRubin",
        "followers_url": "https://api.github.com/users/JeremyRubin/followers",
        "following_url": "https://api.github.com/users/JeremyRubin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/JeremyRubin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/JeremyRubin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
        "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
        "repos_url": "https://api.github.com/users/JeremyRubin/repos",
        "events_url": "https://api.github.com/users/JeremyRubin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#pullrequestreview-607957463",
      "submitted_at": "2021-03-09T20:36:30Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
    },
    {
      "event": "reviewed",
      "id": 607980027,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjA3OTgwMDI3",
      "url": null,
      "actor": null,
      "commit_id": "d5a0dce8fe40153b07ec6e882e8b1568b05e3905",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "JeremyRubin",
        "id": 886523,
        "node_id": "MDQ6VXNlcjg4NjUyMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/886523?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/JeremyRubin",
        "html_url": "https://github.com/JeremyRubin",
        "followers_url": "https://api.github.com/users/JeremyRubin/followers",
        "following_url": "https://api.github.com/users/JeremyRubin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/JeremyRubin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/JeremyRubin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
        "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
        "repos_url": "https://api.github.com/users/JeremyRubin/repos",
        "events_url": "https://api.github.com/users/JeremyRubin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#pullrequestreview-607980027",
      "submitted_at": "2021-03-09T20:46:40Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
    },
    {
      "event": "reviewed",
      "id": 609412406,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjA5NDEyNDA2",
      "url": null,
      "actor": null,
      "commit_id": "d5a0dce8fe40153b07ec6e882e8b1568b05e3905",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#pullrequestreview-609412406",
      "submitted_at": "2021-03-11T05:48:47Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4448110428,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDQ0ODExMDQyOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4448110428",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-12T00:25:09Z"
    },
    {
      "event": "commented",
      "id": 797147204,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc5NzE0NzIwNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/797147204",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-12T00:27:31Z",
      "updated_at": "2021-03-12T00:27:31Z",
      "author_association": "MEMBER",
      "body": "Switched to the `tr(KEY,{{S1,S2},{{...)` style descriptors.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-797147204",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4448565557,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDQ0ODU2NTU1Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4448565557",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-12T03:34:17Z"
    },
    {
      "event": "labeled",
      "id": 4449211797,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQ0NDkyMTE3OTc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4449211797",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-12T07:41:19Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 797321617,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc5NzMyMTYxNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/797321617",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-12T08:24:33Z",
      "updated_at": "2021-03-12T08:24:33Z",
      "author_association": "MEMBER",
      "body": "> Switched to the `tr(KEY,{{S1,S2},{{...)` style descriptors.\r\n\r\nCan you clarify this, maybe with a simple example, in the PR description or in [descriptors.md](https://github.com/bitcoin/bitcoin/blob/master/doc/descriptors.md)?",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-797321617",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4449629371,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDQ0OTYyOTM3MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4449629371",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-12T09:21:55Z"
    },
    {
      "event": "commented",
      "id": 797357641,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc5NzM1NzY0MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/797357641",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-12T09:23:18Z",
      "updated_at": "2021-03-12T09:23:18Z",
      "author_association": "MEMBER",
      "body": "@Sjors Rebased, and\r\n\r\n> Can you clarify this, maybe with a simple example, in the PR description or in descriptors.md?\r\n\r\ndone.\r\n",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-797357641",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365"
    },
    {
      "event": "mentioned",
      "id": 4449635654,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDQ0OTYzNTY1NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4449635654",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-12T09:23:19Z"
    },
    {
      "event": "subscribed",
      "id": 4449635658,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ0NDk2MzU2NTg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4449635658",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-12T09:23:19Z"
    },
    {
      "event": "unlabeled",
      "id": 4449743941,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50NDQ0OTc0Mzk0MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4449743941",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-12T09:46:20Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 610614777,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjEwNjE0Nzc3",
      "url": null,
      "actor": null,
      "commit_id": "ee7b9831ad2faefb49347f00053269a227423b23",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#pullrequestreview-610614777",
      "submitted_at": "2021-03-12T12:51:58Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
    },
    {
      "event": "commented",
      "id": 799573948,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc5OTU3Mzk0OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/799573948",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-15T16:49:10Z",
      "updated_at": "2021-03-15T16:49:10Z",
      "author_association": "MEMBER",
      "body": "<!--4a62be1de6b64f3ed646cdc7932c8cf5-->\n🕵️ @achow101 @harding have been requested to review this pull request as specified in the REVIEWERS file.",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-799573948",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365"
    },
    {
      "event": "mentioned",
      "id": 4459911522,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDQ1OTkxMTUyMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4459911522",
      "actor": {
        "login": "harding",
        "id": 61096,
        "node_id": "MDQ6VXNlcjYxMDk2",
        "avatar_url": "https://avatars.githubusercontent.com/u/61096?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/harding",
        "html_url": "https://github.com/harding",
        "followers_url": "https://api.github.com/users/harding/followers",
        "following_url": "https://api.github.com/users/harding/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/harding/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/harding/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/harding/subscriptions",
        "organizations_url": "https://api.github.com/users/harding/orgs",
        "repos_url": "https://api.github.com/users/harding/repos",
        "events_url": "https://api.github.com/users/harding/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/harding/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-15T16:49:10Z"
    },
    {
      "event": "subscribed",
      "id": 4459911530,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ0NTk5MTE1MzA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4459911530",
      "actor": {
        "login": "harding",
        "id": 61096,
        "node_id": "MDQ6VXNlcjYxMDk2",
        "avatar_url": "https://avatars.githubusercontent.com/u/61096?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/harding",
        "html_url": "https://github.com/harding",
        "followers_url": "https://api.github.com/users/harding/followers",
        "following_url": "https://api.github.com/users/harding/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/harding/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/harding/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/harding/subscriptions",
        "organizations_url": "https://api.github.com/users/harding/orgs",
        "repos_url": "https://api.github.com/users/harding/repos",
        "events_url": "https://api.github.com/users/harding/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/harding/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-15T16:49:10Z"
    },
    {
      "event": "mentioned",
      "id": 4459911537,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDQ1OTkxMTUzNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4459911537",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-15T16:49:10Z"
    },
    {
      "event": "subscribed",
      "id": 4459911548,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ0NTk5MTE1NDg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4459911548",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-15T16:49:10Z"
    },
    {
      "event": "reviewed",
      "id": 612656927,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjEyNjU2OTI3",
      "url": null,
      "actor": null,
      "commit_id": "8aaa61bfb7590e95eb7ca5106dfe3561f1c7a7c8",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#pullrequestreview-612656927",
      "submitted_at": "2021-03-15T22:23:14Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4462485112,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDQ2MjQ4NTExMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4462485112",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-16T06:01:46Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4466250123,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDQ2NjI1MDEyMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4466250123",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-16T18:29:05Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4467258974,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDQ2NzI1ODk3NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4467258974",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-16T22:47:32Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4467466821,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDQ2NzQ2NjgyMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4467466821",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-17T00:13:46Z"
    },
    {
      "event": "labeled",
      "id": 4470001868,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQ0NzAwMDE4Njg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4470001868",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-17T12:44:35Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4524619207,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDUyNDYxOTIwNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4524619207",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-30T01:17:28Z"
    },
    {
      "event": "commented",
      "id": 809832324,
      "node_id": "MDEyOklzc3VlQ29tbWVudDgwOTgzMjMyNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/809832324",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-30T01:20:13Z",
      "updated_at": "2021-03-30T01:20:13Z",
      "author_association": "MEMBER",
      "body": "Rebased.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-809832324",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365"
    },
    {
      "event": "unlabeled",
      "id": 4524847133,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50NDUyNDg0NzEzMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4524847133",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-30T02:51:53Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 811983881,
      "node_id": "MDEyOklzc3VlQ29tbWVudDgxMTk4Mzg4MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/811983881",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-01T15:24:38Z",
      "updated_at": "2021-04-01T15:25:46Z",
      "author_association": "MEMBER",
      "body": "I created a descriptor like so, to test scriptpath spending: `tr(tpub1/0/*,pk(tprv2/0/*))`. This way the wallet won't have private keys for the keypath spend (`tpub1`), so it has to use the script `pk(tprv2/0*)`.\r\n\r\nThis seems to work on Signet, but the transaction does not enter the mempool. `testmempoolaccept` complains `min relay fee not met`, so perhaps there's a fee calculation bug? Once I bump the fee it goes through.\r\n\r\nI used the GUI to create (and bump) the transactions. With a regular `tr(tpriv1/0/*)` descriptor wallet I don't see this problem.\r\n\r\nHere's the original raw transaction:\r\n```\r\n0200000000010114a5df5cf5084ea003c2f021c4e22846238a61c89894fa786e556395048ed40c0000000000fdffffff0292a0070000000000225120a287e30feacc24a25a9a3e689ad0107223cb247fb9a14880cddf3e62f1453a6420a1070000000000160014bf15b210d9f53e5c7b002fe904af042098706c3a03406c11b79f9a417f9702a6117e3bb170956ece09af6b584b2d92e1e0e5cfcad725250c91e29db77751af36970c0e5676622cfcf6fb1c81a316dfcd349b1ea59d412220d0586a7eba2e92a38f31ba8a7d82c05b9bb101bf3a649f205bd8e1df7c428b6eac21c07a35becbfeccf3ed5367ff117681497d040e6996eeae3dd21acb123e8525729d227b0000\r\n```",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-811983881",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365"
    },
    {
      "event": "commented",
      "id": 812045689,
      "node_id": "MDEyOklzc3VlQ29tbWVudDgxMjA0NTY4OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/812045689",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-01T17:05:10Z",
      "updated_at": "2021-04-01T17:10:34Z",
      "author_association": "MEMBER",
      "body": "@Sjors That's expected, and I don't really know how to deal with this. The problem is that we determine the fee for spending an output by using the dummy signer, but the dummy signer can't know which private keys will and won't be available. Since tr spending cost differs based on what is available, this will give an inaccurate result (it'll always just use the key path).\r\n\r\nA possibility is extending descriptors with markers to indicate that certain keys won't ever be available. It's good to point this out, but I think the scope will take us a bit too far for this PR.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-812045689",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365"
    },
    {
      "event": "mentioned",
      "id": 4542453081,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDU0MjQ1MzA4MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4542453081",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-01T17:05:10Z"
    },
    {
      "event": "subscribed",
      "id": 4542453083,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ1NDI0NTMwODM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4542453083",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-01T17:05:10Z"
    },
    {
      "event": "commented",
      "id": 812161062,
      "node_id": "MDEyOklzc3VlQ29tbWVudDgxMjE2MTA2Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/812161062",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-01T20:43:15Z",
      "updated_at": "2021-04-01T20:44:23Z",
      "author_association": "MEMBER",
      "body": "This is definitely a new can of worms that will need some thought, but I agree it can wait (if documented).\r\n\r\nThe main point of having leaves is to be able to spend when the main keypath key material isn't available. But we currently have no way of indicating that.\r\n\r\nI don't think descriptors are the right place for this. Let's say I have 3 hardware wallets. The keypath is a 3-of-3 musig, and the script(s) are 2-of-3. Normally I would sign with all 3 in order to save fees and preserve privacy. But after a minor boating accident I only have two. I wouldn't necessarily want to create a new wallet, so nothing about the descriptors changes.\r\n\r\nThe natural place to indicate which leaf to use is probably the send command (especially fun for the GUI...). From there on it should be straight forward to use the right dummies.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-812161062",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365"
    },
    {
      "event": "unlabeled",
      "id": 4545028311,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50NDU0NTAyODMxMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4545028311",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-02T09:09:45Z",
      "label": {
        "name": "Docs",
        "color": "02d7e1"
      }
    },
    {
      "event": "commented",
      "id": 812495291,
      "node_id": "MDEyOklzc3VlQ29tbWVudDgxMjQ5NTI5MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/812495291",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-02T11:43:55Z",
      "updated_at": "2021-04-02T11:43:55Z",
      "author_association": "MEMBER",
      "body": "Concept ACK 🚀 ",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-812495291",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365"
    },
    {
      "event": "labeled",
      "id": 4585623781,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQ1ODU2MjM3ODE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4585623781",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-13T03:55:00Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 823442160,
      "node_id": "MDEyOklzc3VlQ29tbWVudDgyMzQ0MjE2MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/823442160",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-20T16:52:42Z",
      "updated_at": "2021-04-20T16:52:42Z",
      "author_association": "MEMBER",
      "body": "All prerequisites have been merged! Needs rebase.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-823442160",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365"
    },
    {
      "event": "reviewed",
      "id": 642283487,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjQyMjgzNDg3",
      "url": null,
      "actor": null,
      "commit_id": "b6f6c58ef7e64f699102beef063b3b9f91c71ecd",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#pullrequestreview-642283487",
      "submitted_at": "2021-04-22T14:45:07Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
    },
    {
      "event": "unlabeled",
      "id": 4631346947,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50NDYzMTM0Njk0Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4631346947",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-22T14:45:59Z",
      "label": {
        "name": "Scripts and tools",
        "color": "ffffee"
      }
    },
    {
      "event": "unlabeled",
      "id": 4631346949,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50NDYzMTM0Njk0OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4631346949",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-22T14:45:59Z",
      "label": {
        "name": "Utils/log/libs",
        "color": "5319e7"
      }
    },
    {
      "event": "labeled",
      "id": 4631360451,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQ2MzEzNjA0NTE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4631360451",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-22T14:48:03Z",
      "label": {
        "name": "Descriptors",
        "color": "e9f76c"
      }
    },
    {
      "event": "reviewed",
      "id": 649950125,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjQ5OTUwMTI1",
      "url": null,
      "actor": null,
      "commit_id": "3f6aad2d687b5435e93bf6c99cbe1cabc9c1ff16",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#pullrequestreview-649950125",
      "submitted_at": "2021-05-02T22:53:39Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4781279805,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDc4MTI3OTgwNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4781279805",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-21T20:41:30Z"
    },
    {
      "event": "commented",
      "id": 846248695,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg0NjI0ODY5NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/846248695",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-21T20:41:57Z",
      "updated_at": "2021-05-21T20:41:57Z",
      "author_association": "MEMBER",
      "body": "Rebased, and addressed comments.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-846248695",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365"
    },
    {
      "event": "unlabeled",
      "id": 4781406509,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50NDc4MTQwNjUwOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4781406509",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-21T21:22:29Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 846353760,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg0NjM1Mzc2MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/846353760",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-22T05:32:40Z",
      "updated_at": "2021-05-22T05:32:40Z",
      "author_association": "MEMBER",
      "body": "```\r\n node0 stderr bitcoin-node: script/interpreter.cpp:1714: virtual bool GenericTransactionSignatureChecker<CMutableTransaction>::CheckSchnorrSignature(Span<const unsigned char>, Span<const unsigned char>, SigVersion, const ScriptExecutionData &, ScriptError *) const [T = CMutableTransaction]: Assertion `this->txdata' failed. ",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-846353760",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365"
    },
    {
      "event": "reviewed",
      "id": 666184590,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjY2MTg0NTkw",
      "url": null,
      "actor": null,
      "commit_id": "a2edabe43261ef2859742015a53c34ee8a5d1ee3",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Reviewed down to f86a68c, will continue later...\r\n\r\nThe refactoring of consensus code in 5ecaca05a299d3da9cdfdf8e9c6860500a73587d (`CheckTapTweak`) deserves its own commit (which also makes the diff slightly easier to read).",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#pullrequestreview-666184590",
      "submitted_at": "2021-05-22T18:52:19Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4784052413,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDc4NDA1MjQxMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4784052413",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-24T01:42:19Z"
    },
    {
      "event": "commented",
      "id": 846681079,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg0NjY4MTA3OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/846681079",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-24T02:03:02Z",
      "updated_at": "2021-05-24T06:20:16Z",
      "author_association": "MEMBER",
      "body": "Fixed the bug referred to [here](https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-846353760) by @MarcoFalke, and addressed most of @Sjors's comments.\r\n\r\nNote: if this is too much, it'd be totally reasonable to split this PR in two, splitting after \"Add tr() descriptor (derivation only, no signing)\". Everything up to there is preparation & descriptor derivation. Everything after is signing logic.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-846681079",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365"
    },
    {
      "event": "mentioned",
      "id": 4784750244,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDc4NDc1MDI0NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4784750244",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-24T06:20:16Z"
    },
    {
      "event": "subscribed",
      "id": 4784750253,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ3ODQ3NTAyNTM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4784750253",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-24T06:20:16Z"
    },
    {
      "event": "mentioned",
      "id": 4784750264,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDc4NDc1MDI2NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4784750264",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-24T06:20:16Z"
    },
    {
      "event": "subscribed",
      "id": 4784750270,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ3ODQ3NTAyNzA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4784750270",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-24T06:20:16Z"
    },
    {
      "event": "commented",
      "id": 846945215,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg0Njk0NTIxNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/846945215",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-24T10:24:30Z",
      "updated_at": "2021-05-24T17:28:25Z",
      "author_association": "MEMBER",
      "body": "Being able to make watch-only taproot wallet seems like a nice natural point to split this PR.\r\n\r\ntACK up to c08bb8badb8ab030590fe1bea160078785ecdafe\r\n\r\nIn order to test descriptors with script paths, without having signing code, it would be useful to expand `getaddressinfo` and have it show the TREE of scripts.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-846945215",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4788914443,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDc4ODkxNDQ0Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4788914443",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-24T21:30:21Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4789020636,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDc4OTAyMDYzNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4789020636",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-24T22:04:28Z"
    },
    {
      "event": "commented",
      "id": 847383955,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg0NzM4Mzk1NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/847383955",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-24T22:09:45Z",
      "updated_at": "2021-05-24T22:09:45Z",
      "author_association": "MEMBER",
      "body": "I split off the derivation part in #22051.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-847383955",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365"
    },
    {
      "event": "labeled",
      "id": 4817053488,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQ4MTcwNTM0ODg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4817053488",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-30T11:54:39Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "referenced",
      "id": 4839539973,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ4Mzk1Mzk5NzM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4839539973",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "c7dd9ff71b9c2e62fa7ecfb37ee7a5841ad67ecc",
      "commit_url": "https://api.github.com/repos/bitcoin-core/gui/commits/c7dd9ff71b9c2e62fa7ecfb37ee7a5841ad67ecc",
      "created_at": "2021-06-03T19:58:58Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4839645738,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDgzOTY0NTczOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4839645738",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-03T20:26:15Z"
    },
    {
      "event": "commented",
      "id": 854161735,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg1NDE2MTczNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/854161735",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-03T20:36:54Z",
      "updated_at": "2021-06-03T20:36:54Z",
      "author_association": "MEMBER",
      "body": "Rebased after #22051 merge.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-854161735",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365"
    },
    {
      "event": "unlabeled",
      "id": 4839718505,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50NDgzOTcxODUwNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4839718505",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-03T20:44:58Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "milestoned",
      "id": 4840291958,
      "node_id": "MDE1Ok1pbGVzdG9uZWRFdmVudDQ4NDAyOTE5NTg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4840291958",
      "actor": {
        "login": "meshcollider",
        "id": 3211283,
        "node_id": "MDQ6VXNlcjMyMTEyODM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/meshcollider",
        "html_url": "https://github.com/meshcollider",
        "followers_url": "https://api.github.com/users/meshcollider/followers",
        "following_url": "https://api.github.com/users/meshcollider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/meshcollider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/meshcollider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
        "organizations_url": "https://api.github.com/users/meshcollider/orgs",
        "repos_url": "https://api.github.com/users/meshcollider/repos",
        "events_url": "https://api.github.com/users/meshcollider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/meshcollider/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-03T23:30:08Z",
      "milestone": {
        "title": "22.0"
      }
    },
    {
      "event": "unlabeled",
      "id": 4840440468,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50NDg0MDQ0MDQ2OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4840440468",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-04T00:37:42Z",
      "label": {
        "name": "Consensus",
        "color": "009800"
      }
    },
    {
      "event": "reviewed",
      "id": 677745838,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Njc3NzQ1ODM4",
      "url": null,
      "actor": null,
      "commit_id": "e4c8ae471d38e878a69fa8099d75d447319f4037",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#pullrequestreview-677745838",
      "submitted_at": "2021-06-07T19:33:22Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
    },
    {
      "event": "commented",
      "id": 856204356,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg1NjIwNDM1Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/856204356",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-07T19:38:56Z",
      "updated_at": "2021-06-07T19:38:56Z",
      "author_association": "MEMBER",
      "body": "Since #22166 uses \"Add TaprootSpendData data structure, equivalent to script map for P2[W]SH\" from here but with scripts as a multimap, in the interest of reducing future merge conflicts, I think this PR should use the same commit and use the multimap too. I expect that the change to using a multimap might cause some problems with the later commits in this PR.",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-856204356",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4854926664,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDg1NDkyNjY2NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4854926664",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-07T23:58:37Z"
    },
    {
      "event": "commented",
      "id": 856340686,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg1NjM0MDY4Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/856340686",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-08T00:03:07Z",
      "updated_at": "2021-06-08T00:03:07Z",
      "author_association": "MEMBER",
      "body": "Addressed most of your comments, and also updated the TaprootSpendData commit to use multiset semantics. Instead of using `multiset<key, control_block>`, I've changed it to `map<key, set<control_block>>`, which also has multiset semantics that should be compatible with #22166's inference code, but also with the signing logic in this PR (which should prefer the smallest control block for a given script if multiple are available).",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-856340686",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4855058963,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDg1NTA1ODk2Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4855058963",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-08T00:46:38Z"
    },
    {
      "event": "commented",
      "id": 856913344,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg1NjkxMzM0NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/856913344",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-08T16:23:58Z",
      "updated_at": "2021-06-08T16:23:58Z",
      "author_association": "MEMBER",
      "body": "ACK 4ad2a1d4adfcff715fed3ec37433ffd507c98b84",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-856913344",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365"
    },
    {
      "event": "reviewed",
      "id": 631064900,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjMxMDY0OTAw",
      "url": null,
      "actor": null,
      "commit_id": "b6f6c58ef7e64f699102beef063b3b9f91c71ecd",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "I have a few simple questions, please help me understand.",
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#pullrequestreview-631064900",
      "submitted_at": "2021-06-09T08:00:13Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4866958725,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDg2Njk1ODcyNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4866958725",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-09T18:40:22Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4866986772,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDg2Njk4Njc3Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4866986772",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-09T18:44:54Z"
    },
    {
      "event": "commented",
      "id": 858905808,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg1ODkwNTgwOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/858905808",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-10T18:50:06Z",
      "updated_at": "2021-06-10T18:50:06Z",
      "author_association": "MEMBER",
      "body": "re-ACK c69ad7e8097fb6a6cfdd28f135e666ba40405b61",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-858905808",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365"
    },
    {
      "event": "labeled",
      "id": 4881481636,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQ4ODE0ODE2MzY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4881481636",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-12T17:12:40Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkYmIwY2U5ZmJmZjAxZmZlNGRkMjlkYTQ2NWY0M2VjYWRkYzI4NTRj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dbb0ce9fbff01ffe4dd29da465f43ecaddc2854c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/dbb0ce9fbff01ffe4dd29da465f43ecaddc2854c",
      "tree": {
        "sha": "6fa9f24f53c40dfc157525532a16131339cc1c5f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6fa9f24f53c40dfc157525532a16131339cc1c5f"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b0e5fbf6fad854ad03ce092ff5f1582166e5b24e",
          "sha": "b0e5fbf6fad854ad03ce092ff5f1582166e5b24e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b0e5fbf6fad854ad03ce092ff5f1582166e5b24e"
        }
      ],
      "message": "Add TaprootSpendData data structure, equivalent to script map for P2[W]SH\n\nThis data structures stores all information necessary for spending a taproot\noutput (the internal key, the Merkle root, and the control blocks for every\nscript leaf).\n\nIt is added to signing providers, and populated by the tr() descriptor.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2021-06-12T19:25:28Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2021-03-03T23:02:56Z"
      },
      "sha": "dbb0ce9fbff01ffe4dd29da465f43ecaddc2854c"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzplNzdhMjgzOWI1NGZhMjAzOWJiYTQ2OGU4YzA5ZGJiYmYxOWIxNTBh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e77a2839b54fa2039bba468e8c09dbbbf19b150a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e77a2839b54fa2039bba468e8c09dbbbf19b150a",
      "tree": {
        "sha": "584a72f0a2f401c3879f05067d14ec64747844b3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/584a72f0a2f401c3879f05067d14ec64747844b3"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dbb0ce9fbff01ffe4dd29da465f43ecaddc2854c",
          "sha": "dbb0ce9fbff01ffe4dd29da465f43ecaddc2854c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/dbb0ce9fbff01ffe4dd29da465f43ecaddc2854c"
        }
      ],
      "message": "Use HandleMissingData also in CheckSchnorrSignature",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2021-06-12T19:25:28Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2021-05-23T03:31:58Z"
      },
      "sha": "e77a2839b54fa2039bba468e8c09dbbbf19b150a"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzphOTFkNTMyMzM4ZWNiNjZlYzViZWQxNjQ5MjlkODc4ZGQ1NWQ2M2E0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a91d532338ecb66ec5bed164929d878dd55d63a4",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a91d532338ecb66ec5bed164929d878dd55d63a4",
      "tree": {
        "sha": "6a4d736bcf31222e9fcb7d46545bc2d292b29d90",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6a4d736bcf31222e9fcb7d46545bc2d292b29d90"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e77a2839b54fa2039bba468e8c09dbbbf19b150a",
          "sha": "e77a2839b54fa2039bba468e8c09dbbbf19b150a",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/e77a2839b54fa2039bba468e8c09dbbbf19b150a"
        }
      ],
      "message": "Add CKey::SignSchnorr function for BIP 340/341 signing",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2021-06-12T19:25:28Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2021-02-08T08:15:51Z"
      },
      "sha": "a91d532338ecb66ec5bed164929d878dd55d63a4"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzplODQxZmI1MDNkN2E2NjJiZGUwMWVjMmU0Nzk0ZmFhOTg5MjY1OTUw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e841fb503d7a662bde01ec2e4794faa989265950",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e841fb503d7a662bde01ec2e4794faa989265950",
      "tree": {
        "sha": "ab927facb0007e8a32fd93827604647dea680a41",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ab927facb0007e8a32fd93827604647dea680a41"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a91d532338ecb66ec5bed164929d878dd55d63a4",
          "sha": "a91d532338ecb66ec5bed164929d878dd55d63a4",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a91d532338ecb66ec5bed164929d878dd55d63a4"
        }
      ],
      "message": "Add precomputed txdata support to MutableTransactionSignatureCreator\n\nThis provides a means to pass in a PrecomputedTransactionData object to\nthe MutableTransactionSignatureCreator, allowing the prevout data to be\npassed into the signature hashers. It is also more efficient.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2021-06-12T19:25:28Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2021-02-18T02:57:19Z"
      },
      "sha": "e841fb503d7a662bde01ec2e4794faa989265950"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjZTkzNTMxNjRiZGI2MjE1YTYyYjJiNmRjYjIxMjFkMzMxNzk2ZjYw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ce9353164bdb6215a62b2b6dcb2121d331796f60",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ce9353164bdb6215a62b2b6dcb2121d331796f60",
      "tree": {
        "sha": "69364a7de2b250b2841500ff8b68095f36926ee7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/69364a7de2b250b2841500ff8b68095f36926ee7"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e841fb503d7a662bde01ec2e4794faa989265950",
          "sha": "e841fb503d7a662bde01ec2e4794faa989265950",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/e841fb503d7a662bde01ec2e4794faa989265950"
        }
      ],
      "message": "Permit full precomputation in PrecomputedTransactionData\n\nAt verification time, the to be precomputed data can be inferred from\nthe transaction itself. For signing, the necessary witnesses don't\nexist yet, so just permit precomputing everything in that case.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2021-06-12T19:25:28Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2021-02-28T04:24:31Z"
      },
      "sha": "ce9353164bdb6215a62b2b6dcb2121d331796f60"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1ZDJlMjI0MzdiMjJlNzQ2NWFlNGJlNjQwNjk0NDNiY2MxNzY5ZGM5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5d2e22437b22e7465ae4be64069443bcc1769dc9",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/5d2e22437b22e7465ae4be64069443bcc1769dc9",
      "tree": {
        "sha": "e069abc3807ac4de283ff117f8600e85c1650c19",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e069abc3807ac4de283ff117f8600e85c1650c19"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ce9353164bdb6215a62b2b6dcb2121d331796f60",
          "sha": "ce9353164bdb6215a62b2b6dcb2121d331796f60",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ce9353164bdb6215a62b2b6dcb2121d331796f60"
        }
      ],
      "message": "Don't nuke witness data when signing fails",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2021-06-12T19:25:28Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2021-02-28T04:26:54Z"
      },
      "sha": "5d2e22437b22e7465ae4be64069443bcc1769dc9"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1Y2I2NTAyYWM1NzMwZWE0NTNlZGJlYzRjNDYwMjdhYzJhZGE5N2Uw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5cb6502ac5730ea453edbec4c46027ac2ada97e0",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/5cb6502ac5730ea453edbec4c46027ac2ada97e0",
      "tree": {
        "sha": "1fdbf28dcb5a879d785ba4ac90950aca2ab0388c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1fdbf28dcb5a879d785ba4ac90950aca2ab0388c"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5d2e22437b22e7465ae4be64069443bcc1769dc9",
          "sha": "5d2e22437b22e7465ae4be64069443bcc1769dc9",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5d2e22437b22e7465ae4be64069443bcc1769dc9"
        }
      ],
      "message": "Construct and use PrecomputedTransactionData in SignTransaction",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2021-06-12T19:25:28Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2021-02-28T04:30:18Z"
      },
      "sha": "5cb6502ac5730ea453edbec4c46027ac2ada97e0"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmZDNmNjg5MGYzZGZkNjgzZjZmMTNkYjkxMmNhZjVjNDI4OGFkZjA4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fd3f6890f3dfd683f6f13db912caf5c4288adf08",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fd3f6890f3dfd683f6f13db912caf5c4288adf08",
      "tree": {
        "sha": "f59709a19027dfdc7e012189cacf72527f20d761",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f59709a19027dfdc7e012189cacf72527f20d761"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5cb6502ac5730ea453edbec4c46027ac2ada97e0",
          "sha": "5cb6502ac5730ea453edbec4c46027ac2ada97e0",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5cb6502ac5730ea453edbec4c46027ac2ada97e0"
        }
      ],
      "message": "Construct and use PrecomputedTransactionData in PSBT signing",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2021-06-12T19:25:28Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2021-03-04T00:47:44Z"
      },
      "sha": "fd3f6890f3dfd683f6f13db912caf5c4288adf08"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0OTQ4N2JjM2I2MDM4MzkzYzFiOWMyZGJkYzA0YTc4YWUxMTc4ZjFh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/49487bc3b6038393c1b9c2dbdc04a78ae1178f1a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/49487bc3b6038393c1b9c2dbdc04a78ae1178f1a",
      "tree": {
        "sha": "00c243e51ff179a657242a7f718af6c9527542ce",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/00c243e51ff179a657242a7f718af6c9527542ce"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fd3f6890f3dfd683f6f13db912caf5c4288adf08",
          "sha": "fd3f6890f3dfd683f6f13db912caf5c4288adf08",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fd3f6890f3dfd683f6f13db912caf5c4288adf08"
        }
      ],
      "message": "Make GetInputUTXO safer: verify non-witness UTXO match",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2021-06-12T19:25:28Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2021-06-07T23:47:33Z"
      },
      "sha": "49487bc3b6038393c1b9c2dbdc04a78ae1178f1a"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzphMjM4MDEyN2U5MDVlNTg0OWY5MGFjYzdjNjk4MzI4NTlkODMzNmFh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a2380127e905e5849f90acc7c69832859d8336aa",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a2380127e905e5849f90acc7c69832859d8336aa",
      "tree": {
        "sha": "a5f5e0086a2da8c4bb333efc7e53c42996ecdfff",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a5f5e0086a2da8c4bb333efc7e53c42996ecdfff"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/49487bc3b6038393c1b9c2dbdc04a78ae1178f1a",
          "sha": "49487bc3b6038393c1b9c2dbdc04a78ae1178f1a",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/49487bc3b6038393c1b9c2dbdc04a78ae1178f1a"
        }
      ],
      "message": "Basic Taproot signing logic in script/sign.cpp",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2021-06-12T19:25:28Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2021-02-28T04:33:22Z"
      },
      "sha": "a2380127e905e5849f90acc7c69832859d8336aa"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjMGYwYzhlY2NiMDRmOTA5NDAwMDdlMGM2YWFmZjU2YmYyYWIzNWI1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c0f0c8eccb04f90940007e0c6aaff56bf2ab35b5",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c0f0c8eccb04f90940007e0c6aaff56bf2ab35b5",
      "tree": {
        "sha": "6b8be3929832b53f3eca930a5b26d5a5cfb45c72",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6b8be3929832b53f3eca930a5b26d5a5cfb45c72"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a2380127e905e5849f90acc7c69832859d8336aa",
          "sha": "a2380127e905e5849f90acc7c69832859d8336aa",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a2380127e905e5849f90acc7c69832859d8336aa"
        }
      ],
      "message": "tests: check spending of P2TR",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2021-06-12T19:38:15Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2021-02-28T04:34:09Z"
      },
      "sha": "c0f0c8eccb04f90940007e0c6aaff56bf2ab35b5"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0NThhMzQ1YjA1OTBmZDJmYTA0YzdkOGQ3MGJlYjhkNTdlMzRiYmM4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "tree": {
        "sha": "61cd60377c39986ac8a66617c5d3a446c363812c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/61cd60377c39986ac8a66617c5d3a446c363812c"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c0f0c8eccb04f90940007e0c6aaff56bf2ab35b5",
          "sha": "c0f0c8eccb04f90940007e0c6aaff56bf2ab35b5",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c0f0c8eccb04f90940007e0c6aaff56bf2ab35b5"
        }
      ],
      "message": "Add support for SIGHASH_DEFAULT in RPCs, and make it default\n\nFor non-Taproot signatures, this is interpreted as SIGHASH_ALL.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2021-06-12T19:38:17Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2021-03-04T22:27:20Z"
      },
      "sha": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4881603264,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDg4MTYwMzI2NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4881603264",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-12T19:39:40Z"
    },
    {
      "event": "commented",
      "id": 860106658,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg2MDEwNjY1OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/860106658",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-12T20:47:37Z",
      "updated_at": "2021-06-12T20:47:37Z",
      "author_association": "MEMBER",
      "body": "Rebased.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-860106658",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365"
    },
    {
      "event": "unlabeled",
      "id": 4881671495,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50NDg4MTY3MTQ5NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4881671495",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-12T21:21:07Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 860934199,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg2MDkzNDE5OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/860934199",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-14T19:24:55Z",
      "updated_at": "2021-06-14T19:24:55Z",
      "author_association": "MEMBER",
      "body": "re-ACK 458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-860934199",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365"
    },
    {
      "event": "commented",
      "id": 862205352,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg2MjIwNTM1Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/862205352",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-16T09:30:15Z",
      "updated_at": "2021-06-16T09:33:24Z",
      "author_association": "MEMBER",
      "body": "I'll try to review this today. Having this feature in the signet / testnet wallet makes it easier for people to test taproot before it activates, and potentially find problems (bugs, many eyes, shallow, etc). So it seems worth merging even slightly after the feature freeze.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-862205352",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365"
    },
    {
      "event": "commented",
      "id": 862437201,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg2MjQzNzIwMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/862437201",
      "actor": {
        "login": "michaelfolkson",
        "id": 16323900,
        "node_id": "MDQ6VXNlcjE2MzIzOTAw",
        "avatar_url": "https://avatars.githubusercontent.com/u/16323900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/michaelfolkson",
        "html_url": "https://github.com/michaelfolkson",
        "followers_url": "https://api.github.com/users/michaelfolkson/followers",
        "following_url": "https://api.github.com/users/michaelfolkson/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/michaelfolkson/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/michaelfolkson/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/michaelfolkson/subscriptions",
        "organizations_url": "https://api.github.com/users/michaelfolkson/orgs",
        "repos_url": "https://api.github.com/users/michaelfolkson/repos",
        "events_url": "https://api.github.com/users/michaelfolkson/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/michaelfolkson/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-16T14:38:28Z",
      "updated_at": "2021-06-16T15:08:45Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK, Approach ACK. Updated syntax choice makes sense to me under the readability assumption that use cases that need more than say 2 levels will be rarer. Ignoring readability, the updated syntax choice seems superior due to arguments given.\r\n\r\nAgree with @Sjors on importance of getting this in for 22.0. Two weeks for any bug fixes from today should be ok and protections in place (e.g. https://github.com/bitcoin/bitcoin/pull/22156) regardless to prevent users from spending mainnet Taproot outputs pre-activation (November).",
      "user": {
        "login": "michaelfolkson",
        "id": 16323900,
        "node_id": "MDQ6VXNlcjE2MzIzOTAw",
        "avatar_url": "https://avatars.githubusercontent.com/u/16323900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/michaelfolkson",
        "html_url": "https://github.com/michaelfolkson",
        "followers_url": "https://api.github.com/users/michaelfolkson/followers",
        "following_url": "https://api.github.com/users/michaelfolkson/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/michaelfolkson/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/michaelfolkson/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/michaelfolkson/subscriptions",
        "organizations_url": "https://api.github.com/users/michaelfolkson/orgs",
        "repos_url": "https://api.github.com/users/michaelfolkson/repos",
        "events_url": "https://api.github.com/users/michaelfolkson/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/michaelfolkson/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-862437201",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365"
    },
    {
      "event": "mentioned",
      "id": 4898413197,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDg5ODQxMzE5Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4898413197",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-16T14:38:28Z"
    },
    {
      "event": "subscribed",
      "id": 4898413200,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ4OTg0MTMyMDA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4898413200",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-16T14:38:28Z"
    },
    {
      "event": "commented",
      "id": 862678656,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg2MjY3ODY1Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/862678656",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-16T20:08:54Z",
      "updated_at": "2021-06-16T20:08:54Z",
      "author_association": "MEMBER",
      "body": "Very light testing using this PR rebased onto #22260: I'm still able to spend from my `tr(xpub...)` and `tr(xpub1, pk(xpub2))` signet descriptor wallets in the GUI.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-862678656",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21365"
    },
    {
      "event": "reviewed",
      "id": 685669684,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Njg1NjY5Njg0",
      "url": null,
      "actor": null,
      "commit_id": "a2380127e905e5849f90acc7c69832859d8336aa",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Code review ACK 458a345b0590fd2fa04c7d8d70beb8d57e34bbc8\r\n\r\nI don't consider any of my comments blocking. Will test over the next days.",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#pullrequestreview-685669684",
      "submitted_at": "2021-06-17T00:49:23Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
    },
    {
      "event": "reviewed",
      "id": 686457570,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Njg2NDU3NTcw",
      "url": null,
      "actor": null,
      "commit_id": "ce9353164bdb6215a62b2b6dcb2121d331796f60",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK 458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#pullrequestreview-686457570",
      "submitted_at": "2021-06-17T18:27:29Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
    },
    {
      "event": "reviewed",
      "id": 680417837,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjgwNDE3ODM3",
      "url": null,
      "actor": null,
      "commit_id": "7e68f9eae74e4ece24201441d856e269c5ebb1cc",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "two comments",
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#pullrequestreview-680417837",
      "submitted_at": "2021-06-17T20:44:50Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
    },
    {
      "event": "merged",
      "id": 4906619216,
      "node_id": "MDExOk1lcmdlZEV2ZW50NDkwNjYxOTIxNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4906619216",
      "actor": {
        "login": "meshcollider",
        "id": 3211283,
        "node_id": "MDQ6VXNlcjMyMTEyODM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/meshcollider",
        "html_url": "https://github.com/meshcollider",
        "followers_url": "https://api.github.com/users/meshcollider/followers",
        "following_url": "https://api.github.com/users/meshcollider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/meshcollider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/meshcollider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
        "organizations_url": "https://api.github.com/users/meshcollider/orgs",
        "repos_url": "https://api.github.com/users/meshcollider/repos",
        "events_url": "https://api.github.com/users/meshcollider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/meshcollider/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "5c2e2afe990ad6e1cc8b08513fa2d853d497dace",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5c2e2afe990ad6e1cc8b08513fa2d853d497dace",
      "created_at": "2021-06-17T21:12:44Z"
    },
    {
      "event": "closed",
      "id": 4906619226,
      "node_id": "MDExOkNsb3NlZEV2ZW50NDkwNjYxOTIyNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4906619226",
      "actor": {
        "login": "meshcollider",
        "id": 3211283,
        "node_id": "MDQ6VXNlcjMyMTEyODM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/meshcollider",
        "html_url": "https://github.com/meshcollider",
        "followers_url": "https://api.github.com/users/meshcollider/followers",
        "following_url": "https://api.github.com/users/meshcollider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/meshcollider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/meshcollider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
        "organizations_url": "https://api.github.com/users/meshcollider/orgs",
        "repos_url": "https://api.github.com/users/meshcollider/repos",
        "events_url": "https://api.github.com/users/meshcollider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/meshcollider/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-17T21:12:44Z"
    },
    {
      "event": "referenced",
      "id": 4911848031,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ5MTE4NDgwMzE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4911848031",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "59b8f7b14a61d438e78ee1adb01e95abb3c8f4f7",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/59b8f7b14a61d438e78ee1adb01e95abb3c8f4f7",
      "created_at": "2021-06-18T23:13:42Z"
    },
    {
      "event": "reviewed",
      "id": 690474310,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjkwNDc0MzEw",
      "url": null,
      "actor": null,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#pullrequestreview-690474310",
      "submitted_at": "2021-06-23T10:24:13Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
    },
    {
      "event": "referenced",
      "id": 4937939788,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ5Mzc5Mzk3ODg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4937939788",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "440b3c0abe53969876c66c5c4705a261c95e06d7",
      "commit_url": "https://api.github.com/repos/hebasto/bitcoin/commits/440b3c0abe53969876c66c5c4705a261c95e06d7",
      "created_at": "2021-06-25T04:18:21Z"
    },
    {
      "event": "referenced",
      "id": 4938127629,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ5MzgxMjc2Mjk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4938127629",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "be414e99b0c893d7c5a970ace09f0ee7b8f34b7a",
      "commit_url": "https://api.github.com/repos/hebasto/bitcoin/commits/be414e99b0c893d7c5a970ace09f0ee7b8f34b7a",
      "created_at": "2021-06-25T05:41:23Z"
    },
    {
      "event": "referenced",
      "id": 4938140282,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ5MzgxNDAyODI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4938140282",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "4ffb9f4a7d8b73c4727dddec14817dee2618550b",
      "commit_url": "https://api.github.com/repos/hebasto/bitcoin/commits/4ffb9f4a7d8b73c4727dddec14817dee2618550b",
      "created_at": "2021-06-25T05:46:40Z"
    },
    {
      "event": "referenced",
      "id": 4942692668,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ5NDI2OTI2Njg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4942692668",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "9c3751a0c940228c46461c4191f1a57153cb9037",
      "commit_url": "https://api.github.com/repos/MarcoFalke/b-c/commits/9c3751a0c940228c46461c4191f1a57153cb9037",
      "created_at": "2021-06-26T08:04:20Z"
    },
    {
      "event": "referenced",
      "id": 4942770053,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ5NDI3NzAwNTM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4942770053",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "22c398f129e8679985cbeb9daec5cdbea8858d5c",
      "commit_url": "https://api.github.com/repos/hebasto/bitcoin/commits/22c398f129e8679985cbeb9daec5cdbea8858d5c",
      "created_at": "2021-06-26T09:42:41Z"
    },
    {
      "event": "referenced",
      "id": 4943436914,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ5NDM0MzY5MTQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4943436914",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "654f89678e218189ebd659ac636540463280b7f7",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/654f89678e218189ebd659ac636540463280b7f7",
      "created_at": "2021-06-27T00:53:28Z"
    },
    {
      "event": "referenced",
      "id": 5191960521,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDUxOTE5NjA1MjE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5191960521",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "e826b22da252e0599c61d21c98ff89f366b3120f",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e826b22da252e0599c61d21c98ff89f366b3120f",
      "created_at": "2021-08-23T04:25:59Z"
    },
    {
      "event": "referenced",
      "id": 5194815527,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDUxOTQ4MTU1Mjc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5194815527",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "a77514a7e9f9188de9f8a7ce0f03daee75ba94fa",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/a77514a7e9f9188de9f8a7ce0f03daee75ba94fa",
      "created_at": "2021-08-23T14:22:56Z"
    },
    {
      "event": "referenced",
      "id": 6723198724,
      "node_id": "REFE_lADOABII584xB3ObzwAAAAGQu98E",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6723198724",
      "actor": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "0afcb6d978339cb7208f38928f001bbee6d9f274",
      "commit_url": "https://api.github.com/repos/ElementsProject/elements/commits/0afcb6d978339cb7208f38928f001bbee6d9f274",
      "created_at": "2022-06-01T21:22:33Z"
    },
    {
      "event": "locked",
      "id": 7199150741,
      "node_id": "LOE_lADOABII584xB3ObzwAAAAGtGlKV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7199150741",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-16T17:24:47Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590646545",
      "pull_request_review_id": 607780648,
      "id": 590646545,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MDY0NjU0NQ==",
      "diff_hunk": "@@ -34,11 +34,11 @@ Span<const char> Expr(Span<const char>& sp)\n     int level = 0;\n     auto it = sp.begin();\n     while (it != sp.end()) {\n-        if (*it == '(') {\n+        if (*it == '(' || *it == '{') {",
      "path": "src/util/spanparsing.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "12bfa0b79e1997d55c0c9415ad000ac76eeba7b0",
      "in_reply_to_id": null,
      "user": {
        "login": "JeremyRubin",
        "id": 886523,
        "node_id": "MDQ6VXNlcjg4NjUyMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/886523?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/JeremyRubin",
        "html_url": "https://github.com/JeremyRubin",
        "followers_url": "https://api.github.com/users/JeremyRubin/followers",
        "following_url": "https://api.github.com/users/JeremyRubin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/JeremyRubin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/JeremyRubin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
        "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
        "repos_url": "https://api.github.com/users/JeremyRubin/repos",
        "events_url": "https://api.github.com/users/JeremyRubin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "don't we need to trace what type we are in if it is a paren or a {? \r\n\r\nE.g., `(}` would pass here no?",
      "created_at": "2021-03-09T19:12:11Z",
      "updated_at": "2021-03-30T01:17:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r590646545",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590646545"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 37,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590647440",
      "pull_request_review_id": 607783724,
      "id": 590647440,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MDY0NzQ0MA==",
      "diff_hunk": "@@ -34,11 +34,11 @@ Span<const char> Expr(Span<const char>& sp)\n     int level = 0;\n     auto it = sp.begin();\n     while (it != sp.end()) {\n-        if (*it == '(') {\n+        if (*it == '(' || *it == '{') {",
      "path": "src/util/spanparsing.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "12bfa0b79e1997d55c0c9415ad000ac76eeba7b0",
      "in_reply_to_id": 590646545,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "That doesn't matter. This function is just for finding the end of the current expression. If that expression is unbalanced, the actual parsing code will fail.",
      "created_at": "2021-03-09T19:13:36Z",
      "updated_at": "2021-03-30T01:17:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r590647440",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590647440"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 37,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590692235",
      "pull_request_review_id": 607928119,
      "id": 590692235,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MDY5MjIzNQ==",
      "diff_hunk": "@@ -34,11 +34,11 @@ Span<const char> Expr(Span<const char>& sp)\n     int level = 0;\n     auto it = sp.begin();\n     while (it != sp.end()) {\n-        if (*it == '(') {\n+        if (*it == '(' || *it == '{') {",
      "path": "src/util/spanparsing.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "12bfa0b79e1997d55c0c9415ad000ac76eeba7b0",
      "in_reply_to_id": 590646545,
      "user": {
        "login": "JeremyRubin",
        "id": 886523,
        "node_id": "MDQ6VXNlcjg4NjUyMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/886523?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/JeremyRubin",
        "html_url": "https://github.com/JeremyRubin",
        "followers_url": "https://api.github.com/users/JeremyRubin/followers",
        "following_url": "https://api.github.com/users/JeremyRubin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/JeremyRubin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/JeremyRubin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
        "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
        "repos_url": "https://api.github.com/users/JeremyRubin/repos",
        "events_url": "https://api.github.com/users/JeremyRubin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I see. \r\n\r\nbikeshed:\r\nI think something like this could be a little clearer:\r\n\r\n```c++\r\n// This function finds the end of the current expression and returns pair(expr_span, rest_span)\r\n// trailing comma is included in the expr_span, e.g.\r\n// `<expr A>,<expr B>` would return `<expr A>,` `<expr B>` \r\nstd::pair<Span<const char>, Span<const char>> Expr(const Span<const char>& sp)\r\n{\r\n    size_t left = 0;\r\n    size_t right = 0;\r\n    auto it = sp.begin();\r\n    while (it != sp.end()) {\r\n        switch (*it) {\r\n        case '(':\r\n        case '{':\r\n            ++left;\r\n            break;\r\n        case '}':\r\n        case ')':\r\n            ++right;\r\n            break;\r\n        }\r\n        bool balanced = right == left;\r\n        // completed a Expr by matching nonzero left/right\r\n        if (balanced && right > 0) break;\r\n        // we have a balanced term as a comma separated entity\r\n        if (balanced && *it == ',') break;\r\n        ++it;\r\n    }\r\n    return std::make_pair(sp.first(it-sp.begin), sp.subspan(it-sp.begin()));\r\n}\r\n```\r\n\r\nThat said it seem peculiar to me that `,` is left on the string -- maybe preferable to trim it here?",
      "created_at": "2021-03-09T20:22:57Z",
      "updated_at": "2021-03-30T01:17:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r590692235",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590692235"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 37,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590696727",
      "pull_request_review_id": 607943215,
      "id": 590696727,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MDY5NjcyNw==",
      "diff_hunk": "@@ -1143,36 +1143,46 @@ std::unique_ptr<DescriptorImpl> ParseScript(uint32_t& key_exp_index, Span<const\n         ++key_exp_index;\n         std::vector<std::unique_ptr<DescriptorImpl>> subscripts;\n         std::vector<int> depths;\n-        while (expr.size()) {\n+        if (expr.size()) {\n+            std::vector<bool> counts; //!< whether we already had an expression at that depth\n             if (!Const(\",\", expr)) {\n                 error = strprintf(\"tr: expected ',', got '%c'\", expr[0]);\n                 return nullptr;\n             }\n-            auto sarg = Expr(expr);\n-            auto colon = std::find(sarg.begin(), sarg.end(), ':');\n-            if (colon == sarg.end()) {\n-                error = \"tr() requires scripts with 'depth:' prefix\";\n-                return nullptr;\n-            }\n-            uint32_t depth;\n-            if (!ParseUInt32(std::string(sarg.begin(), colon), &depth)) {\n-                error = \"depth is not numeric in tr()\";\n-                return nullptr;\n-            }\n-            if (depth > TAPROOT_CONTROL_MAX_NODE_COUNT) {\n-                error = strprintf(\"depth is out of range in tr() (0 <= depth <= %i)\", TAPROOT_CONTROL_MAX_NODE_COUNT);\n-                return nullptr;\n+            while (expr.size()) {\n+                if (Const(\"{\", expr)) {\n+                    counts.push_back(false);\n+                    if (counts.size() > TAPROOT_CONTROL_MAX_NODE_COUNT) {\n+                        error = strprintf(\"tr() supports at most %i nesting levels\", TAPROOT_CONTROL_MAX_NODE_COUNT);\n+                        return nullptr;\n+                    }\n+                    continue;\n+                }\n+                auto sarg = Expr(expr);\n+                auto subdesc = ParseScript(key_exp_index, sarg, ParseScriptContext::P2TR, out, error);",
      "path": "src/script/descriptor.cpp",
      "position": null,
      "original_position": 35,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "12bfa0b79e1997d55c0c9415ad000ac76eeba7b0",
      "in_reply_to_id": null,
      "user": {
        "login": "JeremyRubin",
        "id": 886523,
        "node_id": "MDQ6VXNlcjg4NjUyMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/886523?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/JeremyRubin",
        "html_url": "https://github.com/JeremyRubin",
        "followers_url": "https://api.github.com/users/JeremyRubin/followers",
        "following_url": "https://api.github.com/users/JeremyRubin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/JeremyRubin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/JeremyRubin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
        "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
        "repos_url": "https://api.github.com/users/JeremyRubin/repos",
        "events_url": "https://api.github.com/users/JeremyRubin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "you could directly emplace_back the subdesc and then nullcheck/return nullptr, rather than needing to std::move it.",
      "created_at": "2021-03-09T20:29:56Z",
      "updated_at": "2021-03-30T01:17:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r590696727",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590696727"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1162,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590700864",
      "pull_request_review_id": 607957463,
      "id": 590700864,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MDcwMDg2NA==",
      "diff_hunk": "@@ -1143,36 +1143,46 @@ std::unique_ptr<DescriptorImpl> ParseScript(uint32_t& key_exp_index, Span<const\n         ++key_exp_index;\n         std::vector<std::unique_ptr<DescriptorImpl>> subscripts;\n         std::vector<int> depths;\n-        while (expr.size()) {\n+        if (expr.size()) {\n+            std::vector<bool> counts; //!< whether we already had an expression at that depth\n             if (!Const(\",\", expr)) {\n                 error = strprintf(\"tr: expected ',', got '%c'\", expr[0]);\n                 return nullptr;\n             }\n-            auto sarg = Expr(expr);\n-            auto colon = std::find(sarg.begin(), sarg.end(), ':');\n-            if (colon == sarg.end()) {\n-                error = \"tr() requires scripts with 'depth:' prefix\";\n-                return nullptr;\n-            }\n-            uint32_t depth;\n-            if (!ParseUInt32(std::string(sarg.begin(), colon), &depth)) {\n-                error = \"depth is not numeric in tr()\";\n-                return nullptr;\n-            }\n-            if (depth > TAPROOT_CONTROL_MAX_NODE_COUNT) {\n-                error = strprintf(\"depth is out of range in tr() (0 <= depth <= %i)\", TAPROOT_CONTROL_MAX_NODE_COUNT);\n-                return nullptr;\n+            while (expr.size()) {\n+                if (Const(\"{\", expr)) {\n+                    counts.push_back(false);\n+                    if (counts.size() > TAPROOT_CONTROL_MAX_NODE_COUNT) {\n+                        error = strprintf(\"tr() supports at most %i nesting levels\", TAPROOT_CONTROL_MAX_NODE_COUNT);\n+                        return nullptr;\n+                    }\n+                    continue;\n+                }\n+                auto sarg = Expr(expr);\n+                auto subdesc = ParseScript(key_exp_index, sarg, ParseScriptContext::P2TR, out, error);\n+                if (!subdesc) return nullptr;\n+                depths.push_back(counts.size());\n+                subscripts.push_back(std::move(subdesc));\n+                while (counts.size() && counts.back()) {\n+                    if (!Const(\"}\", expr)) {\n+                        error = strprintf(\"tr(): expected '}' after script expression\");\n+                        return nullptr;\n+                    }\n+                    counts.pop_back();\n+                }\n+                if (counts.size()) {",
      "path": "src/script/descriptor.cpp",
      "position": null,
      "original_position": 46,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "12bfa0b79e1997d55c0c9415ad000ac76eeba7b0",
      "in_reply_to_id": null,
      "user": {
        "login": "JeremyRubin",
        "id": 886523,
        "node_id": "MDQ6VXNlcjg4NjUyMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/886523?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/JeremyRubin",
        "html_url": "https://github.com/JeremyRubin",
        "followers_url": "https://api.github.com/users/JeremyRubin/followers",
        "following_url": "https://api.github.com/users/JeremyRubin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/JeremyRubin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/JeremyRubin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
        "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
        "repos_url": "https://api.github.com/users/JeremyRubin/repos",
        "events_url": "https://api.github.com/users/JeremyRubin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Behavior Note:\r\n\r\nI believe this would be more robust to go before the while loop -- it shouldn't come up, because we're in a binary tree maybe -- but it would be better to explicitly check:\r\n```c++\r\nif (counts.size() && counts.back() == false) \r\n```\r\nor something like\r\n```c++\r\nif (counts.size() && counts.back() <= 2)\r\n```\r\n\r\nif we want to limit how many terms in a nest are allowed.\r\n\r\nright now this invariant is implicitly checked by the order of the code and it is non-obvious to me.",
      "created_at": "2021-03-09T20:36:30Z",
      "updated_at": "2021-03-30T01:17:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r590700864",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590700864"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1173,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590707050",
      "pull_request_review_id": 607980027,
      "id": 590707050,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MDcwNzA1MA==",
      "diff_hunk": "@@ -829,6 +839,45 @@ class WSHDescriptor final : public DescriptorImpl\n     bool IsSingleType() const final { return true; }\n };\n \n+/** A parsed tr(...) descriptor. */\n+class TRDescriptor final : public DescriptorImpl\n+{\n+    std::vector<int> m_depths;\n+protected:\n+    std::vector<CScript> MakeScripts(const std::vector<CPubKey>& keys, Span<const CScript> scripts, FlatSigningProvider& out) const override\n+    {\n+        TaprootBuilder builder;\n+        assert(m_depths.size() == scripts.size());\n+        for (size_t pos = 0; pos < m_depths.size(); ++pos) {\n+            builder.Add(m_depths[pos], scripts[pos], TAPROOT_LEAF_TAPSCRIPT);",
      "path": "src/script/descriptor.cpp",
      "position": null,
      "original_position": 37,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "d5a0dce8fe40153b07ec6e882e8b1568b05e3905",
      "in_reply_to_id": null,
      "user": {
        "login": "JeremyRubin",
        "id": 886523,
        "node_id": "MDQ6VXNlcjg4NjUyMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/886523?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/JeremyRubin",
        "html_url": "https://github.com/JeremyRubin",
        "followers_url": "https://api.github.com/users/JeremyRubin/followers",
        "following_url": "https://api.github.com/users/JeremyRubin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/JeremyRubin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/JeremyRubin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
        "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
        "repos_url": "https://api.github.com/users/JeremyRubin/repos",
        "events_url": "https://api.github.com/users/JeremyRubin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "given that this is just iterating in order, it seems like we should be able to directly feed the TaprootBuilder from the tr parsing code and do away with the intermediate vectors?",
      "created_at": "2021-03-09T20:46:40Z",
      "updated_at": "2021-03-30T01:17:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r590707050",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590707050"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 839,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590707883",
      "pull_request_review_id": 607982761,
      "id": 590707883,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MDcwNzg4Mw==",
      "diff_hunk": "@@ -829,6 +839,45 @@ class WSHDescriptor final : public DescriptorImpl\n     bool IsSingleType() const final { return true; }\n };\n \n+/** A parsed tr(...) descriptor. */\n+class TRDescriptor final : public DescriptorImpl\n+{\n+    std::vector<int> m_depths;\n+protected:\n+    std::vector<CScript> MakeScripts(const std::vector<CPubKey>& keys, Span<const CScript> scripts, FlatSigningProvider& out) const override\n+    {\n+        TaprootBuilder builder;\n+        assert(m_depths.size() == scripts.size());\n+        for (size_t pos = 0; pos < m_depths.size(); ++pos) {\n+            builder.Add(m_depths[pos], scripts[pos], TAPROOT_LEAF_TAPSCRIPT);",
      "path": "src/script/descriptor.cpp",
      "position": null,
      "original_position": 37,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "d5a0dce8fe40153b07ec6e882e8b1568b05e3905",
      "in_reply_to_id": 590707050,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "No, unfortunately this happens at a different layers. TaprootBuilder can only be invoked with concrete keys; those don't exist yet at parsing time.",
      "created_at": "2021-03-09T20:47:54Z",
      "updated_at": "2021-03-30T01:17:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r590707883",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590707883"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 839,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590710550",
      "pull_request_review_id": 607991740,
      "id": 590710550,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MDcxMDU1MA==",
      "diff_hunk": "@@ -829,6 +839,45 @@ class WSHDescriptor final : public DescriptorImpl\n     bool IsSingleType() const final { return true; }\n };\n \n+/** A parsed tr(...) descriptor. */\n+class TRDescriptor final : public DescriptorImpl\n+{\n+    std::vector<int> m_depths;\n+protected:\n+    std::vector<CScript> MakeScripts(const std::vector<CPubKey>& keys, Span<const CScript> scripts, FlatSigningProvider& out) const override\n+    {\n+        TaprootBuilder builder;\n+        assert(m_depths.size() == scripts.size());\n+        for (size_t pos = 0; pos < m_depths.size(); ++pos) {\n+            builder.Add(m_depths[pos], scripts[pos], TAPROOT_LEAF_TAPSCRIPT);",
      "path": "src/script/descriptor.cpp",
      "position": null,
      "original_position": 37,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "d5a0dce8fe40153b07ec6e882e8b1568b05e3905",
      "in_reply_to_id": 590707050,
      "user": {
        "login": "JeremyRubin",
        "id": 886523,
        "node_id": "MDQ6VXNlcjg4NjUyMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/886523?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/JeremyRubin",
        "html_url": "https://github.com/JeremyRubin",
        "followers_url": "https://api.github.com/users/JeremyRubin/followers",
        "following_url": "https://api.github.com/users/JeremyRubin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/JeremyRubin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/JeremyRubin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
        "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
        "repos_url": "https://api.github.com/users/JeremyRubin/repos",
        "events_url": "https://api.github.com/users/JeremyRubin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I see :(\r\n\r\nI guess I'll mark it as a personal todo (no need to upset a working internal representation) to brainstorm if there's a more obvious way to represent the tree than the ordered depth annotations (even though it's equivalent and unambiguous, I still find it unintuitive)",
      "created_at": "2021-03-09T20:52:03Z",
      "updated_at": "2021-03-30T01:17:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r590710550",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590710550"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 839,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590718707",
      "pull_request_review_id": 608020754,
      "id": 590718707,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MDcxODcwNw==",
      "diff_hunk": "@@ -829,6 +839,45 @@ class WSHDescriptor final : public DescriptorImpl\n     bool IsSingleType() const final { return true; }\n };\n \n+/** A parsed tr(...) descriptor. */\n+class TRDescriptor final : public DescriptorImpl\n+{\n+    std::vector<int> m_depths;\n+protected:\n+    std::vector<CScript> MakeScripts(const std::vector<CPubKey>& keys, Span<const CScript> scripts, FlatSigningProvider& out) const override\n+    {\n+        TaprootBuilder builder;\n+        assert(m_depths.size() == scripts.size());\n+        for (size_t pos = 0; pos < m_depths.size(); ++pos) {\n+            builder.Add(m_depths[pos], scripts[pos], TAPROOT_LEAF_TAPSCRIPT);",
      "path": "src/script/descriptor.cpp",
      "position": null,
      "original_position": 37,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "d5a0dce8fe40153b07ec6e882e8b1568b05e3905",
      "in_reply_to_id": 590707050,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I like linear data structures that don't need recursion to process, when unnecessary.",
      "created_at": "2021-03-09T21:05:25Z",
      "updated_at": "2021-03-30T01:17:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r590718707",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590718707"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 839,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590870801",
      "pull_request_review_id": 608235359,
      "id": 590870801,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MDg3MDgwMQ==",
      "diff_hunk": "@@ -829,6 +839,45 @@ class WSHDescriptor final : public DescriptorImpl\n     bool IsSingleType() const final { return true; }\n };\n \n+/** A parsed tr(...) descriptor. */\n+class TRDescriptor final : public DescriptorImpl\n+{\n+    std::vector<int> m_depths;\n+protected:\n+    std::vector<CScript> MakeScripts(const std::vector<CPubKey>& keys, Span<const CScript> scripts, FlatSigningProvider& out) const override\n+    {\n+        TaprootBuilder builder;\n+        assert(m_depths.size() == scripts.size());\n+        for (size_t pos = 0; pos < m_depths.size(); ++pos) {\n+            builder.Add(m_depths[pos], scripts[pos], TAPROOT_LEAF_TAPSCRIPT);",
      "path": "src/script/descriptor.cpp",
      "position": null,
      "original_position": 37,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "d5a0dce8fe40153b07ec6e882e8b1568b05e3905",
      "in_reply_to_id": 590707050,
      "user": {
        "login": "JeremyRubin",
        "id": 886523,
        "node_id": "MDQ6VXNlcjg4NjUyMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/886523?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/JeremyRubin",
        "html_url": "https://github.com/JeremyRubin",
        "followers_url": "https://api.github.com/users/JeremyRubin/followers",
        "following_url": "https://api.github.com/users/JeremyRubin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/JeremyRubin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/JeremyRubin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
        "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
        "repos_url": "https://api.github.com/users/JeremyRubin/repos",
        "events_url": "https://api.github.com/users/JeremyRubin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yeah, I agree with that 100%. What I was thinking was a vec<uint128> where each bit represents a left/right on the tree. That way you can do a de-duplicate check to make sure each node is only occupied once. Then the order of the vec itself is no longer significant; it should not need to be preserved because you can sort them by value (if I'm not wrong) to get the insertion order. Depth could be computed by looking at your nearest neighbor and computing the \"divergence\" (or by encoding an extra byte to make it explicit -- unclear what is best here). \r\n\r\nWith a sorted vec, this also enables some nicesties such as using std:: binary searches for O(log(n)) lookup by tree position.",
      "created_at": "2021-03-10T00:41:34Z",
      "updated_at": "2021-03-30T01:17:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r590870801",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590870801"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 839,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590889090",
      "pull_request_review_id": 608247096,
      "id": 590889090,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MDg4OTA5MA==",
      "diff_hunk": "@@ -829,6 +839,45 @@ class WSHDescriptor final : public DescriptorImpl\n     bool IsSingleType() const final { return true; }\n };\n \n+/** A parsed tr(...) descriptor. */\n+class TRDescriptor final : public DescriptorImpl\n+{\n+    std::vector<int> m_depths;\n+protected:\n+    std::vector<CScript> MakeScripts(const std::vector<CPubKey>& keys, Span<const CScript> scripts, FlatSigningProvider& out) const override\n+    {\n+        TaprootBuilder builder;\n+        assert(m_depths.size() == scripts.size());\n+        for (size_t pos = 0; pos < m_depths.size(); ++pos) {\n+            builder.Add(m_depths[pos], scripts[pos], TAPROOT_LEAF_TAPSCRIPT);",
      "path": "src/script/descriptor.cpp",
      "position": null,
      "original_position": 37,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "d5a0dce8fe40153b07ec6e882e8b1568b05e3905",
      "in_reply_to_id": 590707050,
      "user": {
        "login": "JeremyRubin",
        "id": 886523,
        "node_id": "MDQ6VXNlcjg4NjUyMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/886523?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/JeremyRubin",
        "html_url": "https://github.com/JeremyRubin",
        "followers_url": "https://api.github.com/users/JeremyRubin/followers",
        "following_url": "https://api.github.com/users/JeremyRubin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/JeremyRubin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/JeremyRubin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
        "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
        "repos_url": "https://api.github.com/users/JeremyRubin/repos",
        "events_url": "https://api.github.com/users/JeremyRubin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "@roconnor-blockstream may also like that this format should be:\r\n1. concatenative, where concat has operations that are O(n)\r\n    - merge sort then either deduplicate check or run through and add an appropriate offset to branches\r\n 2.  \"normalizable\" (shifting things down to the smallest next number) and \"prefixable\" (adding a constant to all numbers to preserve structure.\r\n ",
      "created_at": "2021-03-10T01:08:42Z",
      "updated_at": "2021-03-30T01:17:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r590889090",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590889090"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 839,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590892912",
      "pull_request_review_id": 608249733,
      "id": 590892912,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MDg5MjkxMg==",
      "diff_hunk": "@@ -829,6 +839,45 @@ class WSHDescriptor final : public DescriptorImpl\n     bool IsSingleType() const final { return true; }\n };\n \n+/** A parsed tr(...) descriptor. */\n+class TRDescriptor final : public DescriptorImpl\n+{\n+    std::vector<int> m_depths;\n+protected:\n+    std::vector<CScript> MakeScripts(const std::vector<CPubKey>& keys, Span<const CScript> scripts, FlatSigningProvider& out) const override\n+    {\n+        TaprootBuilder builder;\n+        assert(m_depths.size() == scripts.size());\n+        for (size_t pos = 0; pos < m_depths.size(); ++pos) {\n+            builder.Add(m_depths[pos], scripts[pos], TAPROOT_LEAF_TAPSCRIPT);",
      "path": "src/script/descriptor.cpp",
      "position": null,
      "original_position": 37,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "d5a0dce8fe40153b07ec6e882e8b1568b05e3905",
      "in_reply_to_id": 590707050,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why do the properties of this internal, temporary, data structure that purely used during the construction of a scriptPubKey matter? It does what it is supposed to do. If we ever need other operations on it, something else can be considered.",
      "created_at": "2021-03-10T01:14:59Z",
      "updated_at": "2021-03-30T01:17:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r590892912",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590892912"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 839,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/591123497",
      "pull_request_review_id": 608380606,
      "id": 591123497,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MTEyMzQ5Nw==",
      "diff_hunk": "@@ -829,6 +839,45 @@ class WSHDescriptor final : public DescriptorImpl\n     bool IsSingleType() const final { return true; }\n };\n \n+/** A parsed tr(...) descriptor. */\n+class TRDescriptor final : public DescriptorImpl\n+{\n+    std::vector<int> m_depths;\n+protected:\n+    std::vector<CScript> MakeScripts(const std::vector<CPubKey>& keys, Span<const CScript> scripts, FlatSigningProvider& out) const override\n+    {\n+        TaprootBuilder builder;\n+        assert(m_depths.size() == scripts.size());\n+        for (size_t pos = 0; pos < m_depths.size(); ++pos) {\n+            builder.Add(m_depths[pos], scripts[pos], TAPROOT_LEAF_TAPSCRIPT);",
      "path": "src/script/descriptor.cpp",
      "position": null,
      "original_position": 37,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "d5a0dce8fe40153b07ec6e882e8b1568b05e3905",
      "in_reply_to_id": 590707050,
      "user": {
        "login": "JeremyRubin",
        "id": 886523,
        "node_id": "MDQ6VXNlcjg4NjUyMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/886523?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/JeremyRubin",
        "html_url": "https://github.com/JeremyRubin",
        "followers_url": "https://api.github.com/users/JeremyRubin/followers",
        "following_url": "https://api.github.com/users/JeremyRubin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/JeremyRubin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/JeremyRubin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
        "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
        "repos_url": "https://api.github.com/users/JeremyRubin/repos",
        "events_url": "https://api.github.com/users/JeremyRubin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I find the code really hard to understand. Conceivably if we want people to review/audit it, a conceptually simpler representation & set of algorithms should be easier to understand? The above suggestion may or may not be it, but I haven't been able to fully work out how the algorithms this PR is currently using work even after staring at them for a bit.\r\n\r\nthe properties matter less.",
      "created_at": "2021-03-10T06:54:15Z",
      "updated_at": "2021-03-30T01:17:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r591123497",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/591123497"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 839,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/591138116",
      "pull_request_review_id": 608390585,
      "id": 591138116,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MTEzODExNg==",
      "diff_hunk": "@@ -829,6 +839,45 @@ class WSHDescriptor final : public DescriptorImpl\n     bool IsSingleType() const final { return true; }\n };\n \n+/** A parsed tr(...) descriptor. */\n+class TRDescriptor final : public DescriptorImpl\n+{\n+    std::vector<int> m_depths;\n+protected:\n+    std::vector<CScript> MakeScripts(const std::vector<CPubKey>& keys, Span<const CScript> scripts, FlatSigningProvider& out) const override\n+    {\n+        TaprootBuilder builder;\n+        assert(m_depths.size() == scripts.size());\n+        for (size_t pos = 0; pos < m_depths.size(); ++pos) {\n+            builder.Add(m_depths[pos], scripts[pos], TAPROOT_LEAF_TAPSCRIPT);",
      "path": "src/script/descriptor.cpp",
      "position": null,
      "original_position": 37,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "d5a0dce8fe40153b07ec6e882e8b1568b05e3905",
      "in_reply_to_id": 590707050,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'll try to add more comments.",
      "created_at": "2021-03-10T07:12:49Z",
      "updated_at": "2021-03-30T01:17:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r591138116",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/591138116"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 839,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/592082640",
      "pull_request_review_id": 609412406,
      "id": 592082640,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MjA4MjY0MA==",
      "diff_hunk": "@@ -886,6 +936,13 @@ std::unique_ptr<PubkeyProvider> ParsePubkeyInner(uint32_t key_exp_index, const S\n                     error = \"Uncompressed keys are not allowed\";\n                     return nullptr;\n                 }\n+            } else if (data.size() == 32 && ctx == ParseScriptContext::P2TR) {\n+                unsigned char fullkey[33] = {0x02};\n+                std::copy(data.begin(), data.end(), fullkey + 1);\n+                pubkey.Set(std::begin(fullkey), std::end(fullkey));\n+                if (pubkey.IsFullyValid()) {\n+                    return MakeUnique<ConstPubkeyProvider>(key_exp_index, pubkey);",
      "path": "src/script/descriptor.cpp",
      "position": null,
      "original_position": 86,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "d5a0dce8fe40153b07ec6e882e8b1568b05e3905",
      "in_reply_to_id": null,
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: in d5a0dce8fe40153b07ec6e882e8b1568b05e3905: we can use `std::make_unique` in new code.",
      "created_at": "2021-03-11T05:48:46Z",
      "updated_at": "2021-03-30T01:17:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r592082640",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/592082640"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 944,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/592738143",
      "pull_request_review_id": 610245177,
      "id": 592738143,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MjczODE0Mw==",
      "diff_hunk": "@@ -34,11 +34,11 @@ Span<const char> Expr(Span<const char>& sp)\n     int level = 0;\n     auto it = sp.begin();\n     while (it != sp.end()) {\n-        if (*it == '(') {\n+        if (*it == '(' || *it == '{') {",
      "path": "src/util/spanparsing.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "12bfa0b79e1997d55c0c9415ad000ac76eeba7b0",
      "in_reply_to_id": 590646545,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "That's how the current span-based parsing works. I think discussions about improvements to that are interesting but out of scope for this PR.",
      "created_at": "2021-03-11T21:34:35Z",
      "updated_at": "2021-03-30T01:17:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r592738143",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/592738143"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 37,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/592825162",
      "pull_request_review_id": 610354035,
      "id": 592825162,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MjgyNTE2Mg==",
      "diff_hunk": "@@ -1143,36 +1143,46 @@ std::unique_ptr<DescriptorImpl> ParseScript(uint32_t& key_exp_index, Span<const\n         ++key_exp_index;\n         std::vector<std::unique_ptr<DescriptorImpl>> subscripts;\n         std::vector<int> depths;\n-        while (expr.size()) {\n+        if (expr.size()) {\n+            std::vector<bool> counts; //!< whether we already had an expression at that depth\n             if (!Const(\",\", expr)) {\n                 error = strprintf(\"tr: expected ',', got '%c'\", expr[0]);\n                 return nullptr;\n             }\n-            auto sarg = Expr(expr);\n-            auto colon = std::find(sarg.begin(), sarg.end(), ':');\n-            if (colon == sarg.end()) {\n-                error = \"tr() requires scripts with 'depth:' prefix\";\n-                return nullptr;\n-            }\n-            uint32_t depth;\n-            if (!ParseUInt32(std::string(sarg.begin(), colon), &depth)) {\n-                error = \"depth is not numeric in tr()\";\n-                return nullptr;\n-            }\n-            if (depth > TAPROOT_CONTROL_MAX_NODE_COUNT) {\n-                error = strprintf(\"depth is out of range in tr() (0 <= depth <= %i)\", TAPROOT_CONTROL_MAX_NODE_COUNT);\n-                return nullptr;\n+            while (expr.size()) {\n+                if (Const(\"{\", expr)) {\n+                    counts.push_back(false);\n+                    if (counts.size() > TAPROOT_CONTROL_MAX_NODE_COUNT) {\n+                        error = strprintf(\"tr() supports at most %i nesting levels\", TAPROOT_CONTROL_MAX_NODE_COUNT);\n+                        return nullptr;\n+                    }\n+                    continue;\n+                }\n+                auto sarg = Expr(expr);\n+                auto subdesc = ParseScript(key_exp_index, sarg, ParseScriptContext::P2TR, out, error);\n+                if (!subdesc) return nullptr;\n+                depths.push_back(counts.size());\n+                subscripts.push_back(std::move(subdesc));\n+                while (counts.size() && counts.back()) {\n+                    if (!Const(\"}\", expr)) {\n+                        error = strprintf(\"tr(): expected '}' after script expression\");\n+                        return nullptr;\n+                    }\n+                    counts.pop_back();\n+                }\n+                if (counts.size()) {",
      "path": "src/script/descriptor.cpp",
      "position": null,
      "original_position": 46,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "12bfa0b79e1997d55c0c9415ad000ac76eeba7b0",
      "in_reply_to_id": 590700864,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I've restructured things a bit, and added a bunch of comments. Does this look better?",
      "created_at": "2021-03-12T00:26:15Z",
      "updated_at": "2021-03-30T01:17:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r592825162",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/592825162"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1173,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/592825332",
      "pull_request_review_id": 610354234,
      "id": 592825332,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MjgyNTMzMg==",
      "diff_hunk": "@@ -829,6 +839,45 @@ class WSHDescriptor final : public DescriptorImpl\n     bool IsSingleType() const final { return true; }\n };\n \n+/** A parsed tr(...) descriptor. */\n+class TRDescriptor final : public DescriptorImpl\n+{\n+    std::vector<int> m_depths;\n+protected:\n+    std::vector<CScript> MakeScripts(const std::vector<CPubKey>& keys, Span<const CScript> scripts, FlatSigningProvider& out) const override\n+    {\n+        TaprootBuilder builder;\n+        assert(m_depths.size() == scripts.size());\n+        for (size_t pos = 0; pos < m_depths.size(); ++pos) {\n+            builder.Add(m_depths[pos], scripts[pos], TAPROOT_LEAF_TAPSCRIPT);",
      "path": "src/script/descriptor.cpp",
      "position": null,
      "original_position": 37,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "d5a0dce8fe40153b07ec6e882e8b1568b05e3905",
      "in_reply_to_id": 590707050,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Added a big comment explaining the data structure in script/standard.h. WDYT?",
      "created_at": "2021-03-12T00:26:42Z",
      "updated_at": "2021-03-30T01:17:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r592825332",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/592825332"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 839,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/592825367",
      "pull_request_review_id": 610354279,
      "id": 592825367,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MjgyNTM2Nw==",
      "diff_hunk": "@@ -886,6 +936,13 @@ std::unique_ptr<PubkeyProvider> ParsePubkeyInner(uint32_t key_exp_index, const S\n                     error = \"Uncompressed keys are not allowed\";\n                     return nullptr;\n                 }\n+            } else if (data.size() == 32 && ctx == ParseScriptContext::P2TR) {\n+                unsigned char fullkey[33] = {0x02};\n+                std::copy(data.begin(), data.end(), fullkey + 1);\n+                pubkey.Set(std::begin(fullkey), std::end(fullkey));\n+                if (pubkey.IsFullyValid()) {\n+                    return MakeUnique<ConstPubkeyProvider>(key_exp_index, pubkey);",
      "path": "src/script/descriptor.cpp",
      "position": null,
      "original_position": 86,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "d5a0dce8fe40153b07ec6e882e8b1568b05e3905",
      "in_reply_to_id": 592082640,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2021-03-12T00:26:48Z",
      "updated_at": "2021-03-30T01:17:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r592825367",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/592825367"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 944,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/592825770",
      "pull_request_review_id": 610354693,
      "id": 592825770,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MjgyNTc3MA==",
      "diff_hunk": "@@ -1143,36 +1143,46 @@ std::unique_ptr<DescriptorImpl> ParseScript(uint32_t& key_exp_index, Span<const\n         ++key_exp_index;\n         std::vector<std::unique_ptr<DescriptorImpl>> subscripts;\n         std::vector<int> depths;\n-        while (expr.size()) {\n+        if (expr.size()) {\n+            std::vector<bool> counts; //!< whether we already had an expression at that depth\n             if (!Const(\",\", expr)) {\n                 error = strprintf(\"tr: expected ',', got '%c'\", expr[0]);\n                 return nullptr;\n             }\n-            auto sarg = Expr(expr);\n-            auto colon = std::find(sarg.begin(), sarg.end(), ':');\n-            if (colon == sarg.end()) {\n-                error = \"tr() requires scripts with 'depth:' prefix\";\n-                return nullptr;\n-            }\n-            uint32_t depth;\n-            if (!ParseUInt32(std::string(sarg.begin(), colon), &depth)) {\n-                error = \"depth is not numeric in tr()\";\n-                return nullptr;\n-            }\n-            if (depth > TAPROOT_CONTROL_MAX_NODE_COUNT) {\n-                error = strprintf(\"depth is out of range in tr() (0 <= depth <= %i)\", TAPROOT_CONTROL_MAX_NODE_COUNT);\n-                return nullptr;\n+            while (expr.size()) {\n+                if (Const(\"{\", expr)) {\n+                    counts.push_back(false);\n+                    if (counts.size() > TAPROOT_CONTROL_MAX_NODE_COUNT) {\n+                        error = strprintf(\"tr() supports at most %i nesting levels\", TAPROOT_CONTROL_MAX_NODE_COUNT);\n+                        return nullptr;\n+                    }\n+                    continue;\n+                }\n+                auto sarg = Expr(expr);\n+                auto subdesc = ParseScript(key_exp_index, sarg, ParseScriptContext::P2TR, out, error);",
      "path": "src/script/descriptor.cpp",
      "position": null,
      "original_position": 35,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "12bfa0b79e1997d55c0c9415ad000ac76eeba7b0",
      "in_reply_to_id": 590696727,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2021-03-12T00:27:43Z",
      "updated_at": "2021-03-30T01:17:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r592825770",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/592825770"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1162,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/593043201",
      "pull_request_review_id": 610614777,
      "id": 593043201,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MzA0MzIwMQ==",
      "diff_hunk": "@@ -80,12 +83,17 @@ Descriptors consist of several types of expressions. The top level expression is\n - Followed by the actual key, which is either:\n   - Hex encoded public keys (either 66 characters starting with `02` or `03` for a compressed pubkey, or 130 characters starting with `04` for an uncompressed pubkey).\n     - Inside `wpkh` and `wsh`, only compressed public keys are permitted.\n+    - Inside `tr`, x-only pubkeys are also permitted (64 hex characters).\n   - [WIF](https://en.bitcoin.it/wiki/Wallet_import_format) encoded private keys may be specified instead of the corresponding public key, with the same meaning.\n   - `xpub` encoded extended public key or `xprv` encoded extended private key (as defined in [BIP 32](https://github.com/bitcoin/bips/blob/master/bip-0032.mediawiki)).\n     - Followed by zero or more `/NUM` unhardened and `/NUM'` hardened BIP32 derivation steps.\n     - Optionally followed by a single `/*` or `/*'` final step to denote all (direct) unhardened or hardened children.\n     - The usage of hardened derivation steps requires providing the private key.\n \n+`TREE` expressions:\n+- any `SCRIPT` expression\n+- An open brace `{`, a `TREE` expression, a comma `,`, a `TREE` expression, and a closing brace `}`",
      "path": "doc/descriptors.md",
      "position": null,
      "original_position": 49,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "ee7b9831ad2faefb49347f00053269a227423b23",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "So this means you can do, `tr(KEY,{A})`, `tr(KEY,{A,B})`, `tr(KEY,{A,{B,C}})`, etc? So a `TREE` must have two elements, unless it's at the top?\r\n\r\nMaybe also point out that some taproot features have yet to be implemented, so the only script you can put in a `TREE` element is `pk(KEY)`.",
      "created_at": "2021-03-12T09:49:27Z",
      "updated_at": "2021-03-30T01:17:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r593043201",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/593043201"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 95,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/593313134",
      "pull_request_review_id": 610969991,
      "id": 593313134,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MzMxMzEzNA==",
      "diff_hunk": "@@ -80,12 +83,17 @@ Descriptors consist of several types of expressions. The top level expression is\n - Followed by the actual key, which is either:\n   - Hex encoded public keys (either 66 characters starting with `02` or `03` for a compressed pubkey, or 130 characters starting with `04` for an uncompressed pubkey).\n     - Inside `wpkh` and `wsh`, only compressed public keys are permitted.\n+    - Inside `tr`, x-only pubkeys are also permitted (64 hex characters).\n   - [WIF](https://en.bitcoin.it/wiki/Wallet_import_format) encoded private keys may be specified instead of the corresponding public key, with the same meaning.\n   - `xpub` encoded extended public key or `xprv` encoded extended private key (as defined in [BIP 32](https://github.com/bitcoin/bips/blob/master/bip-0032.mediawiki)).\n     - Followed by zero or more `/NUM` unhardened and `/NUM'` hardened BIP32 derivation steps.\n     - Optionally followed by a single `/*` or `/*'` final step to denote all (direct) unhardened or hardened children.\n     - The usage of hardened derivation steps requires providing the private key.\n \n+`TREE` expressions:\n+- any `SCRIPT` expression\n+- An open brace `{`, a `TREE` expression, a comma `,`, a `TREE` expression, and a closing brace `}`",
      "path": "doc/descriptors.md",
      "position": null,
      "original_position": 49,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "ee7b9831ad2faefb49347f00053269a227423b23",
      "in_reply_to_id": 593043201,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "No, `{A}` is not a valid TREE. `A` is.\n\nSo you'd use `tr(KEY,A)` but `tr(KEY,{A,B})`. There is nothing special about the top level.",
      "created_at": "2021-03-12T16:46:05Z",
      "updated_at": "2021-03-30T01:17:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r593313134",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/593313134"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 95,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/594694587",
      "pull_request_review_id": 612656927,
      "id": 594694587,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5NDY5NDU4Nw==",
      "diff_hunk": "@@ -817,6 +827,45 @@ class WSHDescriptor final : public DescriptorImpl\n     bool IsSingleType() const final { return true; }\n };\n \n+/** A parsed tr(...) descriptor. */\n+class TRDescriptor final : public DescriptorImpl\n+{\n+    std::vector<int> m_depths;\n+protected:\n+    std::vector<CScript> MakeScripts(const std::vector<CPubKey>& keys, Span<const CScript> scripts, FlatSigningProvider& out) const override\n+    {\n+        TaprootBuilder builder;\n+        assert(m_depths.size() == scripts.size());\n+        for (size_t pos = 0; pos < m_depths.size(); ++pos) {\n+            builder.Add(m_depths[pos], scripts[pos], TAPROOT_LEAF_TAPSCRIPT);\n+        }\n+        if (!builder.IsComplete()) return {};\n+        assert(keys.size() == 1);\n+        XOnlyPubKey xpk(keys[0]);\n+        if (!xpk.IsFullyValid()) return {};\n+        builder.Finalize(xpk);\n+        return Vector(GetScriptForDestination(builder.GetOutput()));\n+    }\n+    bool ToStringSubScriptHelper(const SigningProvider* arg, std::string& ret, bool priv, bool normalized, size_t&) const override\n+    {\n+        for (size_t pos = 0; pos < m_depths.size(); ++pos) {\n+            ret += strprintf(\",%i:\", m_depths[pos]);\n+            std::string tmp;\n+            if (!m_subdescriptor_args[pos]->ToStringHelper(arg, tmp, priv, normalized)) return false;\n+            ret += std::move(tmp);",
      "path": "src/script/descriptor.cpp",
      "position": null,
      "original_position": 52,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "8aaa61bfb7590e95eb7ca5106dfe3561f1c7a7c8",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit 8aaa61bfb7590e95eb7ca5106dfe3561f1c7a7c8 \"Add tr() descriptor (derivation only, no signing)\"\r\n\r\nThis looks like the original syntax and not the syntax with the braces.\r\n\r\nSince this function is used as part of writing the descriptor to the wallet, any wallet containing a descriptor with scripts will currently have an invalid descriptor and cannot be loaded again.",
      "created_at": "2021-03-15T21:25:58Z",
      "updated_at": "2021-03-30T01:17:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r594694587",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/594694587"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 862,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/594695684",
      "pull_request_review_id": 612656927,
      "id": 594695684,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5NDY5NTY4NA==",
      "diff_hunk": "@@ -696,10 +696,20 @@ class RawDescriptor final : public DescriptorImpl\n /** A parsed pk(P) descriptor. */\n class PKDescriptor final : public DescriptorImpl\n {\n+private:\n+    const bool m_xonly;\n protected:\n-    std::vector<CScript> MakeScripts(const std::vector<CPubKey>& keys, Span<const CScript>, FlatSigningProvider&) const override { return Vector(GetScriptForRawPubKey(keys[0])); }\n+    std::vector<CScript> MakeScripts(const std::vector<CPubKey>& keys, Span<const CScript>, FlatSigningProvider&) const override\n+    {\n+        if (m_xonly) {\n+            CScript script = CScript() << ToByteVector(XOnlyPubKey(keys[0])) << OP_CHECKSIG;\n+            return Vector(std::move(script));\n+        } else {\n+            return Vector(GetScriptForRawPubKey(keys[0]));\n+        }\n+    }\n public:\n-    PKDescriptor(std::unique_ptr<PubkeyProvider> prov) : DescriptorImpl(Vector(std::move(prov)), \"pk\") {}\n+    PKDescriptor(std::unique_ptr<PubkeyProvider> prov, bool xonly) : DescriptorImpl(Vector(std::move(prov)), \"pk\"), m_xonly(xonly) {}",
      "path": "src/script/descriptor.cpp",
      "position": null,
      "original_position": 19,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "8aaa61bfb7590e95eb7ca5106dfe3561f1c7a7c8",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit 8aaa61bfb7590e95eb7ca5106dfe3561f1c7a7c8 \"Add tr() descriptor (derivation only, no signing)\"\r\n\r\nI think it would be better to default `xonly = false` so that existing callers don't need to change, and this is kind of what is expected for this descriptor. Then nested taproot things can set `xonly` as they need.",
      "created_at": "2021-03-15T21:27:45Z",
      "updated_at": "2021-03-30T01:17:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r594695684",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/594695684"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 713,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/594718159",
      "pull_request_review_id": 612656927,
      "id": 594718159,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5NDcxODE1OQ==",
      "diff_hunk": "@@ -240,37 +240,51 @@ bool SignPSBTInput(const SigningProvider& provider, PartiallySignedTransaction&\n     SignatureData sigdata;\n     input.FillSignatureData(sigdata);\n \n-    // Get UTXO\n+    // Get UTXOs\n     bool require_witness_sig = false;\n-    CTxOut utxo;\n-\n-    if (input.non_witness_utxo) {\n-        // If we're taking our information from a non-witness UTXO, verify that it matches the prevout.\n-        COutPoint prevout = tx.vin[index].prevout;\n-        if (prevout.n >= input.non_witness_utxo->vout.size()) {\n-            return false;\n+    bool have_all_spent_outputs = true;\n+    std::vector<CTxOut> utxos(tx.vin.size());\n+    for (size_t idx = 0; idx < tx.vin.size(); ++idx) {",
      "path": "src/psbt.cpp",
      "position": 27,
      "original_position": 16,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "1d3cc29fb86b614b76b4d97a5adab7f903fc3020",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 1d3cc29fb86b614b76b4d97a5adab7f903fc3020 \"Construct and use PrecomputedTransactionData in PSBT signing\"\r\n\r\nWe should avoid iterating all of the PSBT inputs again when we are signing each input. Instead we should compute the `PrecomputedTransactionData` in the caller and pass that into `SignPSBTInput`.\r\n\r\nThis can be done in `CWallet::FillPSBT` where we are iterating the inputs anyways to get their previous txs from the wallet. We could be constructing the `PrecomputedTransactionData` at that time and then passing it into `FIllPSBT` which then passes it to `SignPSBTInput`.",
      "created_at": "2021-03-15T22:11:14Z",
      "updated_at": "2021-03-30T01:17:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r594718159",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/594718159"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 238,
      "original_line": 238,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/594882760",
      "pull_request_review_id": 612876687,
      "id": 594882760,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5NDg4Mjc2MA==",
      "diff_hunk": "@@ -817,6 +827,45 @@ class WSHDescriptor final : public DescriptorImpl\n     bool IsSingleType() const final { return true; }\n };\n \n+/** A parsed tr(...) descriptor. */\n+class TRDescriptor final : public DescriptorImpl\n+{\n+    std::vector<int> m_depths;\n+protected:\n+    std::vector<CScript> MakeScripts(const std::vector<CPubKey>& keys, Span<const CScript> scripts, FlatSigningProvider& out) const override\n+    {\n+        TaprootBuilder builder;\n+        assert(m_depths.size() == scripts.size());\n+        for (size_t pos = 0; pos < m_depths.size(); ++pos) {\n+            builder.Add(m_depths[pos], scripts[pos], TAPROOT_LEAF_TAPSCRIPT);\n+        }\n+        if (!builder.IsComplete()) return {};\n+        assert(keys.size() == 1);\n+        XOnlyPubKey xpk(keys[0]);\n+        if (!xpk.IsFullyValid()) return {};\n+        builder.Finalize(xpk);\n+        return Vector(GetScriptForDestination(builder.GetOutput()));\n+    }\n+    bool ToStringSubScriptHelper(const SigningProvider* arg, std::string& ret, bool priv, bool normalized, size_t&) const override\n+    {\n+        for (size_t pos = 0; pos < m_depths.size(); ++pos) {\n+            ret += strprintf(\",%i:\", m_depths[pos]);\n+            std::string tmp;\n+            if (!m_subdescriptor_args[pos]->ToStringHelper(arg, tmp, priv, normalized)) return false;\n+            ret += std::move(tmp);",
      "path": "src/script/descriptor.cpp",
      "position": null,
      "original_position": 52,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "8aaa61bfb7590e95eb7ca5106dfe3561f1c7a7c8",
      "in_reply_to_id": 594694587,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Nice catch. Fixed, and added tests for roundtrippability of the descriptors.",
      "created_at": "2021-03-16T06:02:20Z",
      "updated_at": "2021-03-30T01:17:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r594882760",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/594882760"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 862,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/595438349",
      "pull_request_review_id": 613593688,
      "id": 595438349,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5NTQzODM0OQ==",
      "diff_hunk": "@@ -696,10 +696,20 @@ class RawDescriptor final : public DescriptorImpl\n /** A parsed pk(P) descriptor. */\n class PKDescriptor final : public DescriptorImpl\n {\n+private:\n+    const bool m_xonly;\n protected:\n-    std::vector<CScript> MakeScripts(const std::vector<CPubKey>& keys, Span<const CScript>, FlatSigningProvider&) const override { return Vector(GetScriptForRawPubKey(keys[0])); }\n+    std::vector<CScript> MakeScripts(const std::vector<CPubKey>& keys, Span<const CScript>, FlatSigningProvider&) const override\n+    {\n+        if (m_xonly) {\n+            CScript script = CScript() << ToByteVector(XOnlyPubKey(keys[0])) << OP_CHECKSIG;\n+            return Vector(std::move(script));\n+        } else {\n+            return Vector(GetScriptForRawPubKey(keys[0]));\n+        }\n+    }\n public:\n-    PKDescriptor(std::unique_ptr<PubkeyProvider> prov) : DescriptorImpl(Vector(std::move(prov)), \"pk\") {}\n+    PKDescriptor(std::unique_ptr<PubkeyProvider> prov, bool xonly) : DescriptorImpl(Vector(std::move(prov)), \"pk\"), m_xonly(xonly) {}",
      "path": "src/script/descriptor.cpp",
      "position": null,
      "original_position": 19,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "8aaa61bfb7590e95eb7ca5106dfe3561f1c7a7c8",
      "in_reply_to_id": 594695684,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2021-03-16T18:29:21Z",
      "updated_at": "2021-03-30T01:17:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r595438349",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/595438349"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 713,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/595592405",
      "pull_request_review_id": 613787179,
      "id": 595592405,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5NTU5MjQwNQ==",
      "diff_hunk": "@@ -240,37 +240,51 @@ bool SignPSBTInput(const SigningProvider& provider, PartiallySignedTransaction&\n     SignatureData sigdata;\n     input.FillSignatureData(sigdata);\n \n-    // Get UTXO\n+    // Get UTXOs\n     bool require_witness_sig = false;\n-    CTxOut utxo;\n-\n-    if (input.non_witness_utxo) {\n-        // If we're taking our information from a non-witness UTXO, verify that it matches the prevout.\n-        COutPoint prevout = tx.vin[index].prevout;\n-        if (prevout.n >= input.non_witness_utxo->vout.size()) {\n-            return false;\n+    bool have_all_spent_outputs = true;\n+    std::vector<CTxOut> utxos(tx.vin.size());\n+    for (size_t idx = 0; idx < tx.vin.size(); ++idx) {",
      "path": "src/psbt.cpp",
      "position": 27,
      "original_position": 16,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "1d3cc29fb86b614b76b4d97a5adab7f903fc3020",
      "in_reply_to_id": 594718159,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2021-03-16T22:48:03Z",
      "updated_at": "2021-03-30T01:17:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r595592405",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/595592405"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 238,
      "original_line": 238,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/615614539",
      "pull_request_review_id": 631064900,
      "id": 615614539,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNTYxNDUzOQ==",
      "diff_hunk": "@@ -50,11 +52,13 @@ struct FlatSigningProvider final : public SigningProvider\n     std::map<CKeyID, CPubKey> pubkeys;\n     std::map<CKeyID, std::pair<CPubKey, KeyOriginInfo>> origins;\n     std::map<CKeyID, CKey> keys;\n+    std::map<XOnlyPubKey, TaprootSpendData> tr_spenddata;",
      "path": "src/script/signingprovider.h",
      "position": null,
      "original_position": 20,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "2fbaf0fcf4ea36b1f5a1902de45cbe18ba5aafbc",
      "in_reply_to_id": null,
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "IIUC the key in the map is output key, but it's not immediately obvious. Maybe add a comment here and for `GetTaprootSpendData`?",
      "created_at": "2021-04-19T07:45:37Z",
      "updated_at": "2021-06-09T08:00:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r615614539",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/615614539"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 55,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/617269496",
      "pull_request_review_id": 631064900,
      "id": 617269496,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNzI2OTQ5Ng==",
      "diff_hunk": "@@ -847,7 +847,9 @@ class TRDescriptor final : public DescriptorImpl\n         XOnlyPubKey xpk(keys[0]);\n         if (!xpk.IsFullyValid()) return {};\n         builder.Finalize(xpk);\n-        return Vector(GetScriptForDestination(builder.GetOutput()));\n+        WitnessV1Taproot output = builder.GetOutput();\n+        out.tr_spenddata[output].Merge(builder.GetSpendData());",
      "path": "src/script/descriptor.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "2fbaf0fcf4ea36b1f5a1902de45cbe18ba5aafbc",
      "in_reply_to_id": null,
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Is this just an assignment? We don't need to merge here, do we? ",
      "created_at": "2021-04-21T07:29:30Z",
      "updated_at": "2021-06-09T08:00:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r617269496",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/617269496"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 847,
      "original_line": 847,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/617270330",
      "pull_request_review_id": 631064900,
      "id": 617270330,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNzI3MDMzMA==",
      "diff_hunk": "@@ -847,7 +847,9 @@ class TRDescriptor final : public DescriptorImpl\n         XOnlyPubKey xpk(keys[0]);\n         if (!xpk.IsFullyValid()) return {};",
      "path": "src/script/descriptor.cpp",
      "position": 2,
      "original_position": 2,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "2fbaf0fcf4ea36b1f5a1902de45cbe18ba5aafbc",
      "in_reply_to_id": null,
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "What about the case with unspendable internal key?",
      "created_at": "2021-04-21T07:30:40Z",
      "updated_at": "2021-06-09T08:00:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r617270330",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/617270330"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 844,
      "original_line": 844,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/618460734",
      "pull_request_review_id": 642283487,
      "id": 618460734,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxODQ2MDczNA==",
      "diff_hunk": "@@ -234,7 +240,14 @@ class XOnlyPubKey\n \n     const unsigned char& operator[](int pos) const { return *(m_keydata.begin() + pos); }\n     const unsigned char* data() const { return m_keydata.begin(); }\n-    size_t size() const { return m_keydata.size(); }\n+    static constexpr size_t size() { return uint256::size(); }",
      "path": "src/pubkey.h",
      "position": null,
      "original_position": 18,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "b6f6c58ef7e64f699102beef063b3b9f91c71ecd",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "in commit b6f6c58ef7e64f699102beef063b3b9f91c71ecd:\r\n\r\nCould use `decltype(m_keydata)::size()` for self-documenting code?",
      "created_at": "2021-04-22T14:35:56Z",
      "updated_at": "2021-04-22T14:45:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r618460734",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/618460734"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 243,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/624751898",
      "pull_request_review_id": 649950125,
      "id": 624751898,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNDc1MTg5OA==",
      "diff_hunk": "@@ -54,20 +55,22 @@ Output descriptors currently support:\n - `pkh([d34db33f/44'/0'/0']xpub6ERApfZwUNrhLCkDtcHTcxd75RbzS1ed54G1LkBUHQVHQKqhMkhgbmJbZRkrgZw4koxb5JaHWkY4ALHY2grBGRjaDMzQLcgJvLJuZZvRcEL/1/*)` describes a set of P2PKH outputs, but additionally specifies that the specified xpub is a child of a master with fingerprint `d34db33f`, and derived using path `44'/0'/0'`.\n - `wsh(multi(1,xpub661MyMwAqRbcFW31YEwpkMuc5THy2PSt5bDMsktWQcFF8syAmRUapSCGu8ED9W6oDMSgv6Zz8idoc4a6mr8BDzTJY47LJhkJ8UB7WEGuduB/1/0/*,xpub69H7F5d8KSRgmmdJg2KhpAK8SR3DjMwAdkxj3ZuxV27CprR9LgpeyGmXUbC6wb7ERfvrnKZjXoUmmDznezpbZb7ap6r1D3tgFxHmwMkQTPH/0/0/*))` describes a set of *1-of-2* P2WSH multisig outputs where the first multisig key is the *1/0/`i`* child of the first specified xpub and the second multisig key is the *0/0/`i`* child of the second specified xpub, and `i` is any number in a configurable range (`0-1000` by default).\n - `wsh(sortedmulti(1,xpub661MyMwAqRbcFW31YEwpkMuc5THy2PSt5bDMsktWQcFF8syAmRUapSCGu8ED9W6oDMSgv6Zz8idoc4a6mr8BDzTJY47LJhkJ8UB7WEGuduB/1/0/*,xpub69H7F5d8KSRgmmdJg2KhpAK8SR3DjMwAdkxj3ZuxV27CprR9LgpeyGmXUbC6wb7ERfvrnKZjXoUmmDznezpbZb7ap6r1D3tgFxHmwMkQTPH/0/0/*))` describes a set of *1-of-2* P2WSH multisig outputs where one multisig key is the *1/0/`i`* child of the first specified xpub and the other multisig key is the *0/0/`i`* child of the second specified xpub, and `i` is any number in a configurable range (`0-1000` by default). The order of public keys in the resulting witnessScripts is determined by the lexicographic order of the public keys at that index.\n+- `tr(c6047f9441ed7d6d3045406e95c07cd85c778e4b8cef3ca7abac09b95c709ee5,{pk(fff97bd5755eeea420453a14355235d382f6472f8568a18b2f057a1460297556),pk(e493dbf1c10d80f3581e4904930b1404cc6c13900ee0758474fa94abe8c4cd13)})` describes a P2TR output with the `c6...` x-only pubkey as internal key, and two script paths.\n \n ## Reference\n \n Descriptors consist of several types of expressions. The top level expression is either a `SCRIPT`, or `SCRIPT#CHECKSUM` where `CHECKSUM` is an 8-character alphanumeric descriptor checksum.\n \n `SCRIPT` expressions:\n - `sh(SCRIPT)` (top level only): P2SH embed the argument.\n-- `wsh(SCRIPT)` (not inside another 'wsh'): P2WSH embed the argument.\n+- `wsh(SCRIPT)` (top level or inside `sh` only): P2WSH embed the argument.\n - `pk(KEY)` (anywhere): P2PK output for the given public key.\n-- `pkh(KEY)` (anywhere): P2PKH output for the given public key (use `addr` if you only know the pubkey hash).\n-- `wpkh(KEY)` (not inside `wsh`): P2WPKH output for the given compressed pubkey.\n+- `pkh(KEY)` (not inside `tr`): P2PKH output for the given public key (use `addr` if you only know the pubkey hash).\n+- `wpkh(KEY)` (top level or inside `sh` only): P2WPKH output for the given compressed pubkey.\n - `combo(KEY)` (top level only): an alias for the collection of `pk(KEY)` and `pkh(KEY)`. If the key is compressed, it also includes `wpkh(KEY)` and `sh(wpkh(KEY))`.\n-- `multi(k,KEY_1,KEY_2,...,KEY_n)` (anywhere): k-of-n multisig script.\n-- `sortedmulti(k,KEY_1,KEY_2,...,KEY_n)` (anywhere): k-of-n multisig script with keys sorted lexicographically in the resulting script.\n+- `multi(k,KEY_1,KEY_2,...,KEY_n)` (not inside `tr`): k-of-n multisig script.\n+- `sortedmulti(k,KEY_1,KEY_2,...,KEY_n)` (not inside `tr`): k-of-n multisig script with keys sorted lexicographically in the resulting script.\n+- `tr(XKEY)` or `tr(KEY,TREE)` (top level only): P2TR output with the specified key as internal key, and optionally a tree of script paths.",
      "path": "doc/descriptors.md",
      "position": null,
      "original_position": 32,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "3f6aad2d687b5435e93bf6c99cbe1cabc9c1ff16",
      "in_reply_to_id": null,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "in 3f6aad2d687b5435e93bf6c99cbe1cabc9c1ff16:\r\n\r\nProbably should be `tr(KEY)` instead of `tr(XKEY)`.",
      "created_at": "2021-05-02T20:39:12Z",
      "updated_at": "2021-05-02T22:53:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r624751898",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/624751898"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 73,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/624793048",
      "pull_request_review_id": 649950125,
      "id": 624793048,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNDc5MzA0OA==",
      "diff_hunk": "@@ -1431,8 +1431,8 @@ void PrecomputedTransactionData::Init(const T& txTo, std::vector<CTxOut>&& spent\n     }\n \n     // Determine which precomputation-impacting features this transaction uses.\n-    bool uses_bip143_segwit = false;\n-    bool uses_bip341_taproot = false;\n+    bool uses_bip143_segwit = force;\n+    bool uses_bip341_taproot = force;\n     for (size_t inpos = 0; inpos < txTo.vin.size(); ++inpos) {",
      "path": "src/script/interpreter.cpp",
      "position": null,
      "original_position": 17,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "474536660d5d02869b20d8d731001ae738341e37",
      "in_reply_to_id": null,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "in 474536660d:\r\n\r\nMay as well skip this `for` loop altogether if `force` is true, if I see that correctly.",
      "created_at": "2021-05-02T22:52:50Z",
      "updated_at": "2021-05-02T22:53:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r624793048",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/624793048"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1436,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637221548",
      "pull_request_review_id": 665873873,
      "id": 637221548,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzNzIyMTU0OA==",
      "diff_hunk": "@@ -234,7 +240,14 @@ class XOnlyPubKey\n \n     const unsigned char& operator[](int pos) const { return *(m_keydata.begin() + pos); }\n     const unsigned char* data() const { return m_keydata.begin(); }\n-    size_t size() const { return m_keydata.size(); }\n+    static constexpr size_t size() { return uint256::size(); }",
      "path": "src/pubkey.h",
      "position": null,
      "original_position": 18,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "b6f6c58ef7e64f699102beef063b3b9f91c71ecd",
      "in_reply_to_id": 618460734,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2021-05-21T20:41:29Z",
      "updated_at": "2021-05-21T20:41:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r637221548",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637221548"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 243,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637221616",
      "pull_request_review_id": 665873952,
      "id": 637221616,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzNzIyMTYxNg==",
      "diff_hunk": "@@ -54,20 +55,22 @@ Output descriptors currently support:\n - `pkh([d34db33f/44'/0'/0']xpub6ERApfZwUNrhLCkDtcHTcxd75RbzS1ed54G1LkBUHQVHQKqhMkhgbmJbZRkrgZw4koxb5JaHWkY4ALHY2grBGRjaDMzQLcgJvLJuZZvRcEL/1/*)` describes a set of P2PKH outputs, but additionally specifies that the specified xpub is a child of a master with fingerprint `d34db33f`, and derived using path `44'/0'/0'`.\n - `wsh(multi(1,xpub661MyMwAqRbcFW31YEwpkMuc5THy2PSt5bDMsktWQcFF8syAmRUapSCGu8ED9W6oDMSgv6Zz8idoc4a6mr8BDzTJY47LJhkJ8UB7WEGuduB/1/0/*,xpub69H7F5d8KSRgmmdJg2KhpAK8SR3DjMwAdkxj3ZuxV27CprR9LgpeyGmXUbC6wb7ERfvrnKZjXoUmmDznezpbZb7ap6r1D3tgFxHmwMkQTPH/0/0/*))` describes a set of *1-of-2* P2WSH multisig outputs where the first multisig key is the *1/0/`i`* child of the first specified xpub and the second multisig key is the *0/0/`i`* child of the second specified xpub, and `i` is any number in a configurable range (`0-1000` by default).\n - `wsh(sortedmulti(1,xpub661MyMwAqRbcFW31YEwpkMuc5THy2PSt5bDMsktWQcFF8syAmRUapSCGu8ED9W6oDMSgv6Zz8idoc4a6mr8BDzTJY47LJhkJ8UB7WEGuduB/1/0/*,xpub69H7F5d8KSRgmmdJg2KhpAK8SR3DjMwAdkxj3ZuxV27CprR9LgpeyGmXUbC6wb7ERfvrnKZjXoUmmDznezpbZb7ap6r1D3tgFxHmwMkQTPH/0/0/*))` describes a set of *1-of-2* P2WSH multisig outputs where one multisig key is the *1/0/`i`* child of the first specified xpub and the other multisig key is the *0/0/`i`* child of the second specified xpub, and `i` is any number in a configurable range (`0-1000` by default). The order of public keys in the resulting witnessScripts is determined by the lexicographic order of the public keys at that index.\n+- `tr(c6047f9441ed7d6d3045406e95c07cd85c778e4b8cef3ca7abac09b95c709ee5,{pk(fff97bd5755eeea420453a14355235d382f6472f8568a18b2f057a1460297556),pk(e493dbf1c10d80f3581e4904930b1404cc6c13900ee0758474fa94abe8c4cd13)})` describes a P2TR output with the `c6...` x-only pubkey as internal key, and two script paths.\n \n ## Reference\n \n Descriptors consist of several types of expressions. The top level expression is either a `SCRIPT`, or `SCRIPT#CHECKSUM` where `CHECKSUM` is an 8-character alphanumeric descriptor checksum.\n \n `SCRIPT` expressions:\n - `sh(SCRIPT)` (top level only): P2SH embed the argument.\n-- `wsh(SCRIPT)` (not inside another 'wsh'): P2WSH embed the argument.\n+- `wsh(SCRIPT)` (top level or inside `sh` only): P2WSH embed the argument.\n - `pk(KEY)` (anywhere): P2PK output for the given public key.\n-- `pkh(KEY)` (anywhere): P2PKH output for the given public key (use `addr` if you only know the pubkey hash).\n-- `wpkh(KEY)` (not inside `wsh`): P2WPKH output for the given compressed pubkey.\n+- `pkh(KEY)` (not inside `tr`): P2PKH output for the given public key (use `addr` if you only know the pubkey hash).\n+- `wpkh(KEY)` (top level or inside `sh` only): P2WPKH output for the given compressed pubkey.\n - `combo(KEY)` (top level only): an alias for the collection of `pk(KEY)` and `pkh(KEY)`. If the key is compressed, it also includes `wpkh(KEY)` and `sh(wpkh(KEY))`.\n-- `multi(k,KEY_1,KEY_2,...,KEY_n)` (anywhere): k-of-n multisig script.\n-- `sortedmulti(k,KEY_1,KEY_2,...,KEY_n)` (anywhere): k-of-n multisig script with keys sorted lexicographically in the resulting script.\n+- `multi(k,KEY_1,KEY_2,...,KEY_n)` (not inside `tr`): k-of-n multisig script.\n+- `sortedmulti(k,KEY_1,KEY_2,...,KEY_n)` (not inside `tr`): k-of-n multisig script with keys sorted lexicographically in the resulting script.\n+- `tr(XKEY)` or `tr(KEY,TREE)` (top level only): P2TR output with the specified key as internal key, and optionally a tree of script paths.",
      "path": "doc/descriptors.md",
      "position": null,
      "original_position": 32,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "3f6aad2d687b5435e93bf6c99cbe1cabc9c1ff16",
      "in_reply_to_id": 624751898,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed.",
      "created_at": "2021-05-21T20:41:37Z",
      "updated_at": "2021-05-21T20:41:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r637221616",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637221616"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 73,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637221704",
      "pull_request_review_id": 665874041,
      "id": 637221704,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzNzIyMTcwNA==",
      "diff_hunk": "@@ -1431,8 +1431,8 @@ void PrecomputedTransactionData::Init(const T& txTo, std::vector<CTxOut>&& spent\n     }\n \n     // Determine which precomputation-impacting features this transaction uses.\n-    bool uses_bip143_segwit = false;\n-    bool uses_bip341_taproot = false;\n+    bool uses_bip143_segwit = force;\n+    bool uses_bip341_taproot = force;\n     for (size_t inpos = 0; inpos < txTo.vin.size(); ++inpos) {",
      "path": "src/script/interpreter.cpp",
      "position": null,
      "original_position": 17,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "474536660d5d02869b20d8d731001ae738341e37",
      "in_reply_to_id": 624793048,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2021-05-21T20:41:46Z",
      "updated_at": "2021-05-21T20:41:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r637221704",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637221704"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1436,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637407995",
      "pull_request_review_id": 666184590,
      "id": 637407995,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzNzQwNzk5NQ==",
      "diff_hunk": "@@ -75,7 +75,7 @@ class base_blob\n         return &m_data[WIDTH];\n     }\n \n-    unsigned int size() const\n+    static constexpr unsigned int size()",
      "path": "src/uint256.h",
      "position": null,
      "original_position": 5,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "a2edabe43261ef2859742015a53c34ee8a5d1ee3",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "a2edabe43261ef2859742015a53c34ee8a5d1ee3  This along with the corresponding changes in `pubkey.h` might be worth a separate commit.",
      "created_at": "2021-05-22T14:04:31Z",
      "updated_at": "2021-05-22T18:52:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r637407995",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637407995"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 78,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637408318",
      "pull_request_review_id": 666184590,
      "id": 637408318,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzNzQwODMxOA==",
      "diff_hunk": "@@ -142,11 +149,11 @@ struct WitnessUnknown\n  *  * ScriptHash: TxoutType::SCRIPTHASH destination (P2SH)\n  *  * WitnessV0ScriptHash: TxoutType::WITNESS_V0_SCRIPTHASH destination (P2WSH)\n  *  * WitnessV0KeyHash: TxoutType::WITNESS_V0_KEYHASH destination (P2WPKH)\n- *  * WitnessUnknown: TxoutType::WITNESS_UNKNOWN/WITNESS_V1_TAPROOT destination (P2W???)\n- *    (taproot outputs do not require their own type as long as no wallet support exists)\n+ *  * WitnessV1Taproot: TxoutType::WITNESS_V1_TAPROOT destination (P2TR)\n+ *  * WitnessUnknown: TxoutType::WITNESS_UNKNOWN destination (P2W???)\n  *  A CTxDestination is the internal data type encoded in a bitcoin address\n  */\n-using CTxDestination = std::variant<CNoDestination, PKHash, ScriptHash, WitnessV0ScriptHash, WitnessV0KeyHash, WitnessUnknown>;\n+using CTxDestination = std::variant<CNoDestination, PKHash, ScriptHash, WitnessV0ScriptHash, WitnessV0KeyHash, WitnessUnknown, WitnessV1Taproot>;",
      "path": "src/script/standard.h",
      "position": null,
      "original_position": 32,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "a2edabe43261ef2859742015a53c34ee8a5d1ee3",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "a2edabe43261ef2859742015a53c34ee8a5d1ee3 shouldn't we keep `WitnessUnknown` at the end? That would also keep it consistent with the ordering in e.g. `descriptor.cpp`.",
      "created_at": "2021-05-22T14:07:58Z",
      "updated_at": "2021-05-22T18:52:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r637408318",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637408318"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 156,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637409202",
      "pull_request_review_id": 666184590,
      "id": 637409202,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzNzQwOTIwMg==",
      "diff_hunk": "@@ -242,8 +242,13 @@ bool ExtractDestination(const CScript& scriptPubKey, CTxDestination& addressRet)\n         addressRet = hash;\n         return true;\n     }\n-    case TxoutType::WITNESS_UNKNOWN:\n     case TxoutType::WITNESS_V1_TAPROOT: {\n+        WitnessV1Taproot tap;\n+        std::copy(vSolutions[1].begin(), vSolutions[1].end(), tap.begin());",
      "path": "src/script/standard.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "a2edabe43261ef2859742015a53c34ee8a5d1ee3",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This raises the question: why are we putting the witness version in `vSolutions`? That seems to have been copied from `WITNESS_UNKNOWN` handling, whereas we don't do it for SegWit v0.\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/be4171679b8eab8205e04ff86140329bd67878a0/src/script/standard.cpp#L161-L174\r\n\r\nI don't see an explanation in e9a021d7e6a454d610a45cb9b3995f0d96a5fbb6 (I might have missed it in #19953's wall of text).",
      "created_at": "2021-05-22T14:15:19Z",
      "updated_at": "2021-05-22T18:52:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r637409202",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637409202"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 247,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637428638",
      "pull_request_review_id": 666184590,
      "id": 637428638,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzNzQyODYzOA==",
      "diff_hunk": "@@ -379,4 +381,70 @@ BOOST_AUTO_TEST_CASE(script_standard_GetScriptFor_)\n     BOOST_CHECK(result == expected);\n }\n \n+BOOST_AUTO_TEST_CASE(script_standard_taproot_builder)\n+{\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({}), true);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({0}), true);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({1}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({2}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({0,0}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({0,1}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({0,2}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({1,0}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({1,1}), true);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({1,2}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({2,0}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({2,1}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({2,2}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({0,0,0}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({0,0,1}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({0,0,2}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({0,1,0}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({0,1,1}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({0,1,2}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({0,2,0}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({0,2,1}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({0,2,2}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({1,0,0}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({1,0,1}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({1,0,2}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({1,1,0}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({1,1,1}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({1,1,2}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({1,2,0}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({1,2,1}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({1,2,2}), true);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({2,0,0}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({2,0,1}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({2,0,2}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({2,1,0}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({2,1,1}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({2,1,2}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({2,2,0}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({2,2,1}), true);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({2,2,2}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({2,2,2,3,4,5,6,7,8,9,10,11,12,14,14,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,31,31,31,31,31,31,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,128}), true);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({128,128,127,126,125,124,123,122,121,120,119,118,117,116,115,114,113,112,111,110,109,108,107,106,105,104,103,102,101,100,99,98,97,96,95,94,93,92,91,90,89,88,87,86,85,84,83,82,81,80,79,78,77,76,75,74,73,72,71,70,69,68,67,66,65,64,63,62,61,60,59,58,57,56,55,54,53,52,51,50,49,48,47,46,45,44,43,42,41,40,39,38,37,36,35,34,33,32,31,30,29,28,27,26,25,24,23,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1}), true);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({129,129,128,127,126,125,124,123,122,121,120,119,118,117,116,115,114,113,112,111,110,109,108,107,106,105,104,103,102,101,100,99,98,97,96,95,94,93,92,91,90,89,88,87,86,85,84,83,82,81,80,79,78,77,76,75,74,73,72,71,70,69,68,67,66,65,64,63,62,61,60,59,58,57,56,55,54,53,52,51,50,49,48,47,46,45,44,43,42,41,40,39,38,37,36,35,34,33,32,31,30,29,28,27,26,25,24,23,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1}), false);\n+\n+    XOnlyPubKey key_inner{ParseHex(\"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798\")};\n+    XOnlyPubKey key_1{ParseHex(\"c6047f9441ed7d6d3045406e95c07cd85c778e4b8cef3ca7abac09b95c709ee5\")};\n+    XOnlyPubKey key_2{ParseHex(\"f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9\")};\n+    CScript script_1 = CScript() << ToByteVector(key_1) << OP_CHECKSIG;\n+    CScript script_2 = CScript() << ToByteVector(key_2) << OP_CHECKSIG;\n+    uint256 hash_3 = uint256S(\"31fe7061656bea2a36aa60a2f7ef940578049273746935d296426dc0afd86b68\");\n+\n+    TaprootBuilder builder;\n+    BOOST_CHECK(builder.IsValid() && builder.IsComplete());\n+    builder.Add(2, script_2, 0xc0);\n+    BOOST_CHECK(builder.IsValid() && !builder.IsComplete());\n+    builder.AddOmitted(2, hash_3);\n+    BOOST_CHECK(builder.IsValid() && !builder.IsComplete());\n+    builder.Add(1, script_1, 0xc0);\n+    BOOST_CHECK(builder.IsValid() && builder.IsComplete());\n+    builder.Finalize(key_inner);\n+    BOOST_CHECK(builder.IsValid() && builder.IsComplete());\n+    BOOST_CHECK_EQUAL(EncodeDestination(builder.GetOutput()), \"bc1pj6gaw944fy0xpmzzu45ugqde4rz7mqj5kj0tg8kmr5f0pjq8vnaqgynnge\");",
      "path": "src/test/script_standard_tests.cpp",
      "position": null,
      "original_position": 80,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "f86a68c0b1a6ed9e0c7e6f0ee81989a6129abe30",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "f86a68c0b1a6ed9e0c7e6f0ee81989a6129abe30: as an additional sanity check, you could generate the same same address in `feature_taproot.py`",
      "created_at": "2021-05-22T17:20:21Z",
      "updated_at": "2021-05-22T18:52:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r637428638",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637428638"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 446,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637429207",
      "pull_request_review_id": 666184590,
      "id": 637429207,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzNzQyOTIwNw==",
      "diff_hunk": "@@ -209,4 +209,82 @@ CScript GetScriptForRawPubKey(const CPubKey& pubkey);\n /** Generate a multisig script. */\n CScript GetScriptForMultisig(int nRequired, const std::vector<CPubKey>& keys);\n \n+/** Utility class to construct Taproot outputs from internal key and script tree. */\n+class TaprootBuilder\n+{\n+private:\n+    /** Information associated with a node in the Merkle tree. */\n+    struct NodeInfo\n+    {\n+        /** Merkle hash of this node. */\n+        uint256 hash;\n+    };\n+    /** Whether the builder is in a valid state so far. */\n+    bool m_valid = true;\n+\n+    /** The current state of the builder.\n+     *\n+     * For each level in the tree, one NodeInfo object may be present. m_branch[0]\n+     * is information about the root; further values are for deeper subtrees being\n+     * explored.\n+     *\n+     * For every right branch taken to reach the position we're currently\n+     * working in, there will be a (non-nullopt) entry in m_branch corresponding\n+     * to the left branch at that level.\n+     *\n+     * For example, imagine this tree:     - N0 -\n+     *                                    /      \\\n+     *                                   N1      N2\n+     *                                  /  \\    /  \\\n+     *                                 A    B  C   N3\n+     *                                            /  \\\n+     *                                           D    E\n+     *\n+     * Initially, m_branch is empty. After processing leaf A, it would become\n+     * {nullopt, nullopt, A}. When processing leaf B, an entry at level 2 already\n+     * exists, and it would thus be combined with it to produce a level 1 one,\n+     * resulting in {nullopt, N1}. Adding C and D takes us to {nullopt, N1, C}\n+     * and {nullopt, N1, C, D} respectively. When E is processed, it is combined\n+     * with D, and then C, and then N1, to produce the root, resulting in {N0}.\n+     *\n+     * This structure allows processing with just O(log n) overhead if the leaves\n+     * are computed on the fly.\n+     *\n+     * As an invariant, there can never be nullopt entries at the end. There can\n+     * also not be more than 128 entries (as that would mean more than 128 levels\n+     * in the tree). The depth of newly added entries will always be at least\n+     * equal to the current size of m_branch (otherwise it does not correspond\n+     * to a depth-first traversal of a tree). m_branch is only empty if no entries\n+     * have ever be processed. m_branch having length 1 corresponds to being done.\n+     */\n+    std::vector<std::optional<NodeInfo>> m_branch;\n+\n+    XOnlyPubKey m_internal_key;  //!< The internal key, set when finalizing.\n+    XOnlyPubKey m_output_key; //!< The output key, computed when finalizing. */\n+\n+    /** Combine information about a parent Merkle tree node from its child nodes. */\n+    static NodeInfo Combine(NodeInfo&& a, NodeInfo&& b);\n+    /** Insert information about a node at a certain depth, and propagate information up. */\n+    void Insert(NodeInfo&& node, int depth);\n+\n+public:\n+    /** Add a new script at a certain depth in the tree. Add() operations must be called\n+     *  in depth-first traversal order of binary tree. */\n+    TaprootBuilder& Add(int depth, const CScript& script, int leaf_version);\n+    /** Like Add(), but for a Merkle node with a given hash to the tree. */\n+    TaprootBuilder& AddOmitted(int depth, const uint256& hash);\n+    /** Finalize the construction. Can only be called when IsComplete() is true.\n+        internal_key.IsFullyValid() must be true. */\n+    TaprootBuilder& Finalize(const XOnlyPubKey& internal_key);\n+\n+    /** Return true if so far all input was valid. */\n+    bool IsValid() const { return m_valid; }\n+    /** Return whether there were either no leaves, or the leaves form a Huffman tree. */\n+    bool IsComplete() const { return m_valid && (m_branch.size() == 0 || (m_branch.size() == 1 && m_branch[0].has_value())); }\n+    /** Compute scriptPubKey (after Finalize()). */\n+    WitnessV1Taproot GetOutput();\n+    /** Check if a list of depths is legal (will lead to IsComplete()). */\n+    static bool ValidDepths(const std::vector<int>& depths);",
      "path": "src/script/standard.h",
      "position": 84,
      "original_position": 79,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "f86a68c0b1a6ed9e0c7e6f0ee81989a6129abe30",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "f86a68c0b1a6ed9e0c7e6f0ee81989a6129abe30: note to other reviewers: this is used in d9d928198be28923d37434a924788b284a4e3760 to sanity check the descriptor parser (and made more sense to me after reviewing the {{A,B},C} parsing code).",
      "created_at": "2021-05-22T17:26:12Z",
      "updated_at": "2021-05-22T18:52:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r637429207",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637429207"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 325,
      "original_line": 325,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637436352",
      "pull_request_review_id": 666184590,
      "id": 637436352,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzNzQzNjM1Mg==",
      "diff_hunk": "@@ -371,3 +374,99 @@ CScript GetScriptForMultisig(int nRequired, const std::vector<CPubKey>& keys)\n bool IsValidDestination(const CTxDestination& dest) {\n     return dest.index() != 0;\n }\n+\n+/*static*/ TaprootBuilder::NodeInfo TaprootBuilder::Combine(NodeInfo&& a, NodeInfo&& b)\n+{\n+    NodeInfo ret;\n+    /* Lexicographically sort a and b's hash, and compute parent hash. */\n+    if (a.hash < b.hash) {\n+        ret.hash = (CHashWriter(HASHER_TAPBRANCH) << a.hash << b.hash).GetSHA256();\n+    } else {\n+        ret.hash = (CHashWriter(HASHER_TAPBRANCH) << b.hash << a.hash).GetSHA256();\n+    }\n+    return ret;\n+}\n+\n+void TaprootBuilder::Insert(TaprootBuilder::NodeInfo&& node, int depth)\n+{\n+    assert(depth >= 0 && (size_t)depth <= TAPROOT_CONTROL_MAX_NODE_COUNT);\n+    /* We cannot insert a leaf at a lower depth while a deeper branch is unfinished. Doing\n+     * so would mean the Add() invocations do not correspond to a DFS traversal of a\n+     * binary tree. */\n+    if ((size_t)depth + 1 < m_branch.size()) {\n+        m_valid = false;\n+        return;\n+    }\n+    /* As long as an entry in the branch exists at the specified depth, combine it and propagate up.\n+     * The 'node' variable is overwritten here with the newly combined node. */\n+    while (m_valid && m_branch.size() > (size_t)depth && m_branch[depth].has_value()) {\n+        node = Combine(std::move(node), std::move(*m_branch[depth]));\n+        m_branch.pop_back();\n+        if (depth == 0) m_valid = false; /* Can't propagate further up than the root */\n+        --depth;\n+    }\n+    if (m_valid) {\n+        /* Make sure the branch is big enough to place the new node. */\n+        if (m_branch.size() <= (size_t)depth) m_branch.resize((size_t)depth + 1);\n+        assert(!m_branch[depth].has_value());\n+        m_branch[depth] = std::move(node);\n+    }\n+}\n+\n+/*static*/ bool TaprootBuilder::ValidDepths(const std::vector<int>& depths)\n+{\n+    std::vector<bool> branch;\n+    for (int depth : depths) {\n+        // This inner loop corresponds to effectively the same logic on branch\n+        // as what Insert() performs on the m_branch variable. Instead of\n+        // storing a NodeInfo object, just remember whether or not there is one\n+        // at that depth.\n+        if (depth < 0 || (size_t)depth > TAPROOT_CONTROL_MAX_NODE_COUNT) return false;\n+        if ((size_t)depth + 1 < branch.size()) return false;\n+        while (branch.size() > (size_t)depth && branch[depth]) {\n+            branch.pop_back();\n+            if (depth == 0) return false;\n+            --depth;\n+        }\n+        if (branch.size() <= (size_t)depth) branch.resize((size_t)depth + 1);\n+        assert(!branch[depth]);\n+        branch[depth] = true;\n+    }\n+    // And this check corresponds to the IsComplete() check on m_branch.\n+    return branch.size() == 0 || (branch.size() == 1 && branch[0]);\n+}\n+\n+TaprootBuilder& TaprootBuilder::Add(int depth, const CScript& script, int leaf_version)\n+{\n+    assert((leaf_version & ~TAPROOT_LEAF_MASK) == 0);\n+    if (!IsValid()) return *this;\n+    /* Construct NodeInfo object with leaf hash and - if desired - leaf information. */",
      "path": "src/script/standard.cpp",
      "position": null,
      "original_position": 82,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "f86a68c0b1a6ed9e0c7e6f0ee81989a6129abe30",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "f86a68c0b1a6ed9e0c7e6f0ee81989a6129abe30: what do you mean by \"if desired - leaf information\"?",
      "created_at": "2021-05-22T18:30:19Z",
      "updated_at": "2021-05-22T18:52:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r637436352",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637436352"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 443,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637638714",
      "pull_request_review_id": 666338224,
      "id": 637638714,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzNzYzODcxNA==",
      "diff_hunk": "@@ -75,7 +75,7 @@ class base_blob\n         return &m_data[WIDTH];\n     }\n \n-    unsigned int size() const\n+    static constexpr unsigned int size()",
      "path": "src/uint256.h",
      "position": null,
      "original_position": 5,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "a2edabe43261ef2859742015a53c34ee8a5d1ee3",
      "in_reply_to_id": 637407995,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done, added commit \"Make XOnlyPubKey act like byte container\".\r\n",
      "created_at": "2021-05-24T01:42:09Z",
      "updated_at": "2021-05-24T01:42:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r637638714",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637638714"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 78,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637638924",
      "pull_request_review_id": 666338481,
      "id": 637638924,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzNzYzODkyNA==",
      "diff_hunk": "@@ -142,11 +149,11 @@ struct WitnessUnknown\n  *  * ScriptHash: TxoutType::SCRIPTHASH destination (P2SH)\n  *  * WitnessV0ScriptHash: TxoutType::WITNESS_V0_SCRIPTHASH destination (P2WSH)\n  *  * WitnessV0KeyHash: TxoutType::WITNESS_V0_KEYHASH destination (P2WPKH)\n- *  * WitnessUnknown: TxoutType::WITNESS_UNKNOWN/WITNESS_V1_TAPROOT destination (P2W???)\n- *    (taproot outputs do not require their own type as long as no wallet support exists)\n+ *  * WitnessV1Taproot: TxoutType::WITNESS_V1_TAPROOT destination (P2TR)\n+ *  * WitnessUnknown: TxoutType::WITNESS_UNKNOWN destination (P2W???)\n  *  A CTxDestination is the internal data type encoded in a bitcoin address\n  */\n-using CTxDestination = std::variant<CNoDestination, PKHash, ScriptHash, WitnessV0ScriptHash, WitnessV0KeyHash, WitnessUnknown>;\n+using CTxDestination = std::variant<CNoDestination, PKHash, ScriptHash, WitnessV0ScriptHash, WitnessV0KeyHash, WitnessUnknown, WitnessV1Taproot>;",
      "path": "src/script/standard.h",
      "position": null,
      "original_position": 32,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "a2edabe43261ef2859742015a53c34ee8a5d1ee3",
      "in_reply_to_id": 637408318,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I didn't do that because the descriptor code's `GetOutputType` depended on the exact order of elements in this variant. I've addressed that in a new commit \"Avoid dependence on CTxDestination index order\", and then implemented your suggestion of placing WitnessUnknown last.",
      "created_at": "2021-05-24T01:43:12Z",
      "updated_at": "2021-05-24T01:43:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r637638924",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637638924"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 156,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637639453",
      "pull_request_review_id": 666339062,
      "id": 637639453,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzNzYzOTQ1Mw==",
      "diff_hunk": "@@ -242,8 +242,13 @@ bool ExtractDestination(const CScript& scriptPubKey, CTxDestination& addressRet)\n         addressRet = hash;\n         return true;\n     }\n-    case TxoutType::WITNESS_UNKNOWN:\n     case TxoutType::WITNESS_V1_TAPROOT: {\n+        WitnessV1Taproot tap;\n+        std::copy(vSolutions[1].begin(), vSolutions[1].end(), tap.begin());",
      "path": "src/script/standard.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "a2edabe43261ef2859742015a53c34ee8a5d1ee3",
      "in_reply_to_id": 637409202,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The explanation is just that this was easier, because while `TxoutType` did have a separation between unknown and taproot, CTxDestination did not. Making them both produce {version, program} as `vSolutions` was easier because it allowed handling them identically in `ExtractDestination`.\r\n\r\nI've addressed this by first changing the Solver output for taproot outputs to be just {program}, like P2WPKH/P2WSH, in a new commit \"c1445ee0d56e56d824bc79a0c9f1db26105ade1f\", and then used that in the later commits.",
      "created_at": "2021-05-24T01:45:40Z",
      "updated_at": "2021-05-24T01:45:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r637639453",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637639453"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 247,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637639590",
      "pull_request_review_id": 666339229,
      "id": 637639590,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzNzYzOTU5MA==",
      "diff_hunk": "@@ -371,3 +374,99 @@ CScript GetScriptForMultisig(int nRequired, const std::vector<CPubKey>& keys)\n bool IsValidDestination(const CTxDestination& dest) {\n     return dest.index() != 0;\n }\n+\n+/*static*/ TaprootBuilder::NodeInfo TaprootBuilder::Combine(NodeInfo&& a, NodeInfo&& b)\n+{\n+    NodeInfo ret;\n+    /* Lexicographically sort a and b's hash, and compute parent hash. */\n+    if (a.hash < b.hash) {\n+        ret.hash = (CHashWriter(HASHER_TAPBRANCH) << a.hash << b.hash).GetSHA256();\n+    } else {\n+        ret.hash = (CHashWriter(HASHER_TAPBRANCH) << b.hash << a.hash).GetSHA256();\n+    }\n+    return ret;\n+}\n+\n+void TaprootBuilder::Insert(TaprootBuilder::NodeInfo&& node, int depth)\n+{\n+    assert(depth >= 0 && (size_t)depth <= TAPROOT_CONTROL_MAX_NODE_COUNT);\n+    /* We cannot insert a leaf at a lower depth while a deeper branch is unfinished. Doing\n+     * so would mean the Add() invocations do not correspond to a DFS traversal of a\n+     * binary tree. */\n+    if ((size_t)depth + 1 < m_branch.size()) {\n+        m_valid = false;\n+        return;\n+    }\n+    /* As long as an entry in the branch exists at the specified depth, combine it and propagate up.\n+     * The 'node' variable is overwritten here with the newly combined node. */\n+    while (m_valid && m_branch.size() > (size_t)depth && m_branch[depth].has_value()) {\n+        node = Combine(std::move(node), std::move(*m_branch[depth]));\n+        m_branch.pop_back();\n+        if (depth == 0) m_valid = false; /* Can't propagate further up than the root */\n+        --depth;\n+    }\n+    if (m_valid) {\n+        /* Make sure the branch is big enough to place the new node. */\n+        if (m_branch.size() <= (size_t)depth) m_branch.resize((size_t)depth + 1);\n+        assert(!m_branch[depth].has_value());\n+        m_branch[depth] = std::move(node);\n+    }\n+}\n+\n+/*static*/ bool TaprootBuilder::ValidDepths(const std::vector<int>& depths)\n+{\n+    std::vector<bool> branch;\n+    for (int depth : depths) {\n+        // This inner loop corresponds to effectively the same logic on branch\n+        // as what Insert() performs on the m_branch variable. Instead of\n+        // storing a NodeInfo object, just remember whether or not there is one\n+        // at that depth.\n+        if (depth < 0 || (size_t)depth > TAPROOT_CONTROL_MAX_NODE_COUNT) return false;\n+        if ((size_t)depth + 1 < branch.size()) return false;\n+        while (branch.size() > (size_t)depth && branch[depth]) {\n+            branch.pop_back();\n+            if (depth == 0) return false;\n+            --depth;\n+        }\n+        if (branch.size() <= (size_t)depth) branch.resize((size_t)depth + 1);\n+        assert(!branch[depth]);\n+        branch[depth] = true;\n+    }\n+    // And this check corresponds to the IsComplete() check on m_branch.\n+    return branch.size() == 0 || (branch.size() == 1 && branch[0]);\n+}\n+\n+TaprootBuilder& TaprootBuilder::Add(int depth, const CScript& script, int leaf_version)\n+{\n+    assert((leaf_version & ~TAPROOT_LEAF_MASK) == 0);\n+    if (!IsValid()) return *this;\n+    /* Construct NodeInfo object with leaf hash and - if desired - leaf information. */",
      "path": "src/script/standard.cpp",
      "position": null,
      "original_position": 82,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "f86a68c0b1a6ed9e0c7e6f0ee81989a6129abe30",
      "in_reply_to_id": 637436352,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "That comment didn't make sense in the commit where it was in. I've moved it, and made it a bit clearer.",
      "created_at": "2021-05-24T01:46:16Z",
      "updated_at": "2021-05-24T01:46:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r637639590",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637639590"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 443,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637642539",
      "pull_request_review_id": 666342518,
      "id": 637642539,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzNzY0MjUzOQ==",
      "diff_hunk": "@@ -829,6 +839,45 @@ class WSHDescriptor final : public DescriptorImpl\n     bool IsSingleType() const final { return true; }\n };\n \n+/** A parsed tr(...) descriptor. */\n+class TRDescriptor final : public DescriptorImpl\n+{\n+    std::vector<int> m_depths;\n+protected:\n+    std::vector<CScript> MakeScripts(const std::vector<CPubKey>& keys, Span<const CScript> scripts, FlatSigningProvider& out) const override\n+    {\n+        TaprootBuilder builder;\n+        assert(m_depths.size() == scripts.size());\n+        for (size_t pos = 0; pos < m_depths.size(); ++pos) {\n+            builder.Add(m_depths[pos], scripts[pos], TAPROOT_LEAF_TAPSCRIPT);",
      "path": "src/script/descriptor.cpp",
      "position": null,
      "original_position": 37,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "d5a0dce8fe40153b07ec6e882e8b1568b05e3905",
      "in_reply_to_id": 590707050,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Marking this as resolved. Feel free to comment if the result still isn't clear.",
      "created_at": "2021-05-24T01:58:34Z",
      "updated_at": "2021-05-24T01:58:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r637642539",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/637642539"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 839,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/645118943",
      "pull_request_review_id": 675715298,
      "id": 645118943,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0NTExODk0Mw==",
      "diff_hunk": "@@ -379,4 +381,70 @@ BOOST_AUTO_TEST_CASE(script_standard_GetScriptFor_)\n     BOOST_CHECK(result == expected);\n }\n \n+BOOST_AUTO_TEST_CASE(script_standard_taproot_builder)\n+{\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({}), true);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({0}), true);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({1}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({2}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({0,0}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({0,1}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({0,2}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({1,0}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({1,1}), true);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({1,2}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({2,0}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({2,1}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({2,2}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({0,0,0}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({0,0,1}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({0,0,2}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({0,1,0}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({0,1,1}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({0,1,2}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({0,2,0}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({0,2,1}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({0,2,2}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({1,0,0}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({1,0,1}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({1,0,2}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({1,1,0}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({1,1,1}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({1,1,2}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({1,2,0}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({1,2,1}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({1,2,2}), true);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({2,0,0}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({2,0,1}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({2,0,2}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({2,1,0}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({2,1,1}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({2,1,2}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({2,2,0}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({2,2,1}), true);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({2,2,2}), false);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({2,2,2,3,4,5,6,7,8,9,10,11,12,14,14,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,31,31,31,31,31,31,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,128}), true);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({128,128,127,126,125,124,123,122,121,120,119,118,117,116,115,114,113,112,111,110,109,108,107,106,105,104,103,102,101,100,99,98,97,96,95,94,93,92,91,90,89,88,87,86,85,84,83,82,81,80,79,78,77,76,75,74,73,72,71,70,69,68,67,66,65,64,63,62,61,60,59,58,57,56,55,54,53,52,51,50,49,48,47,46,45,44,43,42,41,40,39,38,37,36,35,34,33,32,31,30,29,28,27,26,25,24,23,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1}), true);\n+    BOOST_CHECK_EQUAL(TaprootBuilder::ValidDepths({129,129,128,127,126,125,124,123,122,121,120,119,118,117,116,115,114,113,112,111,110,109,108,107,106,105,104,103,102,101,100,99,98,97,96,95,94,93,92,91,90,89,88,87,86,85,84,83,82,81,80,79,78,77,76,75,74,73,72,71,70,69,68,67,66,65,64,63,62,61,60,59,58,57,56,55,54,53,52,51,50,49,48,47,46,45,44,43,42,41,40,39,38,37,36,35,34,33,32,31,30,29,28,27,26,25,24,23,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1}), false);\n+\n+    XOnlyPubKey key_inner{ParseHex(\"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798\")};\n+    XOnlyPubKey key_1{ParseHex(\"c6047f9441ed7d6d3045406e95c07cd85c778e4b8cef3ca7abac09b95c709ee5\")};\n+    XOnlyPubKey key_2{ParseHex(\"f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9\")};\n+    CScript script_1 = CScript() << ToByteVector(key_1) << OP_CHECKSIG;\n+    CScript script_2 = CScript() << ToByteVector(key_2) << OP_CHECKSIG;\n+    uint256 hash_3 = uint256S(\"31fe7061656bea2a36aa60a2f7ef940578049273746935d296426dc0afd86b68\");\n+\n+    TaprootBuilder builder;\n+    BOOST_CHECK(builder.IsValid() && builder.IsComplete());\n+    builder.Add(2, script_2, 0xc0);\n+    BOOST_CHECK(builder.IsValid() && !builder.IsComplete());\n+    builder.AddOmitted(2, hash_3);\n+    BOOST_CHECK(builder.IsValid() && !builder.IsComplete());\n+    builder.Add(1, script_1, 0xc0);\n+    BOOST_CHECK(builder.IsValid() && builder.IsComplete());\n+    builder.Finalize(key_inner);\n+    BOOST_CHECK(builder.IsValid() && builder.IsComplete());\n+    BOOST_CHECK_EQUAL(EncodeDestination(builder.GetOutput()), \"bc1pj6gaw944fy0xpmzzu45ugqde4rz7mqj5kj0tg8kmr5f0pjq8vnaqgynnge\");",
      "path": "src/test/script_standard_tests.cpp",
      "position": null,
      "original_position": 80,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "f86a68c0b1a6ed9e0c7e6f0ee81989a6129abe30",
      "in_reply_to_id": 637428638,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`wallet_taproot.py` already tests address derivation against the python implementation (which is also used by `feature_taproot.py`, so I think that's unnecessary.",
      "created_at": "2021-06-03T20:54:28Z",
      "updated_at": "2021-06-03T20:54:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r645118943",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/645118943"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 446,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/646836512",
      "pull_request_review_id": 677745838,
      "id": 646836512,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0NjgzNjUxMg==",
      "diff_hunk": "@@ -386,6 +396,17 @@ bool IsValidDestination(const CTxDestination& dest) {\n     return ret;\n }\n \n+void TaprootSpendData::Merge(TaprootSpendData other)\n+{\n+    if (internal_key.IsNull() && !other.internal_key.IsNull()) {",
      "path": "src/script/standard.cpp",
      "position": 25,
      "original_position": 23,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "e4c8ae471d38e878a69fa8099d75d447319f4037",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In e4c8ae471d38e878a69fa8099d75d447319f4037 \"Add TaprootSpendData data structure, equivalent to script map for P2[W]SH\"\r\n\r\nSince we are expecting that the `TaprootSpendData` being merged is for the same scriptPubKey, I think this should assert that the `internal_key` and `merkle_root` match if both have them.",
      "created_at": "2021-06-07T18:18:36Z",
      "updated_at": "2021-06-07T19:33:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r646836512",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/646836512"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 403,
      "original_line": 403,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/646837025",
      "pull_request_review_id": 677745838,
      "id": 646837025,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0NjgzNzAyNQ==",
      "diff_hunk": "@@ -386,6 +396,17 @@ bool IsValidDestination(const CTxDestination& dest) {\n     return ret;\n }\n \n+void TaprootSpendData::Merge(TaprootSpendData other)\n+{\n+    if (internal_key.IsNull() && !other.internal_key.IsNull()) {\n+        internal_key = other.internal_key;\n+        merkle_root = other.merkle_root;",
      "path": "src/script/standard.cpp",
      "position": 29,
      "original_position": 25,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "e4c8ae471d38e878a69fa8099d75d447319f4037",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In e4c8ae471d38e878a69fa8099d75d447319f4037 \"Add TaprootSpendData data structure, equivalent to script map for P2[W]SH\"\r\n\r\nShould this `merkle_root` be guarded with its own `if` instead being combined with the `internal_key`? It looks like in the current usage it doesn't matter, but perhaps in the future it might?",
      "created_at": "2021-06-07T18:19:26Z",
      "updated_at": "2021-06-07T19:33:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r646837025",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/646837025"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 407,
      "original_line": 407,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/646839157",
      "pull_request_review_id": 677745838,
      "id": 646839157,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0NjgzOTE1Nw==",
      "diff_hunk": "@@ -261,6 +284,7 @@ class TaprootBuilder\n \n     XOnlyPubKey m_internal_key;  //!< The internal key, set when finalizing.\n     XOnlyPubKey m_output_key; //!< The output key, computed when finalizing. */\n+    bool m_parity;            //!< The tweak parity, computed when finalizing. */",
      "path": "src/script/standard.h",
      "position": null,
      "original_position": 43,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "e4c8ae471d38e878a69fa8099d75d447319f4037",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In e4c8ae471d38e878a69fa8099d75d447319f4037 \"Add TaprootSpendData data structure, equivalent to script map for P2[W]SH\"\r\n\r\nnit:, extra `*/`\r\n\r\n```suggestion\r\n    bool m_parity;            //!< The tweak parity, computed when finalizing. */\r\n    bool m_parity;            //!< The tweak parity, computed when finalizing.\r\n````",
      "created_at": "2021-06-07T18:22:55Z",
      "updated_at": "2021-06-07T19:33:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r646839157",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/646839157"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 287,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/646849541",
      "pull_request_review_id": 677745838,
      "id": 646849541,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0Njg0OTU0MQ==",
      "diff_hunk": "@@ -302,4 +302,49 @@ BOOST_AUTO_TEST_CASE(bip340_test_vectors)\n     }\n }\n \n+BOOST_AUTO_TEST_CASE(bip340_test_vectors_signing)\n+{\n+    static const std::vector<std::array<std::string, 4>> VECTORS = {\n+        {{\"0000000000000000000000000000000000000000000000000000000000000003\", \"0000000000000000000000000000000000000000000000000000000000000000\", \"0000000000000000000000000000000000000000000000000000000000000000\", \"E907831F80848D1069A5371B402410364BDF1C5F8307B0084C55F1CE2DCA821525F66A4A85EA8B71E482A74F382D2CE5EBEEE8FDB2172F477DF4900D310536C0\"}},\n+        {{\"B7E151628AED2A6ABF7158809CF4F3C762E7160F38B4DA56A784D9045190CFEF\", \"0000000000000000000000000000000000000000000000000000000000000001\", \"243F6A8885A308D313198A2E03707344A4093822299F31D0082EFA98EC4E6C89\", \"6896BD60EEAE296DB48A229FF71DFE071BDE413E6D43F917DC8DCF8C78DE33418906D11AC976ABCCB20B091292BFF4EA897EFCB639EA871CFA95F6DE339E4B0A\"}},\n+        {{\"C90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B14E5C9\", \"C87AA53824B4D7AE2EB035A2B5BBBCCC080E76CDC6D1692C4B0B62D798E6D906\", \"7E2D58D8B3BCDF1ABADEC7829054F90DDA9805AAB56C77333024B9D0A508B75C\", \"5831AAEED7B44BB74E5EAB94BA9D4294C49BCF2A60728D8B4C200F50DD313C1BAB745879A5AD954A72C45A91C3A51D3C7ADEA98D82F8481E0E1E03674A6F3FB7\"}},\n+        {{\"0B432B2677937381AEF05BB02A66ECD012773062CF3FA2549E44F58ED2401710\", \"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF\", \"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF\", \"7EB0509757E246F19449885651611CB965ECC1A187DD51B64FDA1EDC9637D5EC97582B9CB13DB3933705B32BA982AF5AF25FD78881EBB32771FC5922EFC66EA3\"}},\n+    };\n+\n+    for (const auto& test : VECTORS) {\n+        auto sec = ParseHex(test[0]);\n+        auto aux = ParseHex(test[1]);\n+        uint256 aux256(aux);\n+        auto msg = ParseHex(test[2]);\n+        uint256 msg256(msg);\n+        auto sig = ParseHex(test[3]);\n+        unsigned char sig64[64];\n+\n+        // Run the untweaked test vectors above, comparing with exact expected signature.\n+        CKey key;\n+        key.Set(sec.begin(), sec.end(), true);\n+        XOnlyPubKey pubkey(key.GetPubKey());",
      "path": "src/test/key_tests.cpp",
      "position": 23,
      "original_position": 25,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "ebf44e081ba0ef7b8810497dee47717bb661cbdb",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In ebf44e081ba0ef7b8810497dee47717bb661cbdb \"Add CKey::SignSchnorr function for BIP 340/341 signing\"\r\n\r\nWhy not compare the pubkey against the pubkeys specified in the BIP 340 test vectors?",
      "created_at": "2021-06-07T18:39:23Z",
      "updated_at": "2021-06-07T19:33:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r646849541",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/646849541"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 322,
      "original_line": 322,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/646859980",
      "pull_request_review_id": 677745838,
      "id": 646859980,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0Njg1OTk4MA==",
      "diff_hunk": "@@ -227,7 +227,41 @@ void UpdatePSBTOutput(const SigningProvider& provider, PartiallySignedTransactio\n     psbt_out.FromSignatureData(sigdata);\n }\n \n-bool SignPSBTInput(const SigningProvider& provider, PartiallySignedTransaction& psbt, int index, int sighash, SignatureData* out_sigdata, bool use_dummy)\n+PrecomputedTransactionData PrecomputePSBTData(const PartiallySignedTransaction& psbt)\n+{\n+    const CMutableTransaction& tx = *psbt.tx;\n+    bool have_all_spent_outputs = true;\n+    std::vector<CTxOut> utxos(tx.vin.size());\n+    for (size_t idx = 0; idx < tx.vin.size(); ++idx) {\n+        if (psbt.inputs.size() <= idx) {\n+            have_all_spent_outputs = false;\n+            continue;\n+        }\n+        const PSBTInput& input = psbt.inputs[idx];\n+        if (input.non_witness_utxo) {\n+            // If we're taking our information from a non-witness UTXO, verify that it matches the prevout.\n+            const COutPoint& prevout = tx.vin[idx].prevout;\n+            if (prevout.n < input.non_witness_utxo->vout.size() && input.non_witness_utxo->GetHash() == prevout.hash) {\n+                utxos[idx] = input.non_witness_utxo->vout[prevout.n];\n+                continue;\n+            }\n+        }\n+        if (!input.witness_utxo.IsNull()) {\n+            utxos[idx] = input.witness_utxo;\n+            continue;\n+        }",
      "path": "src/psbt.cpp",
      "position": null,
      "original_position": 27,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "8d073d0afe285bd04542907428298d377f49c8f9",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 8d073d0afe285bd04542907428298d377f49c8f9 \"Construct and use PrecomputedTransactionData in PSBT signing\"\r\n\r\n`GetInputUTXO` does all of this already, so I think you can just use that instead of reimplementing the utxo fetching. If you need to do the hash checking, it would probably be worthwhile to implement that in `GetInputUTXO` too.",
      "created_at": "2021-06-07T18:55:48Z",
      "updated_at": "2021-06-07T19:33:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r646859980",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/646859980"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": 241,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 252,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/646860636",
      "pull_request_review_id": 677745838,
      "id": 646860636,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0Njg2MDYzNg==",
      "diff_hunk": "@@ -227,7 +227,41 @@ void UpdatePSBTOutput(const SigningProvider& provider, PartiallySignedTransactio\n     psbt_out.FromSignatureData(sigdata);\n }\n \n-bool SignPSBTInput(const SigningProvider& provider, PartiallySignedTransaction& psbt, int index, int sighash, SignatureData* out_sigdata, bool use_dummy)\n+PrecomputedTransactionData PrecomputePSBTData(const PartiallySignedTransaction& psbt)\n+{\n+    const CMutableTransaction& tx = *psbt.tx;\n+    bool have_all_spent_outputs = true;\n+    std::vector<CTxOut> utxos(tx.vin.size());\n+    for (size_t idx = 0; idx < tx.vin.size(); ++idx) {\n+        if (psbt.inputs.size() <= idx) {",
      "path": "src/psbt.cpp",
      "position": null,
      "original_position": 11,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "8d073d0afe285bd04542907428298d377f49c8f9",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 8d073d0afe285bd04542907428298d377f49c8f9 \"Construct and use PrecomputedTransactionData in PSBT signing\"\r\n\r\nThis case shouldn't happen because every input in the tx must have a corresponding `PSBTInput`, even if it is empty. So I think this should be an assert as it would be a bug.",
      "created_at": "2021-06-07T18:56:49Z",
      "updated_at": "2021-06-07T19:33:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r646860636",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/646860636"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 236,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/646873647",
      "pull_request_review_id": 677745838,
      "id": 646873647,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0Njg3MzY0Nw==",
      "diff_hunk": "@@ -104,6 +152,85 @@ static bool CreateSig(const BaseSignatureCreator& creator, SignatureData& sigdat\n     return false;\n }\n \n+static bool CreateTaprootScriptSig(const BaseSignatureCreator& creator, SignatureData& sigdata, const SigningProvider& provider, std::vector<unsigned char>& sig_out, const XOnlyPubKey& pubkey, const uint256& leaf_hash, SigVersion sigversion)\n+{\n+    auto lookup_key = std::make_pair(pubkey, leaf_hash);\n+    auto it = sigdata.taproot_script_sigs.find(lookup_key);\n+    if (it != sigdata.taproot_script_sigs.end()) {\n+        sig_out = it->second;\n+    }",
      "path": "src/script/sign.cpp",
      "position": 106,
      "original_position": 79,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "ea07a01b0cf7256304b17508debf74d94cccdac7",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In ea07a01b0cf7256304b17508debf74d94cccdac7 \"Basic Taproot signing logic in script/sign.cpp\"\r\n\r\nCan you explain what this is doing and why?",
      "created_at": "2021-06-07T19:17:34Z",
      "updated_at": "2021-06-07T19:33:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r646873647",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/646873647"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": 160,
      "original_start_line": 157,
      "start_side": "RIGHT",
      "line": 164,
      "original_line": 164,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/646970084",
      "pull_request_review_id": 677924066,
      "id": 646970084,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0Njk3MDA4NA==",
      "diff_hunk": "@@ -386,6 +396,17 @@ bool IsValidDestination(const CTxDestination& dest) {\n     return ret;\n }\n \n+void TaprootSpendData::Merge(TaprootSpendData other)\n+{\n+    if (internal_key.IsNull() && !other.internal_key.IsNull()) {",
      "path": "src/script/standard.cpp",
      "position": 25,
      "original_position": 23,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "e4c8ae471d38e878a69fa8099d75d447319f4037",
      "in_reply_to_id": 646836512,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Asserting sounds dangerous, as I'd expect TaprootSpendData to at some point be untrusted data (e.g. gathered from PSBT). I agree it's a bit ugly to just prefer one over the other in case of a contradiction, and I also don't have a better solution. Would you be ok with just a TODO here?",
      "created_at": "2021-06-07T22:01:02Z",
      "updated_at": "2021-06-07T22:01:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r646970084",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/646970084"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 403,
      "original_line": 403,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/647015477",
      "pull_request_review_id": 677975584,
      "id": 647015477,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0NzAxNTQ3Nw==",
      "diff_hunk": "@@ -104,6 +152,85 @@ static bool CreateSig(const BaseSignatureCreator& creator, SignatureData& sigdat\n     return false;\n }\n \n+static bool CreateTaprootScriptSig(const BaseSignatureCreator& creator, SignatureData& sigdata, const SigningProvider& provider, std::vector<unsigned char>& sig_out, const XOnlyPubKey& pubkey, const uint256& leaf_hash, SigVersion sigversion)\n+{\n+    auto lookup_key = std::make_pair(pubkey, leaf_hash);\n+    auto it = sigdata.taproot_script_sigs.find(lookup_key);\n+    if (it != sigdata.taproot_script_sigs.end()) {\n+        sig_out = it->second;\n+    }",
      "path": "src/script/sign.cpp",
      "position": 106,
      "original_position": 79,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "ea07a01b0cf7256304b17508debf74d94cccdac7",
      "in_reply_to_id": 646873647,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It's the equivalent of `SignatureData::signatures`, but for Taproot/Schnorr signatures. They're not indexed by CKeyId, but by full (untweaked) pubkey and leaf they occur in.\r\n\r\nThis is redundant for now, as there is no multiparty signing whatsoever, and no way of communicating partial signatures (needs PSBT extension), but this is pretty much what it would look like. I could drop it for this PR.",
      "created_at": "2021-06-07T23:55:49Z",
      "updated_at": "2021-06-07T23:55:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r647015477",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/647015477"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": 160,
      "original_start_line": 157,
      "start_side": "RIGHT",
      "line": 164,
      "original_line": 164,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/647016600",
      "pull_request_review_id": 677978718,
      "id": 647016600,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0NzAxNjYwMA==",
      "diff_hunk": "@@ -386,6 +396,17 @@ bool IsValidDestination(const CTxDestination& dest) {\n     return ret;\n }\n \n+void TaprootSpendData::Merge(TaprootSpendData other)\n+{\n+    if (internal_key.IsNull() && !other.internal_key.IsNull()) {\n+        internal_key = other.internal_key;\n+        merkle_root = other.merkle_root;",
      "path": "src/script/standard.cpp",
      "position": 29,
      "original_position": 25,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "e4c8ae471d38e878a69fa8099d75d447319f4037",
      "in_reply_to_id": 646837025,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2021-06-07T23:58:42Z",
      "updated_at": "2021-06-07T23:58:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r647016600",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/647016600"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 407,
      "original_line": 407,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/647016744",
      "pull_request_review_id": 677978783,
      "id": 647016744,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0NzAxNjc0NA==",
      "diff_hunk": "@@ -261,6 +284,7 @@ class TaprootBuilder\n \n     XOnlyPubKey m_internal_key;  //!< The internal key, set when finalizing.\n     XOnlyPubKey m_output_key; //!< The output key, computed when finalizing. */\n+    bool m_parity;            //!< The tweak parity, computed when finalizing. */",
      "path": "src/script/standard.h",
      "position": null,
      "original_position": 43,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "e4c8ae471d38e878a69fa8099d75d447319f4037",
      "in_reply_to_id": 646839157,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done. Also realigned.",
      "created_at": "2021-06-07T23:58:51Z",
      "updated_at": "2021-06-07T23:58:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r647016744",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/647016744"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 287,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/647016857",
      "pull_request_review_id": 677978842,
      "id": 647016857,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0NzAxNjg1Nw==",
      "diff_hunk": "@@ -302,4 +302,49 @@ BOOST_AUTO_TEST_CASE(bip340_test_vectors)\n     }\n }\n \n+BOOST_AUTO_TEST_CASE(bip340_test_vectors_signing)\n+{\n+    static const std::vector<std::array<std::string, 4>> VECTORS = {\n+        {{\"0000000000000000000000000000000000000000000000000000000000000003\", \"0000000000000000000000000000000000000000000000000000000000000000\", \"0000000000000000000000000000000000000000000000000000000000000000\", \"E907831F80848D1069A5371B402410364BDF1C5F8307B0084C55F1CE2DCA821525F66A4A85EA8B71E482A74F382D2CE5EBEEE8FDB2172F477DF4900D310536C0\"}},\n+        {{\"B7E151628AED2A6ABF7158809CF4F3C762E7160F38B4DA56A784D9045190CFEF\", \"0000000000000000000000000000000000000000000000000000000000000001\", \"243F6A8885A308D313198A2E03707344A4093822299F31D0082EFA98EC4E6C89\", \"6896BD60EEAE296DB48A229FF71DFE071BDE413E6D43F917DC8DCF8C78DE33418906D11AC976ABCCB20B091292BFF4EA897EFCB639EA871CFA95F6DE339E4B0A\"}},\n+        {{\"C90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B14E5C9\", \"C87AA53824B4D7AE2EB035A2B5BBBCCC080E76CDC6D1692C4B0B62D798E6D906\", \"7E2D58D8B3BCDF1ABADEC7829054F90DDA9805AAB56C77333024B9D0A508B75C\", \"5831AAEED7B44BB74E5EAB94BA9D4294C49BCF2A60728D8B4C200F50DD313C1BAB745879A5AD954A72C45A91C3A51D3C7ADEA98D82F8481E0E1E03674A6F3FB7\"}},\n+        {{\"0B432B2677937381AEF05BB02A66ECD012773062CF3FA2549E44F58ED2401710\", \"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF\", \"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF\", \"7EB0509757E246F19449885651611CB965ECC1A187DD51B64FDA1EDC9637D5EC97582B9CB13DB3933705B32BA982AF5AF25FD78881EBB32771FC5922EFC66EA3\"}},\n+    };\n+\n+    for (const auto& test : VECTORS) {\n+        auto sec = ParseHex(test[0]);\n+        auto aux = ParseHex(test[1]);\n+        uint256 aux256(aux);\n+        auto msg = ParseHex(test[2]);\n+        uint256 msg256(msg);\n+        auto sig = ParseHex(test[3]);\n+        unsigned char sig64[64];\n+\n+        // Run the untweaked test vectors above, comparing with exact expected signature.\n+        CKey key;\n+        key.Set(sec.begin(), sec.end(), true);\n+        XOnlyPubKey pubkey(key.GetPubKey());",
      "path": "src/test/key_tests.cpp",
      "position": 23,
      "original_position": 25,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "ebf44e081ba0ef7b8810497dee47717bb661cbdb",
      "in_reply_to_id": 646849541,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2021-06-07T23:58:59Z",
      "updated_at": "2021-06-07T23:58:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r647016857",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/647016857"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 322,
      "original_line": 322,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/647017273",
      "pull_request_review_id": 677979208,
      "id": 647017273,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0NzAxNzI3Mw==",
      "diff_hunk": "@@ -227,7 +227,41 @@ void UpdatePSBTOutput(const SigningProvider& provider, PartiallySignedTransactio\n     psbt_out.FromSignatureData(sigdata);\n }\n \n-bool SignPSBTInput(const SigningProvider& provider, PartiallySignedTransaction& psbt, int index, int sighash, SignatureData* out_sigdata, bool use_dummy)\n+PrecomputedTransactionData PrecomputePSBTData(const PartiallySignedTransaction& psbt)\n+{\n+    const CMutableTransaction& tx = *psbt.tx;\n+    bool have_all_spent_outputs = true;\n+    std::vector<CTxOut> utxos(tx.vin.size());\n+    for (size_t idx = 0; idx < tx.vin.size(); ++idx) {\n+        if (psbt.inputs.size() <= idx) {\n+            have_all_spent_outputs = false;\n+            continue;\n+        }\n+        const PSBTInput& input = psbt.inputs[idx];\n+        if (input.non_witness_utxo) {\n+            // If we're taking our information from a non-witness UTXO, verify that it matches the prevout.\n+            const COutPoint& prevout = tx.vin[idx].prevout;\n+            if (prevout.n < input.non_witness_utxo->vout.size() && input.non_witness_utxo->GetHash() == prevout.hash) {\n+                utxos[idx] = input.non_witness_utxo->vout[prevout.n];\n+                continue;\n+            }\n+        }\n+        if (!input.witness_utxo.IsNull()) {\n+            utxos[idx] = input.witness_utxo;\n+            continue;\n+        }",
      "path": "src/psbt.cpp",
      "position": null,
      "original_position": 27,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "8d073d0afe285bd04542907428298d377f49c8f9",
      "in_reply_to_id": 646859980,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Changed to use `GetInputUTXO`. I've added a commit to add the prevout hash check to `GetInputUTXO` itself.",
      "created_at": "2021-06-07T23:59:50Z",
      "updated_at": "2021-06-07T23:59:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r647017273",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/647017273"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": 241,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 252,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/647018690",
      "pull_request_review_id": 677980819,
      "id": 647018690,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0NzAxODY5MA==",
      "diff_hunk": "@@ -227,7 +227,41 @@ void UpdatePSBTOutput(const SigningProvider& provider, PartiallySignedTransactio\n     psbt_out.FromSignatureData(sigdata);\n }\n \n-bool SignPSBTInput(const SigningProvider& provider, PartiallySignedTransaction& psbt, int index, int sighash, SignatureData* out_sigdata, bool use_dummy)\n+PrecomputedTransactionData PrecomputePSBTData(const PartiallySignedTransaction& psbt)\n+{\n+    const CMutableTransaction& tx = *psbt.tx;\n+    bool have_all_spent_outputs = true;\n+    std::vector<CTxOut> utxos(tx.vin.size());\n+    for (size_t idx = 0; idx < tx.vin.size(); ++idx) {\n+        if (psbt.inputs.size() <= idx) {",
      "path": "src/psbt.cpp",
      "position": null,
      "original_position": 11,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "8d073d0afe285bd04542907428298d377f49c8f9",
      "in_reply_to_id": 646860636,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Gone by rewriting.",
      "created_at": "2021-06-08T00:03:41Z",
      "updated_at": "2021-06-08T00:03:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r647018690",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/647018690"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 236,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/648405030",
      "pull_request_review_id": 679787325,
      "id": 648405030,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0ODQwNTAzMA==",
      "diff_hunk": "@@ -847,7 +847,9 @@ class TRDescriptor final : public DescriptorImpl\n         XOnlyPubKey xpk(keys[0]);\n         if (!xpk.IsFullyValid()) return {};\n         builder.Finalize(xpk);\n-        return Vector(GetScriptForDestination(builder.GetOutput()));\n+        WitnessV1Taproot output = builder.GetOutput();\n+        out.tr_spenddata[output].Merge(builder.GetSpendData());",
      "path": "src/script/descriptor.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "2fbaf0fcf4ea36b1f5a1902de45cbe18ba5aafbc",
      "in_reply_to_id": 617269496,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Well, not right now.\n\nBut like several things in this PR it's sort of written to accomodate future PSBT extensions that expose some of the TaprootSpendData. And one of the possbilities is only including information about a subset of leaves. In that case, you do want a merge operation when combining.",
      "created_at": "2021-06-09T15:07:31Z",
      "updated_at": "2021-06-09T15:07:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r648405030",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/648405030"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 847,
      "original_line": 847,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/648405868",
      "pull_request_review_id": 679788517,
      "id": 648405868,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0ODQwNTg2OA==",
      "diff_hunk": "@@ -847,7 +847,9 @@ class TRDescriptor final : public DescriptorImpl\n         XOnlyPubKey xpk(keys[0]);\n         if (!xpk.IsFullyValid()) return {};",
      "path": "src/script/descriptor.cpp",
      "position": 2,
      "original_position": 2,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "2fbaf0fcf4ea36b1f5a1902de45cbe18ba5aafbc",
      "in_reply_to_id": 617270330,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "There is no real difference. An unspendable internal pubkey is just a pubkey with no known private key. You still need to actually select one.",
      "created_at": "2021-06-09T15:08:28Z",
      "updated_at": "2021-06-09T15:08:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r648405868",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/648405868"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 844,
      "original_line": 844,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/648592068",
      "pull_request_review_id": 680033048,
      "id": 648592068,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0ODU5MjA2OA==",
      "diff_hunk": "@@ -50,11 +52,13 @@ struct FlatSigningProvider final : public SigningProvider\n     std::map<CKeyID, CPubKey> pubkeys;\n     std::map<CKeyID, std::pair<CPubKey, KeyOriginInfo>> origins;\n     std::map<CKeyID, CKey> keys;\n+    std::map<XOnlyPubKey, TaprootSpendData> tr_spenddata;",
      "path": "src/script/signingprovider.h",
      "position": null,
      "original_position": 20,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "2fbaf0fcf4ea36b1f5a1902de45cbe18ba5aafbc",
      "in_reply_to_id": 615614539,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done (here using a comment, and in function calls by changing the parameter name to `output_key`).",
      "created_at": "2021-06-09T18:54:40Z",
      "updated_at": "2021-06-09T18:55:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r648592068",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/648592068"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 55,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/648908912",
      "pull_request_review_id": 680417837,
      "id": 648908912,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0ODkwODkxMg==",
      "diff_hunk": "@@ -128,6 +128,18 @@ class CKey\n      */\n     bool SignCompact(const uint256& hash, std::vector<unsigned char>& vchSig) const;\n \n+    /**\n+     * Create a BIP-340 Schnorr signature, for the xonly-pubkey corresponding to *this,\n+     * optionally tweaked by *merkle_root. Additional nonce entropy can be provided through\n+     * aux.\n+     *\n+     * When merkle_root is not nullptr, this results in a signature with a modified key as\n+     * specified in BIP341:\n+     * - If merkle_root->IsNull(): key + H_TapTweak(pubkey)*G\n+     * - Otherwise:                key + H_TapTweak(pubkey || *merkle_root)",
      "path": "src/key.h",
      "position": 12,
      "original_position": 12,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "7e68f9eae74e4ece24201441d856e269c5ebb1cc",
      "in_reply_to_id": null,
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n     * - Otherwise:                key + H_TapTweak(pubkey || *merkle_root)*G\r\n```",
      "created_at": "2021-06-10T07:09:31Z",
      "updated_at": "2021-06-17T20:44:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r648908912",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/648908912"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 139,
      "original_line": 139,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/649362572",
      "pull_request_review_id": 681030834,
      "id": 649362572,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0OTM2MjU3Mg==",
      "diff_hunk": "@@ -847,7 +847,9 @@ class TRDescriptor final : public DescriptorImpl\n         XOnlyPubKey xpk(keys[0]);\n         if (!xpk.IsFullyValid()) return {};",
      "path": "src/script/descriptor.cpp",
      "position": 2,
      "original_position": 2,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "2fbaf0fcf4ea36b1f5a1902de45cbe18ba5aafbc",
      "in_reply_to_id": 617270330,
      "user": {
        "login": "michaelfolkson",
        "id": 16323900,
        "node_id": "MDQ6VXNlcjE2MzIzOTAw",
        "avatar_url": "https://avatars.githubusercontent.com/u/16323900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/michaelfolkson",
        "html_url": "https://github.com/michaelfolkson",
        "followers_url": "https://api.github.com/users/michaelfolkson/followers",
        "following_url": "https://api.github.com/users/michaelfolkson/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/michaelfolkson/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/michaelfolkson/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/michaelfolkson/subscriptions",
        "organizations_url": "https://api.github.com/users/michaelfolkson/orgs",
        "repos_url": "https://api.github.com/users/michaelfolkson/repos",
        "events_url": "https://api.github.com/users/michaelfolkson/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/michaelfolkson/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "@S3RK: More details here https://bitcoin.stackexchange.com/questions/99722/taproot-eliminating-key-path",
      "created_at": "2021-06-10T16:53:24Z",
      "updated_at": "2021-06-10T16:53:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r649362572",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/649362572"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 844,
      "original_line": 844,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653057926",
      "pull_request_review_id": 685669684,
      "id": 653057926,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MzA1NzkyNg==",
      "diff_hunk": "@@ -104,6 +152,86 @@ static bool CreateSig(const BaseSignatureCreator& creator, SignatureData& sigdat\n     return false;\n }\n \n+static bool CreateTaprootScriptSig(const BaseSignatureCreator& creator, SignatureData& sigdata, const SigningProvider& provider, std::vector<unsigned char>& sig_out, const XOnlyPubKey& pubkey, const uint256& leaf_hash, SigVersion sigversion)\n+{\n+    auto lookup_key = std::make_pair(pubkey, leaf_hash);\n+    auto it = sigdata.taproot_script_sigs.find(lookup_key);\n+    if (it != sigdata.taproot_script_sigs.end()) {\n+        sig_out = it->second;\n+    }\n+    if (creator.CreateSchnorrSig(provider, sig_out, pubkey, &leaf_hash, nullptr, sigversion)) {\n+        sigdata.taproot_script_sigs[lookup_key] = sig_out;\n+        return true;\n+    }\n+    return false;\n+}\n+\n+static bool SignTaprootScript(const SigningProvider& provider, const BaseSignatureCreator& creator, SignatureData& sigdata, int leaf_version, const CScript& script, std::vector<valtype>& result)\n+{\n+    // Only BIP342 tapscript signing is supported for now.\n+    if (leaf_version != TAPROOT_LEAF_TAPSCRIPT) return false;\n+    SigVersion sigversion = SigVersion::TAPSCRIPT;\n+\n+    uint256 leaf_hash = (CHashWriter(HASHER_TAPLEAF) << uint8_t(leaf_version) << script).GetSHA256();\n+\n+    // <xonly pubkey> OP_CHECKSIG\n+    if (script.size() == 34 && script[33] == OP_CHECKSIG && script[0] == 0x20) {\n+        XOnlyPubKey pubkey(MakeSpan(script).subspan(1, 32));\n+        std::vector<unsigned char> sig;\n+        if (CreateTaprootScriptSig(creator, sigdata, provider, sig, pubkey, leaf_hash, sigversion)) {\n+            result = Vector(std::move(sig));\n+            return true;\n+        }\n+    }\n+\n+    return false;\n+}\n+\n+static bool SignTaproot(const SigningProvider& provider, const BaseSignatureCreator& creator, const WitnessV1Taproot& output, SignatureData& sigdata, std::vector<valtype>& result)\n+{\n+    TaprootSpendData spenddata;\n+\n+    // Gather information about this output.\n+    if (provider.GetTaprootSpendData(output, spenddata)) {\n+        sigdata.tr_spenddata.Merge(spenddata);\n+    }\n+\n+    // Try key path spending.\n+    {\n+        std::vector<unsigned char> sig;\n+        if (sigdata.taproot_key_path_sig.size() == 0) {\n+            if (creator.CreateSchnorrSig(provider, sig, spenddata.internal_key, nullptr, &spenddata.merkle_root, SigVersion::TAPROOT)) {\n+                sigdata.taproot_key_path_sig = sig;\n+            }\n+        }\n+        if (sigdata.taproot_key_path_sig.size()) {",
      "path": "src/script/sign.cpp",
      "position": 152,
      "original_position": 125,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "a2380127e905e5849f90acc7c69832859d8336aa",
      "in_reply_to_id": null,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: this could go before the block with `sigdata.taproot_key_path_sig.size() == 0` to return early and then that other block would not need that other if statement",
      "created_at": "2021-06-16T21:13:11Z",
      "updated_at": "2021-06-17T00:49:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r653057926",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653057926"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 210,
      "original_line": 207,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653073598",
      "pull_request_review_id": 685669684,
      "id": 653073598,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MzA3MzU5OA==",
      "diff_hunk": "@@ -50,11 +52,13 @@ struct FlatSigningProvider final : public SigningProvider\n     std::map<CKeyID, CPubKey> pubkeys;\n     std::map<CKeyID, std::pair<CPubKey, KeyOriginInfo>> origins;\n     std::map<CKeyID, CKey> keys;\n+    std::map<XOnlyPubKey, TaprootSpendData> tr_spenddata; /** Map from output key to spend data. */",
      "path": "src/script/signingprovider.h",
      "position": 20,
      "original_position": 20,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "dbb0ce9fbff01ffe4dd29da465f43ecaddc2854c",
      "in_reply_to_id": null,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: `m_tr_spenddata`?",
      "created_at": "2021-06-16T21:41:59Z",
      "updated_at": "2021-06-17T00:49:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r653073598",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653073598"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 55,
      "original_line": 55,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653081288",
      "pull_request_review_id": 685669684,
      "id": 653081288,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MzA4MTI4OA==",
      "diff_hunk": "@@ -209,15 +210,38 @@ CScript GetScriptForRawPubKey(const CPubKey& pubkey);\n /** Generate a multisig script. */\n CScript GetScriptForMultisig(int nRequired, const std::vector<CPubKey>& keys);\n \n+struct TaprootSpendData\n+{\n+    /** The BIP341 internal key. */\n+    XOnlyPubKey internal_key;\n+    /** The Merkle root of the script tree (0 if no scripts). */\n+    uint256 merkle_root;\n+    /** Map from (script, leaf_version) to (sets of) control blocks. */\n+    std::map<std::pair<CScript, int>, std::set<std::vector<unsigned char>>> scripts;\n+    /** Merge other TaprootSpendData (for the same scriptPubKey) into this. */\n+    void Merge(TaprootSpendData other);\n+};\n+\n /** Utility class to construct Taproot outputs from internal key and script tree. */\n class TaprootBuilder\n {\n private:\n+    /** Information about a tracked leaf in the Merkle tree. */\n+    struct LeafInfo\n+    {\n+        CScript script;                      //!< The script.\n+        int leaf_version;                    //!< The leaf version for that script.\n+        std::vector<uint256> merkle_branch;  //!< The hashing partners above this leaf.\n+    };\n+\n     /** Information associated with a node in the Merkle tree. */\n     struct NodeInfo\n     {\n         /** Merkle hash of this node. */\n         uint256 hash;\n+        /** Tracked leaves underneath this node (either from the node itself, or its children).\n+         *  The merkle_branch field for each is the partners to get to *this* node. */",
      "path": "src/script/standard.h",
      "position": 54,
      "original_position": 42,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "dbb0ce9fbff01ffe4dd29da465f43ecaddc2854c",
      "in_reply_to_id": null,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: reads a bit strange but maybe I am not reading it right. I would write it as \"The merkle_branch field of each are the partners to get to *this* node.\"",
      "created_at": "2021-06-16T21:54:53Z",
      "updated_at": "2021-06-17T00:49:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r653081288",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653081288"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 255,
      "original_line": 243,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653102623",
      "pull_request_review_id": 685669684,
      "id": 653102623,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MzEwMjYyMw==",
      "diff_hunk": "@@ -40,9 +40,11 @@ class MutableTransactionSignatureCreator : public BaseSignatureCreator {\n     int nHashType;\n     CAmount amount;\n     const MutableTransactionSignatureChecker checker;\n+    const PrecomputedTransactionData* m_txdata;\n \n public:\n     MutableTransactionSignatureCreator(const CMutableTransaction* txToIn, unsigned int nInIn, const CAmount& amountIn, int nHashTypeIn = SIGHASH_ALL);\n+    MutableTransactionSignatureCreator(const CMutableTransaction* txToIn, unsigned int nInIn, const CAmount& amountIn, const PrecomputedTransactionData* txdata, int nHashTypeIn = SIGHASH_ALL);",
      "path": "src/script/sign.h",
      "position": 31,
      "original_position": 8,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "e841fb503d7a662bde01ec2e4794faa989265950",
      "in_reply_to_id": null,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why isn't `SIGHASH_DEFAULT` the default here now as well?",
      "created_at": "2021-06-16T22:41:44Z",
      "updated_at": "2021-06-17T00:49:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r653102623",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653102623"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 48,
      "original_line": 47,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653125636",
      "pull_request_review_id": 685669684,
      "id": 653125636,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MzEyNTYzNg==",
      "diff_hunk": "@@ -476,6 +633,26 @@ bool SignTransaction(CMutableTransaction& mtx, const SigningProvider* keystore,\n     // Use CTransaction for the constant parts of the\n     // transaction to avoid rehashing.\n     const CTransaction txConst(mtx);\n+\n+    PrecomputedTransactionData txdata;\n+    std::vector<CTxOut> spent_outputs;\n+    spent_outputs.resize(mtx.vin.size());\n+    bool have_all_spent_outputs = true;\n+    for (unsigned int i = 0; i < mtx.vin.size(); i++) {\n+        CTxIn& txin = mtx.vin[i];\n+        auto coin = coins.find(txin.prevout);\n+        if (coin == coins.end() || coin->second.IsSpent()) {\n+            have_all_spent_outputs = false;\n+        } else {\n+            spent_outputs[i] = CTxOut(coin->second.out.nValue, coin->second.out.scriptPubKey);\n+        }\n+    }\n+    if (have_all_spent_outputs) {\n+        txdata.Init(txConst, std::move(spent_outputs), true);\n+    } else {\n+        txdata.Init(txConst, {}, true);\n+    }",
      "path": "src/script/sign.cpp",
      "position": 269,
      "original_position": 269,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "in_reply_to_id": null,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: I think this loop could be simplified a little\r\n\r\n```suggestion\r\n    for (CTxIn& txin : mtx.vin) {\r\n        auto coin = coins.find(txin.prevout);\r\n        if (coin == coins.end() || coin->second.IsSpent()) {\r\n            txdata.Init(txConst, {}, true);\r\n            break;\r\n        }\r\n        spent_outputs.emplace_back(CTxOut(coin->second.out.nValue, coin->second.out.scriptPubKey));\r\n    }\r\n    if (mtx.vin.size() == spent_outputs.size()) {\r\n        txdata.Init(txConst, std::move(spent_outputs), true);\r\n    }\r\n```",
      "created_at": "2021-06-16T23:46:14Z",
      "updated_at": "2021-06-17T00:49:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r653125636",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653125636"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": 639,
      "original_start_line": 639,
      "start_side": "RIGHT",
      "line": 654,
      "original_line": 654,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653131909",
      "pull_request_review_id": 685669684,
      "id": 653131909,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MzEzMTkwOQ==",
      "diff_hunk": "@@ -48,6 +51,51 @@ bool MutableTransactionSignatureCreator::CreateSig(const SigningProvider& provid\n     return true;\n }\n \n+bool MutableTransactionSignatureCreator::CreateSchnorrSig(const SigningProvider& provider, std::vector<unsigned char>& sig, const XOnlyPubKey& pubkey, const uint256* leaf_hash, const uint256* merkle_root, SigVersion sigversion) const\n+{\n+    assert(sigversion == SigVersion::TAPROOT || sigversion == SigVersion::TAPSCRIPT);\n+\n+    CKey key;\n+    {\n+        // For now, use the old full pubkey-based key derivation logic. As it indexed by",
      "path": "src/script/sign.cpp",
      "position": 57,
      "original_position": 27,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "a2380127e905e5849f90acc7c69832859d8336aa",
      "in_reply_to_id": null,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "As it *is* indexed by",
      "created_at": "2021-06-17T00:04:44Z",
      "updated_at": "2021-06-17T00:49:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r653131909",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653131909"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 63,
      "original_line": 60,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653671909",
      "pull_request_review_id": 686457570,
      "id": 653671909,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MzY3MTkwOQ==",
      "diff_hunk": "@@ -1431,9 +1431,9 @@ void PrecomputedTransactionData::Init(const T& txTo, std::vector<CTxOut>&& spent\n     }\n \n     // Determine which precomputation-impacting features this transaction uses.\n-    bool uses_bip143_segwit = false;\n-    bool uses_bip341_taproot = false;\n-    for (size_t inpos = 0; inpos < txTo.vin.size(); ++inpos) {\n+    bool uses_bip143_segwit = force;\n+    bool uses_bip341_taproot = force;\n+    for (size_t inpos = 0; inpos < txTo.vin.size() && !(uses_bip143_segwit && uses_bip341_taproot); ++inpos) {",
      "path": "src/script/interpreter.cpp",
      "position": 18,
      "original_position": 18,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "ce9353164bdb6215a62b2b6dcb2121d331796f60",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "ce9353164bdb6215a62b2b6dcb2121d331796f60: suggest moving `if (uses_bip341_taproot && uses_bip143_segwit) break; // No need to scan further if we already need all.` up to the start of the loop instead.\r\n\r\nIn the commit message maybe replace \"just permit precomputing\" with \"just precompute\".",
      "created_at": "2021-06-17T15:23:48Z",
      "updated_at": "2021-06-17T18:27:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r653671909",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653671909"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1436,
      "original_line": 1436,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653678722",
      "pull_request_review_id": 686457570,
      "id": 653678722,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MzY3ODcyMg==",
      "diff_hunk": "@@ -1478,8 +1478,8 @@ PrecomputedTransactionData::PrecomputedTransactionData(const T& txTo)\n }\n \n // explicit instantiation\n-template void PrecomputedTransactionData::Init(const CTransaction& txTo, std::vector<CTxOut>&& spent_outputs);\n-template void PrecomputedTransactionData::Init(const CMutableTransaction& txTo, std::vector<CTxOut>&& spent_outputs);\n+template void PrecomputedTransactionData::Init(const CTransaction& txTo, std::vector<CTxOut>&& spent_outputs, bool force);",
      "path": "src/script/interpreter.cpp",
      "position": 28,
      "original_position": 28,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "ce9353164bdb6215a62b2b6dcb2121d331796f60",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Suggested comment:\r\n```\r\n// * @param[in]   force   Precompute data for both bip341 taproot and bip143 segwit signatures regardless of the actual inputs.\r\n```",
      "created_at": "2021-06-17T15:29:50Z",
      "updated_at": "2021-06-17T18:27:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r653678722",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653678722"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1481,
      "original_line": 1481,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653907350",
      "pull_request_review_id": 680417837,
      "id": 653907350,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MzkwNzM1MA==",
      "diff_hunk": "@@ -128,6 +128,18 @@ class CKey\n      */\n     bool SignCompact(const uint256& hash, std::vector<unsigned char>& vchSig) const;\n \n+    /**\n+     * Create a BIP-340 Schnorr signature, for the xonly-pubkey corresponding to *this,\n+     * optionally tweaked by *merkle_root. Additional nonce entropy can be provided through\n+     * aux.\n+     *\n+     * When merkle_root is not nullptr, this results in a signature with a modified key as",
      "path": "src/key.h",
      "position": 9,
      "original_position": 9,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "in_reply_to_id": null,
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "What's the use case for non-tweaked signatures?\r\n\r\nnit: The difference between `merkle_root == nullptr` and `merkel_root->IsNull()` is subtle enough that\r\none might be mistaken, especially when passing the `aux` parameter and not reading the comments closely. Could this be a potential problem in the future?",
      "created_at": "2021-06-17T20:20:34Z",
      "updated_at": "2021-06-17T20:44:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r653907350",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653907350"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 136,
      "original_line": 136,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654047138",
      "pull_request_review_id": 686922411,
      "id": 654047138,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NDA0NzEzOA==",
      "diff_hunk": "@@ -104,6 +152,86 @@ static bool CreateSig(const BaseSignatureCreator& creator, SignatureData& sigdat\n     return false;\n }\n \n+static bool CreateTaprootScriptSig(const BaseSignatureCreator& creator, SignatureData& sigdata, const SigningProvider& provider, std::vector<unsigned char>& sig_out, const XOnlyPubKey& pubkey, const uint256& leaf_hash, SigVersion sigversion)\n+{\n+    auto lookup_key = std::make_pair(pubkey, leaf_hash);\n+    auto it = sigdata.taproot_script_sigs.find(lookup_key);\n+    if (it != sigdata.taproot_script_sigs.end()) {\n+        sig_out = it->second;\n+    }\n+    if (creator.CreateSchnorrSig(provider, sig_out, pubkey, &leaf_hash, nullptr, sigversion)) {\n+        sigdata.taproot_script_sigs[lookup_key] = sig_out;\n+        return true;\n+    }\n+    return false;\n+}\n+\n+static bool SignTaprootScript(const SigningProvider& provider, const BaseSignatureCreator& creator, SignatureData& sigdata, int leaf_version, const CScript& script, std::vector<valtype>& result)\n+{\n+    // Only BIP342 tapscript signing is supported for now.\n+    if (leaf_version != TAPROOT_LEAF_TAPSCRIPT) return false;\n+    SigVersion sigversion = SigVersion::TAPSCRIPT;\n+\n+    uint256 leaf_hash = (CHashWriter(HASHER_TAPLEAF) << uint8_t(leaf_version) << script).GetSHA256();\n+\n+    // <xonly pubkey> OP_CHECKSIG\n+    if (script.size() == 34 && script[33] == OP_CHECKSIG && script[0] == 0x20) {\n+        XOnlyPubKey pubkey(MakeSpan(script).subspan(1, 32));\n+        std::vector<unsigned char> sig;\n+        if (CreateTaprootScriptSig(creator, sigdata, provider, sig, pubkey, leaf_hash, sigversion)) {\n+            result = Vector(std::move(sig));\n+            return true;\n+        }\n+    }\n+\n+    return false;\n+}\n+\n+static bool SignTaproot(const SigningProvider& provider, const BaseSignatureCreator& creator, const WitnessV1Taproot& output, SignatureData& sigdata, std::vector<valtype>& result)\n+{\n+    TaprootSpendData spenddata;\n+\n+    // Gather information about this output.\n+    if (provider.GetTaprootSpendData(output, spenddata)) {\n+        sigdata.tr_spenddata.Merge(spenddata);\n+    }\n+\n+    // Try key path spending.\n+    {\n+        std::vector<unsigned char> sig;\n+        if (sigdata.taproot_key_path_sig.size() == 0) {\n+            if (creator.CreateSchnorrSig(provider, sig, spenddata.internal_key, nullptr, &spenddata.merkle_root, SigVersion::TAPROOT)) {\n+                sigdata.taproot_key_path_sig = sig;\n+            }\n+        }\n+        if (sigdata.taproot_key_path_sig.size()) {",
      "path": "src/script/sign.cpp",
      "position": 152,
      "original_position": 125,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "a2380127e905e5849f90acc7c69832859d8336aa",
      "in_reply_to_id": 653057926,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I tried this for a bit, but I don't find the result cleaner.",
      "created_at": "2021-06-17T23:28:49Z",
      "updated_at": "2021-06-17T23:28:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r654047138",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654047138"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 210,
      "original_line": 207,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654047671",
      "pull_request_review_id": 686923019,
      "id": 654047671,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NDA0NzY3MQ==",
      "diff_hunk": "@@ -50,11 +52,13 @@ struct FlatSigningProvider final : public SigningProvider\n     std::map<CKeyID, CPubKey> pubkeys;\n     std::map<CKeyID, std::pair<CPubKey, KeyOriginInfo>> origins;\n     std::map<CKeyID, CKey> keys;\n+    std::map<XOnlyPubKey, TaprootSpendData> tr_spenddata; /** Map from output key to spend data. */",
      "path": "src/script/signingprovider.h",
      "position": 20,
      "original_position": 20,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "dbb0ce9fbff01ffe4dd29da465f43ecaddc2854c",
      "in_reply_to_id": 653073598,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It's a `struct`, not a `class`, so the developer notes don't require that (it's inconsistently applied through the codebase, in some cases using `m_` prefixes for struct members too, but I don't think that's enough reason to do so here).",
      "created_at": "2021-06-17T23:30:26Z",
      "updated_at": "2021-06-17T23:30:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r654047671",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654047671"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 55,
      "original_line": 55,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654051719",
      "pull_request_review_id": 686927481,
      "id": 654051719,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NDA1MTcxOQ==",
      "diff_hunk": "@@ -128,6 +128,18 @@ class CKey\n      */\n     bool SignCompact(const uint256& hash, std::vector<unsigned char>& vchSig) const;\n \n+    /**\n+     * Create a BIP-340 Schnorr signature, for the xonly-pubkey corresponding to *this,\n+     * optionally tweaked by *merkle_root. Additional nonce entropy can be provided through\n+     * aux.\n+     *\n+     * When merkle_root is not nullptr, this results in a signature with a modified key as\n+     * specified in BIP341:\n+     * - If merkle_root->IsNull(): key + H_TapTweak(pubkey)*G\n+     * - Otherwise:                key + H_TapTweak(pubkey || *merkle_root)",
      "path": "src/key.h",
      "position": 12,
      "original_position": 12,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "7e68f9eae74e4ece24201441d856e269c5ebb1cc",
      "in_reply_to_id": 648908912,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It's referring to the operation applied to the private key, not the public one.",
      "created_at": "2021-06-17T23:42:48Z",
      "updated_at": "2021-06-17T23:42:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r654051719",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654051719"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 139,
      "original_line": 139,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654052096",
      "pull_request_review_id": 686927949,
      "id": 654052096,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NDA1MjA5Ng==",
      "diff_hunk": "@@ -128,6 +128,18 @@ class CKey\n      */\n     bool SignCompact(const uint256& hash, std::vector<unsigned char>& vchSig) const;\n \n+    /**\n+     * Create a BIP-340 Schnorr signature, for the xonly-pubkey corresponding to *this,\n+     * optionally tweaked by *merkle_root. Additional nonce entropy can be provided through\n+     * aux.\n+     *\n+     * When merkle_root is not nullptr, this results in a signature with a modified key as",
      "path": "src/key.h",
      "position": 9,
      "original_position": 9,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "in_reply_to_id": 653907350,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Signatures with OP_CHECKSIG and friends aren't tweaked; only key-path signatures are.\r\n\r\nSo we do need both a way to ask for untweaked, and for tweaked with nothing. I agree it's confusing, though we need a way to ask for both. Getting it wrong is exceedingly likely to cause validation failures, though.",
      "created_at": "2021-06-17T23:44:09Z",
      "updated_at": "2021-06-18T00:26:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r654052096",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654052096"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 136,
      "original_line": 136,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654070835",
      "pull_request_review_id": 686949063,
      "id": 654070835,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NDA3MDgzNQ==",
      "diff_hunk": "@@ -40,9 +40,11 @@ class MutableTransactionSignatureCreator : public BaseSignatureCreator {\n     int nHashType;\n     CAmount amount;\n     const MutableTransactionSignatureChecker checker;\n+    const PrecomputedTransactionData* m_txdata;\n \n public:\n     MutableTransactionSignatureCreator(const CMutableTransaction* txToIn, unsigned int nInIn, const CAmount& amountIn, int nHashTypeIn = SIGHASH_ALL);\n+    MutableTransactionSignatureCreator(const CMutableTransaction* txToIn, unsigned int nInIn, const CAmount& amountIn, const PrecomputedTransactionData* txdata, int nHashTypeIn = SIGHASH_ALL);",
      "path": "src/script/sign.h",
      "position": 31,
      "original_position": 8,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "e841fb503d7a662bde01ec2e4794faa989265950",
      "in_reply_to_id": 653102623,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed in https://github.com/bitcoin/bitcoin/pull/22275; just removed the default argument value.",
      "created_at": "2021-06-18T00:48:06Z",
      "updated_at": "2021-06-18T00:48:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r654070835",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654070835"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 48,
      "original_line": 47,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654070887",
      "pull_request_review_id": 686949118,
      "id": 654070887,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NDA3MDg4Nw==",
      "diff_hunk": "@@ -476,6 +633,26 @@ bool SignTransaction(CMutableTransaction& mtx, const SigningProvider* keystore,\n     // Use CTransaction for the constant parts of the\n     // transaction to avoid rehashing.\n     const CTransaction txConst(mtx);\n+\n+    PrecomputedTransactionData txdata;\n+    std::vector<CTxOut> spent_outputs;\n+    spent_outputs.resize(mtx.vin.size());\n+    bool have_all_spent_outputs = true;\n+    for (unsigned int i = 0; i < mtx.vin.size(); i++) {\n+        CTxIn& txin = mtx.vin[i];\n+        auto coin = coins.find(txin.prevout);\n+        if (coin == coins.end() || coin->second.IsSpent()) {\n+            have_all_spent_outputs = false;\n+        } else {\n+            spent_outputs[i] = CTxOut(coin->second.out.nValue, coin->second.out.scriptPubKey);\n+        }\n+    }\n+    if (have_all_spent_outputs) {\n+        txdata.Init(txConst, std::move(spent_outputs), true);\n+    } else {\n+        txdata.Init(txConst, {}, true);\n+    }",
      "path": "src/script/sign.cpp",
      "position": 269,
      "original_position": 269,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "in_reply_to_id": 653125636,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done in https://github.com/bitcoin/bitcoin/pull/22275.",
      "created_at": "2021-06-18T00:48:16Z",
      "updated_at": "2021-06-18T00:48:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r654070887",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654070887"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": 639,
      "original_start_line": 639,
      "start_side": "RIGHT",
      "line": 654,
      "original_line": 654,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654070937",
      "pull_request_review_id": 686949152,
      "id": 654070937,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NDA3MDkzNw==",
      "diff_hunk": "@@ -1478,8 +1478,8 @@ PrecomputedTransactionData::PrecomputedTransactionData(const T& txTo)\n }\n \n // explicit instantiation\n-template void PrecomputedTransactionData::Init(const CTransaction& txTo, std::vector<CTxOut>&& spent_outputs);\n-template void PrecomputedTransactionData::Init(const CMutableTransaction& txTo, std::vector<CTxOut>&& spent_outputs);\n+template void PrecomputedTransactionData::Init(const CTransaction& txTo, std::vector<CTxOut>&& spent_outputs, bool force);",
      "path": "src/script/interpreter.cpp",
      "position": 28,
      "original_position": 28,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "ce9353164bdb6215a62b2b6dcb2121d331796f60",
      "in_reply_to_id": 653678722,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done in https://github.com/bitcoin/bitcoin/pull/22275.",
      "created_at": "2021-06-18T00:48:25Z",
      "updated_at": "2021-06-18T00:48:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r654070937",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654070937"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1481,
      "original_line": 1481,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654071005",
      "pull_request_review_id": 686949223,
      "id": 654071005,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NDA3MTAwNQ==",
      "diff_hunk": "@@ -1431,9 +1431,9 @@ void PrecomputedTransactionData::Init(const T& txTo, std::vector<CTxOut>&& spent\n     }\n \n     // Determine which precomputation-impacting features this transaction uses.\n-    bool uses_bip143_segwit = false;\n-    bool uses_bip341_taproot = false;\n-    for (size_t inpos = 0; inpos < txTo.vin.size(); ++inpos) {\n+    bool uses_bip143_segwit = force;\n+    bool uses_bip341_taproot = force;\n+    for (size_t inpos = 0; inpos < txTo.vin.size() && !(uses_bip143_segwit && uses_bip341_taproot); ++inpos) {",
      "path": "src/script/interpreter.cpp",
      "position": 18,
      "original_position": 18,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "ce9353164bdb6215a62b2b6dcb2121d331796f60",
      "in_reply_to_id": 653671909,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Too late.",
      "created_at": "2021-06-18T00:48:40Z",
      "updated_at": "2021-06-18T00:48:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r654071005",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654071005"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1436,
      "original_line": 1436,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654071053",
      "pull_request_review_id": 686949273,
      "id": 654071053,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NDA3MTA1Mw==",
      "diff_hunk": "@@ -48,6 +51,51 @@ bool MutableTransactionSignatureCreator::CreateSig(const SigningProvider& provid\n     return true;\n }\n \n+bool MutableTransactionSignatureCreator::CreateSchnorrSig(const SigningProvider& provider, std::vector<unsigned char>& sig, const XOnlyPubKey& pubkey, const uint256* leaf_hash, const uint256* merkle_root, SigVersion sigversion) const\n+{\n+    assert(sigversion == SigVersion::TAPROOT || sigversion == SigVersion::TAPSCRIPT);\n+\n+    CKey key;\n+    {\n+        // For now, use the old full pubkey-based key derivation logic. As it indexed by",
      "path": "src/script/sign.cpp",
      "position": 57,
      "original_position": 27,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "a2380127e905e5849f90acc7c69832859d8336aa",
      "in_reply_to_id": 653131909,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done in https://github.com/bitcoin/bitcoin/pull/22275.",
      "created_at": "2021-06-18T00:48:50Z",
      "updated_at": "2021-06-18T00:48:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r654071053",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654071053"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 63,
      "original_line": 60,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654071108",
      "pull_request_review_id": 686949331,
      "id": 654071108,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NDA3MTEwOA==",
      "diff_hunk": "@@ -209,15 +210,38 @@ CScript GetScriptForRawPubKey(const CPubKey& pubkey);\n /** Generate a multisig script. */\n CScript GetScriptForMultisig(int nRequired, const std::vector<CPubKey>& keys);\n \n+struct TaprootSpendData\n+{\n+    /** The BIP341 internal key. */\n+    XOnlyPubKey internal_key;\n+    /** The Merkle root of the script tree (0 if no scripts). */\n+    uint256 merkle_root;\n+    /** Map from (script, leaf_version) to (sets of) control blocks. */\n+    std::map<std::pair<CScript, int>, std::set<std::vector<unsigned char>>> scripts;\n+    /** Merge other TaprootSpendData (for the same scriptPubKey) into this. */\n+    void Merge(TaprootSpendData other);\n+};\n+\n /** Utility class to construct Taproot outputs from internal key and script tree. */\n class TaprootBuilder\n {\n private:\n+    /** Information about a tracked leaf in the Merkle tree. */\n+    struct LeafInfo\n+    {\n+        CScript script;                      //!< The script.\n+        int leaf_version;                    //!< The leaf version for that script.\n+        std::vector<uint256> merkle_branch;  //!< The hashing partners above this leaf.\n+    };\n+\n     /** Information associated with a node in the Merkle tree. */\n     struct NodeInfo\n     {\n         /** Merkle hash of this node. */\n         uint256 hash;\n+        /** Tracked leaves underneath this node (either from the node itself, or its children).\n+         *  The merkle_branch field for each is the partners to get to *this* node. */",
      "path": "src/script/standard.h",
      "position": 54,
      "original_position": 42,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "dbb0ce9fbff01ffe4dd29da465f43ecaddc2854c",
      "in_reply_to_id": 653081288,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done in https://github.com/bitcoin/bitcoin/pull/22275.",
      "created_at": "2021-06-18T00:48:59Z",
      "updated_at": "2021-06-18T00:49:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r654071108",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654071108"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 255,
      "original_line": 243,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654535020",
      "pull_request_review_id": 687547660,
      "id": 654535020,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NDUzNTAyMA==",
      "diff_hunk": "@@ -128,6 +128,18 @@ class CKey\n      */\n     bool SignCompact(const uint256& hash, std::vector<unsigned char>& vchSig) const;\n \n+    /**\n+     * Create a BIP-340 Schnorr signature, for the xonly-pubkey corresponding to *this,\n+     * optionally tweaked by *merkle_root. Additional nonce entropy can be provided through\n+     * aux.\n+     *\n+     * When merkle_root is not nullptr, this results in a signature with a modified key as",
      "path": "src/key.h",
      "position": 9,
      "original_position": 9,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "in_reply_to_id": 653907350,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yikes, I missed that subtlety too. In #22275 you could expand the comment bit, e.g.:\r\n```\r\n* When merkle_root is nullptr, as distinct from merkle_root->IsNull(), the signature is not tweaked.\r\n* This is the case for e.g. OP_CHECKSIG in a tapscript.\r\n* For key-path signatures on the other hand the signature is always tweaked (merkle_root is not nullptr) as follows:\r\n```",
      "created_at": "2021-06-18T15:51:37Z",
      "updated_at": "2021-06-18T15:53:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r654535020",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654535020"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 136,
      "original_line": 136,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654662347",
      "pull_request_review_id": 687709933,
      "id": 654662347,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NDY2MjM0Nw==",
      "diff_hunk": "@@ -128,6 +128,18 @@ class CKey\n      */\n     bool SignCompact(const uint256& hash, std::vector<unsigned char>& vchSig) const;\n \n+    /**\n+     * Create a BIP-340 Schnorr signature, for the xonly-pubkey corresponding to *this,\n+     * optionally tweaked by *merkle_root. Additional nonce entropy can be provided through\n+     * aux.\n+     *\n+     * When merkle_root is not nullptr, this results in a signature with a modified key as",
      "path": "src/key.h",
      "position": 9,
      "original_position": 9,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "in_reply_to_id": 653907350,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Added something like that to https://github.com/bitcoin/bitcoin/pull/22275.",
      "created_at": "2021-06-18T20:28:22Z",
      "updated_at": "2021-06-18T20:28:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r654662347",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654662347"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 136,
      "original_line": 136,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654665547",
      "pull_request_review_id": 687713954,
      "id": 654665547,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NDY2NTU0Nw==",
      "diff_hunk": "@@ -128,6 +128,18 @@ class CKey\n      */\n     bool SignCompact(const uint256& hash, std::vector<unsigned char>& vchSig) const;\n \n+    /**\n+     * Create a BIP-340 Schnorr signature, for the xonly-pubkey corresponding to *this,\n+     * optionally tweaked by *merkle_root. Additional nonce entropy can be provided through\n+     * aux.\n+     *\n+     * When merkle_root is not nullptr, this results in a signature with a modified key as\n+     * specified in BIP341:\n+     * - If merkle_root->IsNull(): key + H_TapTweak(pubkey)*G\n+     * - Otherwise:                key + H_TapTweak(pubkey || *merkle_root)",
      "path": "src/key.h",
      "position": 12,
      "original_position": 12,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "7e68f9eae74e4ece24201441d856e269c5ebb1cc",
      "in_reply_to_id": 648908912,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Oh, so the the line before is wrong. I see. Added in https://github.com/bitcoin/bitcoin/pull/22275.",
      "created_at": "2021-06-18T20:36:49Z",
      "updated_at": "2021-06-18T20:36:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r654665547",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654665547"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 139,
      "original_line": 139,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/656962860",
      "pull_request_review_id": 690474310,
      "id": 656962860,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1Njk2Mjg2MA==",
      "diff_hunk": "@@ -386,6 +396,21 @@ bool IsValidDestination(const CTxDestination& dest) {\n     return ret;\n }\n \n+void TaprootSpendData::Merge(TaprootSpendData other)\n+{\n+    // TODO: figure out how to better deal with conflicting information\n+    // being merged.\n+    if (internal_key.IsNull() && !other.internal_key.IsNull()) {\n+        internal_key = other.internal_key;\n+    }\n+    if (merkle_root.IsNull() && !other.merkle_root.IsNull()) {\n+        merkle_root = other.merkle_root;\n+    }\n+    for (auto& [key, control_blocks] : other.scripts) {\n+        scripts[key].merge(std::move(control_blocks));",
      "path": "src/script/standard.cpp",
      "position": 32,
      "original_position": 32,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "in_reply_to_id": null,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "On macOS Mojave 10.14.6 (18G9216) system clang fails to compile this line due to the lack of `std::set::merge` support.\r\n\r\n```\r\n$ clang --version\r\nApple LLVM version 10.0.1 (clang-1001.0.46.4)\r\nTarget: x86_64-apple-darwin18.7.0\r\nThread model: posix\r\nInstalledDir: /Library/Developer/CommandLineTools/usr/bin\r\n```\r\n\r\nSee: https://stackoverflow.com/questions/50444908/clang-6-not-supporting-unordered-mapmerge\r\n\r\nReported by @S3RK.",
      "created_at": "2021-06-23T10:24:13Z",
      "updated_at": "2021-06-26T02:22:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r656962860",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/656962860"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 410,
      "original_line": 410,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/656972613",
      "pull_request_review_id": 690486846,
      "id": 656972613,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1Njk3MjYxMw==",
      "diff_hunk": "@@ -386,6 +396,21 @@ bool IsValidDestination(const CTxDestination& dest) {\n     return ret;\n }\n \n+void TaprootSpendData::Merge(TaprootSpendData other)\n+{\n+    // TODO: figure out how to better deal with conflicting information\n+    // being merged.\n+    if (internal_key.IsNull() && !other.internal_key.IsNull()) {\n+        internal_key = other.internal_key;\n+    }\n+    if (merkle_root.IsNull() && !other.merkle_root.IsNull()) {\n+        merkle_root = other.merkle_root;\n+    }\n+    for (auto& [key, control_blocks] : other.scripts) {\n+        scripts[key].merge(std::move(control_blocks));",
      "path": "src/script/standard.cpp",
      "position": 32,
      "original_position": 32,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "in_reply_to_id": 656962860,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I presume this would also make it harder to compile on https://packages.debian.org/stretch/gcc",
      "created_at": "2021-06-23T10:39:02Z",
      "updated_at": "2021-06-23T10:39:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r656972613",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/656972613"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 410,
      "original_line": 410,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/656978661",
      "pull_request_review_id": 690494803,
      "id": 656978661,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1Njk3ODY2MQ==",
      "diff_hunk": "@@ -386,6 +396,21 @@ bool IsValidDestination(const CTxDestination& dest) {\n     return ret;\n }\n \n+void TaprootSpendData::Merge(TaprootSpendData other)\n+{\n+    // TODO: figure out how to better deal with conflicting information\n+    // being merged.\n+    if (internal_key.IsNull() && !other.internal_key.IsNull()) {\n+        internal_key = other.internal_key;\n+    }\n+    if (merkle_root.IsNull() && !other.merkle_root.IsNull()) {\n+        merkle_root = other.merkle_root;\n+    }\n+    for (auto& [key, control_blocks] : other.scripts) {\n+        scripts[key].merge(std::move(control_blocks));",
      "path": "src/script/standard.cpp",
      "position": 32,
      "original_position": 32,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "in_reply_to_id": 656962860,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Since #20413 we support gcc 7+ only, right?",
      "created_at": "2021-06-23T10:48:39Z",
      "updated_at": "2021-06-23T10:48:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r656978661",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/656978661"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 410,
      "original_line": 410,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657016241",
      "pull_request_review_id": 690543906,
      "id": 657016241,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NzAxNjI0MQ==",
      "diff_hunk": "@@ -386,6 +396,21 @@ bool IsValidDestination(const CTxDestination& dest) {\n     return ret;\n }\n \n+void TaprootSpendData::Merge(TaprootSpendData other)\n+{\n+    // TODO: figure out how to better deal with conflicting information\n+    // being merged.\n+    if (internal_key.IsNull() && !other.internal_key.IsNull()) {\n+        internal_key = other.internal_key;\n+    }\n+    if (merkle_root.IsNull() && !other.merkle_root.IsNull()) {\n+        merkle_root = other.merkle_root;\n+    }\n+    for (auto& [key, control_blocks] : other.scripts) {\n+        scripts[key].merge(std::move(control_blocks));",
      "path": "src/script/standard.cpp",
      "position": 32,
      "original_position": 32,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "in_reply_to_id": 656962860,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In theory there is https://packages.debian.org/stretch/clang-7, but I don't think anyone was able to compile master with system packages on stretch recently.",
      "created_at": "2021-06-23T11:47:06Z",
      "updated_at": "2021-06-23T11:47:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r657016241",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657016241"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 410,
      "original_line": 410,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657041711",
      "pull_request_review_id": 690577852,
      "id": 657041711,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NzA0MTcxMQ==",
      "diff_hunk": "@@ -386,6 +396,21 @@ bool IsValidDestination(const CTxDestination& dest) {\n     return ret;\n }\n \n+void TaprootSpendData::Merge(TaprootSpendData other)\n+{\n+    // TODO: figure out how to better deal with conflicting information\n+    // being merged.\n+    if (internal_key.IsNull() && !other.internal_key.IsNull()) {\n+        internal_key = other.internal_key;\n+    }\n+    if (merkle_root.IsNull() && !other.merkle_root.IsNull()) {\n+        merkle_root = other.merkle_root;\n+    }\n+    for (auto& [key, control_blocks] : other.scripts) {\n+        scripts[key].merge(std::move(control_blocks));",
      "path": "src/script/standard.cpp",
      "position": 32,
      "original_position": 32,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "in_reply_to_id": 656962860,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Confirmed (for fun) that the issue exists with libc++7. \r\n\r\n```\r\n# make V=1\r\nMaking all in src\r\nmake[1]: Entering directory '/bitcoin/src'\r\nmake[2]: Entering directory '/bitcoin/src'\r\nmake[3]: Entering directory '/bitcoin'\r\nmake[3]: Leaving directory '/bitcoin'\r\n/usr/bin/ccache clang++-7 -stdlib=libc++ -std=c++17 -DHAVE_CONFIG_H -I. -I../src/config   -U_FORTIFY_SOURCE -D_FORTIFY_SOURCE=2 -I. -I./secp256k1/include  -DBOOST_SP_USE_STD_ATOMIC -DBOOST_AC_USE_STD_ATOMIC -I/usr/include -I./leveldb/include -I./leveldb/helpers/memenv -I./univalue/include -DHAVE_BUILD_INFO -D__STDC_FORMAT_MACROS -DPROVIDE_FUZZ_MAIN_FUNCTION -fdebug-prefix-map=/bitcoin/src=. -Wstack-protector -fstack-protector-all -Wall -Wextra -Wgnu -Wformat -Wformat-security -Wvla -Wshadow-field -Wswitch -Wthread-safety -Wrange-loop-analysis -Wredundant-decls -Wunused-variable -Wunused-member-function -Wdate-time -Wconditional-uninitialized -Wsign-compare -Woverloaded-virtual -Wunreachable-code-loop-increment -Wno-unused-parameter -Wno-self-assign -Wno-unused-local-typedef -Wno-implicit-fallthrough    -fPIE -g -O2 -MT script/libbitcoin_common_a-standard.o -MD -MP -MF script/.deps/libbitcoin_common_a-standard.Tpo -c -o script/libbitcoin_common_a-standard.o `test -f 'script/standard.cpp' || echo './'`script/standard.cpp\r\nscript/standard.cpp:410:22: error: no member named 'merge' in 'std::__1::set<std::__1::vector<unsigned char, std::__1::allocator<unsigned char> >, ShortestVectorFirstComparator, std::__1::allocator<std::__1::vector<unsigned char, std::__1::allocator<unsigned char> > > >'\r\n        scripts[key].merge(std::move(control_blocks));\r\n        ~~~~~~~~~~~~ ^\r\n1 error generated.\r\nMakefile:7756: recipe for target 'script/libbitcoin_common_a-standard.o' failed\r\nmake[2]: *** [script/libbitcoin_common_a-standard.o] Error 1\r\nmake[2]: Leaving directory '/bitcoin/src'\r\nMakefile:15489: recipe for target 'all-recursive' failed\r\nmake[1]: *** [all-recursive] Error 1\r\nmake[1]: Leaving directory '/bitcoin/src'\r\nMakefile:820: recipe for target 'all-recursive' failed\r\nmake: *** [all-recursive] Error 1\r\n```\r\n\r\n<!--\r\n\r\nexport DEBIAN_FRONTEND=noninteractive && apt update && apt install curl wget htop git vim ccache -y && git clone https://github.com/bitcoin/bitcoin.git && cd bitcoin && git checkout master && apt install build-essential libtool autotools-dev automake pkg-config bsdmainutils python3-zmq     libevent-dev libboost-system-dev libboost-filesystem-dev libboost-test-dev libboost-thread-dev  libsqlite3-dev  libdb++-dev  -y   &&  ./autogen.sh && apt install libqt5gui5 libqt5core5a libqt5dbus5 qttools5-dev qttools5-dev-tools -y && apt install clang-7 llvm-7 libc++abi-7-dev libc++-7-dev -y && ./configure CC=clang-7 CXX=\"clang++-7 -stdlib=libc++\"  --with-incompatible-bdb && make -j $(nproc) src/bitcoind",
      "created_at": "2021-06-23T12:23:57Z",
      "updated_at": "2021-06-23T12:23:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r657041711",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657041711"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 410,
      "original_line": 410,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/658464328",
      "pull_request_review_id": 692438116,
      "id": 658464328,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1ODQ2NDMyOA==",
      "diff_hunk": "@@ -386,6 +396,21 @@ bool IsValidDestination(const CTxDestination& dest) {\n     return ret;\n }\n \n+void TaprootSpendData::Merge(TaprootSpendData other)\n+{\n+    // TODO: figure out how to better deal with conflicting information\n+    // being merged.\n+    if (internal_key.IsNull() && !other.internal_key.IsNull()) {\n+        internal_key = other.internal_key;\n+    }\n+    if (merkle_root.IsNull() && !other.merkle_root.IsNull()) {\n+        merkle_root = other.merkle_root;\n+    }\n+    for (auto& [key, control_blocks] : other.scripts) {\n+        scripts[key].merge(std::move(control_blocks));",
      "path": "src/script/standard.cpp",
      "position": 32,
      "original_position": 32,
      "commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "original_commit_id": "458a345b0590fd2fa04c7d8d70beb8d57e34bbc8",
      "in_reply_to_id": 656962860,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "See #22339.",
      "created_at": "2021-06-25T04:24:23Z",
      "updated_at": "2021-06-25T04:24:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/21365#discussion_r658464328",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/658464328"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21365"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 410,
      "original_line": 410,
      "side": "RIGHT"
    }
  ]
}