{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636",
    "id": 1348270010,
    "node_id": "PR_kwDOABII585QXPe6",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/27636",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/27636.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/27636.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27636",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27636/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/7d3b35004b039f2bd606bb46a540de7babdbc41e",
    "number": 27636,
    "state": "closed",
    "locked": false,
    "maintainer_can_modify": false,
    "title": "kernel: Remove util/system from kernel library, interface_ui from validation.",
    "user": {
      "login": "TheCharlatan",
      "id": 8421793,
      "node_id": "MDQ6VXNlcjg0MjE3OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheCharlatan",
      "html_url": "https://github.com/TheCharlatan",
      "followers_url": "https://api.github.com/users/TheCharlatan/followers",
      "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
      "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
      "repos_url": "https://api.github.com/users/TheCharlatan/repos",
      "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This pull request is part of the `libbitcoinkernel` project https://github.com/bitcoin/bitcoin/issues/27587 https://github.com/bitcoin/bitcoin/projects/18 and more specifically its \"Step 2: Decouple most non-consensus code from libbitcoinkernel\".\r\n\r\n---\r\n\r\nIt removes the kernel library's dependency on `util/system` and `interface_ui`. `util/system` contains networking and shell-related code that should not be part of the kernel library. The following pull requests prepared `util/system` for this final step: https://github.com/bitcoin/bitcoin/pull/27419 https://github.com/bitcoin/bitcoin/pull/27254 https://github.com/bitcoin/bitcoin/pull/27238.\r\n\r\n`interface_ui` defines functions for a more general node interface and has a dependency on `boost/signals2`. After applying the patches from this pull request, the kernel's reliance on boost is down to `boost::multiindex`.\r\n\r\nThe approach implemented here introduces some indirection, which makes the code a bit harder to read. Any suggestions for improving or reworking this pull request to make it more concise, or even reworking it into a more proper interface, are appreciated.",
    "labels": [
      {
        "id": 118379652,
        "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
        "name": "Validation",
        "color": "6060aa",
        "default": false
      }
    ],
    "created_at": "2023-05-12T08:03:05Z",
    "updated_at": "2023-05-30T13:57:35Z",
    "closed_at": "2023-05-30T13:57:34Z",
    "mergeable_state": "unknown",
    "merged_at": "2023-05-30T13:57:34Z",
    "merge_commit_sha": "9564f98fee9809530e10070ab18738aefe95445e",
    "assignee": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "requested_reviewers": [
      {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "requested_teams": [],
    "head": {
      "label": "TheCharlatan:chainstateRmKernelUiInterface",
      "ref": "chainstateRmKernelUiInterface",
      "sha": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 94456368,
        "node_id": "MDEwOlJlcG9zaXRvcnk5NDQ1NjM2OA==",
        "name": "bitcoin",
        "full_name": "TheCharlatan/bitcoin",
        "owner": {
          "login": "TheCharlatan",
          "id": 8421793,
          "node_id": "MDQ6VXNlcjg0MjE3OTM=",
          "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/TheCharlatan",
          "html_url": "https://github.com/TheCharlatan",
          "followers_url": "https://api.github.com/users/TheCharlatan/followers",
          "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
          "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
          "repos_url": "https://api.github.com/users/TheCharlatan/repos",
          "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/TheCharlatan/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/TheCharlatan/bitcoin",
        "archive_url": "https://api.github.com/repos/TheCharlatan/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/TheCharlatan/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/TheCharlatan/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/TheCharlatan/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/TheCharlatan/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/TheCharlatan/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/TheCharlatan/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/TheCharlatan/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/TheCharlatan/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/TheCharlatan/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/TheCharlatan/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/TheCharlatan/bitcoin/events",
        "forks_url": "https://api.github.com/repos/TheCharlatan/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/TheCharlatan/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/TheCharlatan/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/TheCharlatan/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/TheCharlatan/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/TheCharlatan/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/TheCharlatan/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/TheCharlatan/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/TheCharlatan/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/TheCharlatan/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/TheCharlatan/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/TheCharlatan/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/TheCharlatan/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:TheCharlatan/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/TheCharlatan/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/TheCharlatan/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/TheCharlatan/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/TheCharlatan/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/TheCharlatan/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/TheCharlatan/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/TheCharlatan/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/TheCharlatan/bitcoin/hooks",
        "svn_url": "https://github.com/TheCharlatan/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 1,
        "watchers_count": 1,
        "size": 211820,
        "default_branch": "master",
        "open_issues_count": 2,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-06T21:01:05Z",
        "created_at": "2017-06-15T16:03:35Z",
        "updated_at": "2023-05-21T09:47:16Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "3132ec64d9e0f7af88e61ac35807f44315a5ca96",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34325,
        "stargazers_count": 69819,
        "watchers_count": 69819,
        "size": 233879,
        "default_branch": "master",
        "open_issues_count": 626,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-07T07:29:24Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-06-07T07:34:31Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 421,
    "deletions": 212,
    "changed_files": 83,
    "commits": 8,
    "review_comments": 84,
    "comments": 23
  },
  "events": [
    {
      "event": "commented",
      "id": 1545342843,
      "node_id": "IC_kwDOABII585cHA97",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1545342843",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-12T08:03:08Z",
      "updated_at": "2023-05-29T08:25:39Z",
      "author_association": "MEMBER",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [stickies-v](https://github.com/bitcoin/bitcoin/pull/27636#pullrequestreview-1441753577), [MarcoFalke](https://github.com/bitcoin/bitcoin/pull/27636#issuecomment-1562999859), [hebasto](https://github.com/bitcoin/bitcoin/pull/27636#pullrequestreview-1449106502) |\n| Stale ACK | [ryanofsky](https://github.com/bitcoin/bitcoin/pull/27636#pullrequestreview-1433163406) |\n\nIf your review is incorrectly listed, please react with 👎 to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#27607](https://github.com/bitcoin/bitcoin/pull/27607) (index: improve initialization and pruning violation check by furszy)\n* [#27596](https://github.com/bitcoin/bitcoin/pull/27596) (assumeutxo (2) by jamesob)\n* [#27460](https://github.com/bitcoin/bitcoin/pull/27460) (rpc: Add importmempool RPC by MarcoFalke)\n* [#27331](https://github.com/bitcoin/bitcoin/pull/27331) (refactor: extract CCheckQueue's data handling into a separate container \"Bag\" by martinus)\n* [#26762](https://github.com/bitcoin/bitcoin/pull/26762) (refactor: Make `CCheckQueue` RAII-styled by hebasto)\n* [#19461](https://github.com/bitcoin/bitcoin/pull/19461) (multiprocess: Add bitcoin-gui -ipcconnect option by ryanofsky)\n* [#19460](https://github.com/bitcoin/bitcoin/pull/19460) (multiprocess: Add bitcoin-wallet -ipcconnect option by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#issuecomment-1545342843",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27636"
    },
    {
      "event": "labeled",
      "id": 9230246147,
      "node_id": "LE_lADOABII585lwSpzzwAAAAImKmED",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9230246147",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-12T08:03:10Z",
      "label": {
        "name": "Validation",
        "color": "6060aa"
      }
    },
    {
      "event": "review_requested",
      "id": 9230716816,
      "node_id": "RRE_lADOABII585lwSpzzwAAAAImMY-Q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9230716816",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-12T08:55:52Z",
      "requested_reviewer": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "review_requested",
      "id": 9230719204,
      "node_id": "RRE_lADOABII585lwSpzzwAAAAImMZjk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9230719204",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-12T08:56:07Z",
      "requested_reviewer": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "reviewed",
      "id": 1424328154,
      "node_id": "PRR_kwDOABII585U5YXa",
      "url": null,
      "actor": null,
      "commit_id": "0b159b9256c214a289135ca7bfaf70e48ab28e20",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Approach ACK. I think adding the level of indirection here is right approach, but I left some suggestions below which I think would make the implementation less awkward and more future-proof",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#pullrequestreview-1424328154",
      "submitted_at": "2023-05-12T12:28:57Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
    },
    {
      "event": "reviewed",
      "id": 1425252650,
      "node_id": "PRR_kwDOABII585U86Eq",
      "url": null,
      "actor": null,
      "commit_id": "0b159b9256c214a289135ca7bfaf70e48ab28e20",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "body": "",
      "user": {
        "login": "Aminkavoos",
        "id": 106019725,
        "node_id": "U_kgDOBlG7jQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106019725?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Aminkavoos",
        "html_url": "https://github.com/Aminkavoos",
        "followers_url": "https://api.github.com/users/Aminkavoos/followers",
        "following_url": "https://api.github.com/users/Aminkavoos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Aminkavoos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Aminkavoos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Aminkavoos/subscriptions",
        "organizations_url": "https://api.github.com/users/Aminkavoos/orgs",
        "repos_url": "https://api.github.com/users/Aminkavoos/repos",
        "events_url": "https://api.github.com/users/Aminkavoos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Aminkavoos/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#pullrequestreview-1425252650",
      "submitted_at": "2023-05-12T23:14:46Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9238969030,
      "node_id": "HRFPE_lADOABII585lwSpzzwAAAAImr3rG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9238969030",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-13T17:22:24Z"
    },
    {
      "event": "commented",
      "id": 1546714913,
      "node_id": "IC_kwDOABII585cMP8h",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1546714913",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-13T17:24:47Z",
      "updated_at": "2023-05-13T17:24:47Z",
      "author_association": "MEMBER",
      "body": "Thank you for the suggestions @ryanofsky! \r\n\r\nUpdated 0b159b9256c214a289135ca7bfaf70e48ab28e20 -> 63e915af5a437d36abdd79a1b90fed2395086589 ([chainstateRmKernelUiInterface_0](https://github.com/TheCharlatan/bitcoin/commits/chainstateRmKernelUiInterface_0) -> [chainstateRmKernelUiInterface_1](https://github.com/TheCharlatan/bitcoin/commits/chainstateRmKernelUiInterface_1), [compare](https://github.com/TheCharlatan/bitcoin/compare/chainstateRmKernelUiInterface_0..chainstateRmKernelUiInterface_1)).\r\n\r\n* Re-worked the commits as suggested by @ryanofsky's [comment](https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1192264695) by changing the approach from passing around lambdas to using polymorphisms of a virtual class.\r\n* Addressed @ryanofsky's [comment](https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1192295222), renaming `chainstatemanager_notifications` to `validation_notifications`.\r\n* Re-worked the last commit as suggested by @ryanofsky's [comment](https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1192290165), by moving away from wrapping `InitError` to implementing a `FatalError` method, replacing the `AbortNode` function in `shutdown`. This is also a similar approach to the existing `FatalErrorf` method in `index/base.cpp`\r\n* Added a commit renaming `FatalError` to `FatalErrorf` in `index/base.cpp` to better distinguish it from the new `FatalError` function and not let the format string linter trip up on it.\r\n* Made the `ChainstateManagerOpts` notification member a `shared_ptr` in order to allow the option struct to be safely re-used for multiple `ChainstateManager`s",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#issuecomment-1546714913",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27636"
    },
    {
      "event": "mentioned",
      "id": 9238971768,
      "node_id": "MEE_lADOABII585lwSpzzwAAAAImr4V4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9238971768",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-13T17:24:48Z"
    },
    {
      "event": "subscribed",
      "id": 9238971769,
      "node_id": "SE_lADOABII585lwSpzzwAAAAImr4V5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9238971769",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-13T17:24:48Z"
    },
    {
      "event": "commented",
      "id": 1546869753,
      "node_id": "IC_kwDOABII585cM1v5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1546869753",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-14T10:53:01Z",
      "updated_at": "2023-05-14T10:53:01Z",
      "author_association": "MEMBER",
      "body": "Concept ACK.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#issuecomment-1546869753",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27636"
    },
    {
      "event": "reviewed",
      "id": 1425535676,
      "node_id": "PRR_kwDOABII585U9_K8",
      "url": null,
      "actor": null,
      "commit_id": "63e915af5a437d36abdd79a1b90fed2395086589",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Approach ACK 63e915af5a437d36abdd79a1b90fed2395086589.\r\n\r\n> The approach implemented here introduces some indirection, which makes the code a bit harder to read.\r\n\r\nAs for me, it does not look like a problem at all. Good function naming works well :D\r\n\r\nIn commit 73556797ab9c44038994954b945db996642656d2:\r\n```diff\r\n--- a/src/validation.cpp\r\n+++ b/src/validation.cpp\r\n@@ -4659,7 +4659,7 @@ void Chainstate::LoadExternalBlockFile(\r\n                     }\r\n                 }\r\n \r\n-                NotifyHeaderTip(*this);\r\n+                ::NotifyHeaderTip(*this);\r\n \r\n                 if (!blocks_with_unknown_parent) continue;\r\n \r\n```\r\n\r\nAlso mind considering the IWYU [output](https://api.cirrus-ci.com/v1/task/4915476296368128/logs/ci.log) regarding `src/node/validation_notifications.{h,cpp}`?",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#pullrequestreview-1425535676",
      "submitted_at": "2023-05-14T11:42:43Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
    },
    {
      "event": "reviewed",
      "id": 1425537905,
      "node_id": "PRR_kwDOABII585U9_tx",
      "url": null,
      "actor": null,
      "commit_id": "63e915af5a437d36abdd79a1b90fed2395086589",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#pullrequestreview-1425537905",
      "submitted_at": "2023-05-14T11:58:55Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
    },
    {
      "event": "commented",
      "id": 1546903132,
      "node_id": "IC_kwDOABII585cM95c",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1546903132",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-14T13:40:02Z",
      "updated_at": "2023-05-14T13:40:02Z",
      "author_association": "MEMBER",
      "body": "Re https://github.com/bitcoin/bitcoin/pull/27636#pullrequestreview-1425535676\r\n\r\n> In commit [7355679](https://github.com/bitcoin/bitcoin/commit/73556797ab9c44038994954b945db996642656d2):\r\n> \r\n> ```diff\r\n> --- a/src/validation.cpp\r\n> +++ b/src/validation.cpp\r\n> @@ -4659,7 +4659,7 @@ void Chainstate::LoadExternalBlockFile(\r\n>                      }\r\n>                  }\r\n>  \r\n> -                NotifyHeaderTip(*this);\r\n> +                ::NotifyHeaderTip(*this);\r\n>  \r\n>                  if (!blocks_with_unknown_parent) continue;\r\n>  \r\n> ``` \r\nI added the global scope resolution where it was required, because of the naming conflict with the `ChainstateManager` method. These here are methods of `Chainstate` and don't have a naming conflict. Is adding them good practice for consistency's sake?",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#issuecomment-1546903132",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27636"
    },
    {
      "event": "reviewed",
      "id": 1425563317,
      "node_id": "PRR_kwDOABII585U-F61",
      "url": null,
      "actor": null,
      "commit_id": "63e915af5a437d36abdd79a1b90fed2395086589",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#pullrequestreview-1425563317",
      "submitted_at": "2023-05-14T14:52:45Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9240348643,
      "node_id": "HRFPE_lADOABII585lwSpzzwAAAAImxIfj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9240348643",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-14T15:35:24Z"
    },
    {
      "event": "commented",
      "id": 1546926451,
      "node_id": "IC_kwDOABII585cNDlz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1546926451",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-14T15:35:43Z",
      "updated_at": "2023-05-14T15:35:43Z",
      "author_association": "MEMBER",
      "body": "Thank you for the review @hebasto,\r\n\r\nUpdated 63e915af5a437d36abdd79a1b90fed2395086589 -> 97b0e28d6f5e86e8c7ee0775d22cd923dabca09d ([chainstateRmKernelUiInterface_1](https://github.com/TheCharlatan/bitcoin/commits/chainstateRmKernelUiInterface_1) -> [chainstateRmKernelUiInterface_2](https://github.com/TheCharlatan/bitcoin/commits/chainstateRmKernelUiInterface_2), [compare](https://github.com/TheCharlatan/bitcoin/compare/chainstateRmKernelUiInterface_1..chainstateRmKernelUiInterface_2)).\r\n\r\n* Addressed @hebasto [comment](https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1193161280), adding EOL.\r\n* Addressed @hebasto [comment](https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1193133568), correcting initialization warning in the first commit.\r\n* Addressed @hebasto [comment](https://github.com/bitcoin/bitcoin/pull/27636#pullrequestreview-1425535676), correcting IWYU in last commit.\r\n* Slightly improved commit messages (s/option/options/).",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#issuecomment-1546926451",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27636"
    },
    {
      "event": "mentioned",
      "id": 9240349047,
      "node_id": "MEE_lADOABII585lwSpzzwAAAAImxIl3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9240349047",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-14T15:35:44Z"
    },
    {
      "event": "subscribed",
      "id": 9240349049,
      "node_id": "SE_lADOABII585lwSpzzwAAAAImxIl5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9240349049",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-14T15:35:44Z"
    },
    {
      "event": "reviewed",
      "id": 1425576361,
      "node_id": "PRR_kwDOABII585U-JGp",
      "url": null,
      "actor": null,
      "commit_id": "97b0e28d6f5e86e8c7ee0775d22cd923dabca09d",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Approach ACK 97b0e28d6f5e86e8c7ee0775d22cd923dabca09d.\r\n\r\nIn d84952cd64bd03ce444bbf6077d060c92526d040 commit message:\r\ns/\"to FatalError\"/\"to FatalErrorf\"/\r\n\r\nMaybe make it a scripted-diff?",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#pullrequestreview-1425576361",
      "submitted_at": "2023-05-14T16:42:00Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
    },
    {
      "event": "commented",
      "id": 1546945193,
      "node_id": "IC_kwDOABII585cNIKp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1546945193",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-14T16:53:02Z",
      "updated_at": "2023-05-14T16:53:02Z",
      "author_association": "MEMBER",
      "body": "nit: https://api.cirrus-ci.com/v1/task/4542005133443072/logs/ci.log:\r\n```\r\nnode/validation_notifications.h should add these lines:\r\nenum class SynchronizationState;\r\n```\r\n\r\n```\r\nnode/validation_notifications.cpp should add these lines:\r\nenum class SynchronizationState;\r\n\r\nnode/validation_notifications.cpp should remove these lines:\r\n- #include <kernel/validation_notifications_interface.h>\r\n```\r\n",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#issuecomment-1546945193",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27636"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9240519328,
      "node_id": "HRFPE_lADOABII585lwSpzzwAAAAImxyKg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9240519328",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-14T17:57:03Z"
    },
    {
      "event": "commented",
      "id": 1546961637,
      "node_id": "IC_kwDOABII585cNMLl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1546961637",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-14T17:59:15Z",
      "updated_at": "2023-05-14T17:59:15Z",
      "author_association": "MEMBER",
      "body": "Thank you for the review @hebasto,\r\n\r\nUpdated 97b0e28d6f5e86e8c7ee0775d22cd923dabca09d -> 2f9c2d245360b3fad6d469a76c2916d75b027b57 ([chainstateRmKernelUiInterface_2](https://github.com/TheCharlatan/bitcoin/commits/chainstateRmKernelUiInterface_2) -> [chainstateRmKernelUiInterface_3](https://github.com/TheCharlatan/bitcoin/commits/chainstateRmKernelUiInterface_3), [compare](https://github.com/TheCharlatan/bitcoin/compare/chainstateRmKernelUiInterface_2..chainstateRmKernelUiInterface_3)).\r\n\r\n* Addressed @hebasto [comment](https://github.com/bitcoin/bitcoin/pull/27636#pullrequestreview-1425576361), changed to scripted diff and fixed commit message.\r\n* Addressed @hebasto [comment](https://github.com/bitcoin/bitcoin/pull/27636#issuecomment-1546945193), fixed IWYU (sorry, I had an outdated version installed locally).",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#issuecomment-1546961637",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27636"
    },
    {
      "event": "mentioned",
      "id": 9240521994,
      "node_id": "MEE_lADOABII585lwSpzzwAAAAImxy0K",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9240521994",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-14T17:59:15Z"
    },
    {
      "event": "subscribed",
      "id": 9240521996,
      "node_id": "SE_lADOABII585lwSpzzwAAAAImxy0M",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9240521996",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-14T17:59:15Z"
    },
    {
      "event": "reviewed",
      "id": 1426519811,
      "node_id": "PRR_kwDOABII585VBvcD",
      "url": null,
      "actor": null,
      "commit_id": "2f9c2d245360b3fad6d469a76c2916d75b027b57",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Light code review ACK 2f9c2d245360b3fad6d469a76c2916d75b027b57. Overall looks good, but I mostly left high level feedback and did not look closely at all the code yet. I think the suggestions I left would make this cleaner, but it already looks pretty good in it's current form.\r\n\r\n",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#pullrequestreview-1426519811",
      "submitted_at": "2023-05-15T15:43:52Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9257767741,
      "node_id": "HRFPE_lADOABII585lwSpzzwAAAAInzlM9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9257767741",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-16T12:52:28Z"
    },
    {
      "event": "commented",
      "id": 1549605549,
      "node_id": "IC_kwDOABII585cXRqt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1549605549",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-16T12:53:28Z",
      "updated_at": "2023-05-16T12:53:28Z",
      "author_association": "MEMBER",
      "body": "Thank you for the detailed comments on your review @ryanofsky! Very happy to see this being fleshed out into a more general and proper kernel notification interface.\r\n\r\nUpdated 2f9c2d245360b3fad6d469a76c2916d75b027b57 -> 2c58fbf816d73395167a3046c4ce957829bf45f9 ([chainstateRmKernelUiInterface_3](https://github.com/TheCharlatan/bitcoin/commits/chainstateRmKernelUiInterface_3) -> [chainstateRmKernelUiInterface_4](https://github.com/TheCharlatan/bitcoin/commits/chainstateRmKernelUiInterface_4), [compare](https://github.com/TheCharlatan/bitcoin/compare/chainstateRmKernelUiInterface_3..chainstateRmKernelUiInterface_4)).\r\n\r\n* Addressed @ryanofsky's [comment](https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1193811410), removing pure virtual (`=0`) declaration.\r\n* Addressed @ryanofsky's [comment](https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1193855223), moving notifications to the node context and declaring them as a `unique_ptr`. The `ChainstateManagerOpts` now takes a reference of `kernel::Notifications`.\r\n* Addressed @ryanofsky's [comment](https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1193883274), removing wrapper methods from `ChainstateManager` and instead only using a simple getter. This allowed for removal of the extra `::` qualifiers.\r\n* Addressed @ryanofsky's [comment](https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1193943783), renaming `showProgress` to `notifyProgress` and `progress_percent` instead of `nProgress`.\r\n* Addressed @ryanofsky's [comment](https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1193951680), renaming `doWarning` to `notifyWarning`.\r\n* Addressed @ryanofsky's [comment](https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1193951680), improving / correcting the commit messages.\r\n* Addressed @ryanofsky's [comment](https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1193957340), renaming `ValidationNotifications` to `KernelNotifications`, including file names, variable names and virtual class name.\r\n* Addressed @ryanofsky's [comment](https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1193977100), removing unneeded `fatalError` handling code in `bitcoin-chainstate.cpp`.\r\n* Addressed @ryanofsky's [cmment](https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1194002643), changing `fatalError` return type to from `bool` to `void`, renamed `strMessage` to `debug_message`.\r\n* Added a commit removing the `goto epilogue` statement in `bitcoin-chainstate` and replacing it with a lambda function that takes care of program teardown. This function is now called in case of a `fatalError` notification. Before the patches in this pull request, if a call to `AbortNode` was encountered in `bitcoin-chainstate`, it could lead to it it either being ignored, or the process crashing (core dumped).",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#issuecomment-1549605549",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27636"
    },
    {
      "event": "mentioned",
      "id": 9257778148,
      "node_id": "MEE_lADOABII585lwSpzzwAAAAInznvk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9257778148",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-16T12:53:28Z"
    },
    {
      "event": "subscribed",
      "id": 9257778161,
      "node_id": "SE_lADOABII585lwSpzzwAAAAInznvx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9257778161",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-16T12:53:28Z"
    },
    {
      "event": "labeled",
      "id": 9258532985,
      "node_id": "LE_lADOABII585lwSpzzwAAAAIn2gB5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9258532985",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-16T13:58:30Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1428804291,
      "node_id": "PRR_kwDOABII585VKdLD",
      "url": null,
      "actor": null,
      "commit_id": "82ef31a5eb6094a94e05e44a658072f7afa08a47",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Partial code review ACK 155f8de067db5d7b9ebf6de0b30729143cc9c87f for everything except the last commit (82ef31a5eb6094a94e05e44a658072f7afa08a47).\r\n\r\n- [X] 2830b75b91b2b77814f5099f392bf0117b652d37 kernel: Add notification interface (1/9)\r\n- [X] 234795b02db05eb4deaa20e514fe9ad7f8e9d7eb kernel: Add notifyHeaderTip to notifications (2/9)\r\n- [X] dba41283095175620e78a5d72282bd6770b12040 kernel: Add notifyProgress to notifications (3/9)\r\n- [X] 4b810032b09af76dd71aa605863da9ca2e6bb1c6 kernel: Add notifyWarning to notifications (4/9)\r\n- [X] c0eb82cd6c8e4af307e147958acc220ce3ff3c04 refactor: Move ScheduleBatchPriority to its own file (5/9)\r\n- [X] fb5355d2103279186b084b6c5c4b7a56d6b2697d refactor: Move system from util to common library (6/9)\r\n- [X] 4940c4e696d3ea4ca896606e648a4e51118db0d5 scripted-diff: Rename FatalError to FatalErrorf (7/9)\r\n- [X] 155f8de067db5d7b9ebf6de0b30729143cc9c87f kernel: Add fatalError to notifications (8/9)\r\n- [ ] 82ef31a5eb6094a94e05e44a658072f7afa08a47 refactor: Introduce tear down lambda to bitcoin-chainstate (9/9)\r\n\r\nI think the last commit could just be dropped, or I don't understand what problem it is solving. In general it seems fine to use `kernel::Notifications` for error reporting, but I don't think it would be good to rely on it for error-handling. Trying to handle errors with callbacks and calls to `exit()` is confusing, and also very inflexible because it skips calling destructors. In the `bitcoin-chainstate` case if LoadChainstate or ActivateBestChain or ProcessNewBlock functions fail they should just return errors or raise exceptions to make it stop reading blocks and quit gracefully. In the `bitcoind` and `bitcoin-qt` cases, errors are already handled and the fatal error callback just triggers a clean shutdown after the fact. So I think no other changes should be needed.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#pullrequestreview-1428804291",
      "submitted_at": "2023-05-16T17:08:23Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
    },
    {
      "event": "commented",
      "id": 1550107951,
      "node_id": "IC_kwDOABII585cZMUv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1550107951",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-16T17:46:21Z",
      "updated_at": "2023-05-16T17:51:43Z",
      "author_association": "MEMBER",
      "body": "Re https://github.com/bitcoin/bitcoin/pull/27636#pullrequestreview-1428804291\r\n> I think the last commit could just be dropped, or I don't understand what problem it is solving.\r\n\r\nThe rationale for the commit was to preserve `bitcoin-chainstate` shutting down when a fatal error is encountered. I thought this through again, and I agree that this does not make a lot of sense. The function where this fatal error was encountered should always be bubbling it up anyway, so this is not needed. Dropping the commit.",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#issuecomment-1550107951",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27636"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9261904898,
      "node_id": "HRFPE_lADOABII585lwSpzzwAAAAIoDXQC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9261904898",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-16T19:43:07Z"
    },
    {
      "event": "commented",
      "id": 1550261815,
      "node_id": "IC_kwDOABII585cZx43",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1550261815",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-16T19:43:13Z",
      "updated_at": "2023-05-16T20:20:39Z",
      "author_association": "MEMBER",
      "body": "Thank you for the review,\r\n\r\nUpdated 2c58fbf816d73395167a3046c4ce957829bf45f9 -> b29eab3fc68de28fe2aa67700fd99c6744e37f61 ([chainstateRmKernelUiInterface_4](https://github.com/TheCharlatan/bitcoin/commits/chainstateRmKernelUiInterface_4) -> [chainstateRmKernelUiInterface_5](https://github.com/TheCharlatan/bitcoin/commits/chainstateRmKernelUiInterface_5), [compare](https://github.com/TheCharlatan/bitcoin/compare/chainstateRmKernelUiInterface_4..chainstateRmKernelUiInterface_5)).\r\n\r\n* Addressed @ryanofsky's [comment](https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1195307708), dropping `notify` prefix from `kernel::Notifications` methods\r\n* Dropped the last commit",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#issuecomment-1550261815",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27636"
    },
    {
      "event": "mentioned",
      "id": 9261905607,
      "node_id": "MEE_lADOABII585lwSpzzwAAAAIoDXbH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9261905607",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-16T19:43:14Z"
    },
    {
      "event": "subscribed",
      "id": 9261905615,
      "node_id": "SE_lADOABII585lwSpzzwAAAAIoDXbP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9261905615",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-16T19:43:14Z"
    },
    {
      "event": "unlabeled",
      "id": 9262572024,
      "node_id": "UNLE_lADOABII585lwSpzzwAAAAIoF6H4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9262572024",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-16T21:23:08Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 9268887257,
      "node_id": "LE_lADOABII585lwSpzzwAAAAIod_7Z",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9268887257",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-17T12:40:57Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9269209884,
      "node_id": "HRFPE_lADOABII585lwSpzzwAAAAIofOsc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9269209884",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-17T13:08:36Z"
    },
    {
      "event": "commented",
      "id": 1551363803,
      "node_id": "IC_kwDOABII585cd-7b",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1551363803",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-17T13:08:55Z",
      "updated_at": "2023-05-17T13:08:55Z",
      "author_association": "MEMBER",
      "body": "Rebased b29eab3fc68de28fe2aa67700fd99c6744e37f61 -> 0b88c307a8ed81705cf8e6fb6332fdf969eb0e2e ([chainstateRmKernelUiInterface_5](https://github.com/TheCharlatan/bitcoin/commits/chainstateRmKernelUiInterface_5) -> [chainstateRmKernelUiInterface_6](https://github.com/TheCharlatan/bitcoin/commits/chainstateRmKernelUiInterface_6), [compare](https://github.com/TheCharlatan/bitcoin/compare/chainstateRmKernelUiInterface_5..chainstateRmKernelUiInterface_6)).\r\n* Fixed conflict with https://github.com/bitcoin/bitcoin/pull/27571",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#issuecomment-1551363803",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27636"
    },
    {
      "event": "reviewed",
      "id": 1430775316,
      "node_id": "PRR_kwDOABII585VR-YU",
      "url": null,
      "actor": null,
      "commit_id": "0b88c307a8ed81705cf8e6fb6332fdf969eb0e2e",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Code review ACK 0b88c307a8ed81705cf8e6fb6332fdf969eb0e2e. These changes all seem very clean and straightforward now. I left some more suggestions, but you can feel free to ignore them them",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#pullrequestreview-1430775316",
      "submitted_at": "2023-05-17T14:48:13Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
    },
    {
      "event": "unlabeled",
      "id": 9270583312,
      "node_id": "UNLE_lADOABII585lwSpzzwAAAAIokeAQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9270583312",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-17T15:00:02Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9272817458,
      "node_id": "HRFPE_lADOABII585lwSpzzwAAAAIos_cy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9272817458",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-17T19:01:51Z"
    },
    {
      "event": "commented",
      "id": 1551909232,
      "node_id": "IC_kwDOABII585cgEFw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1551909232",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-17T19:01:55Z",
      "updated_at": "2023-05-18T17:34:29Z",
      "author_association": "MEMBER",
      "body": "Updated 0b88c307a8ed81705cf8e6fb6332fdf969eb0e2e -> a6612baf6aed92f74f96fa4bc04d0ee359f5cc3f ([chainstateRmKernelUiInterface_6](https://github.com/TheCharlatan/bitcoin/commits/chainstateRmKernelUiInterface_6) -> [chainstateRmKernelUiInterface_7](https://github.com/TheCharlatan/bitcoin/commits/chainstateRmKernelUiInterface_7), [compare](https://github.com/TheCharlatan/bitcoin/compare/chainstateRmKernelUiInterface_6..chainstateRmKernelUiInterface_7)).\r\n* Addressed @ryanofsky's [comment](https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1196568945) inlining `GetNotifications` method (but decided to keep the name).\r\n* Added two comits for addressing @ryanofsky's [comment](https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1196623448), splitting out `util::insert` and `util::AnyPtr` into their own files.\r\n* Addressed @ryanofsky's [comment](https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1196627541), changed parameter in `fatalError` to `const` reference.\r\n* Addressed @ryanofsky's [comment](https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1196631303), inserting new `FatalError` argument in first position.\r\n\r\nRebased a6612baf6aed92f74f96fa4bc04d0ee359f5cc3f -> 861582b4087f1602e7115ee4a70ef7a7263eb36b ([chainstateRmKernelUiInterface_7](https://github.com/TheCharlatan/bitcoin/commits/chainstateRmKernelUiInterface_7) -> [chainstateRmKernelUiInterface_8](https://github.com/TheCharlatan/bitcoin/commits/chainstateRmKernelUiInterface_8), [compare](https://github.com/TheCharlatan/bitcoin/compare/chainstateRmKernelUiInterface_7..chainstateRmKernelUiInterface_8)).\r\n* Fixed conflicts with https://github.com/bitcoin/bitcoin/pull/25193",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#issuecomment-1551909232",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27636"
    },
    {
      "event": "mentioned",
      "id": 9272818064,
      "node_id": "MEE_lADOABII585lwSpzzwAAAAIos_mQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9272818064",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-17T19:01:55Z"
    },
    {
      "event": "subscribed",
      "id": 9272818083,
      "node_id": "SE_lADOABII585lwSpzzwAAAAIos_mj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9272818083",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-17T19:01:55Z"
    },
    {
      "event": "reviewed",
      "id": 1432884414,
      "node_id": "PRR_kwDOABII585VaBS-",
      "url": null,
      "actor": null,
      "commit_id": "861582b4087f1602e7115ee4a70ef7a7263eb36b",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Code review ACK 861582b4087f1602e7115ee4a70ef7a7263eb36b. Just suggested changes since last review. (Thanks!)",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#pullrequestreview-1432884414",
      "submitted_at": "2023-05-18T15:49:04Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9282202117,
      "node_id": "HRFPE_lADOABII585lwSpzzwAAAAIpQyoF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9282202117",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-18T17:33:37Z"
    },
    {
      "event": "commented",
      "id": 1553391517,
      "node_id": "IC_kwDOABII585clt-d",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1553391517",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-18T17:34:43Z",
      "updated_at": "2023-05-18T17:34:43Z",
      "author_association": "MEMBER",
      "body": "Updated 861582b4087f1602e7115ee4a70ef7a7263eb36b -> 5a01a63ac8267debf152c8757e24f300e18ae379 ([chainstateRmKernelUiInterface_8](https://github.com/TheCharlatan/bitcoin/commits/chainstateRmKernelUiInterface_8) -> [chainstateRmKernelUiInterface_9](https://github.com/TheCharlatan/bitcoin/commits/chainstateRmKernelUiInterface_9), [compare](https://github.com/TheCharlatan/bitcoin/compare/chainstateRmKernelUiInterface_8..chainstateRmKernelUiInterface_9)).\r\n* Addressed @ryanofsky's [comment](https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1197937840), including std::set\r\n* Applied @ryanofsky's [patch](https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1197984670)\r\n\r\nRe. the last patch, I thought this through a bit, and played with the idea of instead adding a custom notification class that leaves out the `StartShutdown` call in `fatalError` for this test case. However, that seems to mess with the initial assumptions of the test case, since we'd have to re-instantiate a `ChainstateManager` with the new notifications in its options. Hiding the shutdown switch as an implementation detail of the child class seems preferable to me.\r\n\r\nAlso thought about whether it is safe to override the shutdown behavior for other parts of the validation code in this test case and if this might this mask potential future bugs. I believe this should be safe, since any other occurrences of a fatalError should return something unexpected that will make the tests fail.\r\n\r\nAlso took the liberty to rename `m_do_shutdown` to `m_shutdown_on_fatal_error`.",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#issuecomment-1553391517",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27636"
    },
    {
      "event": "mentioned",
      "id": 9282212861,
      "node_id": "MEE_lADOABII585lwSpzzwAAAAIpQ1P9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9282212861",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-18T17:34:43Z"
    },
    {
      "event": "subscribed",
      "id": 9282212878,
      "node_id": "SE_lADOABII585lwSpzzwAAAAIpQ1QO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9282212878",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-18T17:34:43Z"
    },
    {
      "event": "reviewed",
      "id": 1433163406,
      "node_id": "PRR_kwDOABII585VbFaO",
      "url": null,
      "actor": null,
      "commit_id": "d96c82a76775b1a41c098e6af60130fbdbba9975",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Code review ACK 5a01a63ac8267debf152c8757e24f300e18ae379\r\n\r\nI'd also squash last commit 5a01a63ac8267debf152c8757e24f300e18ae379 into earlier commit acc42d15be26434a3d52fbbe1d35a77c72254115 so reviewers only need to look at one version of MaybeCompleteSnapshotValidation calls and the fatal error function instead of 2 versions. It would also be good to rebase the PR if it would fix the CI errors",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#pullrequestreview-1433163406",
      "submitted_at": "2023-05-18T17:45:41Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9282464650,
      "node_id": "HRFPE_lADOABII585lwSpzzwAAAAIpRyuK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9282464650",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-18T18:04:08Z"
    },
    {
      "event": "commented",
      "id": 1553426376,
      "node_id": "IC_kwDOABII585cl2fI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1553426376",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-18T18:04:13Z",
      "updated_at": "2023-05-18T18:04:13Z",
      "author_association": "MEMBER",
      "body": "Rebased 5a01a63ac8267debf152c8757e24f300e18ae379 -> d96c82a76775b1a41c098e6af60130fbdbba9975 ([chainstateRmKernelUiInterface_9](https://github.com/TheCharlatan/bitcoin/commits/chainstateRmKernelUiInterface_9) -> [chainstateRmKernelUiInterface_10](https://github.com/TheCharlatan/bitcoin/commits/chainstateRmKernelUiInterface_10), [compare](https://github.com/TheCharlatan/bitcoin/compare/chainstateRmKernelUiInterface_9..chainstateRmKernelUiInterface_10)).\r\n* Squashed the last commit",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#issuecomment-1553426376",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27636"
    },
    {
      "event": "labeled",
      "id": 9282465300,
      "node_id": "LE_lADOABII585lwSpzzwAAAAIpRy4U",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9282465300",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-18T18:04:14Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 9282992799,
      "node_id": "UNLE_lADOABII585lwSpzzwAAAAIpTzqf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9282992799",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-18T19:12:06Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1433987014,
      "node_id": "PRR_kwDOABII585VeOfG",
      "url": null,
      "actor": null,
      "commit_id": "d96c82a76775b1a41c098e6af60130fbdbba9975",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "nice, lgtm ACK d96c82a76775b1a41c098e6af60130fbdbba9975 🏬\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\nuntrusted comment: signature from minisign secret key on empty file; verify via: minisign -Vm \"${path_to_any_empty_file}\" -P RWTRmVTMeKV5noAMqVlsMugDDCyyTSbA3Re5AkUrhvLVln0tSaFWglOw -x \"${path_to_this_whole_four_line_signature_blob}\"\r\nRUTRmVTMeKV5npGrKx1nqXCw5zeVHdtdYURB/KlyA/LMFgpNCs+SkW9a8N95d+U4AP1RJMi+krxU1A3Yux4bpwZNLvVBKy0wLgM=\r\ntrusted comment: nice, lgtm ACK d96c82a76775b1a41c098e6af60130fbdbba9975 🏬\r\niJs751g2LIsR+MmICyytU8Mz93hP9WS3Wvm5wtnY0ZwDP2JaE57c9hxisUjtX90b3vyK6GjKUXWWPpb3w+emBQ==\r\n```\r\n\r\n</details>\r\n",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#pullrequestreview-1433987014",
      "submitted_at": "2023-05-19T10:06:30Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
    },
    {
      "event": "review_requested",
      "id": 9287853370,
      "node_id": "RRE_lADOABII585lwSpzzwAAAAIpmWU6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9287853370",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-19T10:06:35Z",
      "requested_reviewer": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "reviewed",
      "id": 1434551593,
      "node_id": "PRR_kwDOABII585VgYUp",
      "url": null,
      "actor": null,
      "commit_id": "d96c82a76775b1a41c098e6af60130fbdbba9975",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#pullrequestreview-1434551593",
      "submitted_at": "2023-05-19T14:35:36Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
    },
    {
      "event": "commented",
      "id": 1555785546,
      "node_id": "IC_kwDOABII585cu2dK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1555785546",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-20T07:26:11Z",
      "updated_at": "2023-05-20T09:29:21Z",
      "author_association": "MEMBER",
      "body": "Reviewing the code:\r\n\r\n- [x] 974b4293a5f2fe01302c608bf0063e3b52721d0b \"kernel: Add notification interface\"\r\n- [x] ec5043d8c120332c0bf916b5b576aff8374af1ed \"kernel: Add headerTip method to notifications\"\r\n- [x] 1be1c16b70edc5def98eb1903cee08b5d546ba88 \"kernel: Add progress method to notifications\"\r\n[+1](https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1198713287) for changing the type of the parameter `title` from `std::string&` to `bilingual_str&`\r\n- [x] 483fe64956179872e5821483474c52d955949e40 \"kernel: Add warning method to notifications\"\r\n- [x] 3785d38417618e921c5233cf14aa3c802f37387b \"refactor: Move ScheduleBatchPriority to its own file\"\r\n- [x] c05c15cc7b4fb9052b87bc2f8ea0500cd5218f4e \"refactor: Split util::insert into its own file\"\r\n- [x] 465a3d2b90d3a7ad523201214e6bbad9de9ea79e \"refactor: Split util::AnyPtr into its own file\"\r\n- [x] e850319d5336335a9efbf04307261fb565b7bc68 \"refactor: Move system from util to common library\"\r\n- [x] ce4b11d717ca1c6b0950aac82ede448d6689ff74 \"scripted-diff: Rename FatalError to FatalErrorf\"\r\n- [x] d96c82a76775b1a41c098e6af60130fbdbba9975 \"kernel: Add fatalError method to notifications\"\r\nnit: in `ChainstateManager` function member definitions, to call `ChainstateManager::GetNotifications`, `GetNotifications()` is used 2 times, `this->GetNotifications()` is used 2 times as well. Could it be consistent?",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#issuecomment-1555785546",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27636"
    },
    {
      "event": "reviewed",
      "id": 1435386964,
      "node_id": "PRR_kwDOABII585VjkRU",
      "url": null,
      "actor": null,
      "commit_id": "d96c82a76775b1a41c098e6af60130fbdbba9975",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK d96c82a76775b1a41c098e6af60130fbdbba9975, I have reviewed the code and it looks OK.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#pullrequestreview-1435386964",
      "submitted_at": "2023-05-20T09:29:58Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
    },
    {
      "event": "reviewed",
      "id": 1435386997,
      "node_id": "PRR_kwDOABII585VjkR1",
      "url": null,
      "actor": null,
      "commit_id": "d96c82a76775b1a41c098e6af60130fbdbba9975",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#pullrequestreview-1435386997",
      "submitted_at": "2023-05-20T09:30:22Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9294236638,
      "node_id": "HRFPE_lADOABII585lwSpzzwAAAAIp-sve",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9294236638",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-20T09:54:40Z"
    },
    {
      "event": "commented",
      "id": 1555876922,
      "node_id": "IC_kwDOABII585cvMw6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1555876922",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-20T09:55:02Z",
      "updated_at": "2023-05-20T09:55:02Z",
      "author_association": "MEMBER",
      "body": "Updated d96c82a76775b1a41c098e6af60130fbdbba9975 -> a30cd548f1bc0ed73a4e157c6e81dbcf2542a916 ([chainstateRmKernelUiInterface_10](https://github.com/TheCharlatan/bitcoin/commits/chainstateRmKernelUiInterface_10) -> [chainstateRmKernelUiInterface_11](https://github.com/TheCharlatan/bitcoin/commits/chainstateRmKernelUiInterface_11), [compare](https://github.com/TheCharlatan/bitcoin/compare/chainstateRmKernelUiInterface_10..chainstateRmKernelUiInterface_11)).\r\n* Addressed @hebasto's [comment](https://github.com/bitcoin/bitcoin/pull/27636#issuecomment-1555785546), improving consistency when calling `GetNotifications`.\r\n* Addressed @MarcoFalke's [comment](https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1198680321), changed `CBlockIndex*` to `CBlockIndex&`.\r\n* Addressed @MarcoFalke's [comment](https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1198713287), change progress function signature to take a `bilingual_str`.\r\n* Addressed @MarcoFalke's [comment_0](https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1198753425) and [comment_1](https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1198758293), cleaning up the includes.\r\n* Added @ryanofsky's [suggestion](https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1198831873), a docstring for `fatalError`.\r\n",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#issuecomment-1555876922",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27636"
    },
    {
      "event": "mentioned",
      "id": 9294237390,
      "node_id": "MEE_lADOABII585lwSpzzwAAAAIp-s7O",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9294237390",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-20T09:55:02Z"
    },
    {
      "event": "subscribed",
      "id": 9294237394,
      "node_id": "SE_lADOABII585lwSpzzwAAAAIp-s7S",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9294237394",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-20T09:55:02Z"
    },
    {
      "event": "mentioned",
      "id": 9294237398,
      "node_id": "MEE_lADOABII585lwSpzzwAAAAIp-s7W",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9294237398",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-20T09:55:02Z"
    },
    {
      "event": "subscribed",
      "id": 9294237401,
      "node_id": "SE_lADOABII585lwSpzzwAAAAIp-s7Z",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9294237401",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-20T09:55:02Z"
    },
    {
      "event": "mentioned",
      "id": 9294237405,
      "node_id": "MEE_lADOABII585lwSpzzwAAAAIp-s7d",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9294237405",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-20T09:55:02Z"
    },
    {
      "event": "subscribed",
      "id": 9294237409,
      "node_id": "SE_lADOABII585lwSpzzwAAAAIp-s7h",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9294237409",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-20T09:55:03Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQ0Nzc2MWM4MjI4ZDU4Zjk0OGFhZTdlNzNlZDA3OWMwMjhjYWNiOTc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/447761c8228d58f948aae7e73ed079c028cacb97",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/447761c8228d58f948aae7e73ed079c028cacb97",
      "tree": {
        "sha": "138ae285148636dd18870df62338a6acacaa400c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/138ae285148636dd18870df62338a6acacaa400c"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 138ae285148636dd18870df62338a6acacaa400c\nparent 0f8c95dccd120ad5fd371f81025137b855796f13\nauthor TheCharlatan <seb.kung@gmail.com> 1683750557 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1684577002 +0200\n\nkernel: Add notification interface\n\nThis commit is part of the libbitcoinkernel project and seeks to remove\nthe ChainstateManager's and, more generally, the kernel library's\ndependency on interface_ui with options methods in this and the following\nfew commits. By removing interface_ui from the kernel library, its\ndependency on boost is reduced to just boost::multi_index.\n\nDefine a new kernel notification class with virtual methods for\nnotifying about internal kernel events. Create a new file in the node\nlibrary for defining a function creating the default set of notification\nmethods such that these do not need to be re-defined all over the\ncodebase. As a first step, add a `blockTip` method, wrapping\n`uiInterface.NotifyBlockTip`.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmRomuoACgkQm3m0VpHb\nQXMgLRAAhHC7ZGAUoMFs3uqQpP+HmFlUWjMKLZc4TUFyIeQljuwbhdkE57tT1uaM\nlGhVdMr6zK8XBAI5dJwq3rYgs3HKnSRwO698ygLCcotaX6IfErv9BzEFmWsaX26B\nw1ob+HJI1gj3++Dvj7EdLimKrqtS2bWoiTOgCY9ujT6oS/hWOxIEWzF+CSQumU5J\nJb8eO5DA+0WYkrlJrZXYcpkJJ0nR/o+7yPd6Nqq/X9B5J39pJENQ5tjulQtM7isR\nifoSJ6fl2ioB0G3ainM3RVpw9+S6ZZ97iHokREPJiScS07uJt0/E770c5xZYpOrA\nxZby3ccWxfihbPXpZys+o6oiLrLNecUwVbNx+HmNipIDMs222JUrJgmcgTNsaJLZ\neHtA+vbKwXLm8uJnkjoSwi1/Miq4g2zXJOGAAi6BhkJ15CzM04A/fkxbWCQeLWxJ\nHe83nlQqkI05Ctg8JiFCxdteBqpYSrJsk6uYR7hxjY1vJ80tptHA3wYbJWk+E99O\ncBoNu+jzl9wfXMrbFGhIreEZzgPMtf7swT8A3PBi3YCoTfbxbBJ5ePdgWOhnUgrY\nPTruKXO1vU16DI8z0DLYymAXzkP2l1z3YDfolfE3YqX1ESreaikfV3+k94xW/XcJ\nwZVIpSlEROJdDGJhJvE7/7v0k3dn2vcugDVnB3ZIt71/utvyNGg=\n=TyLz\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0f8c95dccd120ad5fd371f81025137b855796f13",
          "sha": "0f8c95dccd120ad5fd371f81025137b855796f13",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/0f8c95dccd120ad5fd371f81025137b855796f13"
        }
      ],
      "message": "kernel: Add notification interface\n\nThis commit is part of the libbitcoinkernel project and seeks to remove\nthe ChainstateManager's and, more generally, the kernel library's\ndependency on interface_ui with options methods in this and the following\nfew commits. By removing interface_ui from the kernel library, its\ndependency on boost is reduced to just boost::multi_index.\n\nDefine a new kernel notification class with virtual methods for\nnotifying about internal kernel events. Create a new file in the node\nlibrary for defining a function creating the default set of notification\nmethods such that these do not need to be re-defined all over the\ncodebase. As a first step, add a `blockTip` method, wrapping\n`uiInterface.NotifyBlockTip`.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-05-20T10:03:22Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-05-10T20:29:17Z"
      },
      "sha": "447761c8228d58f948aae7e73ed079c028cacb97"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDg0ZDcxNDU3ZTcyNTBhYjI1YzBhMTFkMWFkMWM3NjU3MTk3ZmZkOTA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/84d71457e7250ab25c0a11d1ad1c7657197ffd90",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/84d71457e7250ab25c0a11d1ad1c7657197ffd90",
      "tree": {
        "sha": "6c5afbeb85868942088aee8407a837c026c1586c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6c5afbeb85868942088aee8407a837c026c1586c"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 6c5afbeb85868942088aee8407a837c026c1586c\nparent 447761c8228d58f948aae7e73ed079c028cacb97\nauthor TheCharlatan <seb.kung@gmail.com> 1683750949 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1684577004 +0200\n\nkernel: Add headerTip method to notifications\n\nThis commit is part of the libbitcoinkernel project and seeks to remove\nthe ChainstateManager's and, more generally, the kernel library's\ndependency on interface_ui with options methods in this and the following\nfew commits. By removing interface_ui from the kernel library, its\ndependency on boost is reduced to just boost::multi_index.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmRomuwACgkQm3m0VpHb\nQXNTLg//efWJilzeyR66RoJ1u0wZrbGUUNQyMJcHhkLldDDjudfFWvyCJ4YoDLFX\no03WIPku4Mt8AWask/HeWyDwrxruSAlP2qCMxeMoGINx0PkKd+RiPZn3484T+Iw3\noB7ZOU9e7dyDQ9Q1O+L2O0EcTYqVTmUaG/rGHdg6iZX3PIimxdV1GyhpUgOUGr10\nBXc5bnVExnW/rovxpeXatSpxWJHcdSFXIticaQOyBKB1/AYqwYWP1riGR93XsXi8\nVKaGxBoRtew6r6j3r9SiQKmd/tcJ4gl4AkMWOCbAgfn5YexasnA+11LYkoXLFxJk\nA0bKHnRvy7UH7IL/3TW1sqW5PRD1vfy3KAx3GKxM4D9ivhGaApaQnY1wYBaeV5HP\nk8uxlboGxnfFV58sAxhyICHtTiH7xjhQffAO0xFdInHjUI/nqIk6H4RGBD3WAAj+\nn0Z9Wyw91XH7+ChvUepzBukzP0ptR0OqJeUEkcn1Zmx57JoFW/ElaoXncCOXLSP0\n+rvaDeLz55tme5neSIefqYHXJybfaKHOsgPknDSRK/rwt2aAIPjd5R7imLV45KME\njpsl6rqXrc1PSRi55+3kfEot5XF05Wz4B92EhszWBGKs1qbmsXLNXcDCkyW70fjc\nhbHJ0oqBhj9IS+HZMe5tVkdWwG4Pb1I8+R91MIu1CUdA+Bzt33Q=\n=vzJg\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/447761c8228d58f948aae7e73ed079c028cacb97",
          "sha": "447761c8228d58f948aae7e73ed079c028cacb97",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/447761c8228d58f948aae7e73ed079c028cacb97"
        }
      ],
      "message": "kernel: Add headerTip method to notifications\n\nThis commit is part of the libbitcoinkernel project and seeks to remove\nthe ChainstateManager's and, more generally, the kernel library's\ndependency on interface_ui with options methods in this and the following\nfew commits. By removing interface_ui from the kernel library, its\ndependency on boost is reduced to just boost::multi_index.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-05-20T10:03:24Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-05-10T20:35:49Z"
      },
      "sha": "84d71457e7250ab25c0a11d1ad1c7657197ffd90"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQ0NTI3MDdlZGVjOTFjN2Q3OTkxZjQ4NmRkNDFlZjNlZGI0ZjdmYmY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4452707edec91c7d7991f486dd41ef3edb4f7fbf",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/4452707edec91c7d7991f486dd41ef3edb4f7fbf",
      "tree": {
        "sha": "4f06c4ad2e74d53af4ed1bd5f2325a5602ba0ee6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4f06c4ad2e74d53af4ed1bd5f2325a5602ba0ee6"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 4f06c4ad2e74d53af4ed1bd5f2325a5602ba0ee6\nparent 84d71457e7250ab25c0a11d1ad1c7657197ffd90\nauthor TheCharlatan <seb.kung@gmail.com> 1683750964 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1684577006 +0200\n\nkernel: Add progress method to notifications\n\nThis commit is part of the libbitcoinkernel project and seeks to remove\nthe ChainstateManager's and, more generally, the kernel library's\ndependency on interface_ui with options methods in this and the\nfollowing few commits. By removing interface_ui from the kernel library,\nits dependency on boost is reduced to just boost::multi_index.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmRomu4ACgkQm3m0VpHb\nQXOFORAApN9TaZB+R4BfREeu6rCkC+4qji0im2LxgBl8tkzk5J250yLcHwQIqF+0\nHvCTo2fURzpXvAD1LBXgyjK+/8WkPFqLeJ5uCWhO+RRGXS4DY5lUNFZPE3wlEudr\nR+8ekxX2+Yn0XAmdkiQA0Ifc+VO7cDATKeuCD3WFTfaznUUaRZkcfQOmd20E8iY0\n/+qRhNHLCDD8TPrS5Tpm3ZCuQfbGQ3S/KHwXxnTUaaYh/UEBMorM4hX5v7+UhMsk\nmGCZIl3MswPI68ptiINaX+fKBukUly5gSUsQaj3eVEwOMG8eg+xvl/YI2TirT0eM\nqJ8VPRbKJfVAzQRBCuOwoAFEdFLyBZEkvNW/HpwXl6b76Mv1I4eDekCwonfh9zpb\n3TKclhfjb8d05oYR19P0mkvl0PNOWlAUk4CwECDGCA3NY1nIjINmkehKrcOaVhmP\nLH5jL319Ddnh+QAQ5mHpP+AXR+YO87KqBNDvuVc/re+v8+4ByxzyHmFen7ADleIQ\ne3rNFO0U1cEJsirF12Sf85iKRKrUGDiEEVNJLKXAxDJY8y65MpnP2aHWn2ecHUDk\nZR70s0suMPR5TEIEO/bDOOjj8BcXQVRHnpmSsjWgaySoi+snaC38FxiM/kphXsas\nSSeWk4w2jK/6OxF0fuim5khrcnU3XTU6lPfK9XwdCjwEOhahB/0=\n=Z3sS\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/84d71457e7250ab25c0a11d1ad1c7657197ffd90",
          "sha": "84d71457e7250ab25c0a11d1ad1c7657197ffd90",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/84d71457e7250ab25c0a11d1ad1c7657197ffd90"
        }
      ],
      "message": "kernel: Add progress method to notifications\n\nThis commit is part of the libbitcoinkernel project and seeks to remove\nthe ChainstateManager's and, more generally, the kernel library's\ndependency on interface_ui with options methods in this and the\nfollowing few commits. By removing interface_ui from the kernel library,\nits dependency on boost is reduced to just boost::multi_index.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-05-20T10:03:26Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-05-10T20:36:04Z"
      },
      "sha": "4452707edec91c7d7991f486dd41ef3edb4f7fbf"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGY4NzFjNjkxOTFkZmUxMzMxODYxZWJjZGJhZGI2YmQ0N2U0NWM4YjE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f871c69191dfe1331861ebcdbadb6bd47e45c8b1",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f871c69191dfe1331861ebcdbadb6bd47e45c8b1",
      "tree": {
        "sha": "0d49b26710c40cba814c1b820f2cc935ebd48b62",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0d49b26710c40cba814c1b820f2cc935ebd48b62"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 0d49b26710c40cba814c1b820f2cc935ebd48b62\nparent 4452707edec91c7d7991f486dd41ef3edb4f7fbf\nauthor TheCharlatan <seb.kung@gmail.com> 1683550177 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1684577008 +0200\n\nkernel: Add warning method to notifications\n\nThis commit is part of the libbitcoinkernel project and seeks to remove\nthe ChainstateManager's and, more generally, the kernel library's\ndependency on interface_ui with options methods in this and the following\nfew commits. By removing interface_ui from the kernel library, its\ndependency on boost is reduced to just boost::multi_index.\n\nThe DoWarning and AlertNotify functions are moved out of the\nvalidation.cpp file, which removes its dependency on interface_ui as\nwell as util/system.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmRomvAACgkQm3m0VpHb\nQXM79hAAjewwrjHb0RuhHC+zIiOVAVt20Z5/uKAaS+EYeXozqfFOA1DnjvySH6Qg\n+AaLKet57uz9sZTcNGEUcGmr+PfO/1kyXwWOyFpPnhnGMOOhgjJ20v+KH2gj/wWy\nq/u1VQv6laxqiT4Hp8EBFC+RFdXglHCwSfB9O4eELi5qqM1E7680WT7i61YpeQlD\nRM8R54yJePOsDPqv79ZABee2ADPGHMsGuoXWna3QaH9EtX7Mqw0vuqJYe6E6n6YM\nXgGiUta2aKWwUHxqsErt78wwhSGLZ/09JSSAtTPdJnXAsNthTeqG2lXLhL0m4cBg\nmFavavhoK6idPr02oujc1/OJ31HZHMXzsoGVO9kbMA7zOOSrGrNKua7HZjmHaSSj\niLoKOKrNNm5MqK8MSEiLkK4x6ZYrgpQGQRrEh/Gogqi+RsARzGMrNsnT14OFllvj\najHgg4uOZ4QT6ysZzvxDYnb6GbX69c7I5edEMUA485aPDsL/h0J46BO9R3wMtTde\n/sXNFc8tzBs7sFEkUlnqmorF9nFkzNLXH7ALB3jkH3BnJQvlD+SokUDtkaHIVmVN\nT4WKMfhz6I/qT3SxZtjtUUeuiGUDgv142nGY+JPjltzFKyAbaAccJVoBlzIUDWj1\nJgiqZmlpb0rQBf+ownVPqSJOP3UbRusvM1YGKXuc9vRtrVzYErk=\n=Ep8A\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4452707edec91c7d7991f486dd41ef3edb4f7fbf",
          "sha": "4452707edec91c7d7991f486dd41ef3edb4f7fbf",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/4452707edec91c7d7991f486dd41ef3edb4f7fbf"
        }
      ],
      "message": "kernel: Add warning method to notifications\n\nThis commit is part of the libbitcoinkernel project and seeks to remove\nthe ChainstateManager's and, more generally, the kernel library's\ndependency on interface_ui with options methods in this and the following\nfew commits. By removing interface_ui from the kernel library, its\ndependency on boost is reduced to just boost::multi_index.\n\nThe DoWarning and AlertNotify functions are moved out of the\nvalidation.cpp file, which removes its dependency on interface_ui as\nwell as util/system.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-05-20T10:03:28Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-05-08T12:49:37Z"
      },
      "sha": "f871c69191dfe1331861ebcdbadb6bd47e45c8b1"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDllYzVkYTM2YjYyMjc2YWUyMmUzNDhmMjZmODhhYWY2NDYzNTdkNmQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9ec5da36b62276ae22e348f26f88aaf646357d6d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/9ec5da36b62276ae22e348f26f88aaf646357d6d",
      "tree": {
        "sha": "5bd3bfc21492d1db0bfe0e4f0452f64f593fad16",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5bd3bfc21492d1db0bfe0e4f0452f64f593fad16"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 5bd3bfc21492d1db0bfe0e4f0452f64f593fad16\nparent f871c69191dfe1331861ebcdbadb6bd47e45c8b1\nauthor TheCharlatan <seb.kung@gmail.com> 1683404051 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1684577010 +0200\n\nrefactor: Move ScheduleBatchPriority to its own file\n\nWith the previous move of AlertNotify out of the validation file, and\nthus out of the kernel library, ScheduleBatchPriority is the last\nremaining function used by the kernel library from util/system. Move it\nto its own file, such that util/system can be moved out of the util\nlibrary in the following few commits.\n\nMoving util/system out of the kernel library removes further networking\nas well as shell related code from it.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmRomvIACgkQm3m0VpHb\nQXPUexAAnMlZ+6zDO9pOV8th7xwjp3brRtCK20I4826GXPp8y2NzqMpsl56ncyvP\nrwHUayelThivtkUkrtCQuKeV7eBEjzWiYNcrm5cH5a1cBVgLYmqSKDdetTvud3ed\nt8iNy0i8Hr3keZ6pFqJkqpTA3ORXkJCv/6BD0TI266+ICztMA7ZvFtt5TLSrFoM/\ncuSMEQ3mHVU4Dc9t3mhdLjax6Lllfrm7+MMVI4fsY5MEb3jX0IipGG4F0d1hxVuP\ntESxslmfNz87ltjuoeVz0T7jTjRITvDAIxNMrJQaI8X3kGqz71rcRyYTJ4kcSWYB\nyFxH5pgrme9Fm+spVv8XAoWyX2lHLNLPeWLreUSCRIFI1FnXlAzOF0av87Swhzaq\nsuK1u85evwPAc65xhMs7LhMwzGXF237o2uAi6GsXGDGswYTQUUpTzBsVaoF7HikD\nqi4bMPWtxXkSVu9JXIhpQVewrfJAfUwkyUoMtO+o+LgVcXxL3hCT/6avRA7sM2q6\ncIS3j0UMwAvYYnLG05SLnFH238qRThjZWjo61xZF8WSj3ie8LJ95zS/AbPSWwe2y\nNUQpgsU8oPbL2Ixjf0hy9hfXShf1tNybJMyJUnjyAjVqPCa9kxM7NpCs2u1YIZdy\nfxRlFVwAPomnS3MFPKXjing+vje1PTFgSW/vCPcqhbFCEBoOhpk=\n=aWuU\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f871c69191dfe1331861ebcdbadb6bd47e45c8b1",
          "sha": "f871c69191dfe1331861ebcdbadb6bd47e45c8b1",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f871c69191dfe1331861ebcdbadb6bd47e45c8b1"
        }
      ],
      "message": "refactor: Move ScheduleBatchPriority to its own file\n\nWith the previous move of AlertNotify out of the validation file, and\nthus out of the kernel library, ScheduleBatchPriority is the last\nremaining function used by the kernel library from util/system. Move it\nto its own file, such that util/system can be moved out of the util\nlibrary in the following few commits.\n\nMoving util/system out of the kernel library removes further networking\nas well as shell related code from it.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-05-20T10:03:30Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-05-06T20:14:11Z"
      },
      "sha": "9ec5da36b62276ae22e348f26f88aaf646357d6d"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQ0ZGUzMjVkOTU0NDc0OTgwMzY0NzljMzExMmJhNzQxY2FmNDViZjY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/44de325d95447498036479c3112ba741caf45bf6",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/44de325d95447498036479c3112ba741caf45bf6",
      "tree": {
        "sha": "9bc11783c5552de98b2aeac6bbd1456d5031ae9d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9bc11783c5552de98b2aeac6bbd1456d5031ae9d"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 9bc11783c5552de98b2aeac6bbd1456d5031ae9d\nparent 9ec5da36b62276ae22e348f26f88aaf646357d6d\nauthor TheCharlatan <seb.kung@gmail.com> 1684338032 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1684577011 +0200\n\nrefactor: Split util::insert into its own file\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmRomvMACgkQm3m0VpHb\nQXMS1hAAiC02FNXvBm142ks2JqXYsCph/+7jyG/w2G/F3aqqJjO+p0cftbWmg4Pk\nxwuNtNQSVUSBMx5BSCs1sbtgb9p3WVXUGA3KSELK2g1IQwKWcz66nH/hZ5aCjwoE\n0YMEW62OyndRcdbRw+GThEs+hgmXrmQk7W08BvwkmOdDsnpIPbgyk8oPWL+ka7sJ\noNF0vKxO60kgXYwJkrHvBOimTTnO3vFbREEVVwF7SiutlscXhQ7LzRAI4B5t3Dbf\n112L+28Z5TVy8rV8r76+X/6irO9dElqNUxUYOODRASovRvKQk0BdkV0xmE5HgX8h\n71AwgziUOF8mZsHq9Y83L//Vxv4glC/lP7HJmWhajdZe5c16Mb6lfWTKXz7hf5M6\nZ5+/+QLJxCAZyTyjZOOm9yezQ8Ux6/OwWzxE7G9VOsocQGD+GHJKBDoJjbwC6xj4\nVR9fV+unx+JGhJiAwHLL0bZABhbcra7UyxKdaOR55742cVCiFpbOoFZGsUZoLDIv\nuwtIPHnfDSYPrltfJTw/iTFRlzlxDAHzODmAu040DjcsvrI6uAGWDHXvkCWj2qGa\nKBs2SEeKpw9TmJWDov/S3QsQzL6LHAAYAmrf2921+A0V4a+cWjftigFVTv39cdK7\nUOdKLfgbJXDsIT0zVZZ2KMS/As/lR63+K/ApirwAfLfVW3kpKWM=\n=cV0U\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9ec5da36b62276ae22e348f26f88aaf646357d6d",
          "sha": "9ec5da36b62276ae22e348f26f88aaf646357d6d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/9ec5da36b62276ae22e348f26f88aaf646357d6d"
        }
      ],
      "message": "refactor: Split util::insert into its own file",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-05-20T10:03:31Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-05-17T15:40:32Z"
      },
      "sha": "44de325d95447498036479c3112ba741caf45bf6"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDdlZWUzNTZjMGE3ZmVmZDcwYzhkZTIxNjg5ZWZhMzM1ZjUyYTY5YmE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7eee356c0a7fefd70c8de21689efa335f52a69ba",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/7eee356c0a7fefd70c8de21689efa335f52a69ba",
      "tree": {
        "sha": "424f75e0ee33d4a7de12976123f59ee14eb5a729",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/424f75e0ee33d4a7de12976123f59ee14eb5a729"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 424f75e0ee33d4a7de12976123f59ee14eb5a729\nparent 44de325d95447498036479c3112ba741caf45bf6\nauthor TheCharlatan <seb.kung@gmail.com> 1684338445 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1684577013 +0200\n\nrefactor: Split util::AnyPtr into its own file\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmRomvUACgkQm3m0VpHb\nQXOcXg/+Mgm0xRozkl2ia9TFbj+I2suvGmYugRdPHeaX2O87xuPETWKTOcNeGbtc\nrFpHUSn+yuG6qHqTtjIfQLMVz9RBE4/FN3Fg72ju+Ah2MAwMxXq+MQuL/bR7erZI\nVQRmg6k+yrEh+B3i+S+EE0XswEfA6Kf9gtwttMFR1Z5MsV//jiqBc/XfWSJyIeJW\nRwteZ5Y2dEmzDkDmwWTUjpViS6MAnVoxc0A8kvgv0SxhV3PqJGU9/WIn+hHsk8X8\nP9OxfVZCjpUy18aWECRhfBSa56e9r3r7oJW6kH0+iAeoZu7zDApxX/PmkjLxrezz\n95zYX3aFjTxwKLj01nmQlcD95Xfvz+SjA0OSSuyS+/eptPIPk+ThX3FaBxC+FCaG\n9mgyRoNZLuYNNVmZdRDsCYHt2NPqfQwimntLiZBLRkGVdiyicC+aeGOqdFBi8kS0\ni3LJA61Cv++Nmozp3Qyn5GRs9j6Cohs6KpdVhkj2ZGfUzUJK6Mbf3pOhGIcY2ee4\nWAYV8MxJy6/J8iINW7rIcpHGUhkA2yibfeX1k2seltKktBWeNjMJteWdukw2ZpLC\nPfNuT6ruq2wIF8TWjoPV2obmACd7N5cuNVMWkgk2alU//Ui4jnVR1f0WAFzcpg26\niC5Tv+znZE4+tZSrEQ+ujuD9WYspI2qC/vcU+Ka5BByE/txiEFc=\n=6TBe\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/44de325d95447498036479c3112ba741caf45bf6",
          "sha": "44de325d95447498036479c3112ba741caf45bf6",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/44de325d95447498036479c3112ba741caf45bf6"
        }
      ],
      "message": "refactor: Split util::AnyPtr into its own file",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-05-20T10:03:33Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-05-17T15:47:25Z"
      },
      "sha": "7eee356c0a7fefd70c8de21689efa335f52a69ba"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDdkM2IzNTAwNGIwMzlmMmJkNjA2YmI0NmE1NDBkZTdiYWJkYmM0MWU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "tree": {
        "sha": "d79c4a23a3c8864b9648946793454bf618b67266",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d79c4a23a3c8864b9648946793454bf618b67266"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree d79c4a23a3c8864b9648946793454bf618b67266\nparent 7eee356c0a7fefd70c8de21689efa335f52a69ba\nauthor TheCharlatan <seb.kung@gmail.com> 1683538333 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1684577293 +0200\n\nrefactor: Move system from util to common library\n\nSince the kernel library no longer depends on the system file, move it\nto the common library instead in accordance to the diagram in\ndoc/design/libraries.md.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmRonA0ACgkQm3m0VpHb\nQXPppxAArOeM8auHvPEWMblEl4pTFVtEmCqEMTFEwK+eCfGDaymz3Agmng55AnLI\nr8DLzJKQgdt12Mw7koxTgSm7o+jHjEpbhVIeOX01lQNJTtvl02QRJrA/yyMDHE25\niVqgESu53ClaxQYBp6KbFDRIcWYP69MEHKiTzsLaU+NdZEY8t5D6LiJYSpriM1Ha\nErb7POw1fxEWpMLhILjdSOM0R644Qy6U4W3vaT5k6vGPAUgsV5PORlokLRXLoNqx\nFxWU9ktPzak4q+ug/pA37a14rEe48fA1Yrs4y5xiHUNYtq+8XALF7C7D5S1F3Pi/\nIgFFj9pW70F07+SwUcVd/cQHHNb3UwYHVg9S3wMWgeT5f5T7xsi/tiomY/9b7MMq\n0F3cCmwDdJo5ouSK0vZBFSG/sU2QEMDWHphxxD4h77eeOytyzRoc4yqSkL8ocqxf\nvFobI2OAaHOyxiz5335/uAhR256Xu+JIKiVik78JcDXqhEAqWghbTkoLDKop5SkQ\ngPa/LGyUqzHgEtSSZYLID9+/kKI3CNWX0ZyYiMIlMfO4QGJnp/R4XOFbEZbUWJrb\nSTsEpFAYdWcmq1NpMWvQx2fgpBmWJvOXQx9tKfzr6kMbLstKpvcazGKyog4evKt3\nKd+TDZL3kaW4lCYGUWYw9XduH9WL7cgbIzSLBdHnyQ3YeGCnl/c=\n=8XFh\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7eee356c0a7fefd70c8de21689efa335f52a69ba",
          "sha": "7eee356c0a7fefd70c8de21689efa335f52a69ba",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/7eee356c0a7fefd70c8de21689efa335f52a69ba"
        }
      ],
      "message": "refactor: Move system from util to common library\n\nSince the kernel library no longer depends on the system file, move it\nto the common library instead in accordance to the diagram in\ndoc/design/libraries.md.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-05-20T10:08:13Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-05-08T09:32:13Z"
      },
      "sha": "7d3b35004b039f2bd606bb46a540de7babdbc41e"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9294261097,
      "node_id": "HRFPE_lADOABII585lwSpzzwAAAAIp-ytp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9294261097",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-20T10:11:12Z"
    },
    {
      "event": "labeled",
      "id": 9294261186,
      "node_id": "LE_lADOABII585lwSpzzwAAAAIp-yvC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9294261186",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-20T10:11:17Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1555879559,
      "node_id": "IC_kwDOABII585cvNaH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1555879559",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-20T10:11:21Z",
      "updated_at": "2023-05-20T10:11:21Z",
      "author_association": "MEMBER",
      "body": "Rebased a30cd548f1bc0ed73a4e157c6e81dbcf2542a916 -> bbfbcd0360e486d47025a412f2c0f4e8535ab255 ([chainstateRmKernelUiInterface_11](https://github.com/TheCharlatan/bitcoin/commits/chainstateRmKernelUiInterface_11) -> [chainstateRmKernelUiInterface_12](https://github.com/TheCharlatan/bitcoin/commits/chainstateRmKernelUiInterface_12), [compare](https://github.com/TheCharlatan/bitcoin/compare/chainstateRmKernelUiInterface_11..chainstateRmKernelUiInterface_12)).\r\n* Fixed broken include introduced by https://github.com/bitcoin/bitcoin/pull/27021\r\n",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#issuecomment-1555879559",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27636"
    },
    {
      "event": "reviewed",
      "id": 1435394620,
      "node_id": "PRR_kwDOABII585VjmI8",
      "url": null,
      "actor": null,
      "commit_id": "bbfbcd0360e486d47025a412f2c0f4e8535ab255",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "re-ACK bbfbcd0360e486d47025a412f2c0f4e8535ab255",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#pullrequestreview-1435394620",
      "submitted_at": "2023-05-20T11:01:43Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
    },
    {
      "event": "review_requested",
      "id": 9294315047,
      "node_id": "RRE_lADOABII585lwSpzzwAAAAIp-_4n",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9294315047",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-20T11:01:48Z",
      "requested_reviewer": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "unlabeled",
      "id": 9294332414,
      "node_id": "UNLE_lADOABII585lwSpzzwAAAAIp_EH-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9294332414",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-20T11:17:29Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1435962922,
      "node_id": "PRR_kwDOABII585Vlw4q",
      "url": null,
      "actor": null,
      "commit_id": "bbfbcd0360e486d47025a412f2c0f4e8535ab255",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "nice ACK bbfbcd0360e486d47025a412f2c0f4e8535ab255 😇\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\nuntrusted comment: signature from minisign secret key on empty file; verify via: minisign -Vm \"${path_to_any_empty_file}\" -P RWTRmVTMeKV5noAMqVlsMugDDCyyTSbA3Re5AkUrhvLVln0tSaFWglOw -x \"${path_to_this_whole_four_line_signature_blob}\"\r\nRUTRmVTMeKV5npGrKx1nqXCw5zeVHdtdYURB/KlyA/LMFgpNCs+SkW9a8N95d+U4AP1RJMi+krxU1A3Yux4bpwZNLvVBKy0wLgM=\r\ntrusted comment: nice ACK bbfbcd0360e486d47025a412f2c0f4e8535ab255 😇\r\nBbApFuKhj/XG7Duq8EeZ7blM3oY0cd/cJkgn9seZt34G5Kub2xfYavP2fdqQMwFHb+s5quPdTNaHumnzFKGaAg==\r\n```\r\n\r\n</details>\r\n",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#pullrequestreview-1435962922",
      "submitted_at": "2023-05-22T07:35:59Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
    },
    {
      "event": "assigned",
      "id": 9300403454,
      "node_id": "AE_lADOABII585lwSpzzwAAAAIqWOT-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9300403454",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-22T09:35:06Z",
      "assignee": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "reviewed",
      "id": 1436636736,
      "node_id": "PRR_kwDOABII585VoVZA",
      "url": null,
      "actor": null,
      "commit_id": "bbfbcd0360e486d47025a412f2c0f4e8535ab255",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "A few high-level conceptual questions that weren't obvious from a quick skim:\r\n\r\nWhat's the threading model of the notification interface? For example, might it be possible that I:\r\n- Receive a fatal error callback before the parent function has completed\r\n- Not yet received the fatal callback before calling another function\r\n\r\nI guess your answer to the latter would be \"the caller should've received an error as well\". See my other comment about my concern there.",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#pullrequestreview-1436636736",
      "submitted_at": "2023-05-22T13:36:45Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
    },
    {
      "event": "reviewed",
      "id": 1436684577,
      "node_id": "PRR_kwDOABII585VohEh",
      "url": null,
      "actor": null,
      "commit_id": "bbfbcd0360e486d47025a412f2c0f4e8535ab255",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "re: https://github.com/bitcoin/bitcoin/pull/27636#pullrequestreview-1436636736\r\n\r\n> A few high-level conceptual questions that weren't obvious from a quick skim:\r\n> \r\n> What's the threading model of the notification interface? For example, might it be possible that I:\r\n> \r\n>* Receive a fatal error callback before the parent function has completed\r\n> \r\n>* Not yet received the fatal callback before calling another function\r\n\r\nThe first thing should always happen and the second thing should never happen. Could maybe clarify this by changing \"After this notification is sent\" to \"After this notification returns\". It would also be good to add an overall comment to the interface class saying that notifications block kernel code, so notification methods should return quickly to avoid affecting performance.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#pullrequestreview-1436684577",
      "submitted_at": "2023-05-22T14:09:06Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
    },
    {
      "event": "review_requested",
      "id": 9303276363,
      "node_id": "RRE_lADOABII585lwSpzzwAAAAIqhLtL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9303276363",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-22T14:09:11Z",
      "requested_reviewer": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "commented",
      "id": 1557386699,
      "node_id": "IC_kwDOABII585c09XL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1557386699",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-22T15:05:04Z",
      "updated_at": "2023-05-22T15:05:04Z",
      "author_association": "MEMBER",
      "body": "> > What's the threading model of the notification interface? For example, might it be possible that I:\r\n> > \r\n> > * Receive a fatal error callback before the parent function has completed\r\n> > * Not yet received the fatal callback before calling another function\r\n> \r\n> The first thing should always happen\r\n\r\nI know I sound like a broken record here but... is that a guarantee? If so I think it should be documented. And again it feels brittle without some type of enforcement that the callback is always called from the user's thread and not (for ex) the scheduler. Worth adding some `ASSERT_CALLING_THREAD` or something like that?\r\n\r\n> Could maybe clarify this by changing \"After this notification is sent\" to \"After this notification returns\". It would also be good to add an overall comment to the interface class saying that notifications block kernel code, so notification methods should return quickly to avoid affecting performance.\r\n\r\nYes please. I do wonder if that's a substantial footgun to provide, but I suppose this interface can always be improved in the future.",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#issuecomment-1557386699",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27636"
    },
    {
      "event": "commented",
      "id": 1557487333,
      "node_id": "IC_kwDOABII585c1V7l",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1557487333",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-22T16:01:49Z",
      "updated_at": "2023-05-22T16:01:49Z",
      "author_association": "MEMBER",
      "body": "> > > * Receive a fatal error callback before the parent function has completed\r\n> > \r\n> > The first thing should always happen\r\n> \r\n> I know I sound like a broken record here but... is that a guarantee? If so I think it should be documented.\r\n\r\nI think possibly I'm not understanding the question. It seems self-evident that if some kernel function calls the `kernel::Notifications::fatalError` method, that function won't finish executing until the `kernel::Notifications::fatalError` method implementation completes and returns. Function calls in c++ are blocking, so functions don't return until the functions they call return, and this applies recursively all the way up to the \"parent function\", whatever that may be.\r\n\r\nThe only thing the documentation doesn't say right now is that kernel functions make normal function calls to `kernel::Notifications::fatalError` and don't call them on some asynchronous thread. But I think not specifying that is probably a good thing. I think it would be best if kernel applications handle errors properly as they occur rather than relying on the timing of notifications. But we could definitely change \"After this notification is sent\" to \"After this notification returns\" to give a timing guarantee.\r\n\r\n> And again it feels brittle without some type of enforcement that the callback is always called from the user's thread and not (for ex) the scheduler. Worth adding some `ASSERT_CALLING_THREAD` or something like that?\r\n\r\nI don't think notification callbacks will always be called from the users thread. Kernel could definitely spawn it's own threads and operate asyncronously depending on the application. I think applications just should try to handle notifications as quickly as possible and generally not be sensitive to when they arrive.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#issuecomment-1557487333",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27636"
    },
    {
      "event": "commented",
      "id": 1557558059,
      "node_id": "IC_kwDOABII585c1nMr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1557558059",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-22T16:45:26Z",
      "updated_at": "2023-05-22T16:45:26Z",
      "author_association": "MEMBER",
      "body": "> > I know I sound like a broken record here but... is that a guarantee? If so I think it should be documented.\r\n> \r\n> I think possibly I'm not understanding the question. It seems self-evident that if some kernel function calls the `kernel::Notifications::fatalError` method, that function won't finish executing until the `kernel::Notifications::fatalError` method implementation completes and returns. Function calls in c++ are blocking, so functions don't return until the functions they call return, and this applies recursively all the way up to the \"parent function\", whatever that may be.\r\n\r\nAs a caller this would be non-obvious to me. It would be perfectly reasonable to have a dedicated dispatcher thread for these messages to avoid blocking kernel execution and guaranteeing the threading properties for the caller. In that case, due to the dispatching overhead, a notification could come in after the return. That's why I think it's worth a mention.\r\n\r\nIgnore my questions/comments about the calling thread, I definitely misunderstood you :)",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#issuecomment-1557558059",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27636"
    },
    {
      "event": "reviewed",
      "id": 1440486632,
      "node_id": "PRR_kwDOABII585V3BTo",
      "url": null,
      "actor": null,
      "commit_id": "bbfbcd0360e486d47025a412f2c0f4e8535ab255",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "From IRC:\r\n\r\n> \\<TheCharlatan\\> Hey, how about moving the last two commits of #27636 (the only ones to touch the shutdown logic) to #27711? Then we can get #27636 merged and move ahead with #27576.\r\n\r\nThis is a good idea imo. I really don't want to slow this down, but I would benefit from a few extra days of catching up and testing the shutdown logic before reviewing/critiquing it in detail.",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#pullrequestreview-1440486632",
      "submitted_at": "2023-05-23T20:11:55Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9321189322,
      "node_id": "HRFPE_lADOABII585lwSpzzwAAAAIrlg_K",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9321189322",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-23T22:16:23Z"
    },
    {
      "event": "commented",
      "id": 1560199240,
      "node_id": "IC_kwDOABII585c_sBI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1560199240",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-23T22:16:43Z",
      "updated_at": "2023-05-23T22:16:43Z",
      "author_association": "MEMBER",
      "body": "Dropped bbfbcd0360e486d47025a412f2c0f4e8535ab255 -> 7d3b35004b039f2bd606bb46a540de7babdbc41e ([chainstateRmKernelUiInterface_12](https://github.com/TheCharlatan/bitcoin/commits/chainstateRmKernelUiInterface_12) -> [chainstateRmKernelUiInterface_13](https://github.com/TheCharlatan/bitcoin/commits/chainstateRmKernelUiInterface_13), [compare](https://github.com/TheCharlatan/bitcoin/compare/chainstateRmKernelUiInterface_12..chainstateRmKernelUiInterface_13).\r\n\r\nThis reverts the last two commits touching the shutdown logic. I feel like these two changes produced the most controversy and could benefit from further review in another PR. The two commits will be picked up in #27711 where a further patch-set is presented to complete the removal of shutdown code from the kernel library. Hopefully this allows things to move forward and a more focused review of just the shutdown functionality.\r\n",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#issuecomment-1560199240",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27636"
    },
    {
      "event": "renamed",
      "id": 9323162383,
      "node_id": "RTE_lADOABII585lwSpzzwAAAAIrtCsP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9323162383",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-24T05:40:42Z",
      "rename": {
        "from": "kernel: Remove interface_ui, util/system from kernel library",
        "to": "kernel: Remove util/system from kernel library, interface_ui from validation."
      }
    },
    {
      "event": "reviewed",
      "id": 1441753577,
      "node_id": "PRR_kwDOABII585V72np",
      "url": null,
      "actor": null,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Code Review ACK 7d3b35004b039f2bd606bb46a540de7babdbc41e\r\n\r\nI'm still familiarising myself with the libbitcoinkernel project so for now I've mostly focused on the code being correct, readable, ... and not so much on architecture (which is arguably the most important thing here) etc. All the changes made sense, and are very well structured and readable.\r\n\r\nI've left a few nits (+[here](https://github.com/TheCharlatan/bitcoin/commit/7d3b35004b039f2bd606bb46a540de7babdbc41e#commitcomment-114818127)) mostly regarding includes, all of them can be safely ignored and definitely shouldn't stand in the way of this PR making progress.\r\n\r\n~general nit: could we [stick to camelcase](https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md#coding-style-c) naming for new functions, e.g. `Notifications::headerTip()` -> `Notification::HeaderTip()`?~ _(edit: TheCharlatan pointed me to this section in the developer notes which I wasn't aware of: https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md#internal-interface-naming-style)_",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#pullrequestreview-1441753577",
      "submitted_at": "2023-05-24T15:56:32Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
    },
    {
      "event": "review_requested",
      "id": 9329771832,
      "node_id": "RRE_lADOABII585lwSpzzwAAAAIsGQU4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9329771832",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-24T15:56:38Z",
      "requested_reviewer": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "review_requested",
      "id": 9329771866,
      "node_id": "RRE_lADOABII585lwSpzzwAAAAIsGQVa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9329771866",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-24T15:56:38Z",
      "requested_reviewer": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "commented",
      "id": 1562994545,
      "node_id": "IC_kwDOABII585dKWdx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1562994545",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-25T14:18:42Z",
      "updated_at": "2023-05-25T14:19:02Z",
      "author_association": "MEMBER",
      "body": "Re https://github.com/bitcoin/bitcoin/pull/27636#pullrequestreview-1441753577\r\n\r\nThank you for the review!\r\n\r\n> all of them can be safely ignored and definitely shouldn't stand in the way of this PR making progress.\r\n\r\nI'll fix these if I have to push again, otherwise will address them in follow ups.\r\n",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#issuecomment-1562994545",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27636"
    },
    {
      "event": "review_requested",
      "id": 9340750472,
      "node_id": "RRE_lADOABII585lwSpzzwAAAAIswIqI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9340750472",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-25T14:20:28Z",
      "requested_reviewer": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "commented",
      "id": 1562999859,
      "node_id": "IC_kwDOABII585dKXwz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1562999859",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-25T14:22:05Z",
      "updated_at": "2023-05-25T14:22:05Z",
      "author_association": "MEMBER",
      "body": "re-ACK 7d3b35004b039f2bd606bb46a540de7babdbc41e (no change) 🎋\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\nuntrusted comment: signature from minisign secret key on empty file; verify via: minisign -Vm \"${path_to_any_empty_file}\" -P RWTRmVTMeKV5noAMqVlsMugDDCyyTSbA3Re5AkUrhvLVln0tSaFWglOw -x \"${path_to_this_whole_four_line_signature_blob}\"\r\nRUTRmVTMeKV5npGrKx1nqXCw5zeVHdtdYURB/KlyA/LMFgpNCs+SkW9a8N95d+U4AP1RJMi+krxU1A3Yux4bpwZNLvVBKy0wLgM=\r\ntrusted comment: re-ACK 7d3b35004b039f2bd606bb46a540de7babdbc41e (no change) 🎋\r\nKyefeMll325W9RWk14PPm6bu59qHDnXgwGbMBKjFGB9wmlCtLMlA81b/7AQmrnMQk3tKDPrwtNU3/dBtq+dvDg==\r\n```\r\n\r\n</details>\r\n",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#issuecomment-1562999859",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27636"
    },
    {
      "event": "review_request_removed",
      "id": 9340768483,
      "node_id": "RRRE_lADOABII585lwSpzzwAAAAIswNDj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9340768483",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-25T14:22:10Z",
      "requested_reviewer": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "reviewed",
      "id": 1449106502,
      "node_id": "PRR_kwDOABII585WX5xG",
      "url": null,
      "actor": null,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "re-ACK 7d3b35004b039f2bd606bb46a540de7babdbc41e, only last two commits dropped since my [recent](https://github.com/bitcoin/bitcoin/pull/27636#pullrequestreview-1435394620) review.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#pullrequestreview-1449106502",
      "submitted_at": "2023-05-29T08:25:35Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
    },
    {
      "event": "merged",
      "id": 9378850380,
      "node_id": "ME_lADOABII585lwSpzzwAAAAIvBeZM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9378850380",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "9564f98fee9809530e10070ab18738aefe95445e",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9564f98fee9809530e10070ab18738aefe95445e",
      "created_at": "2023-05-30T13:57:34Z"
    },
    {
      "event": "closed",
      "id": 9378850500,
      "node_id": "CE_lADOABII585lwSpzzwAAAAIvBebE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9378850500",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-30T13:57:34Z"
    },
    {
      "event": "referenced",
      "id": 9380911010,
      "node_id": "REFE_lADOABII585lwSpzzwAAAAIvJVei",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9380911010",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "46edd31b0ff80bcb460fc9ad7f2e2eda45ec85ae",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/46edd31b0ff80bcb460fc9ad7f2e2eda45ec85ae",
      "created_at": "2023-05-30T17:07:11Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1192264695",
      "pull_request_review_id": 1424328154,
      "id": 1192264695,
      "node_id": "PRRC_kwDOABII585HEIP3",
      "diff_hunk": "@@ -15,13 +15,29 @@\n #include <functional>\n #include <optional>\n \n+class CBlockIndex;\n class CChainParams;\n+enum class SynchronizationState;\n \n static constexpr bool DEFAULT_CHECKPOINTS_ENABLED{true};\n static constexpr auto DEFAULT_MAX_TIP_AGE{24h};\n \n namespace kernel {\n \n+/**\n+ * A struct containing callback functions to issue notifications from the\n+ * `ChainstateManager`. More ergonomically referred to as\n+ * `ChainstateManager::NotificationCallbacks` due to the using-declaration in\n+ * `ChainstateManager`.\n+ */\n+struct ChainstateManagerNotificationCallbacks {\n+    const std::function<void(SynchronizationState state, CBlockIndex* index)> notify_block_tip;\n+    const std::function<void(SynchronizationState state, int64_t height, int64_t timestamp, bool presync)> notify_header_tip;\n+    const std::function<void(const std::string& title, int nProgress, bool resume_possible)> show_progress;\n+    const std::function<void(const bilingual_str& warning)> do_warning;\n+    const std::function<void(const bilingual_str& user_message)> init_error;\n+};",
      "path": "src/kernel/chainstatemanager_opts.h",
      "position": null,
      "original_position": 25,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "0b159b9256c214a289135ca7bfaf70e48ab28e20",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It seems like it would be more natural to write this as:\r\n\r\n```c++\r\nclass ChainstateNotifications\r\n{\r\n    virtual void NotifyBlockTip(SynchronizationState state, CBlockIndex* index) {}\r\n    virtual void NotifyHeaderTip(SynchronizationState state, int64_t height, int64_t timestamp, bool presync) {}\r\n    virtual void ShowProgress(const std::string& title, int nProgress, bool resume_possible) {}\r\n    virtual void DoWarning(const bilingual_str& warning) {}\r\n    virtual void InitError(const bilingual_str& user_message) {}\r\n};\r\n```",
      "created_at": "2023-05-12T11:49:24Z",
      "updated_at": "2023-05-12T12:28:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1192264695",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1192264695"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": 33,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 39,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1192290165",
      "pull_request_review_id": 1424328154,
      "id": 1192290165,
      "node_id": "PRRC_kwDOABII585HEOd1",
      "diff_hunk": "@@ -527,7 +527,7 @@ void BlockManager::FlushUndoFile(int block_file, bool finalize)\n {\n     FlatFilePos undo_pos_old(block_file, m_blockfile_info[block_file].nUndoSize);\n     if (!UndoFileSeq().Flush(undo_pos_old, finalize)) {\n-        AbortNode(\"Flushing undo file to disk failed. This is likely the result of an I/O error.\");\n+        AbortNode(\"Flushing undo file to disk failed. This is likely the result of an I/O error.\", m_opts.init_error_callback);",
      "path": "src/node/blockstorage.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "0b159b9256c214a289135ca7bfaf70e48ab28e20",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "These new AbortNode calls seem more awkward. And they aren't really future-proof since `AbortNode` calls the global `StartShutdown` function which is specific to the node and will have to be changed for the kernel. Also the name \"abort node\" doesn't make sense in the kernel context if the kernel application isn't a bitcoin node. Would suggest adding a `FatalError` notification to complement `InitError` in `ChainstateNotifications` class suggested previously:\r\n\r\n```c++\r\nclass ChainstateNotifications\r\n{\r\n    ...\r\n    virtual void FatalError(const bilingual_str& error_message, const bilingual_str abort_message={}) {}\r\n};\r\n```\r\n\r\nOther kernel clients could customize `FatalError` but the node implementation would call `SetMiscWarning(error_message)` and `InitError(abort_message or \"A fatal internal error occurred, see debug.log for details\")` and `StartShutdown()` like `AbortNode` function does currently, to keep behavior unchanged.",
      "created_at": "2023-05-12T12:18:15Z",
      "updated_at": "2023-05-12T12:28:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1192290165",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1192290165"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 530,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1192295222",
      "pull_request_review_id": 1424328154,
      "id": 1192295222,
      "node_id": "PRRC_kwDOABII585HEPs2",
      "diff_hunk": "@@ -0,0 +1,14 @@\n+// Copyright (c) 2023 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_NODE_CHAINSTATEMANAGER_NOTIFICATIONS_H\n+#define BITCOIN_NODE_CHAINSTATEMANAGER_NOTIFICATIONS_H\n+\n+#include <kernel/chainstatemanager_opts.h>\n+\n+namespace node {\n+kernel::ChainstateManagerNotificationCallbacks DefaultChainstateManagerNotifications();",
      "path": "src/node/chainstatemanager_notifications.h",
      "position": null,
      "original_position": 11,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "0b159b9256c214a289135ca7bfaf70e48ab28e20",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I don't think I would tie these notifications to the ChainStateManager class specifically as they really make sense anywhere in validation code. Would suggest changing `chainstatemanager_notifications` to  `chainstate_notifications`, or `validation_notifications` and dropping the \"manager\" in these places",
      "created_at": "2023-05-12T12:23:32Z",
      "updated_at": "2023-05-12T12:28:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1192295222",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1192295222"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 11,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1192715879",
      "pull_request_review_id": 1425030271,
      "id": 1192715879,
      "node_id": "PRRC_kwDOABII585HF2Zn",
      "diff_hunk": "@@ -0,0 +1,14 @@\n+// Copyright (c) 2023 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_NODE_CHAINSTATEMANAGER_NOTIFICATIONS_H\n+#define BITCOIN_NODE_CHAINSTATEMANAGER_NOTIFICATIONS_H\n+\n+#include <kernel/chainstatemanager_opts.h>\n+\n+namespace node {\n+kernel::ChainstateManagerNotificationCallbacks DefaultChainstateManagerNotifications();",
      "path": "src/node/chainstatemanager_notifications.h",
      "position": null,
      "original_position": 11,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "0b159b9256c214a289135ca7bfaf70e48ab28e20",
      "in_reply_to_id": 1192295222,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Would you also prefer passing this `validation_notifications` class to the other users of these notification functions, even if they only use one of the methods?",
      "created_at": "2023-05-12T19:08:27Z",
      "updated_at": "2023-05-12T19:08:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1192715879",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1192715879"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 11,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1192780239",
      "pull_request_review_id": 1425134568,
      "id": 1192780239,
      "node_id": "PRRC_kwDOABII585HGGHP",
      "diff_hunk": "@@ -0,0 +1,14 @@\n+// Copyright (c) 2023 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_NODE_CHAINSTATEMANAGER_NOTIFICATIONS_H\n+#define BITCOIN_NODE_CHAINSTATEMANAGER_NOTIFICATIONS_H\n+\n+#include <kernel/chainstatemanager_opts.h>\n+\n+namespace node {\n+kernel::ChainstateManagerNotificationCallbacks DefaultChainstateManagerNotifications();",
      "path": "src/node/chainstatemanager_notifications.h",
      "position": null,
      "original_position": 11,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "0b159b9256c214a289135ca7bfaf70e48ab28e20",
      "in_reply_to_id": 1192295222,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, I think that's preferable. Just pass `const ChainstateNotifications&` everywhere and don't have a lot of different awkward notification types",
      "created_at": "2023-05-12T20:46:44Z",
      "updated_at": "2023-05-12T22:41:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1192780239",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1192780239"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 11,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1193133568",
      "pull_request_review_id": 1425537905,
      "id": 1193133568,
      "node_id": "PRRC_kwDOABII585HHcYA",
      "diff_hunk": "@@ -1034,13 +1036,15 @@ bool AppInitParameterInteraction(const ArgsManager& args, bool use_syscall_sandb\n         ChainstateManager::Options chainman_opts_dummy{\n             .chainparams = chainparams,\n             .datadir = args.GetDataDirNet(),\n+            .notifications = std::make_shared<ValidationNotificationsImpl>(),",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 36,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "63e915af5a437d36abdd79a1b90fed2395086589",
      "in_reply_to_id": null,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Shouldn't this change be moved to the first commit?",
      "created_at": "2023-05-14T11:58:55Z",
      "updated_at": "2023-05-14T11:58:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1193133568",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1193133568"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1039,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1193134480",
      "pull_request_review_id": 1425538799,
      "id": 1193134480,
      "node_id": "PRRC_kwDOABII585HHcmQ",
      "diff_hunk": "@@ -1034,13 +1036,15 @@ bool AppInitParameterInteraction(const ArgsManager& args, bool use_syscall_sandb\n         ChainstateManager::Options chainman_opts_dummy{\n             .chainparams = chainparams,\n             .datadir = args.GetDataDirNet(),\n+            .notifications = std::make_shared<ValidationNotificationsImpl>(),",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 36,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "63e915af5a437d36abdd79a1b90fed2395086589",
      "in_reply_to_id": 1193133568,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "We also don't set other params, like `adjusted_time_callback` in the dummy opts, since they are not required to read the args into the struct. The commit where this is changed, adds it because the `BlockManager::Options` requires a reference to the notifications starting at that commit.",
      "created_at": "2023-05-14T12:04:23Z",
      "updated_at": "2023-05-14T12:04:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1193134480",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1193134480"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1039,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1193141876",
      "pull_request_review_id": 1425546113,
      "id": 1193141876,
      "node_id": "PRRC_kwDOABII585HHeZ0",
      "diff_hunk": "@@ -1034,13 +1036,15 @@ bool AppInitParameterInteraction(const ArgsManager& args, bool use_syscall_sandb\n         ChainstateManager::Options chainman_opts_dummy{\n             .chainparams = chainparams,\n             .datadir = args.GetDataDirNet(),\n+            .notifications = std::make_shared<ValidationNotificationsImpl>(),",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 36,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "63e915af5a437d36abdd79a1b90fed2395086589",
      "in_reply_to_id": 1193133568,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "FWIW, gcc emits a warning here.",
      "created_at": "2023-05-14T12:53:09Z",
      "updated_at": "2023-05-14T12:53:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1193141876",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1193141876"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1039,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1193146924",
      "pull_request_review_id": 1425550586,
      "id": 1193146924,
      "node_id": "PRRC_kwDOABII585HHfos",
      "diff_hunk": "@@ -1034,13 +1036,15 @@ bool AppInitParameterInteraction(const ArgsManager& args, bool use_syscall_sandb\n         ChainstateManager::Options chainman_opts_dummy{\n             .chainparams = chainparams,\n             .datadir = args.GetDataDirNet(),\n+            .notifications = std::make_shared<ValidationNotificationsImpl>(),",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 36,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "63e915af5a437d36abdd79a1b90fed2395086589",
      "in_reply_to_id": 1193133568,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thank you for following up, will patch.",
      "created_at": "2023-05-14T13:23:13Z",
      "updated_at": "2023-05-14T13:23:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1193146924",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1193146924"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1039,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1193161217",
      "pull_request_review_id": 1425563317,
      "id": 1193161217,
      "node_id": "PRRC_kwDOABII585HHjIB",
      "diff_hunk": "@@ -0,0 +1,35 @@\n+// Copyright (c) 2023 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_KERNEL_VALIDATION_NOTIFICATIONS_INTERFACE_H\n+#define BITCOIN_KERNEL_VALIDATION_NOTIFICATIONS_INTERFACE_H\n+\n+#include <util/translation.h>\n+\n+#include <cstdint>\n+#include <string>\n+\n+class CBlockIndex;\n+enum class SynchronizationState;\n+\n+namespace kernel {\n+\n+/**\n+ * A base class defining functions for notifying about certain validation\n+ * events.\n+ */\n+class ValidationNotifications\n+{\n+public:\n+    virtual ~ValidationNotifications(){};\n+\n+    virtual void notifyBlockTip(SynchronizationState state, CBlockIndex* index) = 0;\n+    virtual void notifyHeaderTip(SynchronizationState state, int64_t height, int64_t timestamp, bool presync) = 0;\n+    virtual void showProgress(const std::string& title, int nProgress, bool resume_possible) = 0;\n+    virtual void doWarning(const bilingual_str& warning) = 0;\n+    virtual bool fatalError(const std::string& strMessage, bilingual_str user_message = {}) = 0;",
      "path": "src/kernel/validation_notifications_interface.h",
      "position": null,
      "original_position": 31,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "63e915af5a437d36abdd79a1b90fed2395086589",
      "in_reply_to_id": null,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Should these methods be non-`const`?",
      "created_at": "2023-05-14T14:52:10Z",
      "updated_at": "2023-05-14T14:52:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1193161217",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1193161217"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": 27,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 31,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1193161280",
      "pull_request_review_id": 1425563317,
      "id": 1193161280,
      "node_id": "PRRC_kwDOABII585HHjJA",
      "diff_hunk": "@@ -0,0 +1,35 @@\n+// Copyright (c) 2023 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_KERNEL_VALIDATION_NOTIFICATIONS_INTERFACE_H\n+#define BITCOIN_KERNEL_VALIDATION_NOTIFICATIONS_INTERFACE_H\n+\n+#include <util/translation.h>\n+\n+#include <cstdint>\n+#include <string>\n+\n+class CBlockIndex;\n+enum class SynchronizationState;\n+\n+namespace kernel {\n+\n+/**\n+ * A base class defining functions for notifying about certain validation\n+ * events.\n+ */\n+class ValidationNotifications\n+{\n+public:\n+    virtual ~ValidationNotifications(){};\n+\n+    virtual void notifyBlockTip(SynchronizationState state, CBlockIndex* index) = 0;\n+    virtual void notifyHeaderTip(SynchronizationState state, int64_t height, int64_t timestamp, bool presync) = 0;\n+    virtual void showProgress(const std::string& title, int nProgress, bool resume_possible) = 0;\n+    virtual void doWarning(const bilingual_str& warning) = 0;\n+    virtual bool fatalError(const std::string& strMessage, bilingual_str user_message = {}) = 0;\n+};\n+} // namespace kernel\n+\n+#endif // BITCOIN_KERNEL_VALIDATION_NOTIFICATIONS_INTERFACE_H",
      "path": "src/kernel/validation_notifications_interface.h",
      "position": null,
      "original_position": 35,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "63e915af5a437d36abdd79a1b90fed2395086589",
      "in_reply_to_id": null,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: EOL?",
      "created_at": "2023-05-14T14:52:33Z",
      "updated_at": "2023-05-14T14:52:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1193161280",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1193161280"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 35,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1193165783",
      "pull_request_review_id": 1425567541,
      "id": 1193165783,
      "node_id": "PRRC_kwDOABII585HHkPX",
      "diff_hunk": "@@ -0,0 +1,35 @@\n+// Copyright (c) 2023 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_KERNEL_VALIDATION_NOTIFICATIONS_INTERFACE_H\n+#define BITCOIN_KERNEL_VALIDATION_NOTIFICATIONS_INTERFACE_H\n+\n+#include <util/translation.h>\n+\n+#include <cstdint>\n+#include <string>\n+\n+class CBlockIndex;\n+enum class SynchronizationState;\n+\n+namespace kernel {\n+\n+/**\n+ * A base class defining functions for notifying about certain validation\n+ * events.\n+ */\n+class ValidationNotifications\n+{\n+public:\n+    virtual ~ValidationNotifications(){};\n+\n+    virtual void notifyBlockTip(SynchronizationState state, CBlockIndex* index) = 0;\n+    virtual void notifyHeaderTip(SynchronizationState state, int64_t height, int64_t timestamp, bool presync) = 0;\n+    virtual void showProgress(const std::string& title, int nProgress, bool resume_possible) = 0;\n+    virtual void doWarning(const bilingual_str& warning) = 0;\n+    virtual bool fatalError(const std::string& strMessage, bilingual_str user_message = {}) = 0;",
      "path": "src/kernel/validation_notifications_interface.h",
      "position": null,
      "original_position": 31,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "63e915af5a437d36abdd79a1b90fed2395086589",
      "in_reply_to_id": 1193161217,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, as far as I am aware, `const` virtual methods are bad practice. See: https://github.com/bitcoin/bitcoin/pull/25337#discussion_r916367659.",
      "created_at": "2023-05-14T15:23:24Z",
      "updated_at": "2023-05-14T15:23:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1193165783",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1193165783"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": 27,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 31,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1193811410",
      "pull_request_review_id": 1426519811,
      "id": 1193811410,
      "node_id": "PRRC_kwDOABII585HKB3S",
      "diff_hunk": "@@ -0,0 +1,35 @@\n+// Copyright (c) 2023 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_KERNEL_VALIDATION_NOTIFICATIONS_INTERFACE_H\n+#define BITCOIN_KERNEL_VALIDATION_NOTIFICATIONS_INTERFACE_H\n+\n+#include <util/translation.h>\n+\n+#include <cstdint>\n+#include <string>\n+\n+class CBlockIndex;\n+enum class SynchronizationState;\n+\n+namespace kernel {\n+\n+/**\n+ * A base class defining functions for notifying about certain validation\n+ * events.\n+ */\n+class ValidationNotifications\n+{\n+public:\n+    virtual ~ValidationNotifications(){};\n+\n+    virtual void notifyBlockTip(SynchronizationState state, CBlockIndex* index) = 0;\n+    virtual void notifyHeaderTip(SynchronizationState state, int64_t height, int64_t timestamp, bool presync) = 0;\n+    virtual void showProgress(const std::string& title, int nProgress, bool resume_possible) = 0;\n+    virtual void doWarning(const bilingual_str& warning) = 0;\n+    virtual bool fatalError(const std::string& strMessage, bilingual_str user_message = {}) = 0;",
      "path": "src/kernel/validation_notifications_interface.h",
      "position": null,
      "original_position": 31,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "2f9c2d245360b3fad6d469a76c2916d75b027b57",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In PR version 2f9c2d245360b3fad6d469a76c2916d75b027b57:\r\n\r\nThis is a notifications interface, so I don't think these methods should be `= 0` pure virtual. If you defined them to do nothing by default `{}` that should make the notification interface easier to use because you don't have to implement handlers for notifications you do not care about. Also it can make the interface more future proof because adding new notification types will not break existing code.",
      "created_at": "2023-05-15T13:07:01Z",
      "updated_at": "2023-05-15T15:43:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1193811410",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1193811410"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": 27,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 31,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1193855223",
      "pull_request_review_id": 1426519811,
      "id": 1193855223,
      "node_id": "PRRC_kwDOABII585HKMj3",
      "diff_hunk": "@@ -42,6 +44,7 @@ struct ChainstateManagerOpts {\n     DBOptions block_tree_db{};\n     DBOptions coins_db{};\n     CoinsViewOptions coins_view{};\n+    const std::shared_ptr<ValidationNotifications> notifications;",
      "path": "src/kernel/chainstatemanager_opts.h",
      "position": null,
      "original_position": 13,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "620faa21ce0210dddca243511b7674c3b8f4e901",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"refactor: Pass BlockNotify in options to ChainstateManager\" (620faa21ce0210dddca243511b7674c3b8f4e901)\r\n\r\nWould suggest `ValidationNotifications& notifications` or `ValdiataionNotifications* notifcations{nullptr}` here, and adding a `std::unique_ptr<node::ValidationNotificationsImpl>` member to `NodeContext`. I don't think this should be a shared pointer and also don't think it should be const.\r\n\r\nOn const: This is an options struct that is supposed to be filled with options set by external applications. We don't know where those options are coming from. The might be hardcoded or coming from the environment or user configuration. Make struct members const just makes the struct more awkward to fill out and harder for application code to be written in a modular way since it requires the option values to be known in advance of creating the struct. Generally it would be good to avoid const members in options structs where where possible. Having const struct members can also be bad for efficiency because it can make the struct impossible to move from (though it doesn't matter in this case because moving is not much more efficient than copying for this type).\r\n\r\nOn shared_ptr: I think shared_ptr semantics are more complicated than what we want here. The other places that use `shared_ptr` for notifications (in `RegisterSharedValidationInterface` and `interfaces::Chain::handleNotifications`) use it because wallets can be loaded and unloaded at any time, and using shared_ptr lets wallets register for notifications and get unloaded and deleted without having to wait for unregister call (i.e. it lets the unregister function be non-blocking). But there should be no need for that complexity here. Kernel applications should be able to provide a notifications callback that is as long lived as the validation code is and not have complicated lifetimes.\r\n\r\nAdding a `std::unique_ptr<node::ValidationNotificationsImpl>` member to `NodeContext` would also be good for our own code to let us stop relying on the `uiInterface` global to receive notifications in the future.",
      "created_at": "2023-05-15T13:39:51Z",
      "updated_at": "2023-05-15T15:43:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1193855223",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1193855223"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 47,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1193883274",
      "pull_request_review_id": 1426519811,
      "id": 1193883274,
      "node_id": "PRRC_kwDOABII585HKTaK",
      "diff_hunk": "@@ -3568,6 +3568,11 @@ bool CheckBlock(const CBlock& block, BlockValidationState& state, const Consensu\n     return true;\n }\n \n+void ChainstateManager::NotifyBlockTip(SynchronizationState state, CBlockIndex* index) const\n+{\n+    return m_options.notifications->notifyBlockTip(state, index);\n+}",
      "path": "src/validation.cpp",
      "position": null,
      "original_position": 25,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "620faa21ce0210dddca243511b7674c3b8f4e901",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"refactor: Pass BlockNotify in options to ChainstateManager\" (620faa21ce0210dddca243511b7674c3b8f4e901)\r\n\r\nI don't see the point of having one line ChainstateManager wrapper methods for all the notifications. It seems like they just make the call sequence harder to follow, make code hard coder to grep, and create name conflicts with other functions that have to be overcome with `::` specifiers and the `FatalErrorf` renaming.\r\n\r\nThe one benefit of these wrapper methods is that they reduce some verbosity at call sites and avoid the need to type `m_options.notifications` everywhere. But I think think adding a simple accessor `kernel::ValidationNotifications& notifications() const { return *Assert(m_options.notifications); } ` would be a just as good for that purpose.\r\n\r\nEDIT: I see an upcoming commit adds a GetNotifications() method, so I think calls to these wrapper methods could just be replaced by calls to that method, and these wrappers could go away.",
      "created_at": "2023-05-15T13:57:24Z",
      "updated_at": "2023-05-15T15:43:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1193883274",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1193883274"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": 3571,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 3547,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1193904693",
      "pull_request_review_id": 1426519811,
      "id": 1193904693,
      "node_id": "PRRC_kwDOABII585HKYo1",
      "diff_hunk": "@@ -0,0 +1,16 @@\n+// Copyright (c) 2023 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <node/validation_notifications.h>\n+\n+#include <node/interface_ui.h>\n+\n+namespace node {\n+\n+void ValidationNotificationsImpl::notifyBlockTip(SynchronizationState state, CBlockIndex* index)\n+{\n+    uiInterface.NotifyBlockTip(state, index);",
      "path": "src/node/validation_notifications.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "620faa21ce0210dddca243511b7674c3b8f4e901",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"refactor: Pass BlockNotify in options to ChainstateManager\" (620faa21ce0210dddca243511b7674c3b8f4e901)\r\n\r\nNote: After this commit, there is only one line of code sending the `uiInterface.NotifyBlockTip` global boost signal, so it should be easier to drop the signal, probably replacing it with a `std::list<NotifyHeaderTipFn>` or similar member. Other boost signals could be eliminated after this in a similar way.",
      "created_at": "2023-05-15T14:12:49Z",
      "updated_at": "2023-05-15T15:43:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1193904693",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1193904693"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 13,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1193943783",
      "pull_request_review_id": 1426519811,
      "id": 1193943783,
      "node_id": "PRRC_kwDOABII585HKiLn",
      "diff_hunk": "@@ -93,6 +94,10 @@ int main(int argc, char* argv[])\n         {\n             std::cout << \"Header tip changed: \" << height << \", \" << timestamp << \", \" << presync << std::endl;\n         }\n+        void showProgress(const std::string& title, int nProgress, bool resume_possible) override",
      "path": "src/bitcoin-chainstate.cpp",
      "position": null,
      "original_position": 12,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "8fe776b303dddf9b3f1381d263bba6c913591dde",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"refactor: Pass ShowProgress in options to ChainstateManager\" (8fe776b303dddf9b3f1381d263bba6c913591dde)\r\n\r\nWould encourage using modern variable names in new code, especially if adding an API that is supposed to be part of the kernel interface. Specifically would suggest renaming `nProgress` to `progress_percent` or something like that here.\r\n\r\nAlso since this is a kernel API and we don't know what the application UI might be, maybe calling it \"notify progress\" might be better than \"show progress\" and more consistent with other names.",
      "created_at": "2023-05-15T14:40:46Z",
      "updated_at": "2023-05-15T15:43:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1193943783",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1193943783"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 97,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1193951680",
      "pull_request_review_id": 1426519811,
      "id": 1193951680,
      "node_id": "PRRC_kwDOABII585HKkHA",
      "diff_hunk": "@@ -98,6 +98,10 @@ int main(int argc, char* argv[])\n         {\n             std::cout << \"Progress: \" << title << \", \" << nProgress << \", \" << resume_possible << std::endl;\n         }\n+        void doWarning(const bilingual_str& warning) override",
      "path": "src/bitcoin-chainstate.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "bcd417ad1847cd4c93bffbc9d8a32255e7f2b156",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"refactor: Pass DoWarning in options to ChainstateManager\" (bcd417ad1847cd4c93bffbc9d8a32255e7f2b156)\r\n\r\nI think \"notify warning\" would be more descriptive than \"do warning\" and more consistent with other methods.\r\n\r\nAlso commit title \"Pass DoWarning in options to ChainstateManager\" maybe should be updated to something like \"Add NotifyWarning kernel notification\"",
      "created_at": "2023-05-15T14:46:37Z",
      "updated_at": "2023-05-15T15:43:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1193951680",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1193951680"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 101,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1193957340",
      "pull_request_review_id": 1426519811,
      "id": 1193957340,
      "node_id": "PRRC_kwDOABII585HKlfc",
      "diff_hunk": "@@ -0,0 +1,26 @@\n+// Copyright (c) 2023 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_KERNEL_VALIDATION_NOTIFICATIONS_INTERFACE_H\n+#define BITCOIN_KERNEL_VALIDATION_NOTIFICATIONS_INTERFACE_H\n+\n+class CBlockIndex;\n+enum class SynchronizationState;\n+\n+namespace kernel {\n+\n+/**\n+ * A base class defining functions for notifying about certain validation\n+ * events.\n+ */\n+class ValidationNotifications",
      "path": "src/kernel/validation_notifications_interface.h",
      "position": null,
      "original_position": 17,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "620faa21ce0210dddca243511b7674c3b8f4e901",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"refactor: Pass BlockNotify in options to ChainstateManager\" (620faa21ce0210dddca243511b7674c3b8f4e901)\r\n\r\nI'd consider calling this class just `kernel::Notifications` not `kernel::ValidationNotifications`. I think it's not clear how much functionality is going to be available in the kernel, and whether every notification it will ever need to send will be related to validation. If kernel needs to send other notifications that aren't related to validation, I think it would be good if it were possible to send them through the same interface.",
      "created_at": "2023-05-15T14:50:45Z",
      "updated_at": "2023-05-15T15:43:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1193957340",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1193957340"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 17,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1193969953",
      "pull_request_review_id": 1426519811,
      "id": 1193969953,
      "node_id": "PRRC_kwDOABII585HKokh",
      "diff_hunk": "@@ -4,7 +4,51 @@\n \n #include <node/validation_notifications.h>\n \n+#if defined(HAVE_CONFIG_H)\n+#include <config/bitcoin-config.h>\n+#endif\n+\n+#include <common/args.h>\n #include <node/interface_ui.h>\n+#include <util/strencodings.h>\n+#include <util/string.h>\n+#include <util/system.h>\n+#include <util/translation.h>\n+#include <warnings.h>\n+\n+#include <cstdint>\n+#include <string>\n+#include <thread>\n+\n+static void AlertNotify(const std::string& strMessage)\n+{\n+    uiInterface.NotifyAlertChanged();\n+#if HAVE_SYSTEM\n+    std::string strCmd = gArgs.GetArg(\"-alertnotify\", \"\");\n+    if (strCmd.empty()) return;\n+\n+    // Alert text should be plain ascii coming from a trusted source, but to\n+    // be safe we first strip anything not in safeChars, then add single quotes around\n+    // the whole string before passing it to the shell:\n+    std::string singleQuote(\"'\");\n+    std::string safeStatus = SanitizeString(strMessage);\n+    safeStatus = singleQuote+safeStatus+singleQuote;\n+    ReplaceAll(strCmd, \"%s\", safeStatus);\n+\n+    std::thread t(runCommand, strCmd);\n+    t.detach(); // thread runs free\n+#endif\n+}\n+\n+static void DoWarning(const bilingual_str& warning)\n+{\n+    static bool fWarned = false;\n+    SetMiscWarning(warning);\n+    if (!fWarned) {\n+        AlertNotify(warning.original);",
      "path": "src/node/validation_notifications.cpp",
      "position": null,
      "original_position": 45,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "bcd417ad1847cd4c93bffbc9d8a32255e7f2b156",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"refactor: Pass DoWarning in options to ChainstateManager\" (bcd417ad1847cd4c93bffbc9d8a32255e7f2b156)\r\n\r\nBehavior isn't changing here, but it seems strange that `fWarned` check is only letting the warning notification to be sent and the GUI progress bar to be updated once over the lifetime of the application. May be something to look into in a followup.",
      "created_at": "2023-05-15T14:59:47Z",
      "updated_at": "2023-05-15T15:43:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1193969953",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1193969953"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 48,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1193977100",
      "pull_request_review_id": 1426519811,
      "id": 1193977100,
      "node_id": "PRRC_kwDOABII585HKqUM",
      "diff_hunk": "@@ -102,6 +104,18 @@ int main(int argc, char* argv[])\n         {\n             std::cout << \"Warning: \" << warning.original << std::endl;\n         }\n+\n+        bool fatalError(const std::string& strMessage, bilingual_str user_message) override\n+        {\n+            SetMiscWarning(Untranslated(strMessage));\n+            LogPrintf(\"*** %s\\n\", strMessage);\n+            if (user_message.empty()) {\n+                user_message = _(\"A fatal internal error occurred, see debug.log for details\");\n+            }\n+            std::cout << \"Warning: \" << user_message.original << std::endl;\n+            StartShutdown();\n+            return false;",
      "path": "src/bitcoin-chainstate.cpp",
      "position": null,
      "original_position": 27,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "2f9c2d245360b3fad6d469a76c2916d75b027b57",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"refactor: Pass FatalError in options to ChainstateManager\" (2f9c2d245360b3fad6d469a76c2916d75b027b57)\r\n\r\nI think this method should just be printing the messages to cout, letting error handling code below clean up after the failure. The chainstate example program shouldn't need to be logging things and calling StartShutdown.",
      "created_at": "2023-05-15T15:05:08Z",
      "updated_at": "2023-05-15T15:43:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1193977100",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1193977100"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": 110,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 117,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1194002643",
      "pull_request_review_id": 1426519811,
      "id": 1194002643,
      "node_id": "PRRC_kwDOABII585HKwjT",
      "diff_hunk": "@@ -27,6 +28,7 @@ class ValidationNotifications\n     virtual void notifyHeaderTip(SynchronizationState state, int64_t height, int64_t timestamp, bool presync) = 0;\n     virtual void showProgress(const std::string& title, int nProgress, bool resume_possible) = 0;\n     virtual void doWarning(const bilingual_str& warning) = 0;\n+    virtual bool fatalError(const std::string& strMessage, bilingual_str user_message = {}) = 0;",
      "path": "src/kernel/validation_notifications_interface.h",
      "position": null,
      "original_position": 19,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "2f9c2d245360b3fad6d469a76c2916d75b027b57",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"refactor: Pass FatalError in options to ChainstateManager\" (2f9c2d245360b3fad6d469a76c2916d75b027b57)\r\n\r\nI think this signature should be cleaned up and not be added to kernel like this. Would suggest:\r\n\r\n- Changing `bool` return type to `void`. The return value is never used and the only value that is ever returned is false. Having the return value makes the interface confusing because it's unclear how the value even could be used.\r\n- Renaming `strMessage` parameter to `debug_message` to modernize the name and distinguish the technical error message which is meant to go to the debug log from the translated user message.",
      "created_at": "2023-05-15T15:25:11Z",
      "updated_at": "2023-05-15T15:43:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1194002643",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1194002643"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 31,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1194151828",
      "pull_request_review_id": 1427047465,
      "id": 1194151828,
      "node_id": "PRRC_kwDOABII585HLU-U",
      "diff_hunk": "@@ -42,6 +44,7 @@ struct ChainstateManagerOpts {\n     DBOptions block_tree_db{};\n     DBOptions coins_db{};\n     CoinsViewOptions coins_view{};\n+    const std::shared_ptr<ValidationNotifications> notifications;",
      "path": "src/kernel/chainstatemanager_opts.h",
      "position": null,
      "original_position": 13,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "620faa21ce0210dddca243511b7674c3b8f4e901",
      "in_reply_to_id": 1193855223,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thank you for the time you took for these detailed comments. Fleshing this out to a more proper kernel interface sounds good to me. How about moving `ValidationNotifications` to the `KernelContext` instead? Or does that conflict with the vision you have for getting rid of `uiInterface` global?",
      "created_at": "2023-05-15T17:37:31Z",
      "updated_at": "2023-05-15T17:37:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1194151828",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1194151828"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 47,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1194168060",
      "pull_request_review_id": 1427072171,
      "id": 1194168060,
      "node_id": "PRRC_kwDOABII585HLY78",
      "diff_hunk": "@@ -42,6 +44,7 @@ struct ChainstateManagerOpts {\n     DBOptions block_tree_db{};\n     DBOptions coins_db{};\n     CoinsViewOptions coins_view{};\n+    const std::shared_ptr<ValidationNotifications> notifications;",
      "path": "src/kernel/chainstatemanager_opts.h",
      "position": null,
      "original_position": 13,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "620faa21ce0210dddca243511b7674c3b8f4e901",
      "in_reply_to_id": 1193855223,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> Thank you for the time you took for these detailed comments. Fleshing this out to a more proper kernel interface sounds good to me. How about moving `ValidationNotifications` to the `KernelContext` instead? Or does that conflict with the vision you have for getting rid of `uiInterface` global?\r\n\r\nHmm, It doesn't make sense to me that an object which is supposed to receive notifications from the kernel would be owned by the kernel. Outside code that wants to receive notifications should be able to receive them and manage its own memory without transferring ownership.\r\n\r\nAlso yes the NotificationImpl can basically be a replacement for the uiInterface global, so it makes sense to put it in NodeContext or some place similar. It would be weird to put in the kernel and have to `static_cast` it when we can just store it directly in NodeContext.",
      "created_at": "2023-05-15T17:52:11Z",
      "updated_at": "2023-05-15T17:52:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1194168060",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1194168060"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 47,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1195307708",
      "pull_request_review_id": 1428804291,
      "id": 1195307708,
      "node_id": "PRRC_kwDOABII585HPvK8",
      "diff_hunk": "@@ -25,6 +25,8 @@ class KernelNotifications : public kernel::Notifications\n     void notifyProgress(const std::string& title, int progress_percent, bool resume_possible) override;\n \n     void notifyWarning(const bilingual_str& warning) override;\n+\n+    void fatalError(const std::string& debug_message, bilingual_str user_message = {}) override;",
      "path": "src/node/kernel_notifications.h",
      "position": null,
      "original_position": 5,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "155f8de067db5d7b9ebf6de0b30729143cc9c87f",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"kernel: Add fatalError to notifications\" (155f8de067db5d7b9ebf6de0b30729143cc9c87f)\r\n\r\nIt seems like this message should be called \"notify fatal\" to be consistent with other notification methods.\r\n\r\nAlternately, it seems like word \"notify\" in all the method names is pretty name is pretty redundant and could be dropped. The methods are always called with `notifications.` or `GetNotifications()` prefixes so there is not really a context where repeating the word \"notify\" clarifies anything",
      "created_at": "2023-05-16T15:02:06Z",
      "updated_at": "2023-05-16T17:08:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1195307708",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1195307708"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 29,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1196568945",
      "pull_request_review_id": 1430775316,
      "id": 1196568945,
      "node_id": "PRRC_kwDOABII585HUjFx",
      "diff_hunk": "@@ -956,6 +956,8 @@ class ChainstateManager\n     const arith_uint256& MinimumChainWork() const { return *Assert(m_options.minimum_chain_work); }\n     const uint256& AssumedValidBlock() const { return *Assert(m_options.assumed_valid_block); }\n \n+    kernel::Notifications& GetNotifications() const;",
      "path": "src/validation.h",
      "position": null,
      "original_position": 4,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "c6f2fbef2c8ecc0ded3abb9ab2fdd5369e954d52",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"kernel: Add notification interface\" (c6f2fbef2c8ecc0ded3abb9ab2fdd5369e954d52)\r\n\r\nIt would be good to write this accessor as an inline method `kernel::Notifications& GetNotifications() const { return  m_options.notifications; }` for discoverability and consistency with other accessors above. Could also drop \"Get\" prefix since the other accessors don't seem to have it, but whatever you prefer is fine.",
      "created_at": "2023-05-17T13:58:22Z",
      "updated_at": "2023-05-17T14:48:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1196568945",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1196568945"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 959,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1196623448",
      "pull_request_review_id": 1430775316,
      "id": 1196623448,
      "node_id": "PRRC_kwDOABII585HUwZY",
      "diff_hunk": "@@ -3,8 +3,8 @@\n // Distributed under the MIT software license, see the accompanying\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n-#ifndef BITCOIN_UTIL_SYSTEM_H\n-#define BITCOIN_UTIL_SYSTEM_H\n+#ifndef BITCOIN_COMMON_SYSTEM_H\n+#define BITCOIN_COMMON_SYSTEM_H",
      "path": "src/common/system.h",
      "position": 7,
      "original_position": 7,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "0a7b3e5058b58c448bbc473ffb347910d781c3bd",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"refactor: Move system from util to common library\" (0a7b3e5058b58c448bbc473ffb347910d781c3bd)\r\n\r\nI think it makes sense to keep `util::insert` and `util::AnyPtr` functions in `util/`, not `common/` as these are header-only template functions with no dependencies, and there's no particular reason they shouldn't be used by kernel code even if they aren't used right now. In terms of functionality they are also more related to other helper functions like `util/overloaded.h` `util/strings.h` `util/time.h` `util/types.h` and `util/vector.h` than to anything in `common/`\r\n\r\nI think ideally the `util::insert` function might move to `util/insert.h` and the `util::AnyPtr` function might move to `util/any.h`, but you could also just leave them in `util/system.h` if that is easier.",
      "created_at": "2023-05-17T14:35:40Z",
      "updated_at": "2023-05-17T14:48:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1196623448",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1196623448"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 7,
      "original_line": 7,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1196627541",
      "pull_request_review_id": 1430775316,
      "id": 1196627541,
      "node_id": "PRRC_kwDOABII585HUxZV",
      "diff_hunk": "@@ -27,6 +28,7 @@ class Notifications\n     virtual void headerTip(SynchronizationState state, int64_t height, int64_t timestamp, bool presync) {}\n     virtual void progress(const std::string& title, int progress_percent, bool resume_possible) {}\n     virtual void warning(const bilingual_str& warning) {}\n+    virtual void fatalError(const std::string& debug_message, bilingual_str user_message = {}) {}",
      "path": "src/kernel/notifications_interface.h",
      "position": null,
      "original_position": 19,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "0b88c307a8ed81705cf8e6fb6332fdf969eb0e2e",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"kernel: Add fatalError method to notifications\" (0b88c307a8ed81705cf8e6fb6332fdf969eb0e2e)\r\n\r\nWould be good to change `bilingual_str` to `const bilingual_str&`. That should also avoid the need to remove the forward declaration and include `#include <util/translation.h>` above.",
      "created_at": "2023-05-17T14:38:34Z",
      "updated_at": "2023-05-17T14:48:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1196627541",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1196627541"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 31,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1196631303",
      "pull_request_review_id": 1430775316,
      "id": 1196631303,
      "node_id": "PRRC_kwDOABII585HUyUH",
      "diff_hunk": "@@ -103,7 +103,7 @@ void StopScriptCheckWorkerThreads();\n \n CAmount GetBlockSubsidy(int nHeight, const Consensus::Params& consensusParams);\n \n-bool AbortNode(BlockValidationState& state, const std::string& strMessage, const bilingual_str& userMessage = bilingual_str{});\n+bool FatalError(BlockValidationState& state, const std::string& strMessage, kernel::Notifications& notifications, const bilingual_str& userMessage = {});",
      "path": "src/validation.h",
      "position": null,
      "original_position": 5,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "0b88c307a8ed81705cf8e6fb6332fdf969eb0e2e",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"kernel: Add fatalError method to notifications\" (0b88c307a8ed81705cf8e6fb6332fdf969eb0e2e)\r\n\r\nWould maybe make `notifications` the first parameter. It seems awkward for it to placed between the debug message and the user message.",
      "created_at": "2023-05-17T14:41:12Z",
      "updated_at": "2023-05-17T14:48:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1196631303",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1196631303"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 106,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1196711775",
      "pull_request_review_id": 1431006399,
      "id": 1196711775,
      "node_id": "PRRC_kwDOABII585HVF9f",
      "diff_hunk": "@@ -3,8 +3,8 @@\n // Distributed under the MIT software license, see the accompanying\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n-#ifndef BITCOIN_UTIL_SYSTEM_H\n-#define BITCOIN_UTIL_SYSTEM_H\n+#ifndef BITCOIN_COMMON_SYSTEM_H\n+#define BITCOIN_COMMON_SYSTEM_H",
      "path": "src/common/system.h",
      "position": 7,
      "original_position": 7,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "0a7b3e5058b58c448bbc473ffb347910d781c3bd",
      "in_reply_to_id": 1196623448,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Mmh, I was originally thinking of moving `util::insert` to `wallet/walletutil.h` and `util::AnyPtr` to `rpc/util.h` in a follow up after this pull request. I think your suggestion is better though. Moving around these kind of headers depending on which part of the code needs them seems silly. I'll patch this then and will apply your other suggestions.",
      "created_at": "2023-05-17T15:32:47Z",
      "updated_at": "2023-05-17T15:32:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1196711775",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1196711775"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 7,
      "original_line": 7,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1196781453",
      "pull_request_review_id": 1431118102,
      "id": 1196781453,
      "node_id": "PRRC_kwDOABII585HVW-N",
      "diff_hunk": "@@ -27,6 +28,7 @@ class Notifications\n     virtual void headerTip(SynchronizationState state, int64_t height, int64_t timestamp, bool presync) {}\n     virtual void progress(const std::string& title, int progress_percent, bool resume_possible) {}\n     virtual void warning(const bilingual_str& warning) {}\n+    virtual void fatalError(const std::string& debug_message, bilingual_str user_message = {}) {}",
      "path": "src/kernel/notifications_interface.h",
      "position": null,
      "original_position": 19,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "0b88c307a8ed81705cf8e6fb6332fdf969eb0e2e",
      "in_reply_to_id": 1196627541,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Not sure about this one. The include is required for setting the default argument and it is non-const, because we mutate the message.",
      "created_at": "2023-05-17T16:23:55Z",
      "updated_at": "2023-05-17T16:23:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1196781453",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1196781453"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 31,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1196834892",
      "pull_request_review_id": 1431200921,
      "id": 1196834892,
      "node_id": "PRRC_kwDOABII585HVkBM",
      "diff_hunk": "@@ -27,6 +28,7 @@ class Notifications\n     virtual void headerTip(SynchronizationState state, int64_t height, int64_t timestamp, bool presync) {}\n     virtual void progress(const std::string& title, int progress_percent, bool resume_possible) {}\n     virtual void warning(const bilingual_str& warning) {}\n+    virtual void fatalError(const std::string& debug_message, bilingual_str user_message = {}) {}",
      "path": "src/kernel/notifications_interface.h",
      "position": null,
      "original_position": 19,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "0b88c307a8ed81705cf8e6fb6332fdf969eb0e2e",
      "in_reply_to_id": 1196627541,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> Not sure about this one. The include is required for setting the default argument and it is non-const, because we mutate the message.\r\n\r\nThat's a good point about the include. But changing to a `const bilingual_str&` reference and avoiding unnecessary copies would provide a more consistent interface.\r\n\r\nFor one thing, getting of the mutations would actually make current implementations of the interface more legible:\r\n\r\n```c++\r\nInitError(user_message.empty() ? _(\"A fatal internal error occurred, see debug.log for details\") : user_message);\r\n\r\nstd::cerr << (user_message.empty() ? \"A fatal internal error occurred.\" : user_message.original) << std::endl;\r\n```\r\n\r\nBut more importantly kernel code should not care about quirks of particular implementations of the interface. Only 2 out of the 3 of the fatalError implementation currently mutate their arguments, and mutating the argument is always unnecessary. I don't think you would argue it would make sense to change other `const string&` and `const bilingual_str&` parameters in the interface if some future implementation of those interfaces decides it wants to be quirky and mutate arguments. The interface should pass strings by reference or by value in some consistent way.",
      "created_at": "2023-05-17T17:15:24Z",
      "updated_at": "2023-05-17T17:15:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1196834892",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1196834892"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 31,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1196840346",
      "pull_request_review_id": 1431208905,
      "id": 1196840346,
      "node_id": "PRRC_kwDOABII585HVlWa",
      "diff_hunk": "@@ -27,6 +28,7 @@ class Notifications\n     virtual void headerTip(SynchronizationState state, int64_t height, int64_t timestamp, bool presync) {}\n     virtual void progress(const std::string& title, int progress_percent, bool resume_possible) {}\n     virtual void warning(const bilingual_str& warning) {}\n+    virtual void fatalError(const std::string& debug_message, bilingual_str user_message = {}) {}",
      "path": "src/kernel/notifications_interface.h",
      "position": null,
      "original_position": 19,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "0b88c307a8ed81705cf8e6fb6332fdf969eb0e2e",
      "in_reply_to_id": 1196627541,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks for the follow-up!",
      "created_at": "2023-05-17T17:19:06Z",
      "updated_at": "2023-05-17T17:19:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1196840346",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1196840346"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 31,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1197937840",
      "pull_request_review_id": 1432884414,
      "id": 1197937840,
      "node_id": "PRRC_kwDOABII585HZxSw",
      "diff_hunk": "@@ -0,0 +1,22 @@\n+// Copyright (c) 2023 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_INSERT_H\n+#define BITCOIN_UTIL_INSERT_H\n+\n+namespace util {\n+\n+//! Simplification of std insertion\n+template <typename Tdst, typename Tsrc>\n+inline void insert(Tdst& dst, const Tsrc& src) {\n+    dst.insert(dst.begin(), src.begin(), src.end());\n+}\n+template <typename TsetT, typename Tsrc>\n+inline void insert(std::set<TsetT>& dst, const Tsrc& src) {",
      "path": "src/util/insert.h",
      "position": 18,
      "original_position": 16,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "d492a2e5c88257cb14c417615dba525ce2cd9cfc",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"refactor: Split util::insert into its own file\" (d492a2e5c88257cb14c417615dba525ce2cd9cfc)\r\n\r\nDoes this file need to `#include <set>`. Just wondering if IWYU would complain.",
      "created_at": "2023-05-18T15:02:47Z",
      "updated_at": "2023-05-18T15:49:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1197937840",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1197937840"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 18,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1197984670",
      "pull_request_review_id": 1432884414,
      "id": 1197984670,
      "node_id": "PRRC_kwDOABII585HZ8ue",
      "diff_hunk": "@@ -200,14 +200,17 @@ ChainstateLoadResult LoadChainstate(ChainstateManager& chainman, const CacheSize\n     // snapshot is actually validated? Because this entails unusual\n     // filesystem operations to move leveldb data directories around, and that seems\n     // too risky to do in the middle of normal runtime.\n-    auto snapshot_completion = chainman.MaybeCompleteSnapshotValidation();\n+    auto snapshot_completion = chainman.MaybeCompleteSnapshotValidation(\n+        [&chainman](bilingual_str msg) {\n+            chainman.GetNotifications().fatalError(msg.original, msg);\n+        });",
      "path": "src/node/chainstate.cpp",
      "position": null,
      "original_position": 8,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "861582b4087f1602e7115ee4a70ef7a7263eb36b",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"kernel: Add fatalError method to notifications\" (861582b4087f1602e7115ee4a70ef7a7263eb36b)\r\n\r\nI think it would make sense to get rid of this callback now that there is a notifications object. Following seems to work:\r\n\r\n```diff\r\ndiff --git a/src/node/chainstate.cpp b/src/node/chainstate.cpp\r\nindex 41056272f549..3a055c8e0bc7 100644\r\n--- a/src/node/chainstate.cpp\r\n+++ b/src/node/chainstate.cpp\r\n@@ -200,10 +200,7 @@ ChainstateLoadResult LoadChainstate(ChainstateManager& chainman, const CacheSize\r\n     // snapshot is actually validated? Because this entails unusual\r\n     // filesystem operations to move leveldb data directories around, and that seems\r\n     // too risky to do in the middle of normal runtime.\r\n-    auto snapshot_completion = chainman.MaybeCompleteSnapshotValidation(\r\n-        [&chainman](bilingual_str msg) {\r\n-            chainman.GetNotifications().fatalError(msg.original, msg);\r\n-        });\r\n+    auto snapshot_completion = chainman.MaybeCompleteSnapshotValidation();\r\n \r\n     if (snapshot_completion == SnapshotCompletionResult::SKIPPED) {\r\n         // do nothing; expected case\r\ndiff --git a/src/node/kernel_notifications.cpp b/src/node/kernel_notifications.cpp\r\nindex 5fc116d87097..7f2e55ec6738 100644\r\n--- a/src/node/kernel_notifications.cpp\r\n+++ b/src/node/kernel_notifications.cpp\r\n@@ -79,7 +79,7 @@ void KernelNotifications::fatalError(const std::string& debug_message, const bil\r\n     SetMiscWarning(Untranslated(debug_message));\r\n     LogPrintf(\"*** %s\\n\", debug_message);\r\n     InitError(user_message.empty() ? _(\"A fatal internal error occurred, see debug.log for details\") : user_message);\r\n-    StartShutdown();\r\n+    if (m_do_shutdown) StartShutdown();\r\n }\r\n \r\n } // namespace node\r\ndiff --git a/src/node/kernel_notifications.h b/src/node/kernel_notifications.h\r\nindex 3db4de0a8c14..99cb04325ac9 100644\r\n--- a/src/node/kernel_notifications.h\r\n+++ b/src/node/kernel_notifications.h\r\n@@ -27,6 +27,9 @@ public:\r\n     void warning(const bilingual_str& warning) override;\r\n \r\n     void fatalError(const std::string& debug_message, const bilingual_str& user_message = {}) override;\r\n+\r\n+    //! Useful for tests, can be set to false to avoid shutdown on fatal error.\r\n+    bool m_do_shutdown{true};\r\n };\r\n } // namespace node\r\n \r\ndiff --git a/src/test/validation_chainstatemanager_tests.cpp b/src/test/validation_chainstatemanager_tests.cpp\r\nindex 81a015513a5a..3c52d76a6ba5 100644\r\n--- a/src/test/validation_chainstatemanager_tests.cpp\r\n+++ b/src/test/validation_chainstatemanager_tests.cpp\r\n@@ -564,7 +564,7 @@ BOOST_FIXTURE_TEST_CASE(chainstatemanager_snapshot_completion, SnapshotTestSetup\r\n     auto db_cache_before_complete = active_cs.m_coinsdb_cache_size_bytes;\r\n \r\n     SnapshotCompletionResult res;\r\n-    auto mock_shutdown = [](bilingual_str msg) {};\r\n+    m_node.notifications->m_do_shutdown = false;\r\n \r\n     fs::path snapshot_chainstate_dir = *node::FindSnapshotChainstateDir();\r\n     BOOST_CHECK(fs::exists(snapshot_chainstate_dir));\r\n@@ -574,8 +574,7 @@ BOOST_FIXTURE_TEST_CASE(chainstatemanager_snapshot_completion, SnapshotTestSetup\r\n     const uint256 snapshot_tip_hash = WITH_LOCK(chainman.GetMutex(),\r\n         return chainman.ActiveTip()->GetBlockHash());\r\n \r\n-    res = WITH_LOCK(::cs_main,\r\n-        return chainman.MaybeCompleteSnapshotValidation(mock_shutdown));\r\n+    res = WITH_LOCK(::cs_main, return chainman.MaybeCompleteSnapshotValidation());\r\n     BOOST_CHECK_EQUAL(res, SnapshotCompletionResult::SUCCESS);\r\n \r\n     WITH_LOCK(::cs_main, BOOST_CHECK(chainman.IsSnapshotValidated()));\r\n@@ -591,8 +590,7 @@ BOOST_FIXTURE_TEST_CASE(chainstatemanager_snapshot_completion, SnapshotTestSetup\r\n     BOOST_CHECK_EQUAL(all_chainstates[0], &active_cs);\r\n \r\n     // Trying completion again should return false.\r\n-    res = WITH_LOCK(::cs_main,\r\n-        return chainman.MaybeCompleteSnapshotValidation(mock_shutdown));\r\n+    res = WITH_LOCK(::cs_main, return chainman.MaybeCompleteSnapshotValidation());\r\n     BOOST_CHECK_EQUAL(res, SnapshotCompletionResult::SKIPPED);\r\n \r\n     // The invalid snapshot path should not have been used.\r\n@@ -645,7 +643,7 @@ BOOST_FIXTURE_TEST_CASE(chainstatemanager_snapshot_completion_hash_mismatch, Sna\r\n     Chainstate& validation_chainstate = *std::get<0>(chainstates);\r\n     ChainstateManager& chainman = *Assert(m_node.chainman);\r\n     SnapshotCompletionResult res;\r\n-    auto mock_shutdown = [](bilingual_str msg) {};\r\n+    m_node.notifications->m_do_shutdown = false;\r\n \r\n     // Test tampering with the IBD UTXO set with an extra coin to ensure it causes\r\n     // snapshot completion to fail.\r\n@@ -661,8 +659,7 @@ BOOST_FIXTURE_TEST_CASE(chainstatemanager_snapshot_completion_hash_mismatch, Sna\r\n     fs::path snapshot_chainstate_dir = gArgs.GetDataDirNet() / \"chainstate_snapshot\";\r\n     BOOST_CHECK(fs::exists(snapshot_chainstate_dir));\r\n \r\n-    res = WITH_LOCK(::cs_main,\r\n-        return chainman.MaybeCompleteSnapshotValidation(mock_shutdown));\r\n+    res = WITH_LOCK(::cs_main, return chainman.MaybeCompleteSnapshotValidation());\r\n     BOOST_CHECK_EQUAL(res, SnapshotCompletionResult::HASH_MISMATCH);\r\n \r\n     auto all_chainstates = chainman.GetAll();\r\ndiff --git a/src/validation.cpp b/src/validation.cpp\r\nindex e753b75c88ae..491376f0e4f0 100644\r\n--- a/src/validation.cpp\r\n+++ b/src/validation.cpp\r\n@@ -2871,10 +2871,7 @@ bool Chainstate::ConnectTip(BlockValidationState& state, CBlockIndex* pindexNew,\r\n     if (this != &m_chainman.ActiveChainstate()) {\r\n         // This call may set `m_disabled`, which is referenced immediately afterwards in\r\n         // ActivateBestChain, so that we stop connecting blocks past the snapshot base.\r\n-        m_chainman.MaybeCompleteSnapshotValidation(\r\n-            [&notifications = m_chainman.GetNotifications()](bilingual_str msg) {\r\n-                notifications.fatalError(msg.original, msg);\r\n-            });\r\n+        m_chainman.MaybeCompleteSnapshotValidation();\r\n     }\r\n \r\n     connectTrace.BlockConnected(pindexNew, std::move(pthisBlock));\r\n@@ -5385,8 +5382,7 @@ bool ChainstateManager::PopulateAndValidateSnapshot(\r\n //      through IsUsable() checks, or\r\n //\r\n //  (ii) giving each chainstate its own lock instead of using cs_main for everything.\r\n-SnapshotCompletionResult ChainstateManager::MaybeCompleteSnapshotValidation(\r\n-      std::function<void(bilingual_str)> shutdown_fnc)\r\n+SnapshotCompletionResult ChainstateManager::MaybeCompleteSnapshotValidation()\r\n {\r\n     AssertLockHeld(cs_main);\r\n     if (m_ibd_chainstate.get() == &this->ActiveChainstate() ||\r\n@@ -5435,7 +5431,7 @@ SnapshotCompletionResult ChainstateManager::MaybeCompleteSnapshotValidation(\r\n \r\n         m_snapshot_chainstate->InvalidateCoinsDBOnDisk();\r\n \r\n-        shutdown_fnc(user_error);\r\n+        GetNotifications().fatalError(user_error.original, user_error);\r\n     };\r\n \r\n     if (index_new.GetBlockHash() != snapshot_blockhash) {\r\ndiff --git a/src/validation.h b/src/validation.h\r\nindex 136992a9ac15..b03e3d4a5fe4 100644\r\n--- a/src/validation.h\r\n+++ b/src/validation.h\r\n@@ -1044,8 +1044,7 @@ public:\r\n     //! If the coins match (expected), then mark the validation chainstate for\r\n     //! deletion and continue using the snapshot chainstate as active.\r\n     //! Otherwise, revert to using the ibd chainstate and shutdown.\r\n-    SnapshotCompletionResult MaybeCompleteSnapshotValidation(\r\n-        std::function<void(bilingual_str)> shutdown_fnc) EXCLUSIVE_LOCKS_REQUIRED(::cs_main);\r\n+    SnapshotCompletionResult MaybeCompleteSnapshotValidation() EXCLUSIVE_LOCKS_REQUIRED(::cs_main);\r\n \r\n     //! The most-work chain.\r\n     Chainstate& ActiveChainstate() const;\r\n```",
      "created_at": "2023-05-18T15:45:41Z",
      "updated_at": "2023-05-18T15:49:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1197984670",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1197984670"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": 203,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 206,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198025552",
      "pull_request_review_id": 1433027388,
      "id": 1198025552,
      "node_id": "PRRC_kwDOABII585HaGtQ",
      "diff_hunk": "@@ -0,0 +1,22 @@\n+// Copyright (c) 2023 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_INSERT_H\n+#define BITCOIN_UTIL_INSERT_H\n+\n+namespace util {\n+\n+//! Simplification of std insertion\n+template <typename Tdst, typename Tsrc>\n+inline void insert(Tdst& dst, const Tsrc& src) {\n+    dst.insert(dst.begin(), src.begin(), src.end());\n+}\n+template <typename TsetT, typename Tsrc>\n+inline void insert(std::set<TsetT>& dst, const Tsrc& src) {",
      "path": "src/util/insert.h",
      "position": 18,
      "original_position": 16,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "d492a2e5c88257cb14c417615dba525ce2cd9cfc",
      "in_reply_to_id": 1197937840,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Seems wrong not to include it, will do so.",
      "created_at": "2023-05-18T16:22:14Z",
      "updated_at": "2023-05-18T16:22:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1198025552",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198025552"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 18,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198680321",
      "pull_request_review_id": 1433987014,
      "id": 1198680321,
      "node_id": "PRRC_kwDOABII585HcmkB",
      "diff_hunk": "@@ -0,0 +1,26 @@\n+// Copyright (c) 2023 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_KERNEL_NOTIFICATIONS_INTERFACE_H\n+#define BITCOIN_KERNEL_NOTIFICATIONS_INTERFACE_H\n+\n+class CBlockIndex;\n+enum class SynchronizationState;\n+\n+namespace kernel {\n+\n+/**\n+ * A base class defining functions for notifying about certain kernel\n+ * events.\n+ */\n+class Notifications\n+{\n+public:\n+    virtual ~Notifications(){};\n+\n+    virtual void blockTip(SynchronizationState state, CBlockIndex* index) {}",
      "path": "src/kernel/notifications_interface.h",
      "position": null,
      "original_position": 22,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "974b4293a5f2fe01302c608bf0063e3b52721d0b",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "974b4293a5f2fe01302c608bf0063e3b52721d0b: Any reason to accept a nullptr for something that can never be null and would lead to UB if it was null? Might be better to use a reference.",
      "created_at": "2023-05-19T08:16:47Z",
      "updated_at": "2023-05-19T10:06:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1198680321",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198680321"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198713287",
      "pull_request_review_id": 1433987014,
      "id": 1198713287,
      "node_id": "PRRC_kwDOABII585HcunH",
      "diff_hunk": "@@ -4145,14 +4147,15 @@ bool Chainstate::LoadChainTip()\n     return true;\n }\n \n-CVerifyDB::CVerifyDB()\n+CVerifyDB::CVerifyDB(Notifications& notifications)\n+    : m_notifications{notifications}\n {\n-    uiInterface.ShowProgress(_(\"Verifying blocks…\").translated, 0, false);\n+    m_notifications.progress(_(\"Verifying blocks…\").translated, 0, false);",
      "path": "src/validation.cpp",
      "position": null,
      "original_position": 25,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "1be1c16b70edc5def98eb1903cee08b5d546ba88",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "1be1c16b70edc5def98eb1903cee08b5d546ba88: Not sure about passing only the translated string here. I think it should be up to the receiving code to decide whether to use `.original` (`bitcoin-chainstate.cpp`) or `.translated` (`node/kernel_notif.cpp`)",
      "created_at": "2023-05-19T08:50:35Z",
      "updated_at": "2023-05-19T10:06:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1198713287",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198713287"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4153,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198753425",
      "pull_request_review_id": 1433987014,
      "id": 1198753425,
      "node_id": "PRRC_kwDOABII585Hc4aR",
      "diff_hunk": "@@ -11,8 +11,8 @@\n #include <policy/feerate.h>\n #include <primitives/transaction.h>\n #include <random.h>\n-#include <util/system.h>\n #include <util/check.h>\n+#include <util/insert.h>",
      "path": "src/wallet/coinselection.h",
      "position": 6,
      "original_position": 6,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "c05c15cc7b4fb9052b87bc2f8ea0500cd5218f4e",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "c05c15cc7b4fb9052b87bc2f8ea0500cd5218f4e: question for clarity: This commit is not needed and unrelated to kernel? Seems fine to do, just asking.",
      "created_at": "2023-05-19T09:32:33Z",
      "updated_at": "2023-05-19T10:06:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1198753425",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198753425"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 15,
      "original_line": 15,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198753949",
      "pull_request_review_id": 1433987014,
      "id": 1198753949,
      "node_id": "PRRC_kwDOABII585Hc4id",
      "diff_hunk": "@@ -11,8 +11,8 @@\n #include <policy/feerate.h>\n #include <primitives/transaction.h>\n #include <random.h>\n-#include <util/system.h>\n #include <util/check.h>\n+#include <util/insert.h>",
      "path": "src/wallet/coinselection.h",
      "position": 6,
      "original_position": 6,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "c05c15cc7b4fb9052b87bc2f8ea0500cd5218f4e",
      "in_reply_to_id": 1198753425,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Same for `AnyPtr`?",
      "created_at": "2023-05-19T09:33:05Z",
      "updated_at": "2023-05-19T10:06:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1198753949",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198753949"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 15,
      "original_line": 15,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198757020",
      "pull_request_review_id": 1433987014,
      "id": 1198757020,
      "node_id": "PRRC_kwDOABII585Hc5Sc",
      "diff_hunk": "@@ -15,11 +15,11 @@\n #include <qt/guiutil.h>\n #include <qt/optionsmodel.h>\n \n+#include <common/system.h>\n #include <interfaces/node.h>\n-#include <validation.h> // for DEFAULT_SCRIPTCHECK_THREADS and MAX_SCRIPTCHECK_THREADS\n #include <netbase.h>\n-#include <txdb.h> // for -dbcache defaults\n-#include <util/system.h>\n+#include <txdb.h>       // for -dbcache defaults\n+#include <validation.h> // for DEFAULT_SCRIPTCHECK_THREADS and MAX_SCRIPTCHECK_THREADS",
      "path": "src/qt/optionsdialog.cpp",
      "position": null,
      "original_position": 11,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "e850319d5336335a9efbf04307261fb565b7bc68",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit in e850319d5336335a9efbf04307261fb565b7bc68: Would be good to either not touch it or remove the comment?",
      "created_at": "2023-05-19T09:36:26Z",
      "updated_at": "2023-05-19T10:06:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1198757020",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198757020"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198758293",
      "pull_request_review_id": 1433987014,
      "id": 1198758293,
      "node_id": "PRRC_kwDOABII585Hc5mV",
      "diff_hunk": "@@ -30,13 +30,13 @@\n #include <qt/macdockiconhandler.h>\n #endif\n \n-#include <functional>\n #include <chain.h>\n #include <chainparams.h>\n+#include <common/system.h>\n+#include <functional>",
      "path": "src/qt/bitcoingui.cpp",
      "position": null,
      "original_position": 8,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "e850319d5336335a9efbf04307261fb565b7bc68",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit in https://github.com/bitcoin/bitcoin/commit/e850319d5336335a9efbf04307261fb565b7bc68: Wrong section",
      "created_at": "2023-05-19T09:37:50Z",
      "updated_at": "2023-05-19T10:06:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1198758293",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198758293"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 36,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198767568",
      "pull_request_review_id": 1433987014,
      "id": 1198767568,
      "node_id": "PRRC_kwDOABII585Hc73Q",
      "diff_hunk": "@@ -103,6 +103,11 @@ int main(int argc, char* argv[])\n         {\n             std::cout << \"Warning: \" << warning.original << std::endl;\n         }\n+        void fatalError(const std::string& debug_message, const bilingual_str& user_message) override\n+        {\n+            std::cerr << \"Error: \" << debug_message << std::endl;\n+            std::cerr << (user_message.empty() ? \"A fatal internal error occurred.\" : user_message.original) << std::endl;",
      "path": "src/bitcoin-chainstate.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "d96c82a76775b1a41c098e6af60130fbdbba9975",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "d96c82a76775b1a41c098e6af60130fbdbba9975: I think you forgot the call to `std::abort`, otherwise it seems that the error isn't treated fatal?",
      "created_at": "2023-05-19T09:47:48Z",
      "updated_at": "2023-05-19T10:06:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1198767568",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198767568"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 109,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198784478",
      "pull_request_review_id": 1433987014,
      "id": 1198784478,
      "node_id": "PRRC_kwDOABII585Hc__e",
      "diff_hunk": "@@ -25,6 +25,11 @@ class KernelNotifications : public kernel::Notifications\n     void progress(const std::string& title, int progress_percent, bool resume_possible) override;\n \n     void warning(const bilingual_str& warning) override;\n+\n+    void fatalError(const std::string& debug_message, const bilingual_str& user_message = {}) override;\n+\n+    //! Useful for tests, can be set to false to avoid shutdown on fatal error.\n+    bool m_shutdown_on_fatal_error{true};",
      "path": "src/node/kernel_notifications.h",
      "position": null,
      "original_position": 8,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "d96c82a76775b1a41c098e6af60130fbdbba9975",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "brainstorming nit in d96c82a76775b1a41c098e6af60130fbdbba9975: Not sure about adding test-only code to real code. Would it be a lot more effort to add a test-only derived `MockNotif : node::KernelNotifications` struct that no-ops the fatalError method and use it in the one test?",
      "created_at": "2023-05-19T10:06:02Z",
      "updated_at": "2023-05-19T10:06:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1198784478",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198784478"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 32,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198788990",
      "pull_request_review_id": 1434153959,
      "id": 1198788990,
      "node_id": "PRRC_kwDOABII585HdBF-",
      "diff_hunk": "@@ -0,0 +1,26 @@\n+// Copyright (c) 2023 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_KERNEL_NOTIFICATIONS_INTERFACE_H\n+#define BITCOIN_KERNEL_NOTIFICATIONS_INTERFACE_H\n+\n+class CBlockIndex;\n+enum class SynchronizationState;\n+\n+namespace kernel {\n+\n+/**\n+ * A base class defining functions for notifying about certain kernel\n+ * events.\n+ */\n+class Notifications\n+{\n+public:\n+    virtual ~Notifications(){};\n+\n+    virtual void blockTip(SynchronizationState state, CBlockIndex* index) {}",
      "path": "src/kernel/notifications_interface.h",
      "position": null,
      "original_position": 22,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "974b4293a5f2fe01302c608bf0063e3b52721d0b",
      "in_reply_to_id": 1198680321,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Just seemed weird to go from `CBlockIndex*` to `CBlockIndex&` back to `CBlockIndex*`",
      "created_at": "2023-05-19T10:11:06Z",
      "updated_at": "2023-05-19T10:11:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1198788990",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198788990"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198790430",
      "pull_request_review_id": 1434156322,
      "id": 1198790430,
      "node_id": "PRRC_kwDOABII585HdBce",
      "diff_hunk": "@@ -11,8 +11,8 @@\n #include <policy/feerate.h>\n #include <primitives/transaction.h>\n #include <random.h>\n-#include <util/system.h>\n #include <util/check.h>\n+#include <util/insert.h>",
      "path": "src/wallet/coinselection.h",
      "position": 6,
      "original_position": 6,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "c05c15cc7b4fb9052b87bc2f8ea0500cd5218f4e",
      "in_reply_to_id": 1198753425,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Not strictly required, but I decided this makes sense, since these are currently in `namespace util` and are just a small amount of header-only code. See the discussion we had here: https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1196623448.",
      "created_at": "2023-05-19T10:12:49Z",
      "updated_at": "2023-05-19T10:12:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1198790430",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198790430"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 15,
      "original_line": 15,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198790811",
      "pull_request_review_id": 1434156857,
      "id": 1198790811,
      "node_id": "PRRC_kwDOABII585HdBib",
      "diff_hunk": "@@ -15,11 +15,11 @@\n #include <qt/guiutil.h>\n #include <qt/optionsmodel.h>\n \n+#include <common/system.h>\n #include <interfaces/node.h>\n-#include <validation.h> // for DEFAULT_SCRIPTCHECK_THREADS and MAX_SCRIPTCHECK_THREADS\n #include <netbase.h>\n-#include <txdb.h> // for -dbcache defaults\n-#include <util/system.h>\n+#include <txdb.h>       // for -dbcache defaults\n+#include <validation.h> // for DEFAULT_SCRIPTCHECK_THREADS and MAX_SCRIPTCHECK_THREADS",
      "path": "src/qt/optionsdialog.cpp",
      "position": null,
      "original_position": 11,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "e850319d5336335a9efbf04307261fb565b7bc68",
      "in_reply_to_id": 1198757020,
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yea. In general, it's fine for those comments to just be dropped if touching the line.",
      "created_at": "2023-05-19T10:13:14Z",
      "updated_at": "2023-05-19T10:13:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1198790811",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198790811"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198791887",
      "pull_request_review_id": 1434158586,
      "id": 1198791887,
      "node_id": "PRRC_kwDOABII585HdBzP",
      "diff_hunk": "@@ -0,0 +1,26 @@\n+// Copyright (c) 2023 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_KERNEL_NOTIFICATIONS_INTERFACE_H\n+#define BITCOIN_KERNEL_NOTIFICATIONS_INTERFACE_H\n+\n+class CBlockIndex;\n+enum class SynchronizationState;\n+\n+namespace kernel {\n+\n+/**\n+ * A base class defining functions for notifying about certain kernel\n+ * events.\n+ */\n+class Notifications\n+{\n+public:\n+    virtual ~Notifications(){};\n+\n+    virtual void blockTip(SynchronizationState state, CBlockIndex* index) {}",
      "path": "src/kernel/notifications_interface.h",
      "position": null,
      "original_position": 22,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "974b4293a5f2fe01302c608bf0063e3b52721d0b",
      "in_reply_to_id": 1198680321,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yeah, it may be odd in the meantime, but if it is done for all the lines that are touched anyway and if longer term the ui_interface lines are touched, they can also be switched over?",
      "created_at": "2023-05-19T10:14:37Z",
      "updated_at": "2023-05-19T10:14:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1198791887",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198791887"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198793373",
      "pull_request_review_id": 1434160944,
      "id": 1198793373,
      "node_id": "PRRC_kwDOABII585HdCKd",
      "diff_hunk": "@@ -11,8 +11,8 @@\n #include <policy/feerate.h>\n #include <primitives/transaction.h>\n #include <random.h>\n-#include <util/system.h>\n #include <util/check.h>\n+#include <util/insert.h>",
      "path": "src/wallet/coinselection.h",
      "position": 6,
      "original_position": 6,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "c05c15cc7b4fb9052b87bc2f8ea0500cd5218f4e",
      "in_reply_to_id": 1198753425,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ah sure. You didn't want to move them to common, so you moved them to util ahead of the other change.",
      "created_at": "2023-05-19T10:16:19Z",
      "updated_at": "2023-05-19T10:16:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1198793373",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198793373"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 15,
      "original_line": 15,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198809696",
      "pull_request_review_id": 1434185942,
      "id": 1198809696,
      "node_id": "PRRC_kwDOABII585HdGJg",
      "diff_hunk": "@@ -15,11 +15,11 @@\n #include <qt/guiutil.h>\n #include <qt/optionsmodel.h>\n \n+#include <common/system.h>\n #include <interfaces/node.h>\n-#include <validation.h> // for DEFAULT_SCRIPTCHECK_THREADS and MAX_SCRIPTCHECK_THREADS\n #include <netbase.h>\n-#include <txdb.h> // for -dbcache defaults\n-#include <util/system.h>\n+#include <txdb.h>       // for -dbcache defaults\n+#include <validation.h> // for DEFAULT_SCRIPTCHECK_THREADS and MAX_SCRIPTCHECK_THREADS",
      "path": "src/qt/optionsdialog.cpp",
      "position": null,
      "original_position": 11,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "e850319d5336335a9efbf04307261fb565b7bc68",
      "in_reply_to_id": 1198757020,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The changes here and [here](https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1198758293) are done by `git diff -U0 HEAD~1.. | ./contrib/devtools/clang-format-diff.py -p1 -i -v`. Should I always drop these format changes that just re-order includes? I already drop a bunch of other changes that re-format moved code, or squash code onto a single line, that would be easier to read with its current hand-written multi line formatting.",
      "created_at": "2023-05-19T10:27:36Z",
      "updated_at": "2023-05-19T10:27:36Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1198809696",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198809696"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198812663",
      "pull_request_review_id": 1434190472,
      "id": 1198812663,
      "node_id": "PRRC_kwDOABII585HdG33",
      "diff_hunk": "@@ -15,11 +15,11 @@\n #include <qt/guiutil.h>\n #include <qt/optionsmodel.h>\n \n+#include <common/system.h>\n #include <interfaces/node.h>\n-#include <validation.h> // for DEFAULT_SCRIPTCHECK_THREADS and MAX_SCRIPTCHECK_THREADS\n #include <netbase.h>\n-#include <txdb.h> // for -dbcache defaults\n-#include <util/system.h>\n+#include <txdb.h>       // for -dbcache defaults\n+#include <validation.h> // for DEFAULT_SCRIPTCHECK_THREADS and MAX_SCRIPTCHECK_THREADS",
      "path": "src/qt/optionsdialog.cpp",
      "position": null,
      "original_position": 11,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "e850319d5336335a9efbf04307261fb565b7bc68",
      "in_reply_to_id": 1198757020,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> Should I always drop these format changes that just re-order includes? \r\n\r\nNo, it is just a style nit. Feel free to ignore. I just think that instead of moving one include in the wrong section to another place in the wrong section is worse than just moving it to the right place in the right section in one go.",
      "created_at": "2023-05-19T10:31:03Z",
      "updated_at": "2023-05-19T10:31:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1198812663",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198812663"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198815026",
      "pull_request_review_id": 1434194045,
      "id": 1198815026,
      "node_id": "PRRC_kwDOABII585HdHcy",
      "diff_hunk": "@@ -103,6 +103,11 @@ int main(int argc, char* argv[])\n         {\n             std::cout << \"Warning: \" << warning.original << std::endl;\n         }\n+        void fatalError(const std::string& debug_message, const bilingual_str& user_message) override\n+        {\n+            std::cerr << \"Error: \" << debug_message << std::endl;\n+            std::cerr << (user_message.empty() ? \"A fatal internal error occurred.\" : user_message.original) << std::endl;",
      "path": "src/bitcoin-chainstate.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "d96c82a76775b1a41c098e6af60130fbdbba9975",
      "in_reply_to_id": 1198767568,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "See the discussion in [this](https://github.com/bitcoin/bitcoin/pull/27636#pullrequestreview-1428804291) and [this](https://github.com/bitcoin/bitcoin/pull/27636#issuecomment-1550107951) comment. To summarize: Calling `std::abort` or `exit(0)` would skip over destructors and lead to an unclean exit. Functions calling `fatalError` should already be returning values that would lead to `bitcoin-chainstate` shutting down normally.",
      "created_at": "2023-05-19T10:33:59Z",
      "updated_at": "2023-05-19T10:33:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1198815026",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198815026"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 109,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198817207",
      "pull_request_review_id": 1434197535,
      "id": 1198817207,
      "node_id": "PRRC_kwDOABII585HdH-3",
      "diff_hunk": "@@ -25,6 +25,11 @@ class KernelNotifications : public kernel::Notifications\n     void progress(const std::string& title, int progress_percent, bool resume_possible) override;\n \n     void warning(const bilingual_str& warning) override;\n+\n+    void fatalError(const std::string& debug_message, const bilingual_str& user_message = {}) override;\n+\n+    //! Useful for tests, can be set to false to avoid shutdown on fatal error.\n+    bool m_shutdown_on_fatal_error{true};",
      "path": "src/node/kernel_notifications.h",
      "position": null,
      "original_position": 8,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "d96c82a76775b1a41c098e6af60130fbdbba9975",
      "in_reply_to_id": 1198784478,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I ran through the scenario in [this comment](https://github.com/bitcoin/bitcoin/pull/27636#issuecomment-1553391517). We also already have a bunch of other test-only or debug-only options, so I don't think we are setting a precedent here.",
      "created_at": "2023-05-19T10:36:54Z",
      "updated_at": "2023-05-19T10:36:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1198817207",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198817207"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 32,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198831873",
      "pull_request_review_id": 1434220981,
      "id": 1198831873,
      "node_id": "PRRC_kwDOABII585HdLkB",
      "diff_hunk": "@@ -103,6 +103,11 @@ int main(int argc, char* argv[])\n         {\n             std::cout << \"Warning: \" << warning.original << std::endl;\n         }\n+        void fatalError(const std::string& debug_message, const bilingual_str& user_message) override\n+        {\n+            std::cerr << \"Error: \" << debug_message << std::endl;\n+            std::cerr << (user_message.empty() ? \"A fatal internal error occurred.\" : user_message.original) << std::endl;",
      "path": "src/bitcoin-chainstate.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "d96c82a76775b1a41c098e6af60130fbdbba9975",
      "in_reply_to_id": 1198767568,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Would suggest documenting this in `src/kernel/notifications_interface.h`. Maybe:\r\n\r\n```c++\r\n//! The fatal error notification is sent to notify the user and start\r\n//! shutting down if an error happens in kernel code that can't be recovered\r\n//! from. After this notification is sent, whatever function triggered the\r\n//! error should also return an error code or raise an exception.\r\n```",
      "created_at": "2023-05-19T10:55:49Z",
      "updated_at": "2023-05-19T10:55:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1198831873",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198831873"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 109,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198840110",
      "pull_request_review_id": 1434234989,
      "id": 1198840110,
      "node_id": "PRRC_kwDOABII585HdNku",
      "diff_hunk": "@@ -25,6 +25,11 @@ class KernelNotifications : public kernel::Notifications\n     void progress(const std::string& title, int progress_percent, bool resume_possible) override;\n \n     void warning(const bilingual_str& warning) override;\n+\n+    void fatalError(const std::string& debug_message, const bilingual_str& user_message = {}) override;\n+\n+    //! Useful for tests, can be set to false to avoid shutdown on fatal error.\n+    bool m_shutdown_on_fatal_error{true};",
      "path": "src/node/kernel_notifications.h",
      "position": null,
      "original_position": 8,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "d96c82a76775b1a41c098e6af60130fbdbba9975",
      "in_reply_to_id": 1198784478,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I suggested adding the bool as way to clean up the `MaybeCompleteSnapshotValidation` interface which seemed unnecessarily complicated. Could have gone with a mock notifications object instead but adding the bool was simpler.\r\n\r\nMaybe more ideally we could drop the bool by just having the test call `BOOST_CHECK(ShutdownRequested())` and `AbortShutdown()` after it calls `MaybeCompleteSnapshotValidation`. This would make the test more realistic and add better coverage, but I didn't check if that worked.",
      "created_at": "2023-05-19T11:06:34Z",
      "updated_at": "2023-05-19T11:06:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1198840110",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1198840110"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 32,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1199037376",
      "pull_request_review_id": 1434551593,
      "id": 1199037376,
      "node_id": "PRRC_kwDOABII585Hd9vA",
      "diff_hunk": "@@ -42,6 +44,7 @@ struct ChainstateManagerOpts {\n     DBOptions block_tree_db{};\n     DBOptions coins_db{};\n     CoinsViewOptions coins_view{};\n+    Notifications& notifications;",
      "path": "src/kernel/chainstatemanager_opts.h",
      "position": 13,
      "original_position": 13,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "d96c82a76775b1a41c098e6af60130fbdbba9975",
      "in_reply_to_id": null,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why is it safe to use a reference type here?",
      "created_at": "2023-05-19T14:35:36Z",
      "updated_at": "2023-05-19T14:47:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1199037376",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1199037376"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 47,
      "original_line": 47,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1199115073",
      "pull_request_review_id": 1434674208,
      "id": 1199115073,
      "node_id": "PRRC_kwDOABII585HeQtB",
      "diff_hunk": "@@ -42,6 +44,7 @@ struct ChainstateManagerOpts {\n     DBOptions block_tree_db{};\n     DBOptions coins_db{};\n     CoinsViewOptions coins_view{};\n+    const std::shared_ptr<ValidationNotifications> notifications;",
      "path": "src/kernel/chainstatemanager_opts.h",
      "position": null,
      "original_position": 13,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "620faa21ce0210dddca243511b7674c3b8f4e901",
      "in_reply_to_id": 1193855223,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> Would suggest `ValidationNotifications& notifications` or `ValdiataionNotifications* notifcations{nullptr}` here,\r\n\r\nI'd prefer the pointer type to do not bother about lifetime of variables that were used for assigning.",
      "created_at": "2023-05-19T15:48:48Z",
      "updated_at": "2023-05-19T15:48:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1199115073",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1199115073"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 47,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1199141298",
      "pull_request_review_id": 1434715761,
      "id": 1199141298,
      "node_id": "PRRC_kwDOABII585HeXGy",
      "diff_hunk": "@@ -42,6 +44,7 @@ struct ChainstateManagerOpts {\n     DBOptions block_tree_db{};\n     DBOptions coins_db{};\n     CoinsViewOptions coins_view{};\n+    Notifications& notifications;",
      "path": "src/kernel/chainstatemanager_opts.h",
      "position": 13,
      "original_position": 13,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "d96c82a76775b1a41c098e6af60130fbdbba9975",
      "in_reply_to_id": 1199037376,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "re: https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1199037376\r\n\r\n> Why is it safe to use a reference type here?\r\n\r\nI wouldn't call it \"safe\", since in general pointers and references in C++ are pretty dangerous, but as long as the notifications object is destroyed after the last notification is sent, there is not a bug. Could add a comment to the `ChainstateManagerOpts` struct to make this explicit, saying the notifications option is mandatory and the object lifetime needs to be at least as long as the `ChainstateManager` object.\r\n\r\nI think other alternatives would not be good. Changing it to a `unique_ptr` would make it not possible for the block manager and chainstate manager to share the same notifications object, or for multiple chainstate managers to share the same notifications object. Changing it to a `shared_ptr` could work (it actually was a shared_ptr in the initial version of this PR), but it would make the object lifetime more complicated and cause harder to debug resource leaks if the notifications object owns other resources, or use-after-free bugs if the notification objects contains other pointers. In general I think it's best to avoid shared_ptrs where possible because it's hard to identify all the places reference counts could go to 0 and do unexpected things. It would also just seem asymmetric if application code is allocating the object and kernel code is deleting it. Better for kernel not to get involved in application memory management if possible.",
      "created_at": "2023-05-19T16:16:05Z",
      "updated_at": "2023-05-19T16:16:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1199141298",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1199141298"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 47,
      "original_line": 47,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1199157134",
      "pull_request_review_id": 1434746480,
      "id": 1199157134,
      "node_id": "PRRC_kwDOABII585Hea-O",
      "diff_hunk": "@@ -42,6 +44,7 @@ struct ChainstateManagerOpts {\n     DBOptions block_tree_db{};\n     DBOptions coins_db{};\n     CoinsViewOptions coins_view{};\n+    Notifications& notifications;",
      "path": "src/kernel/chainstatemanager_opts.h",
      "position": 13,
      "original_position": 13,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "d96c82a76775b1a41c098e6af60130fbdbba9975",
      "in_reply_to_id": 1199037376,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> Could add a comment to the `ChainstateManagerOpts` struct to make this explicit, saying the notifications option is mandatory and the object lifetime needs to be at least as long as the `ChainstateManager` object.\r\n\r\nRight. But that is not the case for the `notifications` variable in: https://github.com/bitcoin/bitcoin/blob/d96c82a76775b1a41c098e6af60130fbdbba9975/src/init.cpp#L1022-L1029",
      "created_at": "2023-05-19T16:31:52Z",
      "updated_at": "2023-05-19T16:31:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1199157134",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1199157134"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 47,
      "original_line": 47,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1199159229",
      "pull_request_review_id": 1434749690,
      "id": 1199159229,
      "node_id": "PRRC_kwDOABII585Hebe9",
      "diff_hunk": "@@ -42,6 +44,7 @@ struct ChainstateManagerOpts {\n     DBOptions block_tree_db{};\n     DBOptions coins_db{};\n     CoinsViewOptions coins_view{};\n+    const std::shared_ptr<ValidationNotifications> notifications;",
      "path": "src/kernel/chainstatemanager_opts.h",
      "position": null,
      "original_position": 13,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "620faa21ce0210dddca243511b7674c3b8f4e901",
      "in_reply_to_id": 1193855223,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> I'd prefer the pointer type to do not bother about lifetime of variables that were used for assigning.\r\n\r\nI'd agree with you if we passing a string or some other passive data structure as an option to the kernel. Better to just use copy/move/reference counts to get the options struct to manage the memory rather than worry about lifetime of external variables.\r\n\r\nBut `kernel::Notifications` option is not just a passive set-and-forget option because it actively receives callbacks from the kernel. It will very likely own resources and contain pointers to other state. (Our `KernelNotifications` implementation will need to hold more state to get rid of `uiInterface` and `fWarned` globals.) I think it's important for lifetime of the object to be explicit and not use copies/movies/reference counts so related object lifetimes can also be known and fixed, and we don't make memory management harder to debug in the long term just to avoid thinking about it in the short term.",
      "created_at": "2023-05-19T16:34:20Z",
      "updated_at": "2023-05-19T16:34:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1199159229",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1199159229"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 47,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1199164171",
      "pull_request_review_id": 1434757217,
      "id": 1199164171,
      "node_id": "PRRC_kwDOABII585HecsL",
      "diff_hunk": "@@ -42,6 +44,7 @@ struct ChainstateManagerOpts {\n     DBOptions block_tree_db{};\n     DBOptions coins_db{};\n     CoinsViewOptions coins_view{};\n+    Notifications& notifications;",
      "path": "src/kernel/chainstatemanager_opts.h",
      "position": 13,
      "original_position": 13,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "d96c82a76775b1a41c098e6af60130fbdbba9975",
      "in_reply_to_id": 1199037376,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> Right. But that is not the case for the `notifications` variable in:\r\n\r\nThat code looks safe to me, but is there a bug?\r\n\r\nIt definitely is verbose and duplicative, and probably the repeated parsing could be removed later with a refactoring.",
      "created_at": "2023-05-19T16:40:03Z",
      "updated_at": "2023-05-19T16:40:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1199164171",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1199164171"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 47,
      "original_line": 47,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1199336080",
      "pull_request_review_id": 1435041479,
      "id": 1199336080,
      "node_id": "PRRC_kwDOABII585HfGqQ",
      "diff_hunk": "@@ -25,6 +25,11 @@ class KernelNotifications : public kernel::Notifications\n     void progress(const std::string& title, int progress_percent, bool resume_possible) override;\n \n     void warning(const bilingual_str& warning) override;\n+\n+    void fatalError(const std::string& debug_message, const bilingual_str& user_message = {}) override;\n+\n+    //! Useful for tests, can be set to false to avoid shutdown on fatal error.\n+    bool m_shutdown_on_fatal_error{true};",
      "path": "src/node/kernel_notifications.h",
      "position": null,
      "original_position": 8,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "d96c82a76775b1a41c098e6af60130fbdbba9975",
      "in_reply_to_id": 1198784478,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> Maybe more ideally we could drop the bool by just having the test call BOOST_CHECK(ShutdownRequested()) and AbortShutdown() after it calls MaybeCompleteSnapshotValidation. This would make the test more realistic and add better coverage, but I didn't check if that worked.\r\n\r\nThis doesn't work, because calling `StartShutdown` without calling `InitShutdownState` beforehand triggers an `assert(0)`.",
      "created_at": "2023-05-19T20:16:50Z",
      "updated_at": "2023-05-19T20:16:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1199336080",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1199336080"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 32,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1199375548",
      "pull_request_review_id": 1435098253,
      "id": 1199375548,
      "node_id": "PRRC_kwDOABII585HfQS8",
      "diff_hunk": "@@ -25,6 +25,11 @@ class KernelNotifications : public kernel::Notifications\n     void progress(const std::string& title, int progress_percent, bool resume_possible) override;\n \n     void warning(const bilingual_str& warning) override;\n+\n+    void fatalError(const std::string& debug_message, const bilingual_str& user_message = {}) override;\n+\n+    //! Useful for tests, can be set to false to avoid shutdown on fatal error.\n+    bool m_shutdown_on_fatal_error{true};",
      "path": "src/node/kernel_notifications.h",
      "position": null,
      "original_position": 8,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "d96c82a76775b1a41c098e6af60130fbdbba9975",
      "in_reply_to_id": 1198784478,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> This doesn't work, because calling `StartShutdown` without calling `InitShutdownState` beforehand triggers an `assert(0)`.\r\n\r\nI guess then question would be why can't the test framework call `InitShutdownState`? But this suggests that if we remove globals in shutdown code later (I don't know if that's required for the kernel), we should be able to get rid of the `m_shutdown_on_fatal_error` variable pretty easily later too.",
      "created_at": "2023-05-19T20:42:00Z",
      "updated_at": "2023-05-19T20:42:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1199375548",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1199375548"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 32,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1199572071",
      "pull_request_review_id": 1435373256,
      "id": 1199572071,
      "node_id": "PRRC_kwDOABII585HgARn",
      "diff_hunk": "@@ -42,6 +44,7 @@ struct ChainstateManagerOpts {\n     DBOptions block_tree_db{};\n     DBOptions coins_db{};\n     CoinsViewOptions coins_view{};\n+    Notifications& notifications;",
      "path": "src/kernel/chainstatemanager_opts.h",
      "position": 13,
      "original_position": 13,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "d96c82a76775b1a41c098e6af60130fbdbba9975",
      "in_reply_to_id": 1199037376,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> but is there a bug?\r\n\r\nNo, there is not. I've double-checked the code, it looks OK for me too.",
      "created_at": "2023-05-20T07:13:34Z",
      "updated_at": "2023-05-20T07:13:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1199572071",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1199572071"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 47,
      "original_line": 47,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1200080302",
      "pull_request_review_id": 1435962922,
      "id": 1200080302,
      "node_id": "PRRC_kwDOABII585Hh8Wu",
      "diff_hunk": "@@ -4145,14 +4147,15 @@ bool Chainstate::LoadChainTip()\n     return true;\n }\n \n-CVerifyDB::CVerifyDB()\n+CVerifyDB::CVerifyDB(Notifications& notifications)\n+    : m_notifications{notifications}\n {\n-    uiInterface.ShowProgress(_(\"Verifying blocks…\").translated, 0, false);\n+    m_notifications.progress(_(\"Verifying blocks…\"), 0, false);\n }\n \n CVerifyDB::~CVerifyDB()\n {\n-    uiInterface.ShowProgress(\"\", 100, false);\n+    m_notifications.progress(bilingual_str{}, 100, false);",
      "path": "src/validation.cpp",
      "position": 132,
      "original_position": 31,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "4452707edec91c7d7991f486dd41ef3edb4f7fbf",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit in 4452707edec91c7d7991f486dd41ef3edb4f7fbf: not sure what the convention is, but most other places seem to use `Untranslated(\"\")` over this?",
      "created_at": "2023-05-22T07:32:42Z",
      "updated_at": "2023-05-22T07:36:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1200080302",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1200080302"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 4126,
      "original_line": 4158,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1200080447",
      "pull_request_review_id": 1435962922,
      "id": 1200080447,
      "node_id": "PRRC_kwDOABII585Hh8Y_",
      "diff_hunk": "@@ -4374,13 +4377,13 @@ bool Chainstate::ReplayBlocks()\n         const CBlockIndex& pindex{*Assert(pindexNew->GetAncestor(nHeight))};\n \n         LogPrintf(\"Rolling forward %s (%i)\\n\", pindex.GetBlockHash().ToString(), nHeight);\n-        uiInterface.ShowProgress(_(\"Replaying blocks…\").translated, (int) ((nHeight - nForkHeight) * 100.0 / (pindexNew->nHeight - nForkHeight)) , false);\n+        m_chainman.GetNotifications().progress(_(\"Replaying blocks…\"), (int)((nHeight - nForkHeight) * 100.0 / (pindexNew->nHeight - nForkHeight)), false);\n         if (!RollforwardBlock(&pindex, cache)) return false;\n     }\n \n     cache.SetBestBlock(pindexNew->GetBlockHash());\n     cache.Flush();\n-    uiInterface.ShowProgress(\"\", 100, false);\n+    m_chainman.GetNotifications().progress(bilingual_str{}, 100, false);",
      "path": "src/validation.cpp",
      "position": 175,
      "original_position": 74,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "4452707edec91c7d7991f486dd41ef3edb4f7fbf",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "same?",
      "created_at": "2023-05-22T07:32:50Z",
      "updated_at": "2023-05-22T07:36:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1200080447",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1200080447"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 4354,
      "original_line": 4386,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1200236216",
      "pull_request_review_id": 1436185701,
      "id": 1200236216,
      "node_id": "PRRC_kwDOABII585Hiia4",
      "diff_hunk": "@@ -4145,14 +4147,15 @@ bool Chainstate::LoadChainTip()\n     return true;\n }\n \n-CVerifyDB::CVerifyDB()\n+CVerifyDB::CVerifyDB(Notifications& notifications)\n+    : m_notifications{notifications}\n {\n-    uiInterface.ShowProgress(_(\"Verifying blocks…\").translated, 0, false);\n+    m_notifications.progress(_(\"Verifying blocks…\"), 0, false);\n }\n \n CVerifyDB::~CVerifyDB()\n {\n-    uiInterface.ShowProgress(\"\", 100, false);\n+    m_notifications.progress(bilingual_str{}, 100, false);",
      "path": "src/validation.cpp",
      "position": 132,
      "original_position": 31,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "4452707edec91c7d7991f486dd41ef3edb4f7fbf",
      "in_reply_to_id": 1200080302,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> not sure what the convention is\r\n\r\nNeither do I.\r\n\r\n> but most other places seem to use `Untranslated(\"\")` over this?\r\n\r\n```\r\n$ git grep 'Untranslated(\"\")'\r\nsrc/net_permissions.cpp:    error = Untranslated(\"\");\r\nsrc/net_permissions.cpp:    error = Untranslated(\"\");\r\nsrc/net_permissions.cpp:    error = Untranslated(\"\");\r\n```\r\n\r\nI think that additional semantics--being untranslated--is not required for an empty string. An empty `bilingual_str` instance looks OK here in my opinion.\r\n\r\nAnyway, I'm fine with either variant.",
      "created_at": "2023-05-22T09:19:20Z",
      "updated_at": "2023-05-22T09:19:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1200236216",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1200236216"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 4126,
      "original_line": 4158,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1200241528",
      "pull_request_review_id": 1436193564,
      "id": 1200241528,
      "node_id": "PRRC_kwDOABII585Hijt4",
      "diff_hunk": "@@ -4145,14 +4147,15 @@ bool Chainstate::LoadChainTip()\n     return true;\n }\n \n-CVerifyDB::CVerifyDB()\n+CVerifyDB::CVerifyDB(Notifications& notifications)\n+    : m_notifications{notifications}\n {\n-    uiInterface.ShowProgress(_(\"Verifying blocks…\").translated, 0, false);\n+    m_notifications.progress(_(\"Verifying blocks…\"), 0, false);\n }\n \n CVerifyDB::~CVerifyDB()\n {\n-    uiInterface.ShowProgress(\"\", 100, false);\n+    m_notifications.progress(bilingual_str{}, 100, false);",
      "path": "src/validation.cpp",
      "position": 132,
      "original_position": 31,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "4452707edec91c7d7991f486dd41ef3edb4f7fbf",
      "in_reply_to_id": 1200080302,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ok, seems best to keep as-is.",
      "created_at": "2023-05-22T09:23:35Z",
      "updated_at": "2023-05-22T09:23:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1200241528",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1200241528"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 4126,
      "original_line": 4158,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1200518879",
      "pull_request_review_id": 1436636736,
      "id": 1200518879,
      "node_id": "PRRC_kwDOABII585Hjnbf",
      "diff_hunk": "@@ -27,6 +28,12 @@ class Notifications\n     virtual void headerTip(SynchronizationState state, int64_t height, int64_t timestamp, bool presync) {}\n     virtual void progress(const bilingual_str& title, int progress_percent, bool resume_possible) {}\n     virtual void warning(const bilingual_str& warning) {}\n+\n+    //! The fatal error notification is sent to notify the user and start\n+    //! shutting down if an error happens in kernel code that can't be recovered\n+    //! from. After this notification is sent, whatever function triggered the\n+    //! error should also return an error code or raise an exception.",
      "path": "src/kernel/notifications_interface.h",
      "position": null,
      "original_position": 23,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "bbfbcd0360e486d47025a412f2c0f4e8535ab255",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Sorry for the late conceptual review, but I'm worried about how true this is and how well it's enforced? IIRC last time I played with my clang-tidy plugin, there were at least a few places where StartShutdown() was called (maybe in a nested function) but then the function didn't return immediately.",
      "created_at": "2023-05-22T13:27:49Z",
      "updated_at": "2023-05-22T13:36:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1200518879",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1200518879"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 35,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1200535398",
      "pull_request_review_id": 1436662824,
      "id": 1200535398,
      "node_id": "PRRC_kwDOABII585Hjrdm",
      "diff_hunk": "@@ -27,6 +28,12 @@ class Notifications\n     virtual void headerTip(SynchronizationState state, int64_t height, int64_t timestamp, bool presync) {}\n     virtual void progress(const bilingual_str& title, int progress_percent, bool resume_possible) {}\n     virtual void warning(const bilingual_str& warning) {}\n+\n+    //! The fatal error notification is sent to notify the user and start\n+    //! shutting down if an error happens in kernel code that can't be recovered\n+    //! from. After this notification is sent, whatever function triggered the\n+    //! error should also return an error code or raise an exception.",
      "path": "src/kernel/notifications_interface.h",
      "position": null,
      "original_position": 23,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "bbfbcd0360e486d47025a412f2c0f4e8535ab255",
      "in_reply_to_id": 1200518879,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This seems like something that should be improved. Though, as it would be a behavior change, it may be better to do it separate from this refactoring change?",
      "created_at": "2023-05-22T13:40:50Z",
      "updated_at": "2023-05-22T13:40:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1200535398",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1200535398"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 35,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1200543291",
      "pull_request_review_id": 1436678915,
      "id": 1200543291,
      "node_id": "PRRC_kwDOABII585HjtY7",
      "diff_hunk": "@@ -27,6 +28,12 @@ class Notifications\n     virtual void headerTip(SynchronizationState state, int64_t height, int64_t timestamp, bool presync) {}\n     virtual void progress(const bilingual_str& title, int progress_percent, bool resume_possible) {}\n     virtual void warning(const bilingual_str& warning) {}\n+\n+    //! The fatal error notification is sent to notify the user and start\n+    //! shutting down if an error happens in kernel code that can't be recovered\n+    //! from. After this notification is sent, whatever function triggered the\n+    //! error should also return an error code or raise an exception.",
      "path": "src/kernel/notifications_interface.h",
      "position": null,
      "original_position": 23,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "bbfbcd0360e486d47025a412f2c0f4e8535ab255",
      "in_reply_to_id": 1200518879,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'm more worried about the enforcement question. I'm nearly positive that this assumption is not true now, and even if so there's nothing other than review keeping it true in the future.\r\n\r\nI'll work on generating a more current shutdown-bubble-up demo to demonstrate the problem.",
      "created_at": "2023-05-22T13:46:56Z",
      "updated_at": "2023-05-22T13:46:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1200543291",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1200543291"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 35,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1200547867",
      "pull_request_review_id": 1436684577,
      "id": 1200547867,
      "node_id": "PRRC_kwDOABII585Hjugb",
      "diff_hunk": "@@ -27,6 +28,12 @@ class Notifications\n     virtual void headerTip(SynchronizationState state, int64_t height, int64_t timestamp, bool presync) {}\n     virtual void progress(const bilingual_str& title, int progress_percent, bool resume_possible) {}\n     virtual void warning(const bilingual_str& warning) {}\n+\n+    //! The fatal error notification is sent to notify the user and start\n+    //! shutting down if an error happens in kernel code that can't be recovered\n+    //! from. After this notification is sent, whatever function triggered the\n+    //! error should also return an error code or raise an exception.",
      "path": "src/kernel/notifications_interface.h",
      "position": null,
      "original_position": 23,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "bbfbcd0360e486d47025a412f2c0f4e8535ab255",
      "in_reply_to_id": 1200518879,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "re: https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1200518879\r\n\r\n> I'm more worried about the enforcement question. I'm nearly positive that this assumption is not true now, and even if so there's nothing other than review keeping it true in the future.\r\n\r\nHmm, I wasn't aware of these cases, but if we want to add an enforcement mechanism that could be interesting. I guess one way to do it would be to make the method private and add `FATAL_THROW` `FATAL_RETURN` macros that are friends of the interface and enforce throwing or returning.\r\n\r\nI would have to look at the cases, but I think if code is detecting fatal errors and not actually returning an error that seems more like a bug than something that just needs to be improved. It seems like it could lead to really messy shutdowns and possibly corrupt state, if code is relying on asynchronous shutdowns as a form of error handling.",
      "created_at": "2023-05-22T13:50:40Z",
      "updated_at": "2023-05-22T14:10:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1200547867",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1200547867"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 35,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1200564788",
      "pull_request_review_id": 1436717407,
      "id": 1200564788,
      "node_id": "PRRC_kwDOABII585Hjyo0",
      "diff_hunk": "@@ -27,6 +28,12 @@ class Notifications\n     virtual void headerTip(SynchronizationState state, int64_t height, int64_t timestamp, bool presync) {}\n     virtual void progress(const bilingual_str& title, int progress_percent, bool resume_possible) {}\n     virtual void warning(const bilingual_str& warning) {}\n+\n+    //! The fatal error notification is sent to notify the user and start\n+    //! shutting down if an error happens in kernel code that can't be recovered\n+    //! from. After this notification is sent, whatever function triggered the\n+    //! error should also return an error code or raise an exception.",
      "path": "src/kernel/notifications_interface.h",
      "position": null,
      "original_position": 23,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "bbfbcd0360e486d47025a412f2c0f4e8535ab255",
      "in_reply_to_id": 1200518879,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, it is certainly possible that this is not true now. However, then again, if it is a problem on current `master` and this pull request isn't changing that, nor making it worse, then it seems better to do in a separate pull/issue? (I agree it should be addressed, btw)",
      "created_at": "2023-05-22T14:03:42Z",
      "updated_at": "2023-05-22T14:03:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1200564788",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1200564788"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 35,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1202937682",
      "pull_request_review_id": 1440486632,
      "id": 1202937682,
      "node_id": "PRRC_kwDOABII585Hs19S",
      "diff_hunk": "@@ -80,12 +82,22 @@ int main(int argc, char* argv[])\n \n     GetMainSignals().RegisterBackgroundSignalScheduler(scheduler);\n \n+    class KernelNotifications : public kernel::Notifications\n+    {\n+    public:\n+        void blockTip(SynchronizationState, CBlockIndex&) override",
      "path": "src/bitcoin-chainstate.cpp",
      "position": 28,
      "original_position": 23,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "447761c8228d58f948aae7e73ed079c028cacb97",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Would it be possible to keep pointers/references to internal data out of this interface from the beginning? I'm not sure if that's a goal at this layer.\r\n\r\nFor blocktip for example, taking a quick look around, for the ui it looks like this eventually gets converted to:\r\n`void(SynchronizationState, interfaces::BlockTip tip, double verification_progress)`\r\n\r\nI wonder if we can do the same here?",
      "created_at": "2023-05-23T20:06:50Z",
      "updated_at": "2023-05-23T20:11:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1202937682",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1202937682"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 90,
      "original_line": 88,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1203079320",
      "pull_request_review_id": 1440635197,
      "id": 1203079320,
      "node_id": "PRRC_kwDOABII585HtYiY",
      "diff_hunk": "@@ -80,12 +82,22 @@ int main(int argc, char* argv[])\n \n     GetMainSignals().RegisterBackgroundSignalScheduler(scheduler);\n \n+    class KernelNotifications : public kernel::Notifications\n+    {\n+    public:\n+        void blockTip(SynchronizationState, CBlockIndex&) override",
      "path": "src/bitcoin-chainstate.cpp",
      "position": 28,
      "original_position": 23,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "447761c8228d58f948aae7e73ed079c028cacb97",
      "in_reply_to_id": 1202937682,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Primarily, I did not want to mess with existing interfaces, but I checked through everything and it would be feasibly to entirely drop usage of `CBlockIndex` for this notification. The change is a bit sprawling though and also ends up touching rpc code.\r\n\r\n>  I'm not sure if that's a goal at this layer.\r\n\r\nThe way I see this play out during the next phase of exploring a more suitable kernel api, these notifications might be used to feed back into the `ChainstateManager`. As long as the chainman interface primarily takes a `CBlockIndex` such a change feels like putting the cart before the horse to me.\r\n\r\n\r\n\r\n",
      "created_at": "2023-05-23T22:10:06Z",
      "updated_at": "2023-05-23T22:10:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1203079320",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1203079320"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 90,
      "original_line": 88,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1204062504",
      "pull_request_review_id": 1441753577,
      "id": 1204062504,
      "node_id": "PRRC_kwDOABII585HxIko",
      "diff_hunk": "@@ -37,6 +37,7 @@\n #include <functional>\n #include <iosfwd>\n #include <memory>\n+#include <string>",
      "path": "src/bitcoin-chainstate.cpp",
      "position": 17,
      "original_position": 4,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "4452707edec91c7d7991f486dd41ef3edb4f7fbf",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: I think you also need to `#include <util/translation.h>` for `bilingual_str`",
      "created_at": "2023-05-24T12:43:50Z",
      "updated_at": "2023-05-24T15:56:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1204062504",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1204062504"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 40,
      "original_line": 40,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1204065433",
      "pull_request_review_id": 1441753577,
      "id": 1204065433,
      "node_id": "PRRC_kwDOABII585HxJSZ",
      "diff_hunk": "@@ -6,9 +6,11 @@\n #define BITCOIN_KERNEL_NOTIFICATIONS_INTERFACE_H\n \n #include <cstdint>\n+#include <string>",
      "path": "src/kernel/notifications_interface.h",
      "position": 9,
      "original_position": 4,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "4452707edec91c7d7991f486dd41ef3edb4f7fbf",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: Do we need this?",
      "created_at": "2023-05-24T12:45:48Z",
      "updated_at": "2023-05-24T15:56:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1204065433",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1204065433"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 9,
      "original_line": 9,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1204082373",
      "pull_request_review_id": 1441753577,
      "id": 1204082373,
      "node_id": "PRRC_kwDOABII585HxNbF",
      "diff_hunk": "@@ -23,6 +23,8 @@ class KernelNotifications : public kernel::Notifications\n     void headerTip(SynchronizationState state, int64_t height, int64_t timestamp, bool presync) override;\n \n     void progress(const bilingual_str& title, int progress_percent, bool resume_possible) override;\n+\n+    void warning(const bilingual_str& warning) override;",
      "path": "src/node/kernel_notifications.h",
      "position": 27,
      "original_position": 5,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "f871c69191dfe1331861ebcdbadb6bd47e45c8b1",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: could use `warn()` to avoid having an identical fn and param name (also more intuitive for a fn name imo, but that's personal)",
      "created_at": "2023-05-24T12:55:58Z",
      "updated_at": "2023-05-24T15:56:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1204082373",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1204082373"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 27,
      "original_line": 27,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1204148265",
      "pull_request_review_id": 1441753577,
      "id": 1204148265,
      "node_id": "PRRC_kwDOABII585Hxdgp",
      "diff_hunk": "@@ -17,6 +17,7 @@\n #include <signet.h>\n #include <streams.h>\n #include <undo.h>\n+#include <util/batchpriority.h>\n #include <util/fs.h>\n #include <util/syscall_sandbox.h>\n #include <util/system.h>",
      "path": "src/node/blockstorage.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "9ec5da36b62276ae22e348f26f88aaf646357d6d",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: I think this include is no longer necessary",
      "created_at": "2023-05-24T13:33:12Z",
      "updated_at": "2023-05-24T15:56:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1204148265",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1204148265"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 23,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1204278405",
      "pull_request_review_id": 1441753577,
      "id": 1204278405,
      "node_id": "PRRC_kwDOABII585Hx9SF",
      "diff_hunk": "@@ -55,7 +55,7 @@ FUZZ_TARGET_INIT(system, initialize_system)\n             [&] {\n                 const OptionsCategory options_category = fuzzed_data_provider.PickValueInArray<OptionsCategory>({OptionsCategory::OPTIONS, OptionsCategory::CONNECTION, OptionsCategory::WALLET, OptionsCategory::WALLET_DEBUG_TEST, OptionsCategory::ZMQ, OptionsCategory::DEBUG_TEST, OptionsCategory::CHAINPARAMS, OptionsCategory::NODE_RELAY, OptionsCategory::BLOCK_CREATION, OptionsCategory::RPC, OptionsCategory::GUI, OptionsCategory::COMMANDS, OptionsCategory::REGISTER_COMMANDS, OptionsCategory::HIDDEN});\n                 // Avoid hitting:\n-                // util/system.cpp:425: void ArgsManager::AddArg(const std::string &, const std::string &, unsigned int, const OptionsCategory &): Assertion `ret.second' failed.\n+                // common/args.cpp:563: void ArgsManager::AddArg(const std::string &, const std::string &, unsigned int, const OptionsCategory &): Assertion `ret.second' failed.",
      "path": "src/test/fuzz/system.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: I think adding line number is unmaintainable, would suggest leaving it out (+ a few lines down). Even the filename is probably not even necessary, but less of a problem.",
      "created_at": "2023-05-24T14:36:36Z",
      "updated_at": "2023-05-24T15:56:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1204278405",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1204278405"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 58,
      "original_line": 58,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1204902245",
      "pull_request_review_id": 1442949109,
      "id": 1204902245,
      "node_id": "PRRC_kwDOABII585H0Vll",
      "diff_hunk": "@@ -80,12 +82,22 @@ int main(int argc, char* argv[])\n \n     GetMainSignals().RegisterBackgroundSignalScheduler(scheduler);\n \n+    class KernelNotifications : public kernel::Notifications\n+    {\n+    public:\n+        void blockTip(SynchronizationState, CBlockIndex&) override",
      "path": "src/bitcoin-chainstate.cpp",
      "position": 28,
      "original_position": 23,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "447761c8228d58f948aae7e73ed079c028cacb97",
      "in_reply_to_id": 1202937682,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Sure. I only asked because it looked like it was possible in this case. But this can be done after-the-fact if we decide that's what we want.\r\n\r\nLonger-term, we'd want to detach from our internal structures to avoid changing the abi every time we change something internally. So I don't imagine `CBlockIndex` ever being part of a public api. Maybe a trivial wrapper or something, but not CBlockIndex itself. (It's also worth keeping that in mind at this stage because that external-to-internal-component translation becomes part of the overhead of using the api)",
      "created_at": "2023-05-25T01:26:10Z",
      "updated_at": "2023-05-25T01:26:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1204902245",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1204902245"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 90,
      "original_line": 88,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1205046358",
      "pull_request_review_id": 1443159372,
      "id": 1205046358,
      "node_id": "PRRC_kwDOABII585H04xW",
      "diff_hunk": "@@ -17,6 +17,7 @@\n #include <signet.h>\n #include <streams.h>\n #include <undo.h>\n+#include <util/batchpriority.h>\n #include <util/fs.h>\n #include <util/syscall_sandbox.h>\n #include <util/system.h>",
      "path": "src/node/blockstorage.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "9ec5da36b62276ae22e348f26f88aaf646357d6d",
      "in_reply_to_id": 1204148265,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It's removed, no?",
      "created_at": "2023-05-25T06:23:10Z",
      "updated_at": "2023-05-25T06:23:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1205046358",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1205046358"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 23,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1205282280",
      "pull_request_review_id": 1443528251,
      "id": 1205282280,
      "node_id": "PRRC_kwDOABII585H1yXo",
      "diff_hunk": "@@ -17,6 +17,7 @@\n #include <signet.h>\n #include <streams.h>\n #include <undo.h>\n+#include <util/batchpriority.h>\n #include <util/fs.h>\n #include <util/syscall_sandbox.h>\n #include <util/system.h>",
      "path": "src/node/blockstorage.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "9ec5da36b62276ae22e348f26f88aaf646357d6d",
      "in_reply_to_id": 1204148265,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yeah you're right, I was leaving comments on a per-commit review basis, but it's removed later on in 7d3b35004b039f2bd606bb46a540de7babdbc41e . Can (should) be removed in this commit already, though. But no biggie either way.",
      "created_at": "2023-05-25T09:54:50Z",
      "updated_at": "2023-05-25T09:54:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1205282280",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1205282280"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 23,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1206033293",
      "pull_request_review_id": 1444696439,
      "id": 1206033293,
      "node_id": "PRRC_kwDOABII585H4puN",
      "diff_hunk": "@@ -80,12 +82,22 @@ int main(int argc, char* argv[])\n \n     GetMainSignals().RegisterBackgroundSignalScheduler(scheduler);\n \n+    class KernelNotifications : public kernel::Notifications\n+    {\n+    public:\n+        void blockTip(SynchronizationState, CBlockIndex&) override",
      "path": "src/bitcoin-chainstate.cpp",
      "position": 28,
      "original_position": 23,
      "commit_id": "7d3b35004b039f2bd606bb46a540de7babdbc41e",
      "original_commit_id": "447761c8228d58f948aae7e73ed079c028cacb97",
      "in_reply_to_id": 1202937682,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Will add this to the TODO section in the tracking issue.",
      "created_at": "2023-05-25T21:44:30Z",
      "updated_at": "2023-05-25T21:44:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1206033293",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1206033293"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27636"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 90,
      "original_line": 88,
      "side": "RIGHT"
    }
  ]
}